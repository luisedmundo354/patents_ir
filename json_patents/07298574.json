{
    "title": "Servo writing a disk drive using correction values that attenuate phase error propagation",
    "abstract": "Servo writing a disk of a disk drive is disclosed. A phase locked loop (PLL) is synchronized to first sectors previously written on a first track, and second sectors are written to a second track using the PLL, wherein a plurality of phase errors corresponding to the second sectors are saved. A correction value is computed corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector. The PLL is synchronized to the second sectors using the correction value, a third sector is written to a third track using the PLL, and a phase error is saved corresponding to the third sector.",
    "inventors": [
        "Melkote",
        "McNab"
    ],
    "document_number": "07298574",
    "publication_date": "20071120",
    "assignees": [
        "Western Digital Technologies, Inc."
    ],
    "claims": [
        {
            "claim_number": "CLM-00001",
            "preamble": "1. A method of servo writing a disk of a disk drive, the disk drive comprising the disk and a head actuated over the disk, the head comprising a read element and a write element, the method comprising:",
            "components": [
                {
                    "component": "positioning the read element over a first track on the disk and the write element over a second track on the disk;",
                    "subcomponents": []
                },
                {
                    "component": "synchronizing a phase locked loop (PLL) to first sectors previously written on the first track;",
                    "subcomponents": []
                },
                {
                    "component": "writing second sectors to the second track using the PLL, and saving a plurality of phase errors corresponding to the second sectors;",
                    "subcomponents": []
                },
                {
                    "component": "computing a correction value corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector;",
                    "subcomponents": []
                },
                {
                    "component": "positioning the read element over the second track on the disk and the write element over a third track on the disk;",
                    "subcomponents": []
                },
                {
                    "component": "synchronizing the PLL to the second sectors using the correction value; and",
                    "subcomponents": []
                },
                {
                    "component": "writing a third sector to the third track using the PLL, and saving a phase error corresponding to the third sector.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00002",
            "preamble": "2. The method as recited in claim 1 , wherein the correction value is at least partially computed according to:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00003",
            "preamble": "3. The method as recited in claim 1 , wherein the correction value is at least partially computed according to:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00004",
            "preamble": "4. The method as recited in claim 3 , wherein the constants \u03b1-\u03b1",
            "components": []
        },
        {
            "claim_number": "CLM-00005",
            "preamble": "5. A disk drive comprising:",
            "components": [
                {
                    "component": "(a) a disk;",
                    "subcomponents": []
                },
                {
                    "component": "(b) a head actuated over the disk, wherein the head comprises a read element and a write element; and",
                    "subcomponents": []
                },
                {
                    "component": "(c) control circuitry operable to servo write the disk by:",
                    "subcomponents": [
                        "positioning the read element over a first track on the disk and positioning the write element over a second track on the disk;",
                        "synchronizing a phase locked loop (PLL) to first sectors previously written on the first track;",
                        "writing second sectors to the second track using the PLL, and saving a plurality of phase errors corresponding to the second sectors;",
                        "computing a correction value corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector;",
                        "positioning the read element over the second track on the disk and the write element over a third track on the disk;",
                        "synchronizing the PLL to the second sectors using the correction value; and",
                        "writing a third sector to the third track using the PLL, and saving a phase error corresponding to the third sector."
                    ]
                },
                {
                    "component": "positioning the read element over a first track on the disk and positioning the write element over a second track on the disk;",
                    "subcomponents": []
                },
                {
                    "component": "synchronizing a phase locked loop (PLL) to first sectors previously written on the first track;",
                    "subcomponents": []
                },
                {
                    "component": "writing second sectors to the second track using the PLL, and saving a plurality of phase errors corresponding to the second sectors;",
                    "subcomponents": []
                },
                {
                    "component": "computing a correction value corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector;",
                    "subcomponents": []
                },
                {
                    "component": "positioning the read element over the second track on the disk and the write element over a third track on the disk;",
                    "subcomponents": []
                },
                {
                    "component": "synchronizing the PLL to the second sectors using the correction value; and",
                    "subcomponents": []
                },
                {
                    "component": "writing a third sector to the third track using the PLL, and saving a phase error corresponding to the third sector.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00006",
            "preamble": "6. The disk drive as recited in claim 5 , wherein the correction value is at least partially computed according to:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00007",
            "preamble": "7. The disk drive as recited in claim 5 , wherein the correction value is at least partially computed according to:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00008",
            "preamble": "8. The disk drive as recited in claim 7 , wherein the constants \u03b1-\u03b1",
            "components": []
        },
        {
            "claim_number": "CLM-00009",
            "preamble": "9. Control circuitry for use in a disk drive, the disk drive comprising a disk and a head actuated over the disk, wherein the head comprises a read element and a write element, the control circuitry operable to servo write the disk by:",
            "components": [
                {
                    "component": "positioning the read element over a first track on the disk and positioning the write element over a second track on the disk;",
                    "subcomponents": []
                },
                {
                    "component": "synchronizing a phase locked loop (PLL) to first sectors previously written on the first track;",
                    "subcomponents": []
                },
                {
                    "component": "writing second sectors to the second track using the PLL, and saving a plurality of phase errors corresponding to the second sectors;",
                    "subcomponents": []
                },
                {
                    "component": "computing a correction value corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector;",
                    "subcomponents": []
                },
                {
                    "component": "positioning the read element over the second track on the disk and the write element over a third track on the disk;",
                    "subcomponents": []
                },
                {
                    "component": "synchronizing the PLL to the second sectors using the correction value; and",
                    "subcomponents": []
                },
                {
                    "component": "writing a third sector to the third track using the PLL, and saving a phase error corresponding to the third sector.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00010",
            "preamble": "10. The control circuitry as recited in claim 9 , wherein the correction value is at least partially computed according to:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00011",
            "preamble": "11. The control circuitry as recited in claim 9 , wherein the correction value is at least partially computed according to:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00012",
            "preamble": "12. The control circuitry as recited in claim 11 , wherein the constants \u03b1-\u03b1",
            "components": []
        }
    ],
    "description": [
        "1. Field of the Invention",
        "The present invention relates to disk drives. More particularly, the present invention relates to servo writing a disk drive using correction values that compensate for phase errors.",
        "2. Description of the Prior Art",
        "Disk drives for computer systems comprise a disk for storing data and a head actuated radially over the disk for writing data to and reading data from the disk. To effectuate the radial positioning of the head over the disk, the head is connected to the distal end of an actuator arm which is rotated about a pivot by a rotary actuator (e.g., a voice coil motor (VCM)). The disk is typically divided into a number of concentric, radially spaced tracks, where each track is divided into a number of data sectors. The disk is typically accessed a data sector at a time by positioning the head over the track which comprises the target data sector. As the disk spins, the head writes transitions (e.g., magnetic transitions) in the data sector to record data, and during read operations senses the transitions to recover the recorded data.",
        "Accurate reproduction of the recorded data requires the head to be positioned very close to the centerline of the target data sector during both write and read operations. Thus, accessing a target data sector involves positioning or \u201cseeking\u201d the head to the target track, and then maintaining centerline \u201ctracking\u201d while data is written to or read from the disk. A closed loop servo system typically performs the seeking and tracking operations by controlling the rotary actuator in response to position information generated from the head.",
        "A well known technique for generating the head position control information is to record servo information in servo sectors disbursed circumferentially about the disk, \u201cembedded\u201d with the data sectors. This is illustrated in FIG. 1 which shows a disk 2 comprising a number of concentric tracks 4 and a number of embedded servo sectors 60-6N. Each servo sector 61 comprises a preamble 8, a sync mark 10, servo data 12, and servo bursts 14. The preamble 8 comprises a periodic pattern which allows proper gain adjustment and timing synchronization of the read signal, and the sync mark 10 comprises a special pattern for symbol synchronizing to the servo data 12. The servo data 12 comprises identification information, such as sector identification data and a track address. The servo control system reads the track address during seeks to derive a coarse position for the head with respect to the target track. The track addresses are recorded using a phase coherent Gray code so that the track addresses can be accurately detected when the head is flying between tracks. The servo bursts 14 in the servo sectors 6 comprise groups of consecutive transitions (e.g., A, B, C and D bursts) which are recorded at precise intervals and offsets with respect to the track centerline. Fine head position control information is derived from the servo bursts 14 for use in centerline tracking while writing data to and reading data from the target track.",
        "The embedded servo sectors 6 are written to the disk 2 as part of the manufacturing process. Conventionally, an external servo writer has been employed which writes the embedded servo sectors 6 to the disks by processing each head disk assembly (HDA) in an assembly line fashion. The external servo writers employ very precise head positioning mechanics, such as a laser interferometer, for positioning the head at precise radial locations with respect to previously servo-written tracks so as to achieve very high track densities. A clock track is written at the outer diameter of the disk, and a clock head inserted into the HDA to read the clock track in order to synchronize a phase locked loop (PLL) used to write the servo sectors at the appropriate circumferential location (so that the servo sectors are aligned radially across the disk as in FIG. 1). However, external servo writers are expensive and present a significant bottle neck to the manufacturing process. In addition, inserting a clock head into the HDA requires the servo writing process take place in a clean room environment to prevent particulate contamination.",
        "Certain \u201cself-servo writing\u201d techniques have been disclosed wherein components internal to the disk drive are employed to perform the servo writing process which avoids the drawbacks of external servo writers including the need for a clean room since self servo writing occurs within the sealed HDA. One technique for self servo writing propagates sectors (servo sectors and optional timing sectors) from a reference track (e.g., written at the outer diameter) across the disk radius (e.g., toward the inner diameter). While servoing on the reference track, a PLL is synchronized to the sectors written on the reference track which is used to propagate the sectors to an adjacent track. The read element of the head is then placed over the adjacent track and the write element over the next track, the PLL synchronized to the sectors previously written on the adjacent track, and the sectors propagated to the next track. This process is repeated until the sectors are propagated across the entire disk surface. A problem with this propagation technique is that certain components of the phase error (e.g., spindle harmonics, suspension vibration, sensor noise, etc.) are amplified due to the peaking nature of the PLL transfer function. These components of the phase error will propagate from track-to-track and grow unboundedly resulting in \u201cwandering\u201d servo sectors across the disk surface (not radially aligned as in FIG. 1).",
        "There is, therefore, a need to attenuate phase error propagation when self servo writing a disk drive by propagating sectors.",
        "An embodiment of the present invention comprises a method of servo writing a disk of a disk drive, wherein the disk drive comprises the disk and a head actuated over the disk, and the head comprises a read element and a write element. The read element is positioned over a first track on the disk and the write element is positioned over a second track on the disk. A phase locked loop (PLL) is synchronized to first sectors previously written on the first track, and second sectors are written to the second track using the PLL, wherein a plurality of phase errors corresponding to the second sectors are saved. A correction value is computed corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector. The read element is positioned over the second track on the disk and the write element over a third track on the disk, the PLL is synchronized to the second sectors using the correction value, a third sector is written to the third track using the PLL, and a phase error is saved corresponding to the third sector.",
        "In one embodiment, the correction value is at least partially computed according to:\n\n\u03b1\u25a1e(t+m)\n\nwhere \u03b1 is a constant and e(t+m) is the phase error generated for one of the second sectors leading the selected sector by m sectors. In one embodiment, the correction value is at least partially computed according to:\n\n\u03b10\u25a1e(t)+\u03b11\u25a1e(t+1)+ . . . \u03b1N\u25a1e(t+N)\n\nwhere \u03b1-\u03b1N are a plurality of constants selected to stabilize the PLL while attenuating phase error propagation from track-to-track.",
        "Another embodiment of the present invention comprises a disk drive including a disk and a head actuated over the disk, wherein the head comprises a read element and a write element. The read element is positioned over a first track on the disk and the write element is positioned over a second track on the disk. A phase locked loop (PLL) is synchronized to first sectors previously written on the first track, and second sectors are written to the second track using the PLL, wherein a plurality of phase errors corresponding to the second sectors are saved. A correction value is computed corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector. The read element is positioned over the second track on the disk and the write element over a third track on the disk, the PLL is synchronized to the second sectors using the correction value, a third sector is written to the third track using the PLL, and a phase error is saved corresponding to the third sector.",
        "Another embodiment of the present invention comprises control circuitry for servo writing a disk drive, the disk drive including a disk and a head actuated over the disk, wherein the head comprises a read element and a write element. The read element is positioned over a first track on the disk and the write element is positioned over a second track on the disk. A phase locked loop (PLL) is synchronized to first sectors previously written on the first track, and second sectors are written to the second track using the PLL, wherein a plurality of phase errors corresponding to the second sectors are saved. A correction value is computed corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector. The read element is positioned over the second track on the disk and the write element over a third track on the disk, the PLL is synchronized to the second sectors using the correction value, a third sector is written to the third track using the PLL, and a phase error is saved corresponding to the third sector.",
        "FIG. 1 shows a prior art disk format comprising a plurality of radially spaced, concentric servo tracks defined by a plurality of embedded servo sectors.",
        "FIG. 2A shows a disk drive according to an embodiment of the present invention comprising control circuitry for servo writing the disk.",
        "FIG. 2B is a flow diagram executed by the control circuitry to servo write the disk using correction values computed from phase errors generated for leading sectors.",
        "FIG. 3A illustrates the propagation of sectors during the servo writing process.",
        "FIG. 3B shows elements of a phase locked loop (PLL) used to propagate the sectors using correction values that compensate for written-in phase errors of previously written servo tracks.",
        "FIG. 4 shows an equivalent block diagram for the PLL of FIG. 3B.",
        "FIG. 2A shows a disk drive according to an embodiment of the present invention including a disk 16 and a head 18 actuated over the disk 16, wherein the head 18 comprises a read element 20A and a write element 20B (FIG. 3A). The disk drive further comprises control circuitry 22 for executing the flow diagram of FIG. 2B in order to write a plurality of servo sectors 240-24N to define a plurality of tracks 26. The read element 20A is positioned over a first track on the disk 16 and the write element 20B is positioned over a second track on the disk 16. At step 28 a phase locked loop (PLL) is synchronized to first sectors previously written on the first track, and at step 30 second sectors are written to the second track using the PLL, wherein a plurality of phase errors corresponding to the second sectors are saved. At step 32 a track index k is initialized to two. At step 34 a correction value is computed corresponding to a selected one of the second sectors, wherein the correction value is computed in response to a plurality of the phase errors generated for a plurality of the second sectors leading the selected sector. At step 36, the read element 20A is positioned over the second track on the disk and the write element over a third track on the disk, and the PLL is synchronized to the second sectors using the correction value. At step 38 a third sector is written to the third track using the PLL, and a phase error is saved corresponding to the third sector. At step 40 the track index k is incremented and steps 34-40 are re-executed until the entire disk 16 has been servo written.",
        "In the embodiment of FIG. 2A, the head 18 is connected to the distal end of an actuator arm 42 which is rotated about a pivot by a voice coil motor (VCM) 44 in order to actuate the head 18 radially over the disk 16. The control circuitry 22 processes the read signal 46 emanating from the head 18 to demodulate the position information recorded in the propagated sectors during the self servo writing operation (as well as the product servo sectors 240-24N during normal operation). The control circuitry 22 generates a control signal 48 applied to the VCM 44 in response to the position information in order to maintain the head 18 over a target radial location.",
        "Any suitable control circuitry 22 may be employed to implement the embodiments of the present invention. In one embodiment, the control circuitry 22 comprises a microprocessor executing instructions, the instructions being operable to cause the microprocessor to perform the steps of FIG. 2B as well as other functions described herein. The instructions may be stored in any computer-readable medium. In one embodiment, they may be stored on a non-volatile semiconductor memory external to the microprocessor, or integrated with the microprocessor in a system on a chip (SOC). In another embodiment, the instructions are stored on the disk 16 and read into a volatile semiconductor memory when the disk drive is powered on. In yet another embodiment, the control circuitry 22 comprises suitable logic circuitry, such as state machine circuitry.",
        "In one embodiment, the initial track (track 1) is written to the disk using an external servo writer or media writer. As illustrated in FIG. 3A, the initial track (track 1) comprises an initial plurality of sectors 50, wherein each sector 50 may comprise any suitable format. In one embodiment, each sector 50 comprises the same fields as a conventional servo sector 6 shown in FIG. 1, including a preamble 8 used to synchronize the PLL as well as servo bursts 14 for generating radial position information. In one embodiment, the propagated sectors 50 become the product servo sectors 24 (FIG. 2A) at the completion of the servo writing operation. In an alternative embodiment, an integer multiple of sectors 50 (e.g., twice as many product servo sectors 24) are propagated during the servo writing operation, wherein the extra sectors 50 are erased (or ignored) once the servo writing operation is complete. The extra sectors 50 provide additional timing and radial position information during the servo writing operation. In an alternative embodiment, at least one of the sectors 50 comprises only timing information for synchronizing the PLL.",
        "While propagating the sectors 50, the read element 20A is positioned over a previously written servo track in order to read the previously written sectors 50 for servoing the head 18 as well as synchronize the PLL. In the example of FIG. 3A, the read element 20A is positioned over track 2 while propagating the sectors 50 to track 3. As described in more detail below, when writing sector t to track 3, the PLL is synchronized using a correction value that compensates for phase errors written into track 2. The correction value is computed in response to a plurality of the phase errors generated while writing the sectors 50 to track 2, including a plurality of the sectors 50 leading sector t (e.g., t+1, t+2,. etc.).",
        "The PLL for servo writing the disk may comprise any suitable circuitry, and may be implemented in hardware or software, or a combination thereof. FIG. 3B shows an embodiment of the PLL including the disturbances due to spindle jitter 52, suspension vibration 54, and sensor noise 56. The PLL of FIG. 3B comprises a voltage controlled oscillator (VCO) 58 for generating a write clock 60 used to propagate the sectors 50 across the disk during the servo writing operation. The spindle jitter 52 adds phase error to the write clock 60 while writing the sectors \u03a6k+1 to the next track. The phase reference 62 for the PLL is generated by reading the sectors \u03a6k from the previously written track. The process of reading the previously written sectors results in sensor noise 56 which is added to the phase reference 62. A difference between the resulting phase reference and output signal 64 of the PLL generates a phase error 66 which is adjusted by the correction value 68 to generate an adjusted phase error ek 70. The adjusted phase error ek 70 is filtered by a compensator 72 to generate a VCO control signal 74. The noise generated by the suspension vibration 54 is represented as a disturbance added to the VCO control signal 74 resulting in the actual control signal 76 applied to the VCO 58.",
        "Denoting the transfer function of the VCO 58 as P and the transfer function of the compensator 72 as C, the sensitivity transfer function S is represented as:",
        "S\n  =\n  \n    1\n    \n      1\n      +\n      PC\n    \n  \n\n\n\n\nThe self-servo writing system can be represented equivalently as shown in FIG. 4, where the transfer function from \u03a6k and uk to the next written track \u03a6k+1 is the closed loop transfer function (1\u2212S), while the transfer function to the phase error ek is the sensitivity function S. The state space for sensitivity function S can be modeled as:\n\nxk(t+1)=Axk(t)+B{uk(t)+\u03a6k(t)}\n\nek(t)=Cxk(t)+D{Uk(t)+\u03a6k(t)}\u2003\u2003(1)\n\nIf the next track \u03a6k+1 is written on the first revolution while servoing on track \u03a6k, then following the iterative learning control (ILC) method, this system may be represented over one revolution of the disk. Defining:",
        "\u03a6\n                  k\n                \n                =\n                \n                  \u230a\n                  \n                    \n                      \n                        \n                          \n                            \n                              \n                                \n                                  \n                                    \n                                      \n                                        \u03a6\n                                        k\n                                      \n                                      \u2061\n                                      \n                                        (\n                                        0\n                                        )\n                                      \n                                    \n                                  \n                                \n                                \n                                  \n                                    \n                                      \n                                        \u03a6\n                                        k\n                                      \n                                      \u2061\n                                      \n                                        (\n                                        1\n                                        )\n                                      \n                                    \n                                  \n                                \n                              \n                            \n                          \n                          \n                            \n                              M\n                            \n                          \n                        \n                      \n                    \n                    \n                      \n                        \n                          \n                            \u03a6\n                            k\n                          \n                          \u2061\n                          \n                            (\n                            \n                              N\n                              -\n                              1\n                            \n                            )\n                          \n                        \n                      \n                    \n                  \n                  \u230b\n                \n              \n              ;\n            \n          \n          \n            \n              \n                \n                  e\n                  k\n                \n                =\n                \n                  \u230a\n                  \n                    \n                      \n                        \n                          \n                            \n                              \n                                \n                                  \n                                    \n                                      \n                                        e\n                                        k\n                                      \n                                      \u2061\n                                      \n                                        (\n                                        0\n                                        )\n                                      \n                                    \n                                  \n                                \n                                \n                                  \n                                    \n                                      \n                                        e\n                                        k\n                                      \n                                      \u2061\n                                      \n                                        (\n                                        1\n                                        )\n                                      \n                                    \n                                  \n                                \n                              \n                            \n                          \n                          \n                            \n                              M\n                            \n                          \n                        \n                      \n                    \n                    \n                      \n                        \n                          \n                            e\n                            k\n                          \n                          \u2061\n                          \n                            (\n                            \n                              N\n                              -\n                              1\n                            \n                            )\n                          \n                        \n                      \n                    \n                  \n                  \u230b\n                \n              \n              ;\n            \n          \n          \n            \n              \n                u\n                k\n              \n              =\n              \n                \u230a\n                \n                  \n                    \n                      \n                        \n                          \n                            \n                              \n                                \n                                  \n                                    \n                                      u\n                                      k\n                                    \n                                    \u2061\n                                    \n                                      (\n                                      0\n                                      )\n                                    \n                                  \n                                \n                              \n                              \n                                \n                                  \n                                    \n                                      u\n                                      k\n                                    \n                                    \u2061\n                                    \n                                      (\n                                      1\n                                      )\n                                    \n                                  \n                                \n                              \n                            \n                          \n                        \n                        \n                          \n                            M\n                          \n                        \n                      \n                    \n                  \n                  \n                    \n                      \n                        \n                          u\n                          k\n                        \n                        \u2061\n                        \n                          (\n                          \n                            N\n                            -\n                            1\n                          \n                          )\n                        \n                      \n                    \n                  \n                \n                \u230b\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        2\n        )\n      \n    \n  \n\n\n\n\nwhere N is the number of sectors in track k. The result is:\n\nek=HS(\u03a6k+uk)+\u0393sxk(0)\u2003\u2003(3)\n\nwhere:",
        "H\n            s\n          \n          =\n          \n            \u230a\n            \n              \n                \n                  D\n                \n                \n                  0\n                \n                \n                  K\n                \n                \n                  0\n                \n              \n              \n                \n                  CB\n                \n                \n                  D\n                \n                \n                  O\n                \n                \n                  M\n                \n              \n              \n                \n                  M\n                \n                \n                  O\n                \n                \n                  O\n                \n                \n                  0\n                \n              \n              \n                \n                  \n                    CA\n                    \n                      N\n                      -\n                      2\n                    \n                  \n                \n                \n                  L\n                \n                \n                  CB\n                \n                \n                  D\n                \n              \n            \n            \u230b\n          \n        \n        ;\n        \n          \n            \u0393\n            s\n          \n          =\n          \n            \u230a\n            \n              \n                \n                  C\n                \n              \n              \n                \n                  CA\n                \n              \n              \n                \n                  M\n                \n              \n              \n                \n                  \n                    CA\n                    \n                      N\n                      -\n                      1\n                    \n                  \n                \n              \n            \n            \u230b\n          \n        \n      \n    \n    \n      \n        (\n        4\n        )\n      \n    \n  \n\n\n\n\nFrom FIG. 4:\n\n\u03a6k+1=\u2212ek+\u03a6k+uk\u2003\u2003(5)",
        "Substituting equation (3) into equation (5):\n\n\u03a6k+1=(I\u2212Hs)\u03a6k+(I\u2212Hs)uk\u2212\u0393sxk(0)\u2003\u2003(6)",
        "Choosing the correction signal uk as:\n\nuk=Kek\u22121\u2003\u2003(7)\n\nor equivalently:\n\nuk+1=Kek\u2003\u2003(8)\n\nSubstituting for ek:",
        "u\n                  \n                    k\n                    +\n                    1\n                  \n                \n                =\n                \n                \u2062\n                \n                  K\n                  \u2062\n                  \n                    {\n                    \n                      \n                        \n                          H\n                          s\n                        \n                        \u2061\n                        \n                          (\n                          \n                            \n                              \u03a6\n                              k\n                            \n                            +\n                            \n                              u\n                              k\n                            \n                          \n                          )\n                        \n                      \n                      +\n                      \n                        \n                          \u0393\n                          s\n                        \n                        \u2062\n                        \n                          \n                            x\n                            k\n                          \n                          \u2061\n                          \n                            (\n                            0\n                            )\n                          \n                        \n                      \n                    \n                    }\n                  \n                \n              \n            \n          \n          \n            \n              \n                =\n                \n                \u2062\n                \n                  \n                    \n                      KH\n                      s\n                    \n                    \u2062\n                    \n                      \u03a6\n                      k\n                    \n                  \n                  +\n                  \n                    \n                      KH\n                      s\n                    \n                    \u2062\n                    \n                      u\n                      k\n                    \n                  \n                  +\n                  \n                    \n                      KT\n                      s\n                    \n                    \u2062\n                    \n                      \n                        x\n                        k\n                      \n                      \u2061\n                      \n                        (\n                        0\n                        )\n                      \n                    \n                  \n                \n              \n            \n          \n        \n      \n      \n        \n          (\n          9\n          )\n        \n      \n    \n  \n\n\n\n\nCombining equation (6) and equation (8) the dynamics of the system can be represented as:",
        "\u230a\n          \n            \n              \n                \n                  \u03a6\n                  \n                    k\n                    +\n                    1\n                  \n                \n              \n            \n            \n              \n                \n                  u\n                  \n                    k\n                    +\n                    1\n                  \n                \n              \n            \n          \n          \u230b\n        \n        =\n        \n          \n            \n              \u230a\n              \n                \n                  \n                    \n                      I\n                      -\n                      \n                        H\n                        s\n                      \n                    \n                  \n                  \n                    \n                      I\n                      -\n                      \n                        H\n                        s\n                      \n                    \n                  \n                \n                \n                  \n                    \n                      KH\n                      s\n                    \n                  \n                  \n                    \n                      KH\n                      s\n                    \n                  \n                \n              \n              \u230b\n            \n            \u2062\n            \n              \u230a\n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                  \n                \n                \n                  \n                    \n                      u\n                      k\n                    \n                  \n                \n              \n              \u230b\n            \n          \n          +\n          \n            \u230a\n            \n              \n                \n                  \n                    \n                      -\n                      \n                        \u0393\n                        s\n                      \n                    \n                    \u2062\n                    \n                      \n                        x\n                        k\n                      \n                      \u2061\n                      \n                        (\n                        0\n                        )\n                      \n                    \n                  \n                \n              \n              \n                \n                  \n                    K\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      \u0393\n                      s\n                    \n                    \u2062\n                    \n                      \n                        x\n                        k\n                      \n                      \u2061\n                      \n                        (\n                        0\n                        )\n                      \n                    \n                  \n                \n              \n            \n            \u230b\n          \n        \n      \n    \n    \n      \n        (\n        10\n        )\n      \n    \n  \n\n\n\n\nTo ensure stability while preventing phase error propagation the matrix K is chosen such that the matrix",
        "\u230a\n        \n          \n            \n              \n                I\n                -\n                \n                  H\n                  s\n                \n              \n            \n            \n              \n                I\n                -\n                \n                  H\n                  s\n                \n              \n            \n          \n          \n            \n              \n                KH\n                s\n              \n            \n            \n              \n                KH\n                s\n              \n            \n          \n        \n        \u230b\n      \n    \n    \n      \n        (\n        11\n        )\n      \n    \n  \n\n\n\n\nis stable.",
        "After seeking from the current track to the next track, it may be necessary to wait for one or more revolutions before commencing the servo track writing to allow the transients to decay. If so, the above equations need to be modified appropriately. For example, if the servo writing commences on the second revolution of the disk, then redefining equation (2) as:",
        "\u03a6\n                  k\n                \n                =\n                \n                  \u230a\n                  \n                    \n                      \n                        \n                          \n                            \n                              \n                                \n                                  \n                                    \n                                      \n                                        \u03a6\n                                        k\n                                      \n                                      \u2061\n                                      \n                                        (\n                                        N\n                                        )\n                                      \n                                    \n                                  \n                                \n                                \n                                  \n                                    \n                                      \n                                        \u03a6\n                                        k\n                                      \n                                      \u2061\n                                      \n                                        (\n                                        \n                                          N\n                                          +\n                                          1\n                                        \n                                        )\n                                      \n                                    \n                                  \n                                \n                              \n                            \n                          \n                          \n                            \n                              M\n                            \n                          \n                        \n                      \n                    \n                    \n                      \n                        \n                          \n                            \u03a6\n                            k\n                          \n                          \u2061\n                          \n                            (\n                            \n                              \n                                2\n                                \u2062\n                                N\n                              \n                              -\n                              1\n                            \n                            )\n                          \n                        \n                      \n                    \n                  \n                  \u230b\n                \n              \n              ;\n            \n          \n          \n            \n              \n                \n                  e\n                  k\n                \n                =\n                \n                  \u230a\n                  \n                    \n                      \n                        \n                          \n                            \n                              \n                                \n                                  \n                                    \n                                      \n                                        e\n                                        k\n                                      \n                                      \u2061\n                                      \n                                        (\n                                        N\n                                        )\n                                      \n                                    \n                                  \n                                \n                                \n                                  \n                                    \n                                      \n                                        e\n                                        k\n                                      \n                                      \u2061\n                                      \n                                        (\n                                        \n                                          N\n                                          +\n                                          1\n                                        \n                                        )\n                                      \n                                    \n                                  \n                                \n                              \n                            \n                          \n                          \n                            \n                              M\n                            \n                          \n                        \n                      \n                    \n                    \n                      \n                        \n                          \n                            e\n                            k\n                          \n                          \u2061\n                          \n                            (\n                            \n                              \n                                2\n                                \u2062\n                                N\n                              \n                              -\n                              1\n                            \n                            )\n                          \n                        \n                      \n                    \n                  \n                  \u230b\n                \n              \n              ;\n            \n          \n          \n            \n              \n                u\n                k\n              \n              =\n              \n                \u230a\n                \n                  \n                    \n                      \n                        \n                          \n                            \n                              \n                                \n                                  \n                                    \n                                      u\n                                      k\n                                    \n                                    \u2061\n                                    \n                                      (\n                                      N\n                                      )\n                                    \n                                  \n                                \n                              \n                              \n                                \n                                  \n                                    \n                                      u\n                                      k\n                                    \n                                    \u2061\n                                    \n                                      (\n                                      \n                                        N\n                                        +\n                                        1\n                                      \n                                      )\n                                    \n                                  \n                                \n                              \n                            \n                          \n                        \n                        \n                          \n                            M\n                          \n                        \n                      \n                    \n                  \n                  \n                    \n                      \n                        \n                          u\n                          k\n                        \n                        \u2061\n                        \n                          (\n                          \n                            \n                              2\n                              \u2062\n                              N\n                            \n                            -\n                            1\n                          \n                          )\n                        \n                      \n                    \n                  \n                \n                \u230b\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        12\n        )\n      \n    \n  \n\n\n\n\nthe dynamic model is represented as:",
        "\u230a\n          \n            \n              \n                \n                  \u03a6\n                  \n                    k\n                    +\n                    1\n                  \n                \n              \n            \n            \n              \n                \n                  u\n                  \n                    k\n                    +\n                    1\n                  \n                \n              \n            \n          \n          \u230b\n        \n        =\n        \n          \n            \n              \u230a\n              \n                \n                  \n                    \n                      I\n                      -\n                      \n                        H\n                        s\n                      \n                    \n                  \n                  \n                    \n                      I\n                      -\n                      \n                        H\n                        s\n                      \n                    \n                  \n                \n                \n                  \n                    \n                      KH\n                      s\n                    \n                  \n                  \n                    \n                      KH\n                      s\n                    \n                  \n                \n              \n              \u230b\n            \n            \u2062\n            \n              \u230a\n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                  \n                \n                \n                  \n                    \n                      u\n                      k\n                    \n                  \n                \n              \n              \u230b\n            \n          \n          +\n          \n            \u230a\n            \n              \n                \n                  \n                    \n                      -\n                      \n                        \u0393\n                        s\n                      \n                    \n                    \u2062\n                    \n                      \n                        x\n                        k\n                      \n                      \u2061\n                      \n                        (\n                        N\n                        )\n                      \n                    \n                  \n                \n              \n              \n                \n                  \n                    K\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      \u0393\n                      s\n                    \n                    \u2062\n                    \n                      \n                        x\n                        k\n                      \n                      \u2061\n                      \n                        (\n                        N\n                        )\n                      \n                    \n                  \n                \n              \n            \n            \u230b\n          \n        \n      \n    \n    \n      \n        (\n        13\n        )\n      \n    \n  \n\n\n\n\nwhere xk(N) is the state vector of the sensitivity function on the Nth sample. However, since \u03a6k and uk are both repetitive signals, the values of yk and uk in equation (2) are the same as in equation (12) which means:",
        "\u230a\n            \n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      0\n                      )\n                    \n                  \n                \n              \n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      1\n                      )\n                    \n                  \n                \n              \n              \n                \n                  M\n                \n              \n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      \n                        N\n                        -\n                        1\n                      \n                      )\n                    \n                  \n                \n              \n            \n            \u230b\n          \n          =\n          \n            \u230a\n            \n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      N\n                      )\n                    \n                  \n                \n              \n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      \n                        N\n                        +\n                        1\n                      \n                      )\n                    \n                  \n                \n              \n              \n                \n                  M\n                \n              \n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      \n                        \n                          2\n                          \u2062\n                          \n                            \n                          \n                          \u2062\n                          N\n                        \n                        -\n                        1\n                      \n                      )\n                    \n                  \n                \n              \n            \n            \u230b\n          \n        \n        ;\n        \n          \n            \u230a\n            \n              \n                \n                  \n                    \n                      u\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      0\n                      )\n                    \n                  \n                \n              \n              \n                \n                  \n                    \n                      u\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      1\n                      )\n                    \n                  \n                \n              \n              \n                \n                  M\n                \n              \n              \n                \n                  \n                    \n                      u\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      \n                        N\n                        -\n                        1\n                      \n                      )\n                    \n                  \n                \n              \n            \n            \u230b\n          \n          =\n          \n            \u230a\n            \n              \n                \n                  \n                    \n                      u\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      N\n                      )\n                    \n                  \n                \n              \n              \n                \n                  \n                    \n                      u\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      \n                        N\n                        +\n                        1\n                      \n                      )\n                    \n                  \n                \n              \n              \n                \n                  M\n                \n              \n              \n                \n                  \n                    \n                      u\n                      k\n                    \n                    \u2061\n                    \n                      (\n                      \n                        \n                          2\n                          \u2062\n                          N\n                        \n                        -\n                        1\n                      \n                      )\n                    \n                  \n                \n              \n            \n            \u230b\n          \n        \n      \n    \n    \n      \n        (\n        14\n        )\n      \n    \n  \n\n\n\n\nHowever, the phase error ek defined by equation (12) is not the same as in equation (2). The value of the state of the sensitivity function S on the Nth sample of track following is related to the initial condition by:\n\nxk(N)=ANxk(0)+\u03bb(\u03a6k+uk)\u2003\u2003(15)\n\nwhere:\n\n\u03bb=[B AB L AN\u22121B]\u2003\u2003(16)\n\nSubstituting equation (15) into equation (13), the modified dynamics are:",
        "\u230a\n          \n            \n              \n                \n                  \u03a6\n                  \n                    k\n                    +\n                    1\n                  \n                \n              \n            \n            \n              \n                \n                  u\n                  \n                    k\n                    +\n                    1\n                  \n                \n              \n            \n          \n          \u230b\n        \n        =\n        \n          \n            \n              \u230a\n              \n                \n                  \n                    \n                      I\n                      -\n                      \n                        H\n                        s\n                      \n                      -\n                      \n                        \n                          \u0393\n                          s\n                        \n                        \u2062\n                        \u03bb\n                      \n                    \n                  \n                  \n                    \n                      I\n                      -\n                      \n                        H\n                        s\n                      \n                      -\n                      \n                        \n                          \u0393\n                          s\n                        \n                        \u2062\n                        \u03bb\n                      \n                    \n                  \n                \n                \n                  \n                    \n                      \n                        KH\n                        s\n                      \n                      +\n                      \n                        K\n                        \u2062\n                        \n                          \n                        \n                        \u2062\n                        \n                          \u0393\n                          s\n                        \n                        \u2062\n                        \u03bb\n                      \n                    \n                  \n                  \n                    \n                      \n                        KH\n                        s\n                      \n                      +\n                      \n                        K\n                        \u2062\n                        \n                          \n                        \n                        \u2062\n                        \n                          \u0393\n                          s\n                        \n                        \u2062\n                        \u03bb\n                      \n                    \n                  \n                \n              \n              \u230b\n            \n            \u2062\n            \n              \u230a\n              \n                \n                  \n                    \n                      \u03a6\n                      k\n                    \n                  \n                \n                \n                  \n                    \n                      u\n                      k\n                    \n                  \n                \n              \n              \u230b\n            \n          \n          +\n          \n            \u230a\n            \n              \n                \n                  \n                    \n                      -\n                      \n                        \u0393\n                        s\n                      \n                    \n                    \u2062\n                    \n                      \n                        x\n                        k\n                      \n                      \u2061\n                      \n                        (\n                        0\n                        )\n                      \n                    \n                  \n                \n              \n              \n                \n                  \n                    K\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      \u0393\n                      s\n                    \n                    \u2062\n                    \n                      \n                        x\n                        k\n                      \n                      \u2061\n                      \n                        (\n                        0\n                        )\n                      \n                    \n                  \n                \n              \n            \n            \u230b\n          \n        \n      \n    \n    \n      \n        (\n        17\n        )\n      \n    \n  \n\n\n\n\nIn this case, to prevent phase error propagation the matrix K should be selected such that the matrix",
        "A\n          _\n        \n        =\n        \n          \u230a\n          \n            \n              \n                \n                  I\n                  -\n                  \n                    H\n                    s\n                  \n                  -\n                  \n                    \n                      \u0393\n                      s\n                    \n                    \u2062\n                    \u03bb\n                  \n                \n              \n              \n                \n                  I\n                  -\n                  \n                    H\n                    s\n                  \n                  -\n                  \n                    \n                      \u0393\n                      s\n                    \n                    \u2062\n                    \u03bb\n                  \n                \n              \n            \n            \n              \n                \n                  \n                    KH\n                    s\n                  \n                  +\n                  \n                    K\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      \u0393\n                      s\n                    \n                    \u2062\n                    \u03bb\n                  \n                \n              \n              \n                \n                  \n                    KH\n                    s\n                  \n                  +\n                  \n                    K\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      \u0393\n                      s\n                    \n                    \u2062\n                    \u03bb\n                  \n                \n              \n            \n          \n          \u230b\n        \n      \n    \n    \n      \n        (\n        18\n        )\n      \n    \n  \n\n\n\n\nis stable. For a typical PLL, the following Toeplitz matrix stabilizes the matrix \u0100",
        "K\n        =\n        \n          \u230a\n          \n            \n              \n                \n                  \u03b1\n                  0\n                \n              \n              \n                \n                  \u03b1\n                  1\n                \n              \n              \n                \n                  \u03b1\n                  2\n                \n              \n              \n                \n                  \u03b1\n                  3\n                \n              \n              \n                L\n              \n              \n                0\n              \n            \n            \n              \n                0\n              \n              \n                \n                  \u03b1\n                  0\n                \n              \n              \n                \n                  \u03b1\n                  1\n                \n              \n              \n                \n                  \u03b1\n                  2\n                \n              \n              \n                O\n              \n              \n                \n                  \n                \n              \n            \n            \n              \n                0\n              \n              \n                0\n              \n              \n                \n                  \u03b1\n                  0\n                \n              \n              \n                \n                  \u03b1\n                  1\n                \n              \n              \n                O\n              \n              \n                \n                  \n                \n              \n            \n            \n              \n                0\n              \n              \n                0\n              \n              \n                0\n              \n              \n                \n                  \u03b1\n                  0\n                \n              \n              \n                O\n              \n              \n                \n                  \n                \n              \n            \n            \n              \n                M\n              \n              \n                M\n              \n              \n                O\n              \n              \n                O\n              \n              \n                O\n              \n              \n                \n                  \n                \n              \n            \n            \n              \n                \n                  \u03b1\n                  1\n                \n              \n              \n                \n                  \u03b1\n                  2\n                \n              \n              \n                \n                  \u03b1\n                  3\n                \n              \n              \n                L\n              \n              \n                0\n              \n              \n                \n                  \u03b1\n                  0\n                \n              \n            \n          \n          \u230b\n        \n      \n    \n    \n      \n        (\n        19\n        )\n      \n    \n  \n\n\n\n\nThe matrix K of equation (19) corresponds to the following correction values:\n\nuk+1(t)=\u03b10ek(t)+\u03b11ek(t+1)+\u03b12ek(t+2)+\u03b13ek(t+3)\u2003\u2003(20)",
        "The above equation means that the correction value for a sector t on track k+1 is generated in response to a plurality of the phase errors ek generated for a plurality of the sectors 50 leading the sector t on the previously servo written track k (see the above description of FIG. 3A). That is, the above equation is non-causal as compared to a conventional compensation filter determined using frequency domain analysis.",
        "In one embodiment, the sectors 50 are propagated in an interleaved manner. For example, referring again to FIG. 3A the even numbered sectors 50 may be read while writing the odd numbered sectors 50 during a first revolution of the disk, and then the odd numbered sectors 50 may be read while writing the even numbered sectors 50 during a second revolution of the disk. In this embodiment, the sectors in the above equations represent consecutive even numbered sectors or consecutive odd numbered sectors."
    ],
    "citations": [
        "5576906",
        "5668679",
        "5696639",
        "5754352",
        "5901003",
        "5991115",
        "6069499",
        "6075668",
        "6078450",
        "6091564",
        "6101055",
        "6191906",
        "6249395",
        "6252732",
        "6259574",
        "6292318",
        "6304407",
        "6307697",
        "6324027",
        "6366225",
        "6411453",
        "6429989",
        "6507450",
        "6519107",
        "6587293",
        "6704156",
        "6710951",
        "6735031",
        "6738205",
        "6771443",
        "6785075",
        "6898035",
        "6924960",
        "6943978",
        "6987639",
        "7199959",
        "2002/0101672",
        "2002/0145817",
        "2003/0048562",
        "2005/0105200",
        "00199628",
        "00721184"
    ],
    "us_classification": "360 75",
    "international_classifications": [
        {
            "classification_level": "A",
            "section": "G",
            "classification_class": "11",
            "subclass": "B",
            "main_group": "21",
            "subgroup": "02"
        }
    ]
}