{
    "title": "Method and apparatus for outputting audio signal",
    "abstract": "A method and an apparatus for outputting an audio signal are provided. The apparatus includes a power source; a compensator for compensating an input signal by adding the input signal to an offset value reciprocally proportional to a source voltage; a pulse width modulator for modulating an audio signal transmitted from the compensator; and an output stage for outputting the modulated audio signal. Accordingly, audio quality can be improved directly for a listener by compensating the input signal damaged by periodical voltage drops.",
    "inventors": [
        "Oh",
        "Yang",
        "Ko"
    ],
    "document_number": "07298204",
    "publication_date": "20071120",
    "assignees": [
        "Pulsus Technologies"
    ],
    "claims": [
        {
            "claim_number": "CLM-00001",
            "preamble": "1. An apparatus for outputting an audio signal comprising:",
            "components": [
                {
                    "component": "a power source;",
                    "subcomponents": []
                },
                {
                    "component": "a compensator for compensating an input signal by adding the input signal to an offset value reciprocally proportional to a source voltage;",
                    "subcomponents": []
                },
                {
                    "component": "a pulse width modulator for modulating an audio signal transmitted from the compensator; and",
                    "subcomponents": []
                },
                {
                    "component": "an output stage for outputting the modulated audio signal.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00002",
            "preamble": "2. The apparatus of claim 1 , wherein the compensator adds the offset value to a value obtained by dividing the input signal by the source voltage.",
            "components": []
        },
        {
            "claim_number": "CLM-00003",
            "preamble": "3. The apparatus of claim 1 , wherein an analogue digital converter is connected between the power source and the compensator.",
            "components": []
        },
        {
            "claim_number": "CLM-00004",
            "preamble": "4. The apparatus of claim 1 , wherein a scaler or normalizer is connected between the power source and the compensator.",
            "components": []
        },
        {
            "claim_number": "CLM-00005",
            "preamble": "5. The apparatus of claim 1 , wherein the input signal is a pulse code modulated signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00006",
            "preamble": "6. The apparatus of claim 1 , wherein a noise shaper is connected between the compensator and the pulse width modulator.",
            "components": []
        },
        {
            "claim_number": "CLM-00007",
            "preamble": "7. The apparatus of claim 1 , wherein the compensator compensates the input signal according to the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, and y is a value obtained by AD converting the source voltage.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00008",
            "preamble": "8. The apparatus of claim 1 , wherein the compensator compensates the input signal according to the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, and y is a value obtained by AD converting the source voltage.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00009",
            "preamble": "9. The apparatus of claim 1 , wherein the compensator compensates the input signal according to the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, y is a value obtained by AD converting the source voltage, F(y)=0 when y is 1, and y is a normalized value.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00010",
            "preamble": "10. The apparatus of claim 1 , wherein the compensator compensates the input signal according to the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, and y is a value obtained by AD converting the source voltage.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00011",
            "preamble": "11. The apparatus of claim 1 , wherein the compensator compensates the input signal according to the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, and y is a value obtained by AD converting the source voltage.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00012",
            "preamble": "12. The apparatus of claim 1 , wherein the compensator compensates the input signal according to the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, F(y)=0 when y is 1, and y is a normalized value.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00013",
            "preamble": "13. The apparatus of claim 1 , wherein the input signal input into the compensator is a signal that is input during a burst period of a mobile communication terminal.",
            "components": []
        },
        {
            "claim_number": "CLM-00014",
            "preamble": "14. A method of outputting an audio signal, the method comprising steps of:",
            "components": [
                {
                    "component": "compensating an input signal by adding a value reciprocally proportional to a source voltage to the input signal;",
                    "subcomponents": []
                },
                {
                    "component": "pulse width modulating the compensated signal to output the pulse width modulated signal.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00015",
            "preamble": "15. The method of claim 14 , wherein the source voltage is scaled or normalized.",
            "components": []
        },
        {
            "claim_number": "CLM-00016",
            "preamble": "16. The method of claim 14 , wherein in the step of compensating the signal, the offset value is added to a value obtained by dividing the input signal by the voltage.",
            "components": []
        },
        {
            "claim_number": "CLM-00017",
            "preamble": "17. The method of claim 14 , wherein the input signal is a pulse code modulated signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00018",
            "preamble": "18. The method of claim 14 , wherein in the step of compensating the signal, the input signal is compensated by the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, and y is a value obtained by AD converting the source voltage.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00019",
            "preamble": "19. The method of claim 14 , wherein in the step of compensating the signal, the input signal is compensated by the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, and y is a value obtained by AD converting the source voltage.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00020",
            "preamble": "20. The method of claim 14 , wherein in the step of compensating the signal, the input signal is compensated by the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, y is a value obtained by AD converting the source voltage, F(y)=0 when y is 1, and y is a normalized value.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00021",
            "preamble": "21. The method of claim 14 , wherein in the step of compensating the signal, the input signal is compensated by the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, and y is a value obtained by AD converting the source voltage.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00022",
            "preamble": "22. The method of claim 14 , wherein in the step of compensating the signal, the input signal is compensated by the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, and y is a value obtained by AD converting the source voltage.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00023",
            "preamble": "23. The method of claim 14 , wherein in the step of compensating the signal, the input signal is compensated by the following compensation equation:",
            "components": [
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "wherein z is a compensated value, x is the input signal, A is the offset value, y is a value obtained by AD converting the source voltage, F(y)=0 when y is 1, and y is a normalized value.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00024",
            "preamble": "24. The method of claim 14 , wherein the input signal input in the step of compensating the signal is a signal that is input during a burst period of a mobile communication terminal.",
            "components": []
        }
    ],
    "description": [
        "1. Technical Field",
        "The present invention relates to a method and an apparatus for outputting an audio signal, and more particularly, to a method and an apparatus for outputting an audio signal capable of removing noise generated when the audio signal is generated.",
        "2. Related Art",
        "As techniques of processing a digital signal have been developed, a method of processing an audio signal that employs a digital processing technique has also been developed. In a method of outputting a digital audio signal, a method of converting an analogue audio signal into a digital signal includes a pulse code modulation method. In the PCM method, the audio signal is digitalized, transmitted and accumulated.",
        "A digital audio power amplifier that employs a digital pulse width modulation (PWM) method is used to output the pulse code modulated audio signal obtained in the PCM method with high reliability.",
        "The high reliability of the digital audio power amplifier using the PWM method depends on a high accuracy DC source. Accordingly, any ripple caused by the power source influences on the PWM digital audio power amplifier. That is, the output audio signal may be damaged by the ripple of the power source.",
        "Therefore, methods for solving the aforementioned problem have been suggested. First, a method of compensating for a damage of an audio signal due to a ripple of a power source is disclosed in U.S. Pat. No. 5,559,467, entitled \u201cDigital, Pulse width modulation audio power amplifier with noise and ripple shaping\u201d issued to Smedley. As disclosed in the U.S. Patent issued to Smedley, a divider outputs a value obtained by dividing an audio input signal x, which is over sampled and transmitted, by a source signal y. The source signal y is converted into a digital source signal by an analogue to digital (AD) converter and supplied, thereby generating the ripple.",
        "That is, a relation z=x/y is satisfied. However, the PWM signal increases or decreases depending on a duty ratio with respect to the PCM signal that is the input signal x, and the duty ratio is non-zero during a PWM operation. However, the aforementioned equation suggested by Smedley does not consider the duty ratio of the PWM.",
        "Accordingly, perfect compensation with respect to the PWM value cannot be obtained according to the U.S. Patent issued to Smedley.",
        "There are practical problems caused by the source ripple in various fields in which the apparatus for outputting a digital audio signal is used. In a TDMA transmission method that is one of multiple access methods in mobile communication networks, a voltage drop due to a TDMA burst periodically occurs, thereby generating noise in an output audio signal.",
        "To solve the problem, there is provided a technique. The technique is disclosed in Korean Patent Application No.2005-0003647 entitled \u201cMethod of removing noise from communication terminal\u201d filed by Woongkil Choi. As disclosed in the Korean Patent Application, audio output noise is removed by applying an offset voltage during a burst period to reduce a battery voltage drop.",
        "However, in the Korean Patent Application, only a source voltage drop is compensated, and however, the noise caused by the TDMA burst ripple is not prevented from being introduced into the audio output signal.",
        "The present invention provides a method and an apparatus for outputting an audio signal capable of removing noise of the audio signal caused by voltage drops.",
        "According to an aspect of the present invention, there is provided an apparatus for outputting an audio signal comprising: a power source; a compensator for compensating an input signal by adding the input signal to an offset value reciprocally proportional to a source voltage; a pulse width modulator for modulating an audio signal transmitted from the compensator; and an output stage for outputting the modulated audio signal.",
        "According to another aspect of the present invention, there is provided a method of outputting an audio signal, the method comprising steps of: compensating a signal by adding a value reciprocally proportional to a source voltage to an input signal; pulse width modulating the compensated signal to output the pulse width modulated signal.",
        "Accordingly, the method and the apparatus for outputting the audio signal remove noise caused by drops of a source voltage.",
        "In the above aspect of the present invention, the compensator may add the offset value to a value obtained by dividing the input signal by the source voltage, and an analogue digital converter may be connected between the power source and the compensator. In addition, a scaler or normalizer may be connected between the power source and the compensator, the input signal may be a pulse code modulated signal, a noise shaper may be connected between the compensator and the pulse width modulator, and the input signal input in the step of compensating the signal is a signal that is input during a burst period of a mobile communication terminal.",
        "The above and other features and advantages of the present invention will become more apparent by describing in detail exemplary embodiments thereof with reference to the attached drawings in which:",
        "FIG. 1 is a block diagram illustrating an apparatus for outputting an audio signal according to an embodiment of the present invention;",
        "FIG. 2 is a block diagram illustrating an apparatus for outputting an audio signal according to another embodiment of the present invention;",
        "FIG. 3a is a view for illustrating a PWM area change due to a voltage drop;",
        "FIG. 3b is a view for illustrating a case where an equation z=x/y is applied to a PWM area change due to a voltage drop;",
        "FIG. 3c is a view for illustrating a practical compensation relation in a case where an equation z=x/y is applied to a PWM area change due to a voltage drop;",
        "FIG. 4a is a graph for illustrating a voltage drop and au audio signal change when the audio signal is output according to a prior art;",
        "FIG. 4b is a graph for illustrating a voltage drop and an audio signal change when the audio signal is output according to an embodiment of the present invention;",
        "FIG. 5a shows a frequency spectrum of a ripple when an audio signal is output according to a prior art; and",
        "FIG. 5b shows a frequency spectrum of a ripple when an audio signal is output according to an embodiment of the present invention.",
        "Hereinafter, an apparatus for outputting an audio signal according to an embodiment of the present invention will be described.",
        "FIG. 1 is a block diagram illustrating an apparatus for outputting an audio signal according to a first embodiment of the present invention. As shown in FIG. 1, the apparatus for outputting the audio signal according to an embodiment of the present invention includes a power source 200. The power source 200 supplies DC power. The power source 200 generates driving power and supplies the driving power to an output stage 212 and an AD converter 206. Then, a voltage drop occurs in the voltage supplied by the power source 200. The voltage drop periodically occurs whenever the audio signal is output.",
        "The input audio signal is over sampled and pulse code modulated by an over sampler 202. The apparatus includes a compensator 204 which receives the pulse code modulated signal as an input signal and a voltage output from an AD converter 206.",
        "The compensator 204 compensates the PCM signal according to a predetermined compensation equation. According to the compensation equation, the audio signal is compensated by adding the input signal to an offset value reciprocally proportional to the source voltage. The compensation equation will be described in detail in the following.",
        "A noise shaper 208 may be connected to the output of the compensator 204. The noise shaper 208 attenuates the noise of the compensated PCM signal. A PWM modulator 210 is connected to the output of the noise shaper 208. The PWM modulator 210 modulates pulse width of the PCM signal to supply the pulse width modulated PCM signal to an output stage 212. Accordingly, the output stage 212 is connected to the output of the PWM modulator 210 and outputs the finally compensated digital audio signal.",
        "FIG. 2 is a block diagram illustrating an apparatus for outputting an audio signal according to another embodiment of the present invention. In FIG. 2, a scaler 300 is connected between the AD converter 206 and the compensator 204. The scaler 300 may be connected between the power source 200 and the AD converter 206. A normalizer may be selectively connected to any location between the power source 200 and the compensator 204.",
        "The scaler 300 is used to scale the output value of the power source, and the normalizer is used to normalize the output value of the power source. Specifically, when voltage drops are different depending on types of the apparatus for outputting the audio signal, the normalizer and the scaler 300 equalizes the voltage drops to suitably compensate the audio signal depending on the noise. In addition, when the voltage drops are abnormally high, the normalizer and the scaler 300 also have a function of suppressing a sharp compensation of the audio signal due to the voltage drop.",
        "Hereinafter, a method of outputting an audio signal and a method of compensating the audio signal performed by the compensator 204 and the aforementioned compensation equation will be described.",
        "FIG. 3a is a view for illustrating a PWM area change due to a voltage drop.",
        "As shown in FIG. 3a, when a source voltage value input through an AD converter 206 is 1, the PWM area is 1\u00d7(N+x)=N+x with respect to a PCM signal x. Here, N is a PWM value corresponding to a duty ratio.",
        "When a voltage drop occurs in a voltage supplied by the power source 200, that is, a voltage value input through the AD converter 206 decreases to y, the PWM area is y\u00d7(N+x) with respect to a PCM signal x.",
        "That is, when the voltage drop occurs, and noise occurs in the audio signal, the PWM area decreases from A+B to B by A. Accordingly, in order to compensate for the reduced area and remove the noise, the PCM signal x is converted into a signal z so that the area of A is an area C.",
        "Hereinafter, the compensation equation according to the embodiment of the present invention will be derived on the basis of the aforementioned area change. The compensated value z satisfies the area relation A+B=B+C. Accordingly, the compensated value z is derived by Equation 1.\n\n1\u00d7(N+x)=y\u00d7(N+z),\n\nN+x=y\u00d7N+y\u00d7z,\n\nN+x\u2212y\u00d7N=y\u00d7z,\n\nX+N\u00d7(1\u2212y)=y\u00d7z\u2003\u2003[Equation 1]",
        "According to Equation 1, the compensated value is defined by Equation 2.\n\nZ=x/y+N\u00d7(1\u2212y)/y\u2003\u2003[Equation 2]",
        "Here, as described above, N is the PWM value corresponding to a duty ratio. Accordingly, N is set as an offset value A that is a predetermined constant. When the voltage is dropped, the compensator 204 outputs the compensated PCM signal obtained by compensating the input PCM signal according to Equation 2.",
        "On the other hand, the compensation equation z=x/y in the U.S. Patent issued to Smedley is less effective as compared with the compensation equation according to the embodiment of the present invention. This is described by using the PWM area change, again. FIG. 3b is a view for illustrating a case where an equation z=x/y is applied to a PWM area change due to a voltage drop.",
        "As shown in FIG. 3b, since the compensation equation z=x/y has to satisfies the equation A+B=B+C, z is obtained by an equation 1\u00d7x=y\u00d7z. However, a method of converting the PCM signal into the PWM signal is performed as shown in FIG. 3a. Specifically, the PWM signal increases or decreases by the duty ratio \u201cN\u201d of the PWM value as a center value with respect to the PCM signal x. That is, when x=0, the PWM signal is not zero but N.",
        "It may be known how to perform compensation according to the equation z=x/y on the basis of the aforementioned description. FIG. 3c is a view for illustrating a practical compensation relation in a case where an equation z=x/y is applied to a PWM area change due to a voltage drop.",
        "As shown in FIG. 3c, in case where the equation z=x/y is used for compensation, when the voltage drop practically occurs, the area Ax is compensated by Cx, and the area An is not compensated by Cn. That is, the compensation is not optimized. However, since the compensator 204 according to an embodiment of the present invention compensates An in addition to Ax, it is possible to more effectively output the audio signal.",
        "On the other hand, Equation 2 that is the compensation equation may be modified as another modified compensation equation. Hereinafter, the compensation equation according to a modified embodiment will be described.\n\nz=x/y+A\u00d7(1\u2212y)\u2003\u2003[Equation 3]",
        "Equation 3 is obtained by omitting the 1/y operation from Equation 2. When the compensator is constructed by hardware, the structure of the compensator is simplified by Equation 3. When the compensator is constructed by software, the process of the compensator can be simplified by Equation 3.\n\nz=x/y+A\u00d7F(y), F(1)=0,\u2003\u2003[Equation 4]",
        "Here, y is a normalized value.",
        "In Equation 4, when the normalized value y is 1, z is zero. Equation 4 employs a function reciprocally proportional to y, and Equation 4 is obtained by universalizing Equation 2.\n\nz=x/(y/M)+A\u00d7(1\u2212(y/M))/(y/M)\u2003\u2003[Equation 5]\n\nz=x/(y/M)+A\u00d7(1\u2212y/M)\u2003\u2003[Equation 6]\n\nz=x/(y/M)+A\u00d7F(y/M)\u2003\u2003[Equation 7]",
        "Equations 5 to 7 are obtained by dividing y by the normalized or scaled value of M. Since the voltage drops are different depending on the types of the apparatuses for outputting the audio signal, the audio signal can be suitably compensated by equalizing the voltage drops according to normalizing or scaling. In addition, when the voltage drops are abnormally high, a sharp compensation of the audio signal due to the voltage drop is limited by the normalizing or scaling.\n\nz=x+A\u00d7F(y/M)\u2003\u2003[Equation 8]\n\nz=x+A\u00d7(1\u2212y)/y\u2003\u2003[Equation 9]\n\nz=x+A\u00d7F(y)\u2003\u2003[Equation 10]",
        "Here, F(1)=0, F(y) is a function of outputting a value reciprocally proportional to y, and y is a normalized value.",
        "Equations 8 to 10 represents embodiments in which the operation of the compensation equation is simplified and x and y are not divided in order to compensate for the noise of the audio signal.",
        "Hereinafter, exemplary embodiments of a method and an apparatus for outputting an audio signal of the present invention will be described in detail.",
        "There are various multiple access methods in a digital mobile communication method. A time division multiple access method among the various multiple access methods is a method in which a predetermined frequency bandwidth is periodically divided into predetermined time intervals, and each user transmits its signal during the time interval allocated to each user by turns. The time interval is referred to as a burst period or time slot. On the other hand, in the TDMA method, noise occurs in the output stage 212 due to a time burst ripple during the burst period. Specifically, when information to be transmitted by a mobile communication terminal is output in high frequency, a power amplifier uses a pulse current of the power source with the maximum current of 2.5 Ampere during the time slop (557us).",
        "The process is repeatedly performed every 4.615 ms during the transmission. On the other hand, a voltage level is also influenced by the burst. When the power source is a lithium ion battery, a serial resistance is 120 m\u03a9(ohm) at the worst case. Accordingly, a voltage drop of 300 mV (120 mV\u00d72.5) occurs during 557 us.",
        "FIG. 4a is a graph for illustrating a voltage drop and au audio signal change when the audio signal is output according to prior art. As shown in FIG. 4a, when the drop of the voltage C1 occurs during the burst period, the level of the PCM signal C2 also drops. When the audio signal is output, noise occurs due to the drop of the PCM signal level.",
        "FIG. 5a shows a frequency spectrum of a ripple when an audio signal is output according to an existing method. As shown in FIG. 5a, the frequency of the first spectrum is 217 Hz that is obtained by converting the time period of 4.615 ms into a frequency value (1/4.615 ms=217 Hz). Here, the magnitude of the first spectrum C1 is proportional to the voltage drop shown in FIG. 4a, and C2 to C9 are harmonic components of C1.",
        "FIG. 4b is a graph for illustrating a voltage drop and an audio signal change when the audio signal is output according to an embodiment of the present invention. FIG. 5b shows a frequency spectrum of a ripple when an audio signal is output according to an embodiment of the present invention.",
        "In the compensation result obtained by using the compensation method according to an embodiment of the present invention, even when the voltage C1 drops as shown in FIG. 4b, the PCM signal C2 in the TDMA burst period partially reacts with the voltage drop immediately before and immediately after the burst period, however the level of the signal does not drop. Specifically, since the PCM signal is compensated by a value reciprocally proportional to the voltage drop, the audio signal is compensated even during the burst period despite the voltage drop.",
        "As shown in FIG. 5b, the harmonic components D2 to D9 in addition to the frequency of the first spectrum D1 of the ripple during the burst period are concurrently decreased. As the sampling frequency and the input bit number increase, the AD converter 206 can sharply decrease the level of the frequency component.",
        "As described above, the method and the apparatus for outputting the audio signal according to an embodiment of the present invention may be applied to various output apparatuses for outputting the digital audio signal by those of ordinary skill in the art, and the compensation equation may be partially modified and applied. However, when the modified compensation equation or another embodiment includes the sprit of the present invention, the modified compensation equation or another embodiment is within the scope of the present invention.",
        "In the aforementioned method and the apparatus for outputting the audio signal according to the present invention, audio quality can be improved directly for a listener by removing the noise caused by the voltage drop."
    ],
    "citations": [
        "5150072",
        "5381109",
        "5559467",
        "6466087",
        "6518838",
        "6943620",
        "7239200",
        "10-2005-0003647",
        "10-2005-0034095"
    ],
    "us_classification": "330 10",
    "international_classifications": [
        {
            "classification_level": "A",
            "section": "H",
            "classification_class": "03",
            "subclass": "F",
            "main_group": "3",
            "subgroup": "38"
        }
    ]
}