{
    "title": "Rate-based integral control scheme for active queue management",
    "abstract": "Disclosed is an Active Queue Management method and apparatus which uses traffic rate information for congestion control. Using a nonlinear fluid-flow model of Traffic Control Protocol, an integral controller in a closed loop configuration with gain settings characterized for stable operation allows a matching of the aggregate rate of the active TCP connections to the available capacity. Further disclosed is a method for calculation of the regime of gains for which stable operation of a given network obtains. This approach allows for capacity matching while maintaining minimal queue size and high link utilization.",
    "inventors": [
        "Montuno",
        "Aweya",
        "Ouellette",
        "Felske"
    ],
    "document_number": "07298699",
    "publication_date": "20071120",
    "assignees": [
        "Nortel Networks Limited"
    ],
    "claims": [
        {
            "claim_number": "CLM-00001",
            "preamble": "1. A method for controlling a data flow in a data network, the method comprising:",
            "components": [
                {
                    "component": "selecting a stable integral controller gain k",
                    "subcomponents": []
                },
                {
                    "component": "measuring a data arrival rate R(n) at time n;",
                    "subcomponents": []
                },
                {
                    "component": "calculating a normalized error signal e(n), according to the relation",
                    "subcomponents": [
                        "",
                        "where T(n) is an assigned capacity at time n, and x is a nominal packet size;"
                    ]
                },
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "where T(n) is an assigned capacity at time n, and x is a nominal packet size;",
                    "subcomponents": []
                },
                {
                    "component": "computing a mark/drop probability p(n) according to the relation",
                    "subcomponents": [
                        "",
                        "where \u0394t is the time interval between a (n\u22121)"
                    ]
                },
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "where \u0394t is the time interval between a (n\u22121)",
                    "subcomponents": []
                },
                {
                    "component": "executing a packet mark/drop routine based upon the calculated mark/drop probability p(n).",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00002",
            "preamble": "2. The method of claim 1 wherein the step of selecting a stable integral controller gain k",
            "components": [
                {
                    "component": "pre-calculating a range within which all gains k",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00003",
            "preamble": "3. The method of claim 2 wherein the step of pre-calculating a range within which all gains k",
            "components": [
                {
                    "component": "obtaining for said network a value for said network a set of parameters k",
                    "subcomponents": [
                        "d",
                        "where k is a steady-state gain of said network,",
                        "d",
                        "\u03c4 is a time constant of said network;"
                    ]
                },
                {
                    "component": "d",
                    "subcomponents": []
                },
                {
                    "component": "where k is a steady-state gain of said network,",
                    "subcomponents": []
                },
                {
                    "component": "d",
                    "subcomponents": []
                },
                {
                    "component": "\u03c4 is a time constant of said network;",
                    "subcomponents": []
                },
                {
                    "component": "determining a z",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00004",
            "preamble": "4. The method of claim 1 wherein the step of measuring a data arrival rate R(n) at time n further comprises:",
            "components": [
                {
                    "component": "filtering the data arrival rate R(n) according to the relation:",
                    "subcomponents": [
                        "",
                        "where \u03b2 is a filter gain parameter such that 0<\u03b2<1,",
                        "R\u2032(n\u22121) is the filtered data arrival rate at time n\u22121, and",
                        "R\u2032(n) is the desired filtered data arrival rate at time n."
                    ]
                },
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "where \u03b2 is a filter gain parameter such that 0<\u03b2<1,",
                    "subcomponents": []
                },
                {
                    "component": "R\u2032(n\u22121) is the filtered data arrival rate at time n\u22121, and",
                    "subcomponents": []
                },
                {
                    "component": "R\u2032(n) is the desired filtered data arrival rate at time n.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00005",
            "preamble": "5. The method of claim 1 further comprising a step, preceding the step of executing a packet mark/drop routine, of:",
            "components": [
                {
                    "component": "testing the data arrival rate R(n) against a rate threshold T",
                    "subcomponents": []
                },
                {
                    "component": "if the data arrival rate R(n) is below or equal to the rate threshold T",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00006",
            "preamble": "6. The method of claim 1 wherein the step of executing a packet mark/drop routine further comprises:",
            "components": [
                {
                    "component": "marking/dropping packets according to a random number generator mark/drop scheme.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00007",
            "preamble": "7. An apparatus for controlling a data flow in a data network, said apparatus configured according to the method of any of claims 1 -",
            "components": []
        },
        {
            "claim_number": "CLM-00008",
            "preamble": "8. An apparatus for controlling a data flow in a data network, the apparatus comprising:",
            "components": [
                {
                    "component": "a integral controller having a integral controller gain k",
                    "subcomponents": []
                },
                {
                    "component": "a data arrival rate measurer for measuring data arrival rate R(n) at time n;",
                    "subcomponents": []
                },
                {
                    "component": "an error signal calculator for calculating a normalized error signal e(n), according to the relation",
                    "subcomponents": [
                        "",
                        "where T(n) is an assigned capacity at time n, and x is a nominal packet size;"
                    ]
                },
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "where T(n) is an assigned capacity at time n, and x is a nominal packet size;",
                    "subcomponents": []
                },
                {
                    "component": "a mark/drop probability processor for computing a mark/drop probability p(n), according to the relation",
                    "subcomponents": [
                        "",
                        "where \u0394t is the time interval between a (n\u22121)"
                    ]
                },
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "where \u0394t is the time interval between a (n\u22121)",
                    "subcomponents": []
                },
                {
                    "component": "a packet mark/drop module for executing a packet mark/drop routine based upon the calculated mark/drop probability p(n).",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00009",
            "preamble": "9. The apparatus of claim 8 wherein the integral controller gain k",
            "components": []
        },
        {
            "claim_number": "CLM-00010",
            "preamble": "10. The apparatus of claim 9 wherein the pre-calculated range within which all gains k",
            "components": [
                {
                    "component": "obtaining for said network a value for said network of a set of parameters",
                    "subcomponents": [
                        "k, d",
                        "where k is a steady-state gain of said network,",
                        "d",
                        "\u03c4 is a time constant of said network;"
                    ]
                },
                {
                    "component": "k, d",
                    "subcomponents": []
                },
                {
                    "component": "where k is a steady-state gain of said network,",
                    "subcomponents": []
                },
                {
                    "component": "d",
                    "subcomponents": []
                },
                {
                    "component": "\u03c4 is a time constant of said network;",
                    "subcomponents": []
                },
                {
                    "component": "determining a z",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00011",
            "preamble": "11. The apparatus of claim 8 wherein the data arrival rate measurer for measuring data arrival rate R(n) at time n further comprises:",
            "components": [
                {
                    "component": "a filter for filtering the data arrival rate R(n) according to the relation:",
                    "subcomponents": [
                        "",
                        "where \u03b2 is a filter gain parameter such that 0<\u03b2<1,",
                        "R\u2032(n\u22121) is the filtered data arrival rate at time n\u22121, and",
                        "R\u2032(n) is the desired filtered data arrival rate at time n."
                    ]
                },
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "where \u03b2 is a filter gain parameter such that 0<\u03b2<1,",
                    "subcomponents": []
                },
                {
                    "component": "R\u2032(n\u22121) is the filtered data arrival rate at time n\u22121, and",
                    "subcomponents": []
                },
                {
                    "component": "R\u2032(n) is the desired filtered data arrival rate at time n.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00012",
            "preamble": "12. The apparatus of claim 8 further comprising:",
            "components": [
                {
                    "component": "a test module for testing the data arrival rate R(n) against a rate threshold T",
                    "subcomponents": []
                },
                {
                    "component": "if the data arrival rate R(n) is below or equal to the rate threshold T",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00013",
            "preamble": "13. The apparatus of claim 8 wherein the packet mark/drop module further comprises:",
            "components": [
                {
                    "component": "a random number generator drop scheme module.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00014",
            "preamble": "14. A method of determining for a integral controller controlling the flow of data for a data network, a range within which all gains k",
            "components": [
                {
                    "component": "obtaining for said data network a set of parameters k, d",
                    "subcomponents": [
                        "where k is a steady-state gain of said network,",
                        "d",
                        "\u03c4 is a time constant of said network;"
                    ]
                },
                {
                    "component": "where k is a steady-state gain of said network,",
                    "subcomponents": []
                },
                {
                    "component": "d",
                    "subcomponents": []
                },
                {
                    "component": "\u03c4 is a time constant of said network;",
                    "subcomponents": []
                },
                {
                    "component": "determining a z",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00015",
            "preamble": "15. An article of manufacture carrying instructions for controlling a data flow in a data network, said instructions including:",
            "components": [
                {
                    "component": "instructions for selecting a stable gain of a integral controller gain k",
                    "subcomponents": []
                },
                {
                    "component": "instructions for measuring a data arrival rate R(n) at time n;",
                    "subcomponents": []
                },
                {
                    "component": "instructions for calculating a normalized error signal e(n), according to the relation",
                    "subcomponents": [
                        "",
                        "where T(n) is an assigned capacity at time n, and x is a nominal packet size;"
                    ]
                },
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "where T(n) is an assigned capacity at time n, and x is a nominal packet size;",
                    "subcomponents": []
                },
                {
                    "component": "instructions for computing a mark/drop probability p(n) according to the relation",
                    "subcomponents": [
                        "",
                        "where \u0394t is the time interval between a (n\u22121)"
                    ]
                },
                {
                    "component": "",
                    "subcomponents": []
                },
                {
                    "component": "where \u0394t is the time interval between a (n\u22121)",
                    "subcomponents": []
                },
                {
                    "component": "instructions for executing a packet mark/drop routine based upon the calculated mark/drop probability p(n).",
                    "subcomponents": []
                }
            ]
        }
    ],
    "description": [
        "The present invention relates generally to network queue management, and more particularly to a technique for active queue management using integral control and rate-based information.",
        "Congestion control in the Internet has primarily been the responsibility of the end-to-end congestion control mechanisms of TCP (Transmission Control Protocol). However, with the rapid growth of the Internet and the stringent requirements for quality of service (QoS) support, it has become clear that the Internet could not exclusively rely on the end hosts to perform the end-to-end congestion control. Mechanisms are needed in the intermediate network elements to complement the end hosts congestion control mechanisms. Recognizing this, the Internet Engineering Tasks Force (IETF) has advocated the deployment of active queue management (AQM) mechanisms at the intermediate network elements (routers, switches, etc.) as a means of congestion control.",
        "To perform AQM, the network elements are equipped with the means to detect incipient congestion and to signal the traffic sources before congestion actually occurs. AQM mechanisms allow the network elements to send explicit/implicit feedback of congestion to the end hosts by marking/dropping packets. The end hosts in turn react to the packet marking/dropping by reducing their data transmission rates. The main goals of AQM are to reduce the average queue lengths in the network elements and thereby decrease the end-to-end delay experienced by end user traffic, and maximize the utilization of network resources by reducing the packet loss that occurs when queues overflow.",
        "The traditional queue management mechanism is \u201cdrop tail\u201d which is simple to implement and is widely deployed. With drop tail mechanism, packets are dropped only at buffer overflow at which point congestion signals are conveyed to the end hosts. This results in a significantly long time period between the instant when congestion occurs and the instant when the end hosts reduce their data transmission rates. During this time period, more packets may be sent by the end hosts which could be eventually dropped. Drop tail can lead to problematic global synchronization of the traffic sources (where the sources ramp their traffic rates and backoff at the same time) and periods of low link utilization.",
        "A number of AQM schemes have been proposed which use either queue size information for congestion control (so-called queue-based schemes) or traffic rate information (so-called rate-based schemes). Queue-based AQM schemes adapt their marking/dropping probabilities in a manner that depends on the queue size at the link. With small buffers they tend to perform poorly. For example, studies have shown that a technique such as RED (Random Early Detection) described by S. Floyd and V. Jacobson in \u201cRandom Early Detection Gateway for Congestion Avoidance,\u201d IEEE/ACM Trans. Networking, Vol. 1, No. 4, August 1993, pp. 397-413 performs well only when the queuing capacity is greater than the bandwidth-delay product. Quite naturally the dependence of a queue-based scheme on queue size information for control will require that there be sufficient buffering for effective process tracking and control.",
        "Very small buffers tend to complicate the control problem in this case.",
        "A number of recent studies such as C. V. Hollot, V. Misra, D. Townsley, and W. B. Gong, \u201cA Control Theoretic Analysis of RED,\u201d Proc. IEEE INFOCOM 2001, 2001, pp. 1510-1519, C. V. Hollot, V. Misra, D. Townsley, and W. B. Gong, \u201cOn Designing Improved Controllers for AQM Routers Supporting TCP Flows,\u201d Proc. IEEE INFOCOM 2001, 2001, pp. 1726-1734, Y. Chait, C. V. Hollot, and V. Misra, \u201cFixed and Adaptive Model-Based Controllers for Active Queue Management,\u201d Proc. American Control Conf., Arlington, Va., June 25-27 2001, pp. 2981-2986, and V. Misra, W. B. Gong, and D. Townsley, \u201cFluid-based Analysis of a Network of AQM Routers Supporting TCP Flows with an Application to RED,\u201d Proc. ACM SIGCOMM 2000, 2000, pp. 151-160, have described queue-based AQM schemes which explicitly rely on dynamic modeling and feedback control principles. Central to these studies is the recognition that AQM schemes are essentially feedback control systems and that the principles of control theory can provide critical insight and guidance into the analysis and design of such schemes. The fluid flow analytical model of TCP described in \u201cFluid-based Analysis of a Network of AQM Routers Supporting TCP Flows with an Application to RED\u201d by Misra et al. particularity expresses TCP dynamics in a form that allows control theoretic approaches to be applied for AQM design and analysis.",
        "In view of the foregoing, it would be desirable to provide a technique for network queue management which overcomes the above-described inadequacies and shortcomings.",
        "An object of the present invention is to provide an improved rate-based integral control scheme for active queue management.",
        "According to an aspect of the invention there is provided a method for controlling a data flow in a data network, starting with selecting a stable integral controller gain ki. Next measuring a data arrival rate R(n) at time n. Next, calculating a normalized error signal e(n), according to the relation\n\ne(n)=(T(n)\u2212R(n))/x, \n\nwhere T(n) is an assigned capacity at time n, and x is a nominal packet size. Next, a mark/drop probability p(n) is computed according to the relation\n\np(n)=min { max [p(n\u22121)+ki\u00b7\u0394t\u00b7e(n),0],pmax}\n\nwhere \u0394t is the time interval between a (n\u22121)th and the nth computation, and 0<pmax\u22661. Finally a packet mark/drop routine is executed based upon the calculated mark/drop probability p(n).",
        "Conveniently, the data arrival rate may be filtered by use of an exponentially weighted moving average scheme according to the relation\n\nR\u2032(n)=(1\u2212\u03b2)\u00b7R\u2032(n\u22121)+\u03b2\u00b7R(n)",
        "where \u03b2 is a filter gain parameter such that 0<\u03b2<1,",
        "R\u2032(n\u22121) is the filtered data arrival rate at time n\u22121, and",
        "R\u2032(n) is the desired filtered data arrival rate at time n.",
        "According to another aspect of the invention, preceding the packet/mark drop routine may be a bypassing routine involving the steps of testing the data arrival rate R(n) against a rate threshold TL; and if the data arrival rate R(n) is below or equal to the rate threshold TL then bypassing the step of executing a packet mark/drop routine.",
        "Conveniently, the packet mark/drop routine may be realized according to a random number generator mark/drop scheme.",
        "Also conveniently, the stable integral controller gain may be chosen from a pre-calculated regime of stable gains. A method for pre-calculating the regime may be as follows; starting with (1) obtaining for said network a value for said network a set of parameters k, d0, and \u03c4, where k is a steady-state gain of said network, d0 is a time delay of said network, and \u03c4 is a time constant of said network. Next step (2) determining the root z1 in the interval",
        "(\n        \n          0\n          ,\n          \n            \u03c0\n            2\n          \n        \n        )\n      \n      \u2062\n      \n        \n      \n      \u2062\n      of\n      \u2062\n      \n        \n      \n      \u2062\n      \n        cot\n        \u2061\n        \n          (\n          \n            z\n            1\n          \n          )\n        \n      \n    \n    =\n    \n      \n        \u03c4\n        \n          d\n          0\n        \n      \n      \u2062\n      \n        z\n        1\n      \n    \n  \n  ,\n\n\n\n\nand then computing the range of stable gains for ki for this particular network as",
        "-\n      \n        \u03c4\n        \n          kd\n          0\n          2\n        \n      \n    \n    \u2062\n    \n      z\n      1\n    \n    \u2062\n    \n      \n        \n          z\n          1\n          2\n        \n        +\n        \n          \n            d\n            0\n            2\n          \n          \n            \u03c4\n            2\n          \n        \n      \n    \n  \n  <\n  \n    k\n    i\n  \n  <\n  0.",
        "In accordance with another other aspect of the present invention, there is provided an apparatus for controlling a data flow in a data network, the apparatus being configured according to the methods described above.",
        "In accordance with another aspect of the present invention, there is provided an article of manufacture carrying instructions for a method for controlling a data flow in a data network. In a separate aspect, there is provided a signal embodied in a carrier wave representing instructions for a method for controlling a data flow in a data network according to an integral control scheme.",
        "The present invention will now be described in more detail with reference to exemplary embodiments thereof as shown in the appended drawings. While the present invention is described below with reference to the preferred embodiments, it should be understood that the present invention is not limited thereto. Those of ordinary skill in the art having access to the teachings herein will recognize additional implementations, modifications, and embodiments, which are within the scope of the present invention as disclosed and claimed herein.",
        "The invention will be further understood from the following detailed description of embodiments of the invention and accompanying drawings, in which:",
        "FIG. 1 is a diagram of an Active Queue Management controller in an Intermediate Network Element according to an embodiment of the invention.",
        "FIG. 2 is a diagram of a closed loop control system according to an embodiment of the invention.",
        "FIG. 3 is a plot of a typical open loop response of the TCP/AQM plant according to an embodiment of the invention.",
        "FIG. 4 is a plot of the two terms in Equation (30) for a general system.",
        "FIG. 5 is a block diagram of a routine for determining the stable integral gains for a closed-loop TCP/AQM system according to an embodiment of the invention.",
        "FIG. 6 is a plot of an example of the real and imaginary parts of F*(j\u03c9) according to an example embodiment of the invention.",
        "FIG. 7 is a plot of the step response of an example Integral Controller according to FIG. 6.",
        "FIG. 8 is a block diagram of a mark/drop probability computation routine according to an embodiment of the invention.",
        "FIG. 9 is a block diagram of a packet drop/mark routine according to an embodiment of the invention.",
        "FIG. 10 is a block diagram of an overall control routine according to an embodiment of the invention.",
        "A high level depiction of an implementation of the active queue management integral control scheme according to a possible embodiment is given in FIG. 1.",
        "Users 100 communicate with End Network Elements 105 which pass packet data either directly or through Intermediate Network Elements 115, to other End Network Elements 105. End-to-end congestion control mechanisms under normal TCP (Transmission Control Protocol) rely upon Implicit/Explicit Feedback Signals 110. Examples of Implicit/Explicit Feedback Signals 110 typically include duplicate TCP acknowledgement packets, timeouts, and marked packets.",
        "In order to meet the stringent requirements for Quality of Service (QoS) of users, and the increases in data volume with the rapid growth of the Internet, it is advantageous to provide congestion control mechanisms at intermediate points to complement the end hosts congestion control mechanisms. According to one aspect of the invention, Intermediate Network Element 115 has been equipped with such a mechanism for congestion control.",
        "Within Intermediate Network Element 115 are a Integral Controller 120, a queue means 130, an arrival rate measurement means 122, a target rate measurement means 126, a packet mark/drop module 128, and a mark/drop probability control means 124 by which the Integral Controller 120 influences the packet mark/drop module 128 according to a scheme described hereafter.",
        "A control system oriented depiction of the system of FIG. 1 may be seen in FIG. 2 where the closed-loop system is represented as having two main elements; TCP/AQM plant 210 and the control-function means 220. The control system functions by comparing a desired Target-Rate \u201cT\u201d 226 with an Actual-Rate \u201cR\u201d 222 via a summer 240 which generates a control error \u201ce\u201d 250 by determining the difference between the two rates. This difference is used as an input to the control-function means 220 which generates a mark/drop probability threshold \u201cp\u201d 224. Changes in the threshold for marking or dropping packets results in an eventual change in the Actual-Rate \u201cR\u201d 222 as the effects propagate through the system. As with all closed loop systems, the control-function means 220 must have a control function response chosen so as to render a stable closed-loop system response. If this condition is not met the resultant performance will be deleterious to the network operation, possibly to the point of causing performance degradation.",
        "In order to be able to determine the stability requirements for the control-function means, the open loop transfer function for TCP/AQM plant 210 must be established. This may be done as follows.",
        "A simplified rate-based fluid-flow model of a TCP source i assessing a single link is described by the following nonlinear differential equation:",
        "r\n              .\n            \n            i\n          \n          \u2061\n          \n            (\n            t\n            )\n          \n        \n        =\n        \n          \n            1\n            \n              \n                d\n                i\n                2\n              \n              \u2061\n              \n                (\n                t\n                )\n              \n            \n          \n          -\n          \n            \u03b8\n            \u2062\n            \n              \n            \n            \u2062\n            \n              \n                r\n                i\n              \n              \u2061\n              \n                (\n                t\n                )\n              \n            \n            \u2062\n            \n              \n                r\n                i\n              \n              \u2061\n              \n                (\n                \n                  t\n                  -\n                  \n                    \n                      d\n                      i\n                    \n                    \u2061\n                    \n                      (\n                      t\n                      )\n                    \n                  \n                \n                )\n              \n            \n            \u2062\n            \n              p\n              \u2061\n              \n                (\n                \n                  t\n                  -\n                  \n                    \n                      d\n                      i\n                    \n                    \u2061\n                    \n                      (\n                      t\n                      )\n                    \n                  \n                \n                )\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        1\n        )\n      \n    \n  \n\n\n\n\nwhere {dot over (r)} denotes the time-derivative of r, ri is rate of the TCP source (in packets per second), di is the round-trip time (RTT) of the TCP source (in seconds), p is the marking/dropping probability of a TCP packet at the link, and \u03b8 is a parameter characteristic of the type of TCP source. This model of TCP ignores the slow-start and the timeout behavior of TCP. Note that ri and p are bounded, respectively, as follows; ri\u03b5[0,C], p\u03b5[0,1], where C is the link capacity (in packets per second).",
        "Denoting p0 as the steady-state (or operating point) of the marking/dropping probability of a TCP source and assuming a constant RTT d0, the steady-state throughput r0 can be obtained as",
        "0\n        =\n        \n          \n            1\n            \n              d\n              0\n              2\n            \n          \n          -\n          \n            \u03b8\n            \u2062\n            \n              \n            \n            \u2062\n            \n              r\n              0\n              2\n            \n            \u2062\n            \n              p\n              0\n            \n            \u2062\n            \n              \n            \n            \u2062\n            or\n          \n        \n      \n    \n  \n  \n    \n      \n        \n          r\n          0\n        \n        =\n        \n          \n            1\n            \n              d\n              0\n            \n          \n          \u2062\n          \n            \n              \n                1\n                \n                  \u03b8\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    p\n                    0\n                  \n                \n              \n            \n            .",
        "If the parameter \u03b8 takes on the value of \u2154, the steady-state throughput of TCP is obtained as",
        "r\n    0\n  \n  =\n  \n    \n      1\n      \n        d\n        0\n      \n    \n    \u2062\n    \n      \n        \n          3\n          \n            2\n            \u2062\n            \n              p\n              0\n            \n          \n        \n      \n      .",
        "Making the approximation relating data transmission rate and window size\n\nri(t)\u2248Wi(t)/di(t)\n\nand assuming di(t)=di=constant, it obtains that",
        "r\n          .\n        \n        i\n      \n      \u2061\n      \n        (\n        t\n        )\n      \n    \n    \u2248\n    \n      \n        \u2146\n        \n          \u2146\n          t\n        \n      \n      \u2062\n      \n        (\n        \n          \n            \n              W\n              i\n            \n            \u2061\n            \n              (\n              t\n              )\n            \n          \n          \n            \n              \n                d\n                i\n              \n              \u2061\n              \n                (\n                t\n                )\n              \n            \n            \u2062\n            \n              \n            \n          \n        \n        )\n      \n    \n  \n  =\n  \n    \n      \n        \n          1\n          \n            d\n            i\n          \n        \n        \u2062\n        \n          \n            \u2146\n            \n              \n                W\n                i\n              \n              \u2061\n              \n                (\n                t\n                )\n              \n            \n          \n          \n            \u2146\n            t\n          \n        \n      \n      -\n      \n        \n          \n            \n              W\n              i\n            \n            \u2061\n            \n              (\n              t\n              )\n            \n          \n          \n            d\n            i\n            2\n          \n        \n        \u2062\n        \n          \n            \u2146\n            \n              d\n              i\n            \n          \n          \n            \u2146\n            t\n          \n        \n      \n    \n    \u2248\n    \n      \n        1\n        \n          d\n          i\n        \n      \n      \u2062\n      \n        \n          \n            \u2146\n            \n              \n                W\n                i\n              \n              \u2061\n              \n                (\n                t\n                )\n              \n            \n          \n          \n            \u2146\n            t\n          \n        \n        .\n      \n    \n  \n\n\n\n\nWith this, it can be seen that making the approximation ri(t)\u2248Wi(t)/di(t) shows that the rate-based fluid-flow model of a TCP source is essentially equivalent to a window-based nonlinear fluid-flow TCP model.",
        "Assuming a constant RTT d0, rewrite the initial equation as",
        "f\n          \u2061\n          \n            (\n            \n              \n                r\n                i\n              \n              ,\n              \n                r\n                \n                  i\n                  ,\n                  d\n                \n              \n              ,\n              p\n            \n            )\n          \n        \n        =\n        \n          \n            \n              \n                r\n                .\n              \n              i\n            \n            \u2061\n            \n              (\n              t\n              )\n            \n          \n          =\n          \n            \n              1\n              \n                d\n                0\n                2\n              \n            \n            -\n            \n              \u03b8\n              \u2062\n              \n                \n              \n              \u2062\n              \n                \n                  r\n                  i\n                \n                \u2061\n                \n                  (\n                  t\n                  )\n                \n              \n              \u2062\n              \n                \n                  r\n                  \n                    i\n                    ,\n                    d\n                  \n                \n                \u2061\n                \n                  (\n                  t\n                  )\n                \n              \n              \u2062\n              \n                p\n                \u2061\n                \n                  (\n                  \n                    t\n                    -\n                    \n                      d\n                      0\n                    \n                  \n                  )\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        2\n        )\n      \n    \n  \n\n\n\n\nwhere\n\nri,d(t){dot over (=)}ri(t\u2212d0).",
        "Using Taylor series expansion, the small-signal linearization of\n\nf(ri,ri,d,p)={dot over (r)}i(t)\n\nabout an operating point (r0,p0) is given as",
        "\u03b4\n                        \u2062\n                        \n                          \n                            \n                              r\n                              .\n                            \n                            i\n                          \n                          \u2061\n                          \n                            (\n                            t\n                            )\n                          \n                        \n                      \n                      =\n                      \n                        \n                          \n                            \n                              \u2003\n                              \n                                \n                                  \u2202\n                                  f\n                                \n                                \n                                  \u2202\n                                  \n                                    r\n                                    i\n                                  \n                                \n                              \n                              \uf604\n                            \n                            \n                              \n                                r\n                                0\n                              \n                              ,\n                              \n                                p\n                                0\n                              \n                            \n                          \n                          \u2062\n                          \u03b4\n                          \u2062\n                          \n                            \n                          \n                          \u2062\n                          \n                            \n                              r\n                              i\n                            \n                            \u2061\n                            \n                              (\n                              t\n                              )\n                            \n                          \n                        \n                        +\n                        \n                          \n                            \u2202\n                            f\n                          \n                          \n                            \u2202\n                            \n                              r\n                              \n                                i\n                                ,\n                                d\n                              \n                            \n                          \n                        \n                      \n                    \n                    \uf604\n                  \n                  \n                    \n                      r\n                      0\n                    \n                    ,\n                    \n                      p\n                      0\n                    \n                  \n                \n                \u2062\n                \u03b4\n                \u2062\n                \n                  \n                \n                \u2062\n                \n                  \n                    r\n                    \n                      i\n                      ,\n                      d\n                    \n                  \n                  \u2061\n                  \n                    (\n                    t\n                    )\n                  \n                \n              \n              +\n              \n                \n                  \u2202\n                  f\n                \n                \n                  \u2202\n                  p\n                \n              \n            \n            \uf604\n          \n          \n            \n              r\n              0\n            \n            ,\n            \n              p\n              0\n            \n          \n        \n        \u2062\n        \u03b4\n        \u2062\n        \n          \n        \n        \u2062\n        \n          p\n          \u2061\n          \n            (\n            \n              t\n              -\n              \n                d\n                0\n              \n            \n            )\n          \n        \n      \n    \n    \n      \n        (\n        3\n        )\n      \n    \n  \n\n\n\n\nwhere\n\n\u03b4ri(t)=ri(t)\u2212r0 \n\n\u03b4ri,d(t)=ri,d(t)\u2212r0 \n\n\u03b4p(t\u2212d0)=p(t\u2212d0)\u2212p0 \n\nand",
        "\u2202\n                      f\n                    \n                    \n                      \u2202\n                      \n                        r\n                        i\n                      \n                    \n                  \n                  \uf604\n                \n                \n                  \n                    r\n                    0\n                  \n                  ,\n                  \n                    p\n                    0\n                  \n                \n              \n              =\n              \n                \n                  \u2202\n                  f\n                \n                \n                  \u2202\n                  \n                    r\n                    \n                      i\n                      ,\n                      d\n                    \n                  \n                \n              \n            \n            \uf604\n          \n          \n            \n              r\n              0\n            \n            ,\n            \n              p\n              0\n            \n          \n        \n        =\n        \n          \n            -\n            \u03b8\n          \n          \u2062\n          \n            \n          \n          \u2062\n          \n            r\n            0\n          \n          \u2062\n          \n            p\n            0\n          \n          \u2062\n          \n            \n              \u2202\n              f\n            \n            \n              \u2202\n              p\n            \n          \n        \n      \n      \uf604\n    \n    \n      \n        r\n        0\n      \n      ,\n      \n        p\n        0\n      \n    \n  \n  =\n  \n    \n      -\n      \u03b8\n    \n    \u2062\n    \n      \n    \n    \u2062\n    \n      r\n      0\n      2",
        "The linearized equation (3) then becomes\n\n\u03b4{dot over (r)}i(t)=\u2212\u03b8r0p0(\u03b4ri(t)+\u03b4ri,d(t))\u2212\u03b8r02\u03b4p(t\u2212d0).\u2003\u2003(4)",
        "Making the approximation ri(t)\u2248ri,d(t) in (4), it follows that\n\n\u03b4{dot over (r)}i(t)=\u22122\u03b8r0p0\u03b4ri(t)\u2212\u03b8r02\u03b4p(t\u2212d0)\u2003\u2003(5)",
        "Assume that the link of capacity C is shared by a constant number N of TCP sources. The aggregate rate on the link R(t) is given by",
        "\u2211\n            \n              i\n              =\n              1\n            \n            N\n          \n          \u2062\n          \n            \n          \n          \u2062\n          \n            \n              r\n              i\n            \n            \u2061\n            \n              (\n              t\n              )\n            \n          \n        \n        =\n        \n          \n            R\n            \u2061\n            \n              (\n              t\n              )\n            \n          \n          .\n        \n      \n    \n    \n      \n        (\n        6\n        )",
        "From (6), the equilibrium point of the system can be expressed as",
        "\u2211\n              \n                i\n                =\n                1\n              \n              N\n            \n            \u2062\n            \n              \n            \n            \u2062\n            \n              r\n              0\n            \n          \n          =\n          \n            \n              R\n              0\n            \n            =\n            \n              \u03c1\n              \u2062\n              \n                \n              \n              \u2062\n              C\n            \n          \n        \n        ,\n        or\n      \n    \n    \n      \n        (\n        7\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            r\n            0\n          \n          =\n          \n            \n              \u03c1\n              \u2062\n              \n                \n              \n              \u2062\n              C\n            \n            N\n          \n        \n        ,\n      \n    \n    \n      \n        (\n        8\n        )\n      \n    \n  \n\n\n\n\nwhere \u03c1\u03b5(0,1] is a target utilization factor. From (1) and (8), the equilibrium point of the marking/dropping probability can be expressed as",
        "p\n          0\n        \n        =\n        \n          \n            1\n            \n              \n                d\n                0\n                2\n              \n              \u2062\n              \u03b8\n              \u2062\n              \n                \n              \n              \u2062\n              \n                r\n                0\n                2\n              \n            \n          \n          =\n          \n            \n              \n                N\n                2\n              \n              \n                \n                  \u03b8\n                  \u2061\n                  \n                    (\n                    \n                      \n                        d\n                        0\n                      \n                      \u2062\n                      \u03c1\n                      \u2062\n                      \n                        \n                      \n                      \u2062\n                      C\n                    \n                    )\n                  \n                \n                2\n              \n            \n            .\n          \n        \n      \n    \n    \n      \n        (\n        9\n        )",
        "Defining \u03b4R(t)=R(t)\u2212R0, it is known from (6) that",
        "\u03b4\n          \u2062\n          \n            \n          \n          \u2062\n          \n            R\n            \u2061\n            \n              (\n              t\n              )\n            \n          \n        \n        =\n        \n          \n            \u2211\n            \n              i\n              =\n              1\n            \n            N\n          \n          \u2062\n          \n            \n          \n          \u2062\n          \n            \u03b4\n            \u2062\n            \n              \n            \n            \u2062\n            \n              \n                r\n                i\n              \n              \u2061\n              \n                (\n                t\n                )\n              \n            \n            \u2062\n            \n              \n            \n            \u2062\n            and\n          \n        \n      \n    \n    \n      \n        (\n        10\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            \n              \n                \u03b4\n                \u2062\n                \n                  \n                    R\n                    .\n                  \n                  \u2061\n                  \n                    (\n                    t\n                    )\n                  \n                \n              \n              =\n              \n              \u2062\n              \n                \n                  \u2211\n                  \n                    i\n                    =\n                    1\n                  \n                  N\n                \n                \u2062\n                \n                  \n                \n                \u2062\n                \n                  \u03b4\n                  \u2062\n                  \n                    \n                      \n                        r\n                        .\n                      \n                      i\n                    \n                    \u2061\n                    \n                      (\n                      t\n                      )\n                    \n                  \n                \n              \n            \n          \n        \n        \n          \n            \n              =\n              \n              \u2062\n              \n                \n                  \n                    -\n                    2\n                  \n                  \u2062\n                  \u03b8\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    r\n                    0\n                  \n                  \u2062\n                  \n                    p\n                    0\n                  \n                  \u2062\n                  \n                    \n                      \u2211\n                      \n                        i\n                        =\n                        1\n                      \n                      N\n                    \n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      \u03b4\n                      \u2062\n                      \n                        \n                      \n                      \u2062\n                      \n                        \n                          r\n                          i\n                        \n                        \u2061\n                        \n                          (\n                          t\n                          )\n                        \n                      \n                    \n                  \n                \n                -\n                \n                  \n                    \u2211\n                    \n                      i\n                      =\n                      1\n                    \n                    N\n                  \n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    \u03b8\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      r\n                      0\n                      2\n                    \n                    \u2062\n                    \u03b4\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      p\n                      \u2061\n                      \n                        (\n                        \n                          t\n                          -\n                          \n                            d\n                            0\n                          \n                        \n                        )\n                      \n                    \n                  \n                \n              \n            \n          \n        \n        \n          \n            \n              =\n              \n              \u2062\n              \n                \n                  \n                    -\n                    2\n                  \n                  \u2062\n                  \u03b8\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    r\n                    0\n                  \n                  \u2062\n                  \n                    p\n                    0\n                  \n                  \u2062\n                  \u03b4\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    R\n                    \u2061\n                    \n                      (\n                      t\n                      )\n                    \n                  \n                \n                -\n                \n                  N\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \u03b8\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    r\n                    0\n                    2\n                  \n                  \u2062\n                  \u03b4\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    p\n                    \u2061\n                    \n                      (\n                      \n                        t\n                        -\n                        \n                          d\n                          0\n                        \n                      \n                      )\n                    \n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        11\n        )",
        "Substituting the equilibrium points (r0,p0) in (11), it follows that",
        "\u03b4\n          \u2062\n          \n            \n              R\n              .\n            \n            \u2061\n            \n              (\n              t\n              )\n            \n          \n        \n        =\n        \n          \n            \n              -\n              \n                \n                  2\n                  \u2062\n                  N\n                \n                \n                  \n                    d\n                    0\n                    2\n                  \n                  \u2062\n                  \u03c1\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  C\n                \n              \n            \n            \u2062\n            \u03b4\n            \u2062\n            \n              \n            \n            \u2062\n            \n              R\n              \u2061\n              \n                (\n                t\n                )\n              \n            \n          \n          -\n          \n            \n              \n                \u03b8\n                \u2062\n                \n                  \n                \n                \u2062\n                \n                  \u03c1\n                  2\n                \n                \u2062\n                \n                  C\n                  2\n                \n              \n              N\n            \n            \u2062\n            \u03b4\n            \u2062\n            \n              \n            \n            \u2062\n            \n              p\n              \u2061\n              \n                (\n                \n                  t\n                  -\n                  \n                    d\n                    0\n                  \n                \n                )\n              \n            \n            \u2062\n            \n              \n            \n            \u2062\n            or\n          \n        \n      \n    \n    \n      \n        (\n        12\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            \n              \n                \n                  d\n                  0\n                  2\n                \n                \u2062\n                \u03c1\n                \u2062\n                \n                  \n                \n                \u2062\n                C\n              \n              \n                2\n                \u2062\n                N\n              \n            \n            \u2062\n            \u03b4\n            \u2062\n            \n              \n                R\n                .\n              \n              \u2061\n              \n                (\n                t\n                )\n              \n            \n          \n          =\n          \n            \n              \n                -\n                \u03b4\n              \n              \u2062\n              \n                \n              \n              \u2062\n              \n                R\n                \u2061\n                \n                  (\n                  t\n                  )\n                \n              \n            \n            -\n            \n              \n                \n                  \u03b8\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    d\n                    0\n                    2\n                  \n                  \u2062\n                  \n                    \u03c1\n                    3\n                  \n                  \u2062\n                  \n                    C\n                    3\n                  \n                \n                \n                  2\n                  \u2062\n                  \n                    N\n                    2\n                  \n                \n              \n              \u2062\n              \u03b4\n              \u2062\n              \n                \n              \n              \u2062\n              \n                p\n                \u2061\n                \n                  (\n                  \n                    t\n                    -\n                    \n                      d\n                      0\n                    \n                  \n                  )\n                \n              \n            \n          \n        \n        \u2062\n        \n          \n\n        \n        \u2062\n        \n          \n            \n              \u03c4\n              \u2062\n              \n                \n              \n              \u2062\n              \u03b4\n              \u2062\n              \n                \n              \n              \u2062\n              \n                \n                  R\n                  .\n                \n                \u2061\n                \n                  (\n                  t\n                  )\n                \n              \n            \n            +\n            \n              \u03b4\n              \u2062\n              \n                \n              \n              \u2062\n              \n                R\n                \u2061\n                \n                  (\n                  t\n                  )\n                \n              \n            \n          \n          =\n          \n            \n              -\n              k\n            \n            \u2062\n            \n              \n            \n            \u2062\n            \u03b4\n            \u2062\n            \n              \n            \n            \u2062\n            \n              p\n              \u2061\n              \n                (\n                \n                  t\n                  -\n                  \n                    d\n                    0\n                  \n                \n                )\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        13\n        )\n      \n    \n  \n\n\n\n\nwhere",
        "\u03c4\n  =\n  \n    \n      \n        \n          \n            d\n            0\n            2\n          \n          \u2062\n          \u03c1\n          \u2062\n          \n            \n          \n          \u2062\n          C\n        \n        \n          2\n          \u2062\n          N\n        \n      \n      \u2062\n      \n        \n      \n      \u2062\n      and\n      \u2062\n      \n        \n      \n      \u2062\n      k\n    \n    =\n    \n      \n        \n          \u03b8\n          \u2062\n          \n            \n          \n          \u2062\n          \n            d\n            0\n            2\n          \n          \u2062\n          \n            \u03c1\n            3\n          \n          \u2062\n          \n            C\n            3\n          \n        \n        \n          2\n          \u2062\n          \n            N\n            2\n          \n        \n      \n      .",
        "Taking the Laplace transform of (13) it obtains that\n\n\u03c4s(s)+(s)=\u2212ke\u2212d0sP(s),\u2003\u2003(14)\n\nwhere (s) is the Laplace transform of \u03b4R(t) and e\u2212sd0P(s) is the Laplace transform of \u03b4p(t\u2212d0).",
        "The open-loop transfer function of the TCP/AQM plant may be obtained from (14) as",
        "G\n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            \n                            \u2062\n              \n                (\n                s\n                )\n              \n            \n            \n              P\n              \u2061\n              \n                (\n                s\n                )\n              \n            \n          \n          =\n          \n            \n              \n                -\n                \n                  ke\n                  \n                    \n                      -\n                      \n                        d\n                        0\n                      \n                    \n                    \u2062\n                    s\n                  \n                \n              \n              \n                \n                  \u03c4\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  s\n                \n                +\n                1\n              \n            \n            .\n          \n        \n      \n    \n    \n      \n        (\n        15\n        )",
        "In (15), \u2212k represents the steady-state (or static) gain of the TCP/AQM plant, d0 represents the time delay (or dead time), and \u03c4 represents the time constant of the plant.",
        "The step response of the model (15) is\n\nR(t)=\u2212k(1\u2212e\u2212(t\u2212d0)/\u03c4).\u2003\u2003(16)",
        "From (16), it follows that the average residence time is",
        "T\n          av\n        \n        =\n        \n          \n            \n              \n                \u222b\n                0\n                \u221e\n              \n              \u2062\n              \n                \n                  (\n                  \n                    \n                      R\n                      \u2061\n                      \n                        (\n                        \u221e\n                        )\n                      \n                    \n                    -\n                    \n                      R\n                      \u2061\n                      \n                        (\n                        t\n                        )\n                      \n                    \n                  \n                  )\n                \n                \u2062\n                \n                  \n                \n                \u2062\n                \n                  \u2146\n                  t\n                \n              \n            \n            \n              -\n              k\n            \n          \n          =\n          \n            \n              \u03c4\n              \u2062\n              \n                \n              \n              \u2062\n              \n                e\n                \n                  \n                    d\n                    0\n                  \n                  \u2062\n                  \n                    /\n                  \n                  \u2062\n                  \u03c4\n                \n              \n            \n            \u2248\n            \n              \n                d\n                0\n              \n              +\n              \u03c4\n            \n          \n        \n      \n    \n    \n      \n        (\n        17\n        )",
        "The ratio",
        "\u03b7\n        =\n        \n          \n            \n              d\n              0\n            \n            \n              \n                d\n                0\n              \n              +\n              \u03c4\n            \n          \n          =\n          \n            \n              d\n              0\n            \n            \n              T\n              av\n            \n          \n        \n      \n    \n    \n      \n        (\n        18\n        )\n      \n    \n  \n\n\n\n\nis called the normalized dead time and has the property 0\u2266\u03b7\u22661. This quantity can be used to characterize the difficulty of controlling a process. It is sometimes called the controllability ratio. It has been observed that processes with small \u03b7 are easy to control and that the difficulty in controlling the system increases as \u03b7 increases. The parameters in the model (15) are represented graphically in FIG. 3. The parameter \u2212k\u2032 is simply the gain corresponding to the time distance d0+\u03c4.",
        "The goal of the control system is to mark/drop packets such that the aggregate rate of the active TCP connections will match the available capacity while at the same time maintain minimal queue size and high link utilization. Having established an expression for the open loop transfer function for TCP/AQM plant 210, it is now possible to consider an expression for the system as a whole.",
        "Returning to FIG. 2 and noting again that Target-Rate \u201cT\u201d 226 is the control target, Actual-Rate \u201cR\u201d 222 is the output of the plant (actual traffic arrival rate), mark/drop probability threshold \u201cp\u201d 224 is the control input, TCP/AQM plant 210 given by (15) as the plant to be controlled, and C(s), the control-function means 220 is to be a integral controller.",
        "The Laplace expression for the case of a integral controller may be written as,",
        "C\n            \u2061\n            \n              (\n              s\n              )\n            \n          \n          =\n          \n            \n              k\n              i\n            \n            s\n          \n        \n        ,\n      \n    \n    \n      \n        (\n        19\n        )\n      \n    \n  \n\n\n\n\nwhere ki is integral gain of the controller.",
        "The closed-loop transfer function of the TCP/AQM plant is then given as",
        "G\n            AQM\n          \n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            \n              \n                C\n                \u2061\n                \n                  (\n                  s\n                  )\n                \n              \n              \u2062\n              \n                G\n                \u2061\n                \n                  (\n                  s\n                  )\n                \n              \n            \n            \n              1\n              +\n              \n                \n                  C\n                  \u2061\n                  \n                    (\n                    s\n                    )\n                  \n                \n                \u2062\n                \n                  G\n                  \u2061\n                  \n                    (\n                    s\n                    )\n                  \n                \n              \n            \n          \n          =\n          \n            \n              \n                \n                  -\n                  \n                    kk\n                    i\n                  \n                \n                \u2062\n                \n                  e\n                  \n                    \n                      -\n                      \n                        d\n                        0\n                      \n                    \n                    \u2062\n                    s\n                  \n                \n              \n              \n                \n                  \u03c4\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    s\n                    2\n                  \n                \n                +\n                s\n                -\n                \n                  \n                    kk\n                    i\n                  \n                  \u2062\n                  \n                    e\n                    \n                      \n                        -\n                        \n                          d\n                          0\n                        \n                      \n                      \u2062\n                      s\n                    \n                  \n                \n              \n            \n            .\n          \n        \n      \n    \n    \n      \n        (\n        20\n        )",
        "The objective now is to determine the values of the parameter ki for which the closed-loop system is stable.",
        "Using an extension of the Hermite-Biehler Theorem applicable to quasipolynomials a detailed analytical characterization of the stabilizing feedback gains of the closed-loop TCP/AQM system may be performed as follows.",
        "The characteristic equation of a control system with time delay can be expressed in the general form as\n\nF(s)=d(s)+e\u2212sT1n1(s)+e\u2212sT2n2(s)+ . . . +esTmnm(s),\u2003\u2003(21)\n\nwhere d(s), ni(s) for i=1,2, . . . , m, are polynomials with real coefficients.",
        "Characteristic equations of the form (21) are also referred to as quasipolynomials. It can be shown that the so-called Hermite-Biehler Theorem for Hurwitz polynomials does not carry over to arbitrary functions f(s) of the complex variable s. However, a suitable extension of the Hermite-Biehler Theorem can be developed to study the stability of certain classes of quasipolynomials characterized as follows.",
        "If the following assumptions are made in (21)\n\nA1:deg[d(s)]=n and deg[ni(s)]\u2266n for i=1,2, . . . , m; \n\nA2:0<T1<T2< . . . <Tm,\n\nthen instead of (21), one can consider the quasipolynomial\n\nF*(s)=esTmF(s)=esTmd(s)+es(Tm\u2212T1)n1(s)+es(Tm\u2212T2)n2(s)+ . . . +nm(s).\u2003\u2003(22)",
        "Since esTm does not have any finite roots, the roots of F(s) are identical to those of F*(s). The quasipolynomial F*(s), however, has a principal term, i.e., the coefficient of the term containing the highest powers of s and es is nonzero. It then follows that this quasipolynomial is either of the delay (i.e., retarded) or of the neutral type. From this, it follows that the stability of the system with characteristic equation (21) is equivalent to the condition that all the roots of F*(s) be in the open left-half plane. Equivalently, it can be stated that F*(s) is Hurwitz or stable. The theorem below gives necessary and sufficient conditions for the stability of F*(s):",
        "Theorem 1: Let F*(s) be given by (22), and write\n\nF*(j\u03c9)=Fr(\u03c9)+jFi(\u03c9)",
        "where Fr(\u03c9) and Fi(\u03c9) represent the real and imaginary parts of F*(s), respectively. Under assumptions A1 and A2, F*(s) is stable if and only if",
        "1) Fr(\u03c9) and Fi(\u03c9) have only simple real roots and these interlace",
        "2) {dot over (F)}i(\u03c90)Fr(\u03c90)\u2212{dot over (F)}r(\u03c90){dot over (F)}r(\u03c90)>0, for some \u03c90 in (\u2212\u221e,\u221e);\n\n    \n    \n        where {dot over (F)}r(\u03c9) and {dot over (F)}i(\u03c9) denote the first derivative with respect to \u03c9 of Fr(\u03c9) and Fi(\u03c9), respectively.",
        "Using this theorem the set of all integral gains that stabilize the first-order TCP/AQM plant with time delay described by (15) may be characterized. A key step in applying Theorem 1 to check stability is to ensure that Fr(\u03c9) and Fi(\u03c9) have only real roots. Such a property can be ensured by using the following result:\n\n    \n    \n        Theorem 2: Let M and L denote the highest powers of s and es, respectively, in F*(s). Let \u03b7 be an appropriate constant such that the coefficients of the terms of highest degree in Fr(\u03c9) and Fi(\u03c9) do not vanish at \u03c9=\u03b7. Then for the equations Fr(\u03c9)=0 or Fi(\u03c9)=0 to have only real roots, it is necessary and sufficient that in the intervals\n\n\u22122l\u03c0+\u03b7\u2266\u03c9\u22662l\u03c0+\u03b7,l=1,2,3, . . .",
        "Fr(\u03c9) or Fi(\u03c9) have exactly 4lL+M real roots starting with a sufficiently large l.",
        "It is now possible to determine analytically the region in the ki parameter space for which the closed-loop TCP/AQM plant is stable.",
        "First analyze the system given by (20) without time delay, i.e., d0=0. In this case, the closed-loop characteristic equation of the system is given by\n\nF(s)=\u03c4s2+s\u2212kki.\u2003\u2003(23)",
        "For this second-order polynomial, it can be determined necessary and sufficient conditions that the controller and the plant parameters have to satisfy to guarantee the stability of the delay-free closed-loop system. Solving the characteristic equation (23) for the roots, it follows that",
        "s\n          \n            1\n            ,\n            2\n          \n        \n        =\n        \n          \n            \n              \n                -\n                1\n              \n              \u00b1\n              \n                \n                  1\n                  +\n                  \n                    4\n                    \u2062\n                    \u03c4\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      kk\n                      i\n                    \n                  \n                \n              \n            \n            \n              2\n              \u2062\n              \u03c4\n            \n          \n          .\n        \n      \n    \n    \n      \n        (\n        24\n        )",
        "Given that \u03c4>0 and k>0 are always true for the TCP/AQM plant, the closed-loop delay-free system is stable for the following condition\n\nki<0.\u2003\u2003(25)",
        "Next, let us consider the case where the time delay of the plant model is greater than zero, i.e., d0>0. The closed-loop characteristic equation of the system is then\n\nF(s)=\u2212kkie\u2212d0s+(1+\u03c4s)s.\u2003\u2003(26)",
        "It is necessary to determine the set of all stabilizing gains for the system.",
        "In order to study the stability of the closed-loop system, it is necessary to determine if all the roots of (26) lie in the open left half plane. The presence of the exponential term e\u2212d0s results in the number of roots of F(s) being infinite and this makes the stability check very difficult. However, Theorem 1 can be invoked to determine the set of all stabilizing gains ki. This procedure is explained as follows.",
        "First consider the quasipolynomial F*(s) defined by\n\nF*(s)=ed0sF(s)=\u2212kki+(1+\u03c4s)sed0s.\u2003\u2003(27)",
        "Substituting s=j\u03c9, and using the relationship ed0j\u03c9=cos(d0\u03c9)+j sin(d0\u03c9), the following expression results\n\nF*(j\u03c9)=Fr(\u03c9)+jFi(\u03c9)\n\nwhere\n\nFr(\u03c9)=\u2212kki\u2212\u03c9 sin(d0\u03c9)\u2212\u03c4\u03c92 cos(d0\u03c9)\n\nFi(\u03c9)=\u03c9[ cos(d0\u03c9)\u2212\u03c4\u03c9 sin(d0\u03c9)]",
        "For convenience of analysis, make the following change of variables, z=d0\u03c9. Thus, it is possible to rewrite the real and imaginary parts of F*(j\u03c9) as",
        "F\n            r\n          \n          \u2061\n          \n            (\n            z\n            )\n          \n        \n        =\n        \n          \n            -\n            \n              kk\n              i\n            \n          \n          -\n          \n            \n              1\n              \n                d\n                0\n              \n            \n            \u2062\n            z\n            \u2062\n            \n              \n            \n            \u2062\n            \n              sin\n              \u2061\n              \n                (\n                z\n                )\n              \n            \n          \n          -\n          \n            \n              \u03c4\n              \n                d\n                0\n                2\n              \n            \n            \u2062\n            \n              z\n              2\n            \n            \u2062\n            \n              cos\n              \u2061\n              \n                (\n                z\n                )\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        28\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            F\n            i\n          \n          \u2061\n          \n            (\n            z\n            )\n          \n        \n        =\n        \n          \n            1\n            \n              d\n              0\n            \n          \n          -\n          \n            z\n            \u2062\n            \n              \n            \n            \u2062\n            \n              cos\n              \u2061\n              \n                (\n                z\n                )\n              \n            \n          \n          -\n          \n            \n              \u03c4\n              \n                d\n                0\n                2\n              \n            \n            \u2062\n            \n              z\n              2\n            \n            \u2062\n            \n              \n                sin\n                \u2061\n                \n                  (\n                  z\n                  )\n                \n              \n              .\n            \n          \n        \n      \n    \n    \n      \n        (\n        29\n        )",
        "Theorem 1 requires a check of two conditions to ensure the stability of the quasipolynomial F*(s).",
        "Check of Condition 2 of Theorem 1: First check if\n\nE(\u03c90)={dot over (F)}i(\u03c90)Fr(\u03c90)\u2212Fi(\u03c90){dot over (F)}r(\u03c90)>0\n\nfor some \u03c90 in (\u2212\u221e,\u221e).",
        "Taking \u03c90=z0=0, for instance, gives Fr(z0)=\u2212kki and Fi(z0)=0. Also obtained is\n\n{dot over (F)}r(z0)=0\n\nand",
        "F\n          .\n        \n        i\n      \n      \u2061\n      \n        (\n        z\n        )\n      \n    \n    =\n    \n      \n        \n          (\n          \n            \n              \n                d\n                0\n              \n              -\n              \n                \u03c4\n                \u2062\n                \n                  \n                \n                \u2062\n                \n                  z\n                  2\n                \n              \n            \n            \n              d\n              0\n              2\n            \n          \n          )\n        \n        \u2062\n        \n          cos\n          \u2061\n          \n            (\n            z\n            )\n          \n        \n      \n      -\n      \n        \n          (\n          \n            \n              \n                2\n                \u2062\n                \u03c4\n              \n              +\n              \n                d\n                0\n              \n            \n            \n              d\n              0\n              2\n            \n          \n          )\n        \n        \u2062\n        z\n        \u2062\n        \n          \n        \n        \u2062\n        \n          sin\n          \u2061\n          \n            (\n            z\n            )\n          \n        \n      \n    \n  \n  ,\n  \n    \n      \u21d2\n      \n        \n          \n            F\n            .\n          \n          i\n        \n        \u2061\n        \n          (\n          \n            z\n            0\n          \n          )\n        \n      \n    \n    =\n    \n      \n        1\n        \n          d\n          0\n        \n      \n      .",
        "From these it may be seen that",
        "E\n    \u2061\n    \n      (\n      \n        z\n        0\n      \n      )\n    \n  \n  =\n  \n    \n      (\n      \n        1\n        \n          d\n          0\n        \n      \n      )\n    \n    \u2062\n    \n      \n        (\n        \n          -\n          \n            kk\n            i\n          \n        \n        )\n      \n      .",
        "Given that for the TCP/AQM plant the conditions \u03c4>0 and k>0 hold true, it is required that Fr(z0)=\u2212kki>0 (i.e., ki<0) for E(z0)>0. This result is consistent with that given in (25).",
        "Check of Condition 1 of Theorem 1: Now check the interlacing of the roots of Fr(z) and Fi(z). The roots of the imaginary part, i.e., Fi(z)=0 can be determined from (29). This yields",
        "z\n      \n        d\n        0\n      \n    \n    \u2061\n    \n      [\n      \n        \n          cos\n          \u2061\n          \n            (\n            z\n            )\n          \n        \n        -\n        \n          \n            \u03c4\n            \n              d\n              0\n            \n          \n          \u2062\n          z\n          \u2062\n          \n            \n          \n          \u2062\n          \n            sin\n            \u2061\n            \n              (\n              z\n              )\n            \n          \n        \n      \n      ]\n    \n  \n  =\n  0.",
        "It may be seen from this equation that z=0 is a root of Fi(z), or",
        "cot\n          \u2061\n          \n            (\n            z\n            )\n          \n        \n        =\n        \n          \n            \u03c4\n            \n              d\n              0\n            \n          \n          \u2062\n          z\n        \n      \n    \n    \n      \n        (\n        30\n        )",
        "One root of the imaginary part Fi(z) is z0=0 but the other roots are difficult to find and require an analytical solution of (30). However, a plot of the two terms in (30), (i.e., cot(z) and",
        "\u03c4\n      \n        d\n        0\n      \n    \n    \u2062\n    z\n  \n  )\n\n\n\n\ncan be used to understand the nature of the real solution. It is possible to plot these two terms for arbitrarily selected values of k, \u03c4 and d0. The general nature of the plots, however, does not change with the use of other values. Arranged in increasing order of magnitude, denote the positive real roots of (30) by zj, j=1,2,3, . . . From FIG. 4, it may be clearly seen that the non-negative real roots of the imaginary part Fi(z) satisfy",
        "z\n            1\n          \n          \u2062\n          \u03b5\n          \u2062\n          \n            \n          \n          \u2062\n          \n            (\n            \n              0\n              ,\n              \n                \u03c0\n                2\n              \n            \n            )\n          \n        \n        ,\n        \n          \n            z\n            2\n          \n          \u2062\n          \u03b5\n          \u2062\n          \n            \n          \n          \u2062\n          \n            (\n            \n              \u03c0\n              ,\n              \n                \n                  3\n                  \u2062\n                  \u03c0\n                \n                2\n              \n            \n            )\n          \n        \n        ,\n        \n          \n            z\n            3\n          \n          \u2062\n          \u03b5\n          \u2062\n          \n            \n          \n          \u2062\n          \n            (\n            \n              \n                2\n                \u2062\n                \u03c0\n              \n              ,\n              \n                \n                  5\n                  \u2062\n                  \u03c0\n                \n                2\n              \n            \n            )\n          \n        \n        ,\n        \n          \n            z\n            4\n          \n          \u2062\n          \u03b5\n          \u2062\n          \n            \n          \n          \u2062\n          \n            (\n            \n              \n                3\n                \u2062\n                \u03c0\n              \n              ,\n              \n                \n                  7\n                  \u2062\n                  \u03c0\n                \n                2\n              \n            \n            )\n          \n        \n        ,\n        \u00c4\n      \n    \n    \n      \n        (\n        31\n        )",
        "Theorem 2 may now be applied to check if Fi(z) has only real roots. Substitute s1=d0s in the expression for F*(s) (in (27)). It may now be seen that the new quasipolynomial in s1 yields M=2 and L=1. Choose",
        "\u03b7\n  =\n  \n    \u03c0\n    4\n  \n\n\n\n\nto satisfy the requirement that Fi(z) does not vanish at \u03c9=\u03b7, i.e., sin(\u03b7)\u22600. From FIG. 4, it may be seen that in the interval",
        "[\n      \n        0\n        ,\n        \n          \n            2\n            \u2062\n            \u03c0\n          \n          -\n          \n            \u03c0\n            4\n          \n        \n      \n      ]\n    \n    =\n    \n      [\n      \n        0\n        ,\n        \n          \n            7\n            \u2062\n            \u03c0\n          \n          4\n        \n      \n      ]\n    \n  \n  ,\n\n\n\n\nFi(z)=0 has 3 real roots including a root at the origin z0=0. It is further apparent that Fi(z) is an odd function. It therefore follows that in the interval",
        "[\n    \n      \n        -\n        \n          \n            7\n            \u2062\n            \u03c0\n          \n          4\n        \n      \n      ,\n      \n        \n          7\n          \u2062\n          \u03c0\n        \n        4\n      \n    \n    ]\n  \n  ,\n\n\n\n\nFi(z) will have 5 real roots. It is also possible to observe that Fi(z) has one real root in",
        "(\n    \n      \n        \n          7\n          \u2062\n          \u03c0\n        \n        4\n      \n      ,\n      \n        \n          9\n          \u2062\n          \u03c0\n        \n        4\n      \n    \n    ]\n  \n  .\n\n\n\n\nThus, Fi(z) has 4L+M=6 real roots in the interval",
        "[\n    \n      \n        \n          \n            -\n            2\n          \n          \u2062\n          \u03c0\n        \n        +\n        \n          \u03c0\n          4\n        \n      \n      ,\n      \n        \n          2\n          \u2062\n          \u03c0\n        \n        +\n        \n          \u03c0\n          4\n        \n      \n    \n    ]\n  \n  .\n\n\n\n\nFurthermore, Fi(z) has 2 real roots in each of the intervals",
        "[\n    \n      \n        \n          2\n          \u2062\n          l\u03c0\n        \n        +\n        \n          \u03c0\n          4\n        \n      \n      ,\n      \n        \n          2\n          \u2062\n          \n            (\n            \n              l\n              +\n              1\n            \n            )\n          \n          \u2062\n          \u03c0\n        \n        +\n        \n          \u03c0\n          4\n        \n      \n    \n    ]\n  \n  \u2062\n  \n    \n  \n  \u2062\n  \n    and\n    \u2062\n    \n      \n    \n    [\n    \n      \n        \n          \n            -\n            2\n          \n          \u2062\n          \n            (\n            \n              l\n              +\n              1\n            \n            )\n          \n          \u2062\n          \u03c0\n        \n        +\n        \n          \u03c0\n          4\n        \n      \n      ,\n      \n        \n          \n            -\n            2\n          \n          \u2062\n          l\u03c0\n        \n        +\n        \n          \u03c0\n          4\n        \n      \n    \n    ]\n  \n\n\n\n\nfor l=1,2,3, . . . Hence it follows that Fi(z) has exactly 4lL+M real roots in the interval",
        "[\n  \n    \n      \n        \n          -\n          2\n        \n        \u2062\n        l\u03c0\n      \n      +\n      \n        \u03c0\n        4\n      \n    \n    ,\n    \n      \n        2\n        \u2062\n        l\u03c0\n      \n      +\n      \n        \u03c0\n        4\n      \n    \n  \n  ]\n\n\n\n\nfor l=1,2,3, . . . , which by Theorem 2 implies that Fi(z) has only real roots.",
        "Fr(z) can now be evaluated at the roots of the imaginary part Fi(z). For z0=0, it was obtained previously Fr(z0)=\u2212kki. Now using (28), the following obtains for zj, j=1,2,3, . . . ,",
        "F\n      r\n    \n    \u2061\n    \n      (\n      \n        z\n        j\n      \n      )\n    \n  \n  =\n  \n    \n      -\n      \n        kk\n        i\n      \n    \n    -\n    \n      \n        1\n        \n          d\n          0\n        \n      \n      \u2062\n      \n        z\n        j\n      \n      \u2062\n      \n        sin\n        \u2061\n        \n          (\n          \n            z\n            j\n          \n          )\n        \n      \n    \n    -\n    \n      \n        \u03c4\n        \n          d\n          0\n          2\n        \n      \n      \u2062\n      \n        z\n        j\n        2\n      \n      \u2062\n      \n        \n          cos\n          \u2061\n          \n            (\n            \n              z\n              j\n            \n            )\n          \n        \n        .",
        "Using",
        "z\n    \n      d\n      0\n    \n  \n  =\n  \n    \n      cot\n      \u2061\n      \n        (\n        z\n        )\n      \n    \n    \u03c4\n  \n\n\n\n\nfrom (30) in the above equation, it obtains that",
        "F\n            r\n          \n          \u2061\n          \n            (\n            \n              z\n              j\n            \n            )\n          \n        \n        =\n        \n          \n            \n              \n                -\n                \n                  kk\n                  i\n                \n              \n              -\n              \n                \n                  \n                    sin\n                    \u2061\n                    \n                      (\n                      \n                        z\n                        j\n                      \n                      )\n                    \n                  \n                  \u2062\n                  \n                    cot\n                    \u2061\n                    \n                      (\n                      \n                        z\n                        j\n                      \n                      )\n                    \n                  \n                \n                \u03c4\n              \n              -\n              \n                \n                  \u03c4\n                  \n                    d\n                    0\n                    2\n                  \n                \n                \u2062\n                \n                  z\n                  j\n                  2\n                \n                \u2062\n                \n                  cos\n                  \u2061\n                  \n                    (\n                    \n                      z\n                      j\n                    \n                    )\n                  \n                \n              \n            \n            \u2062\n            \n              \n\n            \n            \u21d2\n            \n              \n                F\n                r\n              \n              \u2061\n              \n                (\n                \n                  z\n                  j\n                \n                )\n              \n            \n          \n          =\n          \n            \n              -\n              \n                kk\n                i\n              \n            \n            -\n            \n              \n                \n                  \u03c4\n                  \n                    d\n                    0\n                    2\n                  \n                \n                \u2061\n                \n                  [\n                  \n                    \n                      z\n                      j\n                      2\n                    \n                    +\n                    \n                      \n                        d\n                        0\n                        2\n                      \n                      \n                        \u03c4\n                        2\n                      \n                    \n                  \n                  ]\n                \n              \n              \u2062\n              \n                cos\n                \u2061\n                \n                  (\n                  \n                    z\n                    j\n                  \n                  )\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        32\n        )",
        "Therefore\n\nFr(zj)=\u2212k[ki+a(zj)],\u2003\u2003(33)\n\nwhere",
        "a\n          \u2061\n          \n            (\n            \n              z\n              j\n            \n            )\n          \n        \n        =\n        \n          \n            \n              \u03c4\n              \n                kd\n                0\n                2\n              \n            \n            \u2061\n            \n              [\n              \n                \n                  z\n                  j\n                  2\n                \n                +\n                \n                  \n                    d\n                    0\n                    2\n                  \n                  \n                    \u03c4\n                    2\n                  \n                \n              \n              ]\n            \n          \n          \u2062\n          \n            \n              cos\n              \u2061\n              \n                (\n                \n                  z\n                  j\n                \n                )\n              \n            \n            .\n          \n        \n      \n    \n    \n      \n        (\n        34\n        )",
        "From the previous results, Fr(z0)=\u2212kki>0 (i.e., ki<0). Then interlacing of the roots of Fr(z) and Fi(z) is equivalent to Fr(z1)<0, Fr(z2)>0, Fr(z3)<0, and so on. Using this fact, the result Fr(z0)=\u2212kki>0 and Equation (33), it may be seen that",
        "F\n                r\n              \n              \u2061\n              \n                (\n                \n                  z\n                  0\n                \n                )\n              \n            \n            >\n            0\n          \n          \u21d2\n          \n            \n              k\n              i\n            \n            <\n            0\n          \n        \n        \u2062\n        \n          \n\n        \n        \u2062\n        \n          \n            \n              \n                \n                  F\n                  r\n                \n                \u2061\n                \n                  (\n                  \n                    z\n                    1\n                  \n                  )\n                \n              \n              <\n              0\n            \n            \u21d2\n            \n              \n                k\n                i\n              \n              >\n              \n                -\n                \n                  a\n                  \u2061\n                  \n                    (\n                    \n                      z\n                      i\n                    \n                    )\n                  \n                \n              \n            \n          \n          =\n          \n            a\n            1\n          \n        \n        \u2062\n        \n          \n\n        \n        \u2062\n        \n          \n            \n              \n                \n                  F\n                  r\n                \n                \u2061\n                \n                  (\n                  \n                    z\n                    2\n                  \n                  )\n                \n              \n              >\n              0\n            \n            \u21d2\n            \n              \n                k\n                i\n              \n              <\n              \n                -\n                \n                  a\n                  \u2061\n                  \n                    (\n                    \n                      z\n                      2\n                    \n                    )\n                  \n                \n              \n            \n          \n          =\n          \n            a\n            2\n          \n        \n        \u2062\n        \n          \n\n        \n        \u2062\n        \n          \n            \n              \n                \n                  F\n                  r\n                \n                \u2061\n                \n                  (\n                  \n                    z\n                    3\n                  \n                  )\n                \n              \n              <\n              0\n            \n            \u21d2\n            \n              \n                k\n                i\n              \n              >\n              \n                -\n                \n                  a\n                  \u2061\n                  \n                    (\n                    \n                      z\n                      3\n                    \n                    )\n                  \n                \n              \n            \n          \n          =\n          \n            a\n            3\n          \n        \n        \u2062\n        \n          \n\n        \n        \u2062\n        \u22ee\n      \n    \n    \n      \n        (\n        35\n        )",
        "The following observations can now be made (noting that for the TCP/AQM plant the \u03c4>0, d0\u22670 and k>0 hold true);\n\n    \n    \n        Observation 1: From (31), it is seen that zj for odd values of j (1, 3, 5, . . . ), are in the first quadrant. Thus, for odd values of j, cos(zj)>0 and from (34), it may be concluded that a(zj)>0 for odd values of the parameter j.\n        Observation 2: Similarly, it is seen from (31) that Zj for even values of j, (2, 4, 6, . . . ) are in the third quadrant. Thus, for even values of j, cos(zj)<0 and from (34), it follows that a(zj)<0 for even values of the parameters",
        "All the set of inequalities obtained above can now be rewritten as",
        "max\n            \n              \n                \n                  j\n                  =\n                  1\n                \n                ,\n                3\n                ,\n                5\n                ,\n                \u2026\n              \n              \u2062\n              \n                \n              \n            \n          \n          \u2062\n          \n            {\n            \n              a\n              j\n            \n            }\n          \n        \n        <\n        \n          k\n          i\n        \n        <\n        \n          \n            min\n            \n              \n                j\n                =\n                0\n              \n              ,\n              2\n              ,\n              4\n              ,\n              6\n              ,\n              \u2026\n            \n          \n          \u2062\n          \n            \n              {\n              \n                a\n                j\n              \n              }\n            \n            .\n          \n        \n      \n    \n    \n      \n        (\n        36\n        )",
        "From (30) and the relationship 1+tan2(zj)=sec2(zj), it follows that",
        "cos\n          \u2061\n          \n            (\n            \n              z\n              j\n            \n            )\n          \n        \n        =\n        \n          \n            \u00b1\n            \n              \n                1\n                \n                  1\n                  +\n                  \n                    \n                      tan\n                      2\n                    \n                    \u2061\n                    \n                      (\n                      \n                        z\n                        j\n                      \n                      )\n                    \n                  \n                \n              \n            \n          \n          =\n          \n            \u00b1\n            \n              \n                \n                  z\n                  j\n                \n                \n                  \n                    \n                      z\n                      j\n                      2\n                    \n                    +\n                    \n                      \n                        d\n                        0\n                        2\n                      \n                      \n                        \u03c4\n                        2\n                      \n                    \n                  \n                \n              \n              .\n            \n          \n        \n      \n    \n    \n      \n        (\n        37\n        )",
        "From the foregoing analysis zj, j=1,2,3, . . . , are solutions of (30). Now using the above expression, it is possible to rewrite a(zj) defined in (34) as",
        "a\n          \u2061\n          \n            (\n            \n              z\n              j\n            \n            )\n          \n        \n        =\n        \n          \n            \u00b1\n            \n              \u03c4\n              \n                kd\n                0\n                2\n              \n            \n          \n          \u2062\n          \n            z\n            j\n          \n          \u2062\n          \n            \n              \n                z\n                j\n                2\n              \n              +\n              \n                \n                  d\n                  0\n                  2\n                \n                \n                  \u03c4\n                  2\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        38\n        )\n      \n    \n  \n\n\n\n\nwhere according to Observations 1 and 2 above, the plus sign (+) is used for odd values of j, and the minus sign (\u2212) is used for even values of j.",
        "With (38) it is possible to make the following observation:\n\n    \n    \n        Observation 3: Since z1<z2<z3<z4< . . . , from (38) (and Observations 1 and 2), it is seen that a(zj) is a monotonically increasing function for odd values of j (1, 3, 5, . . . ), i.e., a(z1)<a(z3)<a(z5)< . . . , and a(zj) is a monotonically decreasing function for even values of j (0, 2, 4, 6, . . . ), i.e., a(z0)>a(z2)>a(z4)>a(z6)> . . . It is also clear that a(z0)=0, z0=0.",
        "From this observation, the bounds for ki in (36) can now be expressed as",
        "-\n            \n              a\n              \u2061\n              \n                (\n                \n                  z\n                  1\n                \n                )\n              \n            \n          \n          <\n          \n            k\n            i\n          \n          <\n          0\n        \n        ,\n        \n          \n            z\n            1\n          \n          \u2062\n          \u03b5\n          \u2062\n          \n            \n          \n          \u2062\n          \n            \n              (\n              \n                0\n                ,\n                \n                  \u03c0\n                  2\n                \n              \n              )\n            \n            .\n          \n        \n      \n    \n    \n      \n        (\n        39\n        )",
        "Therefore, for the interlacing property to hold it must be that",
        "-\n          \n            \u03c4\n            \n              kd\n              0\n              2\n            \n          \n        \n        \u2062\n        \n          z\n          1\n        \n        \u2062\n        \n          \n            \n              \n                \n                  z\n                  1\n                  2\n                \n                +\n                \n                  \n                    d\n                    0\n                    2\n                  \n                  \n                    \u03c4\n                    2\n                  \n                \n              \n              <\n              \n                k\n                i\n              \n              <\n              0\n            \n            ,\n            \n              \n                z\n                1\n              \n              \u2208\n              \n                \n                  (\n                  \n                    0\n                    ,\n                    \n                      \u03c0\n                      2\n                    \n                  \n                  )\n                \n                .\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        40\n        )",
        "Note that for the values of ki in this range, the interlacing property and the fact that the root of Fi(z) are all real can be used in Theorem 2 to guarantee that Fr(z) also has only real roots. At this point, it is seen that all the conditions of Theorem 1 are satisfied.",
        "It is possible to summarize the algorithm for determining the integral controller parameters as shown in FIG. 5. The process initiates, at step 400, by obtaining for a network a set of parameters k, d0, and \u03c4, where k is a steady-state gain of said network, d0 is a time delay of said network, and \u03c4 is a time constant of said network. Next, at step 410, determining the root z1 in the interval",
        "z\n    1\n  \n  \u2208\n  \n    (\n    \n      0\n      ,\n      \n        \u03c0\n        2\n      \n    \n    )",
        "cot\n      \u2061\n      \n        (\n        z\n        )\n      \n    \n    =\n    \n      \n        \u03c4\n        \n          d\n          0\n        \n      \n      \u2062\n      z\n    \n  \n  ,\n\n\n\n\nNext at step 420, computing the range of stable gains for ki for this particular network as",
        "-\n      \n        \u03c4\n        \n          kd\n          0\n          2\n        \n      \n    \n    \u2062\n    \n      z\n      1\n    \n    \u2062\n    \n      \n        \n          z\n          1\n          2\n        \n        +\n        \n          \n            d\n            0\n            2\n          \n          \n            \u03c4\n            2\n          \n        \n      \n    \n  \n  <\n  \n    k\n    i\n  \n  <\n  0.",
        "As an example illustrating the use of the algorithm, consider the sample problem of characterizing the stabilizing integral controller gains for a TCP/AQM system with nominal operating parameters of T=\u03c1C=45 Mbps, N=800, and d0=55 msec. We also select a small nominal packet size of 64 bytes which we use only for the computation of the stability region. A smaller packet size is selected for this purpose because of the fluid-flow model used in the TCP/AQM control problem. For this system k=1.0515\u00d7106 and \u03c4=0.1652. Note that in deriving the control parameters, T is the control target and the TCP parameter \u03b8=\u2154. Following the procedure described in FIG. 5, compute",
        "z\n    1\n  \n  \u2062\n  \u03b5\n  \u2062\n  \n    \n  \n  \u2062\n  \n    (\n    \n      0\n      ,\n      \n        \u03c0\n        2\n      \n    \n    )\n  \n\n\n\n\nsatisfying (30) to obtain z1=0.54583. From this, it is possible to obtain the range of stable ki gains as \u22121.8184\u00d710\u22125<ki<0.",
        "As a simple assessment of the region of gains obtained, the system controller response and the system step response of a gain chosen from within the region may be examined. Set the controller gain ki (inside the stabilizing range) as \u22121.5\u00d710\u22126.",
        "With this value of ki, the characteristic quasipolynomial of the system is given by\n\nF*(s)=1.5773+(1+0.1652s)sed0s.",
        "Substituting s=j\u03c9, it follows that\n\nF*(j\u03c9)=[1.5773\u2212\u03c9 sin(d0\u03c9)\u22120.1 652\u03c92 cos(d0\u03c9)]\n\n+j[\u03c9 cos(d0\u03c9)\u22120.1652\u03c92 sin(d0\u03c9)]",
        "FIG. 6 shows the plot of the real and imaginary parts of F*(j\u03c9). It can be observed that the real and imaginary parts interlace.",
        "Further, it is possible to plot the resultant step response of the closed-loop TCP/AQM system as shown in FIG. 7. It can be seen from this figure that the closed-loop system is stable and the system output R(t) tracks the step input signal T(t).",
        "Choosing which gain is most appropriate for a given system is a decision of the system engineer. Increased integral controller gain improves the steady-state error and provides robustness with respect to parameter variations, but high gains may destabilize the system. Having available a range over which all gains are stable provides the advantage to the system engineer of being able to emphasize whichever aspect of controller performance is most desired, while at the same time ensuring that the system performance remains within bounds.",
        "Once the stabilizing integral controller gains have been determined (based upon a TCP/AQM model using small nominal packet size e.g. 64 byte packets), the integral control algorithm can easily be constructed. The integral controller output (19) is given in the s-domain as",
        "P\n      i\n    \n    \u2061\n    \n      (\n      s\n      )\n    \n  \n  =\n  \n    \n      \n        \n          C\n          i\n        \n        \u2061\n        \n          (\n          s\n          )\n        \n      \n      \u00b7\n      \n        E\n        \u2061\n        \n          (\n          s\n          )\n        \n      \n    \n    =\n    \n      \n        \n          k\n          1\n        \n        s\n      \n      \u00b7\n      \n        \n          E\n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        .\n      \n    \n  \n\n\n\n\nwhere E(s) is the Laplace transform of the control error e(t)=T\u2212R(t).",
        "Denoting tm, m=1,2,3, . . . as the sampling instants (i.e., the times the controller reads the input values), then in the continuous-time domain, the controller output is given as",
        "p\n      i\n    \n    \u2061\n    \n      (\n      t\n      )\n    \n  \n  =\n  \n    \n      k\n      i\n    \n    \u2062\n    \n      \n        \u222b\n        0\n        1\n      \n      \u2062\n      \n        \n          e\n          \u2061\n          \n            (\n            h\n            )\n          \n        \n        \u2062\n        \n          \n        \n        \u2062\n        \n          \u2146\n          h",
        "It follows that",
        "\u2146\n      \n        \n          p\n          i\n        \n        \u2061\n        \n          (\n          t\n          )\n        \n      \n    \n    \n      \u2146\n      t\n    \n  \n  =\n  \n    \n      k\n      i\n    \n    \u2062\n    \n      \n        e\n        \u2061\n        \n          (\n          t\n          )\n        \n      \n      .",
        "If this derivative is approximated by the backward difference, the following discrete-time approximation may be obtained",
        "p\n            i\n          \n          \u2061\n          \n            (\n            \n              t\n              m\n            \n            )\n          \n        \n        -\n        \n          \n            p\n            i\n          \n          \u2061\n          \n            (\n            \n              t\n              \n                m\n                -\n                1\n              \n            \n            )\n          \n        \n      \n      \n        \u0394\n        \u2062\n        \n          \n        \n        \u2062\n        t\n      \n    \n    =\n    \n      \n        k\n        i\n      \n      \u2062\n      \n        e\n        \u2061\n        \n          (\n          \n            t\n            m\n          \n          )\n        \n      \n    \n  \n  ,\n\n\n\n\nwhere \u0394t=tm\u2212tm\u22121, m=1, 2, 3, . . . , is the sampling interval.",
        "This leads to the following recursive equation for the I-controller\n\npi(tm)=pi(tm\u22121)+ki\u0394te(tm).",
        "A flow chart for the control algorithm and the packet mark/drop routine are shown in FIG. 8 and FIG. 9. In the figures, the discrete sampling instants are simply represented as n=0\u0394t,1\u0394t,2\u0394t,3\u0394t, . . . Note that no packet marking/dropping takes place when R(t)\u2266TL in FIG. 9. The parameter TL rate threshold is simply a threshold lower than or equal to the control target T during which no packets are marked/dropped even though the mark/drop probability p(t) can be greater than zero. This simple mechanism helps to further minimize oscillations in link utilization and keep the utilization around the control target. Given that the models used in the design of the control system are approximations of the real TCP/AQM plant (i.e., neglect TCP slow start, timeouts), additional mechanisms may be useful to enhance the performance.",
        "It is also important to note that rate measurements are usually noisy and as a result will require some low pass filtering. A simple exponentially weighted moving average (EWMA) filter, for example, can be used for this. The EWMA filter can be expressed as\n\n{circumflex over (R)}(tm)=(1\u2212\u03b2){circumflex over (R)}(tm\u22121)+\u03b2R(tm),0<\u03b2<1.",
        "As shown in FIG. 8 the process initiates, at step 600, at discrete time n=0, by initializing certain parameters. The timer is set to \u0394t time units, and mark/drop probability p(0), and Rate signal R(0) are set to initial values. The initial mark/drop probability is used in the mark/drop routine until further samples are available. A nominal packet size of x is also chosen at step 600. \u0394t step 610, the timer is reset to \u0394t time units to advance to the next discrete time interval. Then at step 620 the data arrival rate R is measured.",
        "At step 630 there is an optional step of pre-filtering the data arrival rate as described previously.",
        "At step 640 the assigned capacity is determined. Typically this is a given for a particular network configuration, but may vary as circumstances warrant, for example if the network is modified.",
        "At step 650 an error signal e(n) is calculated as the difference between the assigned capacity and the measured (and possibly filtered) data arrival rate The error signal is normalized by the nominal packet size x so that the measurements R and T will be consistent with the packet size x used in the computations of the stability gain.",
        "At step 660, a current mark/drop probability p(n) is calculated as per an integral controller using the stable gain ki established at step 600.",
        "The mark/drop probability calculated at step 660 may be used as the mark/drop probability until the next measurement time as tracked by the timer, at which point a new mark/drop probability will be calculated. In addition, the filtered arrival rate R\u2032(n) if filtering is used, is stored to be used at the next measurement time.",
        "The process may then loop back to step 610 upon timer expiration for another iteration of the process.",
        "FIG. 9 presents a flowchart of a random number generator mark/drop routine. The decision to accept or mark/drop an incoming packet in the routine is based upon the outcome of a comparison of a randomly generated number Pr\u03b5[0,1] and the mark/drop probability p(n). The procedure can be described as follows.",
        "Upon a packet arrival at the queue, at step 700 a determination is made whether the arrival rate is less than or equal to a no-mark/drop rate threshold. If the rate is less than or equal to the rate threshold, then the incoming packet is queued at step 740. If the rate is not less than or equal the rate threshold, then the routine moves to step 710 where a random number pr\u03b5[0,1] is generated. At step 720 a determination of whether the random number pr is less than or equal to the calculated mark/drop probability p(n) is made.",
        "If the probability pr is less than or equal, then the packet is marked/dropped at step 730. If not, the packet is queued at step 740.",
        "FIG. 10 provides a high-level description of the overall integral control scheme according to an embodiment of the invention. At module 800 TCP/AQM parameters representative of the specific data network to be controlled are obtained. At module 805 these parameters are used to calculate a regime of stable gains for integral gain ki for an integral controller. At module 810 a particular gain is selected from the regime calculated in the previous step. At module 825, an ongoing mark/drop probability calculation occurs, using the previously selected gain from module 810, and using a measured data arrival rate from module 815 and an assigned capacity T(n) and nominal packet size x. At module 830 a current mark/drop probability is calculated. The module 835 generates a random number in the range [0,1]. Module 840 utilizes the current mark/drop probability p(n) calculated by module 830, and the random number calculated by module 835 to make a determination to mark/drop or queue an incoming packet.",
        "While the invention has been described in conjunction with specific embodiments thereof, it is evident that many alternatives, modifications, and variations will be apparent to those skilled in the art in light of the foregoing description. Accordingly, it is intended to embrace all such alternatives, modifications, and variations as fall within the spirit and broad scope of the appended claims."
    ],
    "citations": [
        "6690645",
        "6788697",
        "2002/0105908",
        "2003/0067878"
    ],
    "us_classification": "370232",
    "international_classifications": [
        {
            "classification_level": "A",
            "section": "H",
            "classification_class": "04",
            "subclass": "L",
            "main_group": "12",
            "subgroup": "26"
        }
    ]
}