{
    "title": "Asymmetry correction in read signal",
    "abstract": "Systems and techniques relating to interpreting signals on a channel having an asymmetrical signal amplitude response. A signal processor, such as a read channel transceiver device usable in a magnetic recording system, includes an asymmetry correction circuit configured to receive an analog signal and to compensate for asymmetry in the received analog signal, a signal equalizer configured to receive an input signal responsive to an output of the asymmetry correction circuit and to generate an equalized signal, a discrete time sequence detector operable to examine the equalized signal, and a control circuit that provides a coefficient adjustment to the asymmetry correction circuit to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete time sequence detector. The estimate can be a least mean squared estimate of the non-linearity in the equalized signal.",
    "inventors": [
        "Han"
    ],
    "document_number": "07298570",
    "publication_date": "20071120",
    "assignees": [
        "Marvell International Ltd."
    ],
    "claims": [
        {
            "claim_number": "CLM-00001",
            "preamble": "1. An apparatus comprising:",
            "components": [
                {
                    "component": "an asymmetry correction circuit configured to receive an analog signal and to compensate for asymmetry in the received analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "a signal equalizer configured to receive an input signal responsive to an output of the asymmetry correction circuit and to generate an equalized signal;",
                    "subcomponents": []
                },
                {
                    "component": "a discrete time sequence detector operable to examine the equalized signal; and",
                    "subcomponents": []
                },
                {
                    "component": "a control circuit that provides a coefficient adjustment to the asymmetry correction circuit to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete time sequence detector;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the coefficient adjustment comprises one or more values received by the asymmetry correction circuit to control the asymmetry compensation, the one or more values being generated according to an equation, q",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00002",
            "preamble": "2. The apparatus of claim 1 , wherein the estimate comprises a least mean squared estimate of the non-linearity in the equalized signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00003",
            "preamble": "3. The apparatus of claim 1 , wherein the coefficient adjustment consists of a second order coefficient adjustment value, and the asymmetry correction circuit comprises a squaring circuit, a multiplier circuit, and an adder circuit.",
            "components": []
        },
        {
            "claim_number": "CLM-00004",
            "preamble": "4. An apparatus comprising:",
            "components": [
                {
                    "component": "an asymmetry correction circuit configured to receive an analog signal and to compensate for asymmetry in the received analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "a signal equalizer configured to receive an input signal responsive to an output of the asymmetry correction circuit and to generate an equalized signal;",
                    "subcomponents": []
                },
                {
                    "component": "a discrete time sequence detector operable to examine the equalized signal; and",
                    "subcomponents": []
                },
                {
                    "component": "a control circuit that provides a coefficient adjustment to the asymmetry correction circuit to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete time sequence detector;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the coefficient adjustment comprises at least second, third and fourth order coefficient adjustment values, and the asymmetry correction circuit comprises a squaring circuit, a cubing circuit, multiplier circuits, and adder circuits.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00005",
            "preamble": "5. The apparatus of claim 1 , wherein the discrete time sequence detector comprises a Viterbi detector.",
            "components": []
        },
        {
            "claim_number": "CLM-00006",
            "preamble": "6. The apparatus of claim 1 , further comprising a continuous time filter responsive to the output of the asymmetry correction circuit and an analog to digital converter (ADC) responsive to an output of the continuous time filter, wherein the signal equalizer comprises a finite impulse response (FIR) digital filter, the input signal of the FIR digital filter being responsive to an output of the ADC.",
            "components": []
        },
        {
            "claim_number": "CLM-00007",
            "preamble": "7. The apparatus of claim 1 , wherein the asymmetry correction circuit, the signal equalizer, the discrete time sequence detector and the control circuit comprise at least a portion of a read channel in a magnetic storage access device.",
            "components": []
        },
        {
            "claim_number": "CLM-00008",
            "preamble": "8. The apparatus of claim 1 , wherein the analog signal comprises a readback signal obtained from a storage medium.",
            "components": []
        },
        {
            "claim_number": "CLM-00009",
            "preamble": "9. An apparatus comprising:",
            "components": [
                {
                    "component": "means for compensating for asymmetry in a received analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "means for equalizing an input signal responsive to an output of the means for compensating;",
                    "subcomponents": []
                },
                {
                    "component": "discrete time-means for detecting data in the equalized signal; and",
                    "subcomponents": []
                },
                {
                    "component": "control means for providing a coefficient adjustment to the means for compensating to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete time means for detecting;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the coefficient adjustment comprises one or more values received by the means for compensating to control the asymmetry compensation, the one or more values being generated according to an equation, q",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00010",
            "preamble": "10. The apparatus of claim 9 , wherein the estimate comprises a least mean squared estimate of the non-linearity in the equalized signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00011",
            "preamble": "11. The apparatus of claim 9 , wherein the coefficient adjustment consists of a second order coefficient adjustment value, and the means for compensating comprises means for squaring the analog signal, means for mixing the squared analog signal with the second order coefficient adjustment value, and means for combining the mixed signal with the analog signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00012",
            "preamble": "12. An apparatus comprising:",
            "components": [
                {
                    "component": "means for compensating for asymmetry in a received analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "means for equalizing an input signal responsive to an output of the means for compensating;",
                    "subcomponents": []
                },
                {
                    "component": "discrete-time means for detecting data in the equalized signal; and",
                    "subcomponents": []
                },
                {
                    "component": "control means for providing a coefficient adjustment to the means for compensating to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete-time means for detecting;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the coefficient adjustment comprises at least second, third and fourth order coefficient adjustment values, and the means for compensating comprises means for squaring the analog signal, means for cubing the analog signal, means for mixing the squared and cubed signals with the coefficient adjustment values, and means for combining the mixed signals with the analog signal.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00013",
            "preamble": "13. The apparatus of claim 9 , wherein the discrete-time means comprises Viterbi means for detecting data in the equalized signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00014",
            "preamble": "14. The apparatus of claim 9 , further comprising continuous-time means for filtering the output of the means for compensating and means for converting an analog output of the continuous-time means for filtering to a digital signal, wherein the means for equalizing comprises finite impulse response (FIR) means for filtering the digital signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00015",
            "preamble": "15. The apparatus of claim 9 , wherein the means for compensating, the means for equalizing, the discrete-time means and the control means comprise at least a portion of means for processing a magnetic storage readback signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00016",
            "preamble": "16. The apparatus of claim 9 , wherein the analog signal comprises a readback signal obtained from a storage medium.",
            "components": []
        },
        {
            "claim_number": "CLM-00017",
            "preamble": "17. A system comprising:",
            "components": [
                {
                    "component": "a storage medium;",
                    "subcomponents": []
                },
                {
                    "component": "a head assembly operable to obtain ml analog signal from the storage medium;",
                    "subcomponents": []
                },
                {
                    "component": "an asymmetry correction circuit configured to receive the analog signal and to compensate for asymmetry in the received analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "a signal equalizer configured to receive an input signal responsive to an output of the asymmetry correction circuit and to generate an equalized signal;",
                    "subcomponents": []
                },
                {
                    "component": "a discrete time sequence detector operable to examine the equalized signal; and",
                    "subcomponents": []
                },
                {
                    "component": "a control circuit that provides a coefficient adjustment to the asymmetry correction circuit to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete time sequence detector;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the coefficient adjustment comprises one or more values received by the asymmetry correction circuit to control the asymmetry compensation, the one or more values being generated according to an equation, q",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00018",
            "preamble": "18. The system of claim 17 , wherein the storage medium comprises a magnetic storage medium.",
            "components": []
        },
        {
            "claim_number": "CLM-00019",
            "preamble": "19. The system of claim 17 , wherein the estimate comprises a least mean squared estimate of the non-linearity in the equalized signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00020",
            "preamble": "20. The system of claim 17 , wherein the coefficient adjustment consists of a second order coefficient adjustment value, and the asymmetry correction circuit comprises a squaring circuit, a multiplier circuit, and an adder circuit.",
            "components": []
        },
        {
            "claim_number": "CLM-00021",
            "preamble": "21. A system comprising:",
            "components": [
                {
                    "component": "a storage medium;",
                    "subcomponents": []
                },
                {
                    "component": "a head assembly operable to obtain an analog signal from the storage medium;",
                    "subcomponents": []
                },
                {
                    "component": "an asymmetry correction circuit configured to receive the analog signal and to compensate for asymmetry in the received analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "a signal equalizer configured to receive an input signal responsive to an output of the asymmetry correction circuit and to generate an equalized signal;",
                    "subcomponents": []
                },
                {
                    "component": "a discrete time sequence detector operable to examine the equalized signal; and",
                    "subcomponents": []
                },
                {
                    "component": "a control circuit that provides a coefficient adjustment to the asymmetry correction circuit to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete time sequence detector;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the coefficient adjustment comprises at least second, third and fourth order coefficient adjustment values, and the asymmetry correction circuit comprises a squaring circuit, a cubing circuit, multiplier circuits, and adder circuits.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00022",
            "preamble": "22. The system of claim 17 , wherein the discrete time sequence detector comprises a Viterbi detector.",
            "components": []
        },
        {
            "claim_number": "CLM-00023",
            "preamble": "23. The system of claim 17 , further comprising a continuous time filter responsive to the output of the asymmetry correction circuit and an analog to digital converter (ADC) responsive to an output of the continuous time filter, wherein the signal equalizer comprises a finite impulse response (FIR) digital filter, the input signal of the FIR digital filter being responsive to an output of the ADC.",
            "components": []
        },
        {
            "claim_number": "CLM-00024",
            "preamble": "24. The system of claim 17 , wherein the asymmetry correction circuit, the signal equalizer, the discrete time sequence detector and the control circuit comprise at least a portion of a read channel in a magnetic storage access device.",
            "components": []
        },
        {
            "claim_number": "CLM-00025",
            "preamble": "25. A system comprising:",
            "components": [
                {
                    "component": "means for storing data;",
                    "subcomponents": []
                },
                {
                    "component": "means for obtaining an analog signal from the means for storing data;",
                    "subcomponents": []
                },
                {
                    "component": "means for compensating for asymmetry in the analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "means for equalizing an input signal responsive to an output of the means for compensating;",
                    "subcomponents": []
                },
                {
                    "component": "discrete-time means for detecting data in the equalized signal; and",
                    "subcomponents": []
                },
                {
                    "component": "control means for providing a coefficient adjustment to the means for compensating to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete-time means for detecting",
                    "subcomponents": []
                },
                {
                    "component": "wherein the coefficient adjustment comprises one or more values received by the means for compensating to control the asymmetry compensation, the one or more values being generated according to an equation, q",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00026",
            "preamble": "26. The system of claim 25 , wherein the means for storing data comprises magnetic means for storing data.",
            "components": []
        },
        {
            "claim_number": "CLM-00027",
            "preamble": "27. The system of claim 25 , wherein the estimate comprises a least mean squared estimate of the non-linearity in the equalized signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00028",
            "preamble": "28. The system of claim 25 , wherein the coefficient adjustment consists of a second order coefficient adjustment value, and the means for compensating comprises means for squaring the analog signal, means for mixing the squared analog signal with the second order coefficient adjustment value, and means for combining the mixed signal with the analog signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00029",
            "preamble": "29. A system comprising:",
            "components": [
                {
                    "component": "means for storing data;",
                    "subcomponents": []
                },
                {
                    "component": "means for obtaining an analog signal from the means for storing data;",
                    "subcomponents": []
                },
                {
                    "component": "means for compensating for asymmetry in the analog signal; means for equalizing an input signal responsive to an output of the means for compensating;",
                    "subcomponents": []
                },
                {
                    "component": "discrete-time means for detecting data in the equalized signal; and",
                    "subcomponents": []
                },
                {
                    "component": "control means for providing a coefficient adjustment to the means for compensating to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete-time means for detecting;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the coefficient adjustment comprises at least second, third and fourth order coefficient adjustment values, and the means for compensating comprises means for squaring the analog signal, means for cubing the analog signal, means for mixing the squared and cubed signals with the coefficient adjustment values, and means for combining the mixed signals with the analog signal.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00030",
            "preamble": "30. The system of claim 25 , wherein the discrete-time means comprises Viterbi means for detecting data in the equalized signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00031",
            "preamble": "31. The system of claim 25 , further comprising continuous-time means for filtering the output of the means for compensating and means for converting an analog output of the continuous-time means for filtering to a digital signal, wherein the means for equalizing comprises finite impulse response (FIR) means for filtering the digital signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00032",
            "preamble": "32. The system of claim 25 , wherein the means for compensating, the means for equalizing, the discrete-time means and the control means comprise at least a portion of means for processing a magnetic storage readback signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00033",
            "preamble": "33. A method comprising:",
            "components": [
                {
                    "component": "compensating for asymmetry in an analog signal based on at least one coefficient adjustment;",
                    "subcomponents": []
                },
                {
                    "component": "equalizing a digital signal obtained by sampling the analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "detecting a data sequence in the digital signal;",
                    "subcomponents": []
                },
                {
                    "component": "reconstructing an ideal target channel output from tile detected data sequence; and",
                    "subcomponents": []
                },
                {
                    "component": "modifying the at least one coefficient adjustment to affect the asymmetry compensation based on an estimate of non-linearity derived from the digital equalized signal and the reconstructed ideal target channel output;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the at least one coefficient adjustment is generated according to an equation, q",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00034",
            "preamble": "34. The method of claim 33 , wherein the estimate comprises a least mean squared estimate of the non-linearity in the equalized digital signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00035",
            "preamble": "35. The method of claim 33 , wherein compensating for the asymmetry comprises compensating for the asymmetry in the analog signal based on at least two coefficient adjustments.",
            "components": []
        },
        {
            "claim_number": "CLM-00036",
            "preamble": "36. The method of claim 33 , further comprising receiving the analog signal from a storage medium.",
            "components": []
        },
        {
            "claim_number": "CLM-00037",
            "preamble": "37. A software program embodied in a media and operable to cause one or more machines to perform operations comprising:",
            "components": [
                {
                    "component": "compensating for asymmetry in an analog signal based on at least one coefficient adjustment;",
                    "subcomponents": []
                },
                {
                    "component": "equalizing a digital signal obtained by sampling the analog signal;",
                    "subcomponents": []
                },
                {
                    "component": "detecting a data sequence in the digital signal;",
                    "subcomponents": []
                },
                {
                    "component": "reconstructing an ideal target channel output from the detected data sequence; and",
                    "subcomponents": []
                },
                {
                    "component": "modifying the at least one coefficient adjustment to affect the asymmetry compensation based on an estimate of non-linearity derived from the digital equalized signal and the reconstructed ideal target channel output;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the at least one coefficient adjustment is generated according to an equation, q",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00038",
            "preamble": "38. The software program of claim 37 , wherein the estimate comprises a least mean squared estimate of the non-linearity in the equalized digital signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00039",
            "preamble": "39. The software program of claim 37 , wherein compensating for the asymmetry comprises compensating for the asymmetry in the analog signal based on at least two coefficient adjustments.",
            "components": []
        },
        {
            "claim_number": "CLM-00040",
            "preamble": "40. The software program of claim 37 , further comprising receiving the analog signal from a storage medium.",
            "components": []
        }
    ],
    "description": [
        "The present disclosure describes systems and techniques relating to signal processing, for example, interpreting readback signals obtained from a magnetic storage medium.",
        "Signal processing circuits are frequently used to read storage media and interpret obtained analog signals as discrete values stored on the media. For magnetic storage media, a transducer head may fly on a cushion of air over a magnetic disk surface. The transducer converts magnetic field variations into an analog electrical signal. The analog signal is amplified, converted to a digital signal and interpreted (e.g., using maximum likelihood techniques, such as using a Viterbi detector). Tracking of stored data during a read operation is frequently performed using feedback or decision aided gain and timing control.",
        "The head-media combination in typical magnetic recording systems has associated transfer characteristics that include an asymmetrical signal amplitude response, where an input signal having equivalent amplitudes on the positive and negative sides of the waveform results in an output signal having different amplitudes on the positive and negative sides of the waveform. Such amplitude asymmetry has been compensated for by adding to a readback signal an asymmetry adjustment signal, which is the readback signal squared and then scaled by a controlled asymmetry factor. The controlled asymmetry factor has previously been based on a comparison of the positive peak value with the negative peak value in the readback signal, which thus minimizes amplitude error at the peak values.",
        "The present disclosure includes systems and techniques relating to interpreting signals on a channel having an asymmetrical signal amplitude response. According to an aspect of the described systems and techniques, a signal processor, such as a read channel transceiver device usable in a magnetic recording system, includes an asymmetry correction circuit configured to receive an analog signal and to compensate for asymmetry in the received analog signal, a signal equalizer configured to receive an input signal responsive to an output of the asymmetry correction circuit and to generate an equalized signal, a discrete time sequence detector operable to examine the equalized signal, and a control circuit that provides a coefficient adjustment to the asymmetry correction circuit to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and an output of the discrete time sequence detector.",
        "The estimate can be a least mean squared estimate of the non-linearity in the equalized signal. The coefficient adjustment can include one or more values received by the asymmetry correction circuit to control the asymmetry compensation. These values can be coefficient values or coefficient adjustment values (e.g., a coefficient adjustment can be a coefficient value qN,t+1 or a coefficient adjustment value \u03bc\u00b7(yR\u2212yA)\u00b7y1N, when the one or more values are generated according to an equation, qN,t+1=qN,t+\u03bc\u00b7(yR\u2212yA)\u00b7y1N, as described further below). The asymmetry correction circuit, the signal equalizer, the discrete time sequence detector and the control circuit can form at least a portion of a read channel in a storage access device, and the analog signal can be a readback signal obtained from a storage medium.",
        "The described systems and techniques can result in improved asymmetry correction in a read channel of a storage device, allowing a larger portion of the dynamic range of the head-media combination to be used. Non-linearity observed on the digital side of a read channel, based on the target channel and least mean squared error techniques, can be used to provide a feedback signal that controls the asymmetry correction applied on the analog side of the read channel. The total output signal can be considered in optimizing one or more coefficients applied in an asymmetry correction circuit.",
        "The systems and techniques described can employ a straight forward equation to calculate an error term for the adaptation of an asymmetry correction coefficient, and can be applied regardless of the particular type of target channel being used. Moreover, the asymmetry correction can be applied at multiple higher orders of non-linearity, allowing the asymmetry correction to be tailored to a particular target channel of interest.",
        "Details of one or more implementations are set forth in the accompanying drawings and the description below. Other features, objects and advantages may be apparent from the description and drawings, and from the claims.",
        "FIG. 1 is a block diagram showing a read channel in a storage system that performs amplitude asymmetry correction.",
        "FIG. 2 is a block diagram illustrating the introduction of non-linearity in the readback signal and the subsequent compensation for this non-linearity.",
        "FIGS. 3 and 4 are graphs illustrating the non-linearity in the transfer characteristics of the head-media combination in a magnetic recording system and the corresponding non-linearity reflected at a finite impulse response (FIR) filter output.",
        "FIG. 5 is a block diagram illustrating an example asymmetry correction circuit (ASC).",
        "FIG. 6 is a block diagram showing a magnetic-media disk drive that employs amplitude asymmetry correction as described.",
        "FIG. 7 is a flowchart illustrating a process of asymmetry correction as can be performed in a storage system.",
        "FIG. 1 is a block diagram showing a read channel in a storage system that performs amplitude asymmetry correction. The storage system includes a storage medium 100 and read head 102. The storage medium can be read-only or read/write media and can be magnetic-based, optical-based, semiconductor-based media, or a combination of these. Examples of the storage medium include hard disk platters in a hard disk drive, a floppy disk, a tape, and an optical disk (e.g., laser disk, compact disk, digital versatile disk). The storage medium is depicted in FIG. 1 as a disk for illustration only; the systems and techniques described herein can be used with other storage media types or in non-storage applications (e.g., communications equipment).",
        "The read head 102 can be part of a read-write head assembly that reads the storage media 100 under the control of a servo or actuator. An analog readback signal is generated and can be sent to a pre-amplifier 105. The system can include an analog front end (AFE) 110, which can provide filtering and gain control. The AFE 110 can have inputs from both a DC control unit 140 and an automatic gain control (AGC) unit 150, and the AFE 110 can include a variable-gain amplifier (VGA), which can be regulated by the AGC 150.",
        "The AFE 110 includes an asymmetry correction circuit (ASC) 112 configured to receive the analog readback signal and to compensate for asymmetry in the analog readback signal based on a coefficient adjustment received from a control circuit 130, such as a least mean squared (LMS) control circuit described below. The AFE 110 can also include a continuous time filter (CTF) 114.",
        "An analog to digital converter (ADC) 115 converts the readback signal from continuous-time domain to discrete-time domain, and a signal equalizer 120 shapes the signal to a desired target response. The ADC 115 can be a 6-bit ADC. The signal equalizer 120 can be a finite impulse response (FIR) digital filter, such as a 9-tap or 10-tap FIR, which can be programmable or adaptive. For example, the system can include an FIR adaptation unit 125 that provides a control input to an FIR 120. Moreover, a CTF, ADC and FIR taken together can be viewed as the signal equalizer within the read channel.",
        "A discrete time sequence detector 135 examines and interprets its input as discrete values stored on the media 100. Timing control circuitry, including a timing control unit 160 and/or a phase locked loop (PLL), can be used to regulate the filtered signal provided to the detector 135, and the DC control unit 140 can also apply a DC correction at one or more locations in the main read path. The sequence detector 135 can include one or more components, such as a Viterbi detector. The main read path can combine partial-response equalization with maximum-likelihood sequence detection (PRML) using a discrete-time approach (e.g., the class-IV partial response target (PR-IV)).",
        "An output of the sequence detector 135 can be provided to a post processor, such as a media noise processor (MNP) that identifies and corrects errors in a detected sequence. As will be appreciated by those skilled in the relevant art, multiple components can be included after the component that obtains the binary sequence from the output of the signal equalizer, and these multiple components can be separate electronic components or integrated into a single sequence detector 135. For example, a single Viterbi detector component in a read channel can be used to obtain the binary sequence and also to reconstruct the ideal target channel output as described further below, or a Viterbi detector component can be used to obtain the binary sequence and another component, which is responsive to an output of the Viterbi detector component, can be used to reconstruct the ideal target channel output.",
        "In general, an output of the sequence detector 135, such as an output coming directly from the sequence detector 135 or from a post processor, is provided to a control circuit 130. The control circuit 130 provides the coefficient adjustment to the ASC 112 to affect the asymmetry compensation based on an estimate of non-linearity derived from the equalized signal and the output of the discrete time sequence detector.",
        "FIG. 2 is a block diagram illustrating the introduction of non-linearity in the readback signal and the subsequent compensation for this non-linearity. H(j\u03c9) 200 represents the transfer characteristics of the head-media combination, absent asymmetry. An asymmetry component 205 represents the asymmetry introduced by the head when reading the media. This asymmetry adds non-linear component(s) to the signal and can thus be represented by the following polynomial: x+p2\u00b7x2+p3\u00b7x3+p4\u00b7x4+ . . . , where x is the readback signal, and p2,p3,p4, . . . are the amounts of higher order non-linearity added to the signal. FIG. 3 shows a graph illustrating an example plot 300 of the transfer function for input U to output V. As illustrated, the second order term of the asymmetry polynomial is typically the most significant high order term.",
        "An ASC 210 compensates for the asymmetry by applying an asymmetry correction based on a model of the asymmetry in the channel. This asymmetry correction can be represented by the following polynomial: x\u2212q2\u00b7x2\u2212q3\u00b7x3\u2212q4\u00b7x4 . . . , as shown in FIG. 2. The asymmetry correction employed by the ASC 210 can be limited to the second order (x\u2212q2\u00b7x2) or additional higher order terms can be included in the asymmetry correction. In general, one or more coefficients, q2,q3,q4, . . . , are adjusted so as to cancel the corresponding non-linear elements in the readback signal. The non-linearity introduced by the ASC 210 thus counteracts the non-linearity introduced into the readback signal by the head-media combination, before passing the readback signal on to a CTF 215.",
        "The one or more coefficients can be decided adaptively, on the fly, to counteract non-linearity in the readback signal as it is observed. An LMS control circuit 230 can actively adjust the one or more coefficients used by the ASC 210 based on an estimate of non-linearity derived from the output of an FIR 220 and an output of a Viterbi detector 225. The FIR output provides a signal that reflects the non-linearity in the channel, and the Viterbi detector output can be used to reconstruct the ideal target channel output to calculate the error signal used. As noted above, this reconstruction can be performed by the Viterbi detector itself or another component responsive to an output of the Viterbi detector.",
        "FIG. 4 shows a graph illustrating an example plot 400 of the asymmetry reflected at the FIR output without any asymmetry correction. As illustrated, the FIR output indicates the asymmetry in the signal and can thus be used to decide how adjustments to the asymmetry correction should be made to cancel that asymmetry. The example plot 400 shows ideal FIR output plotted against the real FIR output for a given target channel. Since asymmetry correction is the signal aspect being addressed here, the rest of the channel can be assumed to be ideal (e.g., any additive white noise can be disregarded because it does not affect the asymmetry processing being described), and the FIR equalizer can be assumed to be doing a perfect job in equalizing the signal to the target.",
        "Thus, the relationship between the input and the output of the read channel can be defined by the target polynomial for the read channel. Based on that target polynomial, the ideal output of the FIR can be determined, as illustrated in FIG. 4. The non-linearity in the read channel can be seen by fitting a curve 410 to the data in FIG. 4, such as by minimizing the mean squared error. This curve 410 characterizes the relationship between the real output and the ideal output and directly reflects the non-linearity in the channel.",
        "If there is a second order non-linearity in the readback signal due to a magnetic recording (MR) head, this is reflected as a second order non-linearity at the FIR output, and likewise for third, fourth or higher non-linearity in the readback signal. The non-linearity reflected at the FIR output may not be of the same magnitude as that introduced by the MR head, but will be of the same trend. This information from the FIR output indicates when non-linearity remains in the channel, and can thus be used to adjust the asymmetry correction.",
        "The non-linearity in the FIR output can be modeled by the following asymmetry polynomial, yA=\u03b1\u00b7y1+\u03b2\u00b7y12+\u03c7\u00b7y13+C, where y1 is the ideal channel output given by the linear target polynomial, and yA is the real output according to the asymmetry model. Using this model, the coefficients of the asymmetry polynomial can be determined and used to adjust the asymmetry correction. Although only terms up to the third order are considered here, higher order terms can be added and addressed in the same manner.",
        "To determine the coefficients, an error signal is defined according to the following equation, e=yR\u2212yA, where yA models the non-linearity in the channel, and yR is the real FIR output. Non-linearity in the readback signal can thus be removed by making yA as close to yR as possible in the sense of least mean squared error. With this error signal defined, the coefficients used by the ASC can be adjusted using standard least mean squared error criteria based on the square of the error signal.",
        "One or more gradients can be defined, and the coefficients of the asymmetry polynomial can be adjusted accordingly:",
        "\u2202\n              \n                e\n                2\n              \n            \n            \n              \u2202\n              \u03b1\n            \n          \n          =\n          \n            \n              \n                \n                  -\n                  e\n                \n                \u00b7\n                \n                  y\n                  1\n                \n              \n              \u21d2\n              \n                \u03b1\n                \n                  i\n                  +\n                  1\n                \n              \n            \n            =\n            \n              \n                \u03b1\n                1\n              \n              +\n              \n                \u03bc\n                \u00b7\n                e\n                \u00b7\n                \n                  y\n                  1\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        1\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            \u2202\n            \n              e\n              2\n            \n          \n          \n            \u2202\n            \u03b2\n          \n        \n        =\n        \n          \n            \n              \n                -\n                e\n              \n              \u00b7\n              \n                y\n                1\n                2\n              \n            \n            \u21d2\n            \n              \u03b2\n              \n                i\n                +\n                1\n              \n            \n          \n          =\n          \n            \n              \u03b2\n              1\n            \n            +\n            \n              \u03bc\n              \u00b7\n              e\n              \u00b7\n              \n                y\n                1\n                2\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        2\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            \u2202\n            \n              e\n              2`\n            \n          \n          \n            \u2202\n            \u03c7\n          \n        \n        =\n        \n          \n            \n              \n                -\n                e\n              \n              \u00b7\n              \n                y\n                1\n                3\n              \n            \n            \u21d2\n            \n              \u03c7\n              \n                i\n                +\n                1\n              \n            \n          \n          =\n          \n            \n              \u03c7\n              1\n            \n            +\n            \n              \u03bc\n              \u00b7\n              e\n              \u00b7\n              \n                y\n                1\n                3\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        3\n        )\n      \n    \n  \n\n\n\n\nwhere \u03bc is a step size in the adjustment of the coefficient. Note that \u03bc may be a function of the order of the adjustment (i.e., a different step size \u03bcN for each coefficient qN), or a common step size used at all orders of adjustment. Additionally, \u03bc may be an implicit parameter in a system and not expressly defined.",
        "This technique can determine the non-linearity at the FIR output and can be directly applied to the adjustment of the coefficients in the ASC. The asymmetry correction can be made stronger or weaker as needed based on the non-linearity observed at the FIR output. For example, the updating equation for \u03b2 can be applied directly to the second order correcting term in the asymmetry correction imparted by the ASC. Thus, the overall mean squared error value(s) can be minimized to thereby optimize the coefficient(s) in the ASC.",
        "FIG. 5 is a block diagram illustrating an example ASC 500. The ASC 500 is implemented in an analog circuit in the continuous time domain. The ASC 500 adjusts the readback signal 505 by feeding it through a series of multipliers to obtain adjusted signals that are then added back into the readback signal 505.",
        "For the second order adjustment, a squaring circuit 510 squares the signal 505, a multiplier circuit 530 mixes the squared signal with a second order coefficient value 520, and the result is combined with the readback signal 505 in an adder circuit 540. For the third order adjustment, a cubing circuit 512 cubes the signal 505, a multiplier circuit 532 mixes the cubed signal with a third order coefficient value 522, and the result is combined with the readback signal 505 in an adder circuit 542. For the fourth order adjustment, a squaring circuit 514 squares the signal from the squaring circuit 510, a multiplier circuit 534 mixes the quadrupled signal with a fourth order coefficient value 524, and the result is combined with the readback signal 505 in an adder circuit 544.",
        "The signal processor components described can be implemented as one or more devices, such as one or more integrated circuit (IC) devices, in a storage device. FIG. 6 is a block diagram showing a magnetic-media disk drive that employs amplitude asymmetry correction as described. The disk drive includes a head-disk assembly (HDA) 600 and drive electronics 650 (e.g., a printed circuit board (PCB) with semiconductor devices). The HDA 600 includes one or more disks 610 mounted on an integrated spindle and motor assembly 615. The spindle and motor assembly 615 rotates the disk(s) 610 under read-write head(s) connected with a head assembly 620 in the HDA 600. The disk(s) 610 can be coated with a magnetically hard material (e.g., a particulate surface or a thin-film surface) and can be written to, or read from, a single side or both sides of each disk.",
        "A head 632 on an arm 630 can be positioned as needed to read data on the disk. A motor (e.g., a voice coil motor or a stepper motor) can be used to position the head over a desired track. The arm 630 can be a pivoting or sliding arm and can be spring-loaded to maintain a proper flying height for the head 632 in any drive orientation. A closed-loop head positioning system can be used.",
        "The HDA 600 can include a read-write chip 640, where head selection and sense current value(s) can be set. The read-write chip 640 can amplify a readback signal before outputting it to signal processing circuitry 670. The signal processing circuitry 670 can include a readback signal circuit, a servo signal processing circuit, and a write signal circuit.",
        "Signals between the HDA 600 and the drive electronics 650 can be carried through a flexible printed cable. A controller 680 can direct a servo controller 660 to control mechanical operations, such as head positioning through the head assembly 620 and rotational speed control through the motor assembly 615. The controller 680 can be one or more IC chips (e.g., a combo chip). The controller 680 can be a microprocessor and a hard disk controller. The drive electronics 650 can also include various interfaces, such as a host-bus interface, and memory devices, such as a read only memory (ROM) for use by a microprocessor, and a random access memory (RAM) for use by a hard disk controller. The hard disk controller can include error correction circuitry.",
        "The HDA 600 and drive electronics 650 can be closed in a sealed container with an integral air filter. For example, the hard disk drive can be assembled using a Winchester assembly. The rotating platter can be driven by a brush-less DC motor, and the rotational frequency can be accurately servo-locked to a crystal reference.",
        "FIG. 7 is a flowchart illustrating a process of asymmetry correction as can be performed in a storage system. This process, and all of the functional operations described in this specification, can be implemented in electronic circuitry, or in computer hardware, firmware, software, or in combinations of them, such as the structural means disclosed in this specification and structural equivalents thereof, including potentially a software program operable to cause one or more machines to perform the operations described. It will be appreciated that the order of operations presented is shown only for the purpose of clarity in this description. No particular order is required for these operations, and all of the operations can occur simultaneously.",
        "An analog signal is received from a storage medium at 700. Asymmetry in the analog signal is compensating for based on at least one coefficient adjustment at 710. Compensating for the asymmetry in the analog signal can be based on at least two coefficient adjustments, at least three adjustments, or at least four coefficient adjustments.",
        "A digital signal obtained by sampling the analog signal is equalized at 720. A data sequence is detected in the digital signal at 730. An ideal target channel output is reconstructed from the detected data sequence at 740. The at least one coefficient adjustment is modified to affect the asymmetry compensation based on an estimate of non-linearity derived from the digital equalized signal and the reconstructed ideal target channel output at 750.",
        "The estimate can be a least mean squared estimate of the non-linearity in the equalized digital signal. Moreover, the one or more coefficient adjustments can be generated according to an equation, qN,t+1=qN,t+\u03bc\u00b7(yR\u2212yA)\u00b7y1N, where qN,t is an asymmetry correction coefficient of order N at time t from one or more asymmetry correction coefficients, \u03bc is a step size, yR corresponds to the equalized digital signal, yt corresponds to the reconstructed ideal target channel output, and yA corresponds to an estimated real equalized channel output with asymmetry taken into account, yA being derived utilizing the reconstructed ideal target channel output and the one or more asymmetry correction coefficients.",
        "A few embodiments have been described in detail above, and various modifications are possible. Thus, other embodiments may be within the scope of the following claims."
    ],
    "citations": [
        "5585975",
        "5790335",
        "5999355",
        "6043943",
        "6141167",
        "6400518",
        "6449110",
        "6493403",
        "6519103",
        "6519106",
        "6529340",
        "6587292",
        "6597650",
        "6600615",
        "6678110",
        "6693863",
        "6714603",
        "6735724",
        "7012772",
        "7061848",
        "7092180",
        "2005/0180298"
    ],
    "us_classification": "360 65",
    "international_classifications": [
        {
            "classification_level": "A",
            "section": "G",
            "classification_class": "11",
            "subclass": "B",
            "main_group": "5",
            "subgroup": "035"
        }
    ]
}