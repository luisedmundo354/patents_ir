{
    "title": "Phase-locked loop circuits with current mode loop filters",
    "abstract": "A phase-locked loop (PLL) includes a phase-frequency detector circuit configured to detect an error of an output clock signal in relation to a reference clock signal and to generate a charge pump control signal therefrom and a charge pump circuit configured to charge and discharge an output node thereof responsive to the charge pump control signal. The PLL further includes a current-mode loop filter circuit coupled to the output node of the charge pump circuit and configured to generate a filtered current from the current at the output node of the charge pump circuit, and a current-controlled oscillator configured to generate the output clock signal responsive to the filtered current. The current-mode loop filter circuit may be self-biased. For example, the current-mode loop filter circuit and the charge pump may be biased responsive to a common bias control signal generated by the current-mode loop filter circuit.",
    "inventors": [
        "Yan"
    ],
    "document_number": "07298221",
    "publication_date": "20071120",
    "assignees": [
        "Integrated Device Technology, Inc."
    ],
    "claims": [
        {
            "claim_number": "CLM-00001",
            "preamble": "1. A phase-locked loop (PLL), comprising:",
            "components": [
                {
                    "component": "a phase-frequency detector circuit configured to detect an error of an output clock signal in relation to a reference clock signal and to generate a charge pump control signal therefrom;",
                    "subcomponents": []
                },
                {
                    "component": "a charge pump circuit configured to charge and discharge an output node thereof responsive to the charge pump control signal;",
                    "subcomponents": []
                },
                {
                    "component": "a current-mode loop filter circuit coupled to the output node of the charge pump circuit and configured to generate a filtered current from the current at the output node of the charge pump circuit, wherein the current-mode loop filter circuit comprises:",
                    "subcomponents": [
                        "first and second transistors arranged as a current mirror circuit, the first transistor having a current path and a control electrode therefor coupled to the output node of the charge pump circuit; and",
                        "a filter network configured to be coupled between the control electrode of the first transistor and a control electrode of the second transistor; and"
                    ]
                },
                {
                    "component": "first and second transistors arranged as a current mirror circuit, the first transistor having a current path and a control electrode therefor coupled to the output node of the charge pump circuit; and",
                    "subcomponents": []
                },
                {
                    "component": "a filter network configured to be coupled between the control electrode of the first transistor and a control electrode of the second transistor; and",
                    "subcomponents": []
                },
                {
                    "component": "a current-controlled oscillator configured to generate the output clock signal responsive to the filtered current.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00002",
            "preamble": "2. The PLL of claim 1 , wherein the current-mode loop filter circuit is self-biased.",
            "components": []
        },
        {
            "claim_number": "CLM-00003",
            "preamble": "3. The PLL of claim 1 , wherein the current-mode loop filter circuit and the charge pump are biased responsive to a common bias control signal generated by the current-mode loop filter circuit.",
            "components": []
        },
        {
            "claim_number": "CLM-00004",
            "preamble": "4. The PLL of claim 1 , wherein the current-mode loop filter circuit is configured to enable and disable current integration responsive to the charge pump control signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00005",
            "preamble": "5. The PLL of claim 4 , wherein the current-mode loop filter circuit comprises a switch configured to make and break a coupling of the control electrodes of the first and second transistors through the filter network responsive to the charge pump control signal.",
            "components": []
        },
        {
            "claim_number": "CLM-00006",
            "preamble": "6. The PLL of claim 5 :",
            "components": [
                {
                    "component": "wherein the charge pump control signal comprises an advance signal and a retard signal;",
                    "subcomponents": []
                },
                {
                    "component": "wherein the charge pump is configured charge and discharge the output node responsive to respective ones of the advance and retard signals; and",
                    "subcomponents": []
                },
                {
                    "component": "wherein the switch is configured to couple the control electrodes of the first and second transistors through the filter network responsive to assertion of either of the advance and retard signals and to decouple the control electrodes of the first and second transistors responsive to deassertion of both the advance signal and the retard signal.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00007",
            "preamble": "7. The PLL of claim 1 , wherein the filter network comprises an RC filter network.",
            "components": []
        },
        {
            "claim_number": "CLM-00008",
            "preamble": "8. The PLL of claim 7 , wherein the filter network comprises a second or higher order RC filter network.",
            "components": []
        },
        {
            "claim_number": "CLM-00009",
            "preamble": "9. The PLL of claim 7 , wherein the filter network comprises:",
            "components": [
                {
                    "component": "a first resistance having a first terminal configured to be coupled to the control electrode of the first transistor;",
                    "subcomponents": []
                },
                {
                    "component": "a second resistance coupled between a second terminal of the first resistance and the control electrode of the second transistor;",
                    "subcomponents": []
                },
                {
                    "component": "a first capacitance coupled between the second terminal of the first resistance and a ground node;",
                    "subcomponents": []
                },
                {
                    "component": "a second capacitance coupled between the control electrode of the second transistor and the ground node; and",
                    "subcomponents": []
                },
                {
                    "component": "a series combination of a third resistance and a third capacitance coupled between the second terminal of the first resistance and the ground node.",
                    "subcomponents": []
                }
            ]
        },
        {
            "claim_number": "CLM-00010",
            "preamble": "10. The PLL of claim 1 , wherein the first and second transistors comprise respective NMOS transistors.",
            "components": []
        },
        {
            "claim_number": "CLM-00011",
            "preamble": "11. The PLL of claim 10 , wherein the first and second transistors have a channel length substantially greater than a minimum channel length of a fabrication process in which they are implemented.",
            "components": []
        },
        {
            "claim_number": "CLM-00012",
            "preamble": "12. The PLL of claim 11 , wherein the first and second transistors are implemented in a 0.35 \u03bcm process, and wherein the first and second transistors have a channel length of around 1.5 \u03bcm.",
            "components": []
        },
        {
            "claim_number": "CLM-00013",
            "preamble": "13. The PLL of claim 1 , wherein the current-mode loop filter circuit further comprises a bias circuit coupled between the current mirror circuit and a power supply voltage source and configured to bias the current mirror circuit responsive to a bias control signal generated at a controlled electrode of the second transistor.",
            "components": []
        },
        {
            "claim_number": "CLM-00014",
            "preamble": "14. The PLL of claim 1 , wherein the current-mode loop filter circuit further comprises a noise canceling circuit and a cascade current source coupled between the current mirror circuit and the current-controlled oscillator.",
            "components": []
        },
        {
            "claim_number": "CLM-00015",
            "preamble": "15. The PLL of claim 1 , further comprising a feedback divider circuit coupled between the current-controlled oscillator circuit and an input of the phase-frequency detector circuit.",
            "components": []
        },
        {
            "claim_number": "CLM-00016",
            "preamble": "16. The PLL of claim 1 , wherein the feedback divider circuit comprises a series combination of a programmable divider and a dual modulus prescaler.",
            "components": []
        },
        {
            "claim_number": "CLM-00017",
            "preamble": "17. The PLL of claim 1 , wherein the current-controlled oscillator circuit comprises a current-controlled ring oscillator circuit.",
            "components": []
        }
    ],
    "description": [
        "The present application claims the benefit of U.S. Provisional Application Ser. No. 60/654,993, filed Feb. 22, 2005, the disclosure of which is hereby incorporated herein by reference in its entirety.",
        "The present invention relates to electronic circuits and methods of operation thereof and, more particularly, to phase locked loop (PLL) circuits and methods.",
        "Clock frequencies used in digital circuits have increased with the rapid development of CMOS technology, as well as the steady improvement in electronic technology. A common approach to design of digital circuit is synchronous design, which typically uses a master clock. Clock requirements for high-speed digital systems have become increasingly stringent. These typically include low clock jitter, 50% duty cycle, low-voltage operation, low power consumption and compatibility with digital technology. Therefore, clock generating circuit design has become of significant importance.",
        "Clock generating circuits may be classified as open loop and closed-loop. A typical open-loop clock generating circuit includes a crystal oscillator, an RC oscillator, an LC resonance circuit, a ring oscillator and a direct digital frequency synthesizer (DDFS). Generally speaking, a typical clock generating circuit without a reference frequency needs fine-tuning to obtain a desired frequency. In the above-mentioned oscillating circuits, the crystal oscillator, due to its higher Q-factor, can produce a low-jitter clock, so it is often used as a reference clock. The DDFS typically requires a reference clock to work out, via mathematical operations, the value of the desired frequency sampled by the reference clock. After digital-to-analog conversion of the digital amplitude sequence, the desired clock can be obtained through filtering. According to Nyquist sampling theory, the DDFS can synthesize a clock with a frequency less than half the reference frequency. However, due to physical constraints, the clock frequency generated by an open-loop clock generating circuit may not be high.",
        "Closed-loop clock generating circuits include automatic frequency control (AFC) circuits and phase-locked loop (PLL) circuits. AFC circuits, which may be prone to frequency error, have generally declined in popularity, while PLL circuits have become a popular choice for frequency synthesis. PLLs may accurately synthesize a clock of very high speed, with frequency typically restricted only by the fabrication process used. A clock signal produced by a PLL can have good jitter performance. Special clocks can also be achieved using PLL. Examples of PLL applications include spread-spectrum clocks for reducing electromagnetic interference, multi-phase clocks, and clock data recovery.",
        "Early PLLs used an analog multiplier as a phase discriminator. Because clock signals typically are square waves, filtering is often done to produce the sine waves, which may be very inconvenient. Moreover, difficulties in the design of analog multipliers can make the design of a PLL using an analog multiplier difficult.",
        "A typical charge pump PLL uses a digital phase discriminator to compare square wave signals and can eliminate static phase contrast used in traditional PLLs. As digital phase discriminator design may be considered mature, designers may focus their attention on loop filter and voltage controlled oscillator (VCO) design. Charge pump PLLs typically can be highly integrated using digital CMOS technology.",
        "Two types of oscillators that are widely used in charge pump PLLs are ring oscillators and LC oscillators. An LC oscillator, which requires on-chip inductance, may provide a clock with low phase noise. But the oscillating frequency may be limited to a small range. A ring oscillator, which may be compatible with digital technology, may provide wider frequency range. Ring oscillators are commonly used in PLLs to save cost.",
        "Many digital chips today include one or more PLLs. The output frequencies of these PLLs may be different, and the requirements for the PLLs may not be the same. Design of such PLLs may require a lot of resources, manpower and time. A general-purpose or quasi-general-purpose PLL may, therefore, be desirable. A self-biased PLL with current steering digital to analog converter (IDAC) is an example of a general-purpose PLL, proposed in J. Maneatis et al., \u201cSelf-biased high-bandwidth low-jitter 1-to-4096 multiplier clock generator PLL,\u201d IEEE Int. Solid-State Circuits Conf. Dig. Tech. Papers, February 2003, pp. 424-425. A potential disadvantage of such a PLL is its complexity.",
        "In some embodiments of the present invention, a phase-locked loop (PLL) includes a phase-frequency detector circuit configured to detect an error of an output clock signal in relation to a reference clock signal and to generate a charge pump control signal therefrom and a charge pump circuit configured to charge and discharge an output node thereof responsive to the charge pump control signal. The PLL further includes a current-mode loop filter circuit coupled to the output node of the charge pump circuit and configured to generate a filtered current from the current at the output node of the charge pump circuit, and a current-controlled oscillator configured to generate the output clock signal responsive to the filtered current. The current-mode loop filter circuit may be self-biased. For example, the current-mode loop filter circuit and the charge pump may be biased responsive to a common bias control signal generated by the current-mode loop filter circuit.",
        "In further embodiments of the present invention, the current-mode loop filter circuit includes first and second transistors arranged as a current mirror circuit, the first transistor having a current path and a control electrode therefor coupled to the output node of the charge pump circuit. The filter further includes a filter network configured to be coupled between the control electrode of the first transistor and a control electrode of the second transistor. The current-mode loop filter circuit may be configured to enable and disable current integration by the filter responsive to the charge pump control signal. For example, the current-mode loop filter circuit may include a switch configured to make and break a coupling of the control electrodes of the first and second transistors through the filter network responsive to the charge pump control signal. In some embodiments, the charge pump control signal includes an advance signal and a retard signal, the charge pump is configured charge and discharge the output node responsive to respective ones of the advance and retard signals, and the switch is configured to couple the control electrodes of the first and second transistors through the filter network responsive to assertion of either of the advance and retard signals and to decouple the control electrodes of the first and second transistors responsive to deassertion of both the advance signal and the retard signal.",
        "In additional embodiments of the present invention, the filter network may include an RC filter network. For example, the filter network may be a second or higher order RC filter network. In certain embodiments, the filter network includes a first resistance having a first terminal configured to be coupled to the control electrode of the first transistor, a second resistance coupled between a second terminal of the first resistance and the control electrode of the second transistor, a first capacitance coupled between the second terminal of the first resistance and a ground node, a second capacitance coupled between the control electrode of the second transistor and the ground node, and a series combination of a third resistance and a third capacitance coupled between the second terminal of the first resistance and the ground node.",
        "In certain embodiments of the present invention, the first and second transistors include respective NMOS transistors. The first and second transistors may have a channel length substantially greater than a minimum channel length of a fabrication process in which they are implemented. For example, the first and second transistors may be implemented in a 0.35 \u03bcm process, and may have a channel length of around 1.5 \u03bcm.",
        "According to further aspects of the present invention, the current-mode loop filter circuit further includes a bias circuit coupled between the current mirror circuit and a power supply voltage source and configured to bias the current mirror circuit responsive to a bias control signal generated at a controlled electrode of the second transistor. The current-mode loop filter circuit may further include a noise canceling circuit and a cascode current source coupled between the current mirror circuit and the current-controlled oscillator. A feedback divider circuit may be coupled between the current-controlled oscillator circuit and an input of the phase-frequency detector circuit. The feedback divider circuit may include a series combination of a programmable divider and a dual modulus prescaler. The current-controlled oscillator circuit may include, for example, a current-controlled ring oscillator circuit.",
        "FIGS. 1 and 2 illustrate a conventional PLL.",
        "FIG. 3 illustrates exemplary operations of the PLL of FIGS. 1 and 2.",
        "FIG. 4 illustrates another conventional PLL.",
        "FIG. 5 illustrates exemplary operations of the PLL circuit of FIG. 4.",
        "FIGS. 6-8 illustrate root locus characteristics for a conventional PLL circuit.",
        "FIG. 9 illustrates a Bode plot for a conventional PLL circuit.",
        "FIG. 10 illustrates jitter peaking characteristics for a conventional PLL.",
        "FIG. 11 illustrates root locus characteristics for a conventional PLL.",
        "FIGS. 12-14 illustrate sampling behavior of a conventional PLL.",
        "FIGS. 15 and 16 illustrate conventional sampling\u2014restoration PLLs.",
        "FIG. 17 illustrates operations of the PLL of FIG. 16.",
        "FIG. 18 illustrates jitter behavior of the PLL of FIG. 16.",
        "FIG. 19 illustrates power spectrum of a single frequency phase modulation vibration wave of a conventional PLL.",
        "FIG. 20 illustrates a noise model of a conventional PLL.",
        "FIG. 21 illustrates jitter behavior of a conventional PLL.",
        "FIG. 22 illustrates jitter peaking behavior of a conventional PLL.",
        "FIG. 23 illustrates a conventional self-biased PLL.",
        "FIGS. 24-28 illustrate current-mode filter configurations that may be used in a PLL according to various embodiments of the present invention.",
        "FIG. 29 illustrates a PLL with current-mode loop filter according to some embodiments of the present invention.",
        "FIG. 30 illustrates behavior of a current-mode filter that may be used in a PLL according to some embodiments of the present invention.",
        "FIG. 31 illustrates behavior of a PLL having a current-mode filter according to some embodiments of the present invention.",
        "FIGS. 32-35 illustrate a current-mode filter according to some embodiments of the present invention.",
        "FIG. 36 illustrates phase-frequency detector (PFD) that may be used in a PLL according to some embodiments of the present invention.",
        "FIG. 37 illustrates a charge pump and current-mode filter circuit for a PLL according to some embodiments of the present invention.",
        "FIGS. 38-39 illustrate a current-controlled oscillator that may be used in a PLL according to some embodiments of the present invention.",
        "FIG. 40 illustrates a power supply rejection behavior of a current-mode filter circuit according to some embodiments of the present invention.",
        "FIG. 41 illustrates simulated and measured performance of a PLL according to some embodiments of the present invention.",
        "FIG. 42 illustrates a feedback divider circuit that may be used in a PLL according to some embodiments of the present invention.",
        "FIG. 43 illustrates a dual modulus divider circuit that may be used in a feedback circuit of a PLL according to some embodiments of the present invention.",
        "FIG. 44 illustrates a small signal model for a current-mode PLL loop filter according to some embodiments of the present invention.",
        "FIG. 45 illustrates transient performance of a PLL according to some embodiments of the present invention.",
        "FIG. 46 illustrates bandwidth characteristics of a PLL according to some embodiments of the present invention.",
        "Specific exemplary embodiments of the invention now will be described with reference to the accompanying drawings. This invention may, however, be embodied in many different forms and should not be construed as limited to the embodiments set forth herein; rather, these embodiments are provided so that this disclosure will be thorough and complete, and will fully convey the scope of the invention to those skilled in the art. The terminology used in the detailed description of the particular exemplary embodiments illustrated in the accompanying drawings is not intended to be limiting of the invention. In the drawings, like numbers refer to like elements. As used herein, the singular forms \u201ca\u201d, \u201can\u201d and \u201cthe\u201d are intended to include the plural forms as well, unless expressly stated otherwise. It will be further understood that the terms \u201cincludes,\u201d \u201ccomprises,\u201d \u201cincluding\u201d and/or \u201ccomprising,\u201d when used in this specification, specify the presence of stated features, integers, steps, operations, elements, and/or components, but do not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and/or groups thereof. It will be understood that when an element is referred to as being \u201cconnected\u201d or \u201ccoupled\u201d to another element, it can be directly connected or coupled to the other element or intervening elements may be present. Furthermore, \u201cconnected\u201d or \u201ccoupled\u201d as used herein may include wirelessly connected or coupled. As used herein, the term \u201cand/or\u201d includes any and all combinations of one or more of the associated listed items.",
        "Unless otherwise defined, all terms (including technical and scientific terms) used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this invention belongs. It will be further understood that terms, such as those defined in commonly used dictionaries, should be interpreted as having a meaning that is consistent with their meaning in the context of the relevant art and will not be interpreted in an idealized or overly formal sense unless expressly so defined herein.",
        "Overview: Analysis of PLL Circuits",
        "As shown in FIGS. 1 and 2, a typical conventional charge pump PLL includes a Phase Frequency Detector (PFD), a Charge Pump (CP), Low-Pass Filter (LPF), Voltage Controlled Oscillator (VCO) and Feedback Divider. The PFD conducts phase subtraction of input signals, with an output of corresponding signal up or dn. The control signals cause charge or discharge of Vc, and the VCO will generate a definite frequency after filtering by a loop filter. Generally speaking, on the feedback path, there will be a by-N divider, which allows frequency and phase to be divided by N, with the feedback being sent to the input of the PFD. After the phase is locked, the output frequency will be N times the input reference frequency.",
        "A model of the charge pump PLL of FIG. 1 is shown in FIG. 2. The PLL may be modeled as a discrete-time system. After the phase is locked, there typically is little static phase error, such that the PLL is considered a linear system. When the loop bandwidth is far less than the input clock frequency, the average response of PLL over several clock periods can describe the system. Under such conditions, the PLL can be treated as a continuous-time system and can be analyzed with Laplace transforms. The phase discriminator PFD can be regarded as a phase subtractor; the charge pump may be described as a pure linear gain Icp/(2\u03c0), which transforms phase difference into current. The open-loop gain is the transfer function from the input along the loop to the feedback point:",
        "T\n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            \n              \u0398\n              fb\n            \n            \n              \u0398\n              ref\n            \n          \n          =\n          \n            \n              \n                I\n                cp\n              \n              \n                2\n                \u2062\n                \u03c0\n              \n            \n            \u00b7\n            \n              \n                Z\n                F\n              \n              \u2061\n              \n                (\n                s\n                )\n              \n            \n            \u00b7\n            \n              \n                K\n                VCO\n              \n              s\n            \n            \u00b7\n            \n              1\n              N\n            \n          \n        \n      \n    \n    \n      \n        (\n        1\n        )",
        "In equation (1), ZF(s) is the impedance of low-pass filter, transforming current into voltage, and KVCO is the gain of VCO that takes rad/s/V as the unit. When using an impedance network including a series connection of resistance and capacitance, as shown in FIG. 1, ZF(s) can be written as:",
        "Z\n            F\n          \n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            1\n            +\n            \n              s\n              \u00b7\n              \n                R\n                lp\n              \n              \u00b7\n              \n                C\n                1\n              \n            \n          \n          \n            s\n            \u00b7\n            \n              C\n              1\n            \n          \n        \n      \n    \n    \n      \n        (\n        2\n        )",
        "Substituting equation (2) into equation (1), the loop gain is a second-order system, with two poles and one zero. Their positions are given by the following formula:",
        "p\n            1\n          \n          =\n          \n            \n              p\n              2\n            \n            =\n            0\n          \n        \n        \u2062\n        \n          \n\n        \n        \u2062\n        \n          z\n          =\n          \n            -\n            \n              1\n              \n                \n                  R\n                  lp\n                \n                \u00b7\n                \n                  C\n                  1\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        3\n        )",
        "One pole is generated by integration from frequency to phase; the other is generated by the integration charge pump current by the loop capacitance. The frequency-to-phase integration enables the output frequency to accurately lock to the input clock, even if there is static phase contrast in the PLL. This is a characteristic of PLLs that differs from AFC. The integration gain of charge pump to capacitance at DC is generally infinite, which ensures that there is no static phase error.",
        "To ensure some phase margin, usually the zero is chosen within the bandwidth. Assuming that the zero is far less than the bandwidth, then the bandwidth is approximately:",
        "\u03c9\n          b\n        \n        =\n        \n          \n            \n              I\n              cp\n            \n            \n              2\n              \u2062\n              \u03c0\n            \n          \n          \u00b7\n          \n            R\n            lp\n          \n          \u00b7\n          \n            \n              K\n              VCO\n            \n            N\n          \n        \n      \n    \n    \n      \n        (\n        4\n        )\n      \n    \n  \n\n\n\n\nThe bandwidth should be far less than the angular frequency \u03c9REF of the input clock to meet the continuous-time approximation. Generally speaking, PLL bandwidth is less than 1/10 of the angular frequency of the input clock.",
        "With the help of the loop-gain expression, other PLL equations can be deduced. The closed-loop transfer function of the negative feedback system can be given by forward gain divided by (1+loop gain):",
        "H\n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            \n              \n                \n                  I\n                  cp\n                \n                \n                  2\n                  \u2062\n                  \u03c0\n                \n              \n              \u00b7\n              \n                K\n                VCO\n              \n              \u00b7\n              \n                R\n                lp\n              \n              \u00b7\n              s\n            \n            +\n            \n              \n                \n                  I\n                  cp\n                \n                \n                  2\n                  \u2062\n                  \u03c0\n                \n              \n              \u00b7\n              \n                \n                  K\n                  VCO\n                \n                \n                  C\n                  1\n                \n              \n            \n          \n          \n            \n              s\n              2\n            \n            +\n            \n              \n                \n                  I\n                  cp\n                \n                \n                  2\n                  \u2062\n                  \u03c0\n                \n              \n              \u00b7\n              \n                \n                  K\n                  VCO\n                \n                N\n              \n              \u00b7\n              \n                R\n                lp\n              \n              \u00b7\n              s\n            \n            +\n            \n              \n                \n                  I\n                  cp\n                \n                \n                  2\n                  \u2062\n                  \u03c0\n                \n              \n              \u00b7\n              \n                \n                  K\n                  VCO\n                \n                \n                  N\n                  \u00b7\n                  \n                    C\n                    1\n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        5\n        )",
        "Comparing equation (5) with the standard second-order expression",
        "H\n            \u2061\n            \n              (\n              s\n              )\n            \n          \n          =\n          \n            \n              A\n              0\n            \n            \u00b7\n            \n              \n                \n                  2\n                  \u2062\n                  \n                    \u03b6\n                    \u00b7\n                    \n                      \u03c9\n                      n\n                    \n                    \u00b7\n                    s\n                  \n                \n                +\n                \n                  \u03c9\n                  n\n                  2\n                \n              \n              \n                \n                  s\n                  2\n                \n                +\n                \n                  2\n                  \u2062\n                  \n                    \u03b6\n                    \u00b7\n                    \n                      \u03c9\n                      n\n                    \n                    \u00b7\n                    s\n                  \n                \n                +\n                \n                  \u03c9\n                  n\n                  2\n                \n              \n            \n          \n        \n        ,\n      \n    \n    \n      \n        (\n        6\n        )\n      \n    \n  \n\n\n\n\none may obtain:",
        "\u03c9\n          n\n        \n        =\n        \n          \n            \n              \n                I\n                cp\n              \n              \n                2\n                \u2062\n                \u03c0\n              \n            \n            \u00b7\n            \n              \n                K\n                VCO\n              \n              \n                N\n                \u00b7\n                \n                  C\n                  1\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        7\n        )\n      \n    \n  \n  \n    \n      \n        \u03b6\n        =\n        \n          \n            1\n            2\n          \n          \u2062\n          \n            \n              \n                \n                  \n                    I\n                    cp\n                  \n                  \n                    2\n                    \u2062\n                    \u03c0\n                  \n                \n                \u00b7\n                \n                  \n                    K\n                    VCO\n                  \n                  N\n                \n                \u00b7\n                \n                  C\n                  1\n                \n              \n            \n            \u00b7\n            \n              R\n              lp\n            \n          \n        \n      \n    \n    \n      \n        (\n        8\n        )\n      \n    \n  \n  \n    \n      \n        \n          A\n          0\n        \n        =\n        N\n      \n    \n    \n      \n        (\n        9\n        )\n      \n    \n  \n\n\n\n\nwhere \u03c9n is the natural angular frequency, and \u03b4 is the damping factor. Equation (9) indicates that the low-frequency phase gain of the frequency-doubled PLL is the frequency-doubled factor N. Comparing formulas (7), (8), and (4), the following may be obtained:",
        "\u03c9\n          b\n        \n        =\n        \n          2\n          \u2062\n          \n            \u03b6\n            \u00b7\n            \n              \u03c9\n              n\n            \n          \n        \n      \n    \n    \n      \n        (\n        10\n        )\n      \n    \n  \n  \n    \n      \n        \u03b6\n        =\n        \n          \n            1\n            2\n          \n          \u2062\n          \n            \n              \n                \u03c9\n                b\n              \n              \u00b7\n              \n                R\n                lp\n              \n              \u00b7\n              \n                C\n                1\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        11\n        )\n      \n    \n  \n\n\n\n\nCorresponding transformations can be made among \u03c9b, \u03c9n and \u03b4. If two of them are known, the third one can be deduced. From an analytical point of view, an analysis of two of the parameters is sufficient to know the characteristics of PLL.",
        "Equation (1) indicates that a high-bandwidth PLL can use smaller capacitance than a low-bandwidth PLL to achieve the same damping. Moreover, a low-bandwidth PLL may be designed with a greater resistance to prevent the capacitance from being too large. When the bandwidth remains unchanged, large resistance means a greater phase noise. Therefore, the low-bandwidth PLL is a compromise between size, noise and performance.",
        "The open-loop gain is of significance to the stability of the negative feedback system. As for the PLL, first, it should meet the continuous-time approximation, i.e. the angular frequency \u03c9b for the unit gain should not be more than 1/10 of the angular frequency of an input clock. Second, enough phase margin should be provided. In the transient process, the damping factor \u03b4 should be more than 0.5 to avoid excessive phase overshoot. There may be other requirements.",
        "The above discussion deals with the basic continuous-time approximation, which means the average response for several clock periods. The transient response of each phase discriminator cycle is illustrated in FIG. 3. When the phase discriminator asserts the \u201cup\u201d signal, Vc exhibits a corresponding response. When the charge current flows, Vc exhibits a positive jump relatively immediately, with the jump amplitude equal to Icp*Rlp. Because the RlpC1 time constant is much greater than pulse width \u201ct\u201d, the subsequent response equals to charging capacitance C1 with constant current Icp, which means that the waveform is a substantially straight line with a slope of Icp/C1. When the charging period is over, Vc will substantially immediately generate a negative jump, with an amplitude equal to Icp*Rlp. Then Vc will hold substantially constant until the next \u201cup\u201d or \u201cdn\u201d signal. It can be seen from the above analysis that the existence of resistance can cause Vc to generate Icp*Rlp ripples. For frequency-doubled PLL, this ripple may make the output clock frequency uneven, which may cause jitter.",
        "In circuit realizations, second-order or even higher-order filters may be used to reduce Vc ripples. FIG. 4 illustrates a model of a third-order PLL, adopting a second-order loop filter. There is a small capacitance in parallel connection with Vc, which may effectively reduce the height of ripples. During the charge period t, because time t is far less than time constant RlpC2, there is a less abrupt voltage jump, i.e., a rise at an approximate rate of Icp/C2. After the charge period is over, Vc discharges according to time constant Rlp*C2, due to basically no charge being delivered into C1, as shown in FIG. 5. For stability, C2 should be far less than C1.",
        "With the small capacitance C2, the impedance of the low-pass filter may be written as:",
        "Z\n            F\n          \n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            1\n            \n              s\n              \u00b7\n              \n                (\n                \n                  \n                    C\n                    1\n                  \n                  +\n                  \n                    C\n                    2\n                  \n                \n                )\n              \n            \n          \n          \u00b7\n          \n            \n              1\n              +\n              \n                s\n                \u00b7\n                \n                  R\n                  lp\n                \n                \u00b7\n                \n                  C\n                  1\n                \n              \n            \n            \n              1\n              +\n              \n                s\n                \u00b7\n                \n                  R\n                  lp\n                \n                \u00b7\n                \n                  \n                    \n                      C\n                      1\n                    \n                    \u2062\n                    \n                      C\n                      2\n                    \n                  \n                  \n                    \n                      C\n                      1\n                    \n                    +\n                    \n                      C\n                      2\n                    \n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        12\n        )\n      \n    \n  \n\n\n\n\nEquation (12) shows that a pole is actually added to the loop impedance, which is determined by the product of Rlp times the series connection of C1 and C2:",
        "p\n          3\n        \n        =\n        \n          -\n          \n            1\n            \n              \n                R\n                lp\n              \n              \u00b7\n              \n                \n                  \n                    C\n                    1\n                  \n                  \u2062\n                  \n                    C\n                    2\n                  \n                \n                \n                  \n                    C\n                    1\n                  \n                  +\n                  \n                    C\n                    2\n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        13\n        )\n      \n    \n  \n\n\n\n\nGenerally, the third pole may be several times greater than the bandwidth so that the phase margin is not very small. With the third pole, the closed-loop transfer function is more complicated:",
        "H\n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            \n              \u0398\n              out\n            \n            \n              \u0398\n              ref\n            \n          \n          =\n          \n            \n              \n                \n                  \n                    I\n                    cp\n                  \n                  \n                    2\n                    \u2062\n                    \u03c0\n                  \n                \n                \u00b7\n                \n                  K\n                  VCO\n                \n                \u00b7\n                \n                  R\n                  lp\n                \n                \u00b7\n                \n                  C\n                  1\n                \n                \u00b7\n                s\n              \n              +\n              \n                \n                  \n                    I\n                    cp\n                  \n                  \n                    2\n                    \u2062\n                    \u03c0\n                  \n                \n                \u00b7\n                \n                  K\n                  VCO\n                \n              \n            \n            \n              \n                \n                  \n                    \n                      \n                        R\n                        \n                          \n                            \n                          \n                          \u2062\n                          lp\n                        \n                      \n                      \u00b7\n                      \n                        C\n                        \n                          \n                            \n                          \n                          \u2062\n                          1\n                        \n                      \n                      \u00b7\n                      \n                        C\n                        \n                          \n                            \n                          \n                          \u2062\n                          2\n                        \n                      \n                      \u00b7\n                      \n                        s\n                        \n                          \n                            \n                          \n                          \u2062\n                          3\n                        \n                      \n                    \n                    +\n                    \n                      \n                        (\n                        \n                          \n                            C\n                            \n                              \n                                \n                              \n                              \u2062\n                              1\n                            \n                          \n                          +\n                          \n                            C\n                            \n                              \n                                \n                              \n                              \u2062\n                              2\n                            \n                          \n                        \n                        )\n                      \n                      \u00b7\n                      \n                        s\n                        \n                          \n                            \n                          \n                          \u2062\n                          2\n                        \n                      \n                    \n                    +\n                  \n                \n              \n              \n                \n                  \n                    \n                      \n                        \n                          \n                            \n                          \n                          \u2062\n                          \n                            I\n                            \n                              \n                                \n                              \n                              \u2062\n                              cp\n                            \n                          \n                        \n                        \n                          \n                            \n                          \n                          \u2062\n                          \n                            2\n                            \u2062\n                            \n                              \n                            \n                            \u2062\n                            \u03c0\n                          \n                        \n                      \n                      \u00b7\n                      \n                        \n                          \n                            \n                          \n                          \u2062\n                          \n                            K\n                            \n                              \n                                \n                              \n                              \u2062\n                              VCO\n                            \n                          \n                        \n                        \n                          \n                            \n                          \n                          \u2062\n                          N\n                        \n                      \n                      \u00b7\n                      \n                        R\n                        \n                          \n                            \n                          \n                          \u2062\n                          lp\n                        \n                      \n                      \u00b7\n                      \n                        C\n                        \n                          \n                            \n                          \n                          \u2062\n                          1\n                        \n                      \n                      \u00b7\n                      s\n                    \n                    +\n                    \n                      \n                        \n                          \n                            \n                          \n                          \u2062\n                          \n                            I\n                            \n                              \n                                \n                              \n                              \u2062\n                              cp\n                            \n                          \n                        \n                        \n                          \n                            \n                          \n                          \u2062\n                          \n                            2\n                            \u2062\n                            \n                              \n                            \n                            \u2062\n                            \u03c0\n                          \n                        \n                      \n                      \u00b7\n                      \n                        \n                          \n                            \n                          \n                          \u2062\n                          \n                            K\n                            \n                              \n                                \n                              \n                              \u2062\n                              VCO\n                            \n                          \n                        \n                        \n                          \n                            \n                          \n                          \u2062\n                          N\n                        \n                      \n                    \n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        14\n        )\n      \n    \n  \n\n\n\n\nCompared with equation (5), the numerator remains unchanged, while the denominator has become a cubic polynomial. To determine where the pole will be located when the loop is closed, the cubic equation for the denominator may be solved. In fact, for different circuit design parameters, there will be various possible pole positions. From open-loop pole positions with feedbacks from different depths, different positions for closed-loop poles may be obtained.",
        "A root locus diagram is an effective method to analyze the stability. As shown in FIG. 6, the zero-pole position at open loop is obtained from equation (3). At closed loop, with the zero remaining fixed, the two poles at the origin will separate and move around the zero. When they meet again on the real axis, they will be apart again, with one of them moving towards the zero, and the other moving in the opposite direction. The constant term of loop gain equation (1) determines the final positions of the poles.",
        "FIGS. 7 and 8 show the corresponding zero-pole diagrams for different damping factors after the second-order PLL is closed. When the two poles moves to a position which has an angle of \u00b145\u00b0 with respect to the origin, the relationship between the zero and the natural angular frequency is that the zero is equal to (\u2212\u03c9n/\u221a{square root over (2)}), because the distance from the poles to the origin is the natural angular frequency. The real parts of the poles and the zero are equal, and the damping factor is 0.707. When the two poles meet again on the real axis, the zero is equal to (\u2212\u03c9n/2), and the damping factor is 1. When the poles are apart, the ratio of distances from them to the origin is the damping factor.",
        "A closed-loop-response Bode diagram can be worked out according to the closed-loop zero-pole diagram. If the pole moves to the arrow position on FIG. 8, the Bode diagram will be as that shown in FIG. 9. No matter how large the constant term of loop gain is, the zero is always in the front of the first pole after the loop is closed. Therefore, the maximum amplitude response will be greater than 0 dB. This phenomenon is called jitter peaking. If the damping factor \u03b4 is an independent variable, the waveform of second-order PLL jitter peaking may be as shown in FIG. 10. When the damping factor \u03b4 is very small (\u03b4<0.707), both the poles and the zero contribute to the jitter peaking. When the damping factor is more than 1, the distance between the zero and the first pole, after the loop is closed, determines how large the jitter peaking can be. To reduce the jitter peaking, a greater damping factor may be used. Here, the zero and the first point are close enough so as to be regarded as being equal. Thus the \u22123 dB bandwidth, after the loop is closed, is almost equal to the frequency of the second pole, i.e., the zero frequency multiplied by the damping factor.",
        "As for the third-order PLL, if the third pole is not far enough, the root-locus chart may appear as that in FIG. 11. In the chart, under the influence of the third pole, the circular motions of the first and the second poles are distorted. The second pole and the third pole meet each other on the real axis, then separate and become a pair of conjugate poles. The line between the pair of conjugate poles forms an angle of 90\u00b0 with the real axis. If the loop gain is great enough, this pair of conjugate poles can also produce the peaking in Bode plots. By designing the third pole to be far away, this kind of situation may be avoided.",
        "In systems susceptive to jitter peaking, a greater damping factor may be desirable. Equation (11) indicates that a large damping factor can be realized with high bandwidth, large resistance or large capacitance. In real applications, there may be specific requirements on the bandwidth. If the bandwidth is not high, either resistance or the capacitance may be made large. A potential problem with using a large resistance is noise, and a potential problem with using a large capacitance is chip area. Ways to avoid such problems have been developed. A structure for a PLL for clock data recovery is described in T. H. Lee and J. F. Bulzacchelli, \u201cA 155-MHz clock recovery delay- and phase-locked loop,\u201d IEEE Journal of Solid-State Circuits, vol. 27, pp. 1736-1746, December 1992, which makes a closed loop transfer function of a PLL present all-pole characteristics, which may significantly reduce jitter peaking. A common approach is to enlarge the loop equivalent resistance without increasing the noise correspondingly. A dual path realization of a loop zero is described in J. Craninckx and M. Steyaert, \u201cA fully integrated CMOS DCS-1800 frequency synthesizer,\u201d IEEE Journal of Solid-State Circuits, vol. 33, pp. 2054-2065, December 1998. In similar noise performance situations, the equivalent resistance can be greater, reducing the capacitance (or the realization of less noise than common practice when capacitance remains the same). A similar sampling\u2014reset technique for a PLL is proposed in A. Maxim, B. Scott, E. M. Schneider, M. L. Hage, S. Chacko, and D. Stiurca, \u201cA low-jitter 125-1250-MHz process-independent and ripple-poleless 0.180-um CMOS PLL based on a sample-Reset loop filter,\u201d IEEE Journal of Solid-State Circuits, vol. 36, pp. 1673-1683, November 2001. According to this technique the loop resistance is replaced with a switched capacitor, which may reduce ripple produced by the resistance and reduce requirements on the high stage poles.",
        "Advantages of replacing the loop resistance with a switched capacitor may be explained with reference to FIG. 3. Changes in the mean value of Vc in a phase detector cycle TREF include a resistance effect [\u0394VRES] and a capacitance effect [\u0394VCAP]. Referring to FIG. 3, by averaging the ripple area produced by the resistance on the entire cycle TREF, the mean value [ \u0394VRES] may be determined:",
        "\u0394\n            \u2062\n            \n              \n            \n            \u2062\n            \n              V\n              RES\n            \n          \n          _\n        \n        =\n        \n          \n            \n              I\n              cp\n            \n            \u00b7\n            \n              R\n              lp\n            \n            \u00b7\n            t\n          \n          \n            T\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        15\n        )\n      \n    \n  \n\n\n\n\nThe mean value of the capacitance effect [ \u0394VCAP] can be obtained in a similar manner:",
        "\u0394\n            \u2062\n            \n              \n            \n            \u2062\n            \n              V\n              CAP\n            \n          \n          _\n        \n        =\n        \n          \n            \n              \n                \n                  \n                    I\n                    cp\n                  \n                  \u00b7\n                  t\n                  \u00b7\n                  \n                    T\n                    REF\n                  \n                \n                \n                  C\n                  1\n                \n              \n              -\n              \n                \n                  1\n                  2\n                \n                \u00b7\n                \n                  \n                    \n                      I\n                      cp\n                    \n                    \u00b7\n                    \n                      t\n                      2\n                    \n                  \n                  \n                    C\n                    1\n                  \n                \n              \n            \n            \n              T\n              REF\n            \n          \n          =\n          \n            \n              \n                \n                  I\n                  cp\n                \n                \u00b7\n                t\n              \n              \n                C\n                1\n              \n            \n            -\n            \n              \n                1\n                2\n              \n              \u00b7\n              \n                \n                  \n                    I\n                    cp\n                  \n                  \u00b7\n                  \n                    t\n                    2\n                  \n                \n                \n                  \n                    T\n                    REF\n                  \n                  \u00b7\n                  \n                    C\n                    1\n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        16\n        )",
        "When the PLL is locked, the pulse width of the signals up and dn is very small, i.e., the pulse width t may be far smaller than phase detector cycle TREF. The resistance and the capacitance effects can be considered as sampling. Referring to FIGS. 12-14, sampling appears in the frequency domain as repeating in the sampling frequency n harmonic (FIG. 13), while sample-and-hold also has a zero-order hold effect, namely the frequency spectrum (FIG. 13) multiplied by",
        "[\n  \n    \n      sin\n      \u2061\n      \n        (\n        \n          \n            \u03c0\n            \u00b7\n            f\n          \n          \n            f\n            s\n          \n        \n        )\n      \n    \n    /\n    \n      \n        \u03c0\n        \u00b7\n        f\n      \n      \n        f\n        s\n      \n    \n  \n  ]\n\n\n\n\n(FIG. 14).",
        "The resistance sampling effect and the capacitance sampling\u2014maintenance effect work at the same time, leading to a question as to which one is dominant. Comparing their mean value, the zero is smaller than the bandwidth, while the bandwidth is far smaller than the operating frequency, namely",
        "[\n    \n      \n        1\n        \n          2\n          \u2062\n          \n            \u03c0\n            \u00b7\n            \n              R\n              lp\n            \n          \n          \u2062\n          \n            C\n            1\n          \n        \n      \n      <\n      \n        f\n        b\n      \n      \u2aa1\n      \n        1\n        \n          T\n          REF\n        \n      \n    \n    ]\n  \n  .\n  \n    \n  \n  \u2062\n  \n    Then\n    \u2062\n    \n      \n    \n    [\n    \n      \n        1\n        \n          \n            R\n            lp\n          \n          \u2062\n          \n            C\n            1\n          \n        \n      \n      \u2aa1\n      \n        1\n        \n          T\n          REF\n        \n      \n    \n    ]\n  \n  .\n\n\n\n\nPutting these into equations (15) and (16) yields:\n\n \u0394VRES>> \u0394VCAP\u2003\u2003(17)\n\nIn this case, the resistance sampling effect is the dominant part of the Vc change. Therefore, if the resistance sampling effect also has the zero-order hold effect, it may be helpful in reducing the high frequency stray spectrum, and in reducing jitter.",
        "A conventional sampling\u2014reset PLL is shown in FIG. 15. The resistance (switched capacitor CR) and capacitance C1 run in different routes. After transforming to the electric current, they are added together to control the current controlled oscillator (ICO). The equivalent loop resistance is the function of the phase detecting frequency and the capacitance:",
        "R\n          equ\n        \n        =\n        \n          \n            1\n            \n              \n                f\n                REF\n              \n              \u2062\n              \n                C\n                R\n              \n            \n          \n          \u00b7\n          \n            \n              I\n              \n                CP\n                \u2062\n                \n                  \n                \n                \u2062\n                1\n              \n            \n            \n              I\n              \n                CP\n                \u2062\n                \n                  \n                \n                \u2062\n                2\n              \n            \n          \n          \u00b7\n          \n            \n              G\n              \n                m\n                \u2062\n                \n                  \n                \n                \u2062\n                1\n              \n            \n            \n              G\n              \n                m\n                \u2062\n                \n                  \n                \n                \u2062\n                2\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        18\n        )",
        "This equivalence can be obtained by making the mean values in a cycle equal to each other. Running two routes increase the freedom of design. The electric current in the two charges pump and the gain Gm of the voltage to the current can all be different. Make the ICP1 greater, the capacitance becomes greater, which can reduce the equivalent noise kT/CR of CR. In fact, a real circuit typically cannot achieve the ideal reset. It only means IR has a DC component all the time. This DC component may be designed to be small enough because it reduces the tuning range of the current controlled oscillator (ICO), and it increases the variation of the gain Kico. Equation (18) may grant the designer freedom to make the loop resistance large, so that the peaking in the closed loop transfer function can be reduced. But, a potential problem with the circuit of FIG. 15 is that there may not be enough time for reset.",
        "FIG. 16 illustrates a modification, using two sets of switched capacitors to equal the loop resistance, described in A. Maxim, B. Scott, E. M. Schneider, M. L. Hage, S. Chacko, and D. Stiurca, \u201cA low-jitter 125-1250-MHz process-independent and ripple-poleless 0.180-um CMOS PLL based on a sample-Reset loop filter,\u201d IEEE Journal of Solid-State Circuits, vol. 36, pp. 1673-1683, November 2001. The two sets of switched capacitors work in turns. While one set is charging and discharging, the other set sends the result of last discharge to the next stage. The reset time equals to an entire operating cycle. Other solutions are described in John G. Maneatis, Jaeha Kim, lain McClatchie, Jay Maxey and Manjusha Shankaradas, \u201cSelf-Biased High-Bandwidth Low-Jitter 1-to-4096 Multiplier Clock Generator PLL,\u201d IEEE Journal of Solid-State Circuits, vol. 38, pp. 1797-1803, November 2003.",
        "An ideal clock has a frequency of f0 and a cycle of T0(T0=1/f0): at the time of 0 there is a rising edge, and there is a rising edge again at the time T0. Again there are rising edges at the time 2T0, 3T0 . . . as is shown in FIG. 17(a). There is another same-frequency clock with jitter. Its closest rising edges appear in the time of t1, t2, t3, t4, t5 as showed in FIG. 17(b). Then, the jitter, also known as the error between rising edge and the ideal clock, are respectively t1, t2\u2014T0, t3\u20142T0, t4\u20143T0, t5\u20144T0. FIG. 17(c) shows the result by pulse width. In the figure, lagging behind the phase of the ideal clock is defined as negative, while leading is defined as positive. Usually, jitter is far smaller than the clock cycle T0, namely, the jitter pulse width is small such that the pulse width can be regarded as the impulse function. The height of each impulse equals to the pulse width, and lies at the corresponding time, as illustrated in FIG. 17(d). In this way, a non-uniform sampled jitter is produced, which is hard to analyze. The sampling time can be approximately moved to the integral multiple cycle to thereby obtain the jitter sequence of the uniform sampled by the frequency of f0 as showed in FIG. 17(e). This jitter is known as the phase jitter. It is also known as time interval error (TIE), tracking jitter, absolute jitter, and long term jitter.",
        "Phase jitter may be expressed as follows:\n\ntphase\u2212jitter=tn\u2212nT0\u2003\u2003(19)\n\nThe relationship of the phase and the time may be expressed as follows:",
        "\u0398\n          =\n          \n            \n              \u03c9\n              \u00b7\n              t\n            \n            =\n            \n              \n                \n                  2\n                  \u2062\n                  \u03c0\n                \n                \n                  T\n                  0\n                \n              \n              \u00b7\n              t\n            \n          \n        \n        ,\n      \n    \n    \n      \n        (\n        20\n        )\n      \n    \n  \n\n\n\n\ni.e., time T0 corresponds with phase 2\u03c0, and the time 2T0 corresponds with phase 4\u03c0, while the time 3T0 corresponds with phase 6\u03c0. Thus, the phase noise and the phase jitter may be related to each other in the following way:",
        "\u0398\n          n\n        \n        =\n        \n          2\n          \u2062\n          \n            \u03c0\n            \u00b7\n            \n              \n                t\n                \n                  phase\n                  -\n                  jitter\n                \n              \n              \n                T\n                0\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        21\n        )",
        "The phase jitter shown in FIG. 17(e) may also stand for the phase noise, with a gain of 2\u03c0/T0.",
        "A same-frequency ideal clock may be used to determine clock jitter. This ideal clock usually approximates from the clock to be analyzed in practical applications. A least squares method may be used to determine [\u0398(t)=\u03c9\u00b7t+\u03980]. The \u03c9 in the formula is the average frequency of the clock and the \u039b0 is the initial phase. Each time when the clock to be analyzed rises, it is 2 n\u03c0 to the phase and distributes near the straight line shown in FIG. 18.",
        "Jitter may also be calculated without an ideal clock. If the position of each rising edge is known, the instantaneous cycle T (t) may be determined. How much the instantaneous cycle deviates from the ideal cycle also indicates the jitter. This may be referred to as period jitter or cycle jitter:\n\nT1=t1\u2212t0, T2=t2\u2212t1, T3=t3\u2212t2,\u2003\u2003(22)\n\nIf the ideal cycle is T0, then the period jitter or cycle jitter is:\n\ntperiod\u2212jitter=Tn\u2212T0\u2003\u2003(23)\n\nCombining the instantaneous cycle equation (23) yields:\n\nT1\u2212T0=t1\u2212t0\u2212T0=(t1\u2212T0)\u2212t0\n\nT2\u2212T0=t2\u2212t1\u2212T0=(t2\u22122T0)\u2212(t1\u2212T0) \u2003\u2003(24)\n\nT3\u2212T0=t3\u2212t2\u2212T0=(t3\u22123T0)\u2212(t2\u22122T0)",
        "This may be generalized to:\n\ntperiod\u2212jittern=tphase\u2212jittern\u2212tphase\u2212jittern\u22121\u2003\u2003(25)",
        "The period jitter or cycle jitter is the differential of phase jitter. Accordingly, we can infer that the phase jitter is the integral of the period jitter or cycle jitter. Because it is the integral, it may lack a constant term, which is the initial phase of the clock. This does not affect each frequency component of the jitter, but may influence the root-mean-square (rms) value. So, usually after integration, the mean value may be subtracted from each sample to eliminate the influence of the initial phase.",
        "Another jitter is cycle-to-cycle jitter, i.e., the changes of neighboring cycles. The cycle-to-cycle jitter may be expressed as:\n\ntc2c\u2212jitter=Tn+1\u2212Tn\u2003\u2003(26)\n\nThe cycle-to-cycle jitter is the differential of cycle jitter, while the cycle jitter is the integral of cycle-to-cycle jitter.",
        "The relationships among the three kinds of different jitter may be extremely important. If the sampling frequency changes, it should be normalized to the sampling frequency to carry on the calculations of integrals and differentials. In the frequency domain, the integrals are low-pass, while the differentials are high-pass. Compared with the phase jitter, there are two differentials in the cycle-to-cycle jitter, which means a enlarged high frequency component and suppressed low frequency component. So, the cycle-to-cycle jitter is generally sensitive to high frequency noise. Low-frequency noise may cause large phase jitter, while hardly affecting the cycle to the cycle jitter. This may be understood by contrast to a sampling system. When sampling a low-frequency signal, if the sampling rate is very high (i.e., the ratio of the sampling frequency to the signal frequency is very large), the differences between every two samplings may be very small.",
        "Some assign phase jitter to the time domain and phase noise to the frequency domain because the clock jitter is often expressed in terms of unit interval (UI), while the phase noise often uses the unit of dBc. However, clock jitter and phase noise may both be viewed as sampling sequences in the time domain. Carrying out a discrete Fourier transform (DFT) on them, frequency domain expressions may be obtained.",
        "Because a square-wave signal generally contains rich spectral content, a sine wave [A sin [\u03c9c\u00b7t+b cos(\u03c9m\u00b7t)]] with single frequency phase noise will be considered. It is a phase modulation wave. A is the sine wave magnitude. \u03c9c is the carrier wave frequency, while b and \u03c9m are respectively the modulation signal (namely phase noise) magnitude and frequency. Assuming b is far smaller than 2\u03c0 (a narrow-band approximation), the calculation according to the triangle formula yields:",
        "A\n                \u00b7\n                \n                  sin\n                  \u2061\n                  \n                    (\n                    \n                      \n                        \n                          \u03c9\n                          c\n                        \n                        \u00b7\n                        t\n                      \n                      +\n                      \n                        b\n                        \u00b7\n                        \n                          cos\n                          \u2061\n                          \n                            (\n                            \n                              \n                                \u03c9\n                                m\n                              \n                              \u00b7\n                              t\n                            \n                            )\n                          \n                        \n                      \n                    \n                    )\n                  \n                \n              \n              =\n              \n              \u2062\n              \n                \n                  A\n                  \u00b7\n                  \n                    sin\n                    \u2061\n                    \n                      (\n                      \n                        \n                          \u03c9\n                          c\n                        \n                        \u00b7\n                        t\n                      \n                      )\n                    \n                  \n                  \u00b7\n                  \n                    cos\n                    \u2061\n                    \n                      (\n                      \n                        b\n                        \u00b7\n                        \n                          cos\n                          \u2061\n                          \n                            (\n                            \n                              \n                                \u03c9\n                                m\n                              \n                              \u00b7\n                              t\n                            \n                            )\n                          \n                        \n                      \n                      )\n                    \n                  \n                \n                +\n              \n            \n          \n        \n        \n          \n            \n              \n              \u2062\n              \n                A\n                \u00b7\n                \n                  cos\n                  \u2061\n                  \n                    (\n                    \n                      \n                        \u03c9\n                        c\n                      \n                      \u00b7\n                      t\n                    \n                    )\n                  \n                \n                \u00b7\n                \n                  sin\n                  \u2061\n                  \n                    (\n                    \n                      b\n                      \u00b7\n                      \n                        cos\n                        \u2061\n                        \n                          (\n                          \n                            \n                              \u03c9\n                              m\n                            \n                            \u00b7\n                            t\n                          \n                          )\n                        \n                      \n                    \n                    )\n                  \n                \n              \n            \n          \n        \n        \n          \n            \n              \u2248\n              \n              \u2062\n              \n                \n                  \n                    A\n                    \u00b7\n                    sin\n                  \n                  \u2062\n                  \n                    (\n                    \n                      \n                        \u03c9\n                        \n                          \n                            \n                          \n                          \u2062\n                          c\n                        \n                      \n                      \u00b7\n                      t\n                    \n                    )\n                  \n                \n                +\n                \n                  \n                    A\n                    \u00b7\n                    cos\n                  \n                  \u2062\n                  \n                    \n                      (\n                      \n                        \n                          \u03c9\n                          \n                            \n                              \n                            \n                            \u2062\n                            c\n                          \n                        \n                        \u00b7\n                        t\n                      \n                      )\n                    \n                    \u00b7\n                  \n                \n              \n            \n          \n        \n        \n          \n            \n              \n              \u2062\n              \n                b\n                \u00b7\n                \n                  cos\n                  \u2061\n                  \n                    (\n                    \n                      \n                        \u03c9\n                        \n                          \n                            \n                          \n                          \u2062\n                          m\n                        \n                      \n                      \u00b7\n                      t\n                    \n                    )\n                  \n                \n              \n            \n          \n        \n        \n          \n            \n              =\n              \n              \u2062\n              \n                \n                  A\n                  \u00b7\n                  \n                    sin\n                    \u2061\n                    \n                      (\n                      \n                        \n                          \u03c9\n                          c\n                        \n                        \u00b7\n                        t\n                      \n                      )\n                    \n                  \n                \n                +\n                \n                  \n                    1\n                    2\n                  \n                  \u00b7\n                  A\n                  \u00b7\n                  b\n                  \u00b7\n                  \n                    cos\n                    \u2061\n                    \n                      (\n                      \n                        \n                          \u03c9\n                          c\n                        \n                        -\n                        \n                          \u03c9\n                          m\n                        \n                      \n                      )\n                    \n                  \n                \n              \n            \n          \n        \n        \n          \n            \n              \n              \u2062\n              \n                t\n                +\n                \n                  \n                    \n                      1\n                      2\n                    \n                    \u00b7\n                    A\n                    \u00b7\n                    b\n                    \u00b7\n                    \n                      cos\n                      \u2061\n                      \n                        (\n                        \n                          \n                            \u03c9\n                            c\n                          \n                          +\n                          \n                            \u03c9\n                            m\n                          \n                        \n                        )\n                      \n                    \n                  \n                  \u2062\n                  t\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        27\n        )",
        "Calculating according to the narrow-band approximation, the power spectrum of a single frequency phase modulation vibration wave contains a carrier wave band at \u03c9c and two side bands located in both sides of the carrier wave at respective distances equal to the modulation frequency \u03c9m, as shown in FIG. 19. dBc is the ratio of noise showed in the form of decibel to carrier wave power. In the narrow-band approximation, it is 10 log(b2/4). As a rule, narrow-band approximation can describe the phase noise of oscillator or PLL precisely. But in certain applications, if the coefficient of modulation is very large such as the spread-spectrum clock or frequency modulation (FM), a Bessel function of the first kind may be used to determine the energy of each spectral component.",
        "FIG. 20 shows a noise model of a second-order charge pump PLL. \u03b8n\u2212ref represents jitter of the input clock. The current supply of the charge pump contains in\u2212cp noise current, with the loop filter resistance noise shown as Vn\u2212if. The VCO output superimposes the phase noise \u03b8n\u2212VCO. Since the frequency divider's input and output are all digital signals and the electrical level change is extremely steep, the noise voltage falls in the steep border and the jitter introduced may be neglected. In this way, the PLL is modeled by the noise source and noiseless modules.",
        "Combining with the loop equation described in equation (1), a transfer function of each noise source to output phase may be obtained:",
        "H\n            \u2061\n            \n              (\n              s\n              )\n            \n          \n          in\n        \n        =\n        \n          \n            \n              \u0398\n              out\n            \n            \n              \u0398\n              n_ref\n            \n          \n          =\n          \n            N\n            \u00b7\n            \n              \n                \n                  2\n                  \u2062\n                  \n                    \u03b6\n                    \u00b7\n                    \n                      \u03c9\n                      n\n                    \n                    \u00b7\n                    s\n                  \n                \n                +\n                \n                  \u03c9\n                  n\n                  2\n                \n              \n              \n                \n                  s\n                  2\n                \n                +\n                \n                  2\n                  \u2062\n                  \n                    \u03b6\n                    \u00b7\n                    \n                      \u03c9\n                      n\n                    \n                    \u00b7\n                    s\n                  \n                \n                +\n                \n                  \u03c9\n                  n\n                  2\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        28\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            H\n            \u2061\n            \n              (\n              s\n              )\n            \n          \n          cp\n        \n        =\n        \n          \n            \n              \u0398\n              out\n            \n            \n              i\n              n_cp\n            \n          \n          =\n          \n            \n              \n                \n                  1\n                  +\n                  \n                    s\n                    \u00b7\n                    \n                      C\n                      1\n                    \n                    \u00b7\n                    \n                      R\n                      lp\n                    \n                  \n                \n                \n                  C\n                  1\n                \n              \n              \u00b7\n              \n                K\n                VCO\n              \n            \n            \n              \n                s\n                2\n              \n              +\n              \n                2\n                \u2062\n                \n                  \u03b6\n                  \u00b7\n                  \n                    \u03c9\n                    n\n                  \n                  \u00b7\n                  s\n                \n              \n              +\n              \n                \u03c9\n                n\n                2\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        29\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            H\n            \u2061\n            \n              (\n              s\n              )\n            \n          \n          lf\n        \n        =\n        \n          \n            \n              \u0398\n              out\n            \n            \n              v\n              n_lf\n            \n          \n          =\n          \n            \n              \n                K\n                VCO\n              \n              \u00b7\n              s\n            \n            \n              \n                s\n                2\n              \n              +\n              \n                2\n                \u2062\n                \n                  \u03b6\n                  \u00b7\n                  \n                    \u03c9\n                    n\n                  \n                  \u00b7\n                  s\n                \n              \n              +\n              \n                \u03c9\n                n\n                2\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        30\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            H\n            \u2061\n            \n              (\n              s\n              )\n            \n          \n          VCO\n        \n        =\n        \n          \n            \n              \u0398\n              out\n            \n            \n              \u0398\n              n_VCO\n            \n          \n          =\n          \n            \n              s\n              2\n            \n            \n              \n                s\n                2\n              \n              +\n              \n                2\n                \u2062\n                \n                  \u03b6\n                  \u00b7\n                  \n                    \u03c9\n                    n\n                  \n                  \u00b7\n                  s\n                \n              \n              +\n              \n                \u03c9\n                n\n                2\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        31\n        )\n      \n    \n  \n\n\n\n\nIt may be inferred from these equations that jitter of input clock and current source noise to output are both low-pass responses. Their low frequency gains are respectively N and N/(Icp/2\u03c0). Their low frequency gains are different because they are provided from different places and there is a gain stage (Icp/2\u03c0) difference. The filter noise to the output is band-pass response, while the noise superimposed after VCO is high-pass response.",
        "As for the jitter of the input clock, the PLL appears as low pass with peaking, which can filter out the high frequency jitter of the input clock. With the jittery input clock, like in a clock data recovery circuit, there may be relatively low requirements on the bandwidth of the PLL. In frequency synthesizer applications, it may be assumed that the jitter of the input clock is small. For example, taking a crystal oscillator as the reference clock, the bandwidth should be quite high to suppress the jitter of PLL itself. An exception is the \u03a3-\u0394 fraction-N frequency synthesizer. The loop filter is to filter out the quantization noise s produced by [\u03a3-\u0394] modulation and the spurious tones. In such a case, the bandwidth should not be made high.",
        "To understand the PLL low frequency gain N to the input jitter, assume a low-frequency single frequency modulation jitter, the size of which is J seconds. To illustrate the effect of a frequency-multiplying PLL, it may be first converted into phase noise:",
        "\u0398\n          n_ref\n        \n        =\n        \n          \n            \n              J\n              \n                T\n                REF\n              \n            \n            \u00b7\n            2\n          \n          \u2062\n          \n            \n          \n          \u2062\n          \u03c0\n        \n      \n    \n    \n      \n        (\n        32\n        )\n      \n    \n  \n\n\n\n\nVery low-frequency single frequency modulation allows considering only the PLL low frequency gain N and an ignoring the jitter peaking, such that:",
        "\u0398\n          out\n        \n        =\n        \n          \n            \n              J\n              \n                T\n                REF\n              \n            \n            \u00b7\n            2\n          \n          \u2062\n          \n            \n          \n          \u2062\n          \n            \u03c0\n            \u00b7\n            N\n          \n        \n      \n    \n    \n      \n        (\n        33\n        )\n      \n    \n  \n\n\n\n\nConverting the output phase noise into jitter applying the formula TREF=N*Tout:",
        "jitter\n          out\n        \n        =\n        \n          \n            \n              \n                \u0398\n                out\n              \n              \n                2\n                \u2062\n                \n                  \n                \n                \u2062\n                \u03c0\n              \n            \n            \u00b7\n            \n              T\n              out\n            \n          \n          =\n          J\n        \n      \n    \n    \n      \n        (\n        34\n        )",
        "Although the phase noise is magnified N times, if the units are seconds, the output jitter is substantially the same as the input jitter. The result is reasonable, that is the time error will not be magnified. In other words, the phase noise is enlarged N times with the same time error in terms of output frequency. FIG. 21 shows an example of input and output jitter in 4-frequency multiplication. In fact, the frequency-multiplying PLL equals to having done the up sampling effect.",
        "As for the noise of the loop filter, to determine the band-pass response scope peak value of equation (30), s may be replaced with j\u03c9 to obtain:",
        "Mag\n              =\n              \n                \uf603\n                \n                  \n                    \n                      \n                        K\n                        VCO\n                      \n                      \u00b7\n                      j\n                    \n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \u03c9\n                  \n                  \n                    \n                      -\n                      \n                        \u03c9\n                        2\n                      \n                    \n                    +\n                    \n                      \n                        2\n                        \u00b7\n                        \u03b6\n                        \u00b7\n                        \n                          \u03c9\n                          n\n                        \n                        \u00b7\n                        j\n                      \n                      \u2062\n                      \n                        \n                      \n                      \u2062\n                      \u03c9\n                    \n                    +\n                    \n                      \u03c9\n                      n\n                      2\n                    \n                  \n                \n                \uf604\n              \n            \n          \n        \n        \n          \n            \n              =\n              \n                \n                  \n                    K\n                    VCO\n                  \n                  \u00b7\n                  \u03c9\n                \n                \n                  \n                    \n                      \n                        (\n                        \n                          \n                            \u03c9\n                            n\n                            2\n                          \n                          -\n                          \n                            \u03c9\n                            2\n                          \n                        \n                        )\n                      \n                      2\n                    \n                    +\n                    \n                      \n                        (\n                        \n                          2\n                          \u00b7\n                          \u03b6\n                          \u00b7\n                          \n                            \u03c9\n                            n\n                          \n                          \u00b7\n                          \u03c9\n                        \n                        )\n                      \n                      2\n                    \n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        35\n        )\n      \n    \n  \n\n\n\n\nThe maximum value occurs where the first stage derivative is zero. Carrying out the calculation for the derivative of the above formula \u03c9 and making it zero, after solving the equation, the maximum value if the bandpass response is:",
        "Mag\n          max\n        \n        =\n        \n          \n            \n              K\n              VCO\n            \n            \n              \u03c9\n              b\n            \n          \n          =\n          \n            \n              \n                2\n                \u2062\n                \n                  \n                \n                \u2062\n                \u03c0\n              \n              \n                I\n                cp\n              \n            \n            \u00b7\n            \n              N\n              \n                R\n                lp\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        36\n        )",
        "This indicates that, to reduce the impact of noise of the filter, the gain of the VCO may be reduced or the bandwidth increased. In other words, current Icp of the charge pump or resistance Rlp of the filter may be increased. Although the noise power of the loop resistance is 4KTRlp, enlarging the resistance may increase the noise source, but the effect to output phase noise is reduced. Because the maximum band-pass response appears at \u03c9n, a substantially similar effect may be achieved by increasing the natural frequency.",
        "FIG. 22 shows the amplitude response of the filter noise to output by increasing \u03c9n when the damping factor remains unchanged. In the figure, curves for 100 krad/s, 200 Krad/s, 400 Krad/s and 800 Krad/s values for \u03c9n are shown. As the natural frequency increases, not only does the scope peak value of the band-pass response drop proportionally, but also the frequency of the peak value increases.",
        "As for the noise of the VCO, the PLL shows high-pass characteristics. The \u22123 dB bandwidth of the transfer function of equation (31) is given by:",
        "\u03c9\n          \n            \n              -\n              3\n            \n            \u2062\n            d\n            \u2062\n            \n              \n            \n            \u2062\n            B\n          \n        \n        =\n        \n          \n            \u03c9\n            n\n          \n          \u00b7\n          \n            \n              \n                2\n                \u2062\n                \n                  \n                \n                \u2062\n                \n                  \u03b6\n                  2\n                \n              \n              -\n              1\n              +\n              \n                \n                  2\n                  -\n                  \n                    4\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      \u03b6\n                      2\n                    \n                  \n                  +\n                  \n                    4\n                    \u2062\n                    \n                      \n                    \n                    \u2062\n                    \n                      \u03b6\n                      4\n                    \n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        37\n        )\n      \n    \n  \n\n\n\n\nWhen the damping factor is 0.707, the \u22123 dB bandwidth happens to be the natural frequency. When the damping factor is far smaller than 1, the coefficient of the \u03c9n in equation (37) is approximately a constant:",
        "\u03c9\n          \n            \n              -\n              3\n            \n            \u2062\n            dB\n          \n        \n        \u2248\n        \n          \n            \u03c9\n            n\n          \n          \u00b7\n          \n            \n              \n                2\n              \n              -\n              1\n            \n          \n        \n        \u2248\n        \n          0.644\n          \u2062\n          \n            \u03c9\n            n\n          \n        \n      \n    \n    \n      \n        (\n        38\n        )\n      \n    \n  \n\n\n\n\nWhen the damping factor is far greater than 1, equation (31) can be simplified to:\n\n\u03c9\u22123dB\u22482\u03b6\u03c9n=\u03c9b\u2003\u2003(39)\n\nThe above inferential reasoning explains that increasing the natural angular frequency and the damping factor may increase the bandwidth of the high-pass function (except the situation that increasing the damping factor when it is smaller than 1, the effect may not be perceptible), which may consequently reduce the impact of VCO noise.",
        "In situations when input phase noise is very small, for instance, the frequency synthesizer using the crystal oscillator as the input. If it is desired to reduce the phase noise of the PLL itself, a large natural angular frequency and damping factor may be used to suppress noise of inner parts. From equation (7), it may be inferred that a large natural angular frequency can also reduce the size of capacitance. Since the loop capacitance is usually the component that occupies the most area in the PLL, increasing the natural frequency can help reduce the chip area of the PLL. However, in some applications, the reference frequency of input is low, which may restrict the bandwidth to be made higher by taking the continuous-time approximation into account. So, it may be necessary to compromise in line with detailed requirements.",
        "Traditional PLL designs face several challenges. The bandwidth of a charge pump PLL may be very sensitive to process, power supply and temperature. Bandwidth is generally the function of the design parameters Icp, Rtp and KVCO. This may bring desirable design freedom for designers, but may also make the bandwidth more variable. With the change of process, voltage and temperature, each design parameter has a certain variable range, which may bring a corresponding change in bandwidth. A common solution to get the current Icp is to use a bandgap reference source to get a voltage that is independent of voltage and temperature, and divide it by resistance. The resistance is in proportion with the resistance Rtp in the loop, so Icp*Rtp is in a certain proportion to the reference voltage, and it is also independent of power supply and temperature. However, its oscillation frequency and gain KVCO may greatly depend on process, power supply and temperature, due to the restriction of the structure of CMOS ring oscillator. A ring oscillator that uses a tail current source structure may not be sensitive to supply voltage, but the threshold voltage, mobility, W/L ratio and mismatching may affect the oscillator frequency and gain. These factors may also be dependent on process and temperature.",
        "Requirements for a stable PLL may include: continuous-time approximation, i.e., the unit gain frequency \u03c9b is not greater than one-tenth of the angular frequency of the input clock; ensuring a certain phase margin; and a damping factor \u03b4 greater than 0.707. Therefore, to achieve continuous-time approximation when taking into account possible changes in process, power supply and temperature, the greatest bandwidth may be constrained to be equal to one tenth of the angular frequency of the input clock, and the smallest bandwidth may be limited to one twentieth to one thirtieth of the input clock frequency. In this way, in order to make the damping factor \u03b4 greater than 0.707, the capacitance may restricted by the smallest bandwidth. That is to say, it may not be feasible to meet these basic requirements without excessive capacitance area. Furthermore, other factors may impair performance, such as poor noise frequency (the bandwidth becomes narrower), inadequate filtering effects (the bandwidth becomes wider) and excessive peaking (inadequate phase margin).",
        "The bandwidth of a charge pump PLL is generally in inverse proportion to the frequency multiplication factor N. If the output frequency is programmed by changing the frequency multiplication factor N using a programmable divider, the change of N must be taken into consideration. If N changes by multiple times, a problem of too great change in bandwidth may arise. Placement of a current steering digital to analog converter (IDAC) on the charge pump has been proposed in H. C. Yang, L. K. Lee, and R. S. Co, \u201cA low jitter 0.3-165 MHz CMOS PLL frequency synthesizer for 3 V/5 V operation,\u201d IEEE Journal of Solid-State Circuits, vol. 32, pp. 582-586, April 1997. This can change the current of the charge pump correspondingly while changing N. While the input clock changes, it may be hard to keep the PLL bandwidth to be one tenth of the input frequency. This may require over-design at the expense of the chip area in order to take the smallest input frequency into account.",
        "Solutions to such problems have been proposed. The aforementioned John G. Maneatis, \u201cLow-jitter process-independent DLL and PLL based on self-biased techniques.\u201d IEEE Journal of Solid-State Circuits, vol. 31, pp. 1723-1732, November 1996 proposed a self-biased PLL to make both natural frequency and damping factor independent of process, power supply and temperature, but weak relative to the frequency multiplication factor N. A self-biased PLL, as shown in FIG. 23, includes a replica current source bias, making the current of the charge pump in a certain proportion x to the VCO current, and realizing the loop resistance through transconductance in MOS transistor. The resistance in the figure is an equivalent resistance, and its conductance is 1/y of the transconductance in VCO. Along with the operational amplifier, it is a part of the replica bias.",
        "Generally, the delay time of a delay cell is approximately Cd/gm, wherein Cd is the capacitive load of the delay unit, and gm is the equivalent transconductance of the delay unit. Multiplying n by delay fall time and delay rise time of each delay cell yields the oscillation cycle of a ring oscillator that is made of n-level cascaded delay units, i.e., the oscillation frequency of the VCO is determined by:",
        "f\n          OSC\n        \n        =\n        \n          \n            \n              g\n              m\n            \n            \n              2\n              \u2062\n              \n                n\n                \u00b7\n                \n                  C\n                  d\n                \n              \n            \n          \n          =\n          \n            \n              \n                \u03b2\n                \u2061\n                \n                  (\n                  \n                    \n                      V\n                      CTRL\n                    \n                    -\n                    \n                      V\n                      T\n                    \n                  \n                  )\n                \n              \n              \n                2\n                \u2062\n                \n                  n\n                  \u00b7\n                  \n                    C\n                    d\n                  \n                \n              \n            \n            =\n            \n              \n                \n                  2\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \n                    \u03b2\n                    \u00b7\n                    \n                      I\n                      VCO\n                    \n                  \n                \n              \n              \n                2\n                \u2062\n                \n                  n\n                  \u00b7\n                  \n                    C\n                    d\n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        40\n        )\n      \n    \n  \n\n\n\n\nThe above equation implies a strongly inverted assumption: \u03b2 is the gain factor of MOS transistor, namely, \u03bcCaxW/L. Using the angular frequency (namely, multiplying the above formula by 2\u03c0) and VCTRL for the derivative, the gain of VCO KVCO is:",
        "K\n          VCO\n        \n        =\n        \n          \n            \u03c0\n            \u2062\n            \n              \n            \n            \u2062\n            \u03b2\n          \n          \n            n\n            \u00b7\n            \n              C\n              d\n            \n          \n        \n      \n    \n    \n      \n        (\n        41\n        )\n      \n    \n  \n\n\n\n\nThe loop resistance is y times as much as the transconductance reciprocal in the VCO:",
        "R\n          lp\n        \n        =\n        \n          y\n          \n            \n              2\n              \u2062\n              \n                \n              \n              \u2062\n              \n                \u03b2\n                \u00b7\n                \n                  I\n                  VCO\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        42\n        )\n      \n    \n  \n\n\n\n\nSubstituting the expression for frequency multiplication in combination with equations (40), (41), (42) and (4) yields:",
        "\u03c9\n          b\n        \n        =\n        \n          \n            \n              x\n              \u00b7\n              y\n            \n            2\n          \n          \u00b7\n          \n            f\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        43\n        )\n      \n    \n  \n\n\n\n\nAccording to equation (43), the PLL open loop bandwidth is in direct proportion to input clock frequency, charge pump to oscillator current ratio and MOS transistor in replica bias to transistor in oscillator ratio. The bandwidth may be substantially independent of process, environment temperature and voltage.",
        "In the similar way, expressions for natural frequency and damping factor can be obtained:",
        "\u03c9\n          n\n        \n        =\n        \n          \n            \n              x\n              \u00b7\n              N\n            \n          \n          \u00b7\n          \n            \n              \n                n\n                \u00b7\n                \n                  C\n                  d\n                \n              \n              \n                C\n                1\n              \n            \n          \n          \u00b7\n          \n            f\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        44\n        )\n      \n    \n  \n  \n    \n      \n        \u03b6\n        =\n        \n          \n            y\n            4\n          \n          \u00b7\n          \n            \n              x\n              N\n            \n          \n          \u00b7\n          \n            \n              \n                C\n                1\n              \n              \n                n\n                \u00b7\n                \n                  C\n                  d\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        45\n        )\n      \n    \n  \n\n\n\n\nThese equations show that the natural frequency to input clock frequency ratio is in a linear relation to the square root of N, and the damping factor is in a reciprocal relation to the square root of N. Both may also be independent of process, power supply and temperature.",
        "In the above analyses, all parameters are generated inside the circuit, and need no reference source to produce current or voltage. This is referred to as self-biased operation. Because of tangible improvement in the sensitivity of PLL parameters to environment, this technology has been widely used. Similar technologies, such as a regulated supply PLL, are described in S. Sidiropoulos, et al., \u201cAdaptive bandwidth DLLs and PLLs using regulated supply CMOS buffers,\u201d Digest Symp. VLSI Circuits, pp. 124-127, June 2000, where it is possible to realize the same transfer function without use of replica bias technology.",
        "John G. Maneatis, Jaeha Kim, lain McClatchie, Jay Maxey and Manjusha Shankaradas, \u201cSelf-Biased High-Bandwidth Low-Jitter 1-to-4096 Multiplier Clock Generator PLL,\u201d IEEE Journal of Solid-State Circuits, vol. 38, pp. 1797-1803, November 2003, combines the self-biased technology with an IDAC to realize a fixed-bandwidth PLL with freely variable N from 1 to 4096 and to integrate a 12-bit IDAC. As N changes the ratio of charge pump to oscillator current, x*N maintains a value m. This approach still uses a sampling-resetting technology. In this technique, the loop resistance, which is realized by the switching capacitance, becomes:",
        "R\n          lp\n        \n        =\n        \n          1\n          \n            \n              f\n              REF\n            \n            \u00b7\n            \n              C\n              R\n            \n          \n        \n      \n    \n    \n      \n        (\n        46\n        )\n      \n    \n  \n\n\n\n\nBecause fREF=fOSC/N, equation (46) can be rewritten as:",
        "R\n          lp\n        \n        =\n        \n          \n            N\n            \n              \n                f\n                OSC\n              \n              \u00b7\n              \n                C\n                R\n              \n            \n          \n          =\n          \n            \n              N\n              \n                \n                  \n                    \n                      2\n                      \u2062\n                      \n                        \u03b2\n                        \u00b7\n                        \n                          I\n                          VCO\n                        \n                      \n                    \n                  \n                  \n                    2\n                    \u2062\n                    \n                      n\n                      \u00b7\n                      \n                        C\n                        d\n                      \n                    \n                  \n                \n                \u00b7\n                \n                  C\n                  R\n                \n              \n            \n            =\n            \n              \n                \n                  N\n                  \n                    \n                      2\n                      \u2062\n                      \n                        \u03b2\n                        \u00b7\n                        \n                          I\n                          VCO\n                        \n                      \n                    \n                  \n                \n                \u00b7\n                2\n              \n              \u2062\n              \n                n\n                \u00b7\n                \n                  \n                    C\n                    d\n                  \n                  \n                    C\n                    R\n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        47\n        )\n      \n    \n  \n\n\n\n\nReplacing equation formula (47) with equation (42) the open-loop bandwidth \u03c9b, natural frequency \u03c9n, and damping factor \u03b4 of the PLL are all independent of the feedback frequency-dividing ratio N:",
        "\u03c9\n          b\n        \n        =\n        \n          m\n          \u00b7\n          n\n          \u00b7\n          \n            \n              C\n              d\n            \n            \n              C\n              R\n            \n          \n          \u00b7\n          \n            f\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        48\n        )\n      \n    \n  \n  \n    \n      \n        \n          \u03c9\n          n\n        \n        =\n        \n          \n            \n              m\n              \u00b7\n              n\n              \u00b7\n              \n                \n                  C\n                  d\n                \n                \n                  C\n                  1\n                \n              \n            \n          \n          \u00b7\n          \n            f\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        49\n        )\n      \n    \n  \n  \n    \n      \n        \u03b6\n        =\n        \n          \n            \n              \n                m\n                \u00b7\n                n\n              \n            \n            2\n          \n          \u00b7\n          \n            \n              \n                \n                  C\n                  1\n                \n                \u00b7\n                \n                  C\n                  d\n                \n              \n              \n                C\n                R\n                2\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        50\n        )\n      \n    \n  \n\n\n\n\nThese equations indicate that the self-biased PLL with IDAC and sampling-resetting technology may resolve the practical problems described above by making the PLL design independent of process and temperature, without substantial change in bandwidth and stability problems when changing the frequency multiplication factor (namely, feedback frequency dividing ratio) of the frequency multiplier loop. These conclusions are all based on the assumption of oscillation frequency described by equation (40). When the oscillation frequency is very low, the transistor in the delay cell will no longer work as a strong inversion type, so the expression of transconductance will no longer follow equation (40).",
        "However, the self-biased PLL with IDAC described above may be complicated to implement. First, it may be difficult or costly to make a 12-bit IDAC. For example, if a multilevel current mirror is used, this may take a lot of energy in design, care in layout arrangement, and close attention to possible impacts of mismatching. From the aspect of design, minimizing mismatching may require the use of long channel transistors, which may occupy a considerable chip area. The sampling-resetting technology may also require delicate circuitry. Moreover, effects such as charge injection and clock feedthrough of the switch may also be substantial. The loop resistance is generally relative to the reference frequency. When the reference frequency is high, the PLL used for filter design (namely, low bandwidth PLL, e.g., a delta-sigma frequency modulation synthesizer) may not have a high resistance without using a small capacitance CR, which greatly saves the size of the large capacitance C1. If the CR is too small, the sampling-resetting circuit may become vulnerable to the influence of clock feed-through and charge injection.",
        "PLLs with Current-Mode Filters",
        "Current-mode filters have been widely used in signal processing, as they may provide low-voltage operation, low-power consumption, and high frequency response. A current-mode filter typically includes an integrating device. According to various embodiments of the present invention, any of a number of different types of current-mode filters may be used as loop filters in a PLL",
        "S.-S. Lee, R. H. Zele, D. J. Allstot and G. Liang, \u201cCMOS continuous-time current-mode filters for high-frequency applications.\u201d IEEE Journal of Solid-State Circuits, vol. 28, pp. 323-329. March 1993, describes a current-mode integrating circuit 2400 illustrated in FIG. 24. The circuit includes a current mirror including NMOS transistors M1-M5 arranged in a current mirror configuration, and a filter network including a capacitor C coupled between signal ground and gate electrodes of the transistors M3 and M4.",
        "The transfer function of this circuit is:",
        "I\n              out\n            \n            \n              I\n              in\n            \n          \n          =\n          \n            \n              m\n              \u00b7\n              \n                g\n                m\n              \n            \n            \n              s\n              \u00b7\n              C\n            \n          \n        \n        ,\n      \n    \n    \n      \n        (\n        51\n        )\n      \n    \n  \n\n\n\n\nwhere m is a constant that is the ratio of output bias current to sub-bias current of integrating device and gm is transconductance of the NMOS channel inside the spur track. As for a loop filter with wide frequency tuning range, a potential problem of such an integrating circuit is that it is desirable that the bias current be greater than the biggest signal current to avoid saturation distortion. However, when the current is lower (that is to say, when the oscillation frequency is not maximized), a relatively large bias current may be needed to achieve higher linearity. R. H. Zele and D. J. Allstot, \u201cLow-power CMOS continuous-time filters.\u201d IEEE Journal of Solid-State Circuits, vol. 31, pp. 157-168, February 1996, describes a relatively simpler current-mode integrating circuit that may be especially suitable for differential signal processing. The circuit is substantially similar to the circuit of FIG. 24.",
        "FIG. 25 illustrates another current integrating circuit 2500 that may be used in embodiments of the present invention. The circuit 2500 includes NMOS transistors Q1 and Q2 (with transconductance gmn) arranged as a current mirror, along with PMOS bias transistors Q3 and Q4 (with transconductance gmp) a PMOS output transistor Q5 (with transconductance m*gmp) and a filter capacitor C coupled between ground and the gate electrodes of the current mirror transistors Q1 and Q2. Assuming that the current mirror is 100 percent matched:",
        "I\n                  out\n                \n                m\n              \n              +\n              \n                I\n                in\n              \n            \n            \n              \n                g\n                mn\n              \n              +\n              \n                s\n                \u00b7\n                C\n              \n            \n          \n          \u00b7\n          \n            g\n            mn\n          \n        \n        =\n        \n          \n            \n              I\n              out\n            \n            m\n          \n          .\n        \n      \n    \n    \n      \n        (\n        52\n        )\n      \n    \n  \n\n\n\n\nThis can be reduced to:",
        "I\n            out\n          \n          \n            I\n            in\n          \n        \n        =\n        \n          \n            m\n            \u00b7\n            \n              g\n              mn\n            \n          \n          \n            s\n            \u00b7\n            C\n          \n        \n      \n    \n    \n      \n        (\n        53\n        )\n      \n    \n  \n\n\n\n\nEquation (53) shows that the circuit 2500 of FIG. 25 may be viewed as an integrating device, with a unity gain angular frequency of [m\u00b7gmn/C]. The circuit has no redundant bias, and may save power and space. But the transconductance of the NMOS channels of the circuit generally changes with output current Iout, because the unity gain angular frequency of the integrating circuit is generally dependent on the bias condition. In other words, linearity of the current-mode integrating circuit 2500 may be poor.",
        "A modification of the circuit 2500 shown in FIG. 25 is shown in FIG. 26. The circuit 2600 adds source resistors Rs. Its transfer function is:",
        "I\n              out\n            \n            \n              I\n              in\n            \n          \n          =\n          \n            \n              \n                m\n                \u00b7\n                \n                  g\n                  mn\n                \n              \n              \n                \n                  (\n                  \n                    1\n                    +\n                    \n                      \n                        g\n                        mn\n                      \n                      \u2062\n                      \n                        R\n                        s\n                      \n                    \n                  \n                  )\n                \n                \u00b7\n                s\n                \u00b7\n                C\n              \n            \n            =\n            \n              \n                m\n                \u00b7\n                \n                  G\n                  m\n                \n              \n              \n                s\n                \u00b7\n                C\n              \n            \n          \n        \n        ,\n      \n    \n    \n      \n        (\n        54\n        )\n      \n    \n  \n\n\n\n\nwhere Gm=gmn/(1+gmnRs). If gmnRs>>1, then equation (54) is not dependent upon the operation point of the transistors. However, the circuit 2600 illustrated in FIG. 26 may have a limited current adjusting range",
        "FIG. 27 illustrates a circuit 2700 that is yet another modification of the circuit 2500 of FIG. 25 that may be used in a PLL in accordance with some embodiments of the present invention. The circuit 2700 includes a gate resistor RG coupled between one of the current mirror transistor Q1 and a conductance G. The transfer function of this circuit is given by:",
        "I\n              out\n            \n            \n              I\n              in\n            \n          \n          =\n          \n            \n              \n                m\n                \u00b7\n                \n                  g\n                  mn\n                \n              \n              \n                \n                  (\n                  \n                    1\n                    +\n                    \n                      \n                        g\n                        mn\n                      \n                      \u2062\n                      \n                        R\n                        G\n                      \n                    \n                  \n                  )\n                \n                \u00b7\n                G\n              \n            \n            =\n            \n              \n                m\n                \u00b7\n                \n                  G\n                  m\n                \n              \n              G\n            \n          \n        \n        ,\n      \n    \n    \n      \n        (\n        55\n        )\n      \n    \n  \n\n\n\n\nwhere Gm=gmn/(1+gmnRG). The circuits 2500 and 2700 of FIGS. 25 and 27 have similar transfer functions, and the circuit 2700 in FIG. 27 has a current adjustment range similar to that of the circuit 2500 of FIG. 25.",
        "FIG. 28 illustrates circuit 2800 that is a form of the circuit 2700, wherein a resistance Rlp and a capacitance C1 is used to provide the conductance G. This adds a zero, producing the transfer function:",
        "I\n            out\n          \n          \n            I\n            in\n          \n        \n        =\n        \n          m\n          \u00b7\n          \n            G\n            m\n          \n          \u00b7\n          \n            \n              \n                1\n                +\n                \n                  s\n                  \u00b7\n                  \n                    R\n                    lp\n                  \n                  \u00b7\n                  \n                    C\n                    1\n                  \n                \n              \n              \n                s\n                \u00b7\n                \n                  C\n                  1\n                \n              \n            \n            .\n          \n        \n      \n    \n    \n      \n        (\n        56\n        )\n      \n    \n  \n\n\n\n\nThe transfer function may be manipulated as follows:",
        "\u2062\n              \n                \n                  \n                    \n                      \n                    \n                    \u2062\n                    \n                      I\n                      \n                        \n                          \n                        \n                        \u2062\n                        out\n                      \n                    \n                  \n                  \n                    \n                      \n                    \n                    \u2062\n                    \n                      I\n                      \n                        \n                          \n                        \n                        \u2062\n                        \n                          i\n                          \u2062\n                          \n                            \n                          \n                          \u2062\n                          n\n                        \n                      \n                    \n                  \n                \n                \u2062\n                \n                  \n                \n                =\n                \n                  \n                \n                \u2062\n                \n                  m\n                  \u00b7\n                  \n                    (\n                    \n                      \n                    \n                    \u2062\n                    \n                      \n                        \n                          G\n                          \n                            \n                              \n                            \n                            \u2062\n                            m\n                          \n                        \n                        \u00b7\n                        \n                          \n                        \n                        \u2062\n                        \n                          \n                            1\n                            \u2062\n                            \n                              \n                            \n                            -\n                            \n                              \n                            \n                            \u2062\n                            a\n                          \n                          \n                            \n                              \n                            \n                            \u2062\n                            \n                              s\n                              \u00b7\n                              \n                                \n                              \n                              \u2062\n                              \n                                C\n                                \n                                  \n                                    \n                                  \n                                  \u2062\n                                  1\n                                \n                              \n                            \n                          \n                        \n                      \n                      \u2062\n                      \n                        \n                      \n                      -\n                      \n                        \n                      \n                      \u2062\n                      a\n                    \n                    )\n                  \n                \n              \n              \u2062\n              \n                \n              \n            \n          \n        \n        \n          \n            \n              \n                \n              \n              \u2062\n              \n                =\n                \n                  \n                \n                \u2062\n                \n                  m\n                  \u00b7\n                  \n                    G\n                    m\n                  \n                  \u00b7\n                  \n                    (\n                    \n                      1\n                      -\n                      a\n                    \n                    )\n                  \n                  \u00b7\n                  \n                    \n                      1\n                      -\n                      \n                        \n                          a\n                          \n                            \n                              (\n                              \n                                1\n                                -\n                                a\n                              \n                              )\n                            \n                            \u00b7\n                            \n                              G\n                              m\n                            \n                          \n                        \n                        \u00b7\n                        s\n                        \u00b7\n                        \n                          C\n                          1\n                        \n                      \n                    \n                    \n                      s\n                      \u00b7\n                      \n                        C\n                        1\n                      \n                    \n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        57\n        )\n      \n    \n  \n\n\n\n\nComparing equations 56 and 57, the equivalent resistance is:",
        "R\n          equ\n        \n        =\n        \n          \n            \n              -\n              a\n            \n            \n              \n                (\n                \n                  1\n                  -\n                  a\n                \n                )\n              \n              \u00b7\n              \n                G\n                m\n              \n            \n          \n          .\n        \n      \n    \n    \n      \n        (\n        58\n        )\n      \n    \n  \n\n\n\n\nA zero in the left half plane can be reached if a<0 or a>1. When a>1, the transfer function of the current-mode filter is negative.",
        "FIG. 29 illustrates a self-biased PLL 2900 with current-mode loop filter according to some embodiments of the present invention. The PLL 2900 includes a charge pump 2910, a current-mode loop filter 2920 and a current-controlled oscillator 2930 in its forward path. A feedback gain 2940 is applied to the output frequency fout, before subtraction from the reference frequency fref at a summing junction 2950. The loop filter 2920 has a transfer function CF(s) and may take the form, for example, of one of the current-mode filter circuits described above. The loop gain T(s) is given by:",
        "T\n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            \n              I\n              cp\n            \n            \n              2\n              \u2062\n              \n                \n              \n              \u2062\n              \u03c0\n            \n          \n          \u00b7\n          \n            CF\n            \u2061\n            \n              (\n              s\n              )\n            \n          \n          \u00b7\n          \n            \n              K\n              ICO\n            \n            s\n          \n          \u00b7\n          \n            1\n            N\n          \n        \n      \n    \n    \n      \n        (\n        59\n        )\n      \n    \n  \n\n\n\n\nwhere KICO relates oscillating angular frequency to control current, in unit rad/s/A.",
        "In some embodiments of the present invention, the current-mode filter 2920 may take the form of the circuit 2800 of FIG. 28. Filter conductance G is provided by resistance Rlp and capacitance C1. Substituting equation (56) into equation (59) yields:",
        "T\n          \u2061\n          \n            (\n            s\n            )\n          \n        \n        =\n        \n          \n            \n              I\n              cp\n            \n            \n              2\n              \u2062\n              \n                \n              \n              \u2062\n              \u03c0\n            \n          \n          \u00b7\n          m\n          \u00b7\n          \n            G\n            m\n          \n          \u00b7\n          \n            \n              1\n              +\n              \n                s\n                \u00b7\n                \n                  R\n                  lp\n                \n                \u00b7\n                \n                  C\n                  1\n                \n              \n            \n            \n              s\n              \u00b7\n              \n                C\n                1\n              \n            \n          \n          \u00b7\n          \n            \n              K\n              ICO\n            \n            s\n          \n          \u00b7\n          \n            1\n            N\n          \n        \n      \n    \n    \n      \n        (\n        60\n        )\n      \n    \n  \n\n\n\n\nThe bandwidth is given by:",
        "\u03c9\n          b\n        \n        =\n        \n          \n            \n              I\n              cp\n            \n            \n              2\n              \u2062\n              \n                \n              \n              \u2062\n              \u03c0\n            \n          \n          \u00b7\n          m\n          \u00b7\n          \n            G\n            m\n          \n          \u00b7\n          \n            R\n            lp\n          \n          \u00b7\n          \n            \n              K\n              ICO\n            \n            N\n          \n        \n      \n    \n    \n      \n        (\n        61\n        )\n      \n    \n  \n\n\n\n\nKICO may be given by:",
        "K\n          ICO\n        \n        =\n        \n          \n            \n              \u03c0\n              \u00b7\n              \n                \n                  2\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  \u03b2\n                \n              \n            \n            \n              2\n              \u2062\n              \n                n\n                \u00b7\n                \n                  C\n                  d\n                \n              \n            \n          \n          \u00b7\n          \n            1\n            \n              \n                I\n                ICO\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        62\n        )\n      \n    \n  \n\n\n\n\nIf [N=fOSC/fREF] and [gm*RG>>1], then Gm is approximately [1/RG], and the bandwidth may be given by:",
        "\u03c9\n          b\n        \n        =\n        \n          \n            1\n            2\n          \n          \u00b7\n          m\n          \u00b7\n          \n            \n              R\n              lp\n            \n            \n              R\n              G\n            \n          \n          \u00b7\n          \n            \n              I\n              cp\n            \n            \n              I\n              ICO\n            \n          \n          \u00b7\n          \n            f\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        63\n        )\n      \n    \n  \n\n\n\n\nThus, the bandwidth is proportional to input reference clock. The natural angular frequency and damping factor are:",
        "\u03c9\n          n\n        \n        =\n        \n          \n            \n              \u03c9\n              b\n            \n            \n              \n                R\n                lp\n              \n              \u00b7\n              \n                C\n                1\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        64\n        )\n      \n    \n  \n  \n    \n      \n        \u03b6\n        =\n        \n          \n            \n              1\n              2\n            \n            \u00b7\n            \n              \n                \u03c9\n                b\n              \n            \n          \n          \u2062\n          \n            \n              \n                R\n                lp\n              \n              \u00b7\n              \n                C\n                1\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        65\n        )\n      \n    \n  \n\n\n\n\nIt is reasonable to assume that the input reference clock is fixed, so natural angular frequency and damping factor may be considered dependent on process and temperature, which affect resistance and capacitance. If changes in resistance do not surpass \u00b130%, grid capacitance of the MOS channel may be controlled very well, e.g., so that is does not exceed \u00b110%, so changes in natural angular frequency and damping factor may be constrained to within \u00b120%, which may be acceptable. Thus, performance that is similar to that of a self-biased PLL may be achieved using a relatively simple circuit. In some embodiments of the present invention, such as those described below, a multi-order (2nd or greater order) filter may be used to filter out the high frequency spurious.",
        "A problem often associated with current mirrors is mismatching. Mismatching, together with noise, may degrade the performance of a current-mode circuit. In fact, a potentially significant problem with the circuit 2700 shown in FIG. 27 may occur when there is no signal input, which can be very common in PLL applications. This means that the charge pump does not produce an output signal when there is no static phase error if the PLL is locked, and the circuit 2700 of FIG. 27 will carry out the integral calculation on the current mismatch. This mismatch may include random mismatch caused by process and systematic mismatch caused by the circuit operation point. This integrating effect may act on 1/f noise as well.",
        "To explain this problem, it may be assumed that the static phase error is t when the PLL is locked and the period of the discriminator clock is TREF. All the current mismatching may then be equal to the input end as shown in [\u0394I], as illustrated in FIG. 30. When the PLL is locked, the net charge provided to the loop filter in every period should be zero, such that:\n\n\u0394I\u00b7Tref=ICP\u00b7t\u2003\u2003(66)\n\nDividing by [Ib(Ib=Iout/m)] produces the following expression for the static phase error:",
        "t\n        =\n        \n          \n            1\n            m\n          \n          \u00b7\n          \n            \n              \u0394\n              \u2062\n              \n                \n              \n              \u2062\n              I\n            \n            \n              I\n              b\n            \n          \n          \u00b7\n          \n            \n              I\n              out\n            \n            \n              I\n              cp\n            \n          \n          \u00b7\n          \n            T\n            ref\n          \n        \n      \n    \n    \n      \n        (\n        67\n        )\n      \n    \n  \n\n\n\n\nThe static phase error and the period have a substantially linear relationship, with the lower the reference frequency, the greater the static phase error. The [\u0394I/Ib] mismatch magnitude is about 0.1-1%. Optimistically, estimating 0.1% and make m=1 and [Iout/Icp]=10, the static phase error is [1% TREF]. In the frequency multiplication loop, if the frequency multiplication ratio is larger than 100, the static phase error of [1% TREF] will cause jitter as shown in FIG. 31. The integrating effect on 1/f may magnify the low frequency noise, which may also affect the output clock jitter.",
        "In a conventional voltage-mode PLL, only when there is an up or dn signal does the charge pump integrate. If there is no signal, the loop filter remains at its current voltage. A current-mode circuit according to further embodiments of the present invention may be configured to achieve a similar effect. As shown in FIG. 32, a circuit 3200 having the filter configuration of FIG. 27 may include a switch S controlled by an up or dn signal, such that integration is disabled when no charge pump signal is asserted. When the switch is opened, the output current Iout remains at its current level. With the switch S present, the static phase error is substantially independent of the period, which can alleviate the problems noted above.",
        "Although using a switch or other technique to disable integration may solve some important problems, current source mismatching may still be an issue. FIG. 33 illustrates mismatching, where \u03b1, \u03b3 are current mirror matching factors with that vary about nominal values of 1:",
        "\u2062\n              \n                \n                  \n                    \n                      \n                    \n                    \u2062\n                    \n                      I\n                      \n                        \n                          \n                        \n                        \u2062\n                        out\n                      \n                    \n                  \n                  \n                    \n                      \n                    \n                    \u2062\n                    \n                      I\n                      \n                        \n                          \n                        \n                        \u2062\n                        \n                          i\n                          \u2062\n                          \n                            \n                          \n                          \u2062\n                          n\n                        \n                      \n                    \n                  \n                \n                \u2062\n                \n                  \n                \n                =\n                \n                  \n                \n                \u2062\n                \n                  \n                    m\n                    \u00b7\n                    \u03b3\n                    \u00b7\n                    \n                      \n                    \n                    \u2062\n                    \n                      g\n                      mn\n                    \n                  \n                  \n                    \n                      \n                        (\n                        \n                          1\n                          \u2062\n                          \n                            \n                          \n                          -\n                          \n                            \n                          \n                          \u2062\n                          \n                            \u03b1\n                            \u00b7\n                            \u03b3\n                          \n                        \n                        )\n                      \n                      \u2062\n                      \n                        \n                      \n                      \u2062\n                      \n                        g\n                        mn\n                      \n                    \n                    \u2062\n                    \n                      \n                    \n                    +\n                    \n                      \n                    \n                    \u2062\n                    \n                      \n                        (\n                        \n                          1\n                          \u2062\n                          \n                            \n                          \n                          +\n                          \n                            \n                          \n                          \u2062\n                          \n                            \n                              g\n                              mn\n                            \n                            \u00b7\n                            \n                              \n                            \n                            \u2062\n                            \n                              R\n                              \n                                \n                                  \n                                \n                                \u2062\n                                G\n                              \n                            \n                          \n                        \n                        )\n                      \n                      \u00b7\n                      G\n                    \n                  \n                \n              \n            \n          \n        \n        \n          \n            \n              \n                \n              \n              \u2062\n              \n                =\n                \n                  \n                \n                \u2062\n                \n                  \n                    \n                      \n                    \n                    \u2062\n                    \n                      \n                        m\n                        \u00b7\n                        \u03b3\n                        \u00b7\n                        \n                          \n                        \n                        \u2062\n                        \n                          g\n                          mn\n                        \n                      \n                      \n                        \n                          \n                        \n                        \u2062\n                        \n                          1\n                          \u2062\n                          \n                            \n                          \n                          +\n                          \n                            \n                          \n                          \u2062\n                          \n                            \n                              g\n                              mn\n                            \n                            \u00b7\n                            \n                              \n                            \n                            \u2062\n                            \n                              R\n                              \n                                \n                                  \n                                \n                                \u2062\n                                G\n                              \n                            \n                          \n                        \n                      \n                    \n                  \n                  \n                    \n                      \n                    \n                    \u2062\n                    \n                      \n                        \n                          \n                            (\n                            \n                              1\n                              \u2062\n                              \n                                \n                              \n                              -\n                              \n                                \n                              \n                              \u2062\n                              \n                                \u03b1\n                                \u00b7\n                                \u03b3\n                              \n                            \n                            )\n                          \n                          \u2062\n                          \n                            \n                          \n                          \u2062\n                          \n                            g\n                            mn\n                          \n                        \n                        \n                          \n                            \n                          \n                          \u2062\n                          \n                            1\n                            \u2062\n                            \n                              \n                            \n                            +\n                            \n                              \n                            \n                            \u2062\n                            \n                              \n                                g\n                                mn\n                              \n                              \u00b7\n                              \n                                \n                              \n                              \u2062\n                              \n                                R\n                                \n                                  \n                                    \n                                  \n                                  \u2062\n                                  G\n                                \n                              \n                            \n                          \n                        \n                      \n                      \u2062\n                      \n                        \n                      \n                      +\n                      \n                        \n                      \n                      \u2062\n                      G\n                    \n                  \n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        68\n        )\n      \n    \n  \n\n\n\n\nThe mismatching term \u03b3 in the numerator affects the gain and slightly changes the bandwidth. Taking mismatching into consideration, the pure resistance Rlp is combined with",
        "[\n    \n      \n        \n          (\n          \n            1\n            -\n            \n              \u03b1\n              \u00b7\n              \u03b3\n            \n          \n          )\n        \n        \u2062\n        \n          g\n          mn\n        \n      \n      \n        1\n        +\n        \n          \n            g\n            mn\n          \n          \u00b7\n          \n            R\n            G\n          \n        \n      \n    \n    ]\n  \n  .\n\n\n\n\nTo reduce the mismatching effect:",
        "(\n              \n                1\n                -\n                \n                  \u03b1\n                  \u00b7\n                  \u03b3\n                \n              \n              )\n            \n            \u2062\n            \n              g\n              mn\n            \n          \n          \n            1\n            +\n            \n              \n                g\n                mn\n              \n              \u00b7\n              \n                R\n                G\n              \n            \n          \n        \n        \u2aa1\n        \n          1\n          \n            R\n            lp\n          \n        \n      \n    \n    \n      \n        (\n        69\n        )\n      \n    \n  \n\n\n\n\nIf [gm*RG>>1], then the above formula can be reduced to:",
        "1\n          -\n          \n            \u03b1\n            \u00b7\n            \u03b3\n          \n        \n        \u2aa1\n        \n          \n            R\n            G\n          \n          \n            R\n            lp\n          \n        \n      \n    \n    \n      \n        (\n        70\n        )\n      \n    \n  \n\n\n\n\nIf RG and Rlp have the same magnitude, the current mirror mismatching generally can be easily made to be less than 5%.",
        "The above analysis does not take the output impedance of the current source into consideration, namely, it assumes the current source has infinite impedance. However, in practice, the current source impedance is finite. FIG. 34 illustrates voltages and currents for the current-mode filter 2700 of FIG. 27, and FIG. 35 illustrates its small signal model.",
        "The following four equations apply:",
        "I\n            in\n          \n          -\n          \n            \n              g\n              mp\n            \n            \u00b7\n            \n              V\n              2\n            \n          \n          -\n          \n            \n              g\n              mn\n            \n            \u00b7\n            \n              V\n              in\n            \n          \n          -\n          \n            \n              g\n              1\n            \n            \u00b7\n            \n              V\n              in\n            \n          \n          -\n          \n            \n              1\n              \n                R\n                G\n              \n            \n            \u00b7\n            \n              (\n              \n                \n                  V\n                  in\n                \n                -\n                \n                  V\n                  1\n                \n              \n              )\n            \n          \n        \n        =\n        0\n      \n    \n    \n      \n        (\n        71\n        )\n      \n    \n  \n  \n    \n      \n        \n          V\n          1\n        \n        =\n        \n          \n            \n              1\n              /\n              G\n            \n            \n              \n                R\n                G\n              \n              +\n              \n                1\n                /\n                G\n              \n            \n          \n          \u00b7\n          \n            V\n            in\n          \n        \n      \n    \n    \n      \n        (\n        72\n        )\n      \n    \n  \n  \n    \n      \n        \n          \n            \n              -\n              \n                g\n                \n                  m\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  p\n                \n              \n            \n            \u00b7\n            \n              V\n              2\n            \n          \n          -\n          \n            \n              g\n              2\n            \n            \u00b7\n            \n              V\n              2\n            \n          \n          -\n          \n            \n              g\n              mn\n            \n            \u00b7\n            \n              V\n              1\n            \n          \n        \n        =\n        0\n      \n    \n    \n      \n        (\n        73\n        )\n      \n    \n  \n  \n    \n      \n        \n          I\n          out\n        \n        =\n        \n          \n            -\n            m\n          \n          \u00b7\n          \n            g\n            \n              m\n              \u2062\n              \n                \n              \n              \u2062\n              p\n            \n          \n          \u00b7\n          \n            V\n            2\n          \n        \n      \n    \n    \n      \n        (\n        74\n        )\n      \n    \n  \n\n\n\n\nSolving this group, the transfer function is:",
        "I\n            out\n          \n          \n            I\n            \n              i\n              \u2062\n              \n                \n              \n              \u2062\n              n\n            \n          \n        \n        =\n        \n        \u2062\n        \n          \n            m\n            \u00b7\n            \n              g\n              mn\n            \n          \n          \n            \n              \n                \n                  \n                    \n                      \n                        g\n                        1\n                      \n                      \u00b7\n                      \n                        g\n                        2\n                      \n                    \n                    \n                      g\n                      \n                        m\n                        \u2062\n                        \n                          \n                        \n                        \u2062\n                        p\n                      \n                    \n                  \n                  +\n                  \n                    \n                      \n                        g\n                        2\n                      \n                      \u00b7\n                      \n                        g\n                        mn\n                      \n                    \n                    \n                      g\n                      \n                        m\n                        \u2062\n                        \n                          \n                        \n                        \u2062\n                        p\n                      \n                    \n                  \n                  +\n                  \n                    g\n                    1\n                  \n                  +\n                  \n                    (\n                    \n                      \n                        \n                          \n                            \n                              \n                            \n                            \u2062\n                            \n                              \n                                g\n                                2\n                              \n                              \u00b7\n                              \n                                \n                              \n                              \u2062\n                              \n                                g\n                                mn\n                              \n                            \n                          \n                          \n                            \n                              \n                            \n                            \u2062\n                            \n                              g\n                              \n                                m\n                                \u2062\n                                \n                                  \n                                \n                                \u2062\n                                p\n                              \n                            \n                          \n                        \n                        \u00b7\n                        \n                          R\n                          \n                            \n                              \n                            \n                            \u2062\n                            G\n                          \n                        \n                      \n                      +\n                    \n                  \n                \n              \n            \n            \n              \n                \n                  \n                    \n                      \n                        \n                          \n                            \n                              \n                            \n                            \u2062\n                            \n                              \n                                g\n                                2\n                              \n                              \u00b7\n                              \n                                \n                              \n                              \u2062\n                              \n                                g\n                                1\n                              \n                            \n                          \n                          \n                            \n                              \n                            \n                            \u2062\n                            \n                              g\n                              \n                                m\n                                \u2062\n                                \n                                  \n                                \n                                \u2062\n                                p\n                              \n                            \n                          \n                        \n                        \u00b7\n                        \n                          \n                            g\n                            2\n                          \n                          \n                            g\n                            \n                              m\n                              \u2062\n                              \n                                \n                              \n                              \u2062\n                              p\n                            \n                          \n                        \n                      \n                      +\n                      \n                        \n                          g\n                          mn\n                        \n                        \u00b7\n                        \n                          R\n                          G\n                        \n                      \n                      +\n                      \n                        \n                          g\n                          1\n                        \n                        \u00b7\n                        \n                          R\n                          G\n                        \n                      \n                      +\n                      1\n                    \n                    )\n                  \n                  \u00b7\n                  G\n                \n              \n            \n          \n        \n      \n    \n  \n  \n    \n      \n        \u2248\n        \n        \u2062\n        \n          \n            m\n            \u00b7\n            \n              g\n              mn\n            \n          \n          \n            \n              \n                \n                  g\n                  2\n                \n                \u00b7\n                \n                  g\n                  mn\n                \n              \n              \n                g\n                \n                  m\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  p\n                \n              \n            \n            +\n            \n              g\n              1\n            \n            +\n            \n              \n                (\n                \n                  1\n                  +\n                  \n                    \n                      g\n                      mn\n                    \n                    \u00b7\n                    \n                      R\n                      G\n                    \n                  \n                \n                )\n              \n              \u00b7\n              G\n            \n          \n        \n      \n    \n  \n  \n    \n      \n        =\n        \n        \u2062\n        \n          \n            \n              m\n              \u00b7\n              \n                g\n                mn\n              \n            \n            \n              1\n              +\n              \n                \n                  g\n                  mn\n                \n                \u00b7\n                \n                  R\n                  G\n                \n              \n            \n          \n          \n            \n              \n                \n                  \n                    \n                      g\n                      2\n                    \n                    \u00b7\n                    \n                      g\n                      mn\n                    \n                  \n                  \n                    g\n                    \n                      m\n                      \u2062\n                      \n                        \n                      \n                      \u2062\n                      p\n                    \n                  \n                \n                +\n                \n                  g\n                  1\n                \n              \n              \n                1\n                +\n                \n                  \n                    g\n                    mn\n                  \n                  \u00b7\n                  \n                    R\n                    G\n                  \n                \n              \n            \n            +\n            G\n          \n        \n      \n    \n  \n\n\n\n\nThis is similar to the current source mismatching, with a term",
        "[\n  \n    \n      \n        \n          \n            g\n            2\n          \n          \u00b7\n          \n            g\n            mn\n          \n        \n        \n          g\n          \n            m\n            \u2062\n            \n              \n            \n            \u2062\n            p\n          \n        \n      \n      +\n      \n        g\n        1\n      \n    \n    \n      1\n      +\n      \n        \n          g\n          mn\n        \n        \u00b7\n        \n          R\n          G\n        \n      \n    \n  \n  ]\n\n\n\n\nadded to the denominator. This term corresponds to the nonzero conductance of the left branch circuit combining the right branch circuit equivalent to the left conductance, attenuated by [(1+gmn\u00b7RG)]. After taking the current source finite impedance into consideration, the Rtp in the calculation of the PLL bandwidth is in parallel with the current source equivalent impedance. To reduce influence on the bandwidth:",
        "g\n                  2\n                \n                \u00b7\n                \n                  g\n                  mn\n                \n              \n              \n                g\n                \n                  m\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  p\n                \n              \n            \n            +\n            \n              g\n              1\n            \n          \n          \n            1\n            +\n            \n              \n                g\n                mn\n              \n              \u00b7\n              \n                R\n                G\n              \n            \n          \n        \n        \u2aa1\n        \n          1\n          \n            R\n            lp\n          \n        \n      \n    \n    \n      \n        (\n        76\n        )\n      \n    \n  \n\n\n\n\nApplying this to [gm*RG>>1] yields:",
        "g\n                  2\n                \n                \u00b7\n                \n                  g\n                  mn\n                \n              \n              \n                g\n                \n                  m\n                  \u2062\n                  \n                    \n                  \n                  \u2062\n                  p\n                \n              \n            \n            +\n            \n              g\n              1\n            \n          \n          \n            g\n            mn\n          \n        \n        \u2aa1\n        \n          \n            R\n            G\n          \n          \n            R\n            lp\n          \n        \n      \n    \n    \n      \n        (\n        77\n        )\n      \n    \n  \n\n\n\n\nAssume that the left side of relation (77) has a magnitude of about 1%, while RG and Rlp have about the magnitude of the same order. From this, it can be seen that the cascade current source may not be necessary. Cascode can increase the current source output impedance, but it may reduce the voltage swing and the current tuning range. From equations (70) and (77), it can be seen that a greater ratio RG/Rlp may be desirable. In particular, the greater the RG, the more the effect of mismatching or finite impedance attenuates, while the smaller the Rlp, the less influence from the resistance paralleled with it.",
        "To estimate the oscillating frequency of the ring oscillator, a lot of nonlinear factors may be taken into consideration, which may be very complicated.",
        "Referring to the discussion of FIG. 23 and equation (40) above, the transconductance gm of a delay cell generally depends on the operating point of the transistor. In strong inversion for a, the transconductance is the square root of the current IICO, while in weak inversion, the transconductance and the current IICO may have a linear relationship:",
        "gm\n          \n            ICO\n            \u2061\n            \n              (\n              SI\n              )\n            \n          \n        \n        =\n        \n          \n            2\n            \u00b7\n            \u03b2\n            \u00b7\n            \n              I\n              ICO\n            \n          \n        \n      \n    \n    \n      \n        (\n        78\n        )\n      \n    \n  \n  \n    \n      \n        \n          gm\n          \n            ICO\n            \u2061\n            \n              (\n              WI\n              )\n            \n          \n        \n        =\n        \n          \n            I\n            ICO\n          \n          \n            \n              n\n              \u2032\n            \n            \u00b7\n            \n              kT\n              q\n            \n          \n        \n      \n    \n    \n      \n        (\n        79\n        )",
        "The subscripts SI, WI in the above equations represent, respectively, strong inversion and weak inversion, and [n\u2032] is the sub-threshold factor, K is the Boltzmann constant, T is the absolute temperature and q is the charge of an electron. The differences between the strong-inversion and the weak-inversion explain that, when the control current is different, i.e., when the oscillating frequency is very large or very small, the function of the oscillation frequency to the control current changes.",
        "To determine the influence of this change, KICO may be determined for the two situations respectively, by taking the derivative of \u03c9osc with respect to IICO:",
        "K\n          \n            ICO\n            \u2061\n            \n              (\n              SI\n              )\n            \n          \n        \n        =\n        \n          \n            \n              \u03b2\n              \n                2\n                \u2062\n                \n                  I\n                  ICO\n                \n              \n            \n          \n          \u00b7\n          \n            \u03c0\n            \n              n\n              \u00b7\n              \n                C\n                d\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        80\n        )\n      \n    \n  \n  \n    \n      \n        \n          K\n          \n            ICO\n            \u2061\n            \n              (\n              WI\n              )\n            \n          \n        \n        =\n        \n          \n            1\n            \n              \n                n\n                \u2032\n              \n              \u00b7\n              \n                kT\n                q\n              \n            \n          \n          \u00b7\n          \n            \u03c0\n            \n              n\n              \u00b7\n              \n                C\n                d\n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        81\n        )\n      \n    \n  \n\n\n\n\nApplying to the bandwidth expression of equation (61) produces:",
        "\u03c9\n          \n            b\n            \u2061\n            \n              (\n              SI\n              )\n            \n          \n        \n        =\n        \n          \n            1\n            2\n          \n          \u00b7\n          m\n          \u00b7\n          \n            \n              I\n              CP\n            \n            \n              I\n              ICO\n            \n          \n          \u00b7\n          \n            \n              R\n              lp\n            \n            \n              R\n              G\n            \n          \n          \u00b7\n          \n            f\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        82\n        )\n      \n    \n  \n  \n    \n      \n        \n          \u03c9\n          \n            b\n            \u2061\n            \n              (\n              WI\n              )\n            \n          \n        \n        =\n        \n          m\n          \u00b7\n          \n            \n              I\n              CP\n            \n            \n              I\n              ICO\n            \n          \n          \u00b7\n          \n            \n              R\n              lp\n            \n            \n              R\n              G\n            \n          \n          \u00b7\n          \n            f\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        83\n        )",
        "Equations (82) and (83) show two extremes for the PLL bandwidth. The PLL bandwidth at low oscillating frequency may be greater than the PLL bandwidth at high oscillating frequency. If the reference frequency remains the same, while changing the frequency multiplication factor N, the bandwidth may be great when N is small and vice versa. Generally speaking, the current index in the expression of the frequency to the controlling current will be the coefficient of the bandwidth formula. In fact, the curve of the oscillating frequency, which may be obtained by simulation, is about a 0.87 power of the control current. The oscillation frequency varies from 200 MHz to 1.6 GHz. Its index changes do not exceed [\u00b120%], and are between equations (82) and (83). A similar phenomenon may also be present in a conventional self-biased PLL. Compared to the changes of the frequency multiplication factor, the change of the PLL bandwidth may be very small.",
        "A test circuit according to some embodiments of the present invention has been implemented using 0.35 \u03bcm single level polysilicon technology, based on a triple metal standard CMOS technology. The test circuit includes a PFD, charge pump, current-mode loop filter, current-controlled oscillator and feedback divider.",
        "If the input clock and the feedback clock are digital signals, a sensitive exclusive-OR-gate discriminator or edge-sensitive PFD may be used. The linear range of a typical exclusive-OR-gate discriminator is \u03c0, which is also related with the duty cycle of the signal. A PFD 3600 described in I. A. Young, J. K. Greason, and K. L. Wong, \u201cA PLL clock generator with 5 to 110 MHz of lock range for microprocessors,\u201d IEEE Journal of Solid-State Circuits, vol. 27, pp. 1599-1606, November 1992, that may be used in embodiments of the present invention is shown in FIG. 36. In the PFD circuit 3600, when the reference clock signal ClkREF leads the feedback clock signal ClkFB, \u201cup\u201d is 1, and the pulse width is equal to the lead interval; when the reference clock signal ClkREF lags behind the feedback clock signal ClkFB, \u201cdn\u201d is 1, and the pulse width is equal to the lag time. It will be appreciated that a variety of other types of PFD circuits may be used in various embodiments of the present invention.",
        "FIG. 37 illustrates a charge pump 3710 and current-mode filter 3720 that may be used in a self-biased current-mode PLL according to some embodiments of the present invention. The charge pump 3710 includes transistors MN0 and MP0, along with switches S2 and S3 that are responsive to \u201cup\u201d and \u201cdn\u201d signals received from a PFD, e.g., the PFD 3600 of FIG. 36.",
        "The current mode filter circuit 3720 includes a core 3722 that includes current mirror transistors MN1 and MN2 and bias transistors MP1 and MP2. A switch S1 is configured to connect and disconnect a third-order filter network 3724 to and from a gate of the transistor MN1. The filter network 3724 includes resistors RG, Rlp and R2, and capacitors C1, C2 and C3. The filter circuit 3720 further includes a noise canceling circuit 3726 and a regulated cascade current source 3728 and output transistors MP4 and MP5.",
        "The current produced by the charge pump circuit 3710 is \u215b of the mirror image of the output current Iout. The initial state the output current Iout is approximately zero and there is no current in the charge pump 3710, which could make the PLL hard to capture. Therefore, a very small current source (not shown) may be added to start oscillation. In the test circuit, a 3 \u03bcA current was provided, which can be neglected at a medium frequency (e.g., around 100 MHz). Such a current source may, for example, be turned off via register settings. It will be understood that other startup circuits may be used.",
        "The switch S1 is controlled by the \u201cup\u201d and \u201cdn\u201d signals. When either of these signals is asserted, the current-mode filter 3720 is enabled to filter the input current; when neither is asserted, the loop is opened. The third-order filter 3724 may filter canaries effectively. To save power, each branch current of the current-mode filter 3720 is half of the output current, i.e. m=2. The regulated cascade circuit 3740 may change the power supply rejection ratio by increasing the output impedance.",
        "Mismatching of the current source may not significantly affect performance. However, it may be desirable to use a short channel transistor as a current source to avoid large flicker noise. Also, because the current-mode filter 3724 may occupy a relatively small area, use of longer channel transistor may not unduly increase the total area. The test circuit uses N and P transistors with 1.5 \u03bcm channel lengths. For the typical 0.35 \u03bcm process, AVTn is 10 mV \u03bcm; AVTp is 17 mV \u03bcm. It has been determined from simulation that when the oscillation is 800 MHz, NMOS transconductance is 2.243 mS, and PMOS transconductance is 2.114 mS. It can be estimated that the mismatching factor \u03b1 is probably 98.7% (3\u03c3) and \u03b3 is probably 98.8% (3\u03c3). Thus, the left side of equation (70) may be less than 0.025. It may be assumed that [Rlp/RG] is 1 to satisfy equation (70).",
        "It is assumed that the transistors are working in saturation. If the oscillating frequency is very high, requiring a large current output from the current-mode filter, then the NN2 grid is very high and the drain is very low; in other words, the MP1 (MP3) grid is very low and the drain is very high. All these transistors, therefore, may enter the linear region, which can change behavior of the circuit. To achieve wider frequency range, this may be avoided.",
        "A current controlled oscillator circuit 3800 used in the self-biased PLL test circuit according to some embodiments of the present invention is shown in FIG. 38. The oscillator circuit 3800 includes a plurality of CMOS inverter delay cells 3810 connected in a ring configuration to form a ring oscillator, which can run at over 1 GHz in the 0.35 \u03bcm process used for the test circuit. The delay cells 3810 are controlled by the current Iin, which may be the output current Iout of the current-mode filter 3720 of FIG. 37. The control current and the impedance of the delay cells 3810 determine the voltage Vin applied to the delays 3810:",
        "V\n            in\n          \n          \u221d\n          \n            \n              I\n              in\n            \n            \n              3\n              \u2062\n              \n                \n                  g\n                  m\n                \n                _\n              \n            \n          \n          \u221d\n          \n            \n              I\n              in\n            \n          \n          \u221d\n          \n            f\n            osc\n          \n        \n        ,\n      \n    \n    \n      \n        (\n        84\n        )\n      \n    \n  \n\n\n\n\nwhere gm indicates the average transconductance between NMOS and PMOS in an oscillation period in the inverter. The oscillation amplitude and the oscillating frequency are in proportion. The higher the oscillating frequency, the greater the oscillation amplitude, and the quicker the change rates of rising and trailing edges. If the edge rate are quick, the circuit will not be particularly sensitive to device noise or power fluctuation. This characteristic may keep the circuit shown in a low-jitter state when high frequency oscillation occurs. To ensure the duty cycle of the output clock, a dimidiate frequency divider may be placed between the ring oscillator and the output. A capacitance CDEC of several dozens of picofarads (pF) is shown between node Vin and ground. This capacitance may make ground noise substantially transparent to the delay cell. Power supply noise, isolated by the high impedance current source, may have little effect on the oscillator. It will be understood that some embodiments of the present invention may use other ring oscillator structures and/or other types of oscillators (e.g., crystal, RC, LC resonance, DDFS).",
        "FIG. 39 illustrates an equivalent circuit for analyzing power supply noise. In the figure, RCS is the output impedance of the current source, RCS is the parasitic capacitance from power VDD to the node Vin, RICO is the average impedance of the oscillator, namely the reciprocal of [3 gm]. This is a single-pole, single-zero system:",
        "V\n            in\n          \n          \n            V\n            DD\n          \n        \n        =\n        \n          \n            \n              R\n              ICO\n            \n            \u00b7\n            \n              (\n              \n                1\n                +\n                \n                  s\n                  \u00b7\n                  \n                    C\n                    CS\n                  \n                  \u00b7\n                  \n                    R\n                    CS\n                  \n                \n              \n              )\n            \n          \n          \n            \n              \n                \n                  \n                    (\n                    \n                      \n                        R\n                        CS\n                      \n                      +\n                      \n                        R\n                        ICO\n                      \n                    \n                    )\n                  \n                  \u00b7\n                  \n                    [\n                    \n                      1\n                      +\n                      \n                        s\n                        \u00b7\n                        \n                          (\n                          \n                            \n                              C\n                              CS\n                            \n                            +\n                            \n                              C\n                              DEC\n                            \n                          \n                          )\n                        \n                        \u00b7\n                      \n                    \n                  \n                \n              \n            \n            \n              \n                \n                  \n                    \n                      \n                        R\n                        ICO\n                      \n                      \u00b7\n                      \n                        R\n                        CS\n                      \n                    \n                    \n                      \n                        R\n                        ICO\n                      \n                      +\n                      \n                        R\n                        CS\n                      \n                    \n                  \n                  ]\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        85\n        )\n      \n    \n  \n\n\n\n\nAt low frequency, it is the partial pressure of two resistances; when in high frequency, it is the partial pressure of two capacitances. Therefore, it may be helpful for the input current to reduce the impact of low-frequency power noise by using a regulated cascade current source to increase the output impedance. Moreover, CDEC augmentation may be beneficial to the increase of power supply rejection ratio.",
        "FIG. 40 indicates a typical oscillogram for power supply rejection ratio (PSRR) of a current-controlled oscillator. When the PLL is closed, the power supply rejection ratio is multiplied by KVCO/S and divided by (1+loop gain) to obtain the power supply rejection ratio of the output phase. A simulation shows that the gain of the oscillating frequency to the control current (e.g., the current Iin of FIG. 38) is close to the indicial response, with the index being about 0.87, as shown in FIG. 41. The measured characteristic curve of the current-controlled oscillator of the test circuit is also shown in FIG. 41. From curves at several dozens of megahertz (MHz), the test result is a fixed ratio greater than the simulation result. The measured gain curve shows that oscillators having such a structure may have a large frequency range, from several megahertz (MHz) to over 1 gigahertz (GHz).",
        "For high-frequency applications, a frequency divider 4200 with a two-stage structure including a high-speed prescaler 4210 and a programmable divider 4220, as shown in FIG. 42, may be used for feedback to the PFD. Compared with a conventional synchronous divider, this circuit may provide many advantages. It may avoid problems of too much load, caused by the fact that, when the division ratio is big, the top-speed clock has to drive so many D flip-flop triggers. It may not have unduly strict requirements for time sequencing of the programmable divider 4220, if high-speed frequency-division pressure is put only on the prescaler 4210. Power consumption may also be reduced. In fact, since the programmable divider 4220 may be implemented using a standard cell, there may be no need to have a special design that trade the area off the speed.",
        "The high-speed prescaler 4210 has two divisors, and may also be referred to as a dual modulus divider. A division ratio that is more than 16 can be broken down into the sum of several 4s and several 5s, namely:\n\nN=4p+5q\u2003\u2003(86)\n\nwhere N is the division ratio, and p and q are positive integers. To facilitate design, it may be assumed that q is a natural number from 0 to 3, which can simplify design of the programmable divider. An exemplary dual modulus divider 4300 that divides by 4 or 5 and that may be used as a prescaler is shown in FIG. 43. A maximum one logic-gate delay is present from each stage to the next stage, therefore, the speed can be very high. The DFF in the prescaler may be designed to meet the requirements for high-speed frequency division.",
        "Assuming a design with a reference frequency of 6.667 MHz and an open-loop bandwidth of 200 KHz, because the oscillation frequency of the current-controlled oscillator is generally in proportion to the 0.87 equation of power of the control current, bandwidth may be expressed as:",
        "\u03c9\n          b\n        \n        =\n        \n          0.87\n          \u00b7\n          m\n          \u00b7\n          \n            \n              I\n              CP\n            \n            \n              I\n              ICO\n            \n          \n          \u00b7\n          \n            \n              R\n              lp\n            \n            \n              R\n              G\n            \n          \n          \u00b7\n          \n            f\n            REF\n          \n        \n      \n    \n    \n      \n        (\n        87\n        )",
        "Assuming that m is 2, ICP/IICO is \u215b, and Rlp/RG is 1, then the bandwidth is equal to around 230 KHz. Because a high-order RC filter may be used in the current-mode loop filter, there may be more influence from the high-frequency poles, such that the bandwidth may be slightly smaller. A model for simulating the small signal characteristics is shown in FIG. 44. If the frequency multiplication factor is from 30 to 255, then the bandwidth, obtained from simulation, may be between 180 KHz and 250 KHz.",
        "The aforementioned test chip was fabricated with a 0.35 \u03bcm pure digital CMOS process, taking up 0.2 mm2 (about 300 \u03bcm\u00d7650 \u03bcm) of chip area. Compared with conventional voltage-mode circuits, the area is reduced by about 15%. FIG. 45 illustrates PLL frequency track for the test device when switching from power down mode to a normal mode. The input clock frequency is 6.66667 MHz. The frequency of the current controlled oscillator (ICO) is the input frequency multiplied by the frequency multiplication factor. The output clock frequency is half of the ICO frequency. The lock time of the PLL changes along with the frequency multiplication factor. For the test chip, the larger the frequency multiplication factor is, the longer the locking time. If the frequency multiplication factor is 120 (output clock 400 MHz), the locking time is about 60 \u03bcs; if the frequency multiplication factor is 32 (output clock 106.6 MHz), the locking time is less than 40 \u03bcs.",
        "The bandwidth of the circuit does not appear to significantly change with process, temperature, power supply and frequency multiplication factor. The closed-loop bandwidth is different from the open-loop bandwidth. In a second-order PLL, the closed-loop bandwidth and the natural frequency relates each other as follows:",
        "\u03c9\n          \n            \n              -\n              3\n            \n            \u2062\n            d\n            \u2062\n            \n              \n            \n            \u2062\n            B\n          \n        \n        =\n        \n          \n            \u03c9\n            n\n          \n          \u00b7\n          \n            \n              \n                2\n                \u2062\n                \n                  \n                \n                \u2062\n                \n                  \u03b6\n                  2\n                \n              \n              +\n              1\n              +\n              \n                \n                  \n                    \n                      (\n                      \n                        \n                          2\n                          \u2062\n                          \n                            \n                          \n                          \u2062\n                          \n                            \u03b6\n                            2\n                          \n                        \n                        +\n                        1\n                      \n                      )\n                    \n                    2\n                  \n                  +\n                  1\n                \n              \n            \n          \n        \n      \n    \n    \n      \n        (\n        88\n        )\n      \n    \n  \n\n\n\n\nThe closed-loop bandwidth is generally greater than the open-loop bandwidth. When the damping factor is much larger than 1, they are approximately equal. But the expression for the closed-loop bandwidth of multi-order PLL is more complicated. It is expected that the changing directions of the closed-loop bandwidth and the open-loop bandwidth are the same. The change of the resistance and capacitance may affect the natural frequency and the damping factor, and consequently cause the deviation of the closed-loop bandwidth from the design target. A method for measuring bandwidth involves adding a step to the input clock source and carrying out a discrete Fourier transform on the output phase. From this, a \u22123 dB bandwidth may be determined. It has been estimated the error is about several kilohertz.",
        "Relationships between closed-loop bandwidth and the frequency multiplication factor in the test chip are shown in FIG. 46(a). The simulation results are shown with real lines and the test results are shown with and asterisk (*). For the figure, the input clock is 6.25 MHz. From the chart, there appears to be little relation between the closed-loop bandwidth and the frequency multiplication factor. Along with the increase of the frequency multiplication factor, the bandwidth drops slightly. When the frequency multiplication factor is changed from 30 to 255, the bandwidth changes from 235 KHz to 185 KHz, dropping by 27%. The actual variation of the test chip is smaller than the simulation result.",
        "Relationships between the closed-loop bandwidth and the ambient temperature have also been tested. Referring to FIG. 46(b), the input clock frequency is also 6.25 MHz, but the frequency multiplication factor is fixed at 120. Due to the slight change tendency, the test error has already had its influence. A trend line indicates the general change. It can be inferred from the chart that the ambient temperature may have little influence on the bandwidth. FIG. 46(c) shows the relationship of the PLL closed-loop bandwidth and the input clock frequency. When carrying out this test, every time the input clock frequency changes, the frequency multiplication factor changes accordingly, which keeps the oscillation frequency at 750 MHz. A multi-order loop filter was used and the position of the high frequency pole fixed. When the bandwidth is changing, the influence of the high frequency pole also changes, so the closed-loop bandwidth and the input clock frequency do not have a linear relationship, which can be confirmed by simulation. In the chart, the lines show the results of the simulation. The test results scatter near the simulation line, with a maximum error of 6%. It appears that the bandwidth changes according to the input clock frequency.",
        "The jitter performance of the test device is also desirable. Jitter characteristics are summarized in Table 1:",
        "TABLE 1\n\n\n\n\n\nJitter Performance\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFrequency Multiplication Factor (N)\n30\n120\n240\n\n\nICO oscillation frequency (MHz)\n200\n800\n1600\n\n\nOutput clock (MHz)\n100\n400\n800\n\n\nPeriod samples (Thousand)\n80\n320\n640\n\n\nCycle-cycle jitter (rms, ps)\n13.65\n9.89\n8.67\n\n\nCycle-cycle jitter (peak-peak, ps)\n123\n99\n78\n\n\nPeriod jitter (rms, ps)\n8.48\n5.70\n5.04\n\n\nPeriod jitter (peak-peak, ps)\n73\n55\n48\n\n\nPhase jitter (rms, ps)\n99.53\n30.33\n16.17\n\n\nPhase jitter (peak-peak, ps)\n729\n213\n121\n\n\n\n\n\n\n\n\n\nGenerally speaking, the test chip confirms that it is feasible to use a current-mode loop filter in a PLL, and that such a PLL can provide desirable performance.",
        "In the drawings and specification, there have been disclosed exemplary embodiments of the invention. Although specific terms are employed, they are used in a generic and descriptive sense only and not for purposes of limitation, the scope of the invention being defined by the following claims."
    ],
    "citations": [
        "7148757"
    ],
    "us_classification": "331 17",
    "international_classifications": [
        {
            "classification_level": "A",
            "section": "H",
            "classification_class": "03",
            "subclass": "L",
            "main_group": "7",
            "subgroup": "00"
        }
    ]
}