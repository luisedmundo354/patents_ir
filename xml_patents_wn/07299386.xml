<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299386-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299386</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10729592</doc-number>
<date>20031205</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>555</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>20</main-group>
<subgroup>20</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>714700</main-classification>
<further-classification>712227</further-classification>
</classification-national>
<invention-title id="d0e53">Apparatus and method for detecting address characteristics for use with a trigger generation unit in a target processor</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5640542</doc-number>
<kind>A</kind>
<name>Whitsel et al.</name>
<date>19970600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>703 28</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5887003</doc-number>
<kind>A</kind>
<name>Ranson et al.</name>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714736</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6035422</doc-number>
<kind>A</kind>
<name>Hohl et al.</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714 35</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6754852</doc-number>
<kind>B2</kind>
<name>Swoboda</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714 39</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7020768</doc-number>
<kind>B2</kind>
<name>Swaine et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>712228</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2002/0184477</doc-number>
<kind>A1</kind>
<name>Swaine et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>712227</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>16</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>714715</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714732</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714735</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714736</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714742</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714750</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>712227</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60434021</doc-number>
<kind>00</kind>
<date>20021217</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040153790</doc-number>
<kind>A1</kind>
<date>20040805</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Swoboda</last-name>
<first-name>Gary L.</first-name>
<address>
<city>Sugar Land</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Peck</last-name>
<first-name>Jason L.</first-name>
<address>
<city>Sugar Land</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Holloway</last-name>
<first-name>William W.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Brady</last-name>
<first-name>W. James</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Telecky, Jr.</last-name>
<first-name>Frederick J.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Texas Instruments Incorporated</orgname>
<role>02</role>
<address>
<city>Dallas</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Lamarre</last-name>
<first-name>Guy</first-name>
<department>2112</department>
</primary-examiner>
<assistant-examiner>
<last-name>Rizk</last-name>
<first-name>Sam</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A comparator unit includes first and second comparator components. The first and second comparator components exchange signals and generate signals when certain characteristics are met. The comparator unit finds application a target processor for generating event signals can be used in test and diagnostic environments to identify address signal groups having selected characteristics. Each comparator can determine a relationship of an address signal group to a selected address. When the two comparators are coupled together, the comparator unit can determine the relationship of an address signal group to a region defined by two addresses. In addition, the comparator unit can identify a relationship between two address signal groups, each address signal group being applied to a different one of the first and second comparators.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="85.85mm" wi="316.48mm" file="US07299386-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="234.19mm" wi="135.21mm" file="US07299386-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="251.63mm" wi="166.71mm" file="US07299386-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="194.23mm" wi="151.47mm" file="US07299386-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="214.21mm" wi="145.80mm" file="US07299386-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application claims priority under 35 USC §119(e)(1) of Provisional Application No. 60/434,021 filed Dec. 17, 2002.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATIONS</heading>
<p id="p-0003" num="0002">U.S. patent application Ser. No. 10/728,627, entitled APPARATUS AND METHOD FOR SYNCHRONIZATION OF TRACE STREAMS FROM MULTIPLE PROCESSORS, invented by Gary L. Swoboda, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,212, entitled APPARATUS AND METHOD FOR SEPARATING DETECTION AND ASSERTION OF A TRIGGER EVENT, invented by Gary L. Swoboda, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,239, entitled APPARATUS AND METHOD FOR STATE SELECTABLE TRACE STREAM GENERATION, invented by Gary L. Swoboda, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,650, entitled APPARATUS AND METHOD FOR SELECTING PROGRAM HALTS IN AN UNPROTECTED PIPELINE AT NON-INTERRUPTIBLE POINTS IN CODE EXECUTION, invented by Gary L. Swoboda and Krishna Allam, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,591, entitled APPARATUS AND METHOD FOR REPORTING PROGRAM HALTS IN AN UNPROTECTED PIPELINE AT NON-INTERRUPTIBLE POINTS IN CODE EXECUTION, invented by Gary L. Swoboda, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,407, entitled APPARATUS AND METHOD FOR A FLUSH PROCEDURE IN AN INTERRUPTED TRACE STREAM, invented by Gary L. Swoboda, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,564, entitled APPARATUS AND METHOD FOR CAPTURING AN EVENT OR COMBINATION OF EVENTS RESULTING IN A TRIGGER SIGNAL IN A TARGET PROCESSOR, invented by Gary L. Swoboda, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,400, entitled APPARATUS AND METHOD FOR CAPTURING THE PROGRAM COUNTER ADDRESS ASSOCIATED WITH A TRIGGER SIGNAL IN A TARGET PROCESSOR, invented by Gary L. Swoboda, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,639, entitled APPARATUS AND METHOD FOR TRACE STREAM IDENTIFICATION OF A PROCESSOR RESET, invented by Gary L. Swoboda, Bryan Thome and Manisha Agarwala, filed on even date herewith, and assigned to the assignee of the present application; U.S. Pat. No. 10/729,214, entitled APPARATUS AND METHOD FOR TRACE STREAM IDENTIFICATION OF A PROCESSOR DEBUG HALT SIGNAL, invented by Gary L. Swoboda, Bryan Thome, Lewis Nardini and Manisha Agarwala, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,327, entitled APPARATUS AND METHOD FOR TRACE STREAM IDENTIFICATION OF A PIPELINE FLATTENER PRIMARY CODE FLUSH FOLLOWING INITIATION OF AN INTERRUPT SERVICE ROUTINE; invented by Gary L. Swoboda, Bryan Thome and Manisha Agarwala, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,647, entitled APPARATUS AND METHOD FOR TRACE STREAM IDENTIFICATION OF A PIPELINE FLATTENER SECONDARY CODE FLUSH FOLLOWING A RETURN TO PRIMARY CODE EXECUTION, invented by Gary L. Swoboda, Bryan Thome and Manisha Agarwala filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,401, entitled APPARATUS AND METHOD IDENTIFICATION OF A PRIMARY CODE START SYNC POINT FOLLOWING A RETURN TO PRIMARY CODE EXECUTION, invented by Gary L. Swoboda, Bryan Thome and Manisha Agarwala, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,326, entitled APPARATUS AND METHOD FOR IDENTIFICATION OF A NEW SECONDARY CODE START POINT FOLLOWING A RETURN FROM A SECONDARY CODE EXECUTION, invented by Gary L. Swoboda, Bryan Thome and Manisha Agarwala, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,190, entitled APPARATUS AND METHOD FOR TRACE STREAM IDENTIFICATION OF A PAUSE POINT IN A CODE EXECTION SEQUENCE, invented by Gary L. Swoboda, Bryan Thome and Manisha Agarwala, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,196, entitled APPARATUS AND METHOD FOR COMPRESSION OF A TIMING TRACE STREAM, invented by Gary L. Swoboda and Bryan Thome, filed on even date herewith, and assigned to the assignee of the present application; U.S. patent application Ser. No. 10/729,272, entitled APPARATUS AND METHOD FOR TRACE STREAM IDENTIFCATION OF MULTIPLE TARGET PROCESSOR EVENTS, invented by Gary L. Swoboda and Bryan Thome, filed on even date herewith, and assigned to the assignee of the present application; and U.S. patent application Ser. No. 10/729,191 entitled APPARATUS AND METHOD FOR OP CODE EXTENSION IN PACKET GROUPS TRANSMITTED IN TRACE STREAMS, invented by Gary L. Swoboda and Bryan Thome, filed on even date herewith, and assigned to the assignee of the present application are related applications.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">1. Field of the Invention</p>
<p id="p-0005" num="0004">This invention relates generally to the testing of digital signal processing units and, more particularly, to the detection of trigger events in a target processor that result in the generation of a trigger signals. The trigger events are related to the program execution and information related to these events is used by the host processing unit to analyze the operation of the target processor by the host processing unit.</p>
<p id="p-0006" num="0005">2. Description of the Related Art</p>
<p id="p-0007" num="0006">As microprocessors and digital signal processors have become increasingly complex, advanced techniques have been developed to test these devices. Dedicated apparatus is available to implement the advanced techniques. Referring to <figref idref="DRAWINGS">FIG. 1A</figref>, a general configuration for the test and debug of a target processor <b>12</b> is shown. The test and debug procedures operate under control of a host processing unit <b>10</b>. The host processing unit <b>10</b> applies control signals to the emulation unit <b>11</b> and receives (test) data signals from the emulation unit <b>11</b> by cable connector <b>14</b>. The emulation unit <b>11</b> applies control signals to and receives (test) signals from the target processor <b>12</b> by connector cable <b>15</b>. The emulation unit <b>11</b> can be thought of as an interface unit between the host processing unit <b>10</b> and the target processor <b>12</b>. The emulation unit <b>11</b> must process the control signals from the host processor unit <b>10</b> and apply these signals to the target processor <b>12</b> in such a manner that the target processor will respond with the appropriate test signals. The test signals from the target processor <b>12</b> can be a variety types. Two of the most popular test signal types are the JTAG (Joint Test Action Group) signals and trace signals. The JTAG signal provides a standardized test procedure in wide use. Trace signals are signals from a multiplicity of junctions in the target processor <b>12</b>. While the width of the bus interfacing to the host processing unit <b>10</b> generally have a standardized width, the bus between the emulation unit <b>11</b> and the target processor <b>12</b> can be increased to accommodate the increasing complexity of the target processing unit <b>12</b>. Thus, part of the interface function between the host processing unit <b>10</b> and the target processor <b>12</b> is to store the test signals until the signals can be transmitted to the host processing unit <b>10</b>.</p>
<p id="p-0008" num="0007">Referring to <figref idref="DRAWINGS">FIG. 1B</figref>, the operation of the trigger generation unit <b>19</b> is shown. At least one event signal is applied to the trigger generation unit <b>19</b>. Based on the event signals applied to the trigger generation unit <b>19</b>, a trigger signal is selected. Certain events and combination of events, referred to as an event front, generate a selected trigger signal that results in certain activity in the target processor such as a debug halt. Combinations of different events generating trigger signals are referred to as jobs. Multiple jobs can have the same trigger signal or combination of trigger signals. In the test and debug of the target processor, the trigger signals can provide impetus for changing state in the target processor or for performing a specified activity. The event front defines the reason for the generation of trigger signal. This information is important in understanding the operation of the target processor because, as pointed out above, several combinations of events can result in the generation of a trigger signal. In order to analyze the operation of the target processing unit, the portion of the code resulting in the trigger signal must be identified. However, the events in the host processor leading to the generation of event signals can be complicated. Specifically, the characteristics of an instruction at a program counter address can determine whether a trigger signal should be generated. A trigger signal can indicate when an address is within a range of addresses, outside of a range of addresses, some combination of address characteristics, and/or the address is aligned with a reference address. In this instance, the address can be the program address of an instruction or a memory address directly or indirectly referenced by a program instruction.</p>
<p id="p-0009" num="0008">A need has been felt for apparatus and an associated method having the feature that events corresponding to characteristics of the program counter address can be identified. It would be yet another feature of the apparatus and associated method to provide for the identification of program counter address characteristics that encompasses more than one range. It would be a still further feature of the present invention to identify program address characteristics that include the characteristics of the data identified by the program counter address. It would be still another feature of the apparatus and associated method to identify characteristics of addresses referenced by program instruction. It would be yet a further feature of the present invention to compare characteristics of two addresses.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0010" num="0009">The aforementioned and other features are accomplished, according to the present invention, by providing a comparator that can determine the relationship of either one or two addresses to a group of user selected characteristics. In particular, the comparator includes a first comparator unit and second comparator unit. In this manner, characteristics for one or for two addresses can be determined, i.e., whether two addresses meet relatively simple, and possible different requirements or a single address meets more complex requirements. In addition, the comparator can include apparatus responsive to requirements for a related data field for adding these data requirements to a decision requiring the address. Finally, a decision unit determines whether all the criteria for the address have been met and, when the criteria has been met, an event signal is generated. The event signal either alone or in combination with other event signals can result in a trigger signal. The trigger signal changes the operation of the target processor and event signal or signals resulting in a trigger signal are communicated to the host processing unit.</p>
<p id="p-0011" num="0010">Other features and advantages of present invention will be more clearly understood upon reading of the following description and the accompanying drawings and the claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 1A</figref> is a general block diagram of a system configuration for test and debug of a target processor, while <figref idref="DRAWINGS">FIG. 1B</figref> illustrates the function of the trigger generation unit.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 2</figref>, a block diagram of the apparatus for storing the event signals that result in the generation of a trigger signal.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of apparatus for storing the contents of the program counter related to the generation of the trigger signal according to the present invention.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4A</figref> is a block diagram of the comparator unit according to the present invention, while <figref idref="DRAWINGS">FIG. 4B</figref> is a block diagram of the principal components of each comparator in the comparator unit according to the present invention.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5A</figref>, <figref idref="DRAWINGS">FIG. 5B</figref> and <figref idref="DRAWINGS">FIG. 5C</figref> illustrate the operation of the comparator unit according to the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0017" num="0016">1. Detailed Description of the Figures</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> has been described with respect to the related art.</p>
<p id="p-0019" num="0018">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, a block diagram of the apparatus for capturing the identification of the events resulting in a trigger signal is shown. A plurality of target processing unit and test and debug components can provide an event signal under preselected conditions. The components generating event signals include a state machine <b>210</b> (determining the state in which the target processing unit is executing code), counter zero units <b>211</b> and <b>212</b> (determining when a preselected condition has been met), an auxiliary event generating unit <b>213</b> (providing an event signal for a predetermined condition of the target processor), and comparators <b>214</b>-<b>217</b> (for processing signals from a system bus). Each of the components providing event signals are coupled to a particular input terminal of trigger generation unit <b>19</b> and to an associated location in a capture register <b>22</b>. When an event signal or preselected combination of event signals is identified by the trigger generation unit <b>19</b>, an appropriate trigger signal is generated. Along with the trigger signal, the trigger generation unit <b>19</b> generates a control signal. The control signal results in the storage of the applied event signals in the capture register <b>22</b>. The contents of the capture register <b>22</b> can be applied to a read bus <b>23</b> and subsequently transferred to the host processing unit for analysis.</p>
<p id="p-0020" num="0019">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, a block diagram of the apparatus for storing the contents of the program counter related to the generation of a trigger signal is shown. As in <figref idref="DRAWINGS">FIG. 2</figref>, the state machine <b>210</b>, the counter zero units <b>211</b> and <b>212</b>, the auxiliary event generator <b>213</b>, and the comparators, <b>214</b>-<b>217</b>, in the presence of preselected conditions, generate event signals that are applied to the trigger generation unit <b>19</b>. In response to a preselected event signal or combination of event signals, the trigger generation unit <b>19</b> generates a trigger signal. The trigger signal causes a predetermined response by the target processor. In addition, the trigger generation unit <b>19</b> provides a trigger control signal. This trigger control signal is applied to register <b>32</b>. The contents of program counter are applied through a delay line <b>35</b> to the register <b>32</b>. In response to the trigger control signal, the program counter contents are stored in the register <b>32</b>. In response to a control signal, the contents of register <b>32</b> can be transferred to the host processing unit.</p>
<p id="p-0021" num="0020">Referring to <figref idref="DRAWINGS">FIG. 4A</figref>, the over all structure of a comparator unit <b>40</b>, according to the present invention, is shown. The comparator unit <b>40</b> includes a comparator one <b>41</b> and a comparator two <b>42</b>. Comparator one <b>41</b> receives input signals from bus A and from data qualifying network <b>49</b>. Comparator two <b>42</b> receives input signals from bus B and from the data qualifying network <b>49</b>. Comparator one <b>41</b> generates an INTERCOMPARATOR ONE signal and applies this signal to comparator two <b>42</b>. The comparator two <b>42</b> generates an INTERCOMPARATOR TWO signal and applies this signal to comparator one <b>41</b>. Comparator one <b>41</b> provides an EVENT ONE output signal, while comparator two <b>42</b> provides an EVENT TWO output signal. The data qualifying network <b>49</b> is used to ensure that an event signal is generated when the address(es) being tested by the comparators <b>41</b> and <b>42</b> meet the requirements and the data accessed at the address has predetermined relationship, for example with a reference data value. While in the <figref idref="DRAWINGS">FIG. 4A</figref> one data qualifying network <b>49</b> is shown, a data qualifying network can be associated with each comparator <b>41</b> and <b>42</b>.</p>
<p id="p-0022" num="0021">Referring to <figref idref="DRAWINGS">FIG. 4B</figref>, components of the comparator one <b>41</b> are shown. Comparator one <b>41</b> includes a qualification logic <b>411</b>. The data qualifying logic <b>411</b> receives a signal from the data qualifying network <b>49</b> and applies a signal to comparator logic <b>412</b>. The comparator logic <b>412</b> has the bus A signals applied thereto. The comparator logic <b>412</b> applies a signal to the event signal generation unit <b>413</b> and generates the COMPARATOR ONE signal. The event signal generation unit <b>413</b> receives the INTERCOMPARTOR TWO signal and generates the EVENT ONE signal. The comparator logic <b>412</b> and qualification logic unit <b>411</b> also receive control signals. The control signals can include the parameters used in the comparator logic <b>412</b>. The qualification logic <b>411</b> receives architecture-related signals such as whether a valid memory access was generated, whether the memory access was a read or write operation. These control signals can determine whether an operation of the processor meets preselected criteria.</p>
<p id="p-0023" num="0022">Referring to <figref idref="DRAWINGS">FIGS. 5A through 5C</figref>, the operations of the comparator unit for some exemplary conditions are illustrated. In <figref idref="DRAWINGS">FIG. 5A</figref>, an example of the operation of the comparator unit using only comparator one (or comparator two) is shown. In this example, the comparator provides an event signal when any portion of the address signal group is less that the designated address (shown by the arrow). The exemplary address signal groups are shown as word signal groups. Only the address with the no portion of the addressed signal group being less than the designated address provides no EVENT signal. (This criterion is one definition of a “touching” requirement). Thus, signal group <b>1</b> generates an event signal, a portion being less than the designated address. Signal group <b>2</b> also generates an event signal, the entire signal group being less than the designated address. Signal group <b>3</b> is entirely above the designated address and therefore does not meet the “less than” requirement.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 5B</figref> shows another type of event generation. In this example, the same touching criterion is used. In addition, the address signal group must be match-aligned with a reference address. The reference address is word signal group and the word signal group alignment addresses (WB) are also shown. This criterion is referred to as an “exact” criterion. In this example, event signal <b>1</b> does not generate an event signal because, although the touching requirement is met, the word group is not aligned with the reference address. No event signal is generated for signal group <b>2</b> because, although the ‘exact requirement is met, the touching requirement is not met. An event signal is generated for signal group <b>3</b> because the signal group is aligned with the reference signal group and the touching requirement is met. For signal group <b>4</b>, an event signal is not generated because although the touching requirement is met, the exact (alignment) requirement is not met. With respect to signal group <b>5</b>, a single byte is shown as not generating an event signal. This result arises from the fact that, although the touching requirement is met, the reference signal group is a word. The signal group <b>5</b> is not aligned with a word boundary defined by the reference signal group.</p>
<p id="p-0025" num="0024">In <figref idref="DRAWINGS">FIG. 5A</figref> and <figref idref="DRAWINGS">FIG. 5B</figref>, only one of the two comparators is required to generate and event signal for the exemplary requirements.</p>
<p id="p-0026" num="0025">In <figref idref="DRAWINGS">FIG. 5C</figref>, an example is given wherein both comparator one and comparator two are needed to generate an EVENT signal. In this example, a portion of the address must in a region defined by being less than a designated address #1 or being greater than a designated address #2. Because of these two criteria, one criterion must be tested by each comparator. Signal group <b>1</b> results in the generation of an event signal because it is at least partially in the region defined by designated address #1 thereby fulfilling a touching requirement. Similarly, signal group <b>2</b> is at least partially in region defined by designated address #2 and thereby also meets the touching requirement. Signal group <b>3</b> does not meet either touching requirement and therefore no event signal is generated.</p>
<p id="p-0027" num="0026">2. Operation of the Preferred Embodiment</p>
<p id="p-0028" num="0027">The operation of the comparator unit of the present invention can be understood as follows. The data qualifying unit <b>49</b> determines when the data associated with the address(es) to be analyzed has the required characteristics. The data qualifying logic <b>411</b> then provides a signal that determines whether the analysis of the address in the comparator logic can continue. When the process can continue, the comparator logic determines one selected characteristic of the address applied by the bus. The selected characteristic is determined by the control signals that are typically selected by the user for the currently executing program. The selected characteristic is the relationship of the address signal group to a designated or reference address. When the selected characteristic is present, then a signal is applied to the event signal generation unit. As a result of this signal, an EVENT signal is generated.</p>
<p id="p-0029" num="0028">While the foregoing example determines the relationship of an address signal group to a single designated, reference address, the fact that the two comparators are interconnected permits the comparator unit <b>40</b> to determine the relationship of an address signal group to two designated, reference addresses, i.e., one reference address in each comparator. In other words, the use of both comparators permits the comparator unit to determine the relationship of an address signal group to a region of addresses.</p>
<p id="p-0030" num="0029">The comparator of the present invention is particularly useful in the test and debug procedures of a target processor. In analyzing the operation of target processing system, it is important to know the events that result in the change in operation produced by a trigger signal. The present invention captures an identification of the events that result in the change in operation, e.g., the transition to an interrupt service routine. These events are captured only in the event that an actual trigger signal is generated. Upon the generation of a trigger signal, signals specifying the events causing the trigger signal are stored and can be transferred to the host processing unit for analysis. In addition, it is necessary to determine where in the program execution the trigger signal occurred as well as the events that resulted in the generation of the trigger signal. The contents of the program counter are the best indication of the state of program execution at the time of the trigger signal. However, because of the pipeline delay (and, if present, a pipeline flattener delay), the events that result in the generation of the trigger signal are the result of instructions that began execution before the delay. Consequently, in order to correlate the events causing the trigger signal with the appropriate instruction identified by the program counter, a delay is added in the instruction applied to the register. In this manner, the target processor events resulting in the generation of a trigger signal and the related position in the instruction execution can be identified and transferred to the host processing unit for analysis. In the preferred embodiment shown in <figref idref="DRAWINGS">FIG. 2</figref> and <figref idref="DRAWINGS">FIG. 3</figref>, bus A and bus B are both coupled to the addresses referenced by the program counter. The comparator unit is then used to generate an EVENT signal that is applied to the trigger unit. However, the comparator of the present invention has wider application. For example, two addresses can be applied to the comparator on the two buses and analyzed separately.</p>
<p id="p-0031" num="0030">While the invention has been described with respect to the embodiments set forth above, the invention is not necessarily limited to these embodiments. Accordingly, other embodiments, variations, and improvements not described herein are not necessarily excluded from the scope of the invention, the scope of the invention being defined by the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A comparator unit for use in testing and debugging a processor, the comparator unit comprising:
<claim-text>an first comparator responsive to a first address signal group and to first control signals, the first comparator determining when one of a plurality selected characteristics are present in the first address signal group;</claim-text>
<claim-text>a second comparator responsive to a second address signal group and to second control signals, the second comparator determining when a second of the plurality of selected characteristics is present in the second address signal group;</claim-text>
<claim-text>an inter-comparator conductor, the inter-comparator conductor applying an indicia of an identification of the second selected characteristic to the first comparator, the first comparator generating an event signal when the first and the second selected characteristics are present; and</claim-text>
<claim-text>a data qualification unit coupled to the first and second comparators, the data qualification unit receiving architecture status signals from the processor, the data qualification unit applying enabling signals to the first and second comparators.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The comparator unit as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first and the second address signal groups are the same address signal group.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The comparator unit as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first and second selected characteristics are selected from the group consisting of an exact characteristic, a touching characteristic, a touching less than the address signal characteristic and a touching greater than the address signal characteristic.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The comparator unit as recited in <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein either one of the first and the second comparator can generate an event signal when at least one of a touching requirement and an exact requirement is satisfied by an applied address signal group.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A comparator unit for use in a test and debug system for a processing unit; the comparator unit comprising:
<claim-text>a first comparator and a second comparator, each comparator including:</claim-text>
<claim-text>a comparison logic unit for comparing an input address signal group with a control address signal group to determine when a selected one of a plurality of characteristics is present; and</claim-text>
<claim-text>an intercompartor conductor for providing the results in one comparator to the other comparator;</claim-text>
<claim-text>a data qualification unit coupled to the first and second comparators, the data qualification unit receiving architecture status signals from the processing unit, the data qualification unit applying enabling signals to the first and second comparator; and</claim-text>
<claim-text>an event signal generation unit, the comparison logic unit applying a signal to the event generation unit of the other comparator when the selected characteristic is identified, the event generation unit generating an event signal when the signals from the two comparators have identified the selected characteristic associated in both comparators.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The comparator unit as recited in <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein the selected characteristics are selected from a group consisting of an exact characteristic and a touching characteristic.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The comparator unit as recited in <claim-ref idref="CLM-00006">claim 6</claim-ref> wherein the address signal groups are the same signal group.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The comparator unit as recited in <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein the selected characteristics are entered in the comparison logic unit by control signals.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The comparator as recited in <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein each comparator can operate independently, each comparator capable of generating an event signal in response to at least one of a touching requirement and an exact requirement.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. In a host processing unit, the method of determining when a first and a second input address signal group each meets at least one selected characteristic, the method comprising:
<claim-text>qualifying the first input address signal group;</claim-text>
<claim-text>determining in a first comparator when the first input signal group has a first selected characteristic relative to a first reference address;</claim-text>
<claim-text>qualifying the second input address signal group;</claim-text>
<claim-text>determining in a second comparator when the second input address signal group has a second selected characteristic relative to a second reference address;</claim-text>
<claim-text>coupling the results of the first comparator and the second comparator; and</claim-text>
<claim-text>generating an output signal when the first and the second predetermined conditions are met, the output signal controlling the operation of a host processor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method as recited in <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising identifying the position in the program execution with a program counter signal, the program counter signal being one of the address signal groups.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method as recited in <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising applying a signal to the comparators indicative of an associated signal group characteristic, the signal controlling generation of the output signal.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. In a target processor, apparatus for generating a trigger signal, the apparatus comprising:
<claim-text>a plurality of event signal generating units, wherein at least one of the event signal generating units is a comparator unit, the comparator unit including:
<claim-text>a first comparator and a second comparator, each comparator having:
<claim-text>a comparison logic unit for comparing an input address signal group with a control signal group to determine when one of a plurality of selected characteristics is present;</claim-text>
<claim-text>an inter-comparator conductor for communicating the results of one comparator to the other comparator; and</claim-text>
<claim-text>an event signal generating unit, the comparison logic unit applying a signal to the event generating unit and to the event signal generating unit of the second comparator when the selected characteristic is identified, the event generating unit generating an event signal when the signals from the two comparator logics have predetermined logic values;</claim-text>
</claim-text>
</claim-text>
<claim-text>a data qualification unit coupled to the first and second comparators, the data qualification unit receiving architecture status signals from the target processor, the data qualification unit applying enabling signals to the first and second comparators; and</claim-text>
<claim-text>a trigger generation unit coupled to the plurality of event signal generation units, the trigger generation unit responsive to at least one preselected event signal for generating a trigger control signal, the trigger generation unit generating a trigger control signal for initiating a test procedure.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The target processor as recited in <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the comparator unit receives a program counter address input signal identifying the position in the program execution.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The target processor as recited in <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein one comparator receives a program counter address counter address input signal and the second comparator receives an address signal group referenced by the program counter address.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The target processor as recited in <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the preselected condition is selected from the group consisting of a touching requirement, an exact requirement, a touching requirement, a touching less than the address signal requirement and a touching greater than the address signal requirement.</claim-text>
</claim>
</claims>
</us-patent-grant>
