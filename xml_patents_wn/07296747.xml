<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07296747-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07296747</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11105150</doc-number>
<date>20050413</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>136</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>5</main-group>
<subgroup>04</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>7</main-group>
<subgroup>10</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>32</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>23546208</main-classification>
<further-classification>23546204</further-classification>
</classification-national>
<invention-title id="d0e53">Visual code system for camera-equipped mobile devices and applications thereof</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4238768</doc-number>
<kind>A</kind>
<name>Mitsuya et al.</name>
<date>19801200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4323973</doc-number>
<kind>A</kind>
<name>Greenfield</name>
<date>19820400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>4554593</doc-number>
<kind>A</kind>
<name>Fox et al.</name>
<date>19851100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>4578766</doc-number>
<kind>A</kind>
<name>Caddy</name>
<date>19860300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345440</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>4692603</doc-number>
<kind>A</kind>
<name>Brass et al.</name>
<date>19870900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>4728783</doc-number>
<kind>A</kind>
<name>Brass et al.</name>
<date>19880300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>4754127</doc-number>
<kind>A</kind>
<name>Brass et al.</name>
<date>19880600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>4774569</doc-number>
<kind>A</kind>
<name>Morton et al.</name>
<date>19880900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>4782221</doc-number>
<kind>A</kind>
<name>Brass et al.</name>
<date>19881100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>4874936</doc-number>
<kind>A</kind>
<name>Chandler et al.</name>
<date>19891000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>4896029</doc-number>
<kind>A</kind>
<name>Chandler et al.</name>
<date>19900100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>4969202</doc-number>
<kind>A</kind>
<name>Groezinger</name>
<date>19901100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>4998010</doc-number>
<kind>A</kind>
<name>Chandler et al.</name>
<date>19910300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>5016118</doc-number>
<kind>A</kind>
<name>Nannichi</name>
<date>19910500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>5103490</doc-number>
<kind>A</kind>
<name>McMillin</name>
<date>19920400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382284</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>5113454</doc-number>
<kind>A</kind>
<name>Marcantonio et al.</name>
<date>19920500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>5153418</doc-number>
<kind>A</kind>
<name>Batterman et al.</name>
<date>19921000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>5179599</doc-number>
<kind>A</kind>
<name>Formanek</name>
<date>19930100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>5189292</doc-number>
<kind>A</kind>
<name>Batterman et al.</name>
<date>19930200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>5223701</doc-number>
<kind>A</kind>
<name>Batterman et al.</name>
<date>19930600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>5235172</doc-number>
<kind>A</kind>
<name>Oehlmann</name>
<date>19930800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>5243443</doc-number>
<kind>A</kind>
<name>Eschbach</name>
<date>19930900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>5243444</doc-number>
<kind>A</kind>
<name>Fan</name>
<date>19930900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>5243655</doc-number>
<kind>A</kind>
<name>Wang</name>
<date>19930900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>5276315</doc-number>
<kind>A</kind>
<name>Surka</name>
<date>19940100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>5327240</doc-number>
<kind>A</kind>
<name>Golston et al.</name>
<date>19940700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>5331442</doc-number>
<kind>A</kind>
<name>Sorimachi et al.</name>
<date>19940700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>5345317</doc-number>
<kind>A</kind>
<name>Katsuno et al.</name>
<date>19940900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>5510604</doc-number>
<kind>A</kind>
<name>England et al.</name>
<date>19960400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>5621203</doc-number>
<kind>A</kind>
<name>Swartz et al.</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>5691773</doc-number>
<kind>A</kind>
<name>Wang et al.</name>
<date>19971100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>5767978</doc-number>
<kind>A</kind>
<name>Revankar et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>5778092</doc-number>
<kind>A</kind>
<name>MacLeod et al.</name>
<date>19980700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>5783811</doc-number>
<kind>A</kind>
<name>Feng et al.</name>
<date>19980700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>23546242</main-classification></classification-national>
</citation>
<citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>5811781</doc-number>
<kind>A</kind>
<name>Ackley</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>5852677</doc-number>
<kind>A</kind>
<name>Nakamura et al.</name>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>5862270</doc-number>
<kind>A</kind>
<name>Lopresti et al.</name>
<date>19990100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>5877486</doc-number>
<kind>A</kind>
<name>Maltsev et al.</name>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>5890021</doc-number>
<kind>A</kind>
<name>Onoda et al.</name>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>5909505</doc-number>
<kind>A</kind>
<name>Katayama et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>5915039</doc-number>
<kind>A</kind>
<name>Lorie et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>5963669</doc-number>
<kind>A</kind>
<name>Wesolkowski et al.</name>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>5969325</doc-number>
<kind>A</kind>
<name>Hecht et al.</name>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>6045515</doc-number>
<kind>A</kind>
<name>Lawton</name>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>6082619</doc-number>
<kind>A</kind>
<name>Ma et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00046">
<document-id>
<country>US</country>
<doc-number>6091511</doc-number>
<kind>A</kind>
<name>Ben Dror et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00047">
<document-id>
<country>US</country>
<doc-number>6101285</doc-number>
<kind>A</kind>
<name>Fan</name>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00048">
<document-id>
<country>US</country>
<doc-number>6115488</doc-number>
<kind>A</kind>
<name>Rogers et al.</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00049">
<document-id>
<country>US</country>
<doc-number>6115508</doc-number>
<kind>A</kind>
<name>Lopresti et al.</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00050">
<document-id>
<country>US</country>
<doc-number>6137898</doc-number>
<kind>A</kind>
<name>Broussard et al.</name>
<date>20001000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00051">
<document-id>
<country>US</country>
<doc-number>6201612</doc-number>
<kind>B1</kind>
<name>Matsushiro et al.</name>
<date>20010300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00052">
<document-id>
<country>US</country>
<doc-number>6201901</doc-number>
<kind>B1</kind>
<name>Zhou et al.</name>
<date>20010300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00053">
<document-id>
<country>US</country>
<doc-number>6282307</doc-number>
<kind>B1</kind>
<name>Armato, III et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00054">
<document-id>
<country>US</country>
<doc-number>6347156</doc-number>
<kind>B1</kind>
<name>Kamada et al.</name>
<date>20020200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00055">
<document-id>
<country>US</country>
<doc-number>6366696</doc-number>
<kind>B1</kind>
<name>Hertz et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00056">
<document-id>
<country>US</country>
<doc-number>6371373</doc-number>
<kind>B1</kind>
<name>Ma et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00057">
<document-id>
<country>US</country>
<doc-number>6418244</doc-number>
<kind>B2</kind>
<name>Zhou et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00058">
<document-id>
<country>US</country>
<doc-number>6431452</doc-number>
<kind>B2</kind>
<name>Feng</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>23547201</main-classification></classification-national>
</citation>
<citation>
<patcit num="00059">
<document-id>
<country>US</country>
<doc-number>6446868</doc-number>
<kind>B1</kind>
<name>Robertson et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00060">
<document-id>
<country>US</country>
<doc-number>6512919</doc-number>
<kind>B2</kind>
<name>Ogasawara</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00061">
<document-id>
<country>US</country>
<doc-number>6565003</doc-number>
<kind>B1</kind>
<name>Ma</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00062">
<document-id>
<country>US</country>
<doc-number>6585157</doc-number>
<kind>B2</kind>
<name>Brandt et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00063">
<document-id>
<country>US</country>
<doc-number>6604682</doc-number>
<kind>B2</kind>
<name>Wakamiya et al.</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>23546201</main-classification></classification-national>
</citation>
<citation>
<patcit num="00064">
<document-id>
<country>US</country>
<doc-number>6631012</doc-number>
<kind>B2</kind>
<name>Athens et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00065">
<document-id>
<country>US</country>
<doc-number>6631843</doc-number>
<kind>B2</kind>
<name>Schuessler</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00066">
<document-id>
<country>US</country>
<doc-number>6650766</doc-number>
<kind>B1</kind>
<name>Rogers et al.</name>
<date>20031100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00067">
<document-id>
<country>US</country>
<doc-number>6674919</doc-number>
<kind>B1</kind>
<name>Ma et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00068">
<document-id>
<country>US</country>
<doc-number>6735341</doc-number>
<kind>B1</kind>
<name>Horie et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00069">
<document-id>
<country>US</country>
<doc-number>6735745</doc-number>
<kind>B2</kind>
<name>Sarig et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00070">
<document-id>
<country>US</country>
<doc-number>6752317</doc-number>
<kind>B2</kind>
<name>Dymetman et al.</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>23546245</main-classification></classification-national>
</citation>
<citation>
<patcit num="00071">
<document-id>
<country>US</country>
<doc-number>6802450</doc-number>
<kind>B2</kind>
<name>Cheung et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00072">
<document-id>
<country>US</country>
<doc-number>6832729</doc-number>
<kind>B1</kind>
<name>Perry et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>23547201</main-classification></classification-national>
</citation>
<citation>
<patcit num="00073">
<document-id>
<country>US</country>
<doc-number>6837432</doc-number>
<kind>B2</kind>
<name>Tsikos et al.</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00074">
<document-id>
<country>US</country>
<doc-number>6898329</doc-number>
<kind>B1</kind>
<name>Takahashi</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00075">
<document-id>
<country>US</country>
<doc-number>2001/0041581</doc-number>
<kind>A1</kind>
<name>Hansson</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00076">
<document-id>
<country>US</country>
<doc-number>2002/0071076</doc-number>
<kind>A1</kind>
<name>Webb et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00077">
<document-id>
<country>US</country>
<doc-number>2002/0084330</doc-number>
<kind>A1</kind>
<name>Chiu</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00078">
<document-id>
<country>US</country>
<doc-number>2002/0090107</doc-number>
<kind>A1</kind>
<name>Acharya et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00079">
<document-id>
<country>US</country>
<doc-number>2002/0102966</doc-number>
<kind>A1</kind>
<name>Lev et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00080">
<document-id>
<country>US</country>
<doc-number>2002/0187774</doc-number>
<kind>A1</kind>
<name>Ritter et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00081">
<document-id>
<country>US</country>
<doc-number>2003/0007696</doc-number>
<kind>A1</kind>
<name>Saito</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00082">
<document-id>
<country>US</country>
<doc-number>2003/0074286</doc-number>
<kind>A1</kind>
<name>Rodrigo</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00083">
<document-id>
<country>US</country>
<doc-number>2003/0123710</doc-number>
<kind>A1</kind>
<name>Nakazawa et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00084">
<document-id>
<country>US</country>
<doc-number>2004/0042670</doc-number>
<kind>A1</kind>
<name>Moroo et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00085">
<document-id>
<country>US</country>
<doc-number>2004/0101183</doc-number>
<kind>A1</kind>
<name>Mullich et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00086">
<document-id>
<country>US</country>
<doc-number>2004/0240737</doc-number>
<kind>A1</kind>
<name>Lim et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00087">
<document-id>
<country>US</country>
<doc-number>2005/0035206</doc-number>
<kind>A1</kind>
<name>Attia et al.</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00088">
<document-id>
<country>US</country>
<doc-number>2005/0121521</doc-number>
<kind>A1</kind>
<name>Ghai et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00089">
<document-id>
<country>US</country>
<doc-number>2005/0198095</doc-number>
<kind>A1</kind>
<name>Du et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00090">
<document-id>
<country>WO</country>
<doc-number>WO-2005/020140</doc-number>
<kind>A2</kind>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00091">
<document-id>
<country>WO</country>
<doc-number>WO-2005/062234</doc-number>
<kind>A2</kind>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00092">
<othercit>Trier, O.D., Jain, A.K., “Goal-Directed Evaluation of Binarization Methods”, Pattern Analysis and Machine Intelligence, IEEE Transactions on, Dec. 1995, ISSN: 0162-8828.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00093">
<othercit>Heckbert, Paul S., “Fundamentals of Texture Mapping and Image Warping,” Department of Electrical Engineering and Computer Science, University of California, Master's Thesis, 1989.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00094">
<othercit>Lew, Michael S., “Principles of Visual Information Retrieval,” State of the Art in Shape Matching, 2001, pp. 87-119.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00095">
<othercit>Rohs, Michael et al., “Entry Points into a Smart Campus Environment - Overview of the ETHOC System,” Institute for Pervasive Computing Swiss Federal Institute of Technology.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00096">
<othercit>Tsai, Roger Y., “A Versatile Camera Calibration Tedhnique for High-Accuracy 3D Maching Vision metrology Using Off-the-Shelf TV Cameras and Lenses,” IEEE Journal of Robotics and Automation, 1987, RA-3(4):323-344.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00097">
<othercit>Wellner, Pierre D., “Adaptive Thresholding for the DigitalDesk,” EuroPARC Technical REport EPC-93-110, 1993, pp. 1-17.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00098">
<othercit>Bottller, Stefan, “SMS-Flaschenpost erreicht Millionen,” W&amp;V Wochenmagazin Fur Marketing, Werburn, Medien und E-Business, Nov. 28, 2003, pp. 44-45.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00099">
<othercit>Rohs, Michael et al., “Entry Points into a Smart Campus Environment - Overview of the ETHOC System,” Institute for Pervasive Computing Swiss Federal Institute of Technology, ICDCS 2003 Workshops, May 2003.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>25</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>23546204</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546207</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546208</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546209</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>2354621</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546211</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546215</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546225</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546241</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546201</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382164</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382165</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382181</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382237</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382289</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382293</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60563669</doc-number>
<kind>00</kind>
<date>20040420</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050242189</doc-number>
<kind>A1</kind>
<date>20051103</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Rohs</last-name>
<first-name>Michael</first-name>
<address>
<street>ETH Zurich (Federal Institute of Technology), Haldeneggsteig 4, IFW D 43.1</street>
<city>Zurich</city>
<postcode>8092</postcode>
<country>CH</country>
</address>
</addressbook>
<nationality>
<country>CH</country>
</nationality>
<residence>
<country>CH</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Wilmer Cutler Pickering Hale and Dorr LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<examiners>
<primary-examiner>
<last-name>Lee</last-name>
<first-name>Michael G.</first-name>
<department>2876</department>
</primary-examiner>
<assistant-examiner>
<last-name>Koyama</last-name>
<first-name>Kumiko C.</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A visual code system wherein camera-equipped mobile phones (or similar devices, such as wireless PDAs) are used to identify and decode images that contain one or more “visual codes.” By recognizing a code tag, the device can determine a bit pattern or an integer number encoded in the tag (the code value), the targeted object or image element, as well as additional parameters, such as the viewing angle of the camera. Code recognition is performed on the mobile device itself. When the mobile device is equipped with a wireless communication channel, it can be used to retrieve online content or to access information on the Internet based on the sensed code and its parameters. The retrieved content can then be presented on the mobile device.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="177.38mm" wi="112.86mm" file="US07296747-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="160.36mm" wi="150.20mm" file="US07296747-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="229.19mm" wi="113.37mm" file="US07296747-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="228.60mm" wi="99.40mm" file="US07296747-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="232.58mm" wi="170.60mm" orientation="landscape" file="US07296747-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="167.98mm" wi="168.40mm" orientation="landscape" file="US07296747-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="238.84mm" wi="158.83mm" orientation="landscape" file="US07296747-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application claims the benefit of Provisional Application Ser. No. 60/563,669 filed Apr. 20, 2004.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to the field of decoding machine readable codes utilizing camera-equipped mobile devices. More specifically, the present invention discloses a proprietary visual code which is capable of being decoded and utilized by virtually any camera-equipped mobile device.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">Barcodes have been utilized for identifying and pricing objects for more than thirty years. Most typically, barcodes are used in retail to identify the item of merchandise. For example, a gallon of milk may contain a barcode that, when scanned, will notify the cashier of the price of the milk.</p>
<p id="p-0005" num="0004">Yet in recent years, barcodes have acquired new purposes as computers and barcode scanners have become more portable. The circuitry required to scan a conventional one-dimensional barcode can now be housed in a device as small as a typical keychain. As a result, many mobile telephones, personal digital assistants (“PDAs”), and pagers can be retrofitted with or connected to a laser-based scanning device. This allows the mobile device to function as a scanner capable of storing hundreds or thousands of scanned barcodes.</p>
<p id="p-0006" num="0005">Mobile devices with attached scanners have allowed for the development of a new niche in the wireless electronics business. Some companies have developed software and hardware which allows a user to scan any barcode and be redirected to media information (e.g., a website, product description, price, etc.) about the scanned product. These programs provide a link between the physical and online world which previously did not exist.</p>
<p id="p-0007" num="0006">However, mobile devices with attached scanners possess some drawbacks which have curtailed their expansion into the mobile marketplace. First, there are few mobile devices produced for the general public that contain integrated laser-based scanners. Therefore, for a user to acquire scanning capability for a mobile device, he/she must purchase additional equipment. The additional scanning equipment also adds size and weight to the mobile device, thereby reducing its mobility.</p>
<p id="p-0008" num="0007">Currently, many cell phones and mobile devices are available with built-in cameras. The explosion of the availability of affordable digital cameras and their inclusion into mobile devices is driven by several factors. One of the most important is the recent availability of inexpensive image sensors based on CMOS technology. The cameras on these devices provide a means for capturing the barcode information which was previously only accessible via a laser-based scanner. Decoding barcode images from digital cameras included in mobile devices presents several difficult problems. These problems go well beyond the challenges addressed in commercial barcode readers.</p>
<p id="p-0009" num="0008">Therefore, there clearly exists a need for a visual code system which is capable of being decoded on a camera-equipped mobile device. The visual code system should be able to be decoded from a wide range of angles and distances for use in different applications.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0010" num="0009">The visual code system of the present invention lets camera-equipped mobile devices act as sensors and decoders for proprietary two-dimensional visual codes. The visual codes can be printed on paper documents, displayed on electronic screens, or attached to physical objects and act as a key to access object-related information and functionality.</p>
<p id="p-0011" num="0010">Enhancing mobile devices in this manner is promising, because they are in constant reach of their users and are thus available in many everyday situations. They provide continuous wireless connectivity, and models with integrated cameras are becoming more and more popular. The ability to detect objects in the user's immediate vicinity strengthens the role of mobile phones in m-commerce, education, and gaming scenarios. Additionally, it offers a natural way of interaction and makes data entry more convenient.</p>
<p id="p-0012" num="0011">The visual code system provides the basis for superimposing textual or graphical information over the camera image in near real-time, providing the user with the sense of “augmented reality”. This allows for a wide assortment of application possibilities in situations where information is to be closely linked to physical objects. An example is the maintenance of devices or apparatuses in the field. For example, individual parts of an apparatus may be associated with different visual codes. By decoding different visual codes, graphical information, which is aligned with the items in the image, can be superimposed over the camera image. Further application possibilities include showing maintenance instructions, ordering spare parts, checking a maintenance schedule, etc. Other closely related applications include convenient order placing in mail-order catalogs, entering reference numbers in online banking applications, linking up-to-date online content to newspapers, supporting mobile marketing advertising campaigns, integration with TV commercials, vote-now, or buy-now TV spots, booking tickets for events, and simplifying interaction with the mobile device itself.</p>
<p id="p-0013" num="0012">The key features of the visual code system of the present invention are a built-in orientation-independent coordinate system, rotation angle determination, tilting determination, and distance determination that enable a large number of applications, such as item selection and form entry. The recognition algorithm precisely determines the coordinates of a targeted point relative to the coordinate system that is defined by the visual code. The coordinates are independent of the orientation, tilting, or rotation of the visual code in the camera image. This allows the application to associate each point on the viewed image (and therefore arbitrarily shaped areas) with information and with specific operations. In this manner, a single visual code can be associated with multiple such areas (e.g., the individual cells of a table or elements and regions of an image).</p>
<p id="p-0014" num="0013">The recognition algorithm provides the rotation angle of the visual code in the camera image as an additional input parameter. This can be employed to simplify the interaction with the mobile device. Simply by changing the orientation of the mobile device, different information is displayed, without requiring any interactions via the keypad. Horizontal and vertical tilting is used as an additional input parameter in the same manner as described above (i.e., associating different information with different tilting angles). The mapping between the image coordinate system and the code coordinate system is also used to un-warp projective distortion in the camera image, which allows the automatic capture of form elements. Individual fields of the printed form are un-warped to remove the distortion and thus prepare them for further processing, such as transmitting them to an online server.</p>
<heading id="h-0005" level="1">INTERACTION SCENARIOS</heading>
<p id="p-0015" num="0014">New interaction possibilities open up when mobile phones or PDAs are enhanced to act as sensors for real-world objects. The gap between the physical world surrounding the user and the virtual world is narrowed by offering a natural way of “picking up” data in everyday situations. Information becomes collocated with physical entities and is thus situated and grounded in the real-world context. Mobile phones are in an excellent position to contribute to this vision, because they are ubiquitously available devices, constantly within reach of the user. The short interaction time required for recognizing codes is crucial for usability in a mobile setting. It does not require much effort on behalf of the user and takes just a few seconds.</p>
<p id="p-0016" num="0015">There are many application scenarios which could take advantage of using visual codes: In mail-order catalogs, items could be selected by scanning visual codes to conveniently place orders. In online banking applications, long reference codes or transaction numbers often need to be manually copied from printed forms. Visual codes and mobile phones could replace expensive dedicated devices which perform this task. In newspapers, visual codes could be used to store or rate newspaper articles, to get background information related to an advertisement, or for updates on information which quickly gets obsolete, like stock quotes and weather forecasts. Using the code coordinate system, it is possible to define printed image maps with predefined sensitive areas that are associated with online content. In this way, a single code can be associated with multiple items: For example, areas on a geographic map could be linked to weather forecasts corresponding to those regions and each row in a printed table containing stock quotes could be linked to a chart which is displayed on the phone.</p>
<p id="p-0017" num="0016">In the emerging area of mobile marketing, visual codes could be used to simplify SMS campaigns and SMS lotteries. In an advertising campaign Coca Cola printed code numbers on the labels of 160 million soft-drink bottles. By sending a number via SMS, customers got logos, ring tones, and greeting cards, and could take part in a lottery. 5.9 million SMS messages were sent, which corresponds to a response ratio of 3.7%. Using visual codes would make the process more convenient for the user and might result in even higher attendance in such campaigns, which would be commercially very interesting.</p>
<p id="p-0018" num="0017">The proposed 2-dimensional codes are also suitable for display on electronic screens, such as computer monitors, TV screens, public wall displays, and even on the tiny screens of handheld devices. Questionnaires, surveys, and polls on TV (like selecting the best candidate of a TV show) could be realized by overlaying visual codes over the screen image. This idea also has commercial implications. The music company Polydor used SMS as a mobile response channel in a TV spot advertising a CD. Viewers could order the CD via SMS prior to the official release date, which immediately increased sales figures. Again, using visual codes, the response ratio might be substantially increased. Camera-equipped mobile phones are not only capable of retrieving an object ID, but can also be used for more complex forms of interaction. Our code recognition system also provides the phone's orientation, amount of rotation, and coordinates of the image center.</p>
<p id="p-0019" num="0018">Therefore, it is an object of the present invention to provide a visual code system which utilizes an orientation-independent coordinate system that is defined by a visual code and the associated recognition algorithm that determines the coordinates of a targeted point in the camera image relative to that coordinate system.</p>
<p id="p-0020" num="0019">It is an additional object of the present invention to provide a visual code system which associates multiple regions of an image with a single code, wherein each region is linked to different online information and operations associated with the different regions.</p>
<p id="p-0021" num="0020">Yet another object of the present invention is to provide a visual code system which includes a rotation determination feature, a vertical and horizontal tilting determination feature, and a distance determination feature, which allows different rotation, tilting, and distance values to be associated with different information.</p>
<p id="p-0022" num="0021">Another object of the present invention is to utilize the visual code system of the present invention for item selection, information display in textual, graphical (e.g. on the screen of the mobile device or on a nearby electronic display), auditory (e.g., via the mobile device's speaker, headset or earphone), or tactile form (e.g., via phone vibration), and triggering specific operations.</p>
<p id="p-0023" num="0022">An additional object of the present invention is to provide an application in which textual or graphical feedback is superimposed on the camera image itself and correctly aligned (“registered”) with the items present in the image, thereby giving the user a sense of “augmented reality.”</p>
<p id="p-0024" num="0023">A further object of the present invention is to provide an application wherein the visual code system is used in conjunction with printed forms for convenient data entry.</p>
<p id="p-0025" num="0024">These and other objects of the present invention will be made clearer with reference to the following detailed description and accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> depicts an example of the visual code and its novel features.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 2</figref> depicts a flowchart showing the steps utilized by a camera-equipped mobile device to decode a visual code.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 3</figref> depicts a flowchart showing the steps utilized by the code location step of <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 4</figref> depicts an example of a printed document containing visual codes.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 5</figref> depicts another example of a printed document containing visual codes.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 6</figref> depicts an example form for the entry of calendar events.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0007" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT(S)</heading>
<p id="p-0032" num="0031">The following presents a detailed description of a preferred embodiment (as well as some alternative embodiments) of the present invention. However, it should be apparent to one skilled in the art that the described embodiment may be modified in form and content to be optimized for a wide variety of situations.</p>
<p id="p-0033" num="0032">With reference first to <figref idref="DRAWINGS">FIG. 1</figref>, shown is an example of visual code <b>101</b> utilized in the present invention. Visual code <b>101</b> consists of large guide bar <b>103</b> and small guide bar <b>105</b> for determining the location and orientation of visual code <b>101</b>, three cornerstones <b>107</b>, <b>109</b>, and <b>111</b>, for detecting distortion and the data area with the actual code bits. The displayed version of visual code <b>101</b> has a capacity of 83 bits, but its design is generic and suitable for extension to a larger number of bits. Visual code <b>101</b> can be reliably located even in a low quality image which is small and tilted.</p>
<p id="p-0034" num="0033">Visual code <b>101</b> may be printed utilizing either standard ink or infrared ink. If infrared ink is utilized to print visual code <b>101</b>, the digital camera must be capable of identifying infrared images. Infrared ink has the advantage that visual code <b>101</b> would not be visible to the naked eye. Therefore, if the algorithm of the present invention were constantly running in the background whenever the digital camera of a mobile device was being used, the decoding of visual code <b>101</b> could be utilized to make certain information appear.</p>
<p id="p-0035" num="0034">The three cornerstones <b>107</b>, <b>109</b>, and <b>111</b> define the coordinate system induced by the code. Cornerstone <b>107</b> is located at the origin, or position (<b>0</b>,<b>0</b>). Similarly, cornerstone <b>109</b> is said to be located at position (<b>10</b>,<b>0</b>) while cornerstone <b>111</b> is located at position (<b>0</b>,<b>10</b>). In this coordinate system, the center of large guide bar <b>103</b> is located at position (<b>10</b>,<b>5</b>) while the center of small guide bar <b>105</b> is located at position (<b>8</b>,<b>10</b>). The code requires a white space of a single code element around the code (1 unit in the code coordinate system). Multiple visual codes may be printed next to each other, for example arranged in a grid. A white space of a single code element around two neighboring codes (1 unit in the code coordinate system) is required.</p>
<p id="p-0036" num="0035">Next, with reference to <figref idref="DRAWINGS">FIG. 2</figref>, shown is a flowchart depicting the steps utilized by a camera-equipped mobile device to decode visual code <b>101</b>. First, the image captured by the digital camera is corrected for radial distortion in step <b>201</b>. The image obtained from the digital camera typically shows some amount of barrel distortion. However, radial lens distortion is less an issue with newer phone cameras, especially if the code only occupies a small area of the image. It is corrected by shifting each pixel radially towards the center of the image. The displacement only depends on the distance of the pixel from the image center and not on the particular image to be corrected. The following correction function produces adequate results (w and h are the pixel width and pixel height of the image, respectively, r is the distance from the image center, and κ is a constant that reflects the amount of radial distortion of the lens):</p>
<p id="p-0037" num="0036">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
  <mrow>
    <mi>r</mi>
    <mo>=</mo>
    <msqrt>
      <mrow>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>x</mi>
                <mi>distorted</mi>
              </msub>
              <mo>-</mo>
              <mrow>
                <mi>w</mi>
                <mo>/</mo>
                <mn>2</mn>
              </mrow>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
        <mo>+</mo>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>y</mi>
                <mi>distorted</mi>
              </msub>
              <mo>-</mo>
              <mrow>
                <mi>h</mi>
                <mo>/</mo>
                <mn>2</mn>
              </mrow>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
      </mrow>
    </msqrt>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00001-2" num="00001.2">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>x</mi>
      <mi>undistorted</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>x</mi>
              <mi>distorted</mi>
            </msub>
            <mo>-</mo>
            <mrow>
              <mi>w</mi>
              <mo>/</mo>
              <mn>2</mn>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mn>1</mn>
            <mo>+</mo>
            <mrow>
              <mi>κ</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msup>
                <mi>r</mi>
                <mn>2</mn>
              </msup>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
        <mi>w</mi>
        <mo>/</mo>
        <mn>2</mn>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00001-3" num="00001.3">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>y</mi>
      <mi>undistorted</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>y</mi>
              <mi>distorted</mi>
            </msub>
            <mo>-</mo>
            <mrow>
              <mi>h</mi>
              <mo>/</mo>
              <mn>2</mn>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mn>1</mn>
            <mo>+</mo>
            <mrow>
              <mi>κ</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msup>
                <mi>r</mi>
                <mn>2</mn>
              </msup>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
        <mi>h</mi>
        <mo>/</mo>
        <mn>2</mn>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<br/>
For the integrated camera of the Nokia 7650, κ=6×10<sup>−7 </sup>was found acceptable by manual testing. For the newer Nokia 6600, 7610, and 6630, no correction was necessary. Even for the Nokia 7650, code recognition works without correction.
</p>
<p id="p-0038" num="0037">Step <b>201</b> is optional, because a single visual code typically only covers a small area of the camera image. In this case, radial lens distortion is not significant. However, for some applications, like those involving precise selection of items in the camera image, this step may increase accuracy.</p>
<p id="p-0039" num="0038">Next, the image undergoes grayscaling and adaptive thresholding in step <b>203</b> because the three color channels in the image often differ in their sharpness and contrast quality. Therefore, the algorithm uses the formula gray (red+green)/2 instead of the more straightforward version gray=(red+green+blue)/3 or the ITU-standardized formula for luminance Y=0.2126 red+0.7152 green+0.0722 blue. This formula is computationally efficient and produces an adequate starting point for thresholding.</p>
<p id="p-0040" num="0039">An adaptive method is taken to produce a black-and-white version of the gray scaled image, because the brightness of the camera image is not constant and the printed code may be unevenly illuminated. The algorithm uses a (weighted) moving average of the gray values while traversing the image in a snake-like fashion. The average g<sub>s</sub>(n) is updated according to the formula:</p>
<p id="p-0041" num="0040">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
  <mrow>
    <msub>
      <mi>g</mi>
      <mi>s</mi>
    </msub>
    <mo>⁡</mo>
    <mrow>
      <mo>(</mo>
      <mi>n</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <msub>
          <mi>g</mi>
          <mi>s</mi>
        </msub>
        <mo>⁡</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>n</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>·</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mfrac>
            <mn>1</mn>
            <mi>s</mi>
          </mfrac>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>+</mo>
    <msub>
      <mi>p</mi>
      <mi>r</mi>
    </msub>
  </mrow>
</mrow>
</math>
</maths>
<br/>
with p<sub>n </sub>denoting the gray value of the current pixel and s the width of the moving average. g<sub>s </sub>is initialized with <sub>s</sub>(0)=½CS g, where c is the maximum possible gray value. The color of the thresholded pixel T(n) is then chosen based on the formula:
</p>
<p id="p-0042" num="0041">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>T</mi>
    <mo>⁡</mo>
    <mrow>
      <mo>(</mo>
      <mi>n</mi>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mo>{</mo>
    <mtable>
      <mtr>
        <mtd>
          <mrow>
            <mn>1</mn>
            <mo>,</mo>
            <mrow>
              <mrow>
                <mi>if</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>⁢</mo>
                <msub>
                  <mi>p</mi>
                  <mi>n</mi>
                </msub>
              </mrow>
              <mo>&lt;</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>g</mi>
                      <mi>s</mi>
                    </msub>
                    <mo>⁡</mo>
                    <mrow>
                      <mo>(</mo>
                      <mi>n</mi>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mi>s</mi>
                </mfrac>
                <mo>·</mo>
                <mfrac>
                  <mrow>
                    <mn>100</mn>
                    <mo>-</mo>
                    <mi>t</mi>
                  </mrow>
                  <mn>100</mn>
                </mfrac>
              </mrow>
            </mrow>
          </mrow>
        </mtd>
      </mtr>
      <mtr>
        <mtd>
          <mrow>
            <mn>0</mn>
            <mo>,</mo>
            <mi>otherwise</mi>
          </mrow>
        </mtd>
      </mtr>
    </mtable>
  </mrow>
</mrow>
</math>
</maths>
<br/>
The recommended values for t and s are t=15 and
</p>
<p id="p-0043" num="0042">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>s</mi>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mn>8</mn>
      </mfrac>
      <mo>⁢</mo>
      <mi>w</mi>
    </mrow>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
where w is the width of the image.
</p>
<p id="p-0044" num="0043">After the image has undergone grayscaling in step <b>203</b>, the algorithm next attempts to identify and label the different regions of the image in step <b>205</b>. This step consists of finding regions of neighboring black pixels, counting them, and assigning a number to each. The algorithm used is a well known two-phase method. In the first phase, the image is traversed row by row, assigning preliminary labels to the regions found. During this process, it may happen that two regions with different labels turn out to be in fact the same region. In this case, the equivalence of the two temporary labels is stored in a table. The second phase resolves the equivalences by merging the corresponding regions and assigns a final label to each region.</p>
<p id="p-0045" num="0044">Next, the algorithm calculates the different regions' shapes and orientations in step <b>207</b>. In order to identify candidates for orientation bars among the regions found, the notion of second-order moments is used. The second-order moments of a region consisting of the set of pixels R and having the center of gravity ( <o ostyle="single">x</o>, <o ostyle="single">y</o>) are defined as follows:</p>
<p id="p-0046" num="0045">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>μ</mi>
      <mi>xx</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <mo></mo>
          <mi>R</mi>
          <mo></mo>
        </mrow>
      </mfrac>
      <mo>⁢</mo>
      <mrow>
        <munder>
          <mo>∑</mo>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>x</mi>
                <mo>,</mo>
                <mi>y</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>∈</mo>
            <mi>R</mi>
          </mrow>
        </munder>
        <mo>⁢</mo>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>x</mi>
              <mo>-</mo>
              <mover>
                <mi>x</mi>
                <mi>_</mi>
              </mover>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00005-2" num="00005.2">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>μ</mi>
      <mi>yy</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <mo></mo>
          <mi>R</mi>
          <mo></mo>
        </mrow>
      </mfrac>
      <mo>⁢</mo>
      <mrow>
        <munder>
          <mo>∑</mo>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>x</mi>
                <mo>,</mo>
                <mi>y</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>∈</mo>
            <mi>R</mi>
          </mrow>
        </munder>
        <mo>⁢</mo>
        <msup>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>y</mi>
              <mo>-</mo>
              <mover>
                <mi>y</mi>
                <mi>_</mi>
              </mover>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mn>2</mn>
        </msup>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00005-3" num="00005.3">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>μ</mi>
      <mi>xy</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <mo></mo>
          <mi>R</mi>
          <mo></mo>
        </mrow>
      </mfrac>
      <mo>⁢</mo>
      <mrow>
        <munder>
          <mo>∑</mo>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>x</mi>
                <mo>,</mo>
                <mi>y</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>∈</mo>
            <mi>R</mi>
          </mrow>
        </munder>
        <mo>⁢</mo>
        <mrow>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>x</mi>
              <mo>-</mo>
              <mover>
                <mi>x</mi>
                <mi>_</mi>
              </mover>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mo>⁢</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>y</mi>
              <mo>-</mo>
              <mover>
                <mi>y</mi>
                <mi>_</mi>
              </mover>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00005-4" num="00005.4">
<math overflow="scroll">
  <mrow>
    <mi>where</mi>
    <mo>,</mo>
    <mstyle>
      <mtext>
</mtext>
    </mstyle>
    <mo>⁢</mo>
    <mrow>
      <mover>
        <mi>x</mi>
        <mi>_</mi>
      </mover>
      <mo>=</mo>
      <mrow>
        <mfrac>
          <mn>1</mn>
          <mrow>
            <mo></mo>
            <mi>R</mi>
            <mo></mo>
          </mrow>
        </mfrac>
        <mo>⁢</mo>
        <mrow>
          <munder>
            <mo>∑</mo>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>x</mi>
                  <mo>,</mo>
                  <mi>y</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>∈</mo>
              <mi>R</mi>
            </mrow>
          </munder>
          <mo>⁢</mo>
          <mi>x</mi>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00005-5" num="00005.5">
<math overflow="scroll">
  <mrow>
    <mover>
      <mi>y</mi>
      <mi>_</mi>
    </mover>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <mo></mo>
          <mi>R</mi>
          <mo></mo>
        </mrow>
      </mfrac>
      <mo>⁢</mo>
      <mrow>
        <munder>
          <mo>∑</mo>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>x</mi>
                <mo>,</mo>
                <mi>y</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>∈</mo>
            <mi>R</mi>
          </mrow>
        </munder>
        <mo>⁢</mo>
        <mi>y</mi>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
</p>
<p id="p-0047" num="0046">From these moments, an ellipsis E={(x,y)|dx2+2exy+fy2≦1} that has the same major and minor axis as the region can be defined by setting:</p>
<p id="p-0048" num="0047">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mrow>
  <mrow>
    <mo>(</mo>
    <mtable>
      <mtr>
        <mtd>
          <mi>d</mi>
        </mtd>
        <mtd>
          <mi>e</mi>
        </mtd>
      </mtr>
      <mtr>
        <mtd>
          <mi>e</mi>
        </mtd>
        <mtd>
          <mi>f</mi>
        </mtd>
      </mtr>
    </mtable>
    <mo>)</mo>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mrow>
        <mrow>
          <mn>4</mn>
          <mo>⁢</mo>
          <msub>
            <mi>μ</mi>
            <mi>xx</mi>
          </msub>
          <mo>⁢</mo>
          <msub>
            <mi>μ</mi>
            <mi>yy</mi>
          </msub>
        </mrow>
        <mo>-</mo>
        <msubsup>
          <mi>μ</mi>
          <mi>xy</mi>
          <mn>2</mn>
        </msubsup>
      </mrow>
    </mfrac>
    <mo>⁢</mo>
    <mrow>
      <mo>(</mo>
      <mtable>
        <mtr>
          <mtd>
            <msub>
              <mi>μ</mi>
              <mi>yy</mi>
            </msub>
          </mtd>
          <mtd>
            <mrow>
              <mo>-</mo>
              <msub>
                <mi>μ</mi>
                <mi>xy</mi>
              </msub>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>-</mo>
              <msub>
                <mi>μ</mi>
                <mi>xy</mi>
              </msub>
            </mrow>
          </mtd>
          <mtd>
            <msub>
              <mi>μ</mi>
              <mi>xx</mi>
            </msub>
          </mtd>
        </mtr>
      </mtable>
      <mo>)</mo>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
The ratio of the lengths of the major and the minor axis is a good measure for the “eccentricity” of the region: perfect circles and squares have a ratio equal to one whereas line segments have a ratio close to zero. This is very useful for identifying regions with a bar-like shape. Furthermore, the orientation vector of the major axis of the region can be calculated as:
</p>
<p id="p-0049" num="0048">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mrow>
  <mrow>
    <mrow>
      <mo>(</mo>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mo>-</mo>
                <mi>sin</mi>
              </mrow>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>α</mi>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mi>cos</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>α</mi>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
      <mo>)</mo>
    </mrow>
    <mo>⁢</mo>
    <mstyle>
      <mspace width="0.8em" height="0.8ex"/>
    </mstyle>
    <mo>⁢</mo>
    <mi>where</mi>
    <mo>⁢</mo>
    <mstyle>
      <mspace width="0.8em" height="0.8ex"/>
    </mstyle>
    <mo>⁢</mo>
    <mi>α</mi>
  </mrow>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>1</mn>
      <mn>2</mn>
    </mfrac>
    <mo>⁢</mo>
    <mrow>
      <mi>arctan</mi>
      <mo>⁡</mo>
      <mrow>
        <mo>(</mo>
        <mfrac>
          <mrow>
            <mn>2</mn>
            <mo>⁢</mo>
            <mi>e</mi>
          </mrow>
          <mrow>
            <mi>d</mi>
            <mo>-</mo>
            <mi>f</mi>
          </mrow>
        </mfrac>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0050" num="0049">Once the shapes and orientations of the different regions have been identified, the algorithm performs the step of locating and evaluating the visual codes in step <b>209</b>. Locating codes in the image is done by looking for guide bar candidates and by finding corresponding cornerstones. Guide bar candidates are found by simply selecting those regions which have a small enough axis ratio (e.g. below 0.05). For each of these candidates, the size and orientation of the region is used to estimate the expected positions of small guide bar <b>105</b> and the three cornerstones <b>107</b>, <b>109</b>, and <b>111</b>. It is then checked whether these features are actually present at the estimated positions. Cornerstone candidates found are only accepted if their axis ratio is above a certain limit (as stated earlier, theoretically they should have a ratio equal to one). If any of the code features (cornerstones <b>107</b>, <b>109</b>, and <b>111</b>, and small guide bar <b>105</b>) is not present for some guide bar candidate, this particular candidate is abandoned and the next one is examined.</p>
<p id="p-0051" num="0050">Now, with reference to <figref idref="DRAWINGS">FIG. 3</figref>, shown is a flowchart showing the steps utilized by code location step <b>209</b> of <figref idref="DRAWINGS">FIG. 2</figref>. First, the algorithm computes the projective mapping from code coordinates to image coordinates (and the inverse mapping from image coordinates to code coordinates) in step <b>303</b>. Once a guide bar candidate with all code features has been found, the algorithm assumes that this is indeed a code in the image and starts to read the encoded bits. To that end, the bit positions in the image must be determined, i.e. one needs a function that maps each code bit to an image pixel. Since the code elements are coplanar, there exists a unique homography (projective transformation matrix) between the code plane and the image plane. The projective mapping can be calculated once four corresponding points are known. In the algorithm, the correspondences are the centers of the three cornerstones <b>107</b>, <b>109</b>, and <b>111</b> plus the center of the small guide bar <b>105</b>. This induces a code coordinate system with its origin at the upper left corner of the code.</p>
<p id="p-0052" num="0051">The code coordinates of the upper left cornerstone <b>107</b>, the upper right cornerstone <b>109</b>, large guide bar <b>103</b>, and the lower left cornerstone <b>111</b> are defined to be at (<b>0</b>,<b>0</b>), (<b>10</b>,<b>0</b>), (<b>8</b>,<b>10</b>), and (<b>0</b>,<b>10</b>). It is assumed that these elements have been found at image coordinates (x<sub>i</sub>,y<sub>i</sub>), iε{0, . . . , 3}, respectively. A code coordinate (u,v), u,v ε{0, . . . , 10}, is mapped to image coordinate (x,y), where</p>
<p id="p-0053" num="0052">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>x</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mi>au</mi>
        <mo>+</mo>
        <mi>bv</mi>
        <mo>+</mo>
        <mrow>
          <mn>10</mn>
          <mo>⁢</mo>
          <mi>c</mi>
        </mrow>
      </mrow>
      <mrow>
        <mi>gu</mi>
        <mo>+</mo>
        <mi>hv</mi>
        <mo>+</mo>
        <mn>10</mn>
      </mrow>
    </mfrac>
  </mrow>
  <mo>,</mo>
  <mrow>
    <mi>y</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mi>du</mi>
        <mo>+</mo>
        <mi>ev</mi>
        <mo>+</mo>
        <mrow>
          <mn>10</mn>
          <mo>⁢</mo>
          <mi>f</mi>
        </mrow>
      </mrow>
      <mrow>
        <mi>gu</mi>
        <mo>+</mo>
        <mi>hv</mi>
        <mo>+</mo>
        <mn>10</mn>
      </mrow>
    </mfrac>
  </mrow>
</mrow>
</math>
</maths>
<br/>
The parameters a to h are calculated from the four reference points (x<sub>i</sub>, y<sub>i</sub>), iε{0, . . . , 3}, as follows:
</p>
<p id="p-0054" num="0053">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>Δ</mi>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>⁢</mo>
      <msub>
        <mi>x</mi>
        <mn>1</mn>
      </msub>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <msub>
          <mi>x</mi>
          <mn>1</mn>
        </msub>
        <mo>-</mo>
        <mrow>
          <msub>
            <mi>x</mi>
            <mn>2</mn>
          </msub>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>1</mn>
          </msub>
        </mrow>
      </mrow>
      <mo>=</mo>
      <mrow>
        <mrow>
          <msub>
            <mi>y</mi>
            <mn>1</mn>
          </msub>
          <mo>-</mo>
          <mrow>
            <msub>
              <mi>y</mi>
              <mn>2</mn>
            </msub>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>Δ</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <msub>
              <mi>x</mi>
              <mn>2</mn>
            </msub>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <msub>
              <mi>x</mi>
              <mn>3</mn>
            </msub>
            <mo>-</mo>
            <mrow>
              <msub>
                <mi>x</mi>
                <mn>2</mn>
              </msub>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>Δ</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>y</mi>
                <mn>2</mn>
              </msub>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>y</mi>
              <mn>3</mn>
            </msub>
            <mo>-</mo>
            <msub>
              <mi>y</mi>
              <mn>2</mn>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-2" num="00009.2">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>Σ</mi>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>⁢</mo>
      <mi>x</mi>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mrow>
          <mn>0.8</mn>
          <mo>⁢</mo>
          <msub>
            <mi>x</mi>
            <mn>0</mn>
          </msub>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mn>0.8</mn>
          <mo>⁢</mo>
          <msub>
            <mi>x</mi>
            <mn>1</mn>
          </msub>
        </mrow>
        <mo>+</mo>
        <msub>
          <mi>x</mi>
          <mn>2</mn>
        </msub>
        <mo>-</mo>
        <mrow>
          <msub>
            <mi>x</mi>
            <mn>3</mn>
          </msub>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>Σ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>y</mi>
        </mrow>
      </mrow>
      <mo>=</mo>
      <mrow>
        <mrow>
          <mn>0.8</mn>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>0</mn>
          </msub>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mn>0.8</mn>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>1</mn>
          </msub>
        </mrow>
        <mo>+</mo>
        <msub>
          <mi>y</mi>
          <mn>2</mn>
        </msub>
        <mo>-</mo>
        <msub>
          <mi>y</mi>
          <mn>3</mn>
        </msub>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-3" num="00009.3">
<math overflow="scroll">
  <mrow>
    <mi>g</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mrow>
          <mi>Σ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>x</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>2</mn>
          </msub>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mi>Σ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>y</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>x</mi>
            <mn>2</mn>
          </msub>
        </mrow>
      </mrow>
      <mrow>
        <mrow>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>x</mi>
            <mn>1</mn>
          </msub>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>2</mn>
          </msub>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>1</mn>
          </msub>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>x</mi>
            <mn>2</mn>
          </msub>
        </mrow>
      </mrow>
    </mfrac>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-4" num="00009.4">
<math overflow="scroll">
  <mrow>
    <mi>h</mi>
    <mo>=</mo>
    <mfrac>
      <mrow>
        <mrow>
          <mi>Σ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>y</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>x</mi>
            <mn>1</mn>
          </msub>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mi>Σ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>x</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>1</mn>
          </msub>
        </mrow>
      </mrow>
      <mrow>
        <mrow>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>x</mi>
            <mn>1</mn>
          </msub>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>2</mn>
          </msub>
        </mrow>
        <mo>-</mo>
        <mrow>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>y</mi>
            <mn>1</mn>
          </msub>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>x</mi>
            <mn>2</mn>
          </msub>
        </mrow>
      </mrow>
    </mfrac>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-5" num="00009.5">
<math overflow="scroll">
  <mrow>
    <mi>a</mi>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>x</mi>
        <mn>1</mn>
      </msub>
      <mo>-</mo>
      <msub>
        <mi>x</mi>
        <mn>0</mn>
      </msub>
      <mo>+</mo>
      <msub>
        <mi>gx</mi>
        <mn>1</mn>
      </msub>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-6" num="00009.6">
<math overflow="scroll">
  <mrow>
    <mi>b</mi>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>x</mi>
        <mn>3</mn>
      </msub>
      <mo>-</mo>
      <msub>
        <mi>x</mi>
        <mn>0</mn>
      </msub>
      <mo>+</mo>
      <msub>
        <mi>hx</mi>
        <mn>3</mn>
      </msub>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-7" num="00009.7">
<math overflow="scroll">
  <mrow>
    <mi>c</mi>
    <mo>=</mo>
    <mrow>
      <mrow>
        <msub>
          <mi>x</mi>
          <mn>0</mn>
        </msub>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>f</mi>
      </mrow>
      <mo>=</mo>
      <msub>
        <mi>y</mi>
        <mn>0</mn>
      </msub>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-8" num="00009.8">
<math overflow="scroll">
  <mrow>
    <mi>d</mi>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>y</mi>
        <mn>1</mn>
      </msub>
      <mo>-</mo>
      <msub>
        <mi>y</mi>
        <mn>0</mn>
      </msub>
      <mo>+</mo>
      <msub>
        <mi>gy</mi>
        <mn>1</mn>
      </msub>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00009-9" num="00009.9">
<math overflow="scroll">
  <mrow>
    <mi>e</mi>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>y</mi>
        <mn>3</mn>
      </msub>
      <mo>-</mo>
      <msub>
        <mi>y</mi>
        <mn>0</mn>
      </msub>
      <mo>+</mo>
      <msub>
        <mi>hy</mi>
        <mn>3</mn>
      </msub>
    </mrow>
  </mrow>
</math>
</maths>
<br/>
The inverse mapping to the one described above is important for applications which select items visible in the image. Given a pixel coordinate, its corresponding coordinate in the coordinate system induced by the code can thus be obtained. An image coordinate (x,y) is mapped to a code coordinate (u,v) as follows:
</p>
<p id="p-0055" num="0054">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
  <mrow>
    <mrow>
      <mi>u</mi>
      <mo>=</mo>
      <mrow>
        <mn>10</mn>
        <mo>·</mo>
        <mfrac>
          <mrow>
            <mi>Ax</mi>
            <mo>+</mo>
            <mi>By</mi>
            <mo>+</mo>
            <mi>C</mi>
          </mrow>
          <mrow>
            <mi>Gx</mi>
            <mo>+</mo>
            <mi>Hy</mi>
            <mo>+</mo>
            <mi>I</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <mi>v</mi>
      <mo>=</mo>
      <mrow>
        <mn>10</mn>
        <mo>·</mo>
        <mfrac>
          <mrow>
            <mi>Dx</mi>
            <mo>+</mo>
            <mi>Ey</mi>
            <mo>+</mo>
            <mi>F</mi>
          </mrow>
          <mrow>
            <mi>Gx</mi>
            <mo>+</mo>
            <mi>Hy</mi>
            <mo>+</mo>
            <mi>I</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mi>with</mi>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-2" num="00010.2">
<math overflow="scroll">
  <mrow>
    <mi>A</mi>
    <mo>=</mo>
    <mrow>
      <mi>e</mi>
      <mo>-</mo>
      <mi>fh</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-3" num="00010.3">
<math overflow="scroll">
  <mrow>
    <mi>B</mi>
    <mo>=</mo>
    <mrow>
      <mi>ch</mi>
      <mo>-</mo>
      <mi>b</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-4" num="00010.4">
<math overflow="scroll">
  <mrow>
    <mi>C</mi>
    <mo>=</mo>
    <mrow>
      <mi>bf</mi>
      <mo>-</mo>
      <mi>ce</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-5" num="00010.5">
<math overflow="scroll">
  <mrow>
    <mi>D</mi>
    <mo>=</mo>
    <mrow>
      <mi>fg</mi>
      <mo>-</mo>
      <mi>d</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-6" num="00010.6">
<math overflow="scroll">
  <mrow>
    <mi>E</mi>
    <mo>=</mo>
    <mrow>
      <mi>a</mi>
      <mo>-</mo>
      <mi>cg</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-7" num="00010.7">
<math overflow="scroll">
  <mrow>
    <mi>F</mi>
    <mo>=</mo>
    <mrow>
      <mi>cd</mi>
      <mo>-</mo>
      <mi>af</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-8" num="00010.8">
<math overflow="scroll">
  <mrow>
    <mi>G</mi>
    <mo>=</mo>
    <mrow>
      <mi>dh</mi>
      <mo>-</mo>
      <mi>eg</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-9" num="00010.9">
<math overflow="scroll">
  <mrow>
    <mi>H</mi>
    <mo>=</mo>
    <mrow>
      <mi>bg</mi>
      <mo>-</mo>
      <mi>ah</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00010-10" num="00010.10">
<math overflow="scroll">
  <mrow>
    <mi>I</mi>
    <mo>=</mo>
    <mrow>
      <mi>ae</mi>
      <mo>-</mo>
      <mi>bd</mi>
    </mrow>
  </mrow>
</math>
</maths>
</p>
<p id="p-0056" num="0055">The algorithm next computes the rotation angle of the visual code in the image in step <b>305</b>. It takes on values between 0° and 359°. A code that has the same orientation as the image has rotation angle 0°. The rotation is determined by mapping the points (<b>0</b>,<b>0</b>) and (<b>100</b>,<b>0</b>) from the code coordinate system to the image coordinate system, resulting in the image points (a<sub>x</sub>, a<sub>y</sub>), and (b<sub>x</sub>, b<sub>y</sub>). The rotation angle is then determined as:</p>
<p id="p-0057" num="0056">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mrow>
  <mi>α</mi>
  <mo>=</mo>
  <mrow>
    <mi>arctan</mi>
    <mo>⁢</mo>
    <mrow>
      <mrow>
        <mo>{</mo>
        <mrow>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>a</mi>
                <mi>y</mi>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>b</mi>
                <mi>y</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
          <mo>/</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <msub>
                <mi>a</mi>
                <mi>x</mi>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>b</mi>
                <mi>x</mi>
              </msub>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>}</mo>
      </mrow>
      <mo>·</mo>
      <mfrac>
        <mn>180</mn>
        <mi>π</mi>
      </mfrac>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
though several special cases have to be considered.
</p>
<p id="p-0058" num="0057">After the rotation angle of the visual code has been computer, the algorithm next determines the horizontal and vertical tilting in step <b>307</b>. The term “tilting” denotes the amount of inclination of the image plane relative to the code plane. “Horizontal tilting” is the amount of inclination of the image plane relative to the horizontal axis of the visual code. Analogously, “vertical tilting” denotes the amount of inclination of the image plane relative to the vertical axis of the visual code. A tilting value of 1 means no tilting, a value less than 1 means tilting towards the left/top, and a value greater than 1 means tilting towards the right/bottom. The tilting parameters are computed as follows: Four image points with constant distance h (image height) from the image center point in the axis directions of the code coordinate system are computed. They are mapped to corresponding code coordinates and their distances to the center point are computed. The ratios of these distances determine the tilting parameters t<sub>x </sub>and t<sub>y</sub>. They are independent of the size of the code in the image. From these ratios the tilting angles t<sub>x</sub><sup>α</sup> and $t<sub>y</sub><sup>α</sup> can be determined, if a constant r is known that depends on the camera parameters. It can be obtained experimentally.</p>
<p id="p-0059" num="0058">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
  <mrow>
    <mi>i</mi>
    <mo>=</mo>
    <mrow>
      <mi>image</mi>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>⁢</mo>
      <mi>coordinates</mi>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>⁢</mo>
      <mi>of</mi>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>⁢</mo>
      <mi>the</mi>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>⁢</mo>
      <mi>image</mi>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>⁢</mo>
      <mi>center</mi>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.8em" height="0.8ex"/>
      </mstyle>
      <mo>⁢</mo>
      <mi>point</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-2" num="00012.2">
<math overflow="scroll">
  <mrow>
    <mi>c</mi>
    <mo>=</mo>
    <mrow>
      <mi>CodeCoordinates</mi>
      <mo>⁡</mo>
      <mrow>
        <mo>(</mo>
        <mi>i</mi>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-3" num="00012.3">
<math overflow="scroll">
  <mrow>
    <mi>x</mi>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mi>ImageCoordinates</mi>
        <mo>⁡</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>c</mi>
            <mo>+</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mn>1</mn>
                <mo>,</mo>
                <mn>0</mn>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>-</mo>
      <mi>i</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-4" num="00012.4">
<math overflow="scroll">
  <mrow>
    <mi>y</mi>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mi>ImageCoordinates</mi>
        <mo>⁡</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>c</mi>
            <mo>+</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mn>0</mn>
                <mo>,</mo>
                <mn>1</mn>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
      <mo>-</mo>
      <mi>i</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-5" num="00012.5">
<math overflow="scroll">
  <mrow>
    <mi>u</mi>
    <mo>=</mo>
    <mrow>
      <mi>x</mi>
      <mo>/</mo>
      <mrow>
        <mo></mo>
        <mi>x</mi>
        <mo></mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-6" num="00012.6">
<math overflow="scroll">
  <mrow>
    <mi>v</mi>
    <mo>=</mo>
    <mrow>
      <mi>y</mi>
      <mo>/</mo>
      <mrow>
        <mo></mo>
        <mi>y</mi>
        <mo></mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-7" num="00012.7">
<math overflow="scroll">
  <mrow>
    <mi>l</mi>
    <mo>=</mo>
    <mrow>
      <mo></mo>
      <mrow>
        <mrow>
          <mi>CodeCoordinates</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>i</mi>
              <mo>-</mo>
              <mi>hu</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mi>c</mi>
      </mrow>
      <mo></mo>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-8" num="00012.8">
<math overflow="scroll">
  <mrow>
    <mi>r</mi>
    <mo>=</mo>
    <mrow>
      <mo></mo>
      <mrow>
        <mrow>
          <mi>CodeCoordinates</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>i</mi>
              <mo>+</mo>
              <mi>hu</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mi>c</mi>
      </mrow>
      <mo></mo>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-9" num="00012.9">
<math overflow="scroll">
  <mrow>
    <mi>t</mi>
    <mo>=</mo>
    <mrow>
      <mo></mo>
      <mrow>
        <mrow>
          <mi>CodeCoordinates</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>i</mi>
              <mo>-</mo>
              <mi>hv</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mi>c</mi>
      </mrow>
      <mo></mo>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-10" num="00012.10">
<math overflow="scroll">
  <mrow>
    <mi>b</mi>
    <mo>=</mo>
    <mrow>
      <mo></mo>
      <mrow>
        <mrow>
          <mi>CodeCoordinates</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>i</mi>
              <mo>+</mo>
              <mi>hv</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>-</mo>
        <mi>c</mi>
      </mrow>
      <mo></mo>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-11" num="00012.11">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>t</mi>
      <mi>x</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mi>l</mi>
      <mo>/</mo>
      <mi>r</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-12" num="00012.12">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>t</mi>
      <mi>y</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mi>t</mi>
      <mo>/</mo>
      <mi>b</mi>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-13" num="00012.13">
<math overflow="scroll">
  <mrow>
    <msubsup>
      <mi>t</mi>
      <mi>x</mi>
      <mi>α</mi>
    </msubsup>
    <mo>=</mo>
    <mrow>
      <mi>arctan</mi>
      <mo>⁡</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>r</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mfrac>
            <mrow>
              <msub>
                <mi>t</mi>
                <mi>x</mi>
              </msub>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
            <mrow>
              <msub>
                <mi>t</mi>
                <mi>x</mi>
              </msub>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </mfrac>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00012-14" num="00012.14">
<math overflow="scroll">
  <mrow>
    <msubsup>
      <mi>t</mi>
      <mi>y</mi>
      <mi>α</mi>
    </msubsup>
    <mo>=</mo>
    <mrow>
      <mi>arctan</mi>
      <mo>⁡</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>r</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mfrac>
            <mrow>
              <msub>
                <mi>t</mi>
                <mi>y</mi>
              </msub>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
            <mrow>
              <msub>
                <mi>t</mi>
                <mi>y</mi>
              </msub>
              <mo>+</mo>
              <mn>1</mn>
            </mrow>
          </mfrac>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
</p>
<p id="p-0060" num="0059">Next, in step <b>308</b>, the algorithm computes the distance of the code from the camera. If the real code size S<sub>real </sub>(the distance between the centers of the upper left and the upper right cornerstones of the printed code) and the camera's focal distance f are known, then the metric distance from the camera to the untilted visual code can be computed from s<sub>image </sub>(the pixel distance between the centers of the upper cornerstones in the camera image) using the pinhole model as (w<sub>image </sub>is the pixel width of the image)</p>
<p id="p-0061" num="0060">
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>D</mi>
    <mrow>
      <mi>camera</mi>
      <mo>,</mo>
      <mi>code</mi>
    </mrow>
  </msub>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mrow>
        <msub>
          <mi>s</mi>
          <mi>real</mi>
        </msub>
        <mo>×</mo>
        <mi>f</mi>
      </mrow>
      <mrow>
        <msub>
          <mi>s</mi>
          <mi>image</mi>
        </msub>
        <mo>/</mo>
        <msub>
          <mi>w</mi>
          <mi>image</mi>
        </msub>
      </mrow>
    </mfrac>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0062" num="0061">Since s<sub>real </sub>and f are typically not known and we want to use the code distance for interaction purposes rather than measuring its exact value, we define the distance in terms of the size of the visual code in the image. We set d<sub>camera,code</sub>:=100 for the farthest distance at which a code is recognized in view finder mode. For typical devices this is the case when s<sub>image</sub>=25 pixels, which amounts to 15.625% of the image width. Hence the distance is computed as</p>
<p id="p-0063" num="0062">
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>d</mi>
    <mrow>
      <mi>camera</mi>
      <mo>,</mo>
      <mi>code</mi>
    </mrow>
  </msub>
  <mo>=</mo>
  <mrow>
    <mfrac>
      <mn>15.625</mn>
      <mrow>
        <msub>
          <mi>s</mi>
          <mi>image</mi>
        </msub>
        <mo>/</mo>
        <msub>
          <mi>w</mi>
          <mi>image</mi>
        </msub>
      </mrow>
    </mfrac>
    <mo>.</mo>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0064" num="0063">Should S<sub>real </sub>and f be known, the metric distance can still be computed from d<sub>camera,code</sub>.</p>
<p id="p-0065" num="0064">It should be obvious to one skilled in the art that steps <b>303</b>, <b>305</b>, <b>307</b>, <b>308</b>, and <b>309</b> can be performed in any order because each step is discrete and outputs a different parameter or result.</p>
<p id="p-0066" num="0065">Once the positions of the guide bars <b>103</b> and <b>105</b> and cornerstones <b>107</b>, <b>109</b>, and <b>111</b> have been identified and a suitable projective mapping (from code coordinates to image coordinates) has been computed, the algorithm reads the encoded bits in step <b>309</b> by simply testing the appropriate pixels (x,y) of the black-and-white image, using code coordinates (u,v) with u,vε{0, . . . , 10} and (x,y)=ImageCoordinates((u,v)).</p>
<p id="p-0067" num="0066">Error detection may optionally be performed in step <b>311</b>. The (<b>83</b>,<b>76</b>,<b>3</b>) linear code employed encodes a 76-bit ID to an 83-bit codeword. The resulting hamming distance is three, which should be sufficient to identify wrong codes with a high probability. Alternatively, other error detecting or error correcting codes, such as Reed-Solomon codes, might be used for increased reliability and robustness against bit errors. This might come at the expense of slightly higher processing times and a lower number of bits actually available for data storage. As an example, 15 bits of the raw 83 bits might be used for Reed-Solomon error correcting codes, leaving 68 bits for data storage.</p>
<p id="h-0008" num="0000">Applications of the Algorithm</p>
<p id="h-0009" num="0000">A. Rotation Angle and Tilting Determination</p>
<p id="p-0068" num="0067">In addition to the code coordinate of the image center, the recognition algorithm provides the orientation of the mobile device relative to the code. In particular, the algorithm provides the rotation of the code in the image, the viewing position (from left, from right, from top, from bottom), the amount of tilting of the image plane relative to the code plane, and the distance from the code to the camera. The projective mapping (planar homography) between the image plane and the code plane that the recognition algorithm implements, allows the mapping of arbitrary points given in image coordinates to corresponding points in code coordinates and vice versa.
<br/>
B. Item Selection
<br/>
The code coordinate system and the orientation determination features enable a number of interesting application scenarios involving the selection of items in printed documents. An example is the selection of articles depicted in printed mail-order catalogs. A single code is sufficient as long as the code coordinates of the items are known. This can be achieved by content creation software that creates “image maps” for the code and its associated sensitive areas. Articles in mail-order catalogs can thus be scanned, stored in the mobile device, and current information concerning the articles can be retrieved. The order can then be placed using the wireless communication channel provided by the mobile device.
</p>
<p id="p-0069" num="0068">For example, in <figref idref="DRAWINGS">FIG. 4</figref>, shown is an example of a printed document containing visual codes. The regions on the map and the entries in the table are individually mapped to different URLs and thus associated to online content.</p>
<p id="p-0070" num="0069">In newspapers, online background information to articles, advertisements, or information which quickly gets obsolete, like weather forecasts or stock quotes, can be linked via visual codes. By using the code coordinate system, a single code located near several items of interest suffices. The exact area aimed at, like the local weather forecast, can be determined via the projective mapping by computing the vertical and horizontal distances to the visual code element. In a table of stock quotes, the row and column aimed at, and thus the desired information, can be obtained in the same manner. <figref idref="DRAWINGS">FIG. 4</figref> shows a cut-out of a newspaper page containing a geographic map with the current weather data and a table containing the snow heights for various regions. The dotted lines drawn on the newspaper page indicate sensitive areas that are individually linked to online content. Such a mapping can be created with suitable content creation software. As a prototype, we developed a mapping tool which allows to draw the areas into the image and to specify the associated URL for each region. The tool computes the coordinates of these areas in the coordinate systems of the codes present in the image, and stores this data as an XML file. Multiple URLs can be specified for each region by taking into account further parameters that are provided by the code system, such as rotation and tilting. As shown in <figref idref="DRAWINGS">FIG. 4</figref>, a single code suffices to select the area and table entries, respectively. By rotating the mobile device, different aspects of the online information can be chosen: In the example, vertical orientation shows the snow depth for the selected area, while a slight rotation shows the current temperature.</p>
<p id="p-0071" num="0070">As another application, visual codes can be used in mobile marketing to automate the input of coupon numbers into the mobile device. An example are SMS campaigns of soft-drink producers: The soft-drink bottles contain numbers (represented by visual codes), which can be sent as an SMS and thus allow the participation in lotteries. On TV, visual codes could be used for interactive input of answers to multiple choice questions in ad hoc surveys and quizzes or for the selection of candidates in a TV show. The code coordinates and the orientation of the device can serve as additional input parameters (in addition to the code value), for example to answer a multiple choice question.</p>
<p id="p-0072" num="0071">Further application possibilities concern simplifying the interaction with the mobile device itself. Telephone numbers, for example, can be encoded as visual codes and printed on business cards or in phone books. Depending on the orientation of the code in the image, the device either immediately calls the encoded phone number, stores the virtual business card in the device's memory, or—for mobile phone numbers—starts the device's SMS editing application. Parts of the device's user interface, like deeply nested menus, can be externalized by associating them with a visual code and printing them on paper or showing them on a large screen.</p>
<p id="p-0073" num="0072">A further possible application scenario of the presented invention is adding online content and operations to printed documents, like flyers, magazines, etc. An example online operation is selling tickets for events, theaters, or movies via the mobile phone.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 5</figref>. shows a page of a printed television magazine, which is equipped with embedded visual codes. By aiming at the printed visual codes, movie plot outlines can be shown, a list of the cast can be given, movie ratings can be displayed or submitted, movie trailers can be started, and tickets can be directly booked via the mobile phone.</p>
<p id="h-0010" num="0000">C. Form Entry</p>
<p id="p-0075" num="0074">Visual codes can also be combined with printed forms for the simplification of form input, in which the mobile device provides a wireless communication channel for conveniently and cheaply sending back the entered data. The fields of these forms can be check boxes, rulers, and canvas fields for free-hand textual or graphical input. Using the frame surrounding the form as a marker, the individual form elements can be precisely localized. The projective mapping of the recognition algorithm allows to “unwarp” parts of the image as well as the image as a whole.</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. 6</figref> shows an example form for the entry of calendar events. The recognition algorithm first recognizes the code and locates the edges of the frame. Then the checkboxes located in the form are scanned for check marks. Finally, the canvas fields are “unwarped”, i.e. their tilting is removed as shown in the lower part of <figref idref="DRAWINGS">FIG. 6</figref>, and stored.</p>
<p id="p-0077" num="0076">To define the forms, a markup language is used, which describes the structure of a form, including the positions and kinds of input elements it contains. The code is first used as a key to retrieve the form description from an online server. After interpreting the retrieved markup, user input can be categorized according to field type and sent back to the server.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001 MATH-US-00001-2 MATH-US-00001-3" nb-file="US07296747-20071120-M00001.NB">
<img id="EMI-M00001" he="12.70mm" wi="76.20mm" file="US07296747-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US07296747-20071120-M00002.NB">
<img id="EMI-M00002" he="6.35mm" wi="76.20mm" file="US07296747-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US07296747-20071120-M00003.NB">
<img id="EMI-M00003" he="10.24mm" wi="76.20mm" file="US07296747-20071120-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US07296747-20071120-M00004.NB">
<img id="EMI-M00004" he="6.01mm" wi="76.20mm" file="US07296747-20071120-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005 MATH-US-00005-2 MATH-US-00005-3 MATH-US-00005-4 MATH-US-00005-5" nb-file="US07296747-20071120-M00005.NB">
<img id="EMI-M00005" he="48.34mm" wi="76.20mm" file="US07296747-20071120-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US07296747-20071120-M00006.NB">
<img id="EMI-M00006" he="8.13mm" wi="76.20mm" file="US07296747-20071120-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US07296747-20071120-M00007.NB">
<img id="EMI-M00007" he="7.45mm" wi="76.20mm" file="US07296747-20071120-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US07296747-20071120-M00008.NB">
<img id="EMI-M00008" he="6.69mm" wi="76.20mm" file="US07296747-20071120-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009 MATH-US-00009-2 MATH-US-00009-3 MATH-US-00009-4 MATH-US-00009-5 MATH-US-00009-6 MATH-US-00009-7 MATH-US-00009-8 MATH-US-00009-9" nb-file="US07296747-20071120-M00009.NB">
<img id="EMI-M00009" he="40.22mm" wi="76.20mm" file="US07296747-20071120-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010 MATH-US-00010-2 MATH-US-00010-3 MATH-US-00010-4 MATH-US-00010-5 MATH-US-00010-6 MATH-US-00010-7 MATH-US-00010-8 MATH-US-00010-9 MATH-US-00010-10" nb-file="US07296747-20071120-M00010.NB">
<img id="EMI-M00010" he="38.78mm" wi="76.20mm" file="US07296747-20071120-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US07296747-20071120-M00011.NB">
<img id="EMI-M00011" he="6.01mm" wi="76.20mm" file="US07296747-20071120-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012 MATH-US-00012-2 MATH-US-00012-3 MATH-US-00012-4 MATH-US-00012-5 MATH-US-00012-6 MATH-US-00012-7 MATH-US-00012-8 MATH-US-00012-9 MATH-US-00012-10 MATH-US-00012-11 MATH-US-00012-12 MATH-US-00012-13 MATH-US-00012-14" nb-file="US07296747-20071120-M00012.NB">
<img id="EMI-M00012" he="57.49mm" wi="76.20mm" file="US07296747-20071120-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US07296747-20071120-M00013.NB">
<img id="EMI-M00013" he="6.69mm" wi="76.20mm" file="US07296747-20071120-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014" nb-file="US07296747-20071120-M00014.NB">
<img id="EMI-M00014" he="6.69mm" wi="76.20mm" file="US07296747-20071120-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>I claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for decoding a visual code comprising:
<claim-text>capturing a visual code image comprising at least one visual code utilizing a mobile device equipped with a digital camera;</claim-text>
<claim-text>grayscaling said visual code image;</claim-text>
<claim-text>thresholding said visual code image;</claim-text>
<claim-text>identifying regions of interest in said visual code image;</claim-text>
<claim-text>calculating the orientations and shapes of the identified regions of interest within said visual code image;</claim-text>
<claim-text>locating said at least one visual code within said visual code image;</claim-text>
<claim-text>computing a first projective mapping of said at least one visual code from a visual code image coordinate system to a visual code coordinate system;</claim-text>
<claim-text>computing a second projective mapping of said at least one visual code from the visual code coordinate system to the visual code image coordinate system;</claim-text>
<claim-text>computing a rotation angle of said at least one visual code located in said visual code image;</claim-text>
<claim-text>computing horizontal and vertical tilting values of said at least one visual code;</claim-text>
<claim-text>computing a distance of said at least one visual code from said mobile device;</claim-text>
<claim-text>reading encoded bits in said at least one visual code to produce at least one decoded value; and</claim-text>
<claim-text>displaying information on the mobile device associated with at least one of the identified regions of interest based on at least one of the at least one decoded value, the first projective mapping, the second projective mapping, the rotation angle, the horizontal tilting value, the vertical tilting value, and the distance.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising correcting said visual code image for radial lens distortion prior to grayscaling said visual code image.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising performing error detection on said at least one visual code.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method for decoding a visual code according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein said error detection is performed utilizing Reed-Solomon error detection.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said at least one visual code comprises three cornerstones, a small guide bar, and a large guide bar.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method for decoding a visual code according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein an individual visual code is located by identifying said cornerstones, said small guide bar, and said large guide bar.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A method for decoding a visual code according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said small guide bar and said large bar are identified by locating regions of said visual code image which have an axis ratio within a predetermined range.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A method for decoding a visual code according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said three cornerstones and said large guide bar are located at position (<b>0</b>,<b>0</b>,)(<b>10</b>,<b>0</b>), and (<b>0</b>,<b>10</b>), and wherein the center of said large guide bar is located at position (<b>8</b>,<b>10</b>) in said visual code coordinate system.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method for decoding a visual code according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein multiple visual codes are arranged in a grid to store data across multiple visual codes and further comprising identifying said grid of codes.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said at least one visual code comprises three cornerstones, a small guide bar, and a large guide bar, and wherein an orientation of said small guide bar and said large guide bar are utilized when computing the rotation angle of said at least one visual code, computing the distance of said at least one visual code, and computing the tilting values of said at least one visual code.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein grayscaling said visual code image is performed by calculating the value of each grayscale pixel by averaging the value of the red and green pixels.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A method for decoding a visual code according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said grayscale visual code image is converted to a black and white image using a weight-moving average algorithm.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein at least one from the group comprising the rotation angle, horizontal tilting value, vertical tilting angle, and distance of said at least one visual code is utilized to select options from a menu.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said decoding occurs in real-time.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A method for decoding a visual code according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, further comprising overlaying a graphic over an image displayed on a screen of the camera wherein said overlayed graphic is geometrically aligned with objects in the image as the mobile device moves and the orientation of said at least one visual code changes.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the displayed information is retrieved from a database.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A method for decoding a visual code according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein said database associates different uniform resource locators with the displayed information.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising selecting entries from a form by altering the orientation of said mobile device to said at least one visual code.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the displayed information is at least one of a movie plot outline, a video clip, an audio file, and a movie review.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said at least one visual code is printed utilizing infrared ink and wherein said digital camera captures said at least one visual code as an at least one infrared visual code.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a target point, expressed in the visual code coordinate system of an image displayed on a screen of the camera, is utilized as a parameter to select an entry from a database.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A method for decoding a visual code according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein pointing said digital camera at said at least one visual code is facilitated by a cross hair that is displayed on a screen of said mobile device.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. A method for decoding a visual code according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein said screen of said mobile device is a touch screen, and wherein the position of said cross hair may be specified by using a stylus to specify a target point.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. A computer-readable medium storing computer-executable instructions that, when executed by a processor, cause the processor to perform a method for decoding a visual code, the method comprising:
<claim-text>capturing a visual code image comprising at least one visual code utilizing a mobile device equipped with a digital camera;</claim-text>
<claim-text>grayscaling said visual code image;</claim-text>
<claim-text>thresholding said visual code image;</claim-text>
<claim-text>identifying regions of interest in said visual code image;</claim-text>
<claim-text>calculating the orientations and shapes of the identified regions of interest within said visual code image;</claim-text>
<claim-text>locating said at least one visual code within said visual code image;</claim-text>
<claim-text>computing a first projective mapping of said at least one visual code from a visual code image coordinate system to a visual code coordinate system;</claim-text>
<claim-text>computing a second projective mapping of said at least one visual code from the visual code coordinate system to the visual code image coordinate system;</claim-text>
<claim-text>computing a rotation angle of said at least one visual code located in said visual code image;</claim-text>
<claim-text>computing horizontal and vertical tilting values of said at least one visual code;</claim-text>
<claim-text>computing a distance of said at least one visual code from said mobile device;</claim-text>
<claim-text>reading encoded bits in said at least one visual code to produce at least one decoded value; and</claim-text>
<claim-text>displaying information on the mobile device associated with at least one of the identified regions of interest based on at least one of the at least one decoded value, the first projective mapping, the second projective mapping, the rotation angle, the horizontal tilting value, the vertical tilting value, and the distance.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. A device for decoding a visual code, comprising:
<claim-text>a memory;</claim-text>
<claim-text>a digital camera;</claim-text>
<claim-text>a display; and</claim-text>
<claim-text>a processor in communication with the memory, the digital camera, and the display; wherein the processor</claim-text>
<claim-text>captures a visual code image comprising at least one visual code;</claim-text>
<claim-text>grayscales said visual code image;</claim-text>
<claim-text>thresholds said visual code image;</claim-text>
<claim-text>identifies regions of interest in said visual code image;</claim-text>
<claim-text>calculates the orientations and shapes of the identified regions of interest within said visual code image;</claim-text>
<claim-text>locates said at least one visual code within said visual code image;</claim-text>
<claim-text>computes a first projective mapping of said at least one visual code from a visual code image coordinate system to a visual code coordinate system;</claim-text>
<claim-text>computes a second projective mapping of said at least one visual code from the visual code coordinate system to the visual code image coordinate system;</claim-text>
<claim-text>computes a rotation angle of said at least one visual code located in said visual code image;</claim-text>
<claim-text>computes horizontal and vertical tilting values of said at least one visual code;</claim-text>
<claim-text>computes a distance of said at least one visual code from said mobile device;</claim-text>
<claim-text>reads encoded bits in said at least one visual code to produce at least one decoded value; and</claim-text>
<claim-text>displays information associated with at least one of the identified regions of interest based on at least one of the at least one decoded value, the first projective mapping, the second projective mapping, the rotation angle, the horizontal tilting value, the vertical tilting value, and the distance.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
