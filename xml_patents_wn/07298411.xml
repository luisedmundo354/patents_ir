<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298411-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298411</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10446057</doc-number>
<date>20030528</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2002-154399</doc-number>
<date>20020528</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>729</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>03</class>
<subclass>B</subclass>
<main-group>13</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>348345</main-classification>
<further-classification>348346</further-classification>
</classification-national>
<invention-title id="d0e71">Digital camera</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5757429</doc-number>
<kind>A</kind>
<name>Haruki</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348354</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6271883</doc-number>
<kind>B1</kind>
<name>Iijima et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348345</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2001/0010556</doc-number>
<kind>A1</kind>
<name>Sugimoto et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348345</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2002/0114015</doc-number>
<kind>A1</kind>
<name>Fujii et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358302</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>JP</country>
<doc-number>2000-330009</doc-number>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>2001-208959</doc-number>
<kind>A</kind>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>2003-315669</doc-number>
<date>20031100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>348345-346</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348349</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348351</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348354</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348350</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348352</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348353</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348341</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040001158</doc-number>
<kind>A1</kind>
<date>20040101</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Aoki</last-name>
<first-name>Shinya</first-name>
<address>
<city>Saitama-ken</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Birch, Stewart, Kolasch &amp; Birch, LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Fujifilm Corporation</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Ometz</last-name>
<first-name>David</first-name>
<department>2622</department>
</primary-examiner>
<assistant-examiner>
<last-name>Le</last-name>
<first-name>Tuan</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An operational state of C-AF processing is judged. If the operational state is judged to not be a focused state, when the operational state is a state of fine adjustment, only a range in a vicinity of a current position of a focus lens is searched, and a focused state is set. When the operational state is a state where the focus lens is being driven to a focus position, only a range in a vicinity of a focus position already been detected is searched, and the focused state is set. When the operational state is a state during searching for a peak, searching is carried out in a current driving direction from a current position of the focus lens, and the focused state is set. When the operational state is none of above states, an entire region is searched, and the focused state is set.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="163.83mm" wi="251.21mm" file="US07298411-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="205.99mm" wi="130.73mm" orientation="landscape" file="US07298411-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="252.14mm" wi="163.83mm" orientation="landscape" file="US07298411-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="248.50mm" wi="109.39mm" file="US07298411-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="189.65mm" wi="163.24mm" orientation="landscape" file="US07298411-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="194.82mm" wi="136.14mm" orientation="landscape" file="US07298411-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="245.62mm" wi="162.90mm" file="US07298411-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This application claims priority under 35 USC 119 from Japanese Patent Application No. 2002-154399, the disclosure of which is incorporated by reference herein.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to a digital camera, and in particular, to a digital camera equipped with an autofocus (AF) function which automatically carries out focal point adjustment.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">Digital cameras have become more popular in recent years. A digital camera photographs, as a still image or a dynamic image, a subject by using a solid-state image pickup system formed to include a solid-state image pickup element such as a CCD (charge coupled device) sensor or the like which picks up the subject. Such a digital camera is usually equipped with a lens system for imaging the subject onto the solid-state image pickup element. The lens system is structured to include a zoom lens which is formed by a plurality of lens groups, and a focus lens which focuses the subject which is the object of photographing.</p>
<p id="p-0007" num="0006">When the power of the digital camera main body is off, the zoom lens and the focus lens of the lens system are brought together compactly and stored within a lens barrel which sinks into a case. Here, when the power of the digital camera main body is turned on, the lens barrel is extended to a predetermined reference position. Due to this extending of the lens barrel, the zoom lens and the focus lens are moved to predetermined positions within the space formed within the case, and are set in a standby state so as to await photographing (photographing standby state).</p>
<p id="p-0008" num="0007">When a subject is photographed, by changing the focal length of the lens system by driving the zoom lens, the range of the photographing angle (the angle of field) can be set to a desired angle. Further, the focus position, at which the subject is in a focused state, is searched for (AF searching), and focus control for moving the focus lens to this focus position is carried out automatically (the AF function). This AF function is carried out at the point in time when the user depresses the release button halfway when photographing a subject. In this way, the subject corresponding to the AF frame provided within the finder is set in a focused state (AF locking), and a state in which it is possible to photograph a good image is set.</p>
<p id="p-0009" num="0008">When taking a photograph by using a digital camera such as that described above, in order to not miss the chance for a good shot, it is preferable that the AF control processing time, which is the period of time from after the release button is depressed halfway until AF locking on the subject is carried out and a state in which photographing is possible arises, is made as short as possible.</p>
<p id="p-0010" num="0009">In order to shorten the AF control processing time, a conventional technique has been proposed in which the search starting point, the searching direction, the search range, the method of judging focussing, and the like of the AF search are set in accordance with the photographing mode of the digital camera (refer to Japanese Patent Application Laid-Open (JP-A) No. 2001-208959 for example).</p>
<p id="p-0011" num="0010">However, in the AF control in the aforementioned conventional technique, there are cases in which the chance for a good shot is missed due to the fixing of the focus position not being carried out in time for the desired shot. Thus, it cannot be said that the AF processing performance with respect to a subject at the time of photographing is satisfactory.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">The present invention was developed in order to overcome the above-described problems, and an object of the present invention is to provide a digital camera in which the AF control processing time is shortened and the AF processing performance with respect to a subject at the time of photographing is improved.</p>
<p id="p-0013" num="0012">A first aspect of the present invention is a digital camera comprising: an imaging section imaging, at a predetermined imaging position, light corresponding to a subject; an image pickup section receiving, at a predetermined light-receiving surface, light corresponding to the subject which is incident via the imaging section, and generating image information corresponding to the subject on the basis of an amount of received light of the light; a photographing controlling section carrying out control of execution of photographing processing which acquires the image information generated by the image pickup section; a moving section moving at least one of the imaging section and the image pickup section in a direction of an optical axis of light incident via the imaging section; a standby-time focus controlling section which, at a time of standby before execution of the photographing processing by the photographing controlling section, controls the moving section so as to continuously set a focused state in which the imaging position by the imaging section and a position of the light-receiving surface of the image pickup section coincide; a focus instructing section instructing setting of the focused state, at a time of execution of the photographing processing by the photographing controlling section; and a photographing-time focus controlling section which, at a point in time when an instruction is given by the focus instructing section, interrupts focus control by the standby-time focus controlling section, and on the basis of an operational state of the focus control at a point in time of interruption, controls the moving section such that a processing time required for setting of the focused state is shortest.</p>
<p id="p-0014" num="0013">In accordance with the first aspect of the invention, the imaging section images, at a predetermined imaging position, light corresponding to a subject. The image pickup section receives, at a predetermined light-receiving surface, light corresponding to the subject which is incident via the imaging section, and generates image information corresponding to the subject on the basis of a received light amount of the light. The photographing controlling section carries out control of execution of photographing processing which acquires the image information generated by the image pickup section. At a time of standby before execution of the photographing processing by the photographing controlling section, the standby-time focus controlling section controls the moving section, which moves at least one of the imaging section and the image pickup section in a direction of an optical axis of light incident via the imaging section, so as to continuously set a focused state in which the imaging position by the imaging section and a position of the light-receiving surface of the image pickup section coincide. Here, for example, the standby-time focus controlling section controls the moving section such that the focused state is set continuously, while carrying out the processing of judging whether or not there is a focused state by repeatedly evaluating the degree of coincidence of the imaging position with respect to the light-receiving surface of the image pickup section. In this way, focus control can be carried out following the movement of the subject, even when, for example, the subject is a moving object. Further, at a time of execution of the photographing processing by the photographing controlling section, the focus instructing section instructs setting of the focused state. During standby when focus control by the standby-time focus controlling section is being executed, when there is an instruction from the focus instructing section to set the focused state, the photographing-time focus controlling section, at the point in time when the instruction is given by the focus instructing section, interrupts focus control by the standby-time focus controlling section, and on the basis of the operational state of the focus control at the point in time of this interruption, controls the moving section such that the processing time required for setting of the focused state is shortest. Here, the focus position, which is to be controlled by the moving section in order to set the focused state, can be estimated to a certain extent from the operational state of the focus control by the standby-time focus controlling section which was interrupted. In this way, on the basis of the operational state of the focus control by the standby-time focus controlling section which was interrupted, the moving section is controlled such that the processing time required for setting of the focused state is the shortest. The processing time, from the time an instruction for focused state setting is given by the focus instructing section to the time of setting of the focused state, can thereby be greatly reduced.</p>
<p id="p-0015" num="0014">The feature of a second aspect of the present invention is that the invention of the first aspect further comprises: a storing section successively storing the operational state of the focus control by the standby-time focus controlling section, wherein, on the basis of the operational state of the focus control stored in the storing section, the photographing-time focus controlling section controls the moving section such that the processing time required for setting of the focused state is shortest.</p>
<p id="p-0016" num="0015">In accordance with the second aspect of the invention, the storing section successively stores the operational state of the focus control by the standby-time focus controlling section. In the focus control by the photographing-time focus controlling section, the moving section is controlled on the basis of the operational state of the focus control stored in the storing section. Thus, the operational state of the focus control by the standby state focus controlling section, which was interrupted at the time of execution of the photographing processing, can be appropriately recognized, and can be reflected in the focus control.</p>
<p id="p-0017" num="0016">The feature of a third aspect of the present invention is that, in the first or second aspect, the photographing-time focus controlling section controls the moving section by a control method appropriately selected, on the basis of the operational state of the focus control at the point of time of interruption, from plural types of control methods determined in advance such that the processing time, which is required for setting of the focused state in accordance with the operational state of the focus control by the standby-time focus controlling section, is shortest.</p>
<p id="p-0018" num="0017">In accordance with the third aspect of the invention, the photographing-time focus controlling section controls the moving section by a control method appropriately selected, on the basis of the operational state of the focus control at the point of time of interruption, from plural types of control methods determined in advance such that the processing time, which is required for setting of the focused state in accordance with the operational state of the focus control by the standby-time focus controlling section which was interrupted, is shortest. Here, the following are examples of a control method which is appropriately selected, on the basis of the operational state of the focus control, such that setting can be carried out from this operational state to the focused state in the shortest time: a method of changing the moving direction at the time of controlling movement of at least one of the imaging section and the image pickup section; a method of changing the moving range at the time of controlling movement of at least one of the imaging section and the image pickup section; and the like. In this way, the processing time until the focused state is set can be greatly shortened without carrying out complex control processing.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1A</figref> is a perspective view showing the exterior of a front side of a digital camera relating to an embodiment of the present invention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 1B</figref> is a perspective view showing the exterior of a rear side of the digital camera relating to the embodiment of the present invention.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic structural diagram of a control system of the digital camera relating to the embodiment of the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart showing the flow of photographing control processing relating to the embodiment of the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram for explaining the state of transitions of an operational state in C-AF processing relating to the embodiment of the present invention.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 5</figref> is a graph showing an example of AF evaluation values corresponding to positions of movement of a focus lens.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart showing the flow of AF control processing relating to the embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0026" num="0025">Hereinafter, an embodiment of the present invention will be described in detail with reference to the drawings.</p>
<p id="p-0027" num="0026">The schematic structure of a digital camera <b>10</b> relating to the present embodiment is shown in <figref idref="DRAWINGS">FIGS. 1A and 1B</figref>. A main body <b>11</b> of the digital camera <b>10</b> is formed in a substantial box shape. A grasping portion for grasping the main body <b>11</b> is formed at the left side as seen from the front.</p>
<p id="p-0028" num="0027">As shown in <figref idref="DRAWINGS">FIG. 1A</figref>, a lens portion <b>14</b>, a finder <b>15</b> for visually confirming the photographing range and the like, and a flash <b>16</b> for emitting auxiliary light when photographing under low illumination or the like, are mounted at the front side of the main body <b>11</b>. The lens portion <b>14</b> has a zoom lens (a lens whose focal length can be varied) which is equipped with an autofocus (AF) function, and has a lens driving mechanism which is not illustrated. The lens driving mechanism is structured to include a zoom motor which is the driving source of a zoom mechanism which changes the focal length of the zoom lens, and a focal point adjusting (focussing) motor which is the driving source of an AF mechanism which, in the AF function, carries out focal point adjustment by moving a focus lens within a predetermined range in which movement is possible.</p>
<p id="p-0029" num="0028">A slot <b>17</b> is formed in the right side surface as seen from the front of the main body <b>11</b>. A memory card, which will be described later and which stores various types of information such as photographed image information or the like, can be loaded into the slot <b>17</b>. A mode dial <b>13</b> and a power switch <b>18</b> are provided on the top surface of the main body <b>11</b>, at the left side as seen from the front. A release button <b>12</b> is provided at the central portion of the mode dial <b>13</b>.</p>
<p id="p-0030" num="0029">The mode dial <b>13</b> is a dial for selecting the operational mode of the digital camera. The mode dial is used to switch between an automatic photographing mode (in accordance with autofocus (AF), auto exposure (AE), or the like) and a manual photographing mode, and to select the mode. The mode dial <b>13</b> is also used for selecting a portrait photographing mode used when the subject to be photographed is mainly a person, a macro photographing mode used when photographing a subject at a close distance, a photographed image playback mode, a PC output mode for connecting to and outputting images to a personal computer, and a set-up item setting mode for setting the initial conditions of the respective functions.</p>
<p id="p-0031" num="0030">Moreover, as shown in <figref idref="DRAWINGS">FIG. 1B</figref>, a liquid crystal display (LCD) <b>20</b>, which is either a reflecting-type or transmitting-type and which can display in color, is mounted to the lower side of the back surface of the main body <b>11</b>. A liquid crystal display panel <b>22</b> for monochromatic display, and various types of selection buttons such as a flash button <b>24</b>, a cross button <b>19</b>, a menu execute button <b>26</b> and the like are provided above the LCD <b>20</b>.</p>
<p id="p-0032" num="0031">The LCD <b>20</b> is structured by a liquid crystal display panel whose display screen size is set to a predetermined number of pixels (e.g., 640×480 pixels). When an instruction to display an image is received, the LCD <b>20</b> displays, on the entire screen, the image of the photographed subject or an image based on an image file read from a memory (which will be described later) or the memory card, or carries out thumbnail display in which a plurality of reduced images are lined up, and displays a screen for selecting various types of functions. Further, the liquid crystal display panel <b>22</b> displays various types of items for which setting has been carried out, such as the operational mode, image quality, battery power, flash on/off, number of shots which can be taken, and the like.</p>
<p id="p-0033" num="0032">The cross button <b>19</b> is a button which is for moving a cursor to select items displayed on the LCD <b>20</b> when the LCD <b>20</b> displays a screen for selecting various items. The flash button <b>24</b> is a button for giving a forced flash instruction when forcibly making the flash <b>16</b> emit light, and for giving a flash prohibiting instruction when prohibiting the flash <b>16</b> from emitting light. The menu execute button <b>26</b> is a button for deciding on execution of an item which is displayed on the LCD <b>20</b> and has been selected by the cross button <b>19</b>.</p>
<p id="p-0034" num="0033">The schematic structure of the control system of the digital camera <b>10</b> is shown in <figref idref="DRAWINGS">FIG. 2</figref>. The digital camera <b>10</b> is structured to include an optical unit <b>30</b> formed to include the lens portion <b>14</b>; a CCD <b>32</b> disposed at the rear, in the direction of the optical axis, of the lens portion <b>14</b>; an image signal processing section <b>34</b> preparing predetermined digital image data expressing the subject, on the basis of the image signal outputted from the CCD <b>32</b> (a signal expressing the amount of light received at each of the plural photoelectric conversion cells arranged in matrix form on the light-receiving surface of the CCD <b>32</b>); a timing generator <b>36</b> generating timing signals for driving the respective portions of the optical unit <b>30</b> and the CCD <b>32</b> and the like; a vertical/horizontal driver <b>38</b> which drives the CCD <b>32</b>; a shutter/iris motor driver <b>40</b> which drives a shutter and a diaphragm mechanism included in the optical unit <b>30</b>; a focus motor driver <b>42</b> driving the focus motor; a zoom motor driver <b>44</b> driving the zoom motor; and a main controlling section <b>50</b> governing the overall operational control of the digital camera <b>10</b>. Note that the image signal processing section <b>34</b> and the main controlling section <b>50</b> are structured as a one-chip LSI (large scale integrated circuit). Accordingly, the digital cameral <b>10</b> can be made to be compact, reliable, and inexpensive.</p>
<p id="p-0035" num="0034">The image signal processing section <b>34</b> is structured to include a correlated double sampling circuit (CDS), a gain control amplifier (GCA), and an A/D converter (none of which is illustrated). The image signal inputted from the CCD <b>32</b> is subjected to correlated double sampling processing by the CDS, and sensitivity adjustment of each color of RGB is carried out by the GCA. Thereafter, the signal is converted into the aforementioned digital image data at the A/D converter.</p>
<p id="p-0036" num="0035">A CPU (central processing unit) <b>51</b> governing the operational control of the entire main controlling section <b>50</b>, and a line buffer of a predetermined capacity are incorporated in the main controlling section <b>50</b>. Moreover, the main controlling section <b>50</b> includes an image pickup controlling section <b>52</b> structured so as to include a white balance adjusting circuit (WB) which adjusts fluctuations in the white balance, and a Y/C converting circuit (Y/C) which converts RGB data into a YC signal; a compressing/decompressing section <b>53</b> which carries out compression processing on digital image data by a predetermined compression format (e.g., JPEG format or the like), and carries out decompression processing on digital image data which has been subjected to compression processing; a media controlling section <b>54</b>; and an LCD controlling section <b>55</b>. The CPU and the aforementioned respective sections are connected together via a bus <b>56</b>.</p>
<p id="p-0037" num="0036">Amemory card <b>60</b> (e.g., SmartMedia (trademark), Compact Flash, a micro drive, or the like), which is a portable recording medium which can be removably loaded into the slot <b>17</b> of the digital camera <b>10</b>, is connected to the media controlling section <b>54</b>. The media controlling section <b>54</b> controls the writing of various types of information to the memory card <b>60</b>, and the reading of various types of information written at the memory card <b>60</b>. Further, the LCD <b>20</b> is connected to the LCD controlling section <b>55</b>. Under the control of the LCD controlling section <b>55</b>, image information of the subject obtained by image pickup by the CCD <b>32</b>, and other various types of information, are displayed on the LCD <b>20</b>. Note that the LCD <b>20</b> can display dynamic images (through images) obtained by continuous image pickup by the CCD <b>32</b>, and can be used as a finder.</p>
<p id="p-0038" num="0037">A various operation buttons system <b>66</b>, which includes the aforementioned mode dial <b>13</b>, power switch <b>18</b>, flash button <b>24</b>, cross button <b>19</b>, menu execute button <b>26</b>, and the like, is connected to the CPU <b>51</b>. The respective control signals thereof can be transmitted to the CPU <b>51</b>.</p>
<p id="p-0039" num="0038">The release button <b>12</b> is connected to the CPU <b>51</b>. When the release button <b>12</b> is depressed halfway by operation of a user, the release button <b>12</b> transmits a predetermined control signal (signal S<b>1</b>) to the CPU <b>51</b>. When the release button <b>12</b> is fully depressed by operation of the user, the release button <b>12</b> transmits a predetermined control signal (signal S<b>2</b>) to the CPU <b>51</b>. When the CPU <b>51</b> receives signal S<b>1</b>, the CPU <b>51</b> carries out AF control processing (details of which will be described later) When the CPU <b>51</b> receives signal S<b>2</b>, the CPU <b>51</b> caries out photographed image recording processing (details of which will be described later).</p>
<p id="p-0040" num="0039">The digital camera <b>10</b> is structured to include an SDRAM (synchronous dynamic RAM) <b>62</b> which mainly stores digital image data obtained by image pickup by the CCD <b>32</b>; and a flash ROM <b>64</b> which stores various types of parameters and programs and the like. The SDRAM <b>62</b> and the flash ROM <b>64</b> are connected to the bus <b>56</b> of the main controlling section <b>50</b>. Accordingly, the CPU <b>51</b> can arbitrarily access the various types of data stored in the SDRAM <b>62</b> and the flash ROM <b>64</b>.</p>
<p id="p-0041" num="0040">The image pickup controlling section <b>52</b> accumulates the digital image data, which is successively inputted from the image signal processing section <b>34</b>, in a built-in line buffer, and temporarily stores the digital image data in the SDRAM <b>62</b>. Under the control of the CPU <b>51</b>, the digital image data which is stored in the SDRAM <b>62</b> is read by the WB and subjected to white balance adjustment, and is subjected to gamma processing, sharpness processing and the like. Moreover, at the Y/C, YC signal conversion processing is carried out so as to convert the data into YC signal data (luminance signal Y and chroma signals Cr, Cb). Thereafter, the YC signal data is stored in the SDRAM <b>62</b>. Note that, when the LCD <b>20</b> is used as a finder, the generated YC signal data is successively outputted to the controlling section <b>55</b>, and through images are displayed on the LCD <b>20</b>.</p>
<p id="p-0042" num="0041">In the photographed image recording processing which is executed when the release button <b>12</b> is fully depressed by operation of the user, the YC signal data stored in the SDRAM <b>62</b> is compressed in a predetermined compression format by the compression/decompression section <b>53</b>, and thereafter, is stored in the memory card <b>60</b> via the media controlling section <b>54</b>.</p>
<p id="p-0043" num="0042">The vertical/horizontal driver <b>38</b>, the shutter/iris motor driver <b>40</b>, the focus motor driver <b>42</b>, the zoom motor driver <b>44</b>, and the image pickup controlling section <b>52</b> are connected to the timing generator <b>36</b>. The timing generator <b>36</b> outputs, to the vertical/horizontal driver <b>44</b>, a timing signal for driving the CCD <b>32</b>, and outputs to the shutter/iris motor driver <b>40</b> a timing signal for driving the mechanical shutter and the diaphragm mechanism provided at the optical unit <b>30</b>, and outputs to the image pickup controlling section <b>52</b> a timing signal for driving the image pickup controlling section <b>52</b>.</p>
<p id="p-0044" num="0043">The input ends of the focus motor driver <b>42</b> and the zoom motor driver <b>44</b> are connected to the main controlling section <b>50</b>. The output end of the focus motor driver <b>42</b> is connected to the focus motor, and the output end of the zoom motor driver <b>44</b> is connected to the zoom motor. The focus motor and the zoom motor are driven by drive signals supplied from the focus motor driver <b>42</b> and the zoom motor driver <b>44</b>, respectively, under the control of the main controlling section <b>50</b>.</p>
<p id="p-0045" num="0044">When the optical zoom magnification is changed by control by the main controlling section <b>50</b> (more specifically, the CPU <b>51</b>), the zoom motor is controlled to be driven, and the focal length of the lens system is changed such that the photographic field angle can be changed to a desired angle. Moreover, AF control processing can be executed which carries out focus control for controlling the focus motor to be driven so as to move the focus lens to the position (the focus position) where the contrast of the image obtained by image pickup by the CCD <b>32</b> is the greatest. In the AF control processing, the value (AF evaluation value) expressing the level of the focused state of the subject determined in accordance with the contrast of the picked-up image is obtained. On the basis of this AF evaluation value, the focus motor is controlled to be driven so as to move the position of the focus lens, and the position where the AF evaluation value is at a peak is set to be the focus position.</p>
<p id="p-0046" num="0045">In the digital camera <b>10</b> relating to the present embodiment, when the power is on and the digital camera <b>10</b> is in a photographing standby state, through images obtained by continuous photographing by the CCD <b>32</b> are displayed on the LCD <b>20</b>. At this time, synchronously with the image pickup driving timing of the CCD <b>32</b> (specifically, the timing for outputting the vertical synchronization signal at the CCD <b>32</b>), continuous AF processing (hereinafter C-AF processing) is carried out which continuously carries out focal point adjustment of the lens portion <b>14</b> (i.e., searching for the focus position of the focus lens, and setting the focus lens at the detected focus position), so that the contrast of the read image of the subject positioned at the photographing position shown by the AF frame becomes a maximum (i.e., so that a focused state arises). As a result, through images which are in substantially focused states are displayed continuously on the LCD <b>20</b>. Here, the so-called hunting phenomenon is suppressed (a phenomenon in which it appears as if the image is shaking by continuing to shift slightly front and back without the focus being determined, in order to carry out focal point adjustment of the lens portion <b>14</b> continuously).</p>
<p id="p-0047" num="0046">Further, at the digital camera <b>10</b> relating to the present embodiment, in the photographing standby state in which the above-described C-AF processing is carried out, when the release button <b>12</b> is depressed halfway by the user and the signal S<b>1</b> is detected by the CPU <b>51</b>, the CPU <b>51</b> interrupts the C-AF processing, and carries out the aforementioned AF control processing such that AF locking arises. In the AF control processing carried out at this time, a predetermined focus position searching method (details of which will be described later) is selected in accordance with the operational state of the interrupted C-AF processing, so as to shorten the time for searching for the focus position of the focus lens. As a result, the processing time in the AF control processing is shortened. Since this AF control processing terminates at the AF locking for photographing the subject, it may be referred to as a non-continuous processing, thus differing from the continuous AF processing. Further, when the release button <b>12</b> is depressed fully by the user and the CPU <b>51</b> detects signal S<b>2</b>, the CPU <b>51</b> carries out the aforementioned photographing processing.</p>
<p id="p-0048" num="0047">Next, operation of the present embodiment will be described.</p>
<p id="p-0049" num="0048">When the power is on and the digital camera <b>10</b> is in a photographing standby state, the processing routine shown in <figref idref="DRAWINGS">FIG. 3</figref> is carried out at the digital camera <b>10</b>.</p>
<p id="p-0050" num="0049">First, in step <b>100</b>, the above-described C-AF processing is started. The C-AF processing will be described with reference to the state of transitions of the operational state in the C-AF processing shown in <figref idref="DRAWINGS">FIG. 4</figref>. First, the focus lens of the lens portion <b>14</b> is driven a slight amount in the direction of the optical axis thereof. At this time, the search direction is determined (state ST<b>1</b>) on the basis of the AF evaluation value obtained in accordance with the contrast obtained from the picked-up image. The AF evaluation value varies in accordance with the change in the position of movement of the focus lens (see <figref idref="DRAWINGS">FIG. 5</figref>). Thus, the direction in which the AF evaluation value rises (e.g., the direction of arrow A in <figref idref="DRAWINGS">FIG. 5</figref>) is set as the search direction.</p>
<p id="p-0051" num="0050">Next, the focus lens is moved in the set search direction, and the peak of the AF evaluation value is searched for (state ST<b>2</b>). As shown in <figref idref="DRAWINGS">FIG. 5</figref>, when the AF evaluation value obtained in accordance with movement of the focus lens rises to greater than or equal to a predetermined rising judgement threshold value (a threshold value for judging that the AF evaluation value is rising), and thereafter, falls to greater than or equal to a predetermined falling judgement threshold value (a threshold value for judging that the AF evaluation value is falling), it is judged that a peak P has been detected within this range of movement (peak judgement).</p>
<p id="p-0052" num="0051">When the peak P is detected, the focus lens is moved and positioned at the position (focus position) corresponding to the peak P (state ST<b>3</b>). Here, there is the possibility that the detected peak P is a peak which arises transiently due to movement of the subject or panning of the camera or the like. Thus, the focus lens position is finely adjusted (state ST<b>4</b>) by carrying out a processing for driving the focus lens by a slight amount, so as to drive in the same direction if the AF evaluation value is rising, or so as to reverse and drive in the opposite direction if the AF evaluation value is falling. When the AF evaluation value is in a stable state due to this fine adjustment, the focused state is set by positioning the focus lens by using the focus lens position at this time as the focus position (state ST<b>5</b>). After the focused state has been set, the AF evaluation value is detected again at a predetermined time. If the AF evaluation value has changed, the process returns to state ST<b>4</b>, and fine adjustment is carried out again. Further, if the AF evaluation value varies greatly during state S<b>4</b> (fine adjustment) or state ST<b>5</b> (setting of the focused state), the C-AF processing is restarted, and the process moves to state ST<b>1</b>.</p>
<p id="p-0053" num="0052">On the other hand, in state ST<b>2</b>, when the focus lens has moved to the position of an end point of the range in which movement is possible (end point NEAR or end portion INF) without a peak being detected by the above-described peak judgement, the driving direction of the focus lens is reversed. At the point in time when both end points have been detected, it is judged that the contrast of the subject is low (low contrast), and the focus lens is moved to and positioned at the position (the low contrast focus position) corresponding to the maximum value of the AF evaluation values obtained until then (state ST<b>6</b>). Here, there is the possibility that the detected peak P is a peak which arises transiently due to movement of the subject or panning of the camera or the like. Thus, the focus lens position is finely adjusted (state ST<b>7</b>) by carrying out a processing for driving the focus lens by a slight amount, so as to drive in the same direction if the AF evaluation value is rising, or so as to reverse and drive in the opposite direction if the AF evaluation value is falling. When the AF evaluation value is in a stable state due to this fine adjustment, the low contrast focused state is set by positioning the focus lens by using the focus lens position at this time as the low contrast focus position (state ST<b>8</b>). After the low contrast focused state has been set, the AF evaluation value is detected again at a predetermined time. If the AF evaluation value has changed, the process moves to state ST<b>7</b>, and fine adjustment is carried out again. Further, if the AF evaluation value varies greatly during state S<b>7</b> (fine adjustment) or state ST<b>8</b> (setting of the low contrast focused state), the C-AF processing is restarted, and the process moves to state ST<b>1</b>.</p>
<p id="p-0054" num="0053">When the C-AF processing is being executed as described above, if the release button <b>12</b> is set in a state of being depressed halfway (state S<b>1</b>) by the user, the judgement in step <b>102</b> is affirmative. The routine moves on to step <b>104</b> where the C-AF processing which is being executed is interrupted, and operational state information, which expresses the operational state of the C-AF processing at that time, is stored. The routine then moves on to step <b>106</b>.</p>
<p id="p-0055" num="0054">In step <b>106</b>, AF control processing is carried out. Here, the AF control processing will be described in accordance with the processing routine shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0056" num="0055">First, in step <b>200</b>, by referring to the stored operational state information, it is judged whether or not the operational state of the C-AF processing interrupted in step <b>104</b> is the focused state.</p>
<p id="p-0057" num="0056">If the operational state of the C-AF processing immediately before state S<b>1</b> is a state of setting the focused state (either state ST<b>5</b> or state ST<b>8</b>), the judgement in step <b>200</b> is affirmative, and the present routine ends.</p>
<p id="p-0058" num="0057">On the other hand, if the operational state of the C-AF processing immediately before state S<b>1</b> is the state of fine adjustment (either state ST<b>4</b> or state ST<b>7</b>), the judgement in step <b>200</b> is negative, and the routine moves on to step <b>204</b>. The judgement in step <b>204</b> is affirmative, and the routine moves on to step <b>206</b>. Because the position of movement of the focus lens is near the focus position, only a predetermined range in a vicinity of the current position of the focus lens is searched, and the focus position is detected. The routine moves on to step <b>218</b> where the focus lens is driven to the focus position, and the focused state is set.</p>
<p id="p-0059" num="0058">Further, when the operational state of the C-AF processing immediately before state S<b>1</b> is a state in the midst of driving the focus lens to the focus position (either state ST<b>3</b> or state ST<b>6</b>), the judgements in steps <b>200</b> and <b>204</b> are negative, and the routine moves on to step <b>208</b>. The judgement in step <b>208</b> is affirmative, and the routine moves on to step <b>210</b>. Only a predetermined range in a vicinity of the position (the focus position) corresponding to the peak detected in the C-AF processing is searched, and the focus position is detected. The routine moves on to step <b>218</b> where the focus lens is driven to the focus position, and the focused state is set.</p>
<p id="p-0060" num="0059">If the operational state of the C-AF processing immediately before state S<b>1</b> is a state in which the determination of the search direction has ended and it is the peak searching state (state ST<b>2</b>) but the peak position has not been detected, the judgements in steps <b>200</b>, <b>204</b>, <b>208</b> are negative, and the routine moves on to step <b>212</b>. When the judgement in step <b>212</b> is affirmative, the routine moves on to step <b>214</b>. Because it is deemed that the peak position does not exist in the range which has already been searched, searching is carried out in the current direction of driving from the current position of the focus lens, and the focus position is detected. The routine moves on to step <b>218</b> where the focus lens is driven to the focus position, and the focused state is set.</p>
<p id="p-0061" num="0060">If the operational state of the C-AF processing immediately before state S<b>1</b> is none of the above states, the judgements in steps <b>200</b>, <b>204</b>, <b>208</b>, and <b>212</b> are negative, and the routine moves on to step <b>216</b>. The entire region of the range in which the focus lens can move is searched, and the focus position is detected. The routine moves on to step <b>218</b> where the focus lens is driven to the focus position, and the focused state is set.</p>
<p id="p-0062" num="0061">After execution of the above-described AF control processing, the routine moves on to step <b>108</b> where a judgement is made as to whether the state in which the release button <b>12</b> is depressed halfway by the user (state Si) has been released or not. If the judgement is affirmative, the routine returns to step <b>100</b>. If the judgement is negative, the routine proceeds to step <b>110</b>.</p>
<p id="p-0063" num="0062">In step <b>110</b>, a judgement is made as to whether or not it is the state in which the release button <b>12</b> is fully depressed by the user (state S<b>2</b>). If the judgement is negative, the routine returns to step <b>108</b>. If the judgement is affirmative, the routine proceeds to subsequent step <b>112</b>. Photographing processing of the subject, which has been set in a focused state by the above-described AF control processing, is carried out. The present processing routine ends, and the digital camera <b>10</b> returns to the aforementioned photographing standby state.</p>
<p id="p-0064" num="0063">As described above, in accordance with the digital camera relating to the present embodiment, the processing time for AF control can be greatly shortened by switching the AF control method at the time when signal S<b>1</b> is detected, such that the AF control processing time is made to be the shortest on the basis of the C-AF operational state, by utilizing the fact that the focus position can be estimated to a certain extent before detection of signal S<b>1</b> by the C-AF processing. As a result, photographing in an appropriately focused state can be carried out speedily without missing the chance for a good shot.</p>
<p id="p-0065" num="0064">In the present embodiment, another method for shortening the AF processing time in state S<b>1</b> is switching the AF search range in state S<b>1</b> by estimating the distance to the peak position from the magnitude of the AF evaluation value during the C-AF processing.</p>
<p id="p-0066" num="0065">As described above, in accordance with the present invention, during standby before executing photographing processing, focus control is carried out such that a focused state, in which the position of the light-receiving surface of the image pickup section and the imaging position by the imaging section coincide, is set continuously by the standby-time focus controlling section. When executing the photographing processing, at the point in time when an instruction to carry out focused state setting is given by the focus instructing section, the focus control by the standby-time focus controlling section is interrupted by the photographing-time focus controlling section. On the basis of the operational state of the focus control at the point in time of that interruption, focus control is carried out such that the processing time required for setting the focused state is the shortest. As a result, it is possible to provide a digital camera in which the AF control processing time is shortened, and the AF processing performance with respect to the subject at the time of photographing is improved.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A digital camera comprising:
<claim-text>an imaging section imaging, at a predetermined imaging position, light from a subject;</claim-text>
<claim-text>an image pickup section receiving, at a predetermined light-receiving surface, light from the subject which is incident via the imaging section, and generating image information for a still-image photograph of the subject on the basis of an amount of received light;</claim-text>
<claim-text>a photographing controlling section acquiring the image information for the still-image photograph generated by the image pickup section, and carrying out control of execution of still-image photographing processing;</claim-text>
<claim-text>a moving section moving at least one of the imaging section and the image pickup section in a direction of an optical axis of light incident via the imaging section;</claim-text>
<claim-text>a standby-time focus controlling section which, at a time of standby before execution of the still-image photographing processing by the photographing controlling section, controls the moving section so as to continuously set a focused state in which the imaging position by the imaging section and a position of the light-receiving surface of the image pickup section coincide;</claim-text>
<claim-text>a focus instructing section instructing setting of the focused state, at a time of execution of the still-image photographing processing by the photographing controlling section; and</claim-text>
<claim-text>a photographing-time focus controlling section which, at a point in time when an instruction is given by the focus instructing section, interrupts focus control by the standby-time focus controlling section, and on the basis of an operational state of the focus control at a point in time of interruption, controls the moving section in order to minimize a processing time required for setting of the focused state,</claim-text>
<claim-text>wherein the control by the photographing-time focus controlling section terminates in response to the setting of the focused state, and the still image photographing processing is executed after termination of the control by the photographing-time focus controlling section.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The digital camera of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a storing section successively storing the operational state of the focus control by the standby-time focus controlling section,</claim-text>
<claim-text>wherein, on the basis of the operational state of the focus control stored in the storing section, the photographing-time focus controlling section controls the moving section such that the processing time required for setting of the focused state is minimized.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The digital camera of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the photographing-time focus controlling section controls the moving section by a control method appropriately selected, on the basis of the operational state of the focus control at the point of time of interruption, from plural types of control methods determined in advance such that the processing time, which is required for setting of the focused state in accordance with the operational state of the focus control by the standby-time focus controlling section, is minimized.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The digital camera of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the photographing-time focus controlling section controls the moving section by a control method appropriately selected, on the basis of the operational state of the focus control at the point of time of interruption, from plural types of control methods determined in advance such that the processing time, which is required for setting of the focused state in accordance with the operational state of the focus control by the standby-time focus controlling section, is minimized.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The digital camera of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the photographing controlling section includes:
<claim-text>a white balance adjustment circuit adjusting variations in white balance; and</claim-text>
<claim-text>a Y/C conversion circuit converting RGB data into a YC signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method of controlling still-image photographing in a digital camera, comprising the steps of:
<claim-text>carrying out continuous auto focus processing;</claim-text>
<claim-text>when a release button is depressed halfway by a user during the continuous autofocus processing, interrupting the continuous autofocus processing which is being executed, and storing operational state information expressing an operational state of the continuous autofocus processing at the time of the interruption;</claim-text>
<claim-text>in response to the interruption, carrying out non-continuous autofocus control processing based on the stored operational state information, said non-continuous autofocus control processing terminating when a focused state is achieved; and</claim-text>
<claim-text>carrying out still-image photographing processing after termination of said non-continuous autofocus control processing.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of controlling photographing of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the continuous autofocus processing comprises the steps of:
<claim-text>(a) driving a focus lens of a lens portion to move by a minute amount in a direction of an optical axis of the focus lens, and at that time, judging a searching direction on the basis of an AF evaluation value obtained in accordance with contrast obtained from a picked-up image, and setting a direction in which the AF evaluation value rises as a search direction;</claim-text>
<claim-text>(b) moving the focus lens in a set search direction, and searching for a peak of the AF evaluation value;</claim-text>
<claim-text>(c) when the obtained AF evaluation value rises to greater than or equal to a predetermined rising judgement threshold value, and thereafter, falls to greater than or equal to a predetermined falling judgement threshold value, judging that a peak has been detected in a range of movement;</claim-text>
<claim-text>(d) when a peak is detected, moving and positioning the focus lens at a focus position corresponding to the peak;</claim-text>
<claim-text>(e) finely adjusting a focus lens position by driving the focus lens, and carrying out processing so as to drive in a same direction when the AF evaluation value is rising, and so as to reverse and drive in an opposite direction when the AF evaluation value is falling;</claim-text>
<claim-text>(f) when the AF evaluation value is in a stable state due to fine adjustment, setting a focused state by positioning the focus lens by using the focus lens position at that time as a focus position;</claim-text>
<claim-text>(g) after setting the focused state, again detecting the AF evaluation value at a predetermined time, and if there are changes, again carrying out the fine adjustment of step (e); and</claim-text>
<claim-text>(h) if the AF evaluation value has changed more than a predetermined amount in step (e) or step (f), carrying out step (a) again.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of controlling photographing of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the continuous autofocus processing further comprises:
<claim-text>(i) when, in step (b), the focus lens has moved to a position of an end point of a range, in which the focus lens can move, without a peak being detected by the peak judgement, reversing a driving direction of the focus lens, and at a point in time when both end points have been detected, judging that contrast of the subject is low, and moving and positioning the focus lens at a position corresponding to a maximum value of AF evaluation values obtained until then;</claim-text>
<claim-text>(j) finely adjusting a focus lens position by driving the focus lens, and carrying out processing so as to drive in a same direction when the AF evaluation value is rising, and so as to reverse and drive in an opposite direction when the AF evaluation value is falling;</claim-text>
<claim-text>(k) when the AF evaluation value is in a stable state due to fine adjustment, setting a low contrast focused state by positioning the focus lens by using the focus lens position at that time as a low contrast focus position;</claim-text>
<claim-text>(l) after setting the low contrast focused state, again detecting the AF evaluation value at a predetermined time, and if there are changes, moving to step (j) and again carrying out the fine adjustment; and</claim-text>
<claim-text>(m) if the AF evaluation value has changed more than a predetermined amount in step (j) or step (k), carrying out step (a) again.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of controlling photographing of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the non-continuous autofocus control processing comprises the steps of:
<claim-text>referring to the stored operational state information, and judging whether or not an operational state of the continuous autofocus processing is a focused state;</claim-text>
<claim-text>when the operational state of the continuous autofocus processing is set to a focused state, ending a present processing routine;</claim-text>
<claim-text>when the operational state of the continuous autofocus processing is a state of fine adjustment, searching only a predetermined range in a vicinity of a current position of the focus lens, detecting the focus position, and driving the focus lens to the focus position so as to set the focused state;</claim-text>
<claim-text>when the operational state of the continuous autofocus processing is during driving of the focus lens to the focus position, searching only a predetermined range in a vicinity of a focus position corresponding to the peak detected in the continuous autofocus processing, detecting the focus position, and driving the focus lens to the focus position so as to set the focused state;</claim-text>
<claim-text>when the operational state of the continuous autofocus processing is a state in which a peak position has not been detected, searching in a current driving direction from a current position of the focus lens, detecting the focus position, and driving the focus lens to the focus position so as to set the focused state; and</claim-text>
<claim-text>when the operational state of the continuous autofocus processing is none of the above states, searching an entire region of a range in which the focus lens can move, detecting the focus position, and driving the focus lens to the focus position so as to set the focused state.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
