<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298122-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298122</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11211381</doc-number>
<date>20050825</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="regional">
<country>EP</country>
<doc-number>04020456</doc-number>
<date>20040827</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>253</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>05</class>
<subclass>F</subclass>
<main-group>1</main-group>
<subgroup>40</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>323282</main-classification>
<further-classification>323285</further-classification>
</classification-national>
<invention-title id="d0e71">Actuation circuit for a switch regulating the power consumption in a switching converter</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5705919</doc-number>
<kind>A</kind>
<name>Wilcox</name>
<date>19980100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323282</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5731731</doc-number>
<kind>A</kind>
<name>Wilcox et al.</name>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327403</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5847554</doc-number>
<kind>A</kind>
<name>Wilcox et al.</name>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323282</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5912552</doc-number>
<kind>A</kind>
<name>Tateishi</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323285</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6166528</doc-number>
<kind>A</kind>
<name>Rossetti et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6215290</doc-number>
<kind>B1</kind>
<name>Yang et al.</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323282</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6246220</doc-number>
<kind>B1</kind>
<name>Isham et al.</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6377034</doc-number>
<kind>B1</kind>
<name>Ivanov</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323287</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6381159</doc-number>
<kind>B2</kind>
<name>Oknaian et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6580258</doc-number>
<kind>B2</kind>
<name>Wilcox et al.</name>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323282</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6642697</doc-number>
<kind>B2</kind>
<name>Zuniga et al.</name>
<date>20031100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323223</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00012">
<othercit>Stengl, Jens Peer et al., “Power MOSFET Practice,” Pflaum Verlag, ISBN 3-7905-0619-2, pp. 176 (1992).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00013">
<othercit>Tarter, Ralph E., “Solid State Power Conversion Handbook,” Wiley &amp; Sons, Inc. ISBN 0-471-57243-8, pp. 350-351.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00014">
<othercit>Yang, Zaohong, “DC-to-DC Buck Converters with Novel Current Mode Control,” IEEE, pp. 1158-1164 (1999).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00015">
<othercit>Tarter, Ralph E., “Solid State Power Conversion Handbook,” Wiley &amp; Sons, Inc. ISBN 0-471-57243-8, pp. 492-495 (1993).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>17</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>323222</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>323223</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>323282</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>323283</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>323284</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>323285</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>323351</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060061342</doc-number>
<kind>A1</kind>
<date>20060323</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Bernacchia</last-name>
<first-name>Giuseppe</first-name>
<address>
<city>Padova</city>
<country>IT</country>
</address>
</addressbook>
<nationality>
<country>IT</country>
</nationality>
<residence>
<country>IT</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Chiozzi</last-name>
<first-name>Giorgio</first-name>
<address>
<city>Padova</city>
<country>IT</country>
</address>
</addressbook>
<nationality>
<country>IT</country>
</nationality>
<residence>
<country>IT</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Capodivacca</last-name>
<first-name>Giovanni</first-name>
<address>
<city>Padova</city>
<country>IT</country>
</address>
</addressbook>
<nationality>
<country>IT</country>
</nationality>
<residence>
<country>IT</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Dicke, Billig &amp; Czaja, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Infineon Technologies AG</orgname>
<role>03</role>
<address>
<city>Munich</city>
<country>DE</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Berhane</last-name>
<first-name>Adolf</first-name>
<department>2838</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An actuation circuit for a switch element regulating the power consumption of an inductive energy storage element in a switching converter, used to convert an input voltage into an output voltage, is described. The circuit includes a pulse width modulator circuit configured so as to provide a pulse-width-modulated actuating signal for the switch element depending on a regulating signal dependent on the output voltage and a current measurement signal dependent on a current across the inductive storage element. The circuit further includes an arrangement that provides the current measurement signal, wherein the arrangement for providing the current measurement signal is a measuring and regulating arrangement, configured so as to simulate the current measurement signal from a signal dependent on the output voltage, a signal dependent on the difference between the input voltage and the output voltage, and at least a first sampled value of a signal proportional to the current across the inductive storage element during a period of the pulse-width-modulated actuating signal.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="176.36mm" wi="260.86mm" file="US07298122-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="271.53mm" wi="200.49mm" orientation="landscape" file="US07298122-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="262.55mm" wi="177.63mm" file="US07298122-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="176.61mm" wi="119.80mm" file="US07298122-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="192.87mm" wi="171.20mm" file="US07298122-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="175.85mm" wi="189.48mm" file="US07298122-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="244.01mm" wi="157.48mm" file="US07298122-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This Utility Patent Application claims priority to European Patent Application No. 04 020 456.2, filed on Aug. 27, 2004, which is incorporated herein by reference.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">The present invention relates to an actuation circuit for a switch regulating the power consumption in a switching converter. In one case, a switching converter is configured as a buck converter.</p>
<p id="p-0004" num="0003">Buck converters are switching converters (switched-mode converters) used to convert an input voltage into an output voltage that is lower in comparison to the input voltage. The fundamental layout of such buck converters is described, for example, in Stengl, J. P.; Tihanyi, J.: “Power MOS-FET Practice”, 2nd Edition, Pflaum Verlag, Munich, page 176, or in Tarter, R. E.: “Solid-State Power Conversion Handbook”, Wiley &amp; Sons, New York, 1993, ISBN 0-471-57243-8, pages 350, 351.</p>
<p id="p-0005" num="0004">An important element in such a buck converter is an inductive storage element, which is connected to a supply voltage and timed by a pulse width modulated actuating signal.</p>
<p id="p-0006" num="0005">In order to regulate the output voltage to an approximately constant value, not depending on the current consumption of a load connected to the output terminals, a regulating arrangement is present in such switching converters, which detects the output voltage or the changes in the output voltage. If the output voltage deviates from a given nominal value, the power consumption of the buck converter is changed by changing the on-period, in order to regulate the output voltage back to the nominal value once again. For buck converters that work in so-called current mode control, in order to generate the pulse width modulated actuating signal, one uses the time course of the current across the inductance to generate the actuating signal. This time function, which approximately corresponds to a triangular signal function, is compared to a regulating signal that depends on the output voltage in order to determine the time for the start or end of an on-period. Either the end or the start of the on-period will usually be assigned a fixed time.</p>
<p id="p-0007" num="0006">A buck converter with current mode operation is described, for example, in Tarter, op.cit., pages 492 to 495.</p>
<p id="p-0008" num="0007">In such current mode buck converters (CM buck converters), the measuring of the current across the inductance causes problems. In particular, it is difficult to detect a current for which a measurement signal is available both when the switch is closed and when the switch is open, that is, during the entire course of an actuation period of the switch.</p>
<p id="p-0009" num="0008">To measure the current across the inductance, one can use a measuring resistor connected in series with the inductance, and pick off the voltage across the resistor. However, the voltage across the resistor is related to a potential which varies greatly according to the operating state of the switch, which makes it difficult to evaluate the voltage across the shunting resistor. Furthermore, the power dissipated by this sense resistor is proportional to the square of the load current, therefore the overall efficiency of the converter is severely compromised at high currents.</p>
<heading id="h-0003" level="1">SUMMARY </heading>
<p id="p-0010" num="0009">One embodiment of the present invention provides an actuator circuit for a switch regulating the power consumption of an inductive storage element in a switching converter that has a current measuring arrangement which provides a current measurement signal that is at least approximately proportional to the current across the inductive storage element during an entire actuation period of the switch.</p>
<p id="p-0011" num="0010">In one embodiment of the invention, the actuation circuit for a switch element regulating the power consumption of an inductive energy storage element in a switching converter, which is used to convert an input voltage into an output voltage, has a pulse width modulator and a measuring and regulating arrangement. The pulse width modulator circuit is configured so as to provide a pulse-width-modulated actuating signal for the switch element dependent on a regulating signal, which is dependent on the output voltage, and a current measurement signal, which is dependent on a current across the inductive storage element. The measuring and regulating arrangement provides the current measurement signal, which is configured so as to simulate the current measurement signal from a signal depending on the output voltage, a signal depending on the difference between the input voltage and the output voltage, and at least a first sampled value of a signal proportional to the current across the inductive storage element during one period of the pulse-width-modulated actuating signal.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0012" num="0011">The accompanying drawings are included to provide a further understanding of the present invention and are incorporated in and constitute a part of this specification. The drawings illustrate the embodiments of the present invention and together with the description serve to explain the principles of the invention. Other embodiments of the present invention and many of the intended advantages of the present invention will be readily appreciated as they become better understood by reference to the following detailed description. The elements of the drawings are not necessarily to scale relative to each other. Like reference numerals designate corresponding similar parts.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a switching converter configured as a buck converter with an actuation circuit according to one embodiment of the invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> illustrates exemplary time plots of the simulated current measurement signal and of a regulating signal depending on the output voltage, a clock signal, and an actuating signal formed from these signals.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3</figref> illustrates an exemplary embodiment of a measuring unit detecting the current across the inductive storage element intermittently.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 4</figref><i>a </i>and <b>4</b><i>b </i>illustrate exemplary time plots of a current across the inductive storage element and the simulated current measurement signal during an actuation period of the switch.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a first exemplary embodiment of a regulating circuit that produces a regulating signal, present in the measuring and regulating arrangement.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref> illustrates the functioning of the regulating circuit by means of time plots of the current across the inductive storage element and the simulated current measurement signal during consecutive actuation periods of the switch.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 7</figref> illustrates the functioning of a calibration circuit, present in the measuring and regulating arrangement, by means of time plots of the simulated current measurement signal, of a signal proportional to the current across the inductive storage element, and of a calibration current.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 8</figref> illustrates an exemplary embodiment of a signal generating circuit present in the actuation circuit, which provides the actuating signal.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 9</figref> illustrates a digitally implemented circuit for furnishing a simulated current measurement signal.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0022" num="0021">In the following Detailed Description, reference is made to the accompanying drawings, which form a part hereof, and in which is shown by way of illustration specific embodiments in which the invention may be practiced. In this regard, directional terminology, such as “top,” “bottom,” “front,” “back,” “leading,” “trailing,” etc., is used with reference to the orientation of the Figure(s) being described. Because components of embodiments of the present invention can be positioned in a number of different orientations, the directional terminology is used for purposes of illustration and is in no way limiting. It is to be understood that other embodiments may be utilized and structural or logical changes may be made without departing from the scope of the present invention. The following detailed description, therefore, is not to be taken in a limiting sense, and the scope of the present invention is defined by the appended claims.</p>
<p id="p-0023" num="0022">The actuation circuit according to one embodiment of the invention for a first switch T<b>1</b> regulating the power consumption of an inductive energy storage element in a switching converter has a signal generating circuit <b>40</b>, which provides a pulse-width-modulated actuating signal S<b>1</b>, and a measuring and regulating arrangement <b>20</b>.</p>
<p id="p-0024" num="0023">The measuring and regulating arrangement <b>20</b> is configured so as to simulate a current measurement signal Vc, which is at least approximately proportional to a current across the inductive storage element, from a single sampled value of an actually measured current signal Vs during an actuation period of the first switch T<b>1</b> and from other known parameters. The current measurement signal Vc generated by the measuring and regulating arrangement <b>20</b> is therefore designated hereinbelow as the simulated current measurement signal Vc, while the signal Vs which is sampled in order to generate the single sampled value is designated the actual measurement signal.</p>
<p id="p-0025" num="0024">For a better understanding of the functioning of this actuation circuit, <figref idref="DRAWINGS">FIG. 1</figref> illustrates moreover the converter stage of a switching converter, which will be briefly explained hereinbelow. The converter stage, configured in the example as a buck converter stage, includes the first switch T<b>1</b>, actuated by the actuating signal S<b>1</b> of the actuator circuit, and in series with the switch T<b>1</b> the inductive storage element Lout, for example, a storage induction coil. The inductive storage element L forms, together with an output capacitor Cout connected in series with it, a low-pass filter, to furnish an output voltage Vout for a load which can be connected to the converter stage. Connection terminals of the output capacitor Cout form the output terminals of the converter stage.</p>
<p id="p-0026" num="0025">Connected in parallel to the series circuit with the inductive storage element Lout and the output capacitor Cout is a freewheeling element T<b>2</b>. As the freewheeling element, which serves to take over the current across the inductance Lout after the blocking of the first switch T<b>1</b>, the example uses a second semiconductor switch T<b>2</b>, which is actuated in complementary fashion to the first semiconductor switch T<b>1</b>. In order to actuate the first semiconductor switch T<b>1</b> by the actuator signal S<b>1</b>, a first driver circuit <b>12</b> is provided, which converts the level of the actuating signal S<b>1</b> to a level suitable for actuating the first semiconductor switch T<b>1</b>.</p>
<p id="p-0027" num="0026">The two semiconductor switches in the example are configured as n-channel MOSFETs. During operation, one must ensure that the two semiconductor switches T<b>1</b>, T<b>2</b> are not simultaneously conducting. The actuating of the second semiconductor switch T<b>2</b> likewise occurs in accordance with the actuating signal S<b>1</b>, which is inverted by means of an inverter <b>15</b> for the actuating of the second semiconductor switch. The output signal of the inverter is furnished to a second driver circuit, which converts the level of the signal at the output of the inverter to a level suitable for actuating the second switch T<b>2</b>.</p>
<p id="p-0028" num="0027">An input voltage Vin is imposed on the converter stage across the series circuit, which includes the first switch T<b>1</b> and the parallel circuit with the filter Lout, Cout, and the freewheeling element.</p>
<p id="p-0029" num="0028">The represented converter stage functions as is briefly explained hereinbelow: Under pulse-width-modulated actuation of the first switch T<b>1</b>, a rectangular voltage relative to the reference potential GND is present at the junction node N between the first switch T<b>1</b> and the inductance, whose amplitude varies between the value of the input voltage Vin and zero. This rectangular voltage is converted by the low-pass filter with the inductance Lout and the capacitor Cout into the approximately uniform output voltage Vout. The value of this output voltage Vout, for identical input voltage, can be adjusted via the keying ratio of the pulse-width-modulated signal S<b>1</b>. Given identical load and identical input voltage, the output voltage Vout will be larger according as the keying ratio (duty cycle) is larger. The duty cycle is defined in terms of the quotient of the on-period of the first switch T<b>1</b> and the period duration of one actuation period.</p>
<p id="p-0030" num="0029">The current Iout flowing through the inductive storage element Lout has a triangular-shaped curve, as is represented by means of <figref idref="DRAWINGS">FIG. 4</figref><i>a </i>for one actuation period. The current Iout rises when the first switch T<b>1</b> is conducting during an on-period of duration Ton and decreases when the first switch is blocked during an off-period of duration Toff. When the first switch T<b>1</b> is switched on, a voltage is present across the inductance Lout—disregarding switching losses in the first switch T<b>1</b>—corresponding to the difference between the input voltage Vin and the output voltage Vout. The time change (slope) of the rising current across the inductance is given by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dI</i>out/<i>dt=</i>(<i>V</i>in−<i>V</i>out)/<i>L</i>out for 0<i>≦t≦T</i>on   (1a).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0031" num="0030">When the first switch T<b>1</b> is switched off and the freewheeling element T<b>2</b> is conducting, the output voltage Vout is presented across the inductance Lout—disregarding switching losses in the freewheeling element T<b>2</b>. The time change (slope) for the now decreasing current Iout across the inductance is given by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>dI</i>out/<i>dt=−V</i>out/<i>L </i>for <i>T</i>on≦<i>t≦T</i>off   (1b)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0032" num="0031">As is immediately apparent, by changing the duty cycle Ton/Tp, where Tp=Ton+Toff, one can change the mean current consumption and, thus, the mean power consumption, in order thereby to regulate the output voltage Vout.</p>
<p id="p-0033" num="0032">In order to regulate the output voltage Vout to a given nominal/reference voltage Vref, a regulator <b>14</b> is present, which compares the output voltage Vout to the nominal value Vref and produces a regulating signal S<b>14</b>. The regulator <b>14</b> is configured, for example, as a regulator with integrating behavior (I-regulator), a regulator with proportional-integral behavior (PI-regulator), or a regulator with proportional behavior (P-regulator).</p>
<p id="p-0034" num="0033">The regulating signal S<b>14</b> produced by the regulator, together with the simulated current measurement signal Vc, which is generated by the measuring and regulating arrangement <b>20</b> in already explained manner, is sent to the signal generating circuit <b>40</b>, which uses these two signals Vc, S<b>14</b> to generate the pulse-width-modulated actuating signal S<b>1</b>.</p>
<p id="p-0035" num="0034">The pulse width modulator <b>40</b> generates the actuating signal S<b>1</b> (referring to <figref idref="DRAWINGS">FIG. 2</figref>) in such a way that the actuating signal S<b>1</b> assumes an on-level during the pulse of a clock signal CLK, by which the first switch T<b>1</b> is switched on. When the first switch T<b>1</b> is switched on, the current through the inductance Lout, and accordingly the current measurement signal Vc, increase. The actuating signal switches from the on-level, or the high level in the example, to an off-level, or a low level in the example, when the current measurement signal Vc reaches the level of the regulating signal S<b>14</b>.</p>
<p id="p-0036" num="0035">As is immediately apparent, the on-period Ton and, thus, the duty cycle of the actuating signal S<b>1</b> varies with the regulating signal S<b>14</b>. If the regulating signal rises, other parameters being equal, then the on-period per actuation period is longer and the power consumption increases. Furthermore, by making use of the measurement signal Vc, proportional to the current Iout through the inductance Lout, the regulating process can take into account changes in the input voltage Vin. If the input voltage Vin increases, shorter on-periods are sufficient to achieve a given power consumption—dictated by the load and the nominal value of the output voltage. Since the inductance current Iout according to (1a) rises with increasing input voltage Vin, the measurement signal reaches the value of the regulating signal S<b>14</b> more quickly when the input voltage Vin is greater, which automatically produces a shortening of the on-period Ton.</p>
<p id="p-0037" num="0036">For the generating of the simulated current measurement signal Vc, which is at least approximately proportional to the current Iout through the inductance, use is made of the fact that this current Iout has a triangular-shaped function, in which the slope of rising edges when the first switch T<b>1</b> is switched on depends according to (1a) on the difference between the input and the output voltage Vin, Vout, and where the slope of falling edges when the first switch T<b>1</b> is switched off depends according to (1b) on the output voltage Vout. Instead of measuring the current across the inductance Lout permanently during the entire actuation period of the actuating signal S<b>1</b>, which is especially difficult because the potential at the connection of the inductance opposite the output terminal OUT fluctuates between the power supply potential Vin and the reference potential GND, the current measuring arrangement <b>20</b> forms the current measurement signal Vc from the input voltage Vin, the output voltage Vout, and at least one sampled value of the current across the inductance or one sampled value of an actual current measurement signal.</p>
<p id="p-0038" num="0037">The input voltage Vin and the output voltage Vout can be easily measured in a switching converter. It is also easily possible to determine a sampled value of the current Iout across the inductance Lout during an actuation period as compared to determining the current Iout during the entire period. The current across the inductance Iout can be easily determined during the on-period or during the off-period, whereas a measurement during the entire period is significantly more difficult. In order to provide a sampled value of the inductance current Iout during an actuation period of the switch, it is sufficient to provide a current measuring arrangement that produces a current measurement signal proportional to the current Iout across the inductance Lout either during the on-period or during the off-period, and to sample this current measurement signal once per actuation period.</p>
<p id="p-0039" num="0038">In the example according to <figref idref="DRAWINGS">FIG. 1</figref>, the current across the inductance Lout is detected during an off-period of the first switch T<b>1</b>, that is, during the freewheeling time, during which a current is flowing through the freewheeling element T<b>2</b>. The current is detected by a current measurement arrangement <b>11</b> connected in series to the freewheeling element T<b>2</b>, which produces a current measurement signal Vs proportional to the current across the inductance during the off-period.</p>
<p id="p-0040" num="0039">This current measuring arrangement <b>11</b> (referring to <figref idref="DRAWINGS">FIG. 3</figref>) includes, for example, a measuring resistor Rs switched in series with the freewheeling element T<b>2</b> and a measuring amplifier <b>16</b> connected to the measuring resistor, which produces, from a voltage drop across the measuring resistor Rs, the measurement signal Vs, which is sent to the measuring and regulating arrangement <b>20</b>.</p>
<p id="p-0041" num="0040">The exemplary embodiment of the measuring and regulating arrangement depicted in <figref idref="DRAWINGS">FIG. 1</figref> has, for the purpose of simulating the inductance current Iout and producing the simulated current measurement signal Vc, a capacitive storage element C, from which the simulated current measurement signal Vc can be picked off. This capacitive storage element is connected to a regulated charging and discharging circuit, which provides a charging current Ic or a discharging current Id for the capacitive storage element C depending on the actuating signal S<b>1</b>.</p>
<p id="p-0042" num="0041">This charging and discharging circuit has a first voltage-controlled current source <b>21</b>, which provides a current I<b>21</b> proportional to the difference between the input voltage Vin and the output voltage Vout, and the charging and discharging circuit has a second voltage-controlled current source <b>22</b>, which provides a current I<b>22</b> proportional to the output voltage Vout. Voltage-controlled current sources are sufficiently well known for a detailed discussion as to their layout and functioning to be unnecessary here.</p>
<p id="p-0043" num="0042">The first voltage-controlled current source <b>21</b> is part of a charging circuit, which is actuated by the pulse-width-modulated actuating signal S<b>1</b> and charges the capacitive storage element when the first switch T<b>1</b> is gated in conducting mode. For this, the charging circuit is connected between a terminal for power supply potential Vcc and the capacitive storage element C and it has a switch <b>25</b> actuated by the actuating signal S<b>1</b>, which enables a current to flow to the capacitive storage element C when the actuating signal S<b>1</b> adopts a level at which the first switch T<b>1</b> is gated in conducting mode. The charging circuit, furthermore, includes a current amplifier <b>23</b>, which amplifies the current delivered by the first voltage-controlled current source with a regulating signal value S<b>29</b> produced by a regulating circuit <b>29</b>. For simplicity of representation, this current amplifier <b>23</b> is depicted as a multiplier, which is connected in the current path between the current source <b>21</b> and the capacitive storage element.</p>
<p id="p-0044" num="0043">In a manner not further described, a multiplication of the current I<b>21</b> provided by the voltage-controlled current source <b>21</b> with the regulating signal value S<b>29</b> is of course tantamount to a multiplication of the control signal furnished to the current source <b>21</b>, being proportional to the difference between input voltage Vin and output voltage Vout, with the regulating signal value S<b>29</b>. In this case, a multiplier is not connected in the current path between the current source <b>21</b> and the capacitive storage element C, but instead is connected ahead of the control input of the current source <b>21</b> (not shown).</p>
<p id="p-0045" num="0044">A charging current provided by the explained charging circuit is designated in <figref idref="DRAWINGS">FIG. 1</figref> by the reference symbol Ic.</p>
<p id="p-0046" num="0045">The second voltage-controlled current source <b>22</b> is part of a discharge circuit, which is activated by the pulse-width-modulated actuating signal S<b>1</b> and discharges the capacitive storage element C when the first switch T<b>1</b> is gated in blocking mode. For this, the discharge circuit is connected between the capacitive storage element C and a terminal for reference potential GND and it has a switch <b>26</b>, which allows a current to flow to the capacitive storage element C when the actuating signal S<b>1</b> assumes a level at which the first switch T<b>1</b> is gated in blocking mode. For this, this switch <b>26</b> is activated across an inverter by the actuating signal S<b>1</b>. The discharge circuit, furthermore, contains a current amplifier <b>24</b>, which amplifies the current I<b>22</b> produced by the second voltage-controlled current source <b>22</b> with the regulating signal value S<b>29</b> produced by a regulating circuit <b>29</b>. For simplicity of representation, this current amplifier is shown as a multiplier, which is connected in the current path between the second current source <b>22</b> and the capacitive storage element C.</p>
<p id="p-0047" num="0046">In a manner not described in further detail, a multiplication of the current I<b>22</b> delivered by the voltage-controlled current source <b>22</b> with the regulating signal value S<b>29</b> is of course tantamount to a multiplication of the control signal furnished to the current source <b>22</b>, which is proportional to the output voltage Vout, with the regulating signal value S<b>29</b>. In this case, a multiplier is not connected in the current path between the current path <b>22</b> and the capacitive storage element C, but instead is connected in series with the control input of the current source <b>22</b> (not shown).</p>
<p id="p-0048" num="0047">A discharging current produced by the explained discharge circuit is designated as Id in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0049" num="0048">The voltage across the capacitor C and, thus, the simulated current measurement signal has a triangular function, for which during one actuation period of the actuating signal:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vc</i>(<i>t</i>)=<i>V</i>0<i>−ΔV/</i>2<i>+mC</i>1<i>·t </i>for 0<i>≦t≦T</i>on   (2a)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vc</i>(<i>t</i>)=<i>V</i>0<i>+ΔV/</i>2<i>−mC</i>2·(<i>t−T</i>on) for <i>T</i>on≦<i>t≦T</i>off   (2b).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0050" num="0049">Here, V<b>0</b> is the instantaneous mean value of the voltage across the capacitive storage element C and ΔV is the amplitude of the triangular function during the actuation period. Furthermore:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>mC</i>1<i>=Ic/C=k·</i>(<i>V</i>in−<i>V</i>out)/<i>C</i>  (3a)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>mC</i>2<i>=Id/C=k·V</i>out/<i>C</i>  (3b).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0051" num="0050">Here, k designates the proportionality factor between the charging current Ic and the difference between the input voltage and output voltage Vin−Vout and the proportionality factor between the discharging current Id and the output voltage Vout.</p>
<p id="p-0052" num="0051">To simplify the further discussion, it is assumed that the proportionality factor k corresponds in magnitude to the instantaneous value of the regulating signal value S<b>29</b>. The proportionality factors between the current I<b>21</b> of the first current source <b>21</b> and the input voltage/output voltage difference Vin−Vout and between the current I<b>22</b> of the second current source <b>22</b> and the output voltage Vout are then equal 1 ampere/volt. The time plot of the simulated current measurement signal Vc during an actuation period of the actuating signal is illustrated in <figref idref="DRAWINGS">FIG. 4</figref><i>b. </i></p>
<p id="p-0053" num="0052">The purpose of the measuring and regulating arrangement is to adjust this time function so that it is proportional to the time function of the current across the inductance Iout. For the time function represented in <figref idref="DRAWINGS">FIG. 4</figref><i>a </i>for this current Iout during one actuation period of the switch, taking into account the relationships (1a), we have:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i>out(<i>t</i>)=<i>I</i>0−Δ<i>I/</i>2<i>+mL</i>1<i>·t </i>for 0<i>≦t≦T</i>on   (4a)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i>out(<i>t</i>)=<i>I</i>0+Δ<i>I/</i>2<i>−mL</i>2·(<i>t−T</i>on) for <i>T</i>on≦<i>t≦T</i>on   (4b),<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0054" num="0053">Where
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>mL</i>1=(<i>V</i>in−<i>V</i>out)/<i>L</i>  (5a)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>mL</i>2<i>=V</i>out/<i>L</i>  (5b)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0055" num="0054">I<b>0</b> here is the instantaneous mean value of the current and ΔI is the amplitude of the triangular-shaped function of the current Iout during the actuation period under consideration.</p>
<p id="p-0056" num="0055">A comparison of equations (2a) and (4a), as well as (2b) and (4b), shows that, under ideal conditions, that is, an exact determination of the input and the output voltage Vin, Vout, disregarding second-order effects in the inductance Lout, disregarding leakage currents in the capacitive storage element C, and disregarding further spurious effects, the simulated current measurement signal Vc follows the current across the inductance Iout and is proportional to this current Iout. For the ratio between the simulated current measurement signal Vc and the inductance current Iout during the rising edge we have:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i>out(<i>t</i>)/<i>Vc</i>(<i>t</i>)=<i>mL</i>1<i>/mC</i>1<i>=C</i>/(<i>L·k</i>)   (6a)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0057" num="0056">and during the falling edge
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I</i>out(<i>t</i>)/<i>Vc</i>(<i>t</i>)=<i>mL</i>2<i>/mC</i>2<i>=C</i>/(<i>L·k</i>)   (6b)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0058" num="0057">Under real, that is, not ideal conditions, the above-mentioned effects cannot be disregarded. Furthermore, the value of the externally connected inductance Lout in the current measuring arrangement <b>20</b> is not known—unlike the capacitance value of the capacitive storage element C, which can be adjusted exactly when designing the circuit.</p>
<p id="p-0059" num="0058">In order for the current measurement signal Vc to exactly mimic the variation in the inductance current Iout despite the mentioned spurious effects and in order to produce the current measurement signal Vc in a known relationship to the inductance current Iout despite the unknown value of the inductance Lout, the current measuring arrangement <b>20</b> has a loop with the regulating signal circuit <b>29</b>. The purpose of this regulating arrangement is to control the gain of the amplification arrangements <b>23</b>, <b>24</b> of the charging and discharging circuits so that the proportionality factor between the simulated current measurement signal Vc and the inductance current Iout corresponds to the proportionality factor between the actually measured current measurement signal Vs and the inductance current Iout. For the example depicted, using a measurement arrangement according to <figref idref="DRAWINGS">FIG. 3</figref> to generate the actual measurement signal, we have:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vc</i>(<i>t</i>)=<i>Ai·Rs·I</i>out(<i>t</i>),   (7)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where Ai is the gain of the amplifier <b>16</b> and Rs is the value of the measuring resistor. In other words: The measuring and regulating arrangement <b>20</b> with the regulating circuit <b>29</b> produces the simulated measurement signal in such a way that it extrapolates, over the entire actuation period, the measurement signal Vs present only during the off-period, which in the extreme case need be present only at one instant during the actuation period.
</p>
<p id="p-0060" num="0059">For this, the regulating signal circuit <b>29</b>, which establishes, via the regulating signal S<b>29</b>, the proportionality factor between the charging current Ic and the input voltage/output voltage difference Vin−Vout and the proportionality factor between the discharging current Id and the output voltage, receives a first sampled signal Vs(k) and a second sampled signal Vc(k). The first sampled signal Vs(k) corresponds to a sampled value of the current measurement signal Vs at a given time during a period of the actuating signal S<b>1</b>, and the second sampled signal corresponds to a sampled value of the simulated current measurement signal Vc during the same sampling time of the actuation period. In order to sample the current measurement signal Vs, a first sampling device <b>27</b> is provided, which produces the first sampled signal Vs(k), and for the sampling of the simulated current measurement signal Vc there is provided a second sampling device <b>28</b>, which produces the second sampled signal Vc(k). The sampling is done in accordance with the actuating signal S<b>1</b> each time at a given moment within an actuation period, for example, a given interval after the start of the on-period or after the start of the off-period.</p>
<p id="p-0061" num="0060">The regulating signal circuit <b>29</b> is configured so as to update the regulating signal S<b>29</b> at the start of each actuation period of the actuating signal, by multiplying a regulating signal value S<b>29</b>(k) present during a k-th actuation period with the quotient of the first and second sampled value, in order to form a regulating signal value S<b>29</b> (k+1) for the following k+1-th actuation period. Thus:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i>29(<i>k+</i>1)=<i>S</i>29(<i>k</i>)·(<i>Vs</i>(<i>k</i>)/<i>Vc</i>(<i>k</i>))   (8),<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0062" num="0061">An exemplary embodiment of such a regulating signal circuit <b>29</b> is illustrated in <figref idref="DRAWINGS">FIG. 5</figref>. The regulating signal circuit <b>29</b> includes a divider <b>291</b>, which receives the first and second sampled value Vs(k), Vc(k), and outputs the quotient Vs(k)/Vc(k) of these two sampled values. The regulating signal circuit <b>29</b>, furthermore, includes a storage, which outputs the instantaneous regulating signal value S<b>29</b>(k). This instantaneous regulating signal value is fed back to an input of a multiplier <b>292</b>, the other input of which receives the quotient Vs(k)/Vc(k). The signal value Vs(k)/Vc(k)·S<b>29</b>(k) present at the output of the multiplier is furnished to an input of the storage, in order to update the stored value once per actuation period. The updating of this value in the storage <b>293</b> occurs, for example, in accordance with the actuating signal S<b>1</b> at the start of each actuation period. Instead of the actuating signal S<b>1</b>, a clock signal dictating the cycle of the actuating signal S<b>1</b>, such as a clock signal CLK explained in connection with <figref idref="DRAWINGS">FIG. 2</figref>, could of course also be used to update the storage.</p>
<p id="p-0063" num="0062">The mode of functioning of the mentioned regulating arrangement will now be explained by means of <figref idref="DRAWINGS">FIG. 6</figref>, which illustrates the time functions of the simulated current measurement signal Vc(t) and the actual current measurement signal Vs(t) during one actuation period. In the example illustrated, it is assumed that the initial values of the two signals are equal at the start of the actuation period Tp. Such an equality of initial values can be accomplished by a calibration step, to be explained further on by means of <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0064" num="0063">The signal Vs(t) in <figref idref="DRAWINGS">FIG. 6</figref> represents a signal proportional to the inductance current Iout according to relation (7), which corresponds for a segment—during the off-period Toff in the example—to the signal produced by the measurement arrangement <b>11</b>. The slope of the two signals Vc(t), Vs(t) is proportional during the on-period Ton to the input voltage/output voltage difference Vin−Vout, while the slope during the off-period Toff is proportional to the output voltage Vout. Contrary to the desired effect, the simulated regulating signal Vc(t) in the example at first rises more steeply than the actual measurement signal Vs(t) and accordingly drops more steeply, that is, the proportionality factor between the input/output voltage difference Vin−Vout and the charging current Ic and between the output voltage Vout and the discharging current Id is not adjusted to the desired value. In order to accomplish this, sampled values of the simulated signal Vc(t) and the measurement signal Vs(t) are determined at any given time t<b>0</b> during the actuation period. For these sampled values, we have:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vs</i>(<i>k</i>)=<i>Vs</i>(<i>t</i>0)=<i>Ai·Rs·I</i>out(<i>t</i>0)=<i>Ai·Rs/L</i>out·[(<i>V</i>in−<i>V</i>out)·<i>T</i>on−<i>V</i>out·(<i>t</i>0<i>−T</i>on)]  (9)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vc</i>(<i>k</i>)=<i>Vc</i>(<i>t</i>0)=<i>Ic·T</i>on−<i>Id·</i>(<i>t</i>0<i>−T</i>on)=<i>S</i>29(<i>k</i>)/<i>C</i>·[(<i>V</i>in−<i>V</i>out)·<i>T</i>on−<i>V</i>out·(<i>t</i>0<i>−T</i>on)]  (10)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0065" num="0064">For the quotient of the two sampled values, we have:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vs</i>(<i>k</i>)/<i>Vc</i>(<i>k</i>)=<i>Ai·Rs·C/</i>(<i>L</i>out·<i>S</i>29(<i>k</i>))   (11)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0066" num="0065">This quotient during the first period represented in <figref idref="DRAWINGS">FIG. 5</figref> is not equal to unity; in the special case, it is less than unity. The desired goal, namely, identical time functions of the simulated measurement signal Vc(t) and the measured signal, is achieved if, during the next period, Vs(k+1)=Vc(k+1), that is, if:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vs</i>(<i>k</i>+1)/<i>Vc</i>(<i>k+</i>1)=<i>Ai·Rs·C/</i>(<i>L</i>out·<i>S</i>29(<i>k+</i>1))=1   (12).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0067" num="0066">This is accomplished if, during the next period K+1, we have for the regulating signal value S<b>29</b>(k+1):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i>29(<i>k+</i>1)=<i>S</i>29(<i>k</i>)·<i>Vs</i>(<i>k</i>)/<i>Vc</i>(<i>k</i>)   (13).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0068" num="0067">It should be pointed out that the sampling of the time functions of the two signals Vs(t), Vc(t) can occur at any given time during an actuation period. In the example, a sampling occurs during the falling edge, because the measurement arrangement <b>11</b> according to <figref idref="DRAWINGS">FIG. 11</figref> is configured to generate the measurement signal Vs only during the falling edge, so that only during the falling edge is a comparison value available for the simulated measurement signal Vc.</p>
<p id="p-0069" num="0068">The simulated measurement signal Vc in the above-explained example is generated such that its time function follows a measurement signal Vs obtained by multiplying the inductance current Iout with the factor Ai·Rs. Such a measurement signal is furnished by the measurement arrangement <b>11</b> during the off-period in the example of <figref idref="DRAWINGS">FIG. 1</figref>. This proportionality factor is dependent on the parameters of the measurement arrangement. If a different proportionality factor should be desired, the possibility exists of connecting an amplifier between the regulating arrangement <b>29</b> and the charging and discharging circuit.</p>
<p id="p-0070" num="0069">The regulating of the proportionality factor as explained above according to <figref idref="DRAWINGS">FIG. 6</figref> in order to adjust the charging and discharging currents Ic, Id functions when the measurement voltage Vs and the simulated measurement voltage Vc have identical d.c. signal components. In order to adjust such identical d.c. signal components at the start of the further regulation process, the current measurement arrangement has a calibration arrangement, which is configured so as to supply a calibration current Iadj to the capacitive storage element. The sequence of such a calibration process is explained hereinbelow with reference to <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 7</figref> illustrates the time functions of a signal Vs proportional to the inductance current, the simulated measurement signal Vc before, during, and after the calibration process, and the time function of a calibration current during the calibration process.</p>
<p id="p-0072" num="0071">Prior to the calibration, which starts at a time t<b>1</b> with the start of an actuation period, the time functions of the signal Vs proportional to the inductance current, which corresponds for a segment to the signal generated by the measurement arrangement <b>11</b>, and the simulated signal Vc have different d.c. signal components, which make it difficult or impossible to adapt the time function of the simulated signal Vc to the time function of the signal Vs by merely changing the charging and discharging currents. The calibration current Iadj flowing during the calibration is used to adapt the d.c. signal component of the simulated signal Vc to the d.c. signal component of the signal Vs.</p>
<p id="p-0073" num="0072">In order to produce the calibration current Iadj, during an actuation period, before the start of the calibration process, at a predetermined sampling time within this actuation period, one determines sampled values of the measurement signal Vs and the simulated signal Vc, which are designated hereinbelow as Vs(i) and Vc(i). The calibration current Iadj during the following period is now generated so that, at a time within this actuation period that corresponds to the sampling time within the preceding period, the measurement signal Vs corresponds to the simulated signal, so that: Vs(i+1)=Vc(i+1). If the charging current Ic is at first unchanged and the discharging current is at first unchanged, and the duty cycle remains the same, we must have:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Vc</i>(<i>n</i>)+<i>Iadj/C·T</i>1<i>=Vs</i>(<i>i</i>+1)   (14).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0074" num="0073">Here, T<b>1</b> is the time interval between the start of the actuation period and the time of the sampling. If the duty cycle of the actuating signal remains the same and the input and output voltages Vin, Vout are assumed to be constant, the time function of the measurement signal during the calibration period corresponds to the time function before the calibration period, so that Vs(i+1)=Vs(i). We then have for the charging current:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Iadj=C/T</i>1·(<i>Vs</i>(<i>i</i>)−<i>Vc</i>(<i>i</i>))   (15).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0075" num="0074">The calibration current Iadj is thus dependent on the difference between the sampled values Vs(i), Vc(i) and is generated in the layout according to <figref idref="DRAWINGS">FIG. 1</figref> by a transconductance amplifier (OTA) <b>31</b>, whose input receives the two sampled values, and which has the desired gain factor, which according to (15) is dependent on the known capacitance value of the capacitive storage element C and the known time position of the sampling time within the actuation period.</p>
<p id="p-0076" num="0075">In one case, during the calibration, the duty cycle of the actuating signal S<b>1</b> is constant during the calibration phase. The calibration phase will include at least the period before the actual calibration, during which the sampled values Vs(i), Vc(i) are determined (which corresponds to the period before time t<b>1</b> in <figref idref="DRAWINGS">FIG. 7</figref>), and the actuation period during which the calibration current Iadj flows (corresponding to the period after the time t<b>1</b> in <figref idref="DRAWINGS">FIG. 7</figref>).</p>
<p id="p-0077" num="0076">In order for the simulated signal Vc to follow the measurement signal after the end of the calibration current Iadj, an adjustment of the charging and discharging current Ic, Id is necessary after applying the calibration has stopped. The required steps for adjusting the charging and discharging currents Ic, Id are explained in the following:</p>
<p id="p-0078" num="0077">The sampled values Vc(i) and Vc(i) obtained by sampling Vs and Vc signal are stored, for example in the sampling units <b>27</b>, <b>28</b> of <figref idref="DRAWINGS">FIG. 1</figref>. These sampling values are used for calculating the difference Vs(i)−Vc(i) which is required for calculating the adjustment current Iadj in the OTA. The OTA <b>31</b> has a gain factor (gm) equal to gm=C/T<b>1</b>, where C is the capacitor used for the current reconstruction and T<b>1</b> is the time dedicated to the d.c. offset recovery.</p>
<p id="p-0079" num="0078">Before the calibration current Iadj is applied the charge and discharge currents are not updated, that is there is a fixed proportional factor between the charge current Ic and the input-output voltage difference Vin−Vout and the same fixed proportional factor between the discharge current and the output voltage starting with the time, when the voltage across the capacitor is zero and the current through the inductor is zero. Assuming the system is in steady state during the calibration period, that is the d.c. offset between Vc and Vs is the same during the period when Vs(i) and Vc(i) are obtained and at the beginning of the period when the calibration current is applied. The reconstructed signal Vc in this case follows the signal Vc after the charge and discharge currents are updated in accordance with (13), that is:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Ic</i>(<i>k</i>+1)=<i>Vs</i>(<i>i</i>)/<i>Vc</i>(<i>i</i>)*<i>Ic</i>(<i>k</i>),   (16a)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Id</i>(<i>k</i>+1)=<i>Vs</i>(<i>i</i>)/<i>Vc</i>(<i>i</i>)*<i>Id</i>(<i>k</i>)   (16b)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
at the time, when the calibration current Iadj turns zero. Starting from then, the charge and discharge currents are updated each cycle using the sample values of both signals Vs and Vc.
</p>
<p id="p-0080" num="0079">Summarizing the above it is relevant for the proportional factor between the charge current Ic and the input-output voltage difference Vib−Vout and for the proportional factor between the discharge current Id and the output voltage Vout not to be updated until the d.c. offset difference between Vs and Vc is equalized using the adjustment current Iadj. A first update of the charge and discharge currents Ic, Id, and the regulation signal S<b>29</b> respectively, is then performed after the d.c. offset has been equalized. After having equalized said d.c. offset the charge and discharge currents Ic, Id are updated with each cycle.</p>
<p id="p-0081" num="0080">The controlling of the calibration process occurs (see <figref idref="DRAWINGS">FIG. 1</figref>) via a control circuit <b>32</b>, which enables the generating of the calibration current Iadj by the amplifier <b>31</b> via an enabling signal EN, which is likewise represented in <figref idref="DRAWINGS">FIG. 7</figref>. This control circuit <b>32</b> also controls the pulse width modulator <b>40</b> via another control signal S<b>32</b>, so as to bring about the generating of an actuating signal S<b>1</b> with a constant duty cycle during the calibration phase.</p>
<p id="p-0082" num="0081">Referring to <figref idref="DRAWINGS">FIG. 8</figref>, the pulse width modulator <b>40</b> has, for example, a clock generator <b>41</b>, which produces a clock signal CLK, specifying the start of the on-periods of the actuating signal S<b>1</b> and, thus, the cycle of the actuating signal S<b>1</b>. This clock signal CLK is furnished to the set input of a RS flip-flop, whose output Q produces the actuating signal S<b>1</b>. A resetting of the flip-flop <b>42</b>, and thus the generating of an off-level, occurs during normal operation after the calibration is complete, dependent on a comparing of the simulated measurement signal Vc and the regulating signal S<b>14</b>. For the comparing of these two signals, there is a comparator <b>56</b>, whose output signal S<b>46</b> resets the flip-flop <b>42</b> during normal operation. For switching between calibration mode and normal operation, there is a multiplexer <b>44</b>, which is actuated by the control signal S<b>32</b> of the control circuit <b>32</b> and which furnishes the comparator signal S<b>46</b> to the reset input of the flip-flop <b>42</b> during normal operation. In order to accomplish a constant duty cycle during calibration mode, a delay element <b>45</b> is provided, which receives the clock signal CLK and whose output signal is furnished to the reset input of the flip-flop <b>42</b> during calibration mode. The length of the delay of this delay element determines a constant on-period Ton during calibration mode and, thus, a constant duty cycle.</p>
<p id="p-0083" num="0082">As an alternative to generating the simulated signal Vc as an analog signal, this simulated signal can also be produced as a digital signal (see <figref idref="DRAWINGS">FIG. 9</figref>). The capacitive storage element according to <figref idref="DRAWINGS">FIG. 1</figref> is replaced here by a digital counter <b>201</b>, which outputs the simulated measurement Vc in the form of a digital numerical value. The counter has a first clock input for incrementing the count and a second input for decrementing the count. The current sources according to <figref idref="DRAWINGS">FIG. 1</figref> are replaced in this embodiment by a first and second voltage-controlled oscillator (VCO) <b>202</b>, <b>204</b>, which have first and second clock signals for incrementing and decrementing the count. The clock signals of the voltage-controlled oscillators are furnished to frequency multipliers, which multiply the clock frequency with the preferably likewise digitally produced regulating signal S<b>29</b>.</p>
<p id="p-0084" num="0083">The frequency-multiplied clock signal of the first oscillator <b>202</b>, whose frequency is proportional to the input voltage/output voltage difference Vin−Vout, is furnished to the increment input during the on-period of the actuating signal S<b>1</b> via a first switch <b>207</b>, activated by the actuating signal S<b>1</b>. The frequency-multiplied clock signal of the second oscillator <b>204</b>, whose frequency is proportional to the output voltage Vout, is furnished to the decrement input during the off-period of the actuating signal S<b>1</b> via a second switch <b>208</b>, activated by the inverted actuating signal S<b>1</b>.</p>
<p id="p-0085" num="0084">Both the counter <b>201</b> and the previously explained capacitive storage element are part of a triangular signal generating circuit, which simulates the triangular current across the inductance Lout.</p>
<p id="p-0086" num="0085">Although specific embodiments have been illustrated and described herein, it will be appreciated by those of ordinary skill in the art that a variety of alternate and/or equivalent implementations may be substituted for the specific embodiments shown and described without departing from the scope of the present invention. This application is intended to cover any adaptations or variations of the specific embodiments discussed herein. Therefore, it is intended that this invention be limited only by the claims and the equivalents thereof.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An actuation circuit for a switch element regulating the power consumption of an inductive energy storage element in a switching converter, used to convert an input voltage into an output voltage, the circuit comprising:
<claim-text>a pulse width modulator circuit configured to provide a pulse-width-modulated actuating signal for the switch element depending on a regulating signal dependent on the output voltage and a current measurement signal dependent on a current across the inductive storage element; and</claim-text>
<claim-text>an arrangement configured to provide the current measurement signal;</claim-text>
<claim-text>wherein the arrangement is a measuring and regulating arrangement, configured to simulate the current measurement signal from a signal dependent on the output voltage, a signal dependent on the difference between the input voltage and the output voltage, and at least a first sampled value of a signal proportional to the current across the inductive storage element during a period of the pulse-width-modulated actuating signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The actuation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the measuring and regulating arrangement comprises:
<claim-text>a triangular signal generating circuit controlled by the actuating signal, which produces the simulated current measurement signal and which is configured to generate the simulated signal such that its time change during an on-period of the actuating signal is proportional via a proportionality factor to the difference between the input voltage and the output voltage and, during an off-period, is proportional via the proportionality factor to the output voltage; and</claim-text>
<claim-text>a regulating arrangement, which receives during an actuation period at least one sampled value of a signal proportional to the current across the inductance and at least one sampled value of the simulated current measurement signal and which produces a regulating signal, dependent on the sampled values, that is furnished to the triangular signal generating circuit and used to adjust the proportionality factor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The actuation circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the regulating signal generating circuit produces the regulating signal such that:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i>29(<i>k</i>+1)=<i>S</i>29(<i>k</i>)·(<i>Vs</i>(<i>k</i>)/<i>Vc</i>(<i>k</i>)),<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where S<b>29</b>(k) designates the regulating signal value during a first actuation period, Vs(k) is the sampled value of the signal proportional to the current across the inductance during the first actuation period, Vc(k) is the sampled value of the simulated signal during the first actuation period, and S<b>29</b>(k+1) is the regulating signal value during an actuation period following the first actuation period.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The actuation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further including a current measurement arrangement for providing the signal proportional to the current across the inductive storage element.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The actuation circuit of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the current measurement arrangement is configured so as to generate the signal proportional to the current across the inductive storage element only during an on-period of the actuating signal.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The actuation circuit of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the current measurement arrangement is configured so as to generate the signal proportional to the current across the inductive storage element only during an off-period of the actuating signal.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The actuation circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the triangular signal generator circuit further comprises:
<claim-text>a capacitive storage element, from which the simulated signal can be picked off; and</claim-text>
<claim-text>a charging and discharging circuit connected to the capacitive storage element that charges the capacitive storage element in accordance with the pulse-width-modulated actuating signal with a charging current that is at least approximately proportional to the difference between the input voltage and the output voltage and to the regulating signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The actuation circuit of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the charging and discharging circuit discharges the capacitive storage element with a discharging current at least approximately proportional to the output voltage and the regulating signal.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The actuation circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the charging and discharging circuit further comprises a charging circuit for producing a charging current proportional to the difference between the input voltage and the output voltage and to the regulating signal and a first switch connected in a current path of the charging circuit and the capacitive storage element and activated by the actuating signal.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The actuation circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the charging and discharging circuit further comprises a discharging circuit for producing a discharging current proportional to the output voltage and to the regulating signal and a second switch, connected in a current path of the discharge circuit and the capacitive storage element and activated in complementary fashion to the first switch.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The actuation circuit of <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising a calibration circuit coupled to the capacitive storage element, which produces a calibration current for the capacitive storage element in accordance with a calibration signal.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The actuation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the pulse width modulator circuit is configured so as to produce an actuating signal during a calibration process with a constant duty cycle independent of the regulating signal.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The actuation circuit of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the calibration current is dependent on the difference between the first and second sampled value, the capacitance value of the capacitive storage element, and the period of the calibration signal.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The actuation circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the triangular signal generator circuit further comprises:
<claim-text>a counter with an output that produces a count, representing the simulated current measurement signal, with a first input to receive a signal incrementing the count and with a second input receiving a signal decrementing the count;</claim-text>
<claim-text>an incrementing circuit, that is coupled to the first input of the counter and that produces a clocked incrementing signal with a frequency proportional to the difference between the input voltage and the output voltage and to the regulating signal;</claim-text>
<claim-text>a decrementing circuit that is coupled to the second input of the counter and that produces a clocked decrementing signal with a frequency proportional to the output voltage and to the regulating signal; and</claim-text>
<claim-text>a switch arrangement that furnishes the incrementing signal and the decrementing signal to the first and second input of the counter in accordance with the actuating signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The actuation circuit of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the incrementing circuit has a first voltage-controlled oscillator, that receives a signal dependent on the difference between the input voltage and the output voltage, and wherein the decrementing circuit has a second voltage-controlled oscillator, which receives a signal dependent on the output voltage.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The actuation circuit of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein frequency multipliers receiving the regulating signal are connected between the voltage-controlled oscillators and the inputs of the counter.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. An actuation circuit for a switch element in a switching converter used to convert an input voltage to an output voltage comprising:
<claim-text>modulation means for providing a pulse-width modulated actuating signal for the switch element depending on a regulating signal dependent on the output voltage and on a current measurement signal dependent on a current across an inductive storage element; and</claim-text>
<claim-text>measurement and regulating means for providing a measurement signal from a signal dependent on the output voltage, a signal dependent on the difference between the input voltage and the output voltage, and at least a first sampled valve of a signal proportional to the current across an inductive storage element during a period of the pulse-width modulated actuating signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The actuation circuit of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising a triangular signal generating circuit controlled by the actuating signal and configured to produce the simulated current measurement signal and to generate the simulated signal such that its time change during an on-period of the actuating signal is proportional via a proportionality factor to the difference between the input voltage and the output voltage and, during an off-period, is proportional via the proportionality factor to the output voltage.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The actuation circuit of <claim-ref idref="CLM-00018">claim 18</claim-ref>, further comprising a regulating arrangement, which receives during an actuation period at least one sampled value of a signal proportional to the current across the inductance and at least one sampled value of the simulated current measurement signal and which produces a regulating signal, dependent on the sampled values, that is furnished to the triangular signal generating circuit and used to adjust the proportionality factor.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The actuation circuit of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the regulating signal generating circuit produces the regulating signal such that:
<claim-text>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i>29(<i>k</i>+1)=<i>S</i>29(<i>k</i>)·(<i>Vs</i>(<i>k</i>)/<i>Vc</i>(<i>k</i>)),<?in-line-formulae description="In-line Formulae" end="tail"?>
</claim-text>
</claim-text>
<claim-text>where S<b>29</b>(k) designates the regulating signal value during a first actuation period, Vs(k) is the sampled value of the signal proportional to the current across the inductance during the first actuation period, Vc(k) is the sampled value of the simulated signal during the first actuation period, and S<b>29</b>(k+1) is the regulating signal value during an actuation period following the first actuation period.</claim-text>
</claim>
</claims>
</us-patent-grant>
