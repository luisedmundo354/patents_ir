<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298982-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298982</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11476129</doc-number>
<date>20060628</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2003-180267</doc-number>
<date>20030624</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>03</class>
<subclass>G</subclass>
<main-group>15</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>399 45</main-classification>
<further-classification>283 72</further-classification>
<further-classification>380 55</further-classification>
</classification-national>
<invention-title id="d0e69">Image forming method and apparatus for setting an image forming parameter based on a printing medium</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5471281</doc-number>
<kind>A</kind>
<name>Hayashi et al.</name>
<date>19951100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5481334</doc-number>
<kind>A</kind>
<name>Arimoto et al.</name>
<date>19960100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5604596</doc-number>
<kind>A</kind>
<name>Ukai et al.</name>
<date>19970200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5617187</doc-number>
<kind>A</kind>
<name>Hayashi et al.</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5631723</doc-number>
<kind>A</kind>
<name>Arimoto et al.</name>
<date>19970500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5650863</doc-number>
<kind>A</kind>
<name>Utagawa et al.</name>
<date>19970700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5689757</doc-number>
<kind>A</kind>
<name>Ferrante et al.</name>
<date>19971100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5925889</doc-number>
<kind>A</kind>
<name>Guillory et al.</name>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6051826</doc-number>
<kind>A</kind>
<name>Arimoto et al.</name>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6078682</doc-number>
<kind>A</kind>
<name>Tanioka et al.</name>
<date>20000600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6668144</doc-number>
<kind>B2</kind>
<name>Maruyama</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6785507</doc-number>
<kind>B2</kind>
<name>Asai et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>7095968</doc-number>
<kind>B2</kind>
<name>Akita et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>399 45</main-classification></classification-national>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2002/0071688</doc-number>
<kind>A1</kind>
<name>Maruyama</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>JP</country>
<doc-number>11-216938</doc-number>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>JP</country>
<doc-number>11-271037</doc-number>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>2002-182518</doc-number>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>399 45</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>283 72</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>380 55</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>10862384</doc-number>
<kind>00</kind>
<date>20040608</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7095968</doc-number>
<kind>A </kind>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11476129</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060245772</doc-number>
<kind>A1</kind>
<date>20061102</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Akita</last-name>
<first-name>Masanori</first-name>
<address>
<city>Shizuoka</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Nakai</last-name>
<first-name>Tomoaki</first-name>
<address>
<city>Shizuoka</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Fitzpatrick, Cella, Harper &amp; Scinto</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Gray</last-name>
<first-name>David M.</first-name>
<department>2852</department>
</primary-examiner>
<assistant-examiner>
<last-name>LaBombard</last-name>
<first-name>Ruth N.</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The type of printing medium on which an image will be formed is discriminated based upon the image of the medium surface read by an image reading unit for reading the surface as an image. If the discriminated medium type is other than a prescribed printing medium, the image is formed without changing an image formation parameter. When the type of printing medium and the state of the surface are discriminated, image formation can be performed in the most stable image forming mode if an abnormality occurs.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="113.20mm" wi="177.12mm" file="US07298982-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="183.98mm" wi="134.11mm" orientation="landscape" file="US07298982-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="215.22mm" wi="156.72mm" file="US07298982-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="130.22mm" wi="167.22mm" file="US07298982-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="154.77mm" wi="159.09mm" file="US07298982-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="139.62mm" wi="163.41mm" file="US07298982-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="85.85mm" wi="60.45mm" file="US07298982-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="80.77mm" wi="65.87mm" file="US07298982-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="78.40mm" wi="62.40mm" file="US07298982-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="125.98mm" wi="135.55mm" file="US07298982-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="166.62mm" wi="131.57mm" file="US07298982-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application is a division of Application No. 10/862,384 filed Jun. 8, 2004, now U.S. Pat. No. 7,095,968.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">This invention relates to a technique, which has image reading means for reading the surface of a printing medium on which an image will be formed, for setting an image forming parameter, which is based upon the surface image that has been read, and forming an image.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">In an image forming apparatus such as a laser printer, a plurality of printing modes are set in order to obtain the optimum image for dealing with a printing paper of a large number of types. It is so arranged that each printing mode is set by the user him/herself at the time of printing. This means that the user is required to have the knowledge for distinguishing the type of paper and that the user must set the apparatus to the type of paper him/herself. Another problem is that the best image will not be obtained if the setting is made erroneously.</p>
<p id="p-0005" num="0004">An image forming apparatus that has become available in recent years detects the difference between the amount of regular reflected light, which is reflected by a paper surface, and the amount of diffused reflected light and discriminates the type of paper automatically, thereby obtaining the optimum image by performing control of image formation that conforms to the result of detection (e.g., see Patent Reference 1: Japanese Patent Application Laid-Open No. 11-216938).</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 9</figref> is a sectional view illustrating a printer glossmeter described in Patent Reference 1. As shown in <figref idref="DRAWINGS">FIG. 9</figref>, a gloss detector <b>200</b> has a block <b>210</b> mounted on a printed circuit board <b>220</b> in the usual manner. A light-source tube <b>212</b> on an axis <b>213</b> and a reflecting tube <b>214</b> on an axis <b>215</b> are formed inside the block <b>210</b>. A light source <b>216</b> is situated inside the light-source tube <b>212</b> and a light sensor <b>222</b> is situated inside the light-source tube <b>212</b>. The light sensor <b>222</b> reacts mainly to spectral reflected light and discriminates low-gloss paper and high-gloss paper.</p>
<p id="p-0007" num="0006">Further, a technique for determining the coarseness of paper by capturing the surface image of the paper by a CCD area sensor and finding the fractal dimension has been proposed (e.g., see Patent Reference 2: Japanese Patent Application Laid-Open No. 11-271037).</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart illustrating the basic operation of a smoothness detector described in Patent Reference 2. The surface of a printing medium is illuminated with light by area illumination (step S<b>2</b>-<b>1</b>). Next, a shadow image formed by the reflected light of area illumination is read as a planar image by image detecting means inclusive of image reading means, and grayscale information is detected as multivalued image data (step S<b>2</b>-<b>2</b>). More specifically, the reflected light resulting from the illuminating light is shadowed owing to unevenness of the printing medium, depressions appear dark and protrusions appear bright. The shadow image is detected by the CCD of the image reading means. The detected grayscale information, which is the multivalued image data, is subjected to image processing by information processing means, whereby surface roughness of the printing medium is measured and calculated (step S<b>2</b>-<b>3</b>). An image-formation parameter value corresponding to the surface roughness measured and calculated is thenceforth decided and controlled by image formation control means (step S<b>2</b>-<b>4</b>). That is, in this example of the prior art, the surface roughness of the printing medium can be inferred by reading the grayscale information from the CCD.</p>
<p id="p-0009" num="0008">Furthermore, video of a paper surface is shot, information concerning the paper is acquired and image forming conditions are changed over (e.g., see Patent Reference 3: Japanese Patent Application Laid-Open No. 2002-182518).</p>
<p id="p-0010" num="0009">By using the results obtained by discriminating types of printing media by these discrimination methods, an image forming apparatus performs printing upon selecting the printing modes that conform to the printing media of each type.</p>
<p id="p-0011" num="0010">However, the surface conditions of a paper type differ depending upon the manufacturing lot and environment, and therefore the results of discrimination tend to vary. Further, even if many printing modes are provided in order to perform ideal image formation control in dependence upon various paper types, many types of printing paper are available on the market and therefore it is very difficult to set the correct paper-type mode without mistaking the paper type.</p>
<p id="p-0012" num="0011">Accordingly, with a paper type in the vicinity of a threshold value, printing may be performed in the wrong mode if discrimination performed automatically is erroneous. If discrimination performed manually is erroneous, a case may arise in which printing cannot be performed.</p>
<p id="p-0013" num="0012">Further, in a case where paper type has been discriminated using an image sensor such as an area sensor or line sensor, the amount of image data becomes very large and communication error becomes a possibility. If printing is halted whenever such anomalies occur, there is a possibility that the user will be subjected to stress.</p>
<p id="p-0014" num="0013">Furthermore, with regard to printing on translucent media, there are cases where printing is performed without adding on a counterfeit preventing signal. Consequently, if plain paper is erroneously discriminated as translucent media, there is the danger that printing will be performed without printing the counterfeit preventing signal.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0015" num="0014">Accordingly, an object of the present invention is to form an image in the most stable image forming mode in a case where an abnormality has occurred when the type of printing medium or surface condition is discriminated.</p>
<p id="p-0016" num="0015">Another object of the present invention is to add on a counterfeit preventing signal without changing mode in a case where a determination as to whether a printing medium is a translucent medium or not is ambiguous or in a case where a communication malfunction or sensor abnormality occurs during a continuous printing mode for continuous printing on a translucent medium, thereby enabling stable operation and, at the same time, preventing counterfeiting in reliable fashion.</p>
<p id="p-0017" num="0016">According to the present invention, the foregoing objects are attained by providing an image forming method, which has image reading means for reading the surface of a printing medium on which an image will be formed, for setting an image forming parameter based upon the surface image that has been read by the image reading means, and forming an image, the method comprising the steps of: discriminating the type of printing medium based upon the surface image of the printing medium that has been read by the image reading means; and forming an image, without changing the image forming parameter, if it has been discriminated at the discriminating step that the printing medium is of a type other than a prescribed printing medium.</p>
<p id="p-0018" num="0017">In accordance with an embodiment of the present invention, there is provided an image forming apparatus, which has image reading means for reading the surface of a printing medium on which an image will be formed, for setting an image forming parameter based upon the surface image that has been read by the image reading means, and forming an image, the apparatus comprising: discriminating means for discriminating the type of printing medium based upon the surface image of the printing medium that has been read by the image reading means; and image forming means for forming an image, without changing the image forming parameter, if it has been discriminated by the discriminating means that the printing medium is of a type other than a prescribed printing medium.</p>
<p id="p-0019" num="0018">Other features and advantages of the present invention will be apparent from the following description taken in conjunction with the accompanying drawings, in which like reference characters designate the same or similar parts throughout the figures thereof.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 1</figref> is a sectional view illustrating the structure of an image forming apparatus according to an embodiment of the present invention;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram illustrating a plurality of units controlled by a CPU in this embodiment;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram illustrating the general construction of a sensor shown in <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram illustrating the hardware implementation of a CMOS area sensor;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram illustrating a distribution of results of detecting types of printing media by the CMOS area sensor;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram illustrating a surface image in a case where the surface of a printing medium has little unevenness;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 7</figref> is a diagram illustrating a surface image in a case where the surface of a printing medium has great unevenness;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 8</figref> is a diagram illustrating an image obtained by binarizing a surface image of the kind shown in <figref idref="DRAWINGS">FIG. 6</figref>;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 9</figref> is a sectional view of a printer glossmeter described in Patent Reference 1; and</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart illustrating the basic operation of a smoothness detector described in Patent Reference 2.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0030" num="0029">A preferred embodiment of the present invention will now be described in detail with reference to the drawings.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 1</figref> is a sectional view illustrating the structure of an image forming apparatus <b>101</b> according to an embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 1</figref>, the image forming apparatus <b>101</b> includes a paper cassette <b>102</b>, a paper feeding roller <b>103</b>, transfer-belt driving rollers <b>104</b>, a transfer belt <b>105</b>, photosensitive drums <b>106</b> to <b>109</b> for the colors yellow, magenta, cyan and black, respectively, transfer rollers <b>110</b> to <b>113</b>, cartridges <b>114</b> to <b>117</b> for the colors yellow, magenta, cyan and black, respectively, optical units <b>118</b> to <b>121</b> for the colors yellow, magenta, cyan and black, respectively, and a fixing unit <b>122</b>.</p>
<p id="p-0032" num="0031">The image forming apparatus <b>101</b> uses an electrophotographic process to transfer toner images of the colors yellow, magenta, cyan and black to printing paper, thereby superimposing the images, and thermally fixes the toner images by the fixing unit <b>122</b> based upon temperature control.</p>
<p id="p-0033" num="0032">The optical units <b>118</b> to <b>121</b> of the respective colors are arranged so as to form latent images by scanning and exposing the surfaces of the photosensitive drums <b>106</b> to <b>109</b> by laser beams. This series of image forming operations is such that scanning control is implemented in synchronized fashion to transfer the image from a predetermined position on the printing paper, which is the printing medium transported.</p>
<p id="p-0034" num="0033">The image forming apparatus <b>101</b> has a paper feeding motor for feeding and transporting the printing paper serving as the printing medium, a transfer-belt driving motor for driving the transfer-belt driving rollers <b>104</b>, a photosensitive-drum driving motor for driving the photosensitive drums <b>106</b> to <b>109</b> and the transfer rollers <b>110</b> to <b>113</b>, and a fixation driving motor for driving fixing rollers.</p>
<p id="p-0035" num="0034">An image reader <b>123</b> (also referred to as an image reading sensor) illuminates the surface of the fed and conveyed printing paper, forms an image by condensing the reflected light and detects an image in a specific area of the printing paper.</p>
<p id="p-0036" num="0035">Further, a CPU (not shown) with which the image forming apparatus <b>101</b> is equipped applies a desired amount of heat to the printing paper by the fixing unit <b>122</b>, thereby fusing and fixing the toner image on the printing paper.</p>
<p id="p-0037" num="0036">Processing executed by the control CPU for controlling the image forming process of the image forming apparatus <b>101</b> will be described next.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram illustrating a plurality of units controlled by a control CPU <b>201</b> of this embodiment. The control CPU <b>201</b> (referred to below as a CPU) in <figref idref="DRAWINGS">FIG. 2</figref> performs overall control of the image forming apparatus <b>101</b>. A sensor <b>202</b> corresponds to the image reading sensor <b>123</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>. The structure and operation of the sensor <b>202</b> will be described later. Optical units <b>203</b> to <b>206</b> correspond to the optical units <b>118</b> to <b>121</b>. Each of these includes a polygon mirror, motor and laser, scans the surface of the photosensitive drum by the laser and forms the desired latent image.</p>
<p id="p-0039" num="0038">A paper feeding motor <b>207</b> feeds and transports the printing paper serving as the printing medium, and a paper feeding solenoid <b>208</b> starts driving the paper feeding roller <b>103</b>. A paper sensor <b>209</b> senses whether or not the printing medium has been placed at a predetermined position. A high-voltage power supply <b>210</b> controls primary charging, development, primary transfer and secondary transfer bias necessary for the electrophotographic process. A photosensitive-drum driving motor <b>211</b> drives the photosensitive drums and transfer rollers. A transfer-belt driving motor <b>212</b> drives the rollers of the transfer belt and fixing unit. The CPU <b>201</b> monitors temperature by a thermister (not shown) and exercises control to hold the fixing temperature constant.</p>
<p id="p-0040" num="0039">Based upon commands from the CPU <b>201</b>, an ASIC <b>214</b> controls the sensor <b>202</b>, the speed of the motors in the optical units <b>203</b> to <b>206</b> and the speed of the paper feeding motor <b>207</b>.</p>
<p id="p-0041" num="0040">These motors are controlled by detecting a tachometer signal from the motor (not shown) and outputting an acceleration or deceleration signal to the motor in such a manner that the interval of the tachometer signal will become a prescribed length of time. This means that implementing the control circuit by the hardware of the ASIC <b>214</b> is advantageous in that the control load on the CPU <b>201</b> is alleviated.</p>
<p id="p-0042" num="0041">Upon receiving a print command in response to an indication from a host computer (not shown), the CPU <b>201</b> determines whether the printing medium is present or not by the paper sensor <b>209</b>. If the printing paper is present, the CPU <b>201</b> drives the paper feeding motor <b>207</b>, photosensitive-drum driving motor <b>211</b> and transfer-belt driving motor <b>212</b> and drives the paper feeding solenoid <b>208</b> to transport the printing medium to a predetermined position. When the printing medium is transported to the position of the sensor <b>202</b>, the CPU <b>201</b> instructs the ASIC <b>214</b> to start imaging by the sensor <b>202</b>, whereby the sensor <b>202</b> senses the image on the surface of the printing medium.</p>
<p id="p-0043" num="0042">At this time the ASIC <b>214</b> activates an SI_select signal, after which the ASIC <b>214</b> outputs a system clock (SYSCLK) of prescribed pulses at a predetermined timing and reads in imaging data that is output from the sensor <b>202</b> as an SI_out signal.</p>
<p id="p-0044" num="0043">To set the gain of the sensor <b>202</b>, the CPU <b>201</b> sets a predetermined value in a register within the ASIC <b>214</b>, in response to which the ASIC <b>214</b> activates the SI_select signal. Then, at a predetermined timing, the ASIC <b>214</b> outputs the system clock of prescribed pulses and sets gain in the sensor <b>202</b> as an SI_in signal.</p>
<p id="p-0045" num="0044">The ASIC <b>214</b> is equipped with a processing circuit for executing first and second operations, described later. The result of these operations is stored in a register within the ASIC <b>214</b>. The CPU <b>201</b> reads in the content of the register within the ASIC <b>214</b>, discriminates the type of printing medium transported and variably controls development bias conditions of the high-voltage power supply <b>210</b> in accordance with the result of discrimination so as obtain the optimum printing mode.</p>
<p id="p-0046" num="0045">At this time the CPU <b>201</b> prepares a plurality of printing modes in advance and it is assumed that image formation parameters such as an optimum development bias, transfer bias, fixing temperature and transport speed have been set for each mode. For example, if the printing medium is rough paper whose surface fibers are coarse, the development bias is made less than that for plain paper and the amount of toner that is affixed to the surface of the printing medium is suppressed to prevent scattering of toner.</p>
<p id="p-0047" num="0046">Further, the CPU <b>201</b> discriminates the type of printing medium fed and variably controls the temperature conditions of a fixing unit <b>213</b> in accordance with the result of discrimination. This is effective particularly in the case of an OHT (Overhead Transparency) film, namely in dealing with the problem of reduced transparency of an OHT film when the fixation of toner to the surface of the printing medium is poor.</p>
<p id="p-0048" num="0047">Furthermore, the CPU <b>201</b> discriminates the type of printing medium fed and variably controls the transport speed of the printing medium in accordance with the result of discrimination. Variable control of transport speed is realized by having the CPU <b>201</b> set the value of the speed-control register in ASIC <b>214</b>, which administers speed control. In particular, in the case of OHT or glossy paper, this improves the fixation of toner that attaches itself to the surface of the printing medium and raises gloss to improve image quality.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram illustrating the general structure of the sensor <b>202</b> shown in <figref idref="DRAWINGS">FIG. 2</figref>. The sensor <b>202</b> includes a light source <b>301</b>, a lens <b>302</b>, a CMOS area sensor <b>303</b> and a diaphragm <b>304</b>. The CMOS area sensor <b>303</b> may be a line sensor. Further, the diaphragm <b>304</b> need not be provided.</p>
<p id="p-0050" num="0049">The CMOS area sensor <b>303</b> is situated at a position where it can detect the image of the surface of a printing medium <b>305</b> via the lens <b>302</b>. The light source <b>301</b> is situated at a position where it can illuminate the surface of the printing medium <b>305</b> in an area detected by the sensor <b>303</b>.</p>
<p id="p-0051" num="0050">It should be noted that the printing medium <b>305</b> to undergo detection may be transported by transport rollers and that belt conveyance need not be used.</p>
<p id="p-0052" num="0051">Next, when the transported printing medium <b>305</b> is sensed by a top sensor <b>306</b>, the printing medium <b>305</b> is illuminated by the light source <b>301</b> and the surface image of the printing medium <b>305</b> is formed on the CMOS area sensor <b>303</b> via the diaphragm <b>304</b> and lens <b>302</b>.</p>
<p id="p-0053" num="0052">The hardware implementation and operation of the CMOS area sensor <b>303</b> shown in <figref idref="DRAWINGS">FIG. 3</figref> will now be described.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram illustrating the hardware implementation of the CMOS area sensor <b>303</b>. As shown in <figref idref="DRAWINGS">FIG. 4</figref>, the CMOS area sensor <b>303</b> includes a CMOS sensor <b>401</b> comprising sensors made of, e.g., 64×64 pixels arrayed in an area configuration. Vertically directed shift registers <b>402</b>, <b>403</b> select columns of pixels read out of the CMOS sensor <b>401</b>. An output buffer <b>404</b> holds the electric charges of the pixel columns that have been read out of the CMOS sensor <b>401</b>. A horizontally direction shift register <b>405</b> successively selects and outputs the charges held in the output buffer <b>404</b>. A system clock (SYSCLK) <b>406</b> is applied to a timing generator <b>407</b>. An A/D converter <b>408</b> converts the electric charge, which has been input thereto, to digital pixel data. An output interface circuit <b>409</b> outputs the pixel data as an SI_out signal <b>410</b>. A control circuit <b>411</b> control the conversion gain of the A/D converter <b>408</b>.</p>
<p id="p-0055" num="0054">When an SI_select signal <b>413</b> is activated, the CMOS sensor <b>401</b> starts accumulating charge that is based upon the light received. Next, when the system clock <b>406</b> is applied, the vertical shift registers <b>402</b>, <b>403</b> successively select the columns of pixels read out of the CMOS sensor <b>401</b> in accordance with the timing generator <b>407</b>, and the charges of the selected pixel columns are held successively by the output buffer <b>404</b>.</p>
<p id="p-0056" num="0055">The electric charges held in the output buffer <b>404</b> are transferred to the A/D converter <b>408</b> by the horizontal shift register <b>405</b>. Pixel data obtained by the digital conversion in the A/D converter <b>408</b> is controlled at a predetermined timing by the output interface circuit <b>409</b> and the data is output as the SI_out signal <b>410</b> during the period of time that the SI_select signal <b>413</b> is active.</p>
<p id="p-0057" num="0056">Meanwhile, the control circuit <b>411</b> is capable of variably controlling the A/D conversion gain of the A/D converter <b>408</b> in response to an SI_in signal <b>412</b> specified externally. In a case where, e.g., contrast of the captured image is not obtained, the CPU of the control circuit <b>411</b> changes the gain so that imaging can be performed at the optimum contrast at all times.</p>
<p id="p-0058" num="0057">It should be noted that the output of each light-receiving element is delivered at the negative-going timing of the system clock (SYSCLK) <b>406</b>. Eight bits per pixel are transmitted serially with the falling edge of an SD_RD signal. The output method is not required to be serial and may just as well be parallel.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram illustrating a distribution of results obtained by detecting types of printing media by the CMOS area sensor. By an operation described later, the CMOS area sensor <b>303</b> outputs smoothness and an average value of amount of light of all pixels.</p>
<p id="p-0060" num="0059">In <figref idref="DRAWINGS">FIG. 5</figref>, the dashed line indicated at <b>501</b> is a threshold value of amount of light. The white portions indicate results in a case where measurement could be performed correctly. The distribution has a glossy film area <b>504</b>, a glossy paper area <b>505</b>, a color-LBP special-purpose paper area <b>506</b>, a plain paper area <b>507</b> and a rough paper area <b>508</b>.</p>
<p id="p-0061" num="0060">The lattice portion indicated at <b>502</b> is an area in the vicinity of the threshold value <b>501</b>. Results of detection cannot be specified in this area. In this case, therefore, image formation is performed upon deciding on a more stable paper type (of the two neighboring paper types, the paper type decided on is the one nearer to plain paper). For example, in a case where the location is between the glossy paper area <b>505</b> and color-LBP special-purpose paper area <b>506</b>, the color-LBP special-purpose paper, which is near plain paper, is decided upon and the image is formed in the plain paper mode.</p>
<p id="p-0062" num="0061">In another example of implementation, if continuous printing is in progress, then printing is performed upon selecting the paper type for which there are many past results of detection.</p>
<p id="p-0063" num="0062">Further, in another example of implementation, modes of the two types “IMAGE PRIORITY” and “NORMAL” are provided in advance and printing is performed in the high-stability mode if “NORMAL” has been set. If “IMAGE PRIORITY” has been set, re-measurement or manual setting is performed if there is any ambiguity.</p>
<p id="p-0064" num="0063">Further, the shaded portion indicated at <b>503</b> is an abnormal-result area in a case where an obviously abnormal value is indicated. In this case, there is the possibility that results have been affected by contaminants adhering to the lens or contaminants on the paper itself. In such cases, therefore, the normal mode is used.</p>
<p id="p-0065" num="0064">By exercising such control for avoiding a printing-stop mode in a case where there is the possibility of mistaken detection or a case where it seems that an abnormality has occurred, there is a reduction in the number of times a user is dissatisfied and stress upon the user can be mitigated.</p>
<p id="p-0066" num="0065">Described next will be a method in which the ASIC <b>214</b> discriminates the type of printing medium and the surface state thereof based upon the surface image of the printing medium imaged by the sensor <b>202</b> (the CMOS area sensor <b>303</b> illustrated in <figref idref="DRAWINGS">FIG. 3</figref>).</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram illustrating a surface image in a case where the surface of the printing medium <b>305</b> has little unevenness. Further, <figref idref="DRAWINGS">FIG. 7</figref> is a diagram illustrating a surface image in a case where the surface of the printing medium has great unevenness. As shown in <figref idref="DRAWINGS">FIGS. 6 and 7</figref>, the surface image (<figref idref="DRAWINGS">FIG. 7</figref>) in case of a highly uneven surface has a higher contrast in comparison with a surface image (<figref idref="DRAWINGS">FIG. 6</figref>) having little unevenness. It should be noted that contrast can be calculated by calculating the difference between maximum and minimum values of results of detection.</p>
<p id="p-0068" num="0067">Accordingly, the ASIC <b>214</b> is capable of detecting the magnitude of surface unevenness by calculating the difference between maximum and minimum values (this shall be referred to as a “first operation”) based upon the surface image captured by the sensor <b>202</b>. Further, the width of unevenness can be calculated by binarizing the surface image of <figref idref="DRAWINGS">FIG. 6</figref> in the manner shown in <figref idref="DRAWINGS">FIG. 8</figref> and counting the number of edges (this shall be referred to as a “second operation”).</p>
<p id="p-0069" num="0068">Accordingly, in a case where a binarization threshold value is made the average value of the immediately preceding line or an average value of the overall image captured one image earlier, the sensor itself is provided with a mechanism for obtaining the average value and the average value is output to the ASIC <b>214</b>, whereby the amount of calculation performed by the ASIC <b>214</b> can be reduced. As a result, it becomes possible to achieve higher speed, smaller size and lower cost.</p>
<p id="p-0070" num="0069">Thus, based upon the magnitude and width of surface unevenness of the printing medium, the control CPU of the image forming apparatus discriminates the type of printing medium and its surface state and controls the image forming conditions accordingly, thereby making it possible to form an excellent image irrespective of the type of printing medium and surface state thereof.</p>
<p id="p-0071" num="0070">It should be noted that the magnitude of unevenness or the width of unevenness may be used as “SMOOTHNESS” in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0072" num="0071">Thus, in accordance with this embodiment as described above, an image forming apparatus can be used in a more stable state.</p>
<p id="p-0073" num="0072">[First Modification]</p>
<p id="p-0074" num="0073">A first modification of this embodiment will be described in detail. The structure of the first modification basically is similar to that described in the above embodiment and therefore only the portions that differ from the embodiment will be described.</p>
<p id="p-0075" num="0074">As the first modification, there will be described a control method for a case where a communication error occurs when the sensor <b>202</b> (the CMOS area sensor <b>303</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>) captures the surface image of the printing medium <b>305</b> and outputs this result to the ASIC <b>214</b>.</p>
<p id="p-0076" num="0075">First, when the printing medium <b>305</b> is transported to the position of the CMOS area sensor <b>303</b>, the CPU <b>201</b> instructs the ASIC <b>214</b> to perform imaging with the CMOS area sensor <b>303</b>, in response to which the CMOS area sensor <b>303</b> senses the surface image of the printing medium.</p>
<p id="p-0077" num="0076">At this time, the ASIC <b>214</b> activates the SI_select signal, after which the ASIC <b>214</b> outputs the system clock (SYSCLK) of prescribed pulses at a predetermined timing and reads in imaging data that is output from the sensor <b>202</b> as the SI_out signal. An instance where the number of pulses of the system clock and the SI_out signal are not at the prescribed values when the imaging data is read in is assumed to be a communication error.</p>
<p id="p-0078" num="0077">If a communication error has occurred, the sensed image is invalid. As a consequence, the surface smoothness of the printing medium cannot be measured. In this case also printing is not halted and printing is performed in the normal mode. Alternatively, printing is performed in the mode used for the immediately preceding paper.</p>
<p id="p-0079" num="0078">Further, in a case where result of detection of an LED OFF or LED malfunction area <b>510</b> shown in <figref idref="DRAWINGS">FIG. 5</figref> is indicated despite the fact that the LED has been positively turned on at the time of detection during printing, it is decided that there is good possibility that the LED is malfunctioning. In this case also printing is not halted and is performed in the normal mode.</p>
<p id="p-0080" num="0079">In accordance with the first modification, as described above, the image forming apparatus can be used more stably in a case where a communication error has occurred or in a case where an LED has malfunctioned.</p>
<p id="p-0081" num="0080">[Second Modification]</p>
<p id="p-0082" num="0081">A second modification of this embodiment will be described in detail. The structure of the second modification basically is similar to that described in the above embodiment and therefore only the portions that differ from the embodiment will be described.</p>
<p id="p-0083" num="0082">As the second modification, there will be described a control method for a case where the sensor <b>202</b> (the CMOS area sensor <b>303</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>) captures the surface image of the printing medium <b>305</b> and cannot judge reliably whether the printing medium is an OHT film or reflective medium.</p>
<p id="p-0084" num="0083">If the printing medium <b>305</b> is transported to the position of the CMOS area sensor <b>303</b> in a case where the setting made by the user is OHT or in a case where the initial printing medium used in continuous printing is OHT film, the CPU <b>201</b> instructs the ASIC <b>214</b> to perform imaging with the CMOS area sensor <b>303</b>, in response to which the CMOS area sensor <b>303</b> senses the surface image of the printing medium.</p>
<p id="p-0085" num="0084">If at this time the overall amount of light of the captured image is lower than the threshold value <b>501</b> shown in <figref idref="DRAWINGS">FIG. 5</figref>, i.e., in case of an OHT area <b>509</b>, it is conceivable that the printing medium is OHT film. However, if the result is in the area <b>502</b> in the proximity of the threshold value, then a decision is rendered to the effect that whether the printing medium is OHT film or a reflective medium could not be positively determined, printing is not halted and image formation is performed with the same parameters without changing the printing mode, i.e., in the printing mode that was used for the immediately preceding page. If the result of detection is in the area in the proximity of the threshold value in a case where there is no immediately preceding page, i.e., in a case where this is the first page of the job of image formation extending over a plurality of pages, then the image formation parameters are set upon deciding on the type of printing medium having the higher stability, just as in the above-described embodiment.</p>
<p id="p-0086" num="0085">At the same time, in a case where a color image is printed out by the image forming apparatus, a dot pattern indicative of information relating to the image forming apparatus is added to the color image in a state in which the pattern is not readily recognizable by the human eye. This is a measure for avoiding problems related to counterfeiting of currency and securities and infringement of copyrights.</p>
<p id="p-0087" num="0086">In accordance with the second modification, as described above, the image forming apparatus can be used more stably in a case where it cannot be reliably determined whether a printing medium is an OHT film or reflective medium.</p>
<p id="p-0088" num="0087">The present invention can be applied to a system constituted by a plurality of devices (e.g., a host computer, interface, reader, printer, etc.) or to an apparatus comprising a single device (e.g., a copier or facsimile machine, etc.).</p>
<p id="p-0089" num="0088">Furthermore, it goes without saying that the object of the invention is attained also by supplying a recording medium storing the program codes of the software for performing the functions of the foregoing embodiment to a system or an apparatus, reading the program codes with a computer (e.g., a CPU or MPU) of the system or apparatus from the recording medium, and then executing the program codes.</p>
<p id="p-0090" num="0089">In this case, the program codes per se read from the recording medium implement the novel functions of the embodiment and the recording medium storing the program codes constitutes the invention.</p>
<p id="p-0091" num="0090">Examples of recording media that can be used for supplying the program code are a floppy disk, hard disk, optical disk, magneto-optical disk, CD-ROM, CD-R, magnetic tape, non-volatile type memory card or ROM, etc.</p>
<p id="p-0092" num="0091">Furthermore, besides the case where the aforesaid functions according to the embodiment are implemented by executing the program codes read by a computer, it goes without saying that the present invention covers a case where an operating system or the like running on the computer performs a part of or the entire process in accordance with the designation of program codes and implements the functions according to the embodiment.</p>
<p id="p-0093" num="0092">It goes without saying that the present invention further covers a case where, after the program codes read from the storage medium are written in a function expansion board inserted into the computer or in a memory provided in a function expansion unit connected to the computer, a CPU or the like contained in the function expansion board or function expansion unit performs a part of or the entire process in accordance with the designation of program codes and implements the function of the above embodiment.</p>
<p id="p-0094" num="0093">In accordance with the embodiment, as described above, an image can be formed in the most stable image forming mode in a case where an abnormality has occurred when the type of printing medium or surface condition is discriminated.</p>
<p id="p-0095" num="0094">Furthermore, a counterfeit preventing signal is added on without changing mode in a case where a determination as to whether a printing medium is a translucent medium or not is ambiguous or in a case where a communication malfunction or sensor abnormality occurs during a continuous printing mode for continuous printing on a translucent medium, thereby enabling stable operation and, at the same time, preventing counterfeiting in reliable fashion.</p>
<p id="p-0096" num="0095">As many apparently widely different embodiments of the present invention can be made without departing from the spirit and scope thereof, it is to be understood that the invention is not limited to the specific embodiments thereof except as defined in the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image forming method for an image forming apparatus, the method comprising:
<claim-text>a reading step of reading, using image reading means, the surface of a printing medium on which an image will be formed;</claim-text>
<claim-text>a discriminating step of discriminating the type of printing medium based upon the surface image of the printing medium that has been read using the image reading means; and</claim-text>
<claim-text>a setting step of setting an image forming parameter of an apparatus based upon the type of printing medium discriminated in said discriminating step,</claim-text>
<claim-text>wherein said setting step sets a default image forming parameter of the apparatus in a case where communication with the image reading means is not possible.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said discriminating step discriminates the type of printing medium in accordance with smoothness of the surface image.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein said discriminating step comprises a calculating step of calculating magnitude and width of surface unevenness of the printing medium.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. An image forming method for an image forming apparatus, the method comprising:
<claim-text>a reading step of reading, using image reading means having a reading sensor, the surface of a printing medium on which an image will be formed;</claim-text>
<claim-text>a discriminating step of discriminating the type of printing medium based upon the surface image of the printing medium that has been read using the image reading means; and</claim-text>
<claim-text>a setting step of setting an image forming parameter of an apparatus based upon the type of printing medium discriminated in said discriminating step,</claim-text>
<claim-text>wherein said setting step sets a default for the image forming parameter in a case where the reading sensor in the image reading means has malfunctioned.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein said discriminating step discriminates the type of printing medium in accordance with smoothness of the surface image.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said discriminating step comprises a calculating step of calculating magnitude and width of surface unevenness of the printing medium.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An image forming method for an image forming apparatus, the method comprising:
<claim-text>a reading step of reading, using image reading means, the surface of a printing medium on which an image will be formed;</claim-text>
<claim-text>a discriminating step of discriminating the type of printing medium based upon the surface image of the printing medium that has been read using the image reading means; and</claim-text>
<claim-text>a setting step of setting an image forming parameter of an apparatus based upon the type of printing medium discriminated in said discriminating step,</claim-text>
<claim-text>wherein said setting step adds a counterfeit preventing signal without changing the image forming parameter in a case where it cannot be determined whether the type of printing medium is a translucent medium or a reflective medium.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein said discriminating step discriminates the type of printing medium in accordance with smoothness of the surface image.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein said discriminating step comprisies a calculating step of calculating magnitude and width of surface unevenness of the printing medium.</claim-text>
</claim>
</claims>
</us-patent-grant>
