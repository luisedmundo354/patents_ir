<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07296928-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07296928</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11236701</doc-number>
<date>20050926</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>K</subclass>
<main-group>7</main-group>
<subgroup>42</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>K</subclass>
<main-group>3</main-group>
<subgroup>04</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>K</subclass>
<main-group>3</main-group>
<subgroup>01</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>374163</main-classification>
<further-classification>374170</further-classification>
<further-classification>327513</further-classification>
<further-classification>702130</further-classification>
</classification-national>
<invention-title id="d0e43">Failsafe mechanism for preventing an integrated circuit from overheating</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4980586</doc-number>
<kind>A</kind>
<name>Sullivan et al.</name>
<date>19901200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327262</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5287292</doc-number>
<kind>A</kind>
<name>Kenny et al.</name>
<date>19940200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>702132</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5303390</doc-number>
<kind>A</kind>
<name>Little</name>
<date>19940400</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>714  1</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5355123</doc-number>
<kind>A</kind>
<name>Nishiura et al.</name>
<date>19941000</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>340653</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5451892</doc-number>
<kind>A</kind>
<name>Bailey</name>
<date>19950900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327113</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5590061</doc-number>
<kind>A</kind>
<name>Hollowell et al.</name>
<date>19961200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>702130</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5623594</doc-number>
<kind>A</kind>
<name>Swamy</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>714  1</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5686858</doc-number>
<kind>A</kind>
<name>Malherbe</name>
<date>19971100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327512</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5713030</doc-number>
<kind>A</kind>
<name>Evoy</name>
<date>19980100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713322</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>5731735</doc-number>
<kind>A</kind>
<name>Yokota et al.</name>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327535</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>5805403</doc-number>
<kind>A</kind>
<name>Chemla</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>361103</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>5835553</doc-number>
<kind>A</kind>
<name>Suzuki</name>
<date>19981100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>377 25</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>5838578</doc-number>
<kind>A</kind>
<name>Pippin</name>
<date>19981100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>5886564</doc-number>
<kind>A</kind>
<name>Sato et al.</name>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327513</main-classification></classification-national>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>6005408</doc-number>
<kind>A</kind>
<name>Gillette</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>324765</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>6006168</doc-number>
<kind>A</kind>
<name>Schumann et al.</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>702132</main-classification></classification-national>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>6094085</doc-number>
<kind>A</kind>
<name>Okayasu et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327378</main-classification></classification-national>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>6157231</doc-number>
<kind>A</kind>
<name>Wasson</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327156</main-classification></classification-national>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>6169442</doc-number>
<kind>B1</kind>
<name>Meehan et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327513</main-classification></classification-national>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>6321175</doc-number>
<kind>B1</kind>
<name>Nagaraj</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>702132</main-classification></classification-national>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>6363490</doc-number>
<kind>B1</kind>
<name>Senyk</name>
<date>20020300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713300</main-classification></classification-national>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>6373768</doc-number>
<kind>B2</kind>
<name>Woo et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365211</main-classification></classification-national>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>6393374</doc-number>
<kind>B1</kind>
<name>Rankin et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>702132</main-classification></classification-national>
</citation>
<citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>6396321</doc-number>
<kind>B1</kind>
<name>Watanabe et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327158</main-classification></classification-national>
</citation>
<citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>6400741</doc-number>
<kind>B1</kind>
<name>Matsunaga et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>372 3802</main-classification></classification-national>
</citation>
<citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>6590439</doc-number>
<kind>B1</kind>
<name>Larson</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327363</main-classification></classification-national>
</citation>
<citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>6630754</doc-number>
<kind>B1</kind>
<name>Pippin</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>307117</main-classification></classification-national>
</citation>
<citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>6631503</doc-number>
<kind>B2</kind>
<name>Hsu et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>716  4</main-classification></classification-national>
</citation>
<citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>6637934</doc-number>
<kind>B1</kind>
<name>Henderson et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>374178</main-classification></classification-national>
</citation>
<citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>6694282</doc-number>
<kind>B2</kind>
<name>Perner</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702130</main-classification></classification-national>
</citation>
<citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>6789037</doc-number>
<kind>B2</kind>
<name>Gunther et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702132</main-classification></classification-national>
</citation>
<citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>6809568</doc-number>
<kind>B2</kind>
<name>Kamel et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327170</main-classification></classification-national>
</citation>
<citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>6864802</doc-number>
<kind>B2</kind>
<name>Smith et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34087007</main-classification></classification-national>
</citation>
<citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>6904379</doc-number>
<kind>B1</kind>
<name>Hanzawa et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702106</main-classification></classification-national>
</citation>
<citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>6934652</doc-number>
<kind>B2</kind>
<name>Gauthier et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702 99</main-classification></classification-national>
</citation>
<citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>2002/0075163</doc-number>
<kind>A1</kind>
<name>Smith et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>34087016</main-classification></classification-national>
</citation>
<citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>2003/0038648</doc-number>
<kind>A1</kind>
<name>Gold et al.</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>324760</main-classification></classification-national>
</citation>
<citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>2003/0042885</doc-number>
<kind>A1</kind>
<name>Zhou et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>324105</main-classification></classification-national>
</citation>
<citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>2003/0158697</doc-number>
<kind>A1</kind>
<name>Gold et al.</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>702132</main-classification></classification-national>
</citation>
<citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>2004/0037346</doc-number>
<kind>A1</kind>
<name>Rusu et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>374121</main-classification></classification-national>
</citation>
<citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>2004/0070910</doc-number>
<kind>A1</kind>
<name>Gergintschew</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>361103</main-classification></classification-national>
</citation>
<citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>2004/0103330</doc-number>
<kind>A1</kind>
<name>Bonnett</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>713322</main-classification></classification-national>
</citation>
<citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>2004/0164781</doc-number>
<kind>A1</kind>
<name>Doyle</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327291</main-classification></classification-national>
</citation>
<citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>2004/0196090</doc-number>
<kind>A1</kind>
<name>Sutherland</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327513</main-classification></classification-national>
</citation>
<citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>2005/0228612</doc-number>
<kind>A1</kind>
<name>Oh</name>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702132</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>4</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>10387152</doc-number>
<kind>00</kind>
<date>20030311</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>6974252</doc-number>
<kind>A </kind>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11236701</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060029122</doc-number>
<kind>A1</kind>
<date>20060209</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Bowden</last-name>
<first-name>Scott J.</first-name>
<address>
<city>Hillsboro</city>
<state>OR</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Douglas</last-name>
<first-name>Jonathan P.</first-name>
<address>
<city>Olympia</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Blakely, Sokoloff, Taylor &amp; Zafman LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Intel Corporation</orgname>
<role>02</role>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Verbitsky</last-name>
<first-name>Gail</first-name>
<department>2859</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Techniques for preventing an integrated circuit (IC) from overheating are described herein. According to one embodiment, an exemplary process includes detecting whether a temperature of an integrated circuit (IC) exceeds a threshold independent of an operating state of the IC, and removing at least a portion of a power from the IC if the temperature of the IC exceeds the threshold. Other methods and apparatuses are also described.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="236.64mm" wi="272.20mm" file="US07296928-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="249.60mm" wi="172.47mm" orientation="landscape" file="US07296928-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="230.89mm" wi="161.04mm" orientation="landscape" file="US07296928-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="217.00mm" wi="151.21mm" orientation="landscape" file="US07296928-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="181.95mm" wi="153.33mm" file="US07296928-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="217.42mm" wi="156.63mm" file="US07296928-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="113.88mm" wi="149.01mm" file="US07296928-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="242.57mm" wi="162.48mm" orientation="landscape" file="US07296928-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="226.14mm" wi="166.20mm" file="US07296928-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="165.44mm" wi="132.84mm" file="US07296928-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="255.10mm" wi="146.81mm" file="US07296928-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application is a Divisional Application of a U.S. patent application Ser. No. 10/387,152, now U.S. Pat. No. 6,974,252, filed Mar. 11, 2003, which is hereby incorporated by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0003" num="0002">Embodiments of the invention relate to the field of an integrated circuit; and more specifically, to a thermal protection mechanism for an integrated circuit.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">As integrated circuit (IC) dice become more densely packed with circuit components and operating frequencies increase, power consumption of these ICs increases. Increased power consumption results in increased operating temperature, which if not controlled can cause catastrophic failure of the IC.</p>
<p id="p-0005" num="0004">Prior thermal solutions include heat sinks, liquid cooling, fans, etc. Conventional power management includes reduced operating frequency, and shutting down of a clock signal for a period of time, etc. Combination of thermal solutions and power management often allows an IC to operate within an acceptable thermal range.</p>
<p id="p-0006" num="0005">Some conventional methods use a thermal sensor to detect whether a temperature of an IC exceeds a temperature threshold. A typical conventional approach is to use a chip reset to disable the thermal sensor. That is, when the chip is in reset, the thermal sensor output is disabled. However, chip reset often is a high power state. As a result, an extended amount of time in reset may cause overheating. Therefore, if the thermal sensor is disabled during reset, this overheating may rapidly become destructive, leading to destruction of the chip and possibly the motherboard and even becoming a fire hazard.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0007" num="0006">The invention may best be understood by referring to the following description and accompanying drawings that are used to illustrate embodiments of the invention. In the drawings:</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of an exemplary embodiment of a thermal protection mechanism.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of an exemplary embodiment of clock generation logic.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of an exemplary embodiment of thermal configuration logic.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram of exemplary embodiment of operations of a finite state machine.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram of exemplary embodiment of fuse circuits and a shift register.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram of an exemplary embodiment of a thermal sensor.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram of an exemplary embodiment of a processor.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 8</figref> is a block diagram of an exemplary embodiment of a computer.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 9</figref> is a flow diagram illustrating an exemplary embodiment of a thermal process.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 10</figref> is a flow diagram illustrating another exemplary embodiment of a thermal process.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0018" num="0017">Techniques for preventing an integrated circuit (IC) from overheating are described. In the following description, numerous specific details are set forth. However, it is understood that embodiments of the invention may be practiced without these specific details. In other instances, well-known circuits, structures and techniques have not been shown in detail in order not to obscure the understanding of this description.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> shows a block diagram of an exemplary embodiment of a thermal protection circuit for preventing an IC from overheating. In one embodiment, exemplary circuit <b>100</b> includes a thermal sensor to detect whether a temperature of an integrated circuit (IC) exceeds a predetermined threshold regardless of a state of the IC, and an IO (input and output) logic coupled to the thermal sensor to transmit a signal to remove at least a portion of a power from the IC, if the temperature of the IC exceeds a predetermined threshold.</p>
<p id="p-0020" num="0019">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, according to one embodiment, circuit <b>100</b> includes a thermal sensor <b>101</b> to detect whether a temperature of an IC exceeds a predetermined threshold, a configuration logic <b>102</b> to configure thermal sensor <b>101</b> based on a thermal configuration associated with the IC, a thermal counter <b>103</b> to provide a predetermined period of time to allow the thermal readings of thermal sensor <b>101</b> to be stable, an output control logic <b>104</b> having enabling and overriding capabilities, a clock generation logic <b>105</b> to generate stable clock signals, and a power detection logic <b>106</b> to detect when a power reaches a predetermined level.</p>
<p id="p-0021" num="0020">In one embodiment, thermal sensor <b>101</b> is designed to check for conditions that would lead to destructive IC overheating and shut down the IC. In one embodiment, thermal sensor <b>101</b> includes an input to receive a trip point specified by configuration logic <b>102</b> and an output, also referred as a catastrophic trip output, coupled to IO control logic <b>104</b> to asserts a signal (e.g., a catastrophic signal) when a temperature of the IC exceeds the trip point. To ensure that thermal sensor <b>101</b> is accurate, according to one embodiment, a power supplied to thermal sensor <b>101</b> is stable and it has stabilization time after thermal sensor <b>101</b> receives the thermal configuration from configuration logic <b>102</b>. Otherwise, thermal sensor <b>101</b> could generate erroneous thermal trip assertions. However, relying on external signals or events to enable the thermal sensor could lead to conditions where the IC overheats without the thermal sensor active.</p>
<p id="p-0022" num="0021">Configuration logic <b>102</b> provides a trip point setting to thermal sensor <b>101</b>. In one embodiment, configuration logic <b>102</b> includes a PROM (programmable read only memory) FSM (finite state machine) that waits for power supplied to the IC to reach a stable level within the IC's specifications. Configuration logic <b>102</b> may also waits for clock generation logic <b>105</b>, which typically includes a phase lock loop (PLL), to lock a clock signal to ensure that there are stable clocks supplied to the IC. According to one embodiment, regardless of whether the PLL is locked, clock generation logic guarantees that clocks are being distributed to the IC. Once the power and clock signals are stable, a thermal trip point is provided to thermal sensor <b>101</b>. In one embodiment, the thermal trip point is read from the PROM block and is sent to thermal sensor <b>101</b>. According to one embodiment, the thermal trip point is read from the PROM in parallel into a shift register. The PROM shift register is connected serially to a shift register of thermal sensor <b>101</b>. The PROM FSM then may shift the thermal configuration (e.g., the thermal trip point) from the PROM block to the thermal sensor.</p>
<p id="p-0023" num="0022">According to one embodiment, thermal counter <b>103</b> determines how long to wait before the output of thermal sensor <b>101</b> is enabled. The time delay period is specifically configured according to different thermal sensor designs and silicon processes. In one embodiment, a worst case time period of each design is utilized. Thermal counter <b>103</b> may use an internal bus clock instead of the MainCPUClk to count to eliminate variation of the time to count across internal bus ratios. According to one embodiment, the specification for the fastest possible bus clock determines the final counter value. In the event that the external bus clock is removed or fails, according to another embodiment, an internal ring oscillator may be used to provide clocking to generate an internal bus clock. According to one embodiment, thermal counter <b>103</b> does not start counting until power is good (e.g., power reaches a predetermined level) and the fuse configuration has been fully shifted to thermal sensor <b>101</b>. When the final counter value has been reached, thermal counter <b>103</b> may asserts a sensor stable signal to output control logic <b>104</b>. The sensor stable signal is de-asserted and thermal counter <b>103</b> is reset when the power is not good (e.g., power is below a predetermined level) or alternatively, if thermal sensor configuration data is re-sent to thermal sensor <b>101</b> from the PROM block or if thermal sensor configuration is overridden via a debug mechanism.</p>
<p id="p-0024" num="0023">Output control logic <b>104</b> combines the catastrophic trip output received from thermal sensor <b>101</b> with the sensor stable signal from thermal counter <b>103</b> and some override logic. In a default state, according to one embodiment, when the sensor stable signal received from thermal counter <b>103</b> is asserted the value of the catastrophic trip signal is placed on a shutdown signal. If the sensor stable signal is de-asserted, the shutdown signal is de-asserted. If the shutdown signal is asserted, the PLL is stopped and a signal is sent off-chip to instruct a VRM (voltage regulator module) to remove at least a portion of the power from the IC. In one embodiment, output control logic <b>104</b> includes debug mechanisms to force shutdown assertion, to disable shutdown assertion, and to switch to the chip reset mechanism of controlling the sensor stable signal.</p>
<p id="p-0025" num="0024">As a result, the possibility of destructive chip overheating is reduced greatly. According to one embodiment, the embodiments discussed above can greatly reduce chip overheating even during a chip reset or in the absence of a stable clock. A conventional method uses the chip reset to disable the thermal sensor when the chip is in reset. That is, the output of the thermal sensor is disabled during a chip reset. Unfortunately, chip reset is a high power state and an extended amount of time in reset may cause overheating. If the thermal sensor is disabled during the reset, the overheating may rapidly become destructive, destroying the chip and possibly the motherboard and even becoming a fire hazard.</p>
<p id="p-0026" num="0025">Specifically, according to one embodiment, power detection logic <b>106</b> includes a first input to receive a power signal <b>107</b> and compares it with a reference voltage <b>108</b> received from a second input. Reference voltage <b>108</b> may be provided via an internal forward-Biased Diode reference, operating independently from power signal <b>107</b>. Power detection logic <b>106</b> may be just a simple comparator to compare power signal <b>107</b> against reference voltage <b>108</b>. Power detection logic <b>106</b> asserts a PwrIsGood (e.g., power is good) signal <b>109</b> when the power signal <b>107</b> is greater than reference voltage <b>108</b>. In one embodiment, reference voltage <b>108</b> is 0.8 volts. PwrIsGood signal <b>109</b> is fed to inputs of configuration logic <b>102</b> and clock generation logic <b>105</b>.</p>
<p id="p-0027" num="0026">Clock generation logic <b>105</b> is responsible to generate stable internal clock signals to drive other components within the IC, such as configuration logic <b>102</b>, thermal sensor <b>101</b>, and thermal counter <b>103</b>. In one embodiment, clock generation logic <b>105</b> supplies a ring-oscillator clock until PwrIsGood signal <b>109</b> is received and PLL <b>201</b> is locked. Thereafter, clock generation logic <b>105</b> supplies a PLL-based clock. As a result, clock generation logic <b>105</b> is enabled to generate clock signals, such as MainCPUClk signal <b>114</b> and BusClk signal <b>115</b>, under all conditions, even if the IC is still in a reset state (e.g., reset signal <b>110</b> is still asserted). The clock signals generated during the reset of the IC drive configuration logic <b>102</b> and thermal counter <b>103</b>, in combination with output control logic <b>104</b>, provide thermal protection to the IC even during a reset period of the IC. According to one embodiment, this circuit allows thermal sensor <b>101</b> to be enabled in approximate 3.99 microseconds after the IC is powered up. In contrast, a conventional method relies on reset to disable/enable the thermal sensor and due to the specification requirements of reset, the thermal sensor cannot be turned on until at least a millisecond after the IC is turned on. Such extended reset could damage the IC.</p>
<p id="p-0028" num="0027">According to another embodiment, clock generation logic <b>105</b> may be disabled when the IC is shutdown via a shutdown signal <b>113</b> received from output control logic <b>104</b> via a feedback path <b>112</b>. Once clock generation logic <b>105</b> is enabled, it generates a MainCPUClk <b>114</b> and a BusClk <b>115</b>. In addition, clock generation logic <b>105</b> may include a lock mechanism to lock clock signals <b>114</b> and <b>115</b>. When clock signals <b>114</b> and <b>115</b> are locked (e.g., clock signals are stable), according to one embodiment, clock generation logic <b>105</b> asserts a PLLLock signal <b>116</b>, which is fed to an input of configuration logic <b>102</b>, to indicate the clock signals <b>114</b> and <b>115</b> are stable. In one embodiment, clock generation logic <b>105</b> derives clock signals <b>114</b> and <b>115</b> from an external clock, such as BusClkIn <b>111</b>, which may be a system clock. Alternatively, if the external clock <b>111</b> is not available or is not stable, clock generation logic <b>105</b> may generate clock signals <b>114</b> and <b>115</b> from an internal clock, such as a ring oscillator, within clock generation logic <b>105</b>. In order to activate thermal sensor <b>101</b> when clocks are unstable or BusCLKIN <b>111</b> is not available, PLLLock signal <b>116</b> is activated upon the de-assertion of Reset signal <b>110</b> also. This allows for a measure of protection even under the extreme case where temperatures become too hot even in the absence of an external clock.</p>
<p id="p-0029" num="0028">Configuration logic <b>102</b> is responsible to configure thermal sensor <b>101</b> (e.g., setting up a trip point to thermal sensor <b>101</b>). In one embodiment, configuration logic <b>102</b> includes a PROM FSM to wait for PwrIsGood signal <b>109</b> which indicates the power supplied to the IC reaches a stable level within the IC specifications. Configuration logic <b>102</b> may also wait for PLLLock signal <b>116</b> received from clock generation logic <b>105</b>, which indicates a clock signal, such as MainCPUClk signal <b>114</b>, is stable. Once power and clock signals are stable, a thermal trip point is provided to thermal sensor <b>101</b>. In one embodiment, the thermal trip point is read from the PROM block and is sent to thermal sensor <b>101</b>. According to one embodiment, the thermal trip point is read from the PROM in parallel into a shift register. The PROM shift register is connected serially to a shift register of thermal sensor <b>101</b>. The PROM FSM then shifts the thermal configuration from the PROM block to the thermal sensor, via ThermalCfg path <b>117</b>. The shifting of the thermal trip point is driven by MainCPUClk signal <b>114</b>. Once the configuration of thermal sensor <b>101</b> has been completed, according to one embodiment, configuration logic <b>102</b> asserts a ThermalCfgDone signal <b>118</b> to thermal counter <b>103</b> indicating the completion of the thermal configuration.</p>
<p id="p-0030" num="0029">As soon as the thermal configuration is completed, according to one embodiment, thermal sensor <b>101</b> starts to measure and detect a temperature of an IC against a predetermined threshold, such as a trip point, based on a thermal configuration provided by configuration logic <b>102</b> (via ThermalCfg <b>117</b>). Thermal configuration data, such as a trip point, is used to program a current source within the thermal sensor to provide a reference voltage. In one embodiment, the thermal configuration data is specifically designed for a specific IC. Thermal sensor <b>101</b> may use the reference voltage to determine whether a temperature of an IC exceeds a predetermined threshold. If so, thermal sensor <b>101</b> asserts a signal, such as CatastrophicTrip signal <b>119</b>, to output control logic <b>104</b> indicating that the temperature of the IC exceeds a thermal trip point dedicated to the IC. In one embodiment, thermal sensor <b>101</b> asserts CatastrophicTrip signal <b>119</b> when the temperature of the IC is greater than 65Â° C. plus the value received from ThermalCfg <b>117</b> (e.g., the thermal trip point).</p>
<p id="p-0031" num="0030">According to one embodiment, CatastrophicTrip signal <b>119</b> asserted by thermal sensor <b>101</b> may be held by output control logic <b>104</b> because, among other reasons, output control logic <b>104</b> may be disabled by thermal counter <b>103</b>. In other words, output control logic <b>104</b> does not assert any signal (e.g., CatastrophicTrip signal <b>119</b>) without receiving a SensorStable signal <b>120</b> indicating the readings of thermal sensor <b>101</b> are stable. If thermal sensor <b>101</b> is not stable, CatastrophicTrip signal <b>119</b> may not be valid which may causes an undesirable result.</p>
<p id="p-0032" num="0031">SensorStable signal <b>120</b> is controlled by thermal counter <b>103</b>. Thermal counter <b>103</b> is responsible to stall a predetermined period of time to allow the thermal readings of thermal sensor <b>101</b> to become stable. According to one embodiment, as soon as thermal counter <b>103</b> receives ThermalCfgDone signal <b>118</b>, concurrent to the thermal configuration setting shift being finished, thermal counter <b>103</b> starts to count up to a predetermined clock cycles driven by BusClk <b>115</b>. In one embodiment, when thermal counter <b>103</b> counts up to 798 clock cycles, it asserts SensorStable <b>120</b> to output control logic <b>104</b>.</p>
<p id="p-0033" num="0032">Once output control logic <b>104</b> receives SensorStable signal <b>120</b>, it is enabled to output a signal, such as shutdown signal <b>113</b>, to a voltage regulator module (VRM) based on CatastrophicTrip signal <b>119</b>. The VRM may completely shutdown the IC or at least remove a portion of the power supplied to the IC. For example, when output control logic <b>104</b> is enabled (e.g., SensorStable signal <b>120</b> is asserted), shutdown signal <b>113</b> is asserted if CatastrophicTrip signal <b>119</b> is asserted. Otherwise, shutdown signal <b>113</b> is de-asserted. In addition, according to one embodiment, shutdown signal <b>113</b> is fed back to an input of clock generation logic <b>105</b> via path <b>112</b>. When shutdown signal <b>113</b> is asserted, the shutdown signal <b>113</b>, which is fed back to clock generation logic <b>105</b>, disables clock generation logic <b>105</b>. As a result, the IC would not receive any clock signal which is primarily a driven signal to the operations of the IC and the overheating of the IC is prevented. Note that, typically, a large portion of the heat generated by the IC comes from the PLL and clocks toggling. Stopping the clocks also stops most data propagation, thus also limiting heat generated from data signal switching. The rest of the heat comes from other effects such as leakage which is can only be stopped by removing power to the IC.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 2</figref> shows a block diagram of an exemplary embodiment of a clock generation logic circuit which may be used as clock generation logic <b>105</b> of <figref idref="DRAWINGS">FIG. 1</figref>. Referring to <figref idref="DRAWINGS">FIG. 2</figref>, in one embodiment, exemplary circuit <b>200</b> includes a phase lock loop (PLL) circuit <b>201</b> to generate a stable clock signal based on an external clock, a lock logic <b>202</b> to indicate whether the clock signals are stable, and a clock selection logic <b>207</b> which drives a multiplexer <b>203</b> to select an external clock vs. an internal clock based on whether an external clock is off detected by clock detector <b>206</b>.</p>
<p id="p-0035" num="0034">PLL <b>201</b> is responsible for generating a stable clock signal with a constant phase angle based on an external clock. Specifically, according to one embodiment, PLL <b>201</b> generates a stable clock signal such as PLLClock <b>210</b> based on BusClkIn <b>111</b>. However, PLL <b>201</b> may be disabled by a shutdown signal <b>113</b> asserted by output control logic <b>104</b> via path <b>112</b> when a temperature of an IC exceeds a predetermined threshold. As a result, when PLL <b>201</b> is disabled, no PLLClock signal <b>210</b> is generated. In addition, even when PLLClock signal <b>210</b> is generated, it may take a while to become stable. PLL <b>201</b> also has a capability to lock PLLClock signal <b>210</b> into a constant phase angle to achieve a stable clock signal. When PLLClock signal <b>210</b> is locked, according to one embodiment, PLL <b>201</b> asserts a lock signal <b>209</b> to LockLogic <b>202</b> indicating that PLLClock signal <b>210</b> is stable.</p>
<p id="p-0036" num="0035">LockLogic <b>202</b> is responsible to generate a PLLLock signal <b>116</b> to be sent to configuration logic <b>102</b> of <figref idref="DRAWINGS">FIG. 1</figref> indicating MainCPUClk <b>114</b> is stable, such that configuration logic <b>102</b> may start to configure thermal sensor <b>101</b>. According to one embodiment, LockLogic <b>202</b> asserts PLLLock signal <b>116</b> if lock signal <b>209</b> received from PLL <b>201</b> is asserted (e.g., the PLLClock signal <b>210</b> has been locked by PLL <b>201</b>) or reset signal <b>208</b> has been de-asserted (e.g., the IC has been out of a reset state), whichever occurs first. As a result, clock generation logic <b>200</b> is enabled to generate clock signals, such as MainCPUClk signal <b>114</b> and BusClk signal <b>115</b>, as soon as the IC is powered up to a predetermined level (e.g., PwrIsGood signal <b>109</b> is received), even if the IC is still in a reset state (e.g., reset signal <b>208</b> is still asserted). The clock signals generated during the reset of the IC drive thermal sensor <b>101</b> and thermal counter <b>103</b>, in combination with output control logic <b>104</b>, provide thermal protection to the IC even during a reset period of the IC. According to one embodiment, this circuit allows thermal sensor <b>101</b> to be enabled within approximate 3.99 microseconds after the IC is powered up. In contrast, a conventional method relies on reset to disable/enable the thermal sensor and due to specification requirements of reset, it could not turn on the thermal sensor until at least a millisecond after the IC is turned on. Such extended reset could damage the IC.</p>
<p id="p-0037" num="0036">According to one embodiment, MainCPUClk <b>114</b> is generated by PLL <b>201</b> based on an external clock received from BusClkln <b>111</b>. Alternatively, it may be generated by an internal clock, such as RingoscClock signal <b>213</b> from RingOscillator <b>204</b>. This may be accomplished by multiplexer <b>203</b> to select either the external clock or the internal clock. Multiplexer <b>203</b> is controlled by a ClockSelect logic <b>207</b> which generates a ClockSelect signal <b>211</b> to instruct Multiplexer <b>203</b> to select appropriate clock source accordingly. In general, MainCPUClk <b>114</b> is generated from an external clock, such as BusClkIn <b>111</b> which may be the system clock. However, occasionally, the external clock may not be available or unstable. This situation may happen when the IC or the system having the IC is in a power saving mode, in which case the external clock is not available at BusClkIn <b>111</b>. During which period, MainCPUClk <b>114</b> and BusClk <b>115</b> are not generated from the PLL. As a result, configuration logic <b>102</b>, thermal sensor <b>101</b>, and thermal counter <b>103</b> would not function and thermal protection would not be available for the IC during this period without ring oscillator supplied clocks.</p>
<p id="p-0038" num="0037">Accordingly, in one embodiment, an internal clock (e.g., RingOscillator <b>204</b>), which is selected by Multiplexer <b>203</b>, is used to generate MainCPUClk <b>114</b> and BusClk <b>115</b>. The availability of the external clock from BusClkIn <b>111</b> may be detected by a clock detector, such as NoBCLKDetector <b>206</b>. According to one embodiment, when there is no clock signal or bad clock signal at BusClkIn <b>111</b>, NoBCLKDetector <b>206</b> asserts a BCLKIsOff signal <b>212</b> to ClockSelect logic <b>207</b>. ClockSelect logic <b>207</b> is responsible to instruct multiplexer <b>203</b> to select either an external clock or an internal clock. According to one embodiment, ClockSelect logic <b>207</b> generates ClockSelect signal <b>211</b> to instruct multiplexer <b>203</b> to select the internal clock (e.g., RingOscClock <b>213</b> generated from RingOscillator <b>204</b>) if BCLKIsOff signal <b>212</b> is asserted or PwrIsGood signal <b>109</b> is de-asserted. Otherwise, ClockSelect signal <b>211</b> instructs multiplexer <b>203</b> to select the external clock received from BusClkIn <b>111</b>. Clock divider <b>205</b> divides MainCPUClk <b>114</b> to generate BusClk <b>115</b> and thus, in general, MainCPUClk <b>114</b> is a multiple of BusClk <b>115</b>.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 3</figref> shows a block diagram illustrating an exemplary embodiment of a thermal configuration logic which may be used as configuration logic <b>102</b> of <figref idref="DRAWINGS">FIG. 1</figref>. In one embodiment, among others, exemplary configuration logic <b>300</b> includes a finite state machine (FSM) <b>301</b> coupled to a thermal sensor configuration fuse logic <b>302</b> to configure a thermal sensor, such as thermal sensor <b>101</b> of <figref idref="DRAWINGS">FIG. 1</figref>. Typically, FSM <b>301</b> may include a model of computation consisting of a set of states, a start state, an input, and a transition function that maps the input and current state to a next state. Computation begins in the start state with an input. It changes to new states depending on the transition function. Configuration fuse logic <b>302</b> may include one or more fuse circuits (not shown) which permanently set a logic value of a bit or bits. According to one embodiment, configuration fuse logic <b>302</b> includes a shift register (not shown) coupled to the one or more fuse circuits. The shift register may be serially connected a shift register of a thermal sensor (e.g., thermal sensor <b>101</b>) to shift the values presented by the one or more fuse circuits to the thermal sensor via the corresponding shift registers. In one embodiment, the values of the one or more fuse circuits represent the thermal configuration information, such as a thermal trip point, that a thermal sensor can use it as a reference when it detects whether a temperature of an IC exceeds a predetermined temperature threshold, which may be derived from the thermal trip point.</p>
<p id="p-0040" num="0039">Specifically, according to one embodiment, FSM <b>301</b> includes inputs receiving PlLLock signal <b>116</b>, PwrIsGood signal <b>109</b>, and MainCPUClk signal <b>114</b>. FSM <b>301</b> may stay in an initial state until it receives asserted PLLLock signal <b>116</b> indicating MainCPUClk <b>114</b> is stable and asserted PwrIsGood signal <b>109</b> indicting the power supplied reaches a predetermined level (e.g., 0.8 volts). Once the above conditions are met, FSM <b>301</b> retrieves a number indicating a number of fuses used by configuration fuse logic <b>302</b> from a memory such as a PROM. FSM <b>301</b> starts to count against that number and asserts ShiftFuses# signal <b>303</b> driven by MainCPUClk <b>114</b> clock cycles. ShiftFuses# signal <b>303</b> enables configuration fuse logic <b>302</b> to shift a value from one of the fuse circuits through a shift register serially connected to a shift register of thermal sensor <b>101</b> via path ThermalCfg <b>117</b>. Once FSM <b>301</b> finishes counting against the number of fuses, it asserts ThermalCfgDone signal <b>118</b> to thermal sensor <b>101</b> and thermal counter <b>103</b>, indicating the thermal configuration has been completed.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 4</figref> shows a block diagram illustrating an exemplary embodiment of operations of a FSM which may be used as FSM <b>301</b> shown in <figref idref="DRAWINGS">FIG. 3</figref>. In one embodiment, exemplary FSM <b>400</b> includes a reset state <b>401</b>, a count state <b>402</b>, and a CountDone state <b>403</b>. Referring to <figref idref="DRAWINGS">FIGS. 3 and 4</figref>, after FSM <b>400</b> retrieves number of fuses used by configuration fuse logic <b>302</b> from the PROM, FSM <b>400</b> enters a reset state <b>401</b>. According to one embodiment, FSM <b>400</b> stays in reset state <b>401</b>, via path <b>404</b>, as long as PwrIsGood signal or PLLLock signal is de-asserted. After PwrIsGood signal and PLLLock signal are asserted, which indicates that power is good and the clock is locked, FSM <b>400</b> enters into count state <b>402</b> via path <b>405</b> and starts to count against the number of fuses involved. The counting is driven by MainCPUClk <b>114</b> and on every cycle of MainCPUClk <b>114</b>, FSM <b>400</b> asserts ShiftFuses# signal to enable configuration fuse logic <b>302</b> to shift a corresponding value of a respective fuse to thermal sensor <b>101</b>. Meanwhile, if any of PwrIsGood signal <b>109</b> and PLLLock signal <b>116</b> is de-asserted, FSM <b>400</b> returns to reset state <b>401</b> via path <b>406</b> from count state <b>402</b> and the counting may be reset back to zero. The above processes continue via path <b>407</b> until the counting number reaches the number of fuses involved. Upon which, via path <b>408</b>, FSM <b>400</b> enters CountDone state <b>403</b> from count state <b>402</b>. In CountDone state <b>403</b>, FSM <b>400</b> asserts ThermalCfgDone signal <b>118</b> to indicate the thermal configuration has been completed and de-asserts ShiftFuses# to stop the shifting operation. Thereafter, FSM <b>400</b> returns back to reset state <b>401</b>.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 5</figref> shows a block diagram illustrating an exemplary embodiment of configuration fuse logic which may be used as fuse logic <b>302</b> of <figref idref="DRAWINGS">FIG. 3</figref>. In one embodiment, exemplary fuse logic <b>500</b> includes a shift register <b>501</b> with one or more fuse circuit <b>502</b> coupled in parallel to the respective inputs of shift register <b>501</b>. Each of the fuse circuits includes a resistor <b>503</b> and a fuse <b>504</b>. In one embodiment, fuse circuit <b>502</b> is used to permanently set bits of the corresponding inputs of register <b>501</b>. Each fuse circuit <b>502</b> is constructed to set the logic level of different inputs of register <b>501</b>. According to one embodiment, fuse <b>504</b> is blown to permanently set the associated input of register <b>501</b> to a logic one value. If fuse <b>504</b> is left intact, the associated input of register <b>501</b> has a logic zero value. Fuse <b>504</b> is coupled to the Vdd supply voltage level through a pull-up resistor <b>503</b>. The junction of resistor <b>503</b> and fuse <b>504</b> furnishes a signal to one input of register <b>501</b>. The output of register <b>501</b> is coupled to thermal sensor <b>101</b> via ThermalCfg signal <b>117</b>. Shift register <b>501</b> may be a parallel-to-serial shift register which is serially connected to a shift register of thermal sensor <b>101</b>. The embodiment shown in <figref idref="DRAWINGS">FIG. 5</figref> is construed for demonstration purposes only. It may include other components apparent to those ordinary skills in the art. Other configurations may exist. For example, the fuse used may be a double-ended fuse which when unprogrammed, the fuse have an undeterminate value, either the zero leg or the one leg is blown to program the fuse to a specific value. However, it would be appreciated that embodiments of the invention are applicable to any kind of PROM designs.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 6</figref> shows a block diagram illustrating an embodiment of an exemplary thermal sensor which may be used as thermal sensor <b>101</b> of <figref idref="DRAWINGS">FIG. 1</figref>. In one embodiment, the exemplary thermal sensor <b>600</b> includes a comparator <b>601</b>, a reference voltage <b>602</b>, and a thermal diode <b>603</b>. Reference voltage <b>602</b> is coupled to an input of comparator <b>601</b>. Reference voltage <b>602</b> is provided through a current source (not shown) based on a thermal trip point received from ThermalCfg signal <b>117</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>. Thermal sensor <b>600</b> is constructed to monitor a temperature of a substrate. Comparator <b>601</b> indicates, via CatastrophicTrip signal <b>119</b>, when the temperature of the substrate exceeds a predetermined threshold. The assertion of CatastrophicTrip signal <b>119</b> alerts circuitry of the IC such that a corrective action can be taken (e.g., adjusting clock frequency or remove at least a portion of power from the IC).</p>
<p id="p-0044" num="0043">To generate the CatastrophicTrip signal <b>119</b>, comparator <b>601</b> receives signal <b>602</b> that electrically represents the threshold and signal <b>603</b> that electrically indicates the temperature of the IC. Comparator <b>601</b> compares the voltage levels of those two signals, and based on the comparison, comparator <b>601</b> either asserts, or drives high, CatastrophicTrip signal <b>119</b> (to indicate an overheating condition) or de-asserts, or drives low, CatastrophicTrip signal <b>119</b> (to indicate the temperature is normal). Signal <b>603</b> represents the forward voltage across a PN junction (represented by a diode) of the substrate. As typical, the forward potential across a PN junction varies linearly and inversely with respect to temperature. As a result, as the temperature of the substrate rises, the voltage level <b>603</b> drops.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 7</figref> shows a block diagram illustrating an exemplary processor where an embodiment of thermal protection mechanism <b>100</b> shown in <figref idref="DRAWINGS">FIG. 1</figref> may be used as thermal protection circuit <b>716</b> to prevent a processor from overheating. In one embodiment, microprocessor <b>700</b> includes a processing core <b>715</b> that processes data of a computer system. Processing core <b>715</b> includes a cache <b>701</b>, prefetch buffers <b>702</b>, an instruction decoder <b>703</b>, a microcode unit <b>704</b>, datapath circuitry <b>705</b>, an address generator <b>706</b> and a floating point unit <b>707</b>. Cache <b>701</b> stores instructions and data for execution by microprocessor <b>700</b>. Prefetch buffers <b>702</b> retrieve data and instructions for execution by microprocessor <b>700</b>. Buffers <b>702</b> retrieve the data and instructions either from cache <b>701</b> or if a cache miss occurs, from a memory of the computer system via a bus interface unit <b>708</b>.</p>
<p id="p-0046" num="0045">Instruction decoder <b>703</b> retrieves and decodes the instructions from prefetch buffers <b>702</b>. Microcode unit <b>704</b> has a memory that stores microcode instructions for microprocessor <b>700</b>. Microcode unit <b>704</b> interacts with the instruction decoder <b>703</b> to execute the instructions. To carry out execution of the instructions, microcode unit <b>704</b> provides address generator <b>706</b> with address information that address generator <b>706</b> uses to generate addresses necessary to carry out the execution of the instructions. In a similar manner, address generator <b>706</b> generates addresses for datapath circuitry <b>705</b> and floating point unit <b>707</b>.</p>
<p id="p-0047" num="0046">Microcode unit <b>704</b> is also responsible for instruction boundary processing, such as interrupt/exception arbitration, and the halting of the instruction decoder <b>703</b> when necessary. Microcode unit <b>704</b> also handles cache <b>701</b> misses. Datapath circuitry <b>705</b> provides the main execution data path for the microprocessor <b>700</b>. Datapath circuitry <b>705</b> includes an arithmetic logic unit (ALU), control registers, a barrel shifter, read only memory (ROM) and flags. Datapath circuitry <b>705</b> retrieves data from prefetch buffers <b>702</b>. Datapath circuitry <b>705</b> executes microcode provided by the instruction decoder <b>703</b> using data received from the prefetch buffers <b>702</b> according to the addresses generated by address generator <b>706</b>. Floating point unit <b>707</b> is used in the execution of floating point instructions.</p>
<p id="p-0048" num="0047">Outside of the processing core <b>715</b>, microprocessor <b>700</b> has the bus interface unit (BIU) <b>708</b>, a pad interface <b>711</b>, and a clock generator <b>710</b> which may be a part of clock generation logic <b>105</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>. Bus interface unit <b>708</b> provides an interface between internal buses of microprocessor <b>700</b> and external buses that are used to fetch data and instructions from a memory of the computer system. Bus interface <b>708</b> has write buffers <b>709</b> that are used to store data to be transferred from the microprocessor <b>700</b> to the rest of the computer system. Pad interface <b>711</b> provides a pin interface for control, address and data signals passed between the microprocessor <b>700</b> and the rest of the computer system.</p>
<p id="p-0049" num="0048">Clock generator <b>710</b> receives a system clock signal (e.g., BusClkIn <b>111</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>) and uses BusClkIn <b>111</b> to generate clock signals for microprocessor <b>700</b>. The clock generator <b>710</b> furnishes a clock signal (e.g., BusClk <b>115</b>) to bus interface unit <b>708</b> and pad interface <b>711</b>. When the microprocessor <b>700</b> is overheating (as indicated by the assertion of shutdown signal <b>113</b> which is provided as a part of an output from thermal protection circuit <b>716</b>), BusClk <b>115</b> and MainCPUClk <b>114</b> may be disabled, and power supplied to processor <b>700</b> may be removed.</p>
<p id="p-0050" num="0049">Clock generator <b>710</b> furnishes another clock signal (e.g., MainCPUClk <b>114</b>) to the processing core <b>715</b>. MainCPUClk <b>114</b> is synchronized to BusClkin <b>111</b> and has a frequency that is a multiple (e.g., a multiple of two) of the frequency of BusClkIn <b>111</b>. As a result, when microprocessor <b>700</b> is operating under normal conditions, processing core <b>715</b> generally operates at a higher frequency than the rest of the computer system.</p>
<p id="p-0051" num="0050">Control logic <b>712</b> of clock generator <b>710</b> receives shutdown signal <b>113</b>. When shutdown signal <b>113</b> is asserted, control logic <b>712</b> completely shuts off clock generator <b>710</b>, unless an internal clock source, such as ring oscillator <b>204</b> is activated. As a result, the overheat resulting from the clock signals is prevented.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 8</figref> shows a block diagram of an exemplary computer which may be used with an embodiment of the invention. For example, system <b>800</b> shown in <figref idref="DRAWINGS">FIG. 8</figref> may include a processor, such as processor <b>700</b> having a thermal protection mechanism <b>100</b>. Note that while <figref idref="DRAWINGS">FIG. 8</figref> illustrates various components of a computer system, it is not intended to represent any particular architecture or manner of interconnecting the components, as such details are not germane to the present invention. It will also be appreciated that network computers, handheld computers, cell phones, and other data processing systems which have fewer components or perhaps more components may also be used with the present invention.</p>
<p id="p-0053" num="0052">As shown in <figref idref="DRAWINGS">FIG. 8</figref>, the computer system <b>800</b>, which is a form of a data processing system, includes a bus <b>802</b> which is coupled to a microprocessor <b>803</b> and a ROM <b>807</b>, a volatile RAM <b>805</b>, and a non-volatile memory <b>806</b>. The microprocessor <b>803</b>, which may be a Pentium processor from Intel Corporation, is coupled to cache memory <b>804</b> as shown in the example of <figref idref="DRAWINGS">FIG. 8</figref>. The bus <b>802</b> interconnects these various components together and also interconnects these components <b>803</b>, <b>807</b>, <b>805</b>, and <b>806</b> to a display controller and display device <b>808</b>, as well as to input/output (I/O) devices <b>810</b>, which may be mice, keyboards, modems, network interfaces, printers, and other devices which are well-known in the art. Typically, the input/output devices <b>810</b> are coupled to the system through input/output controllers <b>809</b>. The volatile RAM <b>805</b> is typically implemented as dynamic RAM (DRAM) which requires power continuously in order to refresh or maintain the data in the memory. The non-volatile memory <b>806</b> is typically a magnetic hard drive, a magnetic optical drive, an optical drive, or a DVD RAM or other type of memory system which maintains data even after power is removed from the system. Typically the non-volatile memory will also be a random access memory, although this is not required. While <figref idref="DRAWINGS">FIG. 8</figref> shows that the non-volatile memory is a local device coupled directly to the rest of the components in the data processing system, it will be appreciated that the present invention may utilize a non-volatile memory which is remote from the system, such as a network storage device which is coupled to the data processing system through a network interface such as a modem or Ethernet interface. The bus <b>802</b> may include one or more buses connected to each other through various bridges, controllers, and/or adapters, as is well-known in the art. In one embodiment, the I/O controller <b>809</b> includes a USB (Universal Serial Bus) adapter for controlling USB peripherals.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 9</figref> shows a flow diagram illustrating an embodiment of an exemplary thermal protection process. In one embodiment, exemplary process <b>900</b> starts at block <b>901</b> to detect whether a temperature of an IC exceeds a predetermined threshold, regardless what state the IC is in. For example, the detection is performed even if the IC is in a reset state. If the temperature of the IC exceeds a predetermined threshold (e.g., a CatastrophicTrip signal is asserted), at block <b>902</b>, at least a portion of a power supplied to the IC is removed.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 10</figref> shows a flow diagram illustrating another embodiment of an exemplary thermal protection process. According to one embodiment, exemplary process <b>1000</b> starts at block <b>1001</b> where the system waits for a period of time until a power reaches a predetermined level and a stable clock signal has been generated. In one embodiment, this operation is performed by a power detection logic <b>106</b> and clock generation logic <b>105</b>. At block <b>1002</b>, one or more thermal sensors are configured in accordance with a thermal configuration associated with an IC, such as a microprocessor. At block <b>1003</b>, one or more sensors measure a temperature of the IC and detect whether the temperature exceeds a predetermined threshold, regardless what state the IC is in. In one embodiment, the thermal detection is performed even if the IC is in a reset state. At block <b>1004</b>, the thermal sensor may assert a signal, such as a CatastrophicTrip signal, if the temperature of the IC exceeds a predetermined threshold. Meanwhile, at block <b>1005</b>, after the thermal configuration, a thermal counter stalls a period of time to allow the temperature readings become stable. Once the temperature readings become stable, at block <b>1006</b>, the thermal counter enables an output control logic to output a signal (e.g., a shutdown signal) to a power control logic (e.g., a VRM) to remove at least a portion of a power from the IC.</p>
<p id="p-0056" num="0055">In the foregoing specification, the invention has been described with reference to specific exemplary embodiments thereof. It will be evident that various modifications may be made thereto without departing from the broader spirit and scope of the invention as set forth in the following claims. The specification and drawings are, accordingly, to be regarded in an illustrative sense rather than a restrictive sense.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method comprising:
<claim-text>detecting using a thermal sensor whether a temperature of an integrated circuit (IC) exceeds a threshold independent of an operating state of the IC, the thermal sensor and the IC being driven by a power source;</claim-text>
<claim-text>configuring the thermal sensor when the IC is powered up to a predetermined level of power from the power source based on a thermal configuration associated with the IC;</claim-text>
<claim-text>stalling a predetermined period of time to allow a result of detection by the thermal sensor to be substantially stable, stalling the predetermined period of time being performed in response to a signal indicating that configuration of the thermal sensor has been completed;</claim-text>
<claim-text>removing after the predetermined period of time at least a portion of a power from the IC if the temperature of the IC exceeds the threshold based on the result of the detection; and</claim-text>
<claim-text>generating a clock signal to control the detecting whether the temperature of the IC exceeds the threshold, wherein the generating comprises detecting whether an external clock exists; deriving the clock signal from the external clock if the external clock source exists; and generating the clock signal from an internal clock if the external clock source does not exist.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A method comprising:
<claim-text>detecting using a thermal sensor whether a temperature of an integrated circuit (IC) exceeds a threshold independent of an operating state of the IC, the thermal sensor and the IC being driven by a power source;</claim-text>
<claim-text>Configuring the thermal sensor when the IC is powered up to a predetermined level of power from the power source based on a thermal configuration associated with the IC;</claim-text>
<claim-text>stalling a predetermined period of time to allow a result of detection by the thermal sensor to be substantially stable, stalling the predetermined period of time being performed in response to a signal indicating that configuration of the thermal sensor has been completed;</claim-text>
<claim-text>removing after the predetermined period of time at least a portion of a power from the IC if the temperature of the IC exceeds the threshold based on the result of the detection;</claim-text>
<claim-text>generating a clock signal to control the detecting whether the temperature of the IC exceeds the threshold; and</claim-text>
<claim-text>generating a signal to indicate whether the clock signal is stable.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A machine-readable storage medium having instructions stored therein, which when executed by a machine, cause the machine to perform the method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A machine-readable storage medium having instructions stored therein, which when executed by a machine, cause the machine to perform the method of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
</claims>
</us-patent-grant>
