<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299275-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299275</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10453922</doc-number>
<date>20030603</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>P2002-161096</doc-number>
<date>20020603</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>933</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>173</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>709223</main-classification>
<further-classification>709218</further-classification>
<further-classification>718105</further-classification>
</classification-national>
<invention-title id="d0e71">Content delivery system for dynamically and optimally relocates contents to archive server, edge servers and terminal storage devices based on users' viewing tendency</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6751673</doc-number>
<kind>B2</kind>
<name>Shaw</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709231</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>7010578</doc-number>
<kind>B1</kind>
<name>Lewin et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709217</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>7111057</doc-number>
<kind>B1</kind>
<name>Sherman et al.</name>
<date>20060900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709223</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2002/0152121</doc-number>
<kind>A1</kind>
<name>Hiroshi</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 14</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2003/0061206</doc-number>
<kind>A1</kind>
<name>Qian</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707  3</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2003/0122792</doc-number>
<kind>A1</kind>
<name>Yamamoto et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345173</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2003/0187984</doc-number>
<kind>A1</kind>
<name>Banavar et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709225</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2003/0225723</doc-number>
<kind>A1</kind>
<name>Agarwalla et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707  1</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>22</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>709219</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709225</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709226</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709239</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709240</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709223</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709217</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709231</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709218</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705 14</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707  3</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707  1</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345173</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>718105</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>18</number-of-drawing-sheets>
<number-of-figures>21</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040064832</doc-number>
<kind>A1</kind>
<date>20040401</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Tsukidate</last-name>
<first-name>Ryota</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kitatora</last-name>
<first-name>Hirohito</first-name>
<address>
<city>Osaka</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Browdy and Neimark, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Matsushita Electric Industrial Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Osaka</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Luu</last-name>
<first-name>Le Hien</first-name>
<department>2141</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The present invention achieves maintenance of service quality and efficient operation of a system by dynamically and optimally relocating contents in each of an archive server, edge servers, and terminal storage devices. To achieve the object, the present invention provides a contents delivery system in which a CDN (contents delivery network) having plural edge servers intervenes between a center device managing an archive server storing contents and user terminals having large-capacity storage devices, wherein the center device includes: a viewing results collection part; a viewing results analysis part; a contents allocation part for relocating contents to each of the archive server, relay servers, and user terminals, based on an analyzed viewing tendency; a portal creation part for automatically creating a portal after the relocation; and a price decision part for automatically deciding contents prices after the relocation.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="149.86mm" wi="227.41mm" file="US07299275-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="238.00mm" wi="168.23mm" orientation="landscape" file="US07299275-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="250.36mm" wi="120.23mm" orientation="landscape" file="US07299275-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="254.00mm" wi="130.22mm" orientation="landscape" file="US07299275-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="212.34mm" wi="132.59mm" file="US07299275-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="207.52mm" wi="155.45mm" file="US07299275-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="119.55mm" wi="117.01mm" file="US07299275-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="179.75mm" wi="160.19mm" file="US07299275-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="243.16mm" wi="175.09mm" file="US07299275-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="198.63mm" wi="95.00mm" file="US07299275-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="223.18mm" wi="110.66mm" file="US07299275-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="152.82mm" wi="164.68mm" file="US07299275-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="183.98mm" wi="161.04mm" orientation="landscape" file="US07299275-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="238.76mm" wi="192.28mm" orientation="landscape" file="US07299275-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="265.18mm" wi="181.44mm" file="US07299275-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="228.43mm" wi="165.35mm" orientation="landscape" file="US07299275-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="223.86mm" wi="158.92mm" orientation="landscape" file="US07299275-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="241.98mm" wi="156.63mm" orientation="landscape" file="US07299275-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="200.49mm" wi="99.74mm" file="US07299275-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to a contents delivery system and a contents delivery method for delivering large-capacity contents upon users' requests.</p>
<p id="p-0004" num="0003">2. Description of the Prior Art</p>
<p id="p-0005" num="0004">Conventionally, to deliver large-capacity contents such as movies to user terminals, CDN (Contents Delivery Network) has intervened between an archive server storing contents in large quantity and the user terminals because only use of the Internet is insufficient. The CDN is a network in which edge servers serving as relay servers located in respective regions are connected, wherein the edge servers are stored with a large number of contents probably favorite to users. Thereby, by accessing the edge servers without directly accessing the archive server, the users can view favorite contents in a relatively short time in the form of streaming or by downloading them. On the other hand, a technology for automatically delivering contents has been developed. According to the technology, large-capacity storage devices such as hard disk drives are connected to user terminals, and according to contracts with a system administrator, desired contents are automatically delivered directly to the hard disk drives within homes from an archive server through an artificial satellite or the Internet. Therefore, according to such a satellite delivery system, the users can view desired contents at favorite times.</p>
<p id="p-0006" num="0005">However, in the case of a contents delivery system in which edge servers intervene between an archive server and user terminals, although the edge servers store relatively popular contents, they may not match actual users' preferences, in which case the users may directly access the archive server through the Internet. Repeated occurrence of such a situation would increase the load on the archive server and the Internet, make it difficult to maintain a given service quality, and lose opportunities to provide services for customers, damaging reliability for the system. Also, since the edge servers installed at very high cost are not effectively used, the withdrawal of invested costs may become slow.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0007" num="0006">The present invention solves the above-described problems, and an object of the present invention is to provide a contents delivery system and a contents delivery method that can achieve the maintenance of service quality and the efficient operation of a system by dynamically and optimally relocating contents in each of an archive server, edge servers, and terminal storage devices.</p>
<p id="p-0008" num="0007">To achieve the above-described object, the present invention is a contents delivery system in which a contents delivery network having plural relay servers intervenes between a center device managing an archive server storing contents and user terminals having large-capacity storage devices, wherein the center device comprises: a viewing results collection part for collecting viewing results from the user terminals; a viewing results analysis part for analyzing a viewing tendency from the collected viewing results; a contents allocation control part for relocating, based on the analyzed viewing tendency, contents to each of the archive server, the relay servers, and the storage devices; and a contents delivery management part having a contents management table. With this construction, contents in the archive server, relay servers, and terminal storage devices can be dynamically and optimally relocated, and the maintenance of service quality and the efficient <b>0</b>operation of the system can be achieved. Since users' preferences in relay servers in each region rather than general users' preferences can be reflected, contents can be delivered with local colors taken into consideration.</p>
<p id="p-0009" num="0008">The contents delivery system of the present invention includes a portal creation part, when the contents have been relocated, for automatically creating portal contents reflecting the relocated contents. With this construction, since portal contents displayed in the user terminals reflect relocated contents, new contents can be easily accessed. The users can be prompted to access contents desired to view.</p>
<p id="p-0010" num="0009">The contents delivery system of the present invention is characterized in that portal display location data indicating a display location within the portal contents is contained in the contents management table. This construction allows new portal contents to be automatically created.</p>
<p id="p-0011" num="0010">The contents delivery system of the present invention is characterized in that additional information for the contents is appended to the portal contents. This construction contributes to guiding the users in accessing.</p>
<p id="p-0012" num="0011">The contents delivery system of the present invention is characterized in that the additional information is a mark for attracting users' interest. This construction contributes to the promotion of contents viewing.</p>
<p id="p-0013" num="0012">The contents delivery system of the present invention is characterized in that the additional information is a viewing end mark capable of selecting whether to make display or not. With this construction, the additional information can be used in place of users' memos and privacy can be held.</p>
<p id="p-0014" num="0013">The contents delivery system of the present invention includes a price decision part for changing contents prices according to the collected viewing results. With this construction, by reducing the prices of unpopular contents to promote access to them, the distribution of contents can be promoted.</p>
<p id="p-0015" num="0014">The contents delivery system of the present invention changes the prices according to time zones. With this construction, by reducing charges only in idle time zones, the use of contents can be promoted.</p>
<p id="p-0016" num="0015">The contents delivery system of the present invention is characterized in that, if the prices are changed, the changed prices are recorded in the contents management table. With this construction, a relationship between changes in contents prices and viewing results can be recognized.</p>
<p id="p-0017" num="0016">The contents delivery system of the present invention is characterized in that: the relay servers respectively group one or more relay servers to plural relay server groups; each of the relay server groups is disposed between the archive server and the user terminals so that the user terminals can directly access relay servers within each of the relay server groups; a number of relay servers within the relay server group increases successively toward a downstream side in which the user terminals are disposed; more contents having high viewing results are accommodated in relay servers in the downstream side; and contents most likely to be viewed are accommodated in the user terminals. With this construction, contents for the relay servers can be optimally relocated, and contents can be more flexibly delivered.</p>
<p id="p-0018" num="0017">The contents delivery system of the present invention delivers contents from the archive server to the user terminals with automatic storage updating via a satellite. With this construction, the users can automatically store high-quality contents having the highest access frequency without storing the contents by themselves.</p>
<p id="p-0019" num="0018">The contents delivery system of the present invention is characterized in that delivers contents from the archive server to the user terminals with automatic storage updating via the Internet. With this construction, the users can automatically store contents having the highest access frequency without storing the contents by themselves.</p>
<p id="p-0020" num="0019">The present invention is a contents delivery method in a contents delivery system in which a contents delivery network having plural relay servers intervenes between a center device managing an archive server storing contents and user terminals having large-capacity storage devices, wherein processing of the center device includes the steps of: collecting viewing results from the user terminals; analyzing a viewing tendency from the collected viewing results; and relocating, based on the analyzed viewing tendency, contents to each of the archive server, the relay servers, and the storage devices. By this method, contents in each of the archive server, the relay servers, and the terminal storage devices can be dynamically and optimally relocated, and the maintenance of service quality and the efficient operation of the system can be achieved. Since users' preferences in relay servers in each region rather than general users' preferences can be reflected, contents can be delivered with local colors in mind.</p>
<p id="p-0021" num="0020">The contents delivery method of the present invention includes the step of automatically creating, when the contents have been relocated, portal contents reflecting relocated contents. By this method, since portal contents displayed in the user terminals reflect relocated contents, new contents can be easily accessed.</p>
<p id="p-0022" num="0021">The contents delivery method of the present invention includes the step of changing the contents prices according to the collected viewing results. By this method, by reducing the prices of unpopular contents to promote access to them, the distribution of contents can be promoted.</p>
<p id="p-0023" num="0022">The contents delivery method of the present invention changes the prices according to time zones. By this method, by reducing charges only in idle time zones, the use of contents can be promoted.</p>
<p id="p-0024" num="0023">The contents delivery method of the present invention is characterized in that: the relay servers respectively group one or more relay servers to plural relay server groups; each of the relay server groups is disposed between the archive server and the user terminals so that the user terminals can directly access relay servers within each of the relay server groups; a number of relay servers within the relay server group increases successively toward a downstream side in which the user terminals are disposed; more contents having high viewing results are accommodated in relay servers in the downstream side; and contents most likely to be viewed are accommodated in the user terminals. By this method, contents for the relay servers can be optimally relocated, and contents can be more flexibly delivered.</p>
<p id="p-0025" num="0024">The present invention is a contents delivery system sending and receiving data through transmission lines, wherein a data delivery device of the contents delivery system comprises: a center server controlling management information of the whole system; an archive server storing contents for offering service; and edge servers for dispersively processing accesses to contents from contents users, wherein the center server comprises: a contents automatic allocation control part that analyzes a situation of access to contents from the contents users, and directs the archive server or edge servers to allocate contents according to a result of analyzing the situation of access to the contents; and a portal data management part that creates and manages portal data for guiding the contents users according to the result of analyzing the situation of access to the contents, wherein receiving terminals of the contents delivery system have a portal service presenting part that uses the portal data received from the data delivery device to visually show existence of contents to the contents users. With this construction, contents in each of the archive server and the edge servers can be dynamically and optimally relocated, and the maintenance of service quality and the efficient operation of the system can be achieved.</p>
<p id="p-0026" num="0025">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein the center server includes a contract data management part for managing contract data about contracts with the contents users to view contents. With this construction, a trend of users can be recognized.</p>
<p id="p-0027" num="0026">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein the center server includes a contents use frequency data creation part that checks use frequencies of individual contents and creates contents use frequency data by analyzing the contract data. With this construction, a viewing tendency of users can be recognized.</p>
<p id="p-0028" num="0027">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein the contract data management part of the center server performs discount processing for individual contents according to the result of analyzing the situation of access to the contents. With this construction, the use of contents by the users can be promoted.</p>
<p id="p-0029" num="0028">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein the contents automatic allocation control part of the center server directs the archive server or edge servers to allocate contents according to quality of contents provided to the contents users. With this construction, contents can be dynamically and optimally allocated to the archive server and the edge server.</p>
<p id="p-0030" num="0029">The present invention is a contents delivery system sending and receiving data through transmission lines, wherein a data delivery device of the contents delivery system comprises: a center server controlling management information of the whole system; an archive server storing contents for offering service; and edge servers for dispersively processing accesses to contents from contents users, wherein the center server comprises: a contents automatic allocation control part that analyzes a situation of access to contents from the contents users, and directs the archive server or edge servers to allocate contents according to a result of analyzing the situation of access to the contents; and a portal data management part that creates and manages portal data for guiding the contents users according to the result of analyzing the situation of access to the contents. With this construction, contents in each of the archive server and the edge servers can be dynamically and optimally relocated, and the maintenance of service quality and the efficient operation of the system can be achieved.</p>
<p id="p-0031" num="0030">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein the center server includes a contract data management part that performs processing for contracts with the contents users to view contents, and manages contract data. With this construction, a trend of users can be recognized.</p>
<p id="p-0032" num="0031">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein the center server includes a contents use frequency data creation part that checks use frequencies of individual contents and creates contents use frequency data by analyzing the contract data. With this construction, a viewing tendency of users can be recognized.</p>
<p id="p-0033" num="0032">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein the contract data management part of the center server performs discount processing for individual contents according to the result of analyzing the situation of access to the contents. With this construction, the use of contents by the users can be promoted.</p>
<p id="p-0034" num="0033">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein the contents automatic allocation control part of the center server directs the archive server or edge servers to allocate contents according to quality of contents provided to the contents users. With this construction, contents can be dynamically and optimally allocated to the archive server and the edge server.</p>
<p id="p-0035" num="0034">The present invention is the contents delivery system sending and receiving data through transmission lines, wherein receiving terminals of the contents delivery system have a portal service presenting part that uses portal data for guiding the contents users to visually show existence of contents to the contents users. With this construction, contents available to the users can be shown, so that the use of the contents by the users can be promoted.</p>
<p id="p-0036" num="0035">The present invention is a contents delivery method for sending and receiving data through transmission lines, wherein a data delivery device of the contents delivery method includes the steps of: controlling management information of the whole system; storing contents for offering service; dispersively processing accesses to contents from contents users; analyzing a situation of access to contents from the contents users; directing allocation of contents according to a result of analyzing the situation of access to the contents; and creating and managing portal data for guiding the contents users according to the result of analyzing the situation of access to the contents. By this method, contents in each of the archive server and the edge servers can be dynamically and optimally relocated, and the maintenance of service quality and the efficient operation of the system can be achieved.</p>
<p id="p-0037" num="0036">The present invention is a contents delivery method for sending and receiving data through transmission lines, wherein receiving terminals in the contents delivery method include the step of using portal data for guiding the contents users to visually show the existence of contents to the contents users. By this method, the use of the contents by the users can be promoted.</p>
<p id="p-0038" num="0037">The present invention is recording media recording a contents delivery program for sending and receiving data through transmission lines, wherein the contents delivery program of a data delivery device in a contents delivery system includes the steps of: controlling management information of the whole system; storing contents for offering service; dispersively processing accesses to contents from contents users; analyzing a situation of access to contents from the contents users; directing the allocation of contents according to a result of analyzing the situation of access to the contents; and creating and managing portal data for guiding the contents users according to the result of analyzing the situation of access to the contents. By use of the recording media, contents in each of the archive server and the edge servers can be dynamically and optimally relocated, and the maintenance of service quality and the efficient operation of the system can be achieved.</p>
<p id="p-0039" num="0038">The present invention is recording media recording a contents delivery program for sending and receiving data through transmission lines, wherein the contents delivery program of receiving terminals in a contents delivery system includes the step of using portal data for guiding the contents users to visually show existence of contents to the contents users. By use of the recording media, the use of the contents by the users can be promoted.</p>
<p id="p-0040" num="0039">The present invention is a contents delivery program for sending and receiving data through transmission lines, wherein the contents delivery program of a data delivery device in a contents delivery system includes the steps of: controlling management information of the whole system; storing contents for offering service; dispersively processing accesses to contents from contents users; analyzing a situation of access to contents from the contents users; directing allocation of contents according to a result of analyzing the situation of access to the contents; and creating and managing portal data for guiding the contents users according to the result of analyzing the situation of access to the contents. By the delivery program, contents in each of the archive server and the edge servers can be dynamically and optimally relocated, and the maintenance of service quality and the efficient operation of the system can be achieved.</p>
<p id="p-0041" num="0040">The present invention is a contents delivery program for sending and receiving data through transmission lines, wherein the contents delivery program of receiving terminals in a contents delivery system includes the step of using portal data for guiding contents users to visually show existence of contents to the contents users. By the contents delivery system, the use of the contents by the users can be promoted.</p>
<p id="p-0042" num="0041">As has been described above, the present invention is a contents delivery system in which a contents delivery network having plural relay servers intervenes between a center device managing an archive server storing contents and user terminals having large-capacity storage devices, and a contents delivery method in the contents delivery system, wherein the center device collects viewing results from the user terminals, analyzes a viewing tendency from the collected viewing results, and relocates, based on the analyzed viewing tendency, contents to each of the archive server, the relay servers, and the storage devices. By this method, contents in each of the archive server, the relay servers, and the terminal storage devices can be dynamically relocated, and the maintenance of service quality and the efficient operation of the system can be achieved. Since users' preferences in relay servers in each region rather than general and average users' preferences can be reflected, contents can be delivered with local colors in mind.</p>
<p id="p-0043" num="0042">In a contents delivery device and a contents delivery method of the present invention, a contents delivery system comprises a data delivery device and receiving terminal, wherein the data delivery device comprises: a center server controlling management information of the whole system; an archive server storing contents for offering service; and edge servers for dispersively processing accesses to contents from contents users, dispersively stores contents in the archive server and edge server, analyzes the situation of access to contents from contents users, and relocates contents in the archive server and the edge server. By this method, contents can be dynamically and optimally relocated in the archive server and edge server, and the maintenance of service quality and the efficient operation of the system can be achieved, so that investments costs can be reduced.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<p id="p-0044" num="0043">The objects and advantages of the present invention will be made more apparent by embodiments described below with reference to the accompanying drawings.</p>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic block diagram showing the configuration of a contents delivery system in a first embodiment of the present invention;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic block diagram showing an overall flow of the contents delivery system in the first embodiment of the present invention;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic block diagram showing another example of an overall flow of the contents delivery system in the first embodiment of the present invention;</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 4</figref> is a data configuration diagram showing the contents of contents attribute data recorded in a contents management table in the first embodiment of the present invention;</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 5A</figref> is a data configuration diagram showing the contents of a server storage level management table for URIs in the first embodiment of the present invention;</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 5B</figref> is a data configuration diagram showing a table of shelf dropout threshold values and price reduction threshold values classified by storage level in the first embodiment of the present invention;</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 6A</figref> is a data configuration diagram showing a terminal setting management table in the first embodiment of the present invention;</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 6B</figref> is a data configuration diagram showing viewing history management data in user terminals in the first embodiment of the present invention;</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart showing contents relocation processing in user terminals in the first embodiment of the present invention;</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 8</figref> is a flowchart showing contents relocation processing in edge servers in the first embodiment of the present invention;</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 9</figref> is a flowchart showing contents relocation processing in archive servers in the first embodiment of the present invention;</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart showing portal automatic creation processing in the first embodiment of the present invention;</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 11</figref> is a schematic diagram showing a portal screen of a user terminal in the first embodiment of the present invention;</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 12</figref> is a schematic diagram showing another portal screen of a user terminal in the first embodiment of the present invention;</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 13</figref> is a schematic diagram showing another portal screen of a user terminal in the first embodiment of the present invention;</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 14</figref> is a schematic diagram showing another portal screen of a user terminal in the first embodiment of the present invention;</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 15</figref> is a schematic block diagram showing another example of the contents delivery system in the first embodiment of the present invention;</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 16</figref> is a schematic block diagram showing a multistage configuration of edge servers in another contents delivery system in the first embodiment of the present invention;</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 17</figref> is a block diagram showing the configuration of a contents delivery system in a second embodiment of the present invention; and</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 18</figref> is a flowchart showing a contents delivery method in the second embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0065" num="0064">Hereinafter, embodiments of the present invention will be described with reference to the drawings.</p>
<heading id="h-0005" level="1">First Embodiment</heading>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 1</figref> shows an overall configuration of a contents delivery system in a first embodiment of the present invention. In <figref idref="DRAWINGS">FIG. 1</figref>, a center device <b>1</b>, in addition to basic computer functions, has a viewing results collection part <b>2</b>, a viewing results analysis part <b>3</b>, a contents allocation control part <b>4</b>, a portal creation part <b>5</b>, a price decision part <b>6</b>, and a content delivery management part <b>7</b>, which are connected with each other through a bus <b>8</b>. The contents allocation control part <b>4</b> is connected with an archive server <b>9</b> through a network. The archive server <b>9</b> is connected with a contents delivery network CDN <b>10</b> through the network. An edge server <b>11</b> installed for each area of the CDN <b>10</b> is connected with user terminals <b>12</b> through ADSL, cable television line, or the like. The user terminals <b>12</b> each has a terminal <b>13</b> and a hard disk drive <b>14</b>, wherein the terminal <b>13</b> is connected with an edge server <b>11</b> installed in a corresponding area. On the other hand, the archive server <b>9</b> is connected with a broadcasting device <b>15</b>, which is wirelessly connected with the user terminals <b>12</b> through an artificial satellite <b>16</b>. The center device <b>1</b> is directly connected with the user terminals <b>12</b> through the Internet <b>17</b>.</p>
<p id="p-0067" num="0066">The user terminals <b>12</b> can automatically store contents in the hard disk drives <b>14</b> from the archive server <b>9</b> through the artificial satellite <b>16</b> or Internet <b>17</b>. In this case, the user must make a contract with an administrator (or manager of enterprise) of the center device <b>1</b> for viewing. A form of the contract is basically the same for all terminals in that charges are paid for viewing; in this case, the center device delivers contents most likely to be viewed to the user. As another form, contents of a user-specified jenre are delivered and the user pays charges for each of delivered contents. The center device <b>1</b> delivers contents to the user terminals <b>12</b> periodically or for each new release through the artificial satellite <b>16</b> or the Internet <b>17</b> and automatically stores or updates them in the hard disk drives <b>14</b>. According to the automatic storage and updating, the user can automatically collect contents having high viewing results without performing special operations. In the case where the user terminals <b>12</b> are delivered with contents from the edge servers <b>11</b> of CDN <b>10</b>, if an administrator of the CDN <b>10</b> is the same as the administrator of the center device <b>1</b>, the user must make a contract with an administrator of the center device <b>1</b> for viewing. If the administrator of the CDN <b>10</b> is different from the administrator of the center device <b>1</b>, the user must make a contract with both of them for viewing.</p>
<p id="p-0068" num="0067">The content delivery management part <b>7</b> of the center device <b>1</b> manages numerous contents within the archive server <b>9</b>, region-conscious contents having high viewing results within the edge servers <b>11</b>, and contents most likely to be viewed within the hard disk drives <b>14</b> in the user terminals <b>12</b>. Contents stored within the archive server <b>9</b> are catalog contents viewed by a small number of users; individual contents are infrequently viewed but accesses to the category are many in total. Contents stored in the edge servers <b>11</b> are popular contents accessed by comparatively many users. Contents stored in the hard disk drives <b>14</b> of the user terminals <b>12</b> are very popular contents on which access is expected to concentrate at the first rental release.</p>
<p id="p-0069" num="0068">A description will be made of an overall flow of the contents delivery system in the first embodiment with reference to <figref idref="DRAWINGS">FIG. 2</figref>. The center device <b>1</b> obtains a user's desired genre according to a viewing contract with the user, initially allocates selected contents to the user terminal <b>12</b> of the user, the edge servers <b>11</b> in a region in which the user resides, and the archive server <b>9</b>, and creates a portal (step S<b>1</b>). Alternatively, contents may be allocated with the same contents across the country. Next, a trial is made with the contents allocation for a given period of time to obtain viewing results, that is, collect use frequencies by the viewing results collection part <b>2</b> during the period of the trial (step S<b>2</b>). The collected viewing results are ranked after being analyzed as to user's age, sex, occupation, residence region, use frequency, and the like by the viewing results analysis part <b>3</b> (step S<b>3</b>). Next, an examination is made of contents relocation from the obtained analysis result (step S<b>4</b>). Contents expected to probably become popular may fall short of their expectation, while contents without expectation may become popular. In this case, the contents may be relocated by residence region or network infrastructure taking partial infrastructures among residence regions into account. Network infrastructures do not always depend on regions; for example, a distance between Tokyo and Osaka may be shorter in terms of network than a distance between Tokyo and Sizuoka. If new contents have been already registered at that time, the new contents are taken into account (step S<b>9</b>). At termination of the examination, the portal creation part <b>5</b> creates a portal, based on the result of the examination (step S<b>5</b>). The portal is a title screen that indicates what contents can be viewed, and involves portal editing operations (step S<b>10</b>). The price decision part <b>6</b> makes an examination of the price of the contents to be used, revises it if necessary, and reflects the result in the portal (step S<b>6</b>). Therefore, the order of steps S<b>6</b> and S<b>5</b> may be reverse as shown in <figref idref="DRAWINGS">FIG. 3</figref>. The purchase of service is a tradeoff with costs as in the purchase of products; too costly products will not be used. Accordingly, contents infrequently used are reduced in price to promote the use of them. Also, as a time service, their prices are reduced only in time zones in which they are infrequently used, to promote the use of them. After contents allocation, portal creation, and price decision are thus performed, the contents allocation control part <b>4</b> relocates contents to the archive server <b>9</b>, the edge servers <b>11</b>, and the user terminals <b>12</b> (step S<b>7</b>), releases the created portal, and executes the service (step S<b>8</b>). The result of the service execution is sent as data from the user terminals <b>12</b> to the content delivery management part <b>7</b> through the Internet <b>17</b> of the center device <b>1</b>, and viewing results are collected in the viewing results collection part <b>2</b> and analyzed in the viewing results analysis part <b>3</b>. The above-described steps are repeated.</p>
<p id="p-0070" num="0069">Next, a detailed description will be made of contents relocation processing in the center device <b>1</b>. Optimum contents relocation, which is performed periodically, say every day or every week, is performed from the user terminals <b>12</b>, wherein the archive server <b>9</b> is upstream and the user terminals <b>12</b> are downstream. Contents are relocated using the concept of “shelf dropout” and “shelf keeping”. The term “shelf dropout” means relocation from downstream terminals or servers to upstream servers; basically, identical contents are allocated to servers of identical storage levels. The term “shelf keeping” means relocation from upstream servers to downstream servers or terminals. To perform “shelf dropout” and “shelf keeping”, use frequencies for the contents are used as a parameter so that values less than a given shelf dropout threshold value are defined as “shelf dropout” and values beyond the threshold value are defined as “shelf keeping”. Contents likely to depend on current factors, e.g., contents expected to become popular in association with planned promotion of related products from a next week are distargeted for “shelf dropout” at the time of periodical optimum allocation. This setting is manually flagged as “exclusion from application of shelf dropout”. Based on users' viewing results, use frequencies for contents are used as a parameter so that price revision is made if a given price reduction threshold value is not satisfied.</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 4</figref> shows the contents of contents attribute data recorded in a contents management table for managing contents in the content delivery management part <b>7</b> of the center device <b>1</b>. The following data are recorded: management ID, title, running time, genre, summary, performers, viewing limitation level (R-rated, etc.), storage level, URL, data storage location within server, encode, price, attribute, valid period, display location within the portal, access ranking, access count, and the like. <figref idref="DRAWINGS">FIG. 5A</figref> is a data configuration diagram showing the contents of a server storage level management table for URIs; a storage level <b>0</b> targets the archive server <b>9</b>, a storage level <b>1</b> targets five edge servers of edge server group <b>1</b>, and a storage level <b>2</b> targets <b>100</b> edge servers of edge server group <b>2</b>. In the case where the edge servers <b>11</b> consist of one stage as shown in <figref idref="DRAWINGS">FIG. 1</figref>, there are three types of storage levels: “0” of the archive server <b>9</b>, “1” of the edge servers <b>11</b>, and “2” of the user terminals <b>12</b>. <figref idref="DRAWINGS">FIG. 5B</figref> shows a table of shelf dropout threshold values and price reduction threshold values classified by storage level; the shelf dropout threshold values and price reduction threshold values are based on access count, and greater values are set toward a downstream direction so that the user terminals <b>12</b> of storage level n+1 are set to the greatest value. <figref idref="DRAWINGS">FIG. 6A</figref> shows a terminal setting management table in which viewing limitation indication, viewing limitation level, viewing limitation cancel password, viewing history display indication, line speed (bps), and the like are defined. <figref idref="DRAWINGS">FIG. 6B</figref> shows the configuration of viewing history management data in the user terminals <b>12</b> which consists of management ID, title, view date, URL (indicates what file (contents) was actually viewed), and other data.</p>
<p id="p-0072" num="0071">Contents relocation processing in the center device <b>1</b> begins with the content delivery management part <b>7</b> checking contents stored in the user terminals <b>12</b>, edge servers <b>11</b>, and archive server <b>9</b>. That is, the processing is performed toward upstream from downstream. <figref idref="DRAWINGS">FIG. 7</figref> shows the checking of contents stored in the user terminals <b>12</b>. In <figref idref="DRAWINGS">FIG. 7</figref>, an access ranking of contents is created from collected and analyzed viewing results (step S<b>11</b>). According to the ranking, individual contents are checked to determine whether they exceed shelf dropout threshold values (step S<b>12</b>), and if they exceed the threshold values, the storage state is kept intact; this processing is performed for all stored contents (step S<b>13</b>). Otherwise, if the contents are excluded from application of shelf dropout, they are kept stored intact (step S<b>14</b>). If the contents are not excluded from application of shelf dropout, the storage level of the contents is set to one lower level, which is the storage level of the edge servers <b>11</b> (step S<b>15</b>).</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 8</figref> shows the checking of stored contents in the edge servers <b>11</b>. In <figref idref="DRAWINGS">FIG. 8</figref>, after an access ranking is created (step S<b>21</b>), individual contents stored in the edge servers <b>11</b> are checked to determine whether they exceed shelf dropout threshold values at a current storage level (step S<b>22</b>), and if so, the contents are checked to determine whether they exceed shelf dropout threshold values of the user terminals <b>12</b> of one higher storage level (downstream side) (step S<b>23</b>). If so, the user terminals <b>12</b> are checked for free storage (or available storage) (step S<b>24</b>), and if free storage exists, the storage level of the contents is set higher by one to perform shelf keeping (step S<b>25</b>). This processing is performed for all contents stored in the edge servers <b>11</b> (step S<b>26</b>). In step <b>21</b>, in the case where the shelf dropout threshold values are not exceeded, if the contents are excluded from application of shelf dropout, they are kept stored intact (step S<b>27</b>). If the contents are not excluded from application of shelf dropout, the storage level of the contents is set to one lower level (upstream side), which is the storage level of the archive server <b>9</b> (step S<b>28</b>).</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 9</figref> shows storage contents check processing in the archive server <b>9</b>. In <figref idref="DRAWINGS">FIG. 9</figref>, individual contents stored in the archive server <b>9</b> are checked to determine whether they exceed shelf dropout threshold values of the edger server <b>11</b> of one higher level (downstream side) (step S<b>31</b>). If so, the edge servers <b>11</b> is checked for free storage (step S<b>32</b>), and if free storage exists, the contents are transferred to the edge servers <b>11</b>, that is, to perform shelf keeping (step S<b>33</b>). This processing is performed for all contents stored in the archive server <b>9</b> (step S<b>34</b>). Thus, in the archive server <b>9</b>, only shelf keeping is taken into account because shelf dropout does not occur. Conversely, if downstream edge servers <b>11</b> and user terminals <b>12</b> have free storage, even if threshold values are not exceeded, shelf keeping may be performed to effectively use shelves.</p>
<p id="p-0075" num="0074">In this way, storage contents check processing in the user terminals <b>12</b>, edge servers <b>11</b>, and archive server <b>9</b> is performed in the contents delivery management part <b>7</b>, shelf dropout or shelf keeping is performed based on shelf dropout threshold values, and then the contents allocation control part <b>4</b> relocates the contents according to storage levels set in the contents management table, so that contents in the user terminals <b>12</b>, edge servers <b>11</b>, and archive server <b>9</b> are optimally allocated.</p>
<p id="p-0076" num="0075">Next, a detailed description will be made of automatic creation of contents in the portal creation part <b>5</b> of the center device <b>1</b> and price decision processing in the price decision part <b>6</b>. In the case where contents have been relocated, portal contents must be created to reflect the relocated contents. In this case, the contents are allocated so that the users are easily accessible to or prompted to access the contents stored in the user terminals <b>12</b> and the edge servers <b>11</b>. The contents management table is provided with portal display location data indicating a display location within the portal, as shown in <figref idref="DRAWINGS">FIG. 4</figref>, and the portal is automatically created based on the data. The portal display location data contains a rank; for a higher rank, the contents are displayed in a more conspicuous place so that all contents are placed in descending order of rank. The portal display location data may be automatically created from an access ranking or intentionally created with some intention of the administrator.</p>
<p id="p-0077" num="0076">When a portal is created, contents prices are revised if given price reduction threshold values are not satisfied. For example, prices are reduced for contents that are not subject to shelf dropout but are infrequently accessed. By monitoring or statistically analyzing the situation of access to the edge servers <b>11</b>, dynamic price revisions such as discounting in idle time zones may be made. If a price has been reduced, the attribute of price reduction is set in the contents management table of the contents delivery management part <b>7</b>. This makes it possible to recognize a relationship between contents price revisions and viewing results.</p>
<p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. 10</figref> shows portal automatic creation processing in the portal creation part <b>5</b>. In <figref idref="DRAWINGS">FIG. 10</figref>, an access ranking after execution of relocation is obtained from the contents allocation control part <b>4</b> (step S<b>41</b>), and a ranking table is consulted to determine whether individual contents exceed price reduction threshold values (step S<b>42</b>). If so, the prices are kept intact, and if they do not exceed, the prices of the contents are revised based on a predetermined reduction range (step S<b>43</b>), and this processing is performed for all contents (step S<b>44</b>). If necessary, the portal display location data is changed to place contents ranked low in higher positions (step S<b>45</b>). A portal is automatically created based on portal display location data appended to individual contents (step S<b>46</b>). This processing is performed beginning with contents stored in the downstream user terminals <b>12</b>, then for contents stored in the edge servers <b>11</b>. Since the archive server <b>9</b> stores all other contents not stored in the user terminals <b>12</b> and the edge servers <b>11</b>, the contents are offered by having the users perform a search based on contents attributes and the like.</p>
<p id="p-0079" num="0078">The edge servers <b>11</b> are dispersively disposed, e.g., on a region basis, and portal contents are created to allow the users to automatically access an optimum server when they access contents. <figref idref="DRAWINGS">FIG. 11</figref> shows a portal screen displayed in the user terminals <b>12</b>, which displays additional information <b>21</b>, title <b>22</b>, running time <b>23</b>, service type <b>24</b>, button <b>25</b> for viewing details, and button <b>26</b> for viewing contents. The user terminals <b>12</b> obtain portal contents having identical contents from the center device <b>1</b> (except links to the contents) but have different display contents, depending on the state and settings of the terminals. The portal contents contain, in addition to information (title, time, etc.) actually displayed, contents attribute data shown in <figref idref="DRAWINGS">FIG. 4</figref> as meta-information of the contents themselves (information about the contents themselves, and attribute information). Portal contents delivered from the center device <b>1</b> to the user terminals <b>12</b> are offered through the Internet <b>17</b> or directly delivered in the hard disk drives <b>14</b> of the user terminals <b>12</b> over broadcasting from the artificial satellite <b>16</b>. In the case of the former, since the portal is dynamically changed because the Internet is used, contents not stored are also included. In the case of the latter, since dynamic relocation of contents of the edge servers <b>11</b> and the archive server <b>9</b> is not supported, only contents to be stored are targeted. Contents not stored are dynamically displayed depending on a contents storage state. For broadcasting storage that is not always perfect for storage, “not stored” or “coming soon” is displayed for contents not stored. In the case where price information displayed in the portal is statically determined, a price display can be changed depending on time by including plural prices and time zones in advance in the portal contents and displaying prices corresponding to a current time at the time of displaying to the user terminals <b>12</b>. At that time, time sale marks are also displayed to enable application to time-fixed time services.</p>
<p id="p-0080" num="0079">For the additional information <b>21</b> of <figref idref="DRAWINGS">FIG. 11</figref>, attention marks are mainly used to attract users' attention. The attention marks are provided by the user terminals <b>12</b> from contents attribute data or in advance attached to the portal contents sent from the center device <b>1</b>. “New” is attached to products newly released that are within a given period after the start of a contents valid period, e.g., two months after the contents become viewable. “Recommend” are attached to recommendable products. “Discount” is attached to products reduced in price. “Time Sale” is attached to products targeted for time sale. “Soon closed” is attached to products soon closed that are within a given period before the end of a contents valid period, e.g., one week before contents viewing end. Title <b>22</b> indicates contents arranged in descending order of popularity. Service type <b>24</b> indicates contents storage locations. “HDD” indicates the hard disk drive <b>14</b> of the user terminals <b>12</b>. “Stream” indicates that streaming from the edge servers <b>11</b> is possible. “Download” indicates that downloading from the archive server <b>9</b> is possible, displaying download time matching communication environments of individual terminals (described later). “R-rated” is not displayed in the portal as a rule; levels set in the user terminals and levels set in individual contents are compared, and whether to make a display is selected in the user terminals.</p>
<p id="p-0081" num="0080"><figref idref="DRAWINGS">FIG. 12</figref> shows an example of portal contents residing on plural pages <b>31</b>, <b>32</b>, <b>33</b>, and <b>34</b>. Priorities of portal display location data are higher toward preceding pages, and higher toward upper positions on one page. Contents extending onto plural pages may be divided into “HDD” page <b>41</b>, “Stream” page <b>42</b>, and “Download” page <b>43</b> by storage location, as shown in <figref idref="DRAWINGS">FIG. 13</figref>. In the figure, “Not stored” mark <b>44</b> and “Already viewed” mark <b>45</b> are displayed. The “Already viewed” mark <b>45</b> may be optionally selected by the users to hold privacy for fear that what was viewed previously is revealed to others.</p>
<p id="p-0082" num="0081">The center device <b>1</b> periodically checks network environments used by the user terminals <b>12</b>, measures a line speed from previous download results, and sets a line speed item of terminal setting management data shown in <figref idref="DRAWINGS">FIG. 6A</figref>. Based on the information, download time is estimated and displayable contents are selected. Contents which cannot be viewed in the current environment are not displayed. <figref idref="DRAWINGS">FIG. 14A</figref> shows a display example in the user terminals <b>12</b> with fast line speeds, and <figref idref="DRAWINGS">FIG. 14B</figref> shows a display example in the user terminals <b>12</b> with slow line speeds. In the case of <figref idref="DRAWINGS">FIG. 14B</figref>, “Stream” is erased from the portal screen because stream contents cannot be viewed, and download contents take twice as long to download.</p>
<p id="p-0083" num="0082">In the contents delivery system as described above, although the edge servers <b>11</b> of CDN <b>10</b> consist of one stage as shown in <figref idref="DRAWINGS">FIG. 1</figref>, the edge servers <b>11</b> may consist of a multistage group such as <b>11</b>A, <b>11</b>B, and <b>11</b>C as shown in <figref idref="DRAWINGS">FIG. 15</figref>. <figref idref="DRAWINGS">FIG. 16</figref> shows its detailed structure. Logically, downstream of the archive server <b>9</b> is disposed an edge server <b>11</b>A of first stage group, downstream of the edge server <b>11</b>A of the first stage group is disposed an edge server <b>11</b>B of second stage group, downstream of the edge server <b>11</b>B of the second stage group is disposed an edge server <b>11</b>C of third stage group, and downstream of the edge server <b>11</b>C of the third stage group are disposed the user terminals <b>12</b>, wherein they each are connected to network N so that the user terminals <b>12</b> can gain access directly to the edge servers <b>11</b>A, <b>11</b>B, and <b>11</b>C of the groups and the archive server <b>9</b> through the network N. The archive server <b>9</b> is set to storage level “0”, the edge server <b>11</b>A to storage level “1”, the edge server <b>11</b>B to storage level “2”, and the edge server <b>11</b>C to storage level “3”; they match the contents of the server storage level management table for URIs shown in <figref idref="DRAWINGS">FIG. 5A</figref>. The edge servers <b>11</b> increase in number toward downstream and respond more appropriately to an increase in access to contents toward downstream. Between the user terminals <b>12</b> and the edge server <b>11</b>C, between the edge servers <b>11</b>C and <b>11</b>B, between the edge servers <b>11</b>B and <b>11</b>A, and between the edge server <b>11</b>A and the archive server <b>9</b>, contents can be interchanged by the above-described method. Therefore, in the contents delivery system shown in <figref idref="DRAWINGS">FIG. 15</figref>, since only contents very popular with the users can be accommodated in the edge server <b>11</b>C closest to the user terminals <b>12</b>, not only the load on the edge server <b>11</b>C can be reduced but also contents can be interchanged with the edge server <b>11</b>B of the next stage immediately according to changes in the popularity of the contents. Consequently, the contents can be flexibly and optimally relocated among the edge servers. Also, a preference tendency of users can be immediately reflected, and local-color-rich and elaborate contents delivery becomes possible. As a result, the user terminals <b>12</b> will be stored with only contents most likely to be viewed.</p>
<heading id="h-0006" level="1">Second Embodiment</heading>
<p id="p-0084" num="0083">Next, a second embodiment of the present invention will be described. The first embodiment is achieved in global and relatively large network systems, while the second embodiment can be achieved even in narrower and smaller network systems. <figref idref="DRAWINGS">FIG. 17</figref> shows the configuration of a contents delivery system in the second embodiment. A data delivery device <b>51</b> is connected to plural receiving terminals <b>60</b> through a network <b>59</b>. The data delivery device <b>51</b> has a center server <b>52</b> controlling management information of the whole system, an archive server <b>52</b> storing contents for offering service, and an edge server <b>54</b> for dispersively processing accesses to contents from contents users. The edge server <b>54</b> and the center server <b>52</b> of the data delivery device <b>51</b> each are connected to the network <b>59</b>, and the center server <b>52</b> can send and receive data directly to and from the receiving terminal <b>60</b> to receive contract data and viewing data. Plural edge servers may be dispersively disposed as in the first embodiment.</p>
<p id="p-0085" num="0084">The center server <b>52</b> comprises: a contents automatic allocation control part <b>55</b> that analyzes the situation of access to contents from contents users, and directs the archive server <b>53</b> or edge server <b>54</b> to allocate contents according to the result of analyzing the situation of access to the contents; a portal data management part <b>56</b> that creates and manages portal data for guiding the contents users according to the result of analyzing the situation of access to the contents; a contract data management part <b>57</b> that manages contract data about contracts with the contents users to view contents; and a contents use frequency data creation part <b>58</b> that checks the use frequencies of individual contents and creates contents use frequency data by analyzing the contract data. The contents automatic allocation control part <b>55</b> directs the archive server <b>53</b> or edge server <b>54</b> to relocate contents according to the quality or popularity of contents provided to the contents users. The portal data management part <b>56</b> guides contents users by arranging contents in the order of popularity or conspicuously arranging emphasized contents according to the result of analyzing the situation of access to the contents. The contract data management part <b>57</b> performs discount processing for individual contents according to the result of analyzing the situation of access to contents and promotes the use of emphasized contents and the use of contents in idle time zones. The receiving terminal <b>60</b> has a portal service presenting part <b>61</b> that uses portal data received from the data delivery device <b>51</b> to visually show the existence of contents to contents users.</p>
<p id="p-0086" num="0085">A contents delivery method in the data delivery device <b>51</b> in the second embodiment will be described with reference to <figref idref="DRAWINGS">FIG. 18</figref>. An overall flow is the same as in the above-described first embodiment. The center server <b>52</b> controls management information of the whole system (step S<b>51</b>) extracts a viewing tendency of users from contract data managed in the contract data management part <b>57</b>, and dispersively stores the contents to be provided in the archive server <b>53</b> and edge server <b>54</b> (step S<b>52</b>). The center server <b>52</b> sends a portal created in the portal data management part <b>56</b> to the receiving terminals <b>60</b> through the network <b>59</b> to prompt the users for access by showing them the portal in the portal service presenting part <b>61</b> (step S<b>53</b>) of the receiving terminals <b>60</b> (step S<b>53</b>). While contents accesses to the edge server <b>54</b> from plural contents users are dispersively processed, the contents use frequency data creation part <b>58</b> of the center server <b>52</b> analyzes the situation of contents accesses by contents users (step S<b>54</b>), and according to the result of analyzing the contents access situation, the contents automatic allocation control part .<b>55</b> directs the archive server <b>53</b> and edge server <b>54</b> to relocate contents (Step S<b>55</b>). The portal data management part <b>56</b>, according to the result of analyzing the contents access situation, creates new portal data for guiding the contents users and provides it to the receiving terminals <b>60</b> of the users again (step S<b>56</b>). By thus performing the same processing as in the first embodiment, contents can be dynamically and optimally relocated in the archive server <b>53</b> and edge server <b>54</b>, and the maintenance of service quality and the efficient operation of the system can be achieved.</p>
<p id="p-0087" num="0086">In the second embodiment, if the receiving terminals <b>60</b> not only perform streaming for contents from the edge server <b>54</b> but also are provided with hard disk drives to store contents downloaded from the edge server <b>54</b> therein, the users can view the contents at convenient times. There may be provided plural edge servers <b>54</b> each of which is connected to the network <b>59</b>, or the edge server <b>54</b> may consists of multiple stages each of which is connected to the network <b>59</b>, thereby enabling quick response to various requests of contents users.</p>
<p id="p-0088" num="0087">By creating the method of the present invention as a program usable to computers, contents delivery management can be performed using computers. By recording the program in storage media usable to computers, the computers can be operated through the recording media.</p>
<p id="p-0089" num="0088">In the above embodiments, the contents delivery system is explained as using an artificial satellite or satellite broadcasting system. However, the contents also can be delivered via any other broadcasting system using for example, usual earthy wave broadcast, CATV, internet broadcast etc.</p>
<p id="p-0090" num="0089">Although the present invention has been described based on preferred embodiments shown in the drawings, it is apparent that the present invention can be easily changed or modified by those skilled in the art. Such modifications are also included in the scope of the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A contents delivery system in which a contents delivery network having plural relay servers intervenes between a center device managing an archive server storing contents and user terminals having large-capacity storage devices, wherein said center device comprises:
<claim-text>a viewing results collection part for collecting viewing results from said user terminals;</claim-text>
<claim-text>a viewing results analysis part for analyzing a viewing tendency from said collected viewing results;</claim-text>
<claim-text>a contents allocation control part for relocating, based on said analyzed viewing tendency, contents to each of said archive server, said relay servers, and said storage devices;</claim-text>
<claim-text>a contents delivery management part having a contents management table;</claim-text>
<claim-text>a portal creation part, when said contents have been relocated, for automatically creating portal contents reflecting the relocated contents, and</claim-text>
<claim-text>a portal display location data for indicating a display location within said portal contents is contained in said contents management table.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The contents delivery system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein additional information for said contents is appended to said portal contents.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The contents delivery system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein said additional information is a mark for attracting users' interest.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The contents delivery system according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein said additional information is a viewing end mark capable of selecting whether to make display or not.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The contents delivery system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, including a price decision part for changing contents prices according to said collected viewing results.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The contents delivery system according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, changing said prices according to time zones.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The contents delivery system according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein, if said prices are changed, the changed prices are recorded in said contents management table.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The contents delivery system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said relay servers respectively group one or more relay servers to plural relay server groups; each of said relay server groups is disposed between said archive server and said user terminals so that said user terminals can directly access relay servers within each of said relay server groups; a number of relay servers within said relay server group increases successively toward a downstream side in which said user terminals are disposed; more contents having high viewing results are accommodated in relay servers in said downstream side; and contents most likely to be viewed are accommodated in said user terminals.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The contents delivery system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, delivering contents from said archive server to said user terminals with automatic storage updating via a satellite.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The contents delivery system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, delivering contents from said archive server to said user terminals with automatic storage updating via the Internet.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A contents delivery method in a contents delivery system in which a contents delivery network having plural relay servers intervenes between a center device managing an archive server storing contents and user terminals having large-capacity storage devices, wherein processing of said center device includes the steps of:
<claim-text>collecting viewing results from said user terminals;</claim-text>
<claim-text>analyzing a viewing tendency from said collected viewing results; and</claim-text>
<claim-text>relocating, based on said analyzed viewing tendency, contents to each of said archive server, said relay servers, and said storage devices;</claim-text>
<claim-text>automatically creating, when said contents have been relocated, portal contents reflecting the relocated contents; and</claim-text>
<claim-text>appending portal display location data indicating a display location within said portal contents into said contents management table.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The contents delivery method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, including the step of changing the contents prices according to said collected viewing results.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The contents delivery method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, changing said prices according to time zones.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The contents delivery method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said relay servers respectively group one or more relay servers to plural relay server groups; each of said relay server groups is disposed between said archive server and said user terminals so that said user terminals can directly access relay servers within each of said relay server groups; a number of relay servers within said relay server group increases successively toward a downstream side in which said user terminals are disposed; more contents having high viewing results are accommodated in relay servers in said downstream side; and contents most likely to be viewed are accommodated in said user terminals.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A contents delivery system including a data delivery service for sending contents and receiving terminal for receiving said contents, and sending and receiving data through transmission lines, wherein
<claim-text>said data delivery device of said contents delivery system comprises:</claim-text>
<claim-text>a center server controlling management information of the whole system;</claim-text>
<claim-text>an archive server storing contents for offering service; and</claim-text>
<claim-text>edge servers for dispersively processing accesses to contents from contents users;</claim-text>
<claim-text>said center server comprises:</claim-text>
<claim-text>a contents automatic allocation control part that analyzes a situation of access to contents from said contents users, and directs said archive server or edge servers to allocate contents according to a result of analyzing the situation of access to said contents; and</claim-text>
<claim-text>a portal data management part that creates and manages portal data for guiding said contents users according to the result of analyzing the situation of access to said contents; and</claim-text>
<claim-text>said receiving terminals of said contents delivery system have a portal service presenting part that uses said portal data received from said data delivery device to visually show existence of contents to said contents users;</claim-text>
<claim-text>wherein said portal data management part guides contents users by arranging contents in the order of popularity or conspicuously arranging emphasized contents according to the result of analyzing the situation of access to the contents.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The contents delivery system sending and receiving data through transmission lines according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein said center server includes a contract data management part for managing contract data about contracts with said contents users to view contents.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The contents delivery system sending and receiving data through transmission lines according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein said center server includes a contents use frequency data creation part that checks use frequencies of individual contents and creates contents use frequency data by analyzing said contract data.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The contents delivery system sending and receiving data through transmission lines according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the contract data management part of said center server performs discount processing for individual contents according to the result of analyzing the situation of access to said contents.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The contents delivery system sending and receiving data through transmission lines according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the contents automatic allocation control part of said center server directs said archive server or edge servers to allocate contents according to quality of contents provided to said contents users.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A contents delivery method for sending and receiving data between a data delivery device and receiving terminal through transmission lines, wherein a data delivery device of said contents delivery method includes the steps of:
<claim-text>controlling management information of the whole system; storing contents for offering service;</claim-text>
<claim-text>dispersively processing accesses to contents from contents users;</claim-text>
<claim-text>analyzing a situation of access to contents from said contents users;</claim-text>
<claim-text>directing allocation of contents according to a result of analyzing the situation of access to said contents; and</claim-text>
<claim-text>creating and managing portal data for guiding said contents users according to the result of analyzing the situation of access to said contents; and</claim-text>
<claim-text>said receiving terminal in said contents delivery method include the step of using portal data for guiding contents users to visually show existence of contents to said contents users,</claim-text>
<claim-text>wherein said portal data is used for guiding contents users by arranging contents in the order of popularity or conspicuously arranging emphasized contents according to the result of analyzing the situation of access to the contents.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. Recording media recording a contents delivery proogram for sending and receiving data between a data delivery device and receiving terminal through transmission lines, wherein the contents delivery program of a data delivery device in a contents delivery system includes the steps of:
<claim-text>controlling management information of the whole system;</claim-text>
<claim-text>storing contents for offering service;</claim-text>
<claim-text>dispersively processing accesses to contents from contents users;</claim-text>
<claim-text>analyzing a situation of access to contents from said contents users;</claim-text>
<claim-text>directing allocation of contents according to a result of analyzing the situation of access to said contents; and</claim-text>
<claim-text>creating and managing portal data for guiding said contents users according to the result of analyzing the situation of access to said contents, and</claim-text>
<claim-text>the contents delivery program of said receiving terminal in a contents delivery system include the step of using portal data for guiding contents users to visually show existence of contents to said contents user,</claim-text>
<claim-text>wherein said portal data is used for guiding contents users by arranging contents in the order of popularity or conspicuously arranging emphasized contents according to the result of analyzing the situation of access to the contents.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A contents delivery program, executed by a computer, for sending and receiving data between a data delivery device and receiving terminal through transmission lines, wherein the contents delivery program of a data delivery device in a contents delivery system includes the steps of:
<claim-text>controlling management information of the whole system;</claim-text>
<claim-text>storing contents for offering service;</claim-text>
<claim-text>dispersively processing accesses to contents from contents users;</claim-text>
<claim-text>analyzing a situation of access to contents from said contents users;</claim-text>
<claim-text>directing allocation of contents according to a result of analyzing the situation of access to said contents; and</claim-text>
<claim-text>creating and managing portal data for guiding said contents users according to the result of analyzing the situation of access to said contents</claim-text>
<claim-text>the contents delivery program of said receiving terminal in a contents delivery system includes the step of using portal data for guiding contents users to visually show existence of contents to said contents user,</claim-text>
<claim-text>wherein said portal data is used for guiding contents users by arranging contents in the order of popularity or conspicuously arranging emphasized contents according to the result of analyzing the situation of access to the contents.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
