<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299044-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299044</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10501564</doc-number>
<date>20030725</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2002-221011</doc-number>
<date>20020730</date>
</priority-claim>
<priority-claim sequence="02" kind="national">
<country>JP</country>
<doc-number>2003-161808</doc-number>
<date>20030606</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>Q</subclass>
<main-group>7</main-group>
<subgroup>20</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>455436</main-classification>
<further-classification>4554351</further-classification>
<further-classification>455433</further-classification>
<further-classification>4554352</further-classification>
<further-classification>370329</further-classification>
<further-classification>370330</further-classification>
<further-classification>370331</further-classification>
</classification-national>
<invention-title id="d0e79">Mobility managing method and mobile terminal</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6195705</doc-number>
<kind>B1</kind>
<name>Leung</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709245</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6407988</doc-number>
<kind>B1</kind>
<name>Hilton et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6496704</doc-number>
<kind>B2</kind>
<name>Yuan</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455466</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6587882</doc-number>
<kind>B1</kind>
<name>Inoue et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709227</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7116654</doc-number>
<kind>B2</kind>
<name>Kim</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2002/0147837</doc-number>
<kind>A1</kind>
<name>Heller</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709238</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2003/0073439</doc-number>
<kind>A1</kind>
<name>Wenzel et al.</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455435</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2003/0224788</doc-number>
<kind>A1</kind>
<name>Leung et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554351</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2004/0203749</doc-number>
<kind>A1</kind>
<name>Iyer et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4554321</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>CN</country>
<doc-number>1402493</doc-number>
<kind>A</kind>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>EP</country>
<doc-number>1058421</doc-number>
<kind>A2</kind>
<date>20000600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>EP</country>
<doc-number>1 058 421</doc-number>
<kind>A</kind>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>JP</country>
<doc-number>2000-004255</doc-number>
<kind>A</kind>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>JP</country>
<doc-number>2001-308932</doc-number>
<kind>A</kind>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>WO</country>
<doc-number>WO 98 57515</doc-number>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>WO</country>
<doc-number>WO 01 41395</doc-number>
<kind>A</kind>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>WO</country>
<doc-number>WO0141395</doc-number>
<kind>A1</kind>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00018">
<othercit>Perkins, C.E., “Mobile Networking Through Mobile IP”, IEEE Internet Computing, IEEE Service Center, Piscataway, NJ, US, vol. 2, No. 1, 1998, pp. 58-69.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00019">
<othercit>International Search Report for application No. PCT/IB 03/02969 dated Apr. 2, 2004.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>35</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>4554351</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455436</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455433</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>4554352</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370328-331</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>20</number-of-drawing-sheets>
<number-of-figures>23</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050101321</doc-number>
<kind>A1</kind>
<date>20050512</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Ikeda</last-name>
<first-name>Shinkichi</first-name>
<address>
<city>Yokohama</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Funabiki</last-name>
<first-name>Makoto</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>RatnerPrestia</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Matsushita Electric Industrial Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Osaka</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Kincaid</last-name>
<first-name>Lester G.</first-name>
<department>2617</department>
</primary-examiner>
<assistant-examiner>
<last-name>Lam</last-name>
<first-name>Dung</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/IB03/02969</doc-number>
<kind>00</kind>
<date>20030725</date>
</document-id>
<us-371c124-date>
<date>20040714</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO2004/014027</doc-number>
<kind>A </kind>
<date>20040212</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In a mobile communication system using a mobile IP, a mobile terminal determines a main home agent and a main home address. When the mobile terminal moved to a network different in service form, a home address for use on a moved-in domain network is registered as a primary care of address to the main home agent, thereby enabling communications by using the main home address even upon accessed from the other than the belonging domain network. This makes it possible to flexibly cope with an incoming call from the external by the use of a representative home address even on the Internet as a distributed network.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="138.60mm" wi="187.20mm" file="US07299044-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="186.35mm" wi="160.53mm" orientation="landscape" file="US07299044-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="188.72mm" wi="158.24mm" orientation="landscape" file="US07299044-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="202.27mm" wi="166.96mm" orientation="landscape" file="US07299044-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="199.05mm" wi="142.41mm" orientation="landscape" file="US07299044-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="229.79mm" wi="170.86mm" orientation="landscape" file="US07299044-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="210.06mm" wi="162.31mm" orientation="landscape" file="US07299044-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="213.28mm" wi="162.64mm" orientation="landscape" file="US07299044-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="143.09mm" wi="167.39mm" orientation="landscape" file="US07299044-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="192.19mm" wi="171.79mm" orientation="landscape" file="US07299044-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="249.51mm" wi="185.08mm" orientation="landscape" file="US07299044-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="109.73mm" wi="107.87mm" orientation="landscape" file="US07299044-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="177.88mm" wi="88.73mm" orientation="landscape" file="US07299044-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="158.92mm" wi="119.55mm" orientation="landscape" file="US07299044-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="220.22mm" wi="108.71mm" orientation="landscape" file="US07299044-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="225.89mm" wi="110.41mm" orientation="landscape" file="US07299044-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="219.96mm" wi="124.71mm" orientation="landscape" file="US07299044-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="203.62mm" wi="166.96mm" orientation="landscape" file="US07299044-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="189.91mm" wi="88.90mm" orientation="landscape" file="US07299044-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="183.64mm" wi="94.83mm" orientation="landscape" file="US07299044-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="206.33mm" wi="168.99mm" orientation="landscape" file="US07299044-20071120-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">THIS APPLICATION IS A U.S. NATIONAL PHASE APPLICATION OF PCT INTERNATIONAL APPLICATION PCT/IB2003/002969.</p>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present invention relates to a mobility managing method and mobile terminal, in a mobile communication system aiming at accessing the Internet, for supporting a change of home address occurring upon roaming of the mobile terminal between the mobile communication networks different in service form, thus allowing communications based on one address notified publicly.</p>
<heading id="h-0002" level="1">BACKGROUND ART</heading>
<p id="p-0004" num="0003">There is mobile IP as one of mobility managing methods in the Internet system. The mobile IPv4, corresponding to IPv4 (Internet Protocol Version 4), is standardized in RFC3220 (IP Mobility Support). Meanwhile, the mobile IPv6, corresponding to IPv6 (Internet Protocol Version 6), is now under standardization in the Internet draft draft-ietf-mobileip-ipv6 (Mobility Support in IPv6). These protocols enable communications by the use of the same address even where the mobile terminal roams between different networks.</p>
<p id="p-0005" num="0004">In mobile IPv6, the mobile terminal, where distant from a home link, acquires the prefix information of a currently connected link from the network information sent from an access router of the currently connected link, thereby generating a care of address for use on that link. Thereafter, by sending a binding update message to a home agent, the care of address is registered as a primary care of address to a home agent on a home link of the mobile terminal. The home agent, after receiving the binding update message from the mobile terminal, creates or updates a binding cache to associate the home address and the care of address together.</p>
<p id="p-0006" num="0005">The home agent makes reference to a binding cache and proxy-receives a packet sent destined for the home address on the home link of the mobile terminal, to encapsulate the proxy-received packet, thereby carrying out a process to transfer it to a care of address of the mobile terminal. The mobile terminal decapsulates the packet transferred by the home agent, thus receiving the packet destined for the home address of the mobile terminal.</p>
<p id="p-0007" num="0006">Meanwhile, conventionally, as a mobile communication method of this field, there is something like a description in JP-T-2002-503415. <figref idref="DRAWINGS">FIG. 23</figref> shows the conventional mobile communication method described in that publication.</p>
<p id="p-0008" num="0007">In <figref idref="DRAWINGS">FIG. 23</figref>, a plurality of mobile communication networks are configured by private automatic branch exchanges (PABXs) <b>2303</b>, home base stations (HBSs) <b>2305</b>, digital enhanced cordless telecommunications (DECTs) <b>2306</b>, and mobile terminals <b>2304</b>. These mobile communication networks are connected by a mobile subscriber repeater (M-TVSt) <b>2301</b>. A home data bank (HDB) <b>2302</b> acquires and manages a call number of the mobile terminal <b>2304</b> for use on each network through the private automatic branch exchange (PABX) <b>2303</b> on each mobile communication network, and associates it with a representative number, thereby making it possible to transfer an incoming call from the external.</p>
<p id="p-0009" num="0008">However, in the mobile communication system using a conventional mobile IP, the mobile terminals and the home agents are in a one-to-one relationship, wherein the home agents are installed/controlled on each domain of mobile communication operator. In such a situation, the mobile terminal when moving between domains is assigned with a different home address by a moved-in domain. In the communications from the external, the external terminal is required to select a home address of accessible mobile terminal, i.e. to know an operator domain to which the mobile terminal is now getting access, which forcibly lowers communication efficiency and convenience.</p>
<p id="p-0010" num="0009">Meanwhile, it is possible to support a change of home address by using a DNS for managing a correspondence of a host name and address of mobile terminal, particularly a dynamic DNS for dynamic update. However, it generally takes a time of several minutes or more from registration up to stabilizing the DNS system, thus involving many problems in swift responding to mobile terminal roaming.</p>
<p id="p-0011" num="0010">Incidentally, in the foregoing publication, in a closed communication network for a mobile communication network such as GSM, association is provided by the home data bank (HDB) <b>2302</b> and the private automatic branch exchange (PABX) <b>2303</b> on each communication network. However, there is a problem of deficient flexibility in the Internet that is a freely distributed network including those mobile communication networks.</p>
<heading id="h-0003" level="1">DISCLOSURE OF THE INVENTION</heading>
<p id="p-0012" num="0011">In a mobile communication system using a mobile IP, a mobile terminal determines a main home agent and a main home address. When the mobile terminal moves to a network different in service form, a home address (sub-home address) for use on a domain network which is different in service form (i.e., moved-in network domain) is registered as a primary care of address to the main home agent. When accessed externally, by using the main home address, even when the mobile terminal roams between domain networks and is assigned a different home address, external communication is available by using the main home address. Also, where DNS is used to register the main home address to eliminate the necessity of each registration of a local home address (sub-home address) change caused by roaming between domain networks, it is possible to cope with swift movement of the mobile terminal.</p>
<p id="p-0013" num="0012">A method of managing mobility according to the present invention includes determining a home agent for a mobile terminal to perform location management of the mobile terminal, the mobile terminal having communications with an access point apparatus arranged on a subnet and moving between the subnets and domain networks different in service form, registering a main home address by the mobile terminal provided from a main home agent apparatus to a server for managing a name and an address of an apparatus to have a connection to the at least one domain network; and registering a sub-home address to the main home agent apparatus, as a care of address, for use on another domain network different in service form, when the mobile terminal moves to the other domain network different in service form.</p>
<p id="p-0014" num="0013">Due to this, even when the mobile terminal moves between domain networks, access is possible to the mobile terminal from an external by using always the same address, i.e. main home address. It is possible to dissolve the confusion caused, as in the conventional, where the home address is changed upon roaming between domain networks. Consistent mobile communications can be realized.</p>
<p id="p-0015" num="0014">Also, in a method of managing mobility according to the invention, the mobile terminal previously stores information about a home agent apparatus to become a candidate for the main home agent apparatus.</p>
<p id="p-0016" num="0015">Due to this, the mobile terminal, if previously acquires information about a main home agent, such as an IP address, and a main home address, can realize a swift location registering process in a destination of movement.</p>
<p id="p-0017" num="0016">Also, a method of managing mobility according to the invention further comprises a step for the mobile terminal to acquire the information about a home agent apparatus to become a candidate for the main home agent apparatus from the domain network.</p>
<p id="p-0018" num="0017">Due to this, because the information required on a moved-in domain network only is acquired each time, the mobile terminal can be suppressed in memory consumption.</p>
<p id="p-0019" num="0018">Also, in the method of managing mobility according to the invention, in the home agent determining step, the mobile terminal changes over, as required, the main home agent apparatus from the information about a home agent apparatus.</p>
<p id="p-0020" num="0019">This makes it possible to cope with a failure of the home agent or flexibly cope with a load distribution measure in the home agent.</p>
<p id="p-0021" num="0020">Also, in a method of managing mobility according to the invention, in the home agent determining step, the mobile terminal determines the main home agent apparatus from the information about a home agent apparatus, on the basis of a preference as one of the information.</p>
<p id="p-0022" num="0021">This makes it possible to predict a load over the network or home agent, to secure a superiority in network management.</p>
<p id="p-0023" num="0022">Also, in a method of managing mobility according to the invention, in the home agent determining step, the mobile terminal determines the main home agent apparatus from the information about a home agent apparatus, on the basis of an access frequency to the home agent apparatus.</p>
<p id="p-0024" num="0023">This makes it possible to select a main home agent suited for a mobility characteristic of the mobile terminal. Particularly, transmission delay can be reduced during registering a location, achieving to improve the process efficiency.</p>
<p id="p-0025" num="0024">Also, a method of managing mobility according to the invention further comprises a registration request step of making a request for a registration to the home agent apparatus arranged in a domain network to be connected through a link layer, placed in an effective state at an opportunity of capable of acquiring an IP address, of link layers possessed by the mobile terminal at least one of which turns from a non-effective state into an effective state, wherein, the sub-home address registering step is carried out when the registration request is granted by the sub-home agent apparatus.</p>
<p id="p-0026" num="0025">This can realize a mobility detecting process in brief time as compared to the case of mobility detection to detect an IP address change.</p>
<p id="p-0027" num="0026">A mobile terminal according to the invention comprises: a main home agent selecting section for selecting a main home agent apparatus to ask location management and making a request for registering a main home address given from the main home agent apparatus to a server for managing an address of an apparatus to be connected to the domain network; a mobile IP processing section for notifying, when moved to a domain network different in service form, a sub-home agent apparatus for asking location management on a moved-in domain network of a sub-home address for use on the moved-in domain network together with a care of address for use on a subnet of within the moved-in domain network, on the basis of a mobile IP protocol; and a home agent registering section for notifying the main home agent apparatus of the main home address and a sub-home address for use on the moved-in domain network.</p>
<p id="p-0028" num="0027">Due to this, even when the mobile terminal moves between domain networks, access is possible to the mobile terminal from an external by using always the same address, i.e. main home address. It is possible to dissolve the confusion caused, as in the conventional, where the home address is changed upon roaming between domain networks. Consistent mobile communications can be realized.</p>
<p id="p-0029" num="0028">Also, a mobile terminal according to the invention further comprises a home domain storing section for storing a home agent list as information about a home agent apparatus to become a candidate for the main home agent apparatus, wherein the main home agent selecting section selects a main home agent apparatus from the home agent list.</p>
<p id="p-0030" num="0029">Due to this, the mobile terminal, if previously acquires information about a main home agent, such as an IP address, and a main home address, can realize a swift location registering process in a destination of movement.</p>
<p id="p-0031" num="0030">Also, in a mobile terminal according to the invention, the main home agent selecting section acquires information about a home agent apparatus from the domain network and store it to the home domain storing section.</p>
<p id="p-0032" num="0031">Due to this, because the information required on a moved-in domain network only is acquired each time, the mobile terminal can be suppressed in memory consumption.</p>
<p id="p-0033" num="0032">Also, in a mobile terminal according to the invention, the main home agent selecting section changes over, as required, the main home agent apparatus from the home agent list stored in the home domain storing section.</p>
<p id="p-0034" num="0033">Due to this, by selecting or reselecting a main home agent as required, it is possible to cope with a failure of the home agent or flexibly cope with a load distribution measure in the home agent.</p>
<p id="p-0035" num="0034">Also, in a mobile terminal according to the invention, the main home agent selecting section selects the main home agent apparatus from the home agent list stored in the home domain storing means, on the basis of a preference as one of information about a home agent apparatus.</p>
<p id="p-0036" num="0035">This makes it possible to predict a load over the network or home agent, to secure a superiority in network management.</p>
<p id="p-0037" num="0036">Also, in a mobile terminal according to the invention, the main home agent selecting section selects as the main home agent apparatus a home agent apparatus having an access frequency equal to or greater than a predetermined value from the home agent list stored in the home domain storing section.</p>
<p id="p-0038" num="0037">This makes it possible to select a home agent suited for a mobility characteristic of the mobile terminal. Particularly, transmission delay can be reduced during registering a location, achieving to improve the process efficiency.</p>
<p id="p-0039" num="0038">Also, in a mobile terminal according to the invention, the home agent registering section makes a request for registration to a sub-home agent apparatus through a link layer turned from a non-effective state into an effective state so that, when receiving a grant for the registration request by the sub-home agent apparatus, started is a notification of a sub-home address to the main home agent apparatus.</p>
<p id="p-0040" num="0039">This can realize a moving detecting process in brief time as compared to the case of movement detection to detect an IP address change.</p>
<p id="p-0041" num="0040">Also, in a mobile terminal according to the invention, the mobile IP processing section, when receiving a multi-encapsulated packet, takes a source address described in an innermost header as a destination of registering location.</p>
<p id="p-0042" num="0041">This eliminates the possibility to duplicatedly register the address of an already recorded home agent apparatus or access point apparatus, preventing the useless consumption of resources of the mobile terminal and the home agent apparatus.</p>
<p id="p-0043" num="0042">As described above, according to the invention, even in the case of roaming between the mobile communication terminals different in service form, incoming calls from the external can be secured by the use of a representative home address.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram showing a network configuration of a mobile communication system according to embodiment 1 of the invention.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram showing a network configuration of the mobile communication system according to embodiment 1 of the invention.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram showing a network configuration of the mobile communication system according to embodiment 1 of the invention.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram showing a first configuration of a mobile terminal according to embodiment 1 of the invention.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram showing a second configuration of a mobile terminal according to embodiment 1 of the invention.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram showing a first configuration of a home agent apparatus according to embodiment 1 of the invention.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 7</figref> is a diagram showing a second configuration of a home agent apparatus according to embodiment 1 of the invention.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 8</figref> is a diagram showing a first configuration of an access point apparatus according to embodiment 1 of the invention.</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 9</figref> is a diagram showing a second configuration of an access point apparatus according to embodiment 1 of the invention.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart showing the operation of the mobile terminal according to embodiment 1 of the invention.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart showing an operation of the home agent apparatus according to embodiment 1 of the invention.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 12(</figref><i>a</i>) is a flowchart showing an information providing operation of the access point apparatus according to embodiment 1 of the invention.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 12(</figref><i>b</i>) is a flowchart showing an information providing operation of the access point apparatus according to embodiment 1 of the invention.</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 13</figref> is a flowchart showing an information providing operation of the access point apparatus according to embodiment 1 of the invention.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 14</figref> is a diagram showing a domain network configuration according to embodiment 1 of the invention.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 15</figref> is a figure showing an example of a home agent list according to embodiment 1 of the invention.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 16</figref> is a figure showing a configuration of a home agent information providing apparatus according to embodiment 1 of the invention.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 17(</figref><i>a</i>) is a figure showing an example of a binding cache to be managed by the conventional home agent apparatus.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 17(</figref><i>b</i>) is a figure showing an example of a binding cache to be managed by the home agent apparatus according to embodiment 1 of the invention.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 18</figref> is a figure showing an example of a binding update list to be managed by a mobile terminal apparatus according to embodiment 1 of the invention.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 19</figref> is a diagram showing a packet flow from an external terminal according to embodiment 1 of the invention.</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 20</figref> is a diagram showing a mobile communication system configuration according to embodiment 2 of the invention.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 21</figref> is a figure showing a binding update message in a mobile IP according to embodiment 1 of the invention.</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 22</figref> is a figure showing a binding acknowledge message in a mobile IP according to embodiment 1 of the invention.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. 23</figref> is a configuration diagram of a conventional mobile communication system.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">BEST MODE FOR CARRYING OUT THE INVENTION</heading>
<p id="p-0069" num="0068">Hereunder, embodiments of the present invention will be explained with using the drawings. Note that the same constituent elements are shown by attaching the same references.</p>
<heading id="h-0006" level="1">Embodiment 1</heading>
<p id="p-0070" num="0069">Embodiment 1 of the invention is explained with using <figref idref="DRAWINGS">FIGS. 1 to 22</figref>.</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIGS. 1 to 3</figref> and <b>14</b> are diagrams showing a network configuration of a mobile communication system according to the invention. In <figref idref="DRAWINGS">FIGS. 1 to 3</figref>, domain networks <b>1</b>, <b>2</b>, <b>3</b> are the domain networks having different forms in services. Particularly, the domain network <b>1</b> is a home domain network selected and determined by a mobile terminal (MN) <b>10</b> while the domain networks <b>2</b>, <b>3</b> are external domain networks. Home agent apparatuses (HA) <b>50</b>-<b>1</b>, <b>50</b>-<b>2</b>, <b>50</b>-<b>3</b> are respectively to manage the domain networks <b>1</b>, <b>9</b>, <b>3</b>. Particularly, the home agent apparatus <b>50</b>-<b>1</b> is a main home agent apparatus (M-HA) to manage the home domain network for the mobile terminal <b>10</b>. Meanwhile, home agent apparatuses <b>50</b>-<b>2</b>, <b>50</b>-<b>3</b> are sub-home agent apparatuses (HA-<b>1</b>, HA-<b>2</b>) arranged in the other domain networks than the home domain network. Meanwhile, a domain network system (DNS) server <b>20</b> is to associate a host name with an IP address on the Internet, which manages, associatedly, an IP address and host name of the home agent apparatus <b>50</b>-<b>1</b> or mobile terminal <b>10</b> belonging to the domain network <b>1</b> and may define the domain networks <b>2</b>, <b>3</b> as external domain networks and further have a function to define the home agent apparatus in an external domain network as sub-home agent apparatuses <b>50</b>-<b>2</b>, <b>50</b>-<b>3</b>.</p>
<p id="p-0072" num="0071">Furthermore, each of the respective domain networks <b>1</b>, <b>2</b>, <b>3</b> has a configuration shown in <figref idref="DRAWINGS">FIG. 14</figref>.</p>
<p id="p-0073" num="0072">In <figref idref="DRAWINGS">FIG. 14</figref>, an access point apparatus (AP) <b>60</b>, although to radio-communicate with the mobile terminal <b>10</b>, may perform communications by the use of a wired line without limited to that. The invention is not to limit the same. Meanwhile, a local network <b>100</b> is a sub-network laid down within the domain network.</p>
<p id="p-0074" num="0073">Furthermore, a home-agent information providing server (HIS) <b>70</b> has a function to provide the mobile terminal <b>10</b> with information about the home-agent apparatus <b>50</b> placed on the domain network <b>1</b>.</p>
<p id="p-0075" num="0074">The method of managing mobility over the mobile communication system configured as above is explained in respect of its operation and function.</p>
<p id="p-0076" num="0075">In the outset, the mobile terminal <b>10</b> designates a domain network <b>1</b>, as a home domain network <b>1</b>, from the plurality of domain networks <b>1</b>, <b>2</b>, <b>3</b>, and selects a home agent apparatus <b>50</b>-<b>1</b> as a main home agent to manage the address of the mobile terminal <b>10</b>.</p>
<p id="p-0077" num="0076">Then, the home agent apparatus <b>50</b>-<b>1</b> assigns a home address usable on the domain network to the mobile terminal <b>10</b>. The assigned home address is defined as a main home address to a binding cache.</p>
<p id="p-0078" num="0077">Meanwhile, the mobile terminal <b>10</b> makes a request for registering the main home address to the DNS <b>20</b>. Receiving the request, the DNS <b>20</b> registers, associatedly, a name and home address of the mobile terminal <b>10</b> being requested.</p>
<p id="p-0079" num="0078">Now explained is a case that the mobile terminal <b>10</b> roams within the home domain network <b>1</b> (movement from subnet to subnet).</p>
<p id="p-0080" num="0079">In the outset, the mobile terminal <b>10</b>, in a subnet newly moved in, includes at least a care of address CoA-M and a main home address HoA-M, to packet-transmit a registration request message complying with a mobile-IP procedure to the main home agent apparatus <b>50</b>-<b>1</b>.</p>
<p id="p-0081" num="0080">Then, the main home agent apparatus <b>50</b>-<b>1</b>, when receiving an effective registration request message (A<b>1</b>), updates an entry content corresponding to the mobile terminal <b>10</b> in its own binding cache and packet-transmits a registration acknowledge message back to the mobile terminal <b>10</b> (A<b>2</b>).</p>
<p id="p-0082" num="0081">From then on, the data packet destined for the home address HoA-M of mobile terminal <b>10</b> is tunnel-transferred (A<b>2</b>) to the care of address CoA-M of mobile terminal <b>10</b> registered in the binding cache by the main home agent apparatus <b>50</b>-<b>1</b>, thereby being correctly transferred to the mobile terminal <b>10</b>.</p>
<p id="p-0083" num="0082">Now explained is an operation at the time that the mobile terminal <b>10</b> exits the home domain network <b>1</b> and moved (<b>201</b>) into an external domain network <b>2</b> under the jurisdiction of a sub-home agent apparatus <b>50</b>-<b>2</b>, by using <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0084" num="0083">First, the mobile terminal <b>10</b> accesses a subnet within the external domain network <b>2</b>, and generates a care-of-address CoA-<b>1</b> on the basis of the network information of the subnet moved in. The network information is to be delivered, for example, by a router advertisement packet. The mobile terminal <b>10</b>, if recognizing a fact that the accessed domain network <b>2</b> is not a home domain network <b>1</b>, acquires a sub-home address HoA-<b>1</b>. This sub-home address corresponds to a sub-home address.</p>
<p id="p-0085" num="0084">Incidentally, the care of address CoA-<b>1</b> may be generated from network information by the mobile terminal <b>10</b> or may be through receiving an assignment from a network by the use of a protocol such as DHCP (Dynamic Host Configuration Protocol).</p>
<p id="p-0086" num="0085">Acquiring a sub-home address HoA-<b>1</b> may be on the basis of the information acquired from an access point apparatus <b>60</b> connected or on the basis of the information acquired from the home agent information providing server <b>70</b> connected to the network. Specifically, the mobile terminal <b>10</b> sends an inquiry packet to the access point apparatus <b>60</b> or home agent information providing server <b>70</b>, and the access point apparatus <b>60</b> or home agent information providing server <b>70</b> in turn sends back to the mobile terminal <b>10</b> an acknowledge packet including a content of a home agent list as shown in <figref idref="DRAWINGS">FIG. 15</figref>. Otherwise, the mobile terminal <b>10</b> receives and utilizes a data packet including a content of a home agent list broadcast or multicast at a regular interval by the access point apparatus <b>60</b> or home agent information providing server <b>70</b>. Herein, explained below is the information about the home agent apparatus shown in <figref idref="DRAWINGS">FIG. 15</figref>.</p>
<p id="p-0087" num="0086">IP address <b>141</b> is an address of the home agent apparatus. Preference <b>142</b> is a priority suitable in selection as determined from the remaining resource or load condition of the home agent apparatus. Lifetime <b>143</b> is a remaining operating time of the home agent apparatus <b>50</b>. Home prefix <b>144</b> shows a list of the home prefixes the home agent apparatus <b>50</b> is to manage. Meanwhile, in the case that a home address is assigned to the mobile terminal <b>10</b>, an assigned home address may be described.</p>
<p id="p-0088" num="0087">Such information to be acquired by a mobile terminal <b>10</b> is information having a content corresponding to the home agent list, without exception. Specifically, information about the home agent apparatus <b>50</b> is to be acquired. The mobile terminal <b>10</b> selects one home agent apparatus <b>50</b> by any of the methods of selection on the basis of the priority <b>142</b>, selection of the highest one in the list or selection at random.</p>
<p id="p-0089" num="0088">As shown in <figref idref="DRAWINGS">FIG. 15</figref>, in the case that home prefix information is included in the home agent list, a home address HoA-<b>1</b> may be generated and acquired on the basis of a relevant home prefix. Home prefix information is an addition by the invention to the description items of the home agent list as defined by the conventional mobile IP protocol. One or more home prefixes to be managed by each home agent are described in the home prefix column of the home agent list.</p>
<p id="p-0090" num="0089">Incidentally, this method is not limited to but the mobile terminal <b>10</b> may use a mobile prefix solicitation/advertisement scheme or dynamic home agent address discovery protocol based on the mobile IP protocol thereby acquiring a home agent list and generating/acquiring a home address HoA-<b>1</b>.</p>
<p id="p-0091" num="0090">Then, the mobile terminal <b>10</b> registers a newly acquired care of address CoA-<b>1</b>, together with a sub-home address HoA-<b>1</b>, to the home agent apparatus <b>50</b>-<b>2</b> (B<b>1</b>). Furthermore, the mobile terminal <b>10</b> registers the sub-home address HoA-<b>1</b>, as a primary care of address, together with a main home address HoA-M to the main home agent apparatus <b>50</b>-<b>1</b> (B<b>2</b>).</p>
<p id="p-0092" num="0091">Then, the main home agent apparatus <b>50</b>-<b>1</b> and sub-home agent apparatus <b>50</b>-<b>2</b>, when receiving from the mobile terminal <b>10</b> a packet including a registration request message by the same procedure as roaming from subnet to subnet, updates a binding cache in itself and sends a packet including a registration acknowledge message to the mobile terminal <b>10</b>.</p>
<p id="p-0093" num="0092">From then on, the packet of mobile terminal <b>10</b> destined for the main home address HoA-M is first proxy-received by the main home agent apparatus <b>50</b>-<b>1</b>. The main home agent apparatus <b>50</b>-<b>1</b>, as a result of making reference to the binding cache in itself, transfers it to the sub-home address HoA-<b>1</b> registered as a care of address CoA (B<b>3</b>).</p>
<p id="p-0094" num="0093">The packet destined for the sub-home address HoA-<b>1</b> is proxy-received by the sub-home agent apparatus (HA-<b>1</b>) <b>50</b>-<b>2</b>. The sub-home agent apparatus <b>50</b>-<b>2</b>, as a result of making reference to the binding cache in itself, transfers it to the care of address CoA-<b>1</b> (B<b>4</b>), and finally to the mobile terminal <b>10</b> in the domain network <b>2</b> correctly.</p>
<p id="p-0095" num="0094">The packet transfer form in the duration is explained below, by using <figref idref="DRAWINGS">FIG. 19</figref>.</p>
<p id="p-0096" num="0095">In the outset, the packet of mobile terminal <b>10</b> destined for a main home address HoA-M (given with a header <b>1</b> (<b>201</b>)), sent by an external terminal (CN) <b>80</b>, is proxy-received by the main home agent apparatus <b>50</b>-<b>1</b> and tunnel-transferred to a home address HoA-S in the present domain registered in the binding cache. At this time, a header <b>2</b> (<b>203</b>) is provided.</p>
<p id="p-0097" num="0096">Then, the tunnel-transferred packet is proxy-received to the sub-home agent apparatus <b>50</b>-<b>2</b> in the present domain and tunnel-transferred destined for a CoA of the mobile terminal <b>10</b>. At this time, a header <b>3</b> (<b>206</b>) is further provided.</p>
<p id="p-0098" num="0097">Then, the mobile terminal <b>10</b> receives the doubly encapsulated transfer packet, and recognizes the source address described in the innermost header <b>1</b> (<b>204</b>) as the one of an external terminal CN. A request for registration process is made to the main home agent apparatus, as required. As for the addresses obtained from the other header <b>2</b> (<b>205</b>) and header <b>3</b> (<b>206</b>), no registration request is made because they have already been registered. This can suppress resource spending in the mobile terminal <b>10</b> and home agent apparatus <b>50</b>.</p>
<p id="p-0099" num="0098">Incidentally, in the case the mobile terminal <b>10</b> roams within the external domain network <b>2</b> (roaming from subnet to subnet), a registration request message is sent only to the sub-home agent apparatus <b>50</b>-<b>2</b>. From then on, in roaming within the external domain network, a request for registration is made only to the home agent apparatus for managing that domain.</p>
<p id="p-0100" num="0099">Next, explanation is made on the operation at a time that the mobile terminal <b>10</b> exits the external domain network <b>2</b> and moved (<b>301</b>) to the external domain network <b>3</b> that is under the jurisdiction of the home agent <b>50</b>-<b>3</b>.</p>
<p id="p-0101" num="0100">In the outset, the mobile terminal <b>10</b> accesses a subnet of within the external domain network <b>3</b>, and generates a care of address CoA-<b>2</b> on the basis of the network information of the subnet moved in. Meanwhile, the mobile terminal <b>10</b>, if recognizing a fact that the accessed external domain network <b>3</b> is not a home domain network <b>1</b> nor an external domain network <b>2</b> it so far belonged, acquires a sub-home address HoA-<b>2</b>.</p>
<p id="p-0102" num="0101">Incidentally, the care of address CoA-<b>2</b> may be generated from network information by the mobile terminal <b>10</b> similarly to the movement to the domain network <b>2</b>, or may be through receiving an assignment from the network by the use of a protocol such as DHCP (dynamic host configuration protocol).</p>
<p id="p-0103" num="0102">Also, the sub-home address HoA-<b>2</b> can be acquired by a similar method to that of obtaining in the domain network <b>2</b>.</p>
<p id="p-0104" num="0103">Then, the mobile terminal <b>10</b> registers the newly acquired care of address CoA-<b>2</b> together with the sub-home address HoA-<b>2</b>, to the sub-home agent apparatus <b>50</b>-<b>3</b> (C<b>1</b>). Furthermore, the mobile terminal <b>10</b> registers the sub-home address HoA-<b>2</b> as a primary care of address, together with the main home address HoA-M to the main home agent apparatus <b>50</b>-<b>1</b> (C<b>2</b>). The main home agent apparatus <b>50</b>-<b>1</b> and sub-home agent apparatus <b>50</b>-<b>3</b>, if receiving a packet including a registration request message from the mobile terminal <b>10</b> by the same procedure as the movement to the domain network <b>2</b>, updates the binding cache in itself and sends a packet including a registration acknowledge message to the mobile terminal <b>10</b>.</p>
<p id="p-0105" num="0104">From then on, the packet of mobile terminal <b>10</b> destined for the home address HoA-M is first proxy-received by the main home agent apparatus <b>50</b>-<b>1</b> and then transferred destined for the sub-home address HoA-<b>2</b> registered as a care of address CoA (C<b>3</b>), similarly to the movement to the domain network <b>2</b>. After being proxy-received by the sub-home agent apparatus <b>50</b>-<b>3</b>, this is transferred destined for the care of address CoA-<b>2</b> (C<b>4</b>), and finally, correctly transferred to the mobile terminal <b>10</b>.</p>
<p id="p-0106" num="0105">Meanwhile, the mobile terminal <b>10</b>, at a time recognizing a fact that not the external domain network <b>2</b> it so far belonged, sends a packet including a registration request message whose lifetime is zero, defined under the mobile IP protocol to the sub-home agent apparatus <b>50</b>-<b>2</b> of the external domain network <b>2</b> belonged before, thus making a request for deleting an entry corresponding to the mobile terminal <b>10</b> in the binding cache being managed by the sub-home agent apparatus <b>50</b>-<b>2</b>. Otherwise, similarly to the registration to the main home agent apparatus <b>50</b>-<b>1</b>, a set of sub-home address HoA-<b>1</b> as home address and sub-home address HoA-<b>2</b> as primary care of address is registered also to the sub-home agent apparatus <b>50</b>-<b>2</b> (C<b>5</b>). This makes it possible to transfer, to the mobile terminal <b>10</b> without exceptions, the packets of mobile terminal <b>10</b> destined for sub-home address HoA-<b>1</b> arrived differently in time at the sub-home agent apparatus <b>50</b>-<b>2</b> (C<b>6</b>).</p>
<p id="p-0107" num="0106">Meanwhile, in every movement, it is possible to register a care of address effective in a subnet to access according to the mobile IP protocol regulation (e.g. CoA-<b>1</b>, CoA-<b>2</b>) as a care of address CoA to the main home agent apparatus <b>50</b>-<b>1</b> or, as required, to the sub-home agent apparatus (sub-home agent apparatus <b>50</b>-<b>2</b> in the above example) belonged before. However, in such a case, efficiency is not good because a registration to the home agent apparatus <b>50</b> occurs whenever moving from the subnet. Accordingly, as in this embodiment, it is desired to register a home address (e.g. HoA-<b>1</b>, HoA-<b>2</b>) effective on the currently-belonging domain network as a primary care of address to the main home agent apparatus <b>50</b>-<b>1</b>.</p>
<p id="p-0108" num="0107">Next, the configuration of each apparatus and its operation is explained by using figures.</p>
<p id="p-0109" num="0108">First explained is a configuration and basic operation of the mobile terminal <b>10</b>.</p>
<p id="p-0110" num="0109"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram showing a configuration of the mobile terminal <b>10</b> in the case the mobile terminal <b>10</b> functions as a host. <figref idref="DRAWINGS">FIG. 5</figref> is a block diagram showing a configuration of the mobile terminal <b>10</b> in the case the mobile terminal <b>10</b> functions as a router.</p>
<p id="p-0111" num="0110">In <figref idref="DRAWINGS">FIGS. 4 and 5</figref>, an L<b>1</b>/L<b>2</b> processing section <b>11</b>, <b>16</b> is for communication-processing a physical layer and data-link layer, an L<b>3</b> processing section <b>12</b> is for communication-processing a network layer, a higher-layer processing section <b>13</b> is for processing a higher layer such as TCP, UDP or the like, a mobile IP processing section <b>14</b> is for managing the mobility of mobile terminal on the basis of the mobile IP protocol, an application processing section <b>15</b> is for controlling the applications, a home-domain storing section <b>17</b> is for storing the information about the main home agent apparatus or home domain network and main home address, a main home agent selecting section <b>18</b> is for selecting a main home agent apparatus <b>50</b> and makes a request for registering a main home address to a DNS <b>20</b>, and a home agent registering section <b>19</b> is for making a registration request of a destination home address (sub-home address) to the main home agent apparatus <b>50</b>.</p>
<p id="p-0112" num="0111">Incidentally, although <figref idref="DRAWINGS">FIG. 5</figref> shows only two L<b>1</b>/L<b>2</b> processing sections <b>11</b>, <b>16</b> for connection to a network, the configuration may comprise much more L<b>1</b>/L<b>2</b> processing sections, the invention being not to limit the provision number. Even where three or more L<b>1</b>/L<b>2</b> processing sections are provided, the operation thereof can be realized by the similar configuration and the below explained procedure.</p>
<p id="p-0113" num="0112">The basic operation of the mobile terminal <b>10</b> configured as above is explained below.</p>
<p id="p-0114" num="0113">The sending operation by the mobile terminal <b>10</b> configured shown in <figref idref="DRAWINGS">FIG. 4</figref> is as follows.</p>
<p id="p-0115" num="0114">The transmission data generated by the application processing section <b>15</b> is transferred to the L<b>3</b> processing section <b>12</b> for IP protocol processing by way of the higher-layer processing section <b>13</b> for processing according to a socket or protocol of TCP, UDP or the like. Thereafter, the L<b>3</b> processing section carries out an IP process, simultaneously with which the mobile IP processing section <b>14</b> carries out an additional IP header process concerning the mobile IP. The transmission data undergone these processes is subjected to a data-link protocol process and physical-layer protocol process in the L<b>1</b>/L<b>2</b> processing section <b>11</b>, and thereafter sent onto the network under access (hereinafter, referred to as “access network”).</p>
<p id="p-0116" num="0115">The receiving operation by the mobile terminal <b>10</b> having a host function shown in <figref idref="DRAWINGS">FIG. 4</figref> is reverse in operation to the sending operation, as follows.</p>
<p id="p-0117" num="0116">Namely, the L<b>1</b>/L<b>2</b> processing section <b>11</b> receives a packet from the access network and carries out physical-layer protocol and data-link protocol processes. Thereafter, the L<b>3</b> processing section carries out an IP protocol process, simultaneously with which the mobile. IP processing section <b>14</b> carries out an additional IP header process concerning the mobile IP. Subsequently, the higher-layer processing section <b>13</b> processes a higher layer and then transfers data to the application processing section <b>15</b>.</p>
<p id="p-0118" num="0117">Next, the operation of the mobile terminal having a router function shown in <figref idref="DRAWINGS">FIG. 5</figref> is explained below.</p>
<p id="p-0119" num="0118">In the outset, the L<b>1</b>/L<b>2</b> processing section <b>16</b> carries out a physical-layer protocol process and data-link protocol process on a packet received from an internal network (hereinafter, referred to as “internal network”). Thereafter, the L<b>3</b> processing section carries out an IP protocol process including a routing process, and transfers it to either of the L<b>1</b>/L<b>2</b> processing section <b>11</b> or the L<b>1</b>/L<b>2</b> processing section <b>16</b>. The packet the L<b>1</b>/L<b>2</b> processing section <b>11</b> received from the access network is transferred to either of the L<b>1</b>/L<b>2</b> processing section <b>11</b> or the L<b>1</b>/L<b>2</b> processing section <b>16</b> as a result of a routing process in the L<b>3</b> processing section <b>12</b>. Herein, the mobile IP processing section <b>14</b> carries out also a standard mobile router process that is an application of mobile IP protocol, in order to provide transparency of its movement to internal network.</p>
<p id="p-0120" num="0119">In roaming of the mobile terminal <b>10</b>, there are shown different movements between the movement across the subnets within the same domain network and the movement between different domain networks. The both are common in that the care of address CoA acquired after movement is registered together with a home address HoA to the home agent apparatus <b>50</b> of the belonging domain network.</p>
<p id="p-0121" num="0120">First explained is an operation that the mobile terminal <b>10</b> makes a movement across the subnets within the same domain network <b>1</b>, by using <figref idref="DRAWINGS">FIGS. 1 and 10</figref>. <figref idref="DRAWINGS">FIG. 10</figref> is a flowchart showing a process procedure concerning the invention the mobile terminal <b>10</b> is to carry out.</p>
<p id="p-0122" num="0121">In the outset, the mobile terminal <b>10</b> moves a subnet wherein the L<b>3</b> processing section <b>12</b> receives network information from a router arranged in a moved-in subnet through the L<b>1</b>/L<b>2</b> processing section <b>11</b>. Then, a care of address CoA effective in the relevant subnet is generated from the network information received by the L<b>3</b> processing section <b>12</b>, and the received network information is compared with the network information of the before-connected subnet currently in storage, thereby detecting whether moved or not (step S<b>11</b>). This movement detecting process can be implemented by the mobile IP processing section <b>14</b>.</p>
<p id="p-0123" num="0122">Incidentally, the other method to detect the movement may be used in the step S<b>11</b> besides the above method.</p>
<p id="p-0124" num="0123">Then, the mobile IP processing section <b>14</b> determines whether there is movement between subnets, as a result of the movement detecting process (step S<b>11</b>) from the L<b>3</b> processing section <b>12</b> (step S<b>12</b>).</p>
<p id="p-0125" num="0124">Incidentally, the start condition for movement detection (S<b>11</b>) may use, besides the above method, the lower layer, i.e. starting a handover process to be made by the L<b>1</b>/L<b>2</b> processing section <b>11</b> or complete trigger. On this occasion, there is a need to connect between the L<b>1</b>/L<b>2</b> processing section <b>11</b> and the mobile IP processing section <b>14</b>.</p>
<p id="p-0126" num="0125">Next, in the case a movement is detected but the subnet is unchanged, i.e. the newly acquired network information is the same as the one acquired before, the process returns to the step S<b>11</b>.</p>
<p id="p-0127" num="0126">On the other hand, in the case movement is across the subnet, it is determined whether the moved-in subnet is within the same domain or not through the use of a domain ID, prefix information or authentication proceeding to be acquired from network information or the like (step S<b>13</b>). If within the same domain, the mobile IP processing section <b>14</b> registers to the home agent apparatus <b>50</b>-<b>1</b> a new care of address CoA-M acquired in the subnet and a home address HoA-M effective in the domain network <b>1</b> (step S<b>14</b>).</p>
<p id="p-0128" num="0127">Incidentally, the registration process to be carried out by the mobile IP processing section <b>14</b> includes an operation to send a packet including a registration request message defined under the mobile IP protocol (e.g. binding update message <b>1000</b> shown in <figref idref="DRAWINGS">FIG. 21</figref>) to the home agent apparatus <b>50</b>-<b>1</b> (A<b>1</b>) and an operation to receive a packet including an effective registration acknowledge message (e.g. binding acknowledge message <b>1010</b> shown in <figref idref="DRAWINGS">FIG. 22</figref>) from the home agent apparatus <b>50</b>-<b>1</b> (A<b>2</b>) so that the mobile IP processing section <b>14</b> can correctly complete the process. The binding update message <b>1000</b> and binding acknowledge message <b>1010</b> describes, in a mobility option, the care of address CoA-M and home address HoA-M, which is to be notified to the home agent apparatus <b>50</b>-<b>1</b>.</p>
<p id="p-0129" num="0128">Meanwhile, the mobile terminal <b>10</b> may determine whether a moved-in subnet is in a different domain network (step S<b>13</b>), depending upon a presence or absence of a change of a link layer or communication media in actual use for communications in the case having different link layers or communication medias as in <figref idref="DRAWINGS">FIG. 5</figref>. Namely, where the mobile terminal <b>10</b> has a configuration shown in <figref idref="DRAWINGS">FIG. 5</figref> and the L<b>1</b>/L<b>2</b> processing section <b>16</b> is to connect with an access network under the domination of a domain network different from that of the L<b>1</b>/L<b>2</b> processing section <b>11</b>, it is possible to detect a movement to a different subnet and a movement to a different domain network simultaneously at a time that the destination of transfer, the L<b>3</b> processing section <b>12</b> is to send and receive, is changed from the L<b>1</b>/L<b>2</b> processing section <b>11</b> to the L<b>1</b>/L<b>2</b> processing section <b>16</b>.</p>
<p id="p-0130" num="0129">Incidentally, the above explanation exemplified the network <b>1</b> that is the jurisdiction domain by the main home agent apparatus <b>50</b>-<b>1</b>. However, the movement within the same domain network, in another domain <b>2</b> or <b>3</b>, can be made by a similar process excepting only in that the home agent apparatus as a destination of registration is changed to the home agent <b>50</b>-<b>2</b> or <b>50</b>-<b>3</b>.</p>
<p id="p-0131" num="0130">Next explained is an operation at a time that the mobile terminal <b>10</b> moves between different domain networks, by taking an example of movement from domain <b>1</b> to <b>2</b>, with using <figref idref="DRAWINGS">FIGS. 2 and 10</figref>.</p>
<p id="p-0132" num="0131">The mobile IP processing section <b>14</b> recognizes that the mobile terminal <b>10</b> in step S<b>13</b> is on a domain different in moved-in subnet, the mobile IP processing section <b>14</b> acquires a home address HoA-<b>1</b> effective on the domain network <b>2</b> (step S<b>15</b>), and registers it, together with the care of address CoA-<b>1</b> acquired before, to the home agent apparatus <b>50</b>-<b>2</b> arranged in the domain network <b>2</b> (step S<b>16</b>).</p>
<p id="p-0133" num="0132">Then, the home agent registering section <b>19</b> registers a main home address HoA-M and a home address HoA-<b>1</b> acquired in the domain <b>2</b> to the main home agent apparatus <b>50</b>-<b>1</b> (step S<b>17</b>).</p>
<p id="p-0134" num="0133">At this time, the home domain storing section <b>17</b> may store a binding update list for managing registration information for the main home agent apparatus <b>50</b>-<b>1</b>, or the home agent registering section <b>19</b> may adds and updates an entry representative of a correspondence between a main home address HoA-M and a sub-home address HoA-<b>1</b> to the binding update list held by the mobile IP processing section <b>14</b>. This binding update list takes a form as shown in <figref idref="DRAWINGS">FIG. 18</figref>, comprising at least an entry <b>170</b> for the home agent apparatus <b>50</b>-<b>2</b> (HA-<b>1</b>) in the domain <b>2</b> and an entry <b>180</b> for the main home agent apparatus <b>50</b>-<b>1</b> (M-HA) in the domain <b>1</b> (home domain).</p>
<p id="p-0135" num="0134">Incidentally, the registration to each home agent apparatus <b>50</b> in step S<b>16</b> and step S<b>17</b> includes an operation to send a registration request message similarly to the registration process in the step S<b>14</b> and an operation to receive an effective acknowledge message from the home agent apparatus <b>50</b> so that the mobile IP processing section <b>14</b> can correctly complete the process. Meanwhile, the home agent registering section <b>19</b> may independently generate and send a registration request message complying with the mobile IP protocol, or may make a request for generating and sending a registration request message to the mobile IP processing section <b>14</b>.</p>
<p id="p-0136" num="0135">Herein, the mobile IP processing section <b>14</b> may send a registration request message destined for the main home agent apparatus <b>50</b>-<b>1</b>, by way of the home agent apparatus <b>50</b>-<b>2</b> in the belonging domain. On this occasion, a reverse tunnel is applied to between the mobile terminal <b>10</b> and the home agent apparatus <b>50</b>-<b>2</b>. Also, at this time, the source address of the registration request message is a home address assigned in the belonging domain. Contrary to this, although the main home agent apparatus <b>50</b>-<b>1</b> sends a registration acknowledge message to a home address of mobile terminal <b>10</b> in the belonging domain, the registration acknowledge message is proxy-received by the home agent apparatus <b>50</b>-<b>2</b> and tunnel-transferred destined for the care of address CoA-<b>1</b> of the mobile terminal <b>10</b>.</p>
<p id="p-0137" num="0136">As described above, the mobile terminal <b>10</b> belongs to at least one home domain network <b>1</b>, to have a main home address HoA-M effective on the home domain network <b>1</b>. The mobile terminal <b>10</b> can previously specify a home domain network or a main home agent apparatus, and store the information or main home address thereof to the home domain storing section <b>17</b>. However, as described before, the main home agent selecting section <b>18</b> preferably acquires a home agent list as shown in <figref idref="DRAWINGS">FIG. 15</figref> from the access point apparatus <b>60</b> or home agent information providing server <b>70</b>, to select an optimal one therefrom. The home agent list acquired by the main home agent selecting section <b>18</b> is previously stored in the home domain storing section <b>17</b>, whereby selection is made as required on the basis of a preference <b>142</b> in the home agent list or belonging frequency to each domain network or randomly.</p>
<p id="p-0138" num="0137">The selecting method is explained below.</p>
<p id="p-0139" num="0138">In the outset, the main home agent selecting section <b>18</b> previously monitors/measures a time or a number of times of stays in each domain network, access packet amount and the like. The totalized value thereof, while entered together in the home agent list, is stored to the home domain storing section <b>17</b>. The main agent selecting section <b>18</b>, when stay time reaches a predetermined time, takes the domain network belonged at that time as a home domain network. The main home agent selecting section <b>18</b> newly selects, as a main home agent apparatus, a home agent apparatus having the highest preference <b>142</b> computed in respect of load or remaining resource from the home agent apparatuses existing in that domain network. Incidentally, there is no need to use a home agent list as a destination of storage of the saying time totalized value. In such a case, newly acquired is a list of the home agent apparatus belonging to the domain selected as a home domain or otherwise extracted is an entry fallen under the home domain information (prefix, etc) selected from an already acquired home agent list, whereby a main home agent apparatus can be selected.</p>
<p id="p-0140" num="0139">Then, the main home agent selecting section <b>18</b> makes a request for registering a home address to a DNS that manages the address of that domain network through the mobile IP processing section <b>14</b>.</p>
<p id="p-0141" num="0140">As in the above, the mobile terminal of the invention, upon roaming the domain network, carries out a binding registration to a main home agent apparatus <b>50</b>-<b>1</b> in a home domain network, by taking a set of a main home address complying with the mobile IP protocol and a sub-home address on a belonging domain network. Due to this, the communication data from an external terminal, because of transferred relayed through the main home agent apparatus and the sub-home agent apparatus, can be received even during roaming between the domain networks different in service form. Meanwhile, because the notification on the fact of movement to each home agent apparatus is from the mobile terminal, there is no need for the home agent apparatuses of the domain networks different in service form to carry out while making a mutual adjustment.</p>
<p id="p-0142" num="0141">Furthermore, because the mobile terminal can select a home domain network and main home agent apparatus, it is possible to take a domain network capable of receiving a best suited service at a moving point as a home domain network, thus improving user's convenience. This provides a great effect particularly where roaming between the domain networks different in service form.</p>
<p id="p-0143" num="0142">Next explained is a configuration and basic operation of the home agent apparatus <b>50</b>.</p>
<p id="p-0144" num="0143"><figref idref="DRAWINGS">FIGS. 6 and 7</figref> are configuration diagrams of the home agent apparatus <b>50</b>. An L<b>1</b>/L<b>2</b> processing section <b>51</b>, <b>56</b> is to carry out a physical layer process/data-link layer process, an L<b>3</b> processing section <b>52</b> is to carry out a network layer process, a higher layer processing section <b>53</b> is to carry out a process on a higher layer, such as TCP, UDP or the like, a mobile IP processing section <b>54</b> is to carry out a mobility management of mobile terminals, and an application processing section <b>55</b> is to carry out control of applications.</p>
<p id="p-0145" num="0144">Incidentally, although <figref idref="DRAWINGS">FIG. 7</figref> shows only two of L<b>1</b>/L<b>2</b> processing sections <b>51</b>, <b>56</b> to connect to a network, the configuration may comprise much more L<b>1</b>/L<b>2</b> processing sections. The present invention is not to limit the provision number thereof. Even in the case of providing three or more L<b>1</b>/L<b>2</b> processing sections, it is possible to realize the operation thereof by a similar configuration and a procedure to be explained below.</p>
<p id="p-0146" num="0145">The basic operation of the home agent apparatus <b>50</b> configured as above is explained below.</p>
<p id="p-0147" num="0146"><figref idref="DRAWINGS">FIG. 11</figref> is a process procedure to be executed by the mobile IP processing section <b>54</b> of the home agent apparatus <b>50</b>.</p>
<p id="p-0148" num="0147">In the outset, the mobile IP processing section <b>54</b> carries out a location management on the mobile terminal <b>10</b> according to a mobile IP protocol. Namely, the mobile IP processing section <b>54</b> receives a packet from the mobile terminal <b>10</b> by way of the L<b>1</b>/L<b>2</b> processing section <b>51</b>/L<b>3</b> processing section <b>52</b> (step S<b>51</b>), and determines whether or not an effective registration request message is included in a packet thereof (step s<b>52</b>). In the case an effective registration request message is included in the packet, the mobile IP processing section <b>54</b> carries out a binding cache update process (step S<b>53</b>).</p>
<p id="p-0149" num="0148">In the binding cache updating (step S<b>53</b>), the following process is carried out. In the case that there is an entry of the mobile terminal <b>10</b> in a binding cache under management of the home agent apparatus <b>50</b>, the content thereof is updated. In the case there is no entry, an entry is newly created by using the information included in a registration request message, e.g. a mobile terminal <b>10</b> home address, care of address, lifetime and so on. Herein, explained is the data configuration of the binding cache. <figref idref="DRAWINGS">FIG. 17(</figref><i>a</i>) shows a conventional binding cache entry <b>150</b> while <figref idref="DRAWINGS">FIG. 17(</figref><i>b</i>) shows a binding cache entry <b>160</b> to be generated by the invention.</p>
<p id="p-0150" num="0149">The mobile IP processing section <b>54</b> describe fields, i.e. required items including mobile terminal <b>10</b> home address <b>151</b> and care of address <b>152</b>, a registration request lifetime (BU lifetime) <b>153</b>, a lifetime of this entry (BC lifetime) <b>154</b>, a registration request message sequence number (BU seq. number) <b>155</b>, and a registration request flag (BU flag) <b>156</b>. The conventional entry <b>150</b> describes a home address (HoA-<b>1</b>) in the home address field <b>151</b> and an address of a subnet (CoA-<b>1</b>) under accessing in the care of address field <b>152</b>. On the contrary, the entry <b>160</b> of the invention is different in that describing a main home address (HoA-M) in the home address field <b>151</b> and a home address (HoA-<b>1</b>) of an accessed domain network in the care of address field <b>152</b>. Furthermore, the feature of the invention lies in that the mobile IP processing section <b>54</b> is not required to add any new process at all in respect of the description content to the binding cache entry, i.e. in being able to use, as it is, a home agent apparatus <b>50</b> as defined under a standard mobile IP.</p>
<p id="p-0151" num="0150">Then, after the mobile IP processing section <b>54</b> completes to update the binding cache, the mobile IP processing section <b>54</b> sends a registration acknowledge message packet including a success/failure on binding cache update to the mobile terminal <b>10</b> through the L<b>3</b> processing section <b>52</b>/L<b>1</b>/L<b>2</b> processing section <b>51</b> (step S<b>54</b>).</p>
<p id="p-0152" num="0151">On the other hand, in the case that an effective registration request message is not included in the received packet, the mobile IP processing section <b>54</b> carries out, in the L<b>3</b> processing section <b>52</b>, a usual IP layer process not including an IP procedure (step S<b>57</b>).</p>
<p id="p-0153" num="0152">Meanwhile, in step <b>51</b>, in the case that the packet received by the mobile IP processing section <b>54</b> is not from the mobile terminal <b>10</b>, it is determined whether destined for the mobile terminal <b>10</b> or not (step S<b>55</b>).</p>
<p id="p-0154" num="0153">In the case that it is a packet destined for the mobile terminal <b>10</b>, the mobile IP processing section <b>54</b> searches the binding cache for an entry concerning the mobile terminal <b>10</b> through a home address HoA as a key. In the case there is an entry, a received packet is encapsulated with an IP header having a registered care of address as a destination and sent to the L<b>3</b> processing section <b>52</b> and the L<b>1</b>/L<b>2</b> processing section <b>51</b> in the order. Meanwhile, in the case there is no entry, the received packet is routed to a home network connected to the home agent apparatus <b>50</b> (step S<b>56</b>). For example, where the home agent apparatus <b>50</b> is in a configuration of <figref idref="DRAWINGS">FIG. 6</figref>, sending onto network is in the order of the L<b>3</b> processing section <b>52</b> and the L<b>1</b>/L<b>2</b> processing section <b>51</b>. Where in a configuration of <figref idref="DRAWINGS">FIG. 7</figref>, sending to home network is done in the order of the L<b>3</b> processing section <b>52</b> and the L<b>1</b>/L<b>2</b> processing section. <b>56</b>.</p>
<p id="p-0155" num="0154">On the other hand, in the case that not a packet destined for a home address of the mobile terminal <b>10</b>, the process moves to step S<b>57</b>.</p>
<p id="p-0156" num="0155">Meanwhile, where the home agent apparatus <b>50</b> is in a configuration shown in <figref idref="DRAWINGS">FIG. 6</figref>, when the L<b>3</b> processing section <b>52</b> in step S<b>55</b> determines that the packet received by the mobile IP processing section <b>54</b> is not destined for the mobile terminal <b>10</b> but for the home agent apparatus <b>50</b>, it is transferred to the application processing section <b>55</b> via the higher layer processing section <b>53</b> thus being subjected to an application process. Furthermore, in the case that not destined for the home agent apparatus <b>50</b>, re-sending to network is done again via the L<b>1</b>/L<b>2</b> processing section <b>51</b>.</p>
<p id="p-0157" num="0156">Meanwhile, in the case that the home agent apparatus <b>50</b> has a plurality of physical links as in <figref idref="DRAWINGS">FIG. 7</figref>, the received packet is transferred to either of the L<b>1</b>/L<b>2</b> processing section <b>51</b> or <b>56</b> on the basis of a routing table under management of the L<b>3</b> processing section <b>52</b>, again being sent onto the network.</p>
<p id="p-0158" num="0157">Incidentally, in the configuration shown in <figref idref="DRAWINGS">FIG. 7</figref>, the configuration may further comprise a higher layer processing section <b>53</b> connected to the L<b>3</b> processing section <b>52</b> and an application processing section <b>55</b> connected to the higher layer processing section <b>53</b>. In such a case, the processing thereof can be realized by compositely effecting the operations as explained related to the <figref idref="DRAWINGS">FIGS. 6 and 7</figref>. Namely, in case the L<b>3</b> processing section <b>52</b> determines a packet destined for itself, it is transferred to the application processing section <b>55</b> via the higher layer processing section <b>53</b>. Meanwhile, in case the received packet is determined not destined for the home address HoA of the accommodated mobile terminal <b>10</b> nor a packet destined for itself, the received packet is transferred to either of the L<b>1</b>/L<b>2</b> processing section <b>51</b> or <b>56</b> on the basis of a routing table under management of the L<b>3</b> processing section <b>52</b>, again being sent onto the network.</p>
<p id="p-0159" num="0158">As in the above, because the home agent apparatus <b>50</b> registers the location information from the mobile terminal <b>10</b> to the binding cache so that the packet destined for a mobile terminal received later can be sent on the basis of the binding cache registered, it is possible to correctly transfer data destined for a mobile terminal.</p>
<p id="p-0160" num="0159">Next explained is a configuration and operation of the access point apparatus <b>60</b>.</p>
<p id="p-0161" num="0160"><figref idref="DRAWINGS">FIG. 8</figref> is a configuration in the case the access point apparatus <b>60</b> functions as a bridge while <figref idref="DRAWINGS">FIG. 9</figref> is a configuration in the case the access point apparatus <b>60</b> functions as a router. Meanwhile, a first network is a network on a side the mobile terminal <b>10</b> is to be connected.</p>
<p id="p-0162" num="0161">In <figref idref="DRAWINGS">FIG. 8</figref>, an L<b>1</b> processing section <b>61</b>, <b>63</b> is to carry out a physical layer process, an L<b>2</b> processing section <b>62</b> is to carry out a data-link layer process of a sending/receiving packet and a packet relay (bridging) at between the L<b>1</b> processing sections <b>61</b>, <b>63</b>, a home agent information processing section <b>64</b> is to acquire and provide home agent information by the use of an IP packet thus carrying out a higher layer process at a layer <b>3</b> (L<b>3</b>) or higher. Incidentally, concerning a higher layer process, it is possible to provide a higher layer processing means for a higher layer process at L<b>3</b> or higher, in a position to the L<b>2</b> processing section <b>62</b>.</p>
<p id="p-0163" num="0162"><figref idref="DRAWINGS">FIG. 9</figref> is a second configuration diagram of the access point apparatus <b>60</b>. An L<b>1</b>/L<b>2</b> processing section <b>65</b>, <b>67</b> is to carry out a physical layer process and data-link layer process, an L<b>3</b> processing section <b>66</b> is to carry out a network layer process on a sending/receiving packet and a packet relay (routing) at between the L<b>1</b>/L<b>2</b> processing sections <b>65</b>, <b>68</b>, a home agent information processing section <b>68</b> is to acquire and provide home agent information by the use of an IP packet thus carrying out a higher layer process at a layer <b>4</b> (L<b>4</b>) or higher. Incidentally, concerning a higher layer process, it is possible to provide a higher layer processing means for a higher layer process at L<b>4</b> or higher, in a position to the L<b>3</b> processing section <b>66</b>.</p>
<p id="p-0164" num="0163">The operation of the access point apparatus <b>60</b> configured as above is explained below.</p>
<p id="p-0165" num="0164"><figref idref="DRAWINGS">FIG. 13</figref> shows a process procedure for the access point apparatus <b>60</b> to acquire home agent information and update holding information at a regular interval.</p>
<p id="p-0166" num="0165">In <figref idref="DRAWINGS">FIG. 13</figref>, the home agent information processing section <b>64</b>, <b>68</b> always checks whether in information update timing or not (step S<b>64</b>). In the case in information update timing, an inquiry packet is generated and sent to the second network by way of the L<b>2</b> processing section <b>62</b>/L<b>1</b> processing section <b>63</b> or by way of the L<b>3</b> processing section <b>66</b>/L<b>1</b>/L<b>2</b> processing section <b>67</b> (step S<b>65</b>). The destination on this occasion may be any cast address for the home agent apparatus <b>50</b> as regulated under the mobile IP protocol or a unicast address for the home agent apparatus <b>50</b>. Incidentally, the inquiry packet may be sent, as required, to the first network or to the first and second networks.</p>
<p id="p-0167" num="0166">Otherwise, the home agent information processing section <b>64</b>, <b>68</b> may broadcast to the destinations by designating the network entirety, or may designate a unicast address, destined for the home agent apparatus, generated from home prefix information previously stored. Otherwise, unicast may be made to the home agent apparatus <b>50</b>. The inquiry packet may be in compliance with the dynamic home address discovery regulated under the, mobile IP protocol. Incidentally, the timing of information update may be controlled by using a timer or manually.</p>
<p id="p-0168" num="0167">Then, the home agent information processing section <b>64</b>, <b>68</b> receives an effective a knowledge packet from at least one or more home agent apparatuses <b>50</b> via the L<b>1</b> processing section <b>63</b>/L<b>2</b> processing section <b>62</b> or via the L<b>1</b>/L<b>2</b> processing section <b>67</b>/L<b>3</b> processing section <b>66</b>, and stores/holds the content thereof (step S<b>66</b>). The home agent information processing section <b>64</b>, <b>68</b> acquires information about the home agent apparatus shown in <figref idref="DRAWINGS">FIG. 15</figref> from the one or more home agent apparatuses <b>50</b>, thus creating entries <b>110</b> to <b>130</b> concerning the home agent apparatuses <b>50</b>.</p>
<p id="p-0169" num="0168">Incidentally, the information stored/held may be held at least up to the next information update timing, and it after update may be preparatorily held for a constant period of time.</p>
<p id="p-0170" num="0169">As described above, the access point apparatus <b>60</b> regularly acquires information about the home agent apparatus <b>50</b> having a jurisdiction over a domain network for connection, thereby holding the up-to-date home agent information.</p>
<p id="p-0171" num="0170">Meanwhile, the access point apparatus <b>60</b> provides home agent information to the mobile terminal <b>10</b>.</p>
<p id="p-0172" num="0171">Next explained is a process procedure for the home agent information processing section <b>64</b> to provide home agent information.</p>
<p id="p-0173" num="0172"><figref idref="DRAWINGS">FIG. 12(</figref><i>a</i>) shows a process procedure for the access point apparatus <b>60</b> to provide home agent information in response to a request from the mobile terminal <b>10</b>. <figref idref="DRAWINGS">FIG. 12(</figref><i>b</i>) shows a process procedure for the access point apparatus <b>60</b> to regularly broadcast or multicast home agent information.</p>
<p id="p-0174" num="0173">In <figref idref="DRAWINGS">FIG. 12(</figref><i>a</i>), the home agent information processing section <b>64</b>, <b>68</b> checks for an inquiry signal or packet reception from the mobile terminal <b>10</b> via the L<b>1</b> processing section <b>61</b>/L<b>2</b> processing section <b>62</b> or via the L<b>1</b>/L<b>2</b> processing section <b>65</b>/L<b>3</b> processing section <b>66</b> (step S<b>61</b>).</p>
<p id="p-0175" num="0174">The home agent information processing section <b>64</b>, <b>68</b>, when receiving these inquiry signals, reads out the stored/held information about a home agent apparatus and creates an reply signal or packet (step S<b>62</b>).</p>
<p id="p-0176" num="0175">Then, the home agent information processing section <b>64</b>, <b>68</b> sends these reply signals or packets to the mobile terminal <b>10</b> via the Lo processing section <b>62</b>/L<b>1</b> processing section <b>61</b> or the L<b>3</b> processing section <b>66</b>/L<b>1</b>/L<b>2</b> processing section <b>65</b> (step S<b>63</b>).</p>
<p id="p-0177" num="0176">Meanwhile, in <figref idref="DRAWINGS">FIG. 12(</figref><i>b</i>), the home agent information processing section <b>64</b>, <b>68</b> determines whether it is in timing to provide information to the mobile terminal <b>10</b> or not (step S<b>71</b>) In the case of timing to provide in-formation, the information about a home agent apparatus stored/held before is read out to generate an reply signal or packet (step S<b>72</b>).</p>
<p id="p-0178" num="0177">Then, the home agent information processing section <b>64</b>, <b>68</b> carries out a broadcast to the first network accommodating the mobile terminal <b>10</b>, via the L<b>2</b> processing section <b>62</b>/L<b>1</b> processing section <b>61</b> or the L<b>3</b> processing section <b>66</b>/L<b>1</b>/L<b>2</b> processing section <b>65</b> (step S<b>73</b>). Herein, information providing timing may be controlled by the use of a timer or manually.</p>
<p id="p-0179" num="0178">As described above, the access point apparatus of the invention can provide home agent information in response to a request by a mobile terminal or regularly. This allows the mobile terminal to acquire home agent information from an access point apparatus located at a shortest distance, hence making it possible to reduce the process time for sending control data upon starting communications.</p>
<p id="p-0180" num="0179">Next explained is a configuration and operation of the home agent information providing server <b>70</b>.</p>
<p id="p-0181" num="0180"><figref idref="DRAWINGS">FIG. 16</figref> is a configuration diagram of the home agent information providing server <b>70</b>. An L<b>1</b>/L<b>2</b> processing section <b>71</b> is to carry out a physical layer and data-link layer process, an L<b>3</b> processing layer <b>72</b> is to carry out a network layer process, and a home agent information processing section <b>73</b> is to gather/store home agent information about a home agent apparatus <b>50</b> for managing a connected domain network thus providing stored home agent information to the mobile terminal <b>10</b>.</p>
<p id="p-0182" num="0181">The operation of the home agent information providing server <b>70</b> configured as above is explained below.</p>
<p id="p-0183" num="0182">The home agent information processing section <b>73</b> makes a similar operation to the home agent information processing section <b>64</b>, <b>68</b> of the access point apparatus <b>60</b>.</p>
<p id="p-0184" num="0183">Namely, the home agent information processing section <b>73</b> regularly acquires information about a home agent apparatus <b>50</b> having a jurisdiction over a connected domain network, by the process shown in <figref idref="DRAWINGS">FIG. 13</figref>. Also, by the process shown in <figref idref="DRAWINGS">FIGS. 12(</figref><i>a</i>) and (<i>b</i>), home agent information is provided to the mobile terminal <b>10</b> regularly or in response to a request from the mobile terminal <b>10</b>.</p>
<p id="p-0185" num="0184">As described above, the home agent information providing server <b>70</b> of the invention collectively manages the information about a home agent apparatus. Consequently, there is no need of mounting a function for each access point apparatus <b>60</b> to gather home agent information and provide it to a mobile terminal, thus reducing the system overall cost.</p>
<p id="p-0186" num="0185">Incidentally, even when the mobile terminal <b>10</b> roams about a plurality of home agent apparatuses <b>50</b> arranged within the same domain, it can similarly provide home agent information to the mobile terminal <b>10</b> in response to a request from the mobile terminal.</p>
<p id="p-0187" num="0186">As described above, in the present embodiment, when the mobile terminal is assigned with a different home address in a moved-in domain network, the main home agent manages a correspondence to a main home address. Accordingly, it is possible to support a change of home address caused upon roaming between mobile communication networks in a manner the external terminal is conscious thereof.</p>
<p id="p-0188" num="0187">Furthermore, because the mobile terminal is allowed to desirably select a main home agent, it is possible to flexibly cope with a domain network different in service form.</p>
<p id="p-0189" num="0188">Also, because of registration of a home address to a main home agent instead of a care of address as in the conventional mobile IP, the frequency of location registration can be reduced in the main home agent, making it possible to reduce network load.</p>
<heading id="h-0007" level="1">Embodiment 2</heading>
<p id="p-0190" num="0189"><figref idref="DRAWINGS">FIG. 20</figref> shows a network configuration of a mobile communication system in embodiment 2 of the invention.</p>
<p id="p-0191" num="0190">This embodiment is different from embodiment 1 in that providing a plurality of main home agent apparatuses (main home agent apparatuses <b>50</b>-<b>4</b>, <b>50</b>-<b>5</b>). Besides, the apparatuses configuring the mobile communication system are the same as the apparatuses explained in embodiment 1.</p>
<p id="p-0192" num="0191">The mobile communication method in the mobile communication system thus configured is explained below.</p>
<p id="p-0193" num="0192">A mobile terminal <b>10</b> holds HoA-M<b>1</b> and HoA-M<b>2</b> (respectively corresponding to the main home agent apparatuses <b>50</b>-<b>4</b> and <b>50</b>-<b>5</b>) as main home addresses. In this case, the mobile terminal <b>10</b> registers (D<b>1</b>, D<b>4</b>) a sub-home address HoA-S and care of address CoA-S, acquired by accessing a moved-in domain network <b>6</b>, to a sub-home agent apparatus <b>50</b>-<b>6</b> of the domain network <b>6</b>. Together with this, the mobile terminal <b>10</b> registers (D<b>2</b>, D<b>3</b>, D<b>4</b>) a main home address HoA-M<b>1</b> and sub-home address HOA-S of the domain network <b>6</b> to the main home agent apparatus <b>50</b>-<b>4</b>, and registers a sub-home address HoA-S same as the main home address HoA-M<b>2</b> to the main home agent apparatus <b>50</b>-<b>5</b>.</p>
<p id="p-0194" num="0193">Due to this, the communication data destined for a mobile terminal <b>10</b> sent to the main home address HoA-M<b>1</b> or HoA-M<b>2</b> is transferred to a sub-home agent <b>50</b>-<b>6</b> and delivered from the sub-home agent <b>50</b>-<b>6</b> to the mobile terminal <b>10</b>.</p>
<p id="p-0195" num="0194">By thus having a plurality of main home addresses, for example a main home address for private use can be accommodated in a home agent apparatus mounted on a home gateway in an own house while a main home address for business use can be accommodated in a gateway in a company. Due to this, even in the case that accommodated in a home agent apparatus offered by the Internet provider having been accessed, for example, at a place upon business trip, it is possible to secure incoming calls destined for the main home address for private use as well as incoming calls destined for the main home address for business use.</p>
<heading id="h-0008" level="1">INDUSTRIAL APPLICABILITY</heading>
<p id="p-0196" num="0195">As described above, the present invention is useful for the mobile communications with roaming between the mobile communication networks different in service form on a carrier-by-carrier basis, and suited in flexibly coping with an incoming call from the external by the use of a representative home address, on the Internet as a distributed network.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of managing mobility of a mobile terminal on at least one domain network including a plurality of subnets, each subnet having at least one home agent apparatus, comprising:
<claim-text>determining a home agent for the mobile terminal to perform location management of the mobile terminal, wherein the mobile terminal has communications with an access point apparatus arranged on one of the plurality of subnets and moves between the plurality of subnets or between the at least one domain network which are different in service form;</claim-text>
<claim-text>registering a main home address by the mobile terminal provided from a main home agent apparatus to a server for managing an address of the mobile terminal to have a connection to the at least one domain network; and registering a sub-home address to the main home agent apparatus, as a care of address, for use on an other domain network different in service form, when the mobile terminal moves to the other domain network, wherein the sub-home address is registered as the care of address for use on the other domain network for a specified time period;</claim-text>
<claim-text>measuring, by the mobile terminal, a composite time corresponding to the mobile terminal being on the other subnet;</claim-text>
<claim-text>responsive to the mobile terminal moving to another subnet of the plurality of subnets for a threshold period, changing the main home agent apparatus to another one of the home agent apparatus;</claim-text>
<claim-text>wherein the step of changing the main home agent includes changing the mobile terminal to the other one of the home agent apparatus, corresponding to the other subnet, when the composite time reaches the threshold period.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A method of managing mobility according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the mobile terminal previously stores information about a home agent apparatus to become a candidate for the main home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A method of managing mobility according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising a step of acquiring by the mobile terminal the information about a home agent apparatus to become a candidate for the main home agent apparatus from the domain network.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method of managing mobility according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal changes the main home agent apparatus based on the information about respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method of managing mobility according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal determines the main home agent apparatus from the information about respective home agent apparatus, based on a preference indicator of the information.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method of managing mobility according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal determines the main home agent apparatus from the information about respective home agent apparatus, based on an access frequency to the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A method of managing mobility according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising making a request for a registration to a respective home agent apparatus arranged in a domain network to be connected through one or more link layers, at least one of the link layers being placed in an operational state to acquire an IP address possessed by the mobile terminal, wherein the step of registering the sub-home address is performed when the registration request is granted by the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A method of managing mobility according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a step of acquiring by the mobile terminal the information about a home agent apparatus to become a candidate for the main home agent apparatus from the domain network.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method of managing mobility according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal changes the main home agent apparatus based on the information about respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A method of managing mobility according to <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising making a request for a registration to a respective home agent apparatus arranged in a domain network to be connected through one or more link layers, at least one of the link layers being placed in an operational state to acquire an IP address possessed by the mobile terminal, wherein the step of registering the sub-home address is performed when the registration request is granted by the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A method of managing mobility according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal determines the main home agent apparatus from the information about respective home agent apparatus, based on a preference indicator of the information.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A method of managing mobility according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal determines the main home agent apparatus from the information about respective home agent apparatus, based on an access frequency to the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A method of managing mobility according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising making a request for a registration to a respective home agent apparatus arranged in a domain network to be connected through one or more link layers, at least one of the link layers being placed in an operational state to acquire an IP address possessed by the mobile terminal, wherein the step of registering the sub-home address is performed when the registration request is granted by the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A method of managing mobility according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal changes the main home agent apparatus based on the information about respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A method of managing mobility according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, further comprising making a request for a registration to a respective home agent apparatus arranged in a domain network to be connected through one or more link layers, at least one of the link layers being placed in an operational state to acquire an IP address possessed by the mobile terminal, wherein the step of registering the sub-home address is performed when the registration request is granted by the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A method of managing mobility according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal determines the main home agent apparatus from the information about respective home agent apparatus, based on a preference indicator of the information.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A method of managing mobility according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein, in the step of determining the home agent, the mobile terminal determines the main home agent apparatus from the information about respective home agent apparatus, based on an access frequency to the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A method of managing mobility according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising making a request for a registration to a respective home agent apparatus arranged in a domain network to be connected through one or more link layers, at least one of the link layers being placed in an operational state to acquire an IP address possessed by the mobile terminal, wherein the step of registering the sub-home address is performed when the registration request is granted by the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. A method of managing mobility according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising making a request for a registration to a respective home agent apparatus arranged in a domain network to be connected through one or more link layers, at least one of the link layers being placed in an operational state to acquire an IP address possessed by the mobile terminal, wherein the step of registering the sub-home address is performed when the registration request is granted by the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. A mobile terminal for use with at least one domain network including a plurality of subnets comprising:
<claim-text>a main home agent selecting section for selecting a main home agent apparatus to request location management and making a request for registering a home address provided from the main home agent apparatus to a server for managing an address of the mobile terminal to be connected to the at least one domain network;</claim-text>
<claim-text>a mobile IP processing section for notifying, when the mobile terminal has moved to a domain network different in service form, a sub-home agent apparatus for requesting location management on the other domain network different in service form of a home address for use on the other domain network different in service form together with a care of address for use on a subnet of the other domain network different in service form, based on a mobile IP protocol, wherein the sub-home address is registered as the care of address for use on the other domain network for a Specified time period;</claim-text>
<claim-text>a home agent registering section for notifying the main home agent apparatus of the main home address and a sub-home address for use on the other domain network different in service form,</claim-text>
<claim-text>wherein, responsive to the mobile terminal moving to another subnet of the plurality of subnets for a threshold period, the main home agent apparatus is changed to another one of the home agent apparatus; and</claim-text>
<claim-text>the mobile terminal measures a composite time corresponding to the mobile terminal being on the other subnet, and when the composite time reaches the threshold period, the mobile terminal changes to the other one of the home agent apparatus, corresponding to the other subnet.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A mobile terminal according to <claim-ref idref="CLM-00020">claim 20</claim-ref>, further comprising a home domain storing section for storing a home agent list as information about respective home agent apparatus to become a candidate for the main home agent apparatus, wherein the main home agent selecting section selects the main home agent apparatus from the home agent list.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A mobile terminal according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the main home agent selecting section acquires information about the respective home agent apparatus from the domain network and stores the information about the respective home agent apparatus to the home domain storing section.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. A mobile terminal according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the main home agent selecting section changes the main home agent apparatus based on information from the home agent list stored in the home domain storing section.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. A mobile terminal according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the main home agent selecting section selects the main home agent apparatus from the home agent list stored in the home domain storing section, on the basis of a priority of information about the respective home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. A mobile terminal according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the main home agent selecting section selects, as the main home agent apparatus, one of the respective home agent apparatus having an access frequency equal to or greater than a predetermined value from the home agent list stored in the home domain storing section.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. A mobile terminal according to <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein the home agent registering section makes a request for registration to a sub-home agent apparatus through one or more link layers, at least one of the link layers being placed in an operational state so that when receiving a grant for the registration request by the sub-home agent apparatus, a notification of a sub-home address to the main home agent apparatus is started.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. A mobile terminal according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the main home agent selecting section changes the main home agent apparatus based on information from the home agent list stored in the home domain storing section.</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. A mobile terminal according to <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the home agent registering section makes a request for registration to a sub-home agent apparatus through one or more link layers, at least one of the link layers being placed in an operational state so that when receiving a grant for the registration request by the sub-home agent apparatus, a notification of a sub-home address to the main home agent apparatus is started.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. A mobile terminal according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the main home agent selecting section selects, as the main home agent apparatus, one of the respective home agent apparatus having an access frequency equal to or greater than a predetermined value from the home agent list stored in the home domain storing section.</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. A mobile terminal according to <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein the home agent registering section makes a request for registration to a sub-home agent apparatus through one or more link layers, at least one of the link layers being placed in an operational state so that when receiving a grant for the registration request by the sub-home agent apparatus, a notification of a sub-home address to the main home agent apparatus is started.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. A mobile terminal according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the home agent registering section makes a request for registration to a sub-home agent apparatus through one or more link layers, at least one of the link layers being placed in an operational state so that when receiving a grant for the registration request by the sub-home agent apparatus, a notification of a sub-home address to the main home agent apparatus is started.</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. A mobile terminal according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the main home agent selecting section selects the main home agent apparatus from the home agent list stored in the home domain storing section, on the basis of a priority of information about a home agent apparatus.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. A mobile terminal according to <claim-ref idref="CLM-00032">claim 32</claim-ref>, wherein the home agent registering section makes a request for registration to a sub-home agent apparatus through one or more link layers, at least one of the link layers being placed in an operational state so that when receiving a grant for the registration request by the sub-home agent apparatus, a notification of a sub-home address to the main home agent apparatus is started.</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. A mobile terminal according to <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the home agent registering section makes a request for registration to a sub-home agent apparatus through one or more link layers, at least one of the link layers being placed in an operational state so that when receiving a grant for the registration request by the sub-home agent apparatus, a notification of a sub-home address to the main home agent apparatus is started.</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. A mobile terminal according to <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the mobile IP processing section, when receiving a multi-encapsulated packet, takes a source address described in an innermost header as a destination of registering location.</claim-text>
</claim>
</claims>
</us-patent-grant>
