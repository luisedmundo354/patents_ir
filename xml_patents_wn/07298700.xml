<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298700-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298700</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10063923</doc-number>
<date>20020524</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>1128</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>1</main-group>
<subgroup>44</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370235</main-classification>
<further-classification>370282</further-classification>
<further-classification>37039542</further-classification>
<further-classification>3703955</further-classification>
<further-classification>710 21</further-classification>
</classification-national>
<invention-title id="d0e53">Method for unidirectional and bidirectional label switched path setup in a label switched network</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6901053</doc-number>
<kind>B1</kind>
<name>Davies</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370237</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2002/0057691</doc-number>
<kind>A1</kind>
<name>Enoki et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370392</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2002/0191247</doc-number>
<kind>A1</kind>
<name>Lu et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>359124</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>6</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370237</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370352</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370353</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370354</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370355</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370356</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370392</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370468</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3703955</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37039551</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37039552</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37039521</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37039542</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37039543</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60293365</doc-number>
<kind>00</kind>
<date>20010524</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Doverspike</last-name>
<first-name>Robert Duncan</first-name>
<address>
<city>Tinton Falls</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kalmanek, Jr.</last-name>
<first-name>Charles Robert</first-name>
<address>
<city>Short Hills</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Li</last-name>
<first-name>Guangzhi</first-name>
<address>
<city>Harrison</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Yates</last-name>
<first-name>Jennifer</first-name>
<address>
<city>Madison</city>
<state>NJ</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>AT&amp;T Corp.</orgname>
<role>02</role>
<address>
<city>New York</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Chin</last-name>
<first-name>Wellington</first-name>
<department>2616</department>
</primary-examiner>
<assistant-examiner>
<last-name>Hom</last-name>
<first-name>Shick</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Label contention in a label switched network is resolved by applying a contention resolution scheme that reconciles policies for handling unidirectional and bidirectional label switched path setup.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="226.06mm" wi="170.77mm" file="US07298700-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="95.50mm" wi="145.80mm" file="US07298700-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="194.31mm" wi="127.34mm" file="US07298700-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="227.33mm" wi="172.80mm" file="US07298700-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="128.44mm" wi="181.36mm" file="US07298700-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="173.40mm" wi="175.68mm" file="US07298700-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application claims priority to United States Provisional Application “MIXED UNIDIRECTIONAL AND BI-DIRECTIONAL LSP SETUP IN GMPLS FRAMEWORK,” Ser. No. 60/293,365, filed on May 24, 2001, the contents of which are incorporated by reference herein.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to label distribution in a label switched network and, more particularly, to resolving contention in networks that permit unidirectional and bidirectional label switched paths.</p>
<p id="p-0004" num="0003">Multi-Protocol Label Switching (MPLS) is an advanced framework for high-speed data forwarding that differs from conventional destination-based IP routing: each packet is provided with a “label” that is used by label switched routers (LSRs) to forward the packet along what is referred to as a label switched path (LSP). See E. Rosen et al., “Multiprotocol Label Switching Architecture,” Internet Engineering Task Force (IETF) Network Working Group, Request for Comments (RFC) 3031. LSRs inform adjacent nodes of label bindings using a process of label distribution which is known as LSP setup. See, e.g., L. Andersson et al., “LDP Specification,” IETF Network Working Group, RFC 3036. Labels are by convention allocated and distributed from a downstream direction—where “downstream” in the art refers to the direction of data flow. In the context of IP networks, where LSPs are assumed to be unidirectional, downstream label selection convention assures that there is no label contention among connection requests coming from different directions.</p>
<p id="p-0005" num="0004">Generalized MPLS (“GMPLS”), also referred to in the art as Multi-Protocol Lambda Switching (“MPL(ambda)S”), extends MPLS to support—not just packet-switching devices—but devices that perform switching in the time, wavelength, and space domains. GMPLS provides the potential for a control plane that can be utilized with legacy equipment (e.g. SONET) as well as newer devices (e.g. optical crossconnects (“OXCs”)). See, e.g., D. Awduche et al., “Multi-Protocol Lambda Switching: Combining MPLS Traffic Engineering Control with Optical Crossconnects,” IETF Network Working Group, Internet Draft. For various practical reasons, current GMPLS signaling mechanisms permit the setup of what are referred to in the art as bidirectional LSPs. See P. Ashwood-Smith, et al., “Generalized MPLS—Signaling Functional Description,” IETF Network Working Group, Internet Draft. The introduction of bidirectional LSPs creates the practice of upstream label distribution and suggested label distribution. These two label distribution policies presents the possibility of contention between two bidirectional LSP requests traveling in opposite directions between two adjacent nodes. If there is no restriction on the ports/channels that can be used for bidirectional LSPs and if there are alternate resources, then both nodes will pass different labels upstream/downstream and the contention will be resolved naturally. If there is a restriction on the ports/channels that can be used for the bidirectional LSPs (for example if they must be physically coupled on a single I/O card), or if there are no more resources available, then the contention must be resolved by some other means. The current GMPLS signaling proposal suggests letting the node with the higher node ID win the contention.</p>
<p id="p-0006" num="0005">Unfortunately, current GMPLS proposals do not address the situation when a unidirectional LSP and a bidirectional LSP compete for the same resources. A network operator, in fact, may wish to offer both unidirectional and bidirectional high speed connections over the same network—without incurring the possible provisioning costs of segregating interfaces on network nodes between such connections. In a shared unidirectional and bidirectional LSP GMPLS network, a unidirectional LSP setup request message may carry a suggested label; the corresponding reply message may carry a label based on downstream label distribution policy. A bidirectional LSP setup request message should carry an upstream label and may carry a suggested label; the related reply message may carry a label based on downstream label distribution policy. The above-mentioned prior art contention schemes for handling bidirectional and unidirectional LSPs, however, are not consistent. Accordingly, there is a need for enhanced contention resolution procedures that can handle such situations.</p>
<heading id="h-0003" level="1">SUMMARY OF INVENTION</heading>
<p id="p-0007" num="0006">Label contention in a label switched network is resolved by applying a contention resolution scheme that reconciles policies for handling unidirectional and bidirectional label switched path setup. In accordance with an embodiment of the invention, label contention between a first label switched path setup message sent by a first node in a label switched network and a second label switched path setup message sent by a second node in the network is resolved by giving priority in accordance with a contention scheme that takes into account the nature of the respective setup messages. Priority can be given to the first label switched path setup message where the setup message is a label reply and the second label switched path setup message is a label request. Priority can also be given to the label switched path setup message for a bidirectional label switched path over setup messages for a unidirectional label switched path. Where the setup messages are both for unidirectional label switched paths or both for bidirectional label switched paths, the contention can be advantageously resolved using different contention policies, e.g., using downstream label selection or selecting the node with the higher node identification, respectively. Thus, the present invention can be utilized to resolve inconsistent prior art contention policies.</p>
<p id="p-0008" num="0007">Alternatively, in accordance with another embodiment of the invention, label contention between the first label switched path setup message sent by the first node in the label switched network and the second label switched path setup message sent by the second node in the network can be resolved by giving priority in accordance with the same contention policy for unidirectional and bidirectional label switched paths. For example, the node with the higher identification can be given higher priority, even where the nodes are requesting setup of unidirectional label switched paths.</p>
<p id="p-0009" num="0008">The contention resolution procedures disclosed in the present invention permit a network operator to offer bidirectional and unidirectional label switched paths over the same label switched network without a need to segregate the interfaces. These and other advantages of the invention will be apparent to those of ordinary skill in the art by reference to the following detailed description and the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram of two label switched nodes in a label switched network, exchanging label switched path setup messages.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 2A</figref> is an abstract diagram of a generalized label request and <figref idref="DRAWINGS">FIG. 2B</figref> is an abstract diagram of a generalized label. <figref idref="DRAWINGS">FIG. 2C</figref> is an abstract diagram of a suggested label and <figref idref="DRAWINGS">FIG. 2D</figref> is an abstract diagram of an upstream label.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of processing performed by a label switched network node, in accordance with a first embodiment of the invention.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 4</figref> is a contention resolution table, in accordance with a preferred embodiment of the invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart of processing performed by a label switched network node, in accordance with a second embodiment of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram of two nodes <b>110</b> and <b>120</b> in a label-switched network, illustrating an example of contention that can be handled by the present invention. The nodes <b>110</b>, <b>120</b> are two out of a plurality of nodes connected in an arbitrary topology that permits connectivity between a plurality of ingress/egress nodes. For example and without limitation, the label-switched network can be an optical network, each node <b>110</b>, <b>120</b> comprising an optical cross-connect and a wavelength division multiplexer terminal that multiplexes optical signals at different wavelengths into an optical fiber leading to another node.</p>
<p id="p-0016" num="0015">Each node has one or more channels/ports that connect it to an adjacent node in the network. Node <b>110</b> in <figref idref="DRAWINGS">FIG. 1</figref> is shown as having two bidirectional I/O interfaces (i.e. a transmitter/receiver pair of ports). The first I/O interface is assigned label “<b>1</b>” for the transmitter port and label “<b>2</b>” for the receiver port. The second I/O interface is assigned label “<b>3</b>” for the transmitter port and label “<b>4</b>” for the receiver port. Similarly, there are two I/O interfaces in node <b>120</b>. The first I/O interface is assigned label “<b>7</b>” for the transmitter port and label “<b>6</b>” for the receiver port. The second I/O interface is assigned label “<b>9</b>” for the transmitter port and label “<b>8</b>” for the receiver port.</p>
<p id="p-0017" num="0016">A label-switched path (“LSP”) through the network is established using the exchange of label distribution messages between adjacent nodes, in accordance with an advantageous protocol such as RSVP-TE or CR-LDP. See, e.g., P. Ashwood-Smith, et al., “Generalized MPLS—Signaling Functional Description,” IETF Network Working Group, Internet Draft; L. Berger, et al., “Generalized MPLS Signaling—RSVP-TE Extensions,” IETF Network Working Group, Internet Draft; D. Awduche et al., “RSVP-TE: Extensions to RSVP for LSP tunnels,” IETF Network Working Group, Internet Draft; P. Ashwood-Smith, et al., “Generalized MPLS Signaling—CR-LDP Extensions,” IETF Network Working Group, Internet Draft; and B. Jamoussi, et al., “Constraint-Based LSP Setup using LDP,” IETF Network Working Group, Internet Draft, which are incorporated by reference herein.</p>
<p id="p-0018" num="0017">For example, in <figref idref="DRAWINGS">FIG. 1</figref>, node <b>110</b> is depicted as requesting the setup of a unidirectional LSP between node <b>110</b> and node <b>120</b>. Node <b>110</b> sends a label request <b>101</b> to node <b>120</b>, for example a REQUEST/PATH message that contains a generalized label request in the format shown in <figref idref="DRAWINGS">FIG. 2A</figref>. See, “Generalized MPLS—Signaling Functional Description,” above. The node <b>110</b> includes a suggested label with the generalized label request, namely label “<b>1</b>” for the unidirectional LSP<b>1</b>, which allows node <b>110</b> to start configuring its hardware immediately. Downstream node <b>120</b> can accept the proposed label or select an alternative label, in the format depicted in <figref idref="DRAWINGS">FIG. 2C</figref>, and reply for example using a MAPPING/RESV message which includes the generalized label. In <figref idref="DRAWINGS">FIG. 1</figref>, however, it turns out that node <b>120</b> is attempting to setup a bidirectional LSP between node <b>120</b> and node <b>110</b>. This is accomplished by sending a REQUEST/PATH message suggesting a particular label for the path from node <b>120</b> to node <b>110</b> while including an “upstream” label object for the path from node <b>110</b> to node <b>120</b>, in the format depicted in <figref idref="DRAWINGS">FIG. 2D</figref>. If accepted by node <b>110</b>, this would result in two unidirectional channels/ports being assigned in a same-numbered pair (one channel/port-pair with the same number/ID in each direction). It is assumed in <figref idref="DRAWINGS">FIG. 1</figref> that there exists some restriction on which ports/channels can be used for a bidirectional LSP, e.g., a bidirectional LSP requires a single I/O interface at node <b>110</b> and node <b>120</b>. When node <b>120</b> assigns the downstream label “<b>6</b>” and suggests label “<b>7</b>” for the bidirectional LSP<b>2</b> between node <b>120</b> and node <b>110</b>, this results in a contention between the two proposed connections.</p>
<p id="p-0019" num="0018">Suppose that LSP<b>2</b> is given priority in accordance with the downstream label selection rule for unidirectional LSP<b>1</b>. Node <b>120</b> can attempt to assign a new label, such as label “<b>8</b>” for LSP<b>1</b>. Suppose, however, that at the same time that node <b>120</b> assigns label “<b>8</b>” for LSP<b>1</b>, node <b>110</b> assigns a downstream label “<b>4</b>” and suggests label “<b>3</b>” for another bidirectional LSP<b>3</b> from node <b>110</b> to node <b>120</b>. How is this contention to be resolved? Even if it is assumed that node <b>110</b> has a higher node ID than node <b>120</b> (e.g. node <b>110</b> is shown in <figref idref="DRAWINGS">FIG. 1</figref> as having a node ID=100 while node <b>120</b> is shown as having a node ID=50), a new mechanism is needed to resolve this type of contention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 3</figref> sets forth a flowchart of processing performed by a node in the label switched network, in accordance with a preferred embodiment of an aspect of the invention. At step <b>301</b>, the node receives a LSP setup message, either a label request or a label reply, from another node in the network. At step <b>302</b>, the node checks to see whether the received message will cause any contention with any label assignments/suggestions by the node. If not, then at step <b>311</b>, there is no contention and the LSP setup message is processed normally. If there is contention for selection of one or more particular ports/channels, then at step <b>303</b>, the node consults a set of contention resolution rules to decide which label message should “win” the contention. It is advantageous for the contention rules to be consistent with existing contention resolution procedures for unidirectional and bidirectional LSPs. Thus, in accordance with a preferred embodiment of the invention, the following rules can be used to decide which label wins the contention:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0020">(1) Downstream label selection for unidirectional LSPs;</li>
        <li id="ul0002-0002" num="0021">(2) Higher node ID for bidirectional LSPs;</li>
        <li id="ul0002-0003" num="0022">(3) LSP with label-reply has higher priority over LSP with label-suggestion.</li>
        <li id="ul0002-0004" num="0023">(4) Bidirectional LSPs have priority over unidirectional LSPs;
<br/>
These contention resolution rules are illustrated at steps <b>304</b>, <b>305</b>, <b>306</b>, and <b>307</b> in <figref idref="DRAWINGS">FIG. 3</figref>. As described in the background, the first two rules are advantageously consistent with existing GMPLS contention resolution procedures for unidirectional and bidirectional LSPs respectively.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0021" num="0024">The third rule is suggested by the nature of the LSP signaling process. In the GMPLS framework, as described above, both CR-LDP or RSVP-TE need two message waves to establish a LSP. The first one is some kind of label-request with or without a label suggestion. The second one is a label-reply. If there is a contention between a label-request (with a label suggestion) and a label-reply, the label-reply should be allowed to win. The reason is that label-request still has a chance to select a new label on label-reply. Note that this rule is consistent with downstream label distribution convention.</p>
<p id="p-0022" num="0025">The fourth rule is suggested by the nature of bidirectional LSPs. If there is a contention between a unidirectional LSP and a bidirectional LSP, all other things being equal, then the bidirectional LSP should be allowed to win. The rationale for this rule is that a bidirectional LSP is “harder” to establish than a unidirectional LSP. A pair of nodes could be configured to give unidirectional LSPs priority over bidirectional LSPs, although it is not clear that there is any advantage to allowing this flexibility.</p>
<p id="p-0023" num="0026">With reference again to <figref idref="DRAWINGS">FIG. 3</figref>, the node determines which label “wins” the contention, at step <b>308</b>, using the contention resolution rules. If the label allocated by the node wins the contention, then, at step <b>309</b>, the node is responsible for issuing an error message, e.g. a PathErr/NOTIFICATION message with a “Routing problem/Label allocation failure” indication. If the label allocated by the node loses the contention, then, at step <b>310</b>, the node will receive such an error message and will need to allocate a different label(s) for the desired LSP. If no other resources are available, the node will need to proceed with standard error handling for such situations.</p>
<p id="p-0024" num="0027"><figref idref="DRAWINGS">FIG. 4</figref> is a table that expands upon the above-mentioned contention resolution rules and reflects an embodiment/implementation of said rules. The table defines how contention is to be resolved at a node. The column headings indicate the LSP setup message that has been sent by the node. The rows indicate the message that has been received by the node. “REQUEST-UNI” means a label request suggesting a label for a unidirectional LSP. “REQUEST-BI” means a label request for a bidirectional LSP. “REPLY-UNI” means a label reply assigning a label for a unidirectional LSP. “REPLY-BI” means a label reply for a bidirectional LSP. In the table, “OK” means that there should be no contention, in other words, conventional downstream label selection for unidirectional LSPs should resolve any possible contention. “BI” means that the bidirectional LSP should win; and “REPLY” means that the label-reply should win. “MASTER” means that conventional bidirectional LSP contention rules should be used, e.g., the LSP with the label assigned by the higher node-id should win.</p>
<p id="p-0025" num="0028"><figref idref="DRAWINGS">FIG. 5</figref> sets forth an alternative contention resolution scheme that disadvantageously results in a change to either the rule for unidirectional LSPs or for bidirectional LSPs. At step <b>501</b>, the node receives a label-request or label-reply message from another node in the network. At step <b>502</b>, the node checks to see whether the received message causes any contention with any label assignments/suggestions by the node. If not, then at step <b>508</b>, there is no contention and the message is processed normally. If there is contention for selection of one or more particular ports/channels, then at step <b>503</b>, the node decides which label message “wins” the contention by using the same contention rule for both bidirectional and unidirectional LSPs. For example, as illustrated in <figref idref="DRAWINGS">FIG. 5</figref>, the node uses the bidirectional LSP contention resolution scheme—namely, determining which node has a higher node ID—for both bidirectional LSPs and unidirectional LSPs. As mentioned above, this has the disadvantage of changing the downstream label selection rule for unidirectional LSPs. Then, at step <b>505</b>, if the label assigned by the node wins the contention, that node at step <b>506</b> issues an error message to the other node that assigned the label that lost the contention. Otherwise, at step <b>507</b>, an alternate label must be allocated by the losing node upon receipt of the appropriate error message.</p>
<p id="p-0026" num="0029">The present invention advantageously permits a network operator to offer unidirectional high speed connections over the same network infrastructure for bidirectional high speed connections. For example, customers for unidirectional connections could be Internet Service Providers (ISPs) or other data service providers who only want to pay for the transport of router links in one direction. Indeed, such applications are required in OIF UNI1.0, ODSI signaling control specification, and IETF GMPLS framework.</p>
<p id="p-0027" num="0030">The foregoing Detailed Description is to be understood as being in every respect illustrative and exemplary, but not restrictive, and the scope of the invention disclosed herein is not to be determined from the Detailed Description, but rather from the claims as interpreted according to the full breadth permitted by the patent laws. It is to be understood that the embodiments shown and described herein are only illustrative of the principles of the present invention and that various modifications may be implemented by those skilled in the art without departing from the scope and spirit of the invention. For example, the detailed description describes an embodiment of the invention with particular reference to GMPLS. However, the principles of the present invention could be readily extended to other label switched protocols which permit unidirectional and bidirectional label switched paths. Such an extension could be readily implemented by one of ordinary skill in the art given the above disclosure.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of resolving label contention in a label switched network comprising:
<claim-text>(i) receiving a first label switched path setup message sent by a first node in the network;</claim-text>
<claim-text>(ii) determining whether the first label switched path setup message contends for a same label assigned or suggested in a second label switched path setup message sent by a second node in the network;</claim-text>
<claim-text>(iii) giving priority to the second label switched path setup message if the first label switched path setup message is a label request and if the second label switched path setup message is a label reply;</claim-text>
<claim-text>(iv) giving priority to the second label switched path setup message if the first label switched path setup message is a setup message for a unidirectional label switched path and if the second label switched path setup message is a setup message for a bidirectional label switched path; and</claim-text>
<claim-text>(v) giving priority in accordance with a first contention policy if both the first and second label switched path setup messages are setup messages for unidirectional label switched paths and in accordance with a second contention policy, different from the first contention policy, if both the first and second label switched path setup messages are setup messages for bidirectional label switched paths.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first contention policy gives priority in accordance with downstream label selection.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref> wherein the second contention policy gives priority to the node with a higher node identification.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method of resolving label contention in a label switched network comprising:
<claim-text>(i) receiving a first label switched path setup message sent by a first node in the network;</claim-text>
<claim-text>(ii) determining whether the first label switched path setup message contends for a same label assigned or suggested in a second label switched path setup message sent by a second node in the network;</claim-text>
<claim-text>(iii) giving priority to the second label switched path setup message if the first label switched path setup message is a setup message for a unidirectional label switched path and if the second label switched path setup message is a setup message for a bidirectional label switched path; and</claim-text>
<claim-text>(iv) giving priority in accordance with a first contention policy if both the first and second label switched path setup messages are setup messages for unidirectional label switched paths and in accordance with a second contention policy, different from the first contention policy, if both the first and second label switched path setup messages are setup messages for bidirectional label switched paths.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein the first contention policy gives priority in accordance with downstream label selection.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein the second contention policy gives priority to the node with a higher node identification.</claim-text>
</claim>
</claims>
</us-patent-grant>
