<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298404-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298404</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10474715</doc-number>
<date>20020411</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2001-113180</doc-number>
<date>20010411</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>919</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>9</main-group>
<subgroup>64</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>9</main-group>
<subgroup>68</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>228</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>40</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>348253</main-classification>
<further-classification>3482221</further-classification>
<further-classification>348234</further-classification>
<further-classification>382266</further-classification>
</classification-national>
<invention-title id="d0e71">Contour-emphasizing device</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5038388</doc-number>
<kind>A</kind>
<name>Song</name>
<date>19910800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382266</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6043853</doc-number>
<kind>A</kind>
<name>Shimazaki et al.</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348625</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6094205</doc-number>
<kind>A</kind>
<name>Jaspers</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6148115</doc-number>
<kind>A</kind>
<name>Mackinnon et al.</name>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382266</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6614474</doc-number>
<kind>B1</kind>
<name>Malkin et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348252</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6774943</doc-number>
<kind>B1</kind>
<name>Kao et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348252</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6850275</doc-number>
<kind>B1</kind>
<name>Minakami</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348252</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>7-327152</doc-number>
<date>19951200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>8-317253</doc-number>
<date>19961100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>11-355610</doc-number>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>2000-312301</doc-number>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>348252</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348625</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348606</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348254</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482221</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348264</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348272</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382266</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382268</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382260</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382264</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382270</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>16</number-of-drawing-sheets>
<number-of-figures>43</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040119858</doc-number>
<kind>A1</kind>
<date>20040624</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Shimazaki</last-name>
<first-name>Shingo</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Frommer Lawrence &amp; Haug LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Frommer</last-name>
<first-name>William S.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Sony Corporation</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Vu</last-name>
<first-name>Ngoc-Yen</first-name>
<department>2622</department>
</primary-examiner>
<assistant-examiner>
<last-name>Chon</last-name>
<first-name>Peter</first-name>
</assistant-examiner>
</examiners>
<pct-or-regional-filing-data>
<document-id>
<country>WO</country>
<doc-number>PCT/JP02/03633</doc-number>
<kind>00</kind>
<date>20020411</date>
</document-id>
<us-371c124-date>
<date>20031009</date>
</us-371c124-date>
</pct-or-regional-filing-data>
<pct-or-regional-publishing-data>
<document-id>
<country>WO</country>
<doc-number>WO02/084998</doc-number>
<kind>A </kind>
<date>20021024</date>
</document-id>
</pct-or-regional-publishing-data>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The present invention provides an edge enhancing apparatus (<b>20</b>) including a filter (<b>51</b>) to extract a horizontal high-frequency component of a video signal, a rise/fall detection detector (<b>52</b>) to detect leading and trailing edges of the horizontal high-frequency component of the video signal, and a waveform balancer (<b>53</b>) to multiply the high frequency component extracted by the filter (<b>51</b>) by a gain to generate an enhancement signal for enhancing the original video signal. The waveform balancer (<b>53</b>) works to make the gain a value larger than “1” when the signal level of the high frequency component at the leading edge of the video signal is positive while making the gain a value of “1” or smaller than “1” when the signal level of the high frequency component at the leading edge of the video signal is negative, and make the gain a value of “1” or smaller than “1” when the signal level of the high frequency component at the trailing edge of the video signal is positive while making the gain a value larger than “1” when the signal level of the high frequency component at the trailing edge of the video signal is negative.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="126.92mm" wi="226.31mm" file="US07298404-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="235.12mm" wi="143.85mm" orientation="landscape" file="US07298404-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="253.66mm" wi="176.61mm" orientation="landscape" file="US07298404-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="214.55mm" wi="139.53mm" file="US07298404-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="238.51mm" wi="160.36mm" orientation="landscape" file="US07298404-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="253.58mm" wi="178.65mm" orientation="landscape" file="US07298404-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="239.35mm" wi="151.05mm" orientation="landscape" file="US07298404-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="244.26mm" wi="128.44mm" file="US07298404-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="250.78mm" wi="129.62mm" orientation="landscape" file="US07298404-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="242.57mm" wi="158.41mm" orientation="landscape" file="US07298404-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="251.63mm" wi="175.85mm" orientation="landscape" file="US07298404-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="222.42mm" wi="126.83mm" orientation="landscape" file="US07298404-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="236.98mm" wi="144.19mm" orientation="landscape" file="US07298404-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="253.15mm" wi="166.88mm" orientation="landscape" file="US07298404-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="236.98mm" wi="163.66mm" orientation="landscape" file="US07298404-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="254.42mm" wi="140.97mm" orientation="landscape" file="US07298404-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="243.08mm" wi="162.90mm" orientation="landscape" file="US07298404-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">The present invention relates to an edge enhancing apparatus which enhances edges of a video signal.</p>
<heading id="h-0002" level="1">BACKGROUND ART</heading>
<p id="p-0003" num="0002">The construction of a video camera using a conventional digital signal processing will be described with reference to <figref idref="DRAWINGS">FIG. 1</figref>. It should be noted that for the convenience of the explanation of the video camera, red (R), green (G) and blue (B) signal channels (will be referred to simply as R, G and B channels, respectively) sharing the same processing circuit, for example, will be identified with a common reference to which R, G and B are suffixed, respectively. The video camera is disclosed in the Japanese Unexamined Patent Application Nos. 46576 of 1997 and 65935 of 1980.</p>
<p id="p-0004" num="0003">In <figref idref="DRAWINGS">FIG. 1</figref>, the conventional video camera is generally identified with a reference <b>501</b>. As shown, the video camera <b>501</b> includes a pickup lens <b>511</b>, color separation prism <b>512</b>, three solid-state image sensing devices, <b>513</b>R, <b>523</b>G and <b>513</b>B, such as a charge-coupled device (CCD) provided for R, G and B channels, respectively, three correlated double sampling circuits (CDS) <b>514</b>R, <b>514</b>G and <b>514</b>B provided for the R, G and B channels, respectively, analog signal processing circuits <b>515</b>R, <b>515</b>G and <b>515</b>B for the R, G and B channels, respectively, and analog-to-digital (A/D) conversion circuit (A/D converter) <b>516</b>R, <b>516</b>G and <b>516</b>B provided for the R, G and B channels, respectively.</p>
<p id="p-0005" num="0004">The video camera <b>501</b> also includes up converters <b>517</b>R, <b>517</b>G and <b>157</b>B provided for the R, G and B channels, respectively, a linear matrix circuit <b>518</b>, a kneeing circuit <b>519</b>, an image enhancer <b>520</b>, edge correction addition circuits <b>521</b>R, <b>521</b>G and <b>521</b>B provided for the R, G and B channels, respectively, a gamma correction circuit <b>522</b>, clipping circuits <b>523</b>R, <b>523</b>G and <b>523</b>B provided for the R, G and B channels, respectively, and a signaling system changeover circuit <b>524</b>.</p>
<p id="p-0006" num="0005">Once the video camera <b>501</b> is put into action, light from an object is incident upon the pickup lens <b>511</b>. The incident light is separated by the color separation prism <b>512</b> into three primary colors R, G and B. The color separation prism <b>512</b> has accurately fixed thereto the CDDs <b>513</b>R, <b>513</b>G and <b>513</b>B corresponding to the primary colors R, G and B. The primary lights R, G and B separated by the color separation prism <b>512</b> are incident upon the CCDs <b>513</b>R, <b>513</b>G and <b>513</b>B, respectively. Output signals from the CCDs <b>513</b>R, <b>513</b>G and <b>513</b>B, indicating the primary colors R, G and B, respectively, are supplied to the CDS circuits <b>514</b>R, <b>514</b>G and <b>514</b>B where the respective signals R, G and B will subjected to the correlated double sampling to generate analog video signals, respectively. The analog video signals are supplied to the analog signal processing circuits <b>515</b>R, <b>515</b>G and <b>515</b>B, respectively, where they will be amplified and subjected to various analog signal processing including black-and-white (B/W) balancing, B/W shading, flare correction, etc. The analog video signal outputs from the analog signal processing circuits <b>515</b>R, <b>515</b>G and <b>515</b>B are supplied to the A/D converters <b>516</b>R, <b>516</b>G and <b>516</b>B, respectively, where the analog video signals will be sampled at a predetermined rate and converted into digital video signals, respectively. The digital video signal outputs from the A/D converters <b>516</b>R, <b>516</b>G and <b>516</b>B are supp/lied to the up converters <b>517</b>R, <b>517</b>G and <b>517</b>B and image enhancer <b>520</b>.</p>
<p id="p-0007" num="0006">Each of the up converters <b>517</b>R, <b>517</b>G and <b>517</b>B includes a zero insertion circuit and interpolating filter to raise the sampling rate for digital video signals and re-sample the digital video signals. Normally, the sampling frequency used in the A/D conversion is the same as the horizontal drive frequency of the CCDs <b>513</b>R, <b>513</b>G and <b>513</b>B. The digital signal processing in the video camera includes nonlinear processing such as the kneeing, gamma correction, B/W clipping, etc. which will be described later. Such nonlinear processing of a video signal will result in distortion of the signal waveform and occurrence of a harmonic whose frequency is several times higher than a frequency included in the video signal. When the harmonic component thus developed exceeds the Nyquist frequency (a half of the sampling frequency), it will return to a band of lower frequencies and become a return noise which will deteriorate the image quality. To avoid this, the Nyquist frequency is raised and the digital video signals are re-sampled with a higher frequency by the up converters <b>517</b>R, <b>517</b>G and <b>517</b>B to prevent the return noise from occurring. The digital video signal outputs from the up converters <b>517</b>R, <b>517</b>G and <b>517</b>B are supplied to the linear matrix circuit <b>518</b>.</p>
<p id="p-0008" num="0007">The linear matrix circuit <b>518</b> makes color correction of the video signals to correct color reproduction error caused by the fact that the imaging characteristic of the CCD is different from the ideal one. The video signal outputs from the linear matrix circuit <b>518</b> are supplied to the kneeing circuit <b>519</b>.</p>
<p id="p-0009" num="0008">The kneeing circuit <b>519</b> makes gradation compression of high-luminance portions of the video signals according to a predetermined kneeing characteristic. The video signal outputs from the kneeing circuit <b>519</b> are supplied to the addition circuits <b>521</b>R, <b>521</b>G and <b>521</b>B.</p>
<p id="p-0010" num="0009">The image enhancer <b>520</b> extracts high frequency components from the video signals and multiplies the high frequency components by a predetermined gain to thereby produce edge-enhancement signals for enhancing the edges of the video signals. The edge-enhancement signal outputs from the image enhancer <b>520</b> are supplied to the addition circuits <b>521</b>R, <b>521</b>G and <b>521</b>B.</p>
<p id="p-0011" num="0010">The addition circuits <b>521</b>R, <b>521</b>G and <b>521</b>B are provided to add edge-enhancement signals to the video signals to shape the waveforms of the video signal edges. The video signals having the waveforms thereof thus shaped by the addition circuits <b>521</b>R, <b>521</b>G and <b>521</b>B are supplied to the gamma correction circuit <b>522</b> where the video signals will be subjected to gamma correction. The video signal outputs from the gamma correction circuit <b>522</b> are supplied to the clipping circuits <b>523</b>R, <b>523</b>G and <b>523</b>B. The clipping circuits <b>523</b>R, <b>523</b>G and <b>523</b>B clip the signals whose levels are over the standard television video signal level. The video signal outputs from the clipping circuits <b>523</b>R, <b>523</b>G and <b>523</b>B are supplied to the signaling system changeover circuit <b>524</b>. The signaling system changeover circuit <b>524</b> converts the video signals into ones necessary for the system configuration of the video camera <b>501</b>, such as NTSC- or PAL-based analog composite video signal, analog component video signals such as Y (luminance) signal, R-Y signal and B-Y signal, serial digital video data or the like.</p>
<p id="p-0012" num="0011">Next, the image enhancer <b>520</b> will be described below with reference to <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0013" num="0012">As shown, the image enhancer <b>520</b> includes three vertical filters <b>531</b>R, <b>531</b>G and <b>531</b>B provided for the R, G and B channels, respectively, horizontal-component up converters <b>532</b>R, <b>532</b>G and <b>532</b>B provided for the R, G and B channels, respectively, vertical-component up converters <b>533</b>R, <b>533</b>G and <b>533</b>B provided for the R, G and B channels, respectively, a horizontal-component R/G/B mixing circuit <b>534</b>, a vertical-component R/G/B mixing circuit <b>535</b>, horizontal edge enhancement signal generation circuit <b>536</b>, a vertical edge enhancement signal generation circuit <b>537</b>, an addition circuit <b>538</b>, and a gain control circuit <b>539</b>.</p>
<p id="p-0014" num="0013">The digital video signals on the R, G and B channels branched from the A/D converters <b>516</b>R, <b>516</b>G and <b>516</b>B are supplied to the vertical filters <b>531</b>R, <b>531</b>G and <b>531</b>B, respectively, of the image enhancer <b>520</b>. That is, the digital video signal on the R, G and B channels branched from the A/D converter <b>516</b>R is supplied to the R-channel vertical filter <b>531</b>R, the digital video signal on the G channel branched from the A/D converter <b>516</b>G is supplied to the G-channel vertical filter <b>531</b>G, and the digital video signal on the B channel branched from the A/D converter <b>516</b>B is supplied to the B-channel vertical filter <b>531</b>B.</p>
<p id="p-0015" num="0014">As shown, the R-channel vertical filter <b>531</b>R includes a first <b>1</b>H delay circuit <b>541</b>R, second <b>1</b>H delay circuit <b>542</b>R, vertical lowpass filter (LPF) <b>543</b>R, and a vertical highpass filter (HPF) <b>544</b>R. The first <b>1</b>H delay circuit <b>541</b>R delays the R component one horizontal sync period (<b>1</b>H), the second <b>1</b>H delay circuit <b>542</b>R is supplied with the R component having been delayed the one horizontal sync period (<b>1</b>H) by the first <b>1</b>H delay circuit <b>541</b>R, and will delay the R component a further horizontal sync period (<b>1</b>H). Namely, the second <b>1</b>H delay circuit <b>542</b>R outputs the R component delayed a total of two horizontal sync periods (<b>2</b>H). The vertical LPF <b>543</b>R and vertical HPF <b>544</b>R supplied with an R component not delayed (<b>0</b>H delay), R component delayed one horizontal sync period (<b>1</b>H) and an R component delayed two horizontal sync periods (<b>2</b>H). The vertical LPF <b>543</b>R makes vertical lowpass filtering of the R components based on the R components having the <b>0</b>H delay, <b>1</b>H delay and <b>2</b>H delay, respectively, to extract vertical low-frequency components from the R components. The vertical HPF <b>544</b>R makes vertical highpass filtering of the R components based on the R components having the <b>0</b>H delay, <b>1</b>H delay and <b>2</b>H delay, respectively, to extract vertical high-frequency components from the R components. That is, since the edge of a picture appears as high frequency components of the video signals, the vertical LPF <b>543</b>R will cut off vertical edge component from the video signal, while the vertical HPF <b>544</b>R will extract vertical edge components from the video signals. The R component output from the vertical LPF <b>543</b>R is supplied to the R-channel horizontal-component up converter <b>532</b>R, while the R component output from the vertical HPF <b>544</b>R is supplied to the R-channel vertical-component up converter <b>533</b>R.</p>
<p id="p-0016" num="0015">To process data synchronously with the up converter <b>517</b>R provided in a main video signal path, the horizontal-component up converter <b>532</b>R make up-conversion of the sampling frequency for the R component similarly to the up converter <b>517</b>R. Similarly, the vertical-component up converter <b>533</b>R makes up-conversion of the sampling frequency of the R component.</p>
<p id="p-0017" num="0016">Note that the G-channel vertical filter <b>531</b>G and B-channel vertical filter <b>531</b>B are constructed similarly to the R-channel vertical filter <b>531</b>R and thus will not be described any more. Also, since the G- and B-channel horizontal-component up converters <b>532</b>G and <b>532</b>B and G- and B-channel vertical-component up converters <b>533</b>G and <b>533</b>B are constructed similarly to the R-channel up converter and thus will not be described any further.</p>
<p id="p-0018" num="0017">The horizontal-component R/G/B mixing circuit <b>534</b> is supplied, from the R-, G- and B-channel horizontal-component up converters <b>532</b>R, <b>532</b>G and <b>532</b>B, with R-, G- and B-component video signals having vertical high-frequency components cut off therefrom. The horizontal-component R/G/B mixing circuit <b>534</b> mixes the R, G and B components at a predetermined mixing ratio to generate a luminance component. That is, the horizontal-component R/G/B mixing circuit <b>534</b> outputs a luminance signal having vertical high-frequency components cut off therefrom. The luminance signal from which the vertical high-frequency components have been cut off is supplied to the horizontal edge enhancement signal generation circuit <b>536</b>.</p>
<p id="p-0019" num="0018">The vertical-component R/G/B mixing circuit <b>535</b> is supplied, from the R-, G- and B-channel vertical-component up converters <b>533</b>R, <b>533</b>G and <b>533</b>B, with R-, G- and B-component video signals indicative of the extracted vertical high-frequency components. The vertical-component R/G/B mixing circuit <b>535</b> mixes the R, G and B components at a predetermined mixing ratio to generate a luminance component. That is, the vertical-component R/G/B mixing circuit <b>535</b> outputs a luminance signal indicative of the extracted vertical high-frequency components. The luminance signal indicative of the extracted vertical high-frequency components is supplied to the vertical edge enhancement signal generation circuit <b>537</b>.</p>
<p id="p-0020" num="0019">As shown, the horizontal edge enhancement signal generation circuit <b>536</b> includes a horizontal bandpass filter (BPF) <b>551</b>, gain control circuit <b>552</b> and a level limiter <b>553</b>.</p>
<p id="p-0021" num="0020">The luminance signal output from the horizontal-component R/G/B mixing circuit <b>534</b> is supplied to the horizontal BPF <b>551</b> where horizontal high-frequency components will be extracted from the luminance signal. That is, the horizontal BPF <b>551</b> outputs a signal indicative of only the extracted horizontal high-frequency components. In other words, the horizontal BPF <b>551</b> will output edge components indicating only a horizontal edge. The horizontal edge component outputs from the horizontal BPF <b>551</b> are supplied to the gain control circuit <b>552</b>. The gain control circuit <b>552</b> multiplies the extracted horizontal edge components by a predetermined gain control coefficient to control the extent of the horizontal edge enhancement. The output from the gain control circuit <b>552</b> is supplied to the level limiter <b>553</b> which will make signal level limitation of the horizontal edge components higher than a predetermined signal level and output a final horizontal edge enhancement signal.</p>
<p id="p-0022" num="0021">As shown, the vertical-component edge-enhancement signal generation circuit <b>537</b> includes a horizontal lowpass filter (LPF) <b>554</b>, gain control circuit <b>555</b> and a level limiter <b>556</b>.</p>
<p id="p-0023" num="0022">The luminance signal output from the vertical-component R/G/B mixing circuit <b>535</b> is supplied to the horizontal LPF <b>554</b> where horizontal low-frequency components will be extracted from the luminance signal. That is, the horizontal LPF <b>554</b> outputs a signal indicative of only the extracted vertical high-frequency components. In other words, the horizontal LPF <b>554</b> will output edge components indicating only a vertical edge. The vertical edge component outputs from the horizontal LPF <b>554</b> are supplied to the gain control circuit <b>555</b>. The gain control circuit <b>555</b> multiplies the extracted vertical edge components by a predetermined gain control coefficient to control the extent of the vertical edge enhancement. The output from the gain control circuit <b>555</b> is supplied to the level limiter <b>556</b> which will make signal level limitation of the vertical edge components higher than a predetermined signal level and output a final vertical edge enhancement signal.</p>
<p id="p-0024" num="0023">The horizontal and vertical edge enhancement signals thus generated are supplied to the addition circuit <b>538</b> and gain control circuit <b>539</b>.</p>
<p id="p-0025" num="0024">The addition circuit <b>538</b> adds the horizontal and vertical edge enhancement signals together to mix the horizontal and vertical directions, and the gain control circuit <b>539</b> makes a final gain control of the edge-enhancement signals whose horizontal and vertical directions have thus been mixed to output a final edge-enhancement signal.</p>
<p id="p-0026" num="0025">The edge-enhancement signal generated by the image enhancer <b>520</b> as above is added to a main video signal. The video signal having such an edge-enhancement signal added thereto becomes an edge-enhanced picture well defining the edge of an object.</p>
<p id="p-0027" num="0026">It is well known that when a pulse-shaped rectangular wave signal is supplied to an analog amplification circuit composed of a transistor, operational amplifier or the like, the through rate of the amplification circuit at the rise is different from that at the fall of the signal. It is also known that a signal having passed through an analog filter composed of a resistor, capacitor, coil and the like will have the phase characteristic thereof distorted. Further, it is known that on the wires in a printed wiring board, a signal will be distorted by reflection or the like. For the above reasons, the waveform characteristic is distorted at the input and output of an analog circuit. For example, a rectangular wave signal as shown in <figref idref="DRAWINGS">FIG. 3A</figref>, after having passed through an analog amplifier or filter, will not show the same waveform characteristic at the rise and fall thereof because of a difference in through rate of the analog amplifier, for example, between at the rise and at the fall of the signal as shown in <figref idref="DRAWINGS">FIG. 3B</figref>.</p>
<p id="p-0028" num="0027">Generally, in a video camera using the digital signal processing, light signal is acquired as an analog electrical signal from a CCD and subjected to A/D conversion to output a digital video signal. Therefore, an analog circuit has to be provided between the CCD and A/D conversion circuit. The analog circuit is composed of an active device such as a transistor, operational amplifier or the like and a passive device such as a resistor, capacitor, coil or the like, mounted on a printed wiring board. Therefore, a video signal picked up by the CCD will be distorted specifically to the analog system under the influence of the analog circuit and be converted, as stilled distorted, into digital data.</p>
<p id="p-0029" num="0028">If the original signal having the waveform thereof distorted through the analog circuit as shown in <figref idref="DRAWINGS">FIG. 3B</figref> is passed to the image enhancer, there will be generated an edge-enhancement signal having the distortion of the extracted original signal waveform as shown in <figref idref="DRAWINGS">FIG. 3C</figref>. Addition of the distorted edge-enhancement signal to the original signal waveform will result in a signal whose distortion is rather enhanced as shown in <figref idref="DRAWINGS">FIG. 3D</figref> and thus in a picture remarkably distorted. Such a waveform distortion is a big problem to solve for a video camera, especially a broadcasting service-directed one for which a high image quality is required.</p>
<p id="p-0030" num="0029">Thus, the edge enhancement should desirably be done of video signals after correction of their waveform having been distorted through the analog circuit.</p>
<p id="p-0031" num="0030">To eliminate such a distortion, a waveform distortion due to the analog signal processing could be approximated by a digital filter and corrected by applying an inversion of the approximated distortion.</p>
<p id="p-0032" num="0031">However, the waveform distortion caused by a difference in through rate of an analog amplifier between the rise and fall of the waveform is on the order of a few nanoseconds (ns) and equivalent to a length of time several to tens times shorter than a sampling period used for the digital signal processing in the video camera. Therefore, even if it is tried to approximate, by a digital filter, a distortion caused in an analog signal processing and apply an inversion of the approximated distortion, for example, in order to limit the distortion, the sampling frequency has to be raised several to tens times to configure such a digital filter, which will lead to a complicated circuit configuration and increased power consumption. Namely, it is very difficult to implement this method of distortion elimination.</p>
<heading id="h-0003" level="1">DISCLOSURE OF THE INVENTION</heading>
<p id="p-0033" num="0032">Accordingly, the present invention has an object to overcome the above-mentioned drawbacks of the related art by providing an apparatus for, and a method of, enhancing the edges of video signals by eliminating the influence of a waveform distortion due to an analog signal processing or the like by the use of a small-scale hardware.</p>
<p id="p-0034" num="0033">The present invention has another object to provide a video camera which enhances the edges of video signals by eliminating the influence of a waveform distortion due to an analog signal processing or the like by the use of a small-scale hardware.</p>
<p id="p-0035" num="0034">The above object can be attained by providing an edge enhancing apparatus including according to the present invention:</p>
<p id="p-0036" num="0035">a filter for extracting a horizontal high-frequency component from a video signal;</p>
<p id="p-0037" num="0036">a signal level detecting means for discriminating between signal levels of the high frequency component detected by the filter;</p>
<p id="p-0038" num="0037">a rise and fall detecting means for discriminating between leading and trailing edges of the video signal;</p>
<p id="p-0039" num="0038">an enhancement signal generating means for generating an enhancement signal by multiplying the high frequency component extracted by the filter by a gain; and</p>
<p id="p-0040" num="0039">an adding means for adding the enhancement signal to the video signal;</p>
<p id="p-0041" num="0040">the enhancement signal generating means generating the enhancement signal by changing the gain according to the result of discrimination between the signal levels of the high frequency component and the result of discrimination between the rise and fall of the video signal.</p>
<p id="p-0042" num="0041">In the above edge enhancing apparatus, the edge-enhancement signal is generated by controlling the gain independently according to the result of discrimination between the signal levels of the horizontal high-frequency component of the video signal and the result of discrimination between the leading and trailing edges of the video signal.</p>
<p id="p-0043" num="0042">Also in the above edge enhancing apparatus, the rise and fall detecting means detects the leading and trailing edges of the horizontal component of the video signal when the horizontal component of the video signal changes stepwise.</p>
<p id="p-0044" num="0043">In the above edge enhancing apparatus, the edge-enhancement signal is generated by controlling the gain only for a part, changing stepwise in horizontal picture level.</p>
<p id="p-0045" num="0044">The above object can be attained by providing an edge enhancing method including, according to the present invention, steps of:</p>
<p id="p-0046" num="0045">extracting a horizontal high-frequency component from a video signal;</p>
<p id="p-0047" num="0046">discriminating between signal levels of the extracted high-frequency component;</p>
<p id="p-0048" num="0047">discriminating between leading and trailing edges of the video signal;</p>
<p id="p-0049" num="0048">changing a gain to be given to the extracted high-frequency component according to the result of discrimination;</p>
<p id="p-0050" num="0049">generating an enhancement signal by multiplying the extracted high-frequency component by the gain; and</p>
<p id="p-0051" num="0050">adding the enhancement signal to the video signal.</p>
<p id="p-0052" num="0051">In the above edge enhancing method, the edge-enhancement signal is generated by controlling the gain independently according to the result of discrimination between the signal levels of the horizontal high-frequency component of the video signal and the result of discrimination between the leading and trailing edges of the video signal.</p>
<p id="p-0053" num="0052">Also in the above edge enhancing method, the gain is controlled according to the result of discrimination between the signal levels of the horizontal high-frequency component of the video signal and the result of discrimination between the leading and trailing edges of the video signal when the horizontal high-frequency component of the video signal changes stepwise.</p>
<p id="p-0054" num="0053">In the above edge enhancing method, the edge-enhancement signal is generated by controlling the gain only for a part, changing stepwise in horizontal picture level.</p>
<p id="p-0055" num="0054">Also, the above object can be attained by providing a video camera including according to the present invention:</p>
<p id="p-0056" num="0055">an imaging means for imaging an object to generate a video signal;</p>
<p id="p-0057" num="0056">a filter for extracting a horizontal high-frequency component from the video signal generated by the imaging means;</p>
<p id="p-0058" num="0057">a signal level detecting means for discriminating between signal levels of the high frequency component detected by the filter;</p>
<p id="p-0059" num="0058">a rise and fall detecting means for discriminating between leading and trailing edges of the video signal;</p>
<p id="p-0060" num="0059">an enhancement signal generating means for generating an enhancement signal by multiplying the high frequency component by a gain; and</p>
<p id="p-0061" num="0060">an adding means for adding the enhancement signal to the video signal;</p>
<p id="p-0062" num="0061">the enhancement signal generating means generating the enhancement signal by changing the gain according to the result of discrimination between the signal levels of the high frequency component and the result of discrimination between the leading and trailing edges of the video signal.</p>
<p id="p-0063" num="0062">In the above video camera, the edge-enhancement signal for enhancing the original video signal is generated by controlling the gain independently according to the result of discrimination between the signal levels of the horizontal high-frequency component of the video signal and the result of discrimination between the leading and trailing edges of the video signal.</p>
<p id="p-0064" num="0063">Also in the above video camera, the rise and fall detecting means detects the leading and trailing edges of the horizontal component of the video signal when the horizontal component of the video signal changes stepwise.</p>
<p id="p-0065" num="0064">In the above video camera, the edge-enhancement signal is generated by controlling the gain only for a part, changing stepwise in horizontal picture level.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of the conventional video camera.</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 2</figref> is also a block diagram of the image enhancer in the conventional video camera shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIGS. 3A to 3D</figref> explain signal distortion caused in an analog signal processing circuit.</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram of a first embodiment of the video camera according to the present invention.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram of an image enhancer in the first embodiment of the video camera.</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 6</figref> shows the construction of the waveform balancer used in the image enhancer in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0072" num="0071"><figref idref="DRAWINGS">FIGS. 7A to 7G</figref> explain the effect of the waveform shaping by the waveform balancer.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 8</figref> is a block diagram of a rise/fall detection circuit used in the image enhancer.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIGS. 9A to 9E</figref> explain the signal processing in the rise/fall detection circuit.</p>
<p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. 10</figref> is a block diagram of an image enhancer used in a second embodiment of the video camera according to the present invention.</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. 11</figref> explains the leading and trailing edges of the step-like signal waveform.</p>
<p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. 12</figref> shows the construction of a waveform balancer used in the image enhancer in <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram of an edge detection circuit in the image enhancer in <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIGS. 14A to 14G</figref> explain the signal processing in the edge detection circuit.</p>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 15</figref> is a block diagram of a rise/fall detection circuit used in the image enhancer used in the second embodiment of the video camera according to the present invention.</p>
<p id="p-0081" num="0080"><figref idref="DRAWINGS">FIGS. 16A to 16I</figref> explain the signal processing in the rise/fall detection circuit.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">BEST MODE FOR CARRYING OUT THE INVENTION</heading>
<p id="p-0082" num="0081">A video camera will be described herebelow as one of the embodiments of the present invention. It should be noted that for the convenience of the explanation of the video camera, red (R), green (G) and blue (B) signal channels (will be referred to simply as R, G and B channels, respectively) sharing the same processing circuit will be identified with a common reference to which R, G and B are suffixed, respectively.</p>
<heading id="h-0006" level="1">FIRST EMBODIMENT</heading>
<p id="p-0083" num="0082">(General Description of the Video Camera)</p>
<p id="p-0084" num="0083">Referring now to <figref idref="DRAWINGS">FIG. 4</figref>, there is illustrated in the form of a block diagram the first embodiment of the video camera according to the present invention. The video camera is generally indicated with a reference <b>1</b>. The video camera <b>1</b> will be outlined herebelow with reference to <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0085" num="0084">As shown, the video camera <b>1</b> includes a pickup lens <b>11</b>, color separation prism <b>12</b>, three solid-state image sensing devices, <b>13</b>R, <b>23</b>G and <b>13</b>B, such as a charge-coupled device (CCD) provided for R, G and B channels, respectively, three correlated double sampling circuits (CDS) <b>14</b>R, <b>14</b>G and <b>14</b>B provided for the R, G and B channels, respectively, analog signal processing circuits <b>15</b>R, <b>15</b>G and <b>15</b>B for the R, G and B channels, respectively, and analog-to-digital (A/D) conversion circuit (A/D converter) <b>16</b>R, <b>16</b>G and <b>16</b>B provided for the R, G and B channels, respectively.</p>
<p id="p-0086" num="0085">The video camera <b>1</b> also includes up converters <b>17</b>R, <b>17</b>G and <b>17</b>B provided for the R, G and B channels, respectively, a linear matrix circuit <b>18</b>, a kneeing circuit <b>19</b>, an image enhancer <b>20</b>, edge correction addition circuits <b>21</b>R, <b>21</b>G and <b>21</b>B provided for the R, G and B channels, respectively, a gamma correction circuit <b>22</b>, clipping circuits <b>23</b>R, <b>23</b>G and <b>23</b>B provided for the R, G and B channels, respectively, and a signaling system changeover circuit <b>24</b>.</p>
<p id="p-0087" num="0086">Once the video camera <b>1</b> is put into action, light from an object is incident upon the pickup lens <b>11</b>. The incident light is separated by the color separation prism <b>12</b> into three primary colors R, G and B. The color separation prism <b>12</b> has accurately fixed thereto the CDDs <b>13</b>R, <b>13</b>G and <b>13</b>B corresponding to the primary colors R, G and B. The primary lights R, G and B separated by the color separation prism <b>12</b> are incident upon the CCDs <b>13</b>R, <b>13</b>G and <b>13</b>B, respectively. Signals outputs from the CCDs <b>13</b>R, <b>13</b>G and <b>13</b>B, indicating the primary colors R, G and B, respectively, are supplied to the CDS circuits <b>14</b>R, <b>14</b>G and <b>14</b>B where the respective signals R, G and B will subjected to the correlated double sampling to generate analog video signals, respectively. The analog video signals are supplied to the analog signal processing circuits <b>15</b>R, <b>15</b>G and <b>15</b>B, respectively, where they will be amplified to a predetermined signal level and subjected to various analog signal processing including black-and-white (B/W) balancing, B/W shading, flare correction, etc. The analog video signal outputs from the analog signal processing circuits <b>15</b>R, <b>15</b>G and <b>15</b>B are supplied to the A/D converters <b>16</b>R, <b>16</b>G and <b>16</b>B, respectively, where the analog video signals will be sampled at a predetermined rate and converted into digital video signals, respectively. The digital video signal outputs from the A/D converters <b>16</b>R, <b>16</b>G and <b>16</b>B are supp/lied to the up converters <b>17</b>R, <b>17</b>G and <b>17</b>B and image enhancer <b>20</b>.</p>
<p id="p-0088" num="0087">Each of the up converters <b>17</b>R, <b>17</b>G and <b>17</b>B includes a zero insertion circuit and interpolating filter to raise the sampling rate for digital video signals and re-sample the digital video signals in order to prevent a return noise from taking place in a nonlinear processing which will be described in detail later. The digital video signal outputs from the up converters <b>17</b>R, <b>17</b>G and <b>17</b>B are supplied to the linear matrix circuit <b>18</b>.</p>
<p id="p-0089" num="0088">The linear matrix circuit <b>18</b> makes color correction of the video signals to correct color reproduction error caused by the fact that the imaging characteristic of the CCD is different from the ideal one. The video signal outputs from the linear matrix circuit <b>18</b> are supplied to the kneeing circuit <b>19</b>.</p>
<p id="p-0090" num="0089">The kneeing circuit <b>19</b> makes gradation compression of high-luminance portions of the video signals according to a predetermined kneeing characteristic. The video signal outputs from the kneeing circuit <b>19</b> are supplied to the addition circuits <b>21</b>R, <b>21</b>G and <b>21</b>B.</p>
<p id="p-0091" num="0090">The image enhancer <b>20</b> extracts high frequency components from the video signals and multiplies the high frequency components by a gain coefficient to thereby produce edge-enhancement signals for enhancing the edges of the video signals. The edge-enhancement signal outputs from the image enhancer <b>20</b> are supplied to the addition circuits <b>21</b>R, <b>21</b>G and <b>21</b>B.</p>
<p id="p-0092" num="0091">The addition circuits <b>21</b>R, <b>21</b>G and <b>21</b>B are provided to add edge-enhancement signals to the video signals to shape the waveforms of the video signal edges. The video signals having the waveforms thereof thus shaped by the addition circuits <b>21</b>R, <b>21</b>G and <b>21</b>B are supplied to the gamma correction circuit <b>22</b> where the video signals will be subjected to gamma correction. The video signal outputs from the gamma correction circuit <b>22</b> are supplied to the clipping circuits <b>23</b>R, <b>23</b>G and <b>23</b>B. The clipping circuits <b>23</b>R, <b>23</b>G and <b>23</b>B clip the signals whose levels are over the standard television video signal level. The video signal outputs from the clipping circuits <b>23</b>R, <b>23</b>G and <b>23</b>B are supplied to the signaling system changeover circuit <b>24</b>. The signaling system changeover circuit <b>24</b> converts the video signals into ones necessary for the system configuration of the video camera <b>1</b>, such as NTSC- or PAL-based analog composite video signal, analog component video signals such as Y (luminance) signal, R-Y signal and B-Y signal, serial digital video data or the like.</p>
<p id="p-0093" num="0092">(Image Enhancer)</p>
<p id="p-0094" num="0093">Next, the image enhancer <b>20</b> will be described below with reference to <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0095" num="0094">As shown, the image enhancer <b>20</b> includes three vertical filters <b>31</b>R, <b>31</b>G and <b>31</b>B provided for the R, G and B channels, respectively, horizontal-component up converters <b>31</b>R, <b>32</b>G and <b>32</b>B provided for the R, G and B channels, respectively, vertical-component up converters <b>33</b>R, <b>33</b>G and <b>33</b>B provided for the R, G and B channels, respectively, a horizontal-component R/G/B mixing circuit <b>34</b>, a vertical-component R/G/B mixing circuit <b>35</b>, horizontal edge enhancement signal generation circuit <b>36</b>, a vertical edge enhancement signal generation circuit <b>37</b>, an addition circuit <b>38</b>, and a gain control circuit <b>39</b>.</p>
<p id="p-0096" num="0095">The digital video signals on the R, G and B channels branched from the A/D converters <b>16</b>R, <b>16</b>G and <b>16</b>B are supplied to the vertical filters <b>31</b>R, <b>31</b>G and <b>31</b>B, respectively, of the image enhancer <b>20</b>. That is, the digital video signal on the R, G and B channels branched from the A/D converter <b>16</b>R is supplied to the R-channel vertical filter <b>31</b>R, the digital video signal on the G channel branched from the A/D converter <b>16</b>G is supplied to the G-channel vertical filter <b>31</b>G, and the digital video signal on the B channel branched from the A/D converter <b>16</b>B is supplied to the B-channel vertical filter <b>31</b>B.</p>
<p id="p-0097" num="0096">As shown, the R-channel vertical filter <b>31</b>R includes a first <b>1</b>H delay circuit <b>41</b>R, second <b>1</b>H delay circuit <b>42</b>R, vertical lowpass filter (vertical LPF) <b>43</b>R, and a vertical highpass filter (vertical HPF) <b>44</b>R. The first <b>1</b>H delay circuit <b>41</b>R delays the R component one horizontal sync period (<b>1</b>H), the second <b>1</b>H delay circuit <b>42</b>R is supplied with the R component having been delayed the one horizontal sync period (<b>1</b>H) by the first <b>1</b>H delay circuit <b>41</b>R, and will delay the R component a further horizontal sync period (<b>1</b>H). Namely, the second <b>1</b>H delay circuit <b>42</b>R outputs the R component delayed a total of two horizontal sync periods (<b>2</b>H). The vertical LPF <b>43</b>R and vertical HPF <b>44</b>R supplied with an R component not delayed (<b>0</b>H delay), R component delayed one horizontal sync period (<b>1</b>H) and an R component delayed two horizontal sync periods (<b>2</b>H). The vertical LPF <b>43</b>R makes vertical lowpass filtering of the R components based on the R components having the <b>0</b>H delay, <b>1</b>H delay and <b>2</b>H delay, respectively, to extract vertical low-frequency components from the R components. The vertical HPF <b>44</b>R makes vertical highpass filtering of the R components based on the R components having the <b>0</b>H delay, <b>1</b>H delay and <b>2</b>H delay, respectively, to extract vertical high-frequency components from the R components. That is, since the edge of a picture appears as high frequency components of the video signals, the vertical LPF <b>43</b>R will cut off vertical edge components from the video signals, while the vertical HPF <b>44</b>R will extract vertical edge components from the video signals. The R component output from the vertical LPF <b>43</b>R is supplied to the R-channel horizontal-component up converter <b>32</b>R, while the R component output from the vertical HPF <b>44</b>R is supplied to the R-channel vertical-component up converter <b>33</b>R.</p>
<p id="p-0098" num="0097">To process data synchronously with the up converter <b>17</b>R provided in a main video signal path, the horizontal-component up converter <b>32</b>R make up-conversion of the sampling frequency for the R component similarly to the up converter <b>17</b>R. Similarly, the vertical-component up converter <b>33</b>R makes up-conversion of the sampling frequency of the R component.</p>
<p id="p-0099" num="0098">Note that the G-channel vertical filter <b>31</b>G and B-channel vertical filter <b>31</b>B are constructed similarly to the R-channel vertical filter <b>31</b>R and thus will not be described any more. Also, since the G- and B-channel horizontal-component up converters <b>32</b>G and <b>32</b>B and G- and B-channel vertical-component up converters <b>33</b>G and <b>33</b>B are constructed similarly to the R-channel up converter and thus will not be described any further.</p>
<p id="p-0100" num="0099">The horizontal-component R/G/B mixing circuit <b>34</b> is supplied, from the R-, G- and B-channel horizontal-component up converters <b>32</b>R, <b>32</b>G and <b>32</b>B, with R-, G- and B-component video signals having the vertical high-frequency components cut off therefrom. The horizontal-component R/G/B mixing circuit <b>34</b> mixes the R, G and B components at a predetermined mixing ratio to generate a luminance component. That is, the horizontal-component R/G/B mixing circuit <b>34</b> outputs a luminance signal having vertical high-frequency components cut off therefrom. The luminance signal from which the vertical high-frequency components have been cut off is supplied to the horizontal edge enhancement signal generation circuit <b>36</b>.</p>
<p id="p-0101" num="0100">The vertical-component R/G/B mixing circuit <b>35</b> is supplied, from the R-, G- and B-channel vertical-component up converters <b>33</b>R, <b>33</b>G and <b>33</b>B, with R-, G- and B-component video signals indicative of the extracted vertical high-frequency components. The vertical-component R/G/B mixing circuit <b>35</b> mixes the R, G and B components at a predetermined mixing ratio to generate a luminance component. That is, the vertical-component R/G/B mixing circuit <b>35</b> outputs a luminance signal indicative of the extracted vertical high-frequency components. The luminance signal indicative of the extracted vertical high-frequency components is supplied to the vertical edge enhancement signal generation circuit <b>37</b>.</p>
<p id="p-0102" num="0101">As shown, the horizontal edge enhancement signal generation circuit <b>36</b> includes a horizontal bandpass filter (BPF) <b>51</b>, rise/fall detection circuit <b>52</b>, waveform balancer <b>53</b>, gain control circuit <b>54</b> and a level limiter <b>55</b>.</p>
<p id="p-0103" num="0102">The luminance signal output from the horizontal-component R/G/B mixing circuit <b>34</b> is supplied to the horizontal BPF <b>51</b> and rise/fall detection circuit <b>52</b> of the horizontal edge enhancement signal generation circuit <b>36</b>.</p>
<p id="p-0104" num="0103">The horizontal BPF <b>51</b> makes bandpass filtering of the luminance signal having vertically been lowpass-filtered to extract horizontal high-frequency components from the luminance signal. That is, the horizontal BPF <b>51</b> will output a signal indicative of only the extracted horizontal high-frequency components, namely, a signal indicative of the horizontal edge components.</p>
<p id="p-0105" num="0104">The rise/fall detection circuit <b>52</b> detects whether the supplied luminance signal rises or falls, namely, whether the luminance signal has increased or decreased. At this time, the rise/fall detection circuit <b>52</b> is adjusted in sensitivity to increase and decrease of a luminance signal not to detect any rise or fall of the luminance signal having been increased or decreased only slightly and of a luminance signal having a high frequency-caused variation of the rise and fall. The rise/fall detection circuit <b>52</b> outputs a rise signal whose level is high (H) when the luminance signal rises, and a fall signal whose level is high (H) when the luminance signal is falls. It should be noted that the rise/fall detection circuit <b>52</b> outputs a rise signal and fall signal both being low (L) when the luminance signal neither rises nor falls, namely, when the level of the luminance signal is flat or the increasing and decreasing of the luminance signal are varied due to a high frequency.</p>
<p id="p-0106" num="0105">Note that the configuration of the rise/fall detection circuit <b>52</b> will be described in detail later.</p>
<p id="p-0107" num="0106">The waveform balancer <b>53</b> multiplies the horizontal edge component output from the horizontal BPF <b>51</b> by a predetermined gain coefficient to shape the waveform. At this time, an absolute value of the gain coefficient by which the horizontal edge components are multiplied is selectively controlled depending upon whether the condition is either of the following ones (1) and (2):</p>
<p id="p-0108" num="0107">(1) The horizontal component of the luminance signal rises or falls, or it neither rises nor falls.</p>
<p id="p-0109" num="0108">(2) The signal level of the horizontal edge component is positive (white) or negative (black).</p>
<p id="p-0110" num="0109">More specifically, the waveform balancer <b>53</b> determines the states of the rise and fall signals from the rise/fall detection circuit <b>52</b> and whether the signal level of the horizontal edge component is positive or negative to switch the gain coefficient magnitude from one to another.</p>
<p id="p-0111" num="0110">The edge component shaped in waveform by the waveform balancer <b>53</b> as above is supplied to a gain control circuit <b>54</b>. It should be noted that an example circuit configuration of the waveform balancer <b>53</b> and examples of the gain will be described in detail later.</p>
<p id="p-0112" num="0111">The gain control circuit <b>54</b> multiplies the horizontal edge component by a predetermined gain control coefficient to adjust the extent of the horizontal edge enhancement. The output from the gain control circuit <b>54</b> is supplied to the level limiter <b>55</b>. The level limiter <b>55</b> limits the signal level of a part of the edge component from the gain control circuit <b>54</b>, which exceeds a predetermined signal level, to output a final horizontal edge enhancement signal.</p>
<p id="p-0113" num="0112">The vertical edge enhancement signal generation circuit <b>37</b> includes a horizontal lowpass filter (LPF) <b>56</b>, gain control circuit <b>57</b> and a level limiter <b>58</b>.</p>
<p id="p-0114" num="0113">The luminance signal output from the vertical-component R/G/B mixing circuit <b>35</b> is supplied to the horizontal LPF <b>56</b> where a horizontal low-frequency component will be extracted from the luminance signal. That is, the horizontal LPG <b>56</b> will output an edge component indicative of only a vertical edge. The vertical edge component output from the horizontal LPF <b>56</b> is supplied to the gain control circuit <b>57</b>. The gain control circuit <b>57</b> multiplies the extracted vertical edge component by a predetermined gain control coefficient to adjust the extent of the vertical edge enhancement. The output from the gain control circuit <b>57</b> is supplied to the level limiter <b>58</b>. The level limiter <b>58</b> limits a part of the vertical edge component, which exceeds a predetermined signal level, and outputs a final vertical edge enhancement signal.</p>
<p id="p-0115" num="0114">The horizontal and vertical edge enhancement signals thus generated are supplied to the addition circuit <b>38</b> and gain control circuit <b>39</b>.</p>
<p id="p-0116" num="0115">The addition circuit <b>38</b> adds the horizontal and vertical edge enhancement signals together to mix the horizontal and vertical directions, and the gain control circuit <b>39</b> makes a final gain control of the edge-enhancement signals whose horizontal and vertical directions have thus been mixed to output a final edge-enhancement signal.</p>
<p id="p-0117" num="0116">The edge-enhancement signal generated by the image enhancer <b>20</b> as above is added to a main video signal. The video signal having such an edge-enhancement signal added thereto becomes an edge-enhanced picture well defining the edge of an object.</p>
<p id="p-0118" num="0117">(Waveform Balancer)</p>
<p id="p-0119" num="0118">Next, the waveform balancer <b>53</b> will be described in further detail below:</p>
<p id="p-0120" num="0119">The waveform balancer <b>53</b> shapes the waveform of the horizontal edge component output from the horizontal BPF <b>51</b> by multiplying it by a predetermined gain coefficient. At this time, the magnitude of the gain coefficient by which the horizontal edge component is multiplied is selectively controlled depending upon whether the condition is either of the above ones (1) and (2).</p>
<p id="p-0121" num="0120">That is, the gain coefficient magnitude is selectively controlled depending upon whether the condition is either of the following ones:</p>
<p id="p-0122" num="0121">(1) The horizontal component of the luminance signal rises or falls, or it neither rises nor falls.</p>
<p id="p-0123" num="0122">(2) The signal level of the horizontal edge component is positive (white) or negative (black).</p>
<p id="p-0124" num="0123">The waveform balancer <b>53</b> controls the gain coefficient by which the horizontal edge component is multiplied is selectively controlled depending upon whether the condition is either of the above ones (1) and (2). Depending upon whether the condition is either of the ones, it sets a gain for an opposite characteristic to a stepwise response distortion characteristic of the analog signal processing circuit <b>15</b>.</p>
<p id="p-0125" num="0124">For the opposite characteristic to the stepwise response distortion characteristic of the analog signal processing circuit <b>15</b>, each gain is set as follows:</p>
<p id="p-0126" num="0125">When the horizontal component of the luminance signal rises and the signal level of the horizontal edge component is positive (white), there will be set a gain coefficient larger than a predetermined value (“1”, for example) (will be referred to as “rise/white-side gain” hereunder).</p>
<p id="p-0127" num="0126">When the horizontal component of the luminance signal rises and the signal level of the horizontal edge component is negative (black), there will be set a gain coefficient equal to or smaller than a predetermined value (“1”, for example) (will be referred to as “rise/black-side gain” hereunder).</p>
<p id="p-0128" num="0127">When the horizontal component of the luminance signal falls and the signal level of the horizontal edge component is positive (white), there will be set a gain coefficient equal to or smaller than a predetermined value (“1”, for example) (will be referred to as “fall/white-side gain” hereunder).</p>
<p id="p-0129" num="0128">When the horizontal component of the luminance signal falls and the signal level of the horizontal edge component is negative (black), there will be set a gain coefficient larger than a predetermined value (“1”, for example) (will be referred to as “fall/black-side gain” hereunder).</p>
<p id="p-0130" num="0129">When the horizontal component of the luminance signal neither rises nor falls, there will be set a gain coefficient of a predetermined value (“1”, for example).</p>
<p id="p-0131" num="0130">The circuit configuration of the waveform balancer <b>53</b> capable of such a gain coefficient setting will be described in detail below with reference to <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0132" num="0131">The waveform balancer <b>53</b> shown in <figref idref="DRAWINGS">FIG. 6</figref> includes an encoder <b>61</b>, first to fourth selectors <b>62</b> to <b>65</b>, EX-OR (exclusive-OR) circuit <b>66</b> and a multiplier <b>67</b>.</p>
<p id="p-0133" num="0132">The encoder <b>61</b> discriminates between signs (positive/negative) of the horizontal edge component output from the horizontal BPF <b>51</b>. When the sign is “plus (positive)”, the encoder <b>61</b> will provide a “high (H)” output. Alternatively, when the sign is “minus (negative)”, the encoder <b>61</b> will provide a “low (L)” output.</p>
<p id="p-0134" num="0133">The first selector <b>62</b> selectively outputs a rise/white-side gain or a rise/black-side gain depending upon the output from the encoder <b>61</b>. When the output from the encoder <b>61</b> is “H”, the first selector <b>62</b> will select and output the rise/white-side gain. When the output from the encoder <b>61</b> is “L”, the first selector <b>62</b> will select and output the rise/black-side gain.</p>
<p id="p-0135" num="0134">The second selector <b>63</b> selectively outputs a fall/white-side gain or a fall/black-side gain depending upon the output from the encoder <b>61</b>. When the output from the encoder <b>61</b> is “H”, the second selector <b>63</b> will select and output the fall/white-side gain. When the output from the encoder <b>61</b> is “L”, the second selector <b>63</b> will select and output the fall/black-side gain.</p>
<p id="p-0136" num="0135">The third selector <b>64</b> selectively outputs an output from the first selector <b>62</b> or an output from the second selector <b>63</b> depending upon a rise signal output from the rise/fall detection circuit <b>52</b>. When the rise signal is “H”, namely, when the horizontal component of the luminance signal is rising, the third selector <b>64</b> will select and output the output from the first selector <b>62</b>. When the rise signal is “L”, namely, when the horizontal component of the luminance signal is in any other state than the rising, the third selector <b>64</b> will select and output the output from the second selector <b>63</b>.</p>
<p id="p-0137" num="0136">The EX-OR circuit <b>66</b> will provide an “H” output when both the rise and fall signals are “H” or “L”. When any one of the rise and fall signals is “H”, the EX-OR circuit <b>66</b> will provide an “L” output.</p>
<p id="p-0138" num="0137">The fourth selector <b>65</b> selectively outputs a gain coefficient as large as the predetermined value or an output from the third selector <b>64</b> depending upon all output from the EX-OR circuit <b>66</b>. When the output from the EX-OR circuit <b>66</b> is “H”, namely, when both the rise and fall signals are “H” or “L”, the fourth selector <b>65</b> will select and output a gain coefficient as large as the predetermined value. When the output from the EX-OR circuit <b>66</b> is “L”, namely, when only either the rise or fall signal is “H”, the fourth selector <b>65</b> will select and output the output from the third selector <b>64</b>.</p>
<p id="p-0139" num="0138">The multiplier <b>67</b> multiplies the horizontal edge component output from the horizontal BPF <b>51</b> and gain coefficient output from the fourth selector <b>65</b> to shape the waveform.</p>
<p id="p-0140" num="0139">The waveform balancer <b>53</b> constructed as above works effectively as will be described below with reference to <figref idref="DRAWINGS">FIGS. 7A to 7G</figref>.</p>
<p id="p-0141" num="0140">Assume here that a video signal whose horizontal component appears as a rectangular waveform as shown in <figref idref="DRAWINGS">FIG. 7A</figref> is supplied to the video camera <b>1</b>. In this case, the video signal is digitized to have the waveform thereof distorted due to the analog signal processing as shown in <figref idref="DRAWINGS">FIG. 7B</figref> for example. As shown, when the signal rises, it is initially distorted largely and then the distortion is smaller and smaller. Also, when the signal falls, it is initially distorted largely and then the distortion is smaller and smaller.</p>
<p id="p-0142" num="0141">By extracting a high frequency component from the signal distorted as above to extract a horizontal edge component, a signal of one wavelength, overshooting and undershooting as shown in <figref idref="DRAWINGS">FIG. 7C</figref>, will appear at both rising and falling. At this time, the extracted edge component will have a signal level higher at the negative side than at the positive side at the leading edge and a signal level higher at the positive side than the negative side at the trailing edge.</p>
<p id="p-0143" num="0142">Assume here that the horizontal edge component is added to the original video signal, the distortion of the input waveform will further be enhanced as shown in <figref idref="DRAWINGS">FIG. 7D</figref>.</p>
<p id="p-0144" num="0143">That is to say, the undershooting is larger than the overshooting at the rising side while the overshooting is larger than the undershooting at the falling side, resulting in an ill-balanced signal.</p>
<p id="p-0145" num="0144">To avoid the above, the waveform balancer <b>53</b> multiplies the edge component by a gain coefficient smaller than the predetermined value “1” when the horizontal edge component is at the black side at the time of rising of the video signal while multiplying it by a gain coefficient larger than the predetermined value “1” when the horizontal edge component is at the white side at the time of rising of the video signal. On the other hand, the waveform balancer <b>53</b> multiplies the edge component by a gain coefficient larger than the predetermined value “1” when the horizontal edge component is at the black side at the time of falling of the video signal while multiplying the edge component by a gain coefficient smaller than the predetermined value “1” when the horizontal edge component is at the white side at the time of falling of the video signal.</p>
<p id="p-0146" num="0145">By selecting a gain coefficient as above, the horizontal edge component as shown in <figref idref="DRAWINGS">FIG. 7C</figref> is shaped to have an opposite waveform to that of the original horizontal edge component as shown in <figref idref="DRAWINGS">FIG. 7E</figref>. By adding to the horizontal edge component to the original video signal, the waveform distortion will be corrected as shown in <figref idref="DRAWINGS">FIG. 7F</figref>.</p>
<p id="p-0147" num="0146">By shaping the waveform of the horizontal edge component by the waveform balancer <b>53</b> as above, it is possible to correct any waveform distortion due to the analog signal processing in the analog circuit. It should be noted that the gain coefficient is changed in value depending upon whether the signal level of the horizontal edge component is positive or negative as in the foregoing but the gain coefficient selection may not be done taking the zero level as a threshold. Also, a plurality of thresholds for the signal level of the horizontal edge component may be set and the magnitude of the gain coefficient may be changed gradually according to the signal level of each horizontal edge component.</p>
<p id="p-0148" num="0147">Note that depending upon the characteristic of the analog signal processing circuit, the video signal whose horizontal component appears as a rectangular waveform as shown in <figref idref="DRAWINGS">FIG. 7A</figref> is digitized to have the waveform thereof distorted due to the analog signal processing as shown in <figref idref="DRAWINGS">FIG. 7G</figref> for example in some cases. More particularly, when the signal rises, it is initially distorted largely and then the distortion is smaller and smaller. Also, when the signal falls, it is initially distorted largely and then the distortion is smaller and smaller. In such a case, the gain coefficient by which the edge component is multiplied at the white side should be swapped with that at the black side. Namely, the horizontal edge component should be multiplied by a gain coefficient larger than the predetermined value “1” by the waveform balancer <b>53</b> when it is at the black side at the time of rising of the video signal, while it be multiplied by a gain coefficient smaller than the predetermined value “1” when it is at the white side at the time of rising of the video signal. On the other hand, the horizontal edge component should be multiplied by a gain coefficient smaller than the predetermined value “1” by the waveform balancer <b>43</b> when it is at the black side at the time of falling of the video signal, while it be multiplied by a gain coefficient larger than the predetermined value “1” when it is at the white side at the time of falling of the video signal.</p>
<p id="p-0149" num="0148">(Rise/fall Detection Circuit)</p>
<p id="p-0150" num="0149">Next, the rise/fall detection circuit <b>52</b> will be described. It should be noted that the rise/fall detecting method is known from the disclosure in the U.S. Pat. Nos. 6,043,853 and 5,638,134, Japanese Unexampled Patent Application No. 317253 of 1996, etc.</p>
<p id="p-0151" num="0150">Referring now to <figref idref="DRAWINGS">FIG. 8</figref>, the rise/fall detection circuit <b>52</b> is illustrated in the form of a block diagram.</p>
<p id="p-0152" num="0151">As shown, the rise/fall detection circuit <b>52</b> includes a horizontal lowpass filter (LPF) <b>71</b>, first delay element <b>72</b>, second delay element <b>73</b>, maximum value selection circuit <b>74</b>, third dely element <b>75</b>, subtraction circuit <b>76</b>, inversion circuit <b>77</b>, first comparison circuit <b>78</b>, second comparison circuit <b>79</b>, first widening circuit <b>80</b> and a second widening circuit <b>81</b>.</p>
<p id="p-0153" num="0152">The horizontal LPF <b>71</b> is supplied with a luminance signal output from the horizontal component R/G/B mixing circuit <b>34</b>, and cuts off a high frequency component from the luminance signal. The horizontal LPF <b>71</b> should preferably include a set of filter coefficients including no negative ones. If any negative filter coefficient is included, rigging will take place which will possibly cause a false detection. Also, the horizontal LPF <b>71</b> should preferably have a wide rejection band but since too large a number of taps will lead to an increased circuit scale, the number of filter coefficients in the set is taken herein as (1, 2, 3, 4, 4, 4, 4, 4, 3, 2, 1)/32, for example. In this case, a zero point will be placed at ⅛ of the sampling frequency, and the lowpass filter <b>71</b> will have such a characteristic that a frequency higher than the one eighth is the rejection band.</p>
<p id="p-0154" num="0153">The first delay element <b>72</b> delays the signal output from the horizontal LPF <b>71</b> one unit time. The unit time refers herein to one clock in the digital signal processing. The second delay element <b>73</b> delays, a further unit time, the signal having been delayed by the first delay element <b>72</b>. The maximum value selection circuit <b>74</b> compares the non-delayed signal from the horizontal LPF <b>71</b>, the signal supplied from the first delay element <b>72</b> and having been delayed one unit time and the signal supplied from the second delay element <b>73</b> and having been delayed two unit times to select a maximum value. Noise component is further reduced from the signal through this selection of the maximum value. It should be noted the two delay elements are referred to above but any number of delay elements may be used. The output from the maximum value selection circuit <b>74</b> is supplied to the third delay element <b>75</b> and subtraction circuit <b>76</b>.</p>
<p id="p-0155" num="0154">The third delay element <b>75</b> delays the output from the maximum value selection circuit <b>74</b> a number k (a positive integer) of unit times. The subtraction circuit <b>76</b> subtracts the signal supplied from the third delay circuit <b>75</b> and having been delayed the number k of unit times from the signal output from the maximum value selection circuit <b>74</b>. The result of subtraction is supplied to the first and second comparison circuits <b>78</b> and <b>79</b>.</p>
<p id="p-0156" num="0155">The inversion circuit <b>77</b> multiplies a preset sensitivity setting luminance level by −1 and outputs a sign-inverted value of the sensitivity setting luminance level.</p>
<p id="p-0157" num="0156">The first comparison circuit <b>78</b> compares the preset sensitivity setting luminance level and the supplied result of subtraction. When the result of comparison shows that the result of subtraction is larger than the sensitivity setting luminance level, the first comparison circuit <b>78</b> will output a pulse signal whose level is “H”. The pulse signal output from the first comparison circuit <b>78</b> is supplied to the first widening circuit <b>80</b>.</p>
<p id="p-0158" num="0157">The second comparison circuit <b>79</b> compares the sign-inverted signal of the sensitivity setting luminance level output from the inversion circuit <b>77</b> and the supplied result of subtraction. When the result of comparison shows that the result of subtraction is smaller than the sign-inverted signal of the sensitivity setting luminance level, the second comparison circuit <b>79</b> will output a pulse signal whose level is “H”. The pulse signal output from the second comparison circuit <b>79</b> is supplied to the second widening circuit <b>81</b>.</p>
<p id="p-0159" num="0158">The first and second widening circuits <b>80</b> and <b>81</b> widen the “H” portions of the supplied pulse signals along the time base. Thus, an output signal from the first widening circuit <b>80</b> is a rise signal, while an output signal from the second widening circuit <b>81</b> is a fall signal.</p>
<p id="p-0160" num="0159">Next, signal processing operations made in the rise/fall detection circuit <b>52</b> will be described in detail below with reference to waveform charts shown in <figref idref="DRAWINGS">FIGS. 9A to 9E</figref>. It should be noted that <figref idref="DRAWINGS">FIGS. 9A to 9E</figref> show signal waveforms detected at various points in the rise/fall detection circuit <b>52</b> but the same time base is used for the waveforms with the group delay caused in the digital signal processing being considered to include no time. <figref idref="DRAWINGS">FIG. 9A</figref> shows a waveform at a point X<b>1</b> in <figref idref="DRAWINGS">FIG. 8</figref>, <figref idref="DRAWINGS">FIG. 9B</figref> shows a waveform at a point X<b>2</b> in <figref idref="DRAWINGS">FIG. 8</figref>, <figref idref="DRAWINGS">FIG. 9C</figref> shows a waveform at a point X<b>3</b> in <figref idref="DRAWINGS">FIG. 8</figref>, <figref idref="DRAWINGS">FIG. 9D</figref> shows a waveform at a point X<b>4</b> in <figref idref="DRAWINGS">FIG. 8</figref>, and <figref idref="DRAWINGS">FIG. 9E</figref> shows a waveform at a point X<b>5</b> in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0161" num="0160">First it is assumed that the rise/fall detection circuit <b>52</b> is supplied with a step-like pulse waveform followed by a luminance signal having a pattern of small vertical stripes as shown in <figref idref="DRAWINGS">FIG. 9A</figref>.</p>
<p id="p-0162" num="0161">The luminance signal has the high frequency and noise components thereof attenuated by the horizontal LPF <b>71</b> and maximum value selection circuit <b>74</b> to have a signal waveform as shown in <figref idref="DRAWINGS">FIG. 9B</figref>.</p>
<p id="p-0163" num="0162">The above signal is supplied to the subtraction circuit <b>76</b> where the signal point delayed a number k of clocks by the third delay element <b>75</b> is subtracted from a point being currently in consideration (output from the maximum value selection circuit <b>74</b>) to generate a signal indicative of an increase (or decrease) of the luminance level as shown in <figref idref="DRAWINGS">FIG. 9C</figref>. That is, the signal has a waveform which will be positive when the original luminance signal rises while being negative when the original luminance signal is falls.</p>
<p id="p-0164" num="0163">Note that in order to prevent any erroneous detection due to the noise component, a difference from a signal preceding the number k of clocks is detected without detecting any increase (or decrease) by computation of a difference from a signal preceding one clock. The number k is set to about 12 for example when it is intended to drive a CCD having 500,000 pixels (having 960 horizontal effective-picture pixels and 483 vertical effective-picture pixels) with a horizontal frequency of 18 MHz and process signals from the CCD with a frequency doubled by up-conversion (36 MHz). The number k should desirably be somehow variable since it varies depending upon the number of CCD pixels and processing frequency.</p>
<p id="p-0165" num="0164">The first comparison circuit <b>78</b> compares the output from the addition circuit <b>76</b> with the sensitivity setting luminance level and digitizes the result of comparison to generate a pulse signal whose level is “H” when the luminance signal rises. The sensitivity setting luminance level is set to a value for no noise-caused erroneous detection. The pulse signal output from the first comparison circuit <b>78</b> is increased in “H” duration by the first widening circuit <b>80</b> and provided as a rise signal as shown in <figref idref="DRAWINGS">FIG. 9D</figref>.</p>
<p id="p-0166" num="0165">The second comparison circuit <b>79</b> compares the output from the addition circuit <b>76</b> with an inverted value of the sensitivity setting luminance level and digitizes the result of comparison to generate a pulse signal whose level is “H” when the luminance signal rises. The pulse signal output from the second comparison circuit <b>79</b> is increased in “H” duration by the second widening circuit <b>81</b> and provided as a rise signal as shown in <figref idref="DRAWINGS">FIG. 9E</figref>.</p>
<p id="p-0167" num="0166">In the video camera <b>1</b>, the first embodiment of the present invention, a horizontal high frequency component is extracted from a video signal, multiplied by a gain coefficient. The gain coefficient by which the edge enhancement signal to be generated is to be multiplied is varied according to the signal level of the extracted horizontal high frequency component of the video signal and also to leading and trailing edges of the video signal.</p>
<p id="p-0168" num="0167">For example, the gain coefficient is made larger than “1” when the signal level of the extracted high frequency signal at the leading edge of the video signal is positive, while it is made equal to or smaller than “1” when the signal level of the high frequency component at the leading edge of the video signal is negative. Also, the gain coefficient is made equal to or smaller than “1” when the signal level of the high frequency component at the trailing edge of the video signal is positive while it is made larger than “1” when the signal level of the high frequency component at the trailing edge of the video signal is negative.</p>
<p id="p-0169" num="0168">In the video camera <b>1</b>, the first embodiment of the present invention, the edge component of an image can be enhanced by a small-scale circuit configuration while correcting a horizontal waveform distortion of the video signal due to the signal processing in any analog circuit or the like.</p>
<heading id="h-0007" level="1">SECOND EMBODIMENT</heading>
<p id="p-0170" num="0169">Next, the second embodiment of the video camera according to the present invention will be described.</p>
<p id="p-0171" num="0170">To correct a waveform distortion due to a signal processing in an analog circuit in the first embodiment, an edge enhancement signal is multiplied by a gain to invert the waveform distortion. However, since the waveform shaping is a nonlinear processing, a harmonic component an integral multiple of times higher than a frequency component of the waveform-shaped signal takes place, possibly causing a return noise. Such a return noise will remarkably develop when a picture having a pattern of small stripes is nonlinearly processed. Thus, waveform shaping of an edge enhancement signal in case a picture has a pattern of small stripes in a duration L as in <figref idref="DRAWINGS">FIG. 9A</figref> for example will cause a return noise-caused distortion to be rather remarkable than when a waveform distortion due to a signal processing in an analog circuit is corrected. The distortion of a picture having such a pattern of small stripes due to an imbalance between the rise and fall of the waveform is not remarkable as compared with a video signal like a square wave. Accordingly, in the second embodiment of the video camera according to the present invention, an edge enhancement signal is shaped in waveform only when a video signal appears as a step-like waveform while a portion of the video signal having a pattern of small stripes is not subjected to the waveform shaping. It should be noted that the second embodiment is similar to the first one except for the image enhancer and so any general description thereof will not be given below. Also, it should be noted that in the description of the second embodiment of the video camera, the same circuits as those in the first embodiment will be indicated with the same references as in the first embodiment and will not be described in detail.</p>
<p id="p-0172" num="0171">(Image Enhancer)</p>
<p id="p-0173" num="0172">Referring now to <figref idref="DRAWINGS">FIG. 10</figref>, there is illustrated in the form of a block diagram the image enhancer used in the second embodiment of the video camera according to the present invention. The image enhancer is generally indicated with a reference <b>101</b>.</p>
<p id="p-0174" num="0173">As shown, the image enhancer <b>101</b> includes three vertical filters <b>31</b>R, <b>31</b>G and <b>31</b>B provided for the R, G and B channels, respectively, horizontal-component up converters <b>31</b>R, <b>32</b>G and <b>32</b>B provided for the R, G and B channels, respectively, vertical-component up converters <b>33</b>R, <b>33</b>G and <b>33</b>B provided for the R, G and B channels, respectively, a horizontal-component R/G/B mixing circuit <b>34</b>, a vertical-component R/G/B mixing circuit <b>35</b>, horizontal edge enhancement signal generation circuit <b>102</b>, a vertical edge enhancement signal generation circuit <b>37</b>, an addition circuit <b>38</b>, and a gain control circuit <b>39</b>.</p>
<p id="p-0175" num="0174">The horizontal R/G/B mixing circuit <b>34</b> supplies the luminance signal having a vertical high frequency component thereof cut off to the horizontal-component edge enhancement signal generation circuit <b>102</b>.</p>
<p id="p-0176" num="0175">As shown, the horizontal edge enhancement signal generation circuit <b>102</b> includes a horizontal bandpass filter (BPF) <b>51</b>, edge detection circuit <b>103</b>, rise detection circuit <b>104</b>, waveform balancer <b>105</b>, gain control circuit <b>54</b> and a level limiter <b>55</b>.</p>
<p id="p-0177" num="0176">The luminance signal output from the horizontal-component R/G/B mixing circuit <b>34</b> is supplied to the horizontal BPF <b>51</b>, edge detection circuit <b>103</b> and rise detection circuit <b>104</b> of the horizontal edge enhancement signal generation circuit <b>102</b>.</p>
<p id="p-0178" num="0177">The luminance signal output from the horizontal-component R/G/B mixing circuit <b>34</b> is supplied to the horizontal BPF <b>51</b>, edge detection circuit <b>103</b> and rise detection circuit <b>104</b> of the horizontal edge enhancement signal generation circuit <b>102</b>.</p>
<p id="p-0179" num="0178">The edge detection circuit <b>103</b> extracts a change point of the luminance signal. When the waveforms across the change point or waveforms before and after the change point are flat, the edge detection circuit <b>103</b> detects a predetermined range of the luminance signal including the change point as edges. Therefore, the edge detection circuit <b>103</b> detects, as edges, leading and trailing edges, indicated with M and N, respectively, of the step-like signal waveform as shown in <figref idref="DRAWINGS">FIG. 11</figref> while not detecting, as edges, other waveform portions such as a completely flat waveform, a waveform varying with a high frequency, for example. When the edge detection circuit <b>103</b> has detected edges of the luminance signal, it will output a pulse signal whose level is “H” to the rise detection circuit <b>104</b> and waveform balancer <b>105</b>. It should be noted that an example configuration of the edge detection circuit <b>103</b> will be described in detail later.</p>
<p id="p-0180" num="0179">The rise detection circuit <b>104</b> detects whether the supplied luminance signal rises or falls, namely, whether the luminance signal has increased. At this time, the rise detection circuit <b>104</b> is adjusted in sensitivity to increase of the luminance signal not to detect any rise of a luminance signal having been increased only slightly and of a luminance signal having a high frequency-caused variation of the rise and fall. The rise detection circuit <b>104</b> outputs a rise signal, whose level is high (H) when the luminance signal rises, to the waveform balancer <b>105</b>. It should be noted that an example configuration of the rise detection circuit <b>104</b> will be described in detail later.</p>
<p id="p-0181" num="0180">The waveform balancer <b>105</b> multiplies the horizontal edge component output from the horizontal BPF <b>51</b> by a predetermined gain coefficient to shape the waveform. At this time, the magnitude of the gain coefficient by which the horizontal edge components are multiplied is selectively controlled depending upon whether the condition is either of the following ones (1) and (2) as in the first embodiment:</p>
<p id="p-0182" num="0181">(1) The horizontal component of the luminance signal rises or falls, or it neither rises nor falls.</p>
<p id="p-0183" num="0182">(2) The signal level of the horizontal edge component is positive (white) or negative (black).</p>
<p id="p-0184" num="0183">More specifically, the waveform balancer <b>104</b> determines the states of the rise signal from the rise detection circuit <b>52</b> and edge signal from the edge detection circuit <b>103</b> and whether the signal level of the horizontal edge component is positive or negative as above to switch the gain coefficient magnitude from one to another.</p>
<p id="p-0185" num="0184">The edge component shaped in waveform by the waveform balancer <b>105</b> as above is supplied to a gain control circuit <b>54</b>. It should be noted that an example configuration of the waveform balancer <b>105</b> and examples of the gain will be described in detail later.</p>
<p id="p-0186" num="0185">The gain control circuit <b>54</b> multiplies the horizontal edge component by a predetermined gain control coefficient to adjust the extent of the horizontal edge enhancement. The output from the gain control circuit <b>54</b> is supplied to the level limiter <b>55</b>. The level limiter <b>55</b> limits the signal level of a part of the edge component from the gain control circuit <b>54</b>, which exceeds a predetermined signal level, to output a final horizontal edge enhancement signal.</p>
<p id="p-0187" num="0186">The edge-enhancement signal generated by the image enhancer <b>101</b> as above is added to a main video signal. The video signal having such an edge-enhancement signal added thereto becomes an edge-enhanced picture well defining the edge of an object.</p>
<p id="p-0188" num="0187">(Waveform Balancer)</p>
<p id="p-0189" num="0188">Next, the waveform balancer <b>105</b> will be described in further detail below:</p>
<p id="p-0190" num="0189">The waveform balancer <b>105</b> shapes the waveform of the horizontal edge component output from the horizontal BPF <b>51</b> by multiplying it by a predetermined gain coefficient. At this time, the magnitude of the gain coefficient by which the horizontal edge component is multiplied is selectively controlled depending upon whether the condition is either of the above ones (1) and (2) in the first embodiment.</p>
<p id="p-0191" num="0190">A concrete circuit configuration of the waveform balancer <b>105</b> is shown in <figref idref="DRAWINGS">FIG. 12</figref>.</p>
<p id="p-0192" num="0191">As shown, the waveform balancer <b>105</b> includes an encoder <b>61</b>, first to fourth selectors <b>62</b>, <b>63</b>, <b>64</b> and <b>111</b> and a multiplier <b>67</b>.</p>
<p id="p-0193" num="0192">The encoder <b>61</b> discriminates between signs (positive/negative) of the horizontal edge component output from the horizontal BPF <b>51</b>. When the sign is “plus (positive)”, the encoder <b>61</b> will provide a “high (H)” output. Alternatively, when the sign is “minus (negative)”, the encoder <b>61</b> will provide a “low (L)” output.</p>
<p id="p-0194" num="0193">The first selector <b>62</b> selectively outputs a rise/white-side gain or a rise/black-side gain depending upon the output from the encoder <b>61</b>. When the output from the encoder <b>61</b> is “H”, the first selector <b>62</b> will select and output the rise/white-side gain. When the output from the encoder <b>61</b> is “L”, the first selector <b>62</b> will select and output the rise/black-side gain.</p>
<p id="p-0195" num="0194">The second selector <b>63</b> selectively outputs a fall/white-side gain or a fall/black-side gain depending upon the output from the encoder <b>61</b>. When the output from the encoder <b>61</b> is “H”, the second selector <b>63</b> will select and output the fall/white-side gain. When the output from the encoder <b>61</b> is “L”, the second selector <b>63</b> will select and output the fall/black-side gain.</p>
<p id="p-0196" num="0195">The third selector <b>64</b> selectively outputs an output from the first selector <b>62</b> or an output from the second selector <b>63</b> depending upon a rise signal output from the rise detection circuit <b>104</b>. When the rise signal is “H”, namely, when the horizontal component of the luminance signal is rising, the third selector <b>64</b> will select and output the output from the first selector <b>62</b>. When the rise signal is “L”, namely, when the horizontal component of the luminance signal is in any other state than the rising, the third selector <b>64</b> will select and output the output from the second selector <b>63</b>.</p>
<p id="p-0197" num="0196">The fourth selector <b>111</b> selectively outputs a gain coefficient as large as the predetermined value or an output from the third selector <b>64</b> depending upon an the edge signal from the edge detection circuit <b>103</b>. When the output from the edge signal is “H”, namely, when the video signal having a step-like waveform is rising or falling, the fourth selector <b>111</b> will select and output the output from the third selector <b>64</b>. When the edge signal is “L”, the fourth selector <b>111</b> will select and output a gain coefficient as large as the predetermined value.</p>
<p id="p-0198" num="0197">The multiplier <b>67</b> multiplies the horizontal edge component output from the horizontal BPF <b>51</b> and gain coefficient output from the fourth selector <b>111</b> to shape the waveform.</p>
<p id="p-0199" num="0198">(Edge Detection Circuit)</p>
<p id="p-0200" num="0199">Next, the edge detection circuit <b>103</b> will be described.</p>
<p id="p-0201" num="0200"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram of the edge detection circuit <b>103</b>.</p>
<p id="p-0202" num="0201">As shown, the edge detection circuit <b>103</b> includes a horizontal bandpass filter (BPF) <b>121</b>, absolute value calculation circuit <b>122</b>, first and second delay elements <b>123</b> and <b>124</b>, first maximum value selection circuit <b>125</b>, first N-step shift register <b>126</b>, second maximum value selection circuit <b>127</b>, third and fourth delay elements <b>128</b> and <b>129</b>, second N-step shift register <b>130</b>, third maximum value selection circuit <b>131</b>, minimum value selection circuit <b>132</b>, double amplifier <b>133</b>, subtraction circuit <b>134</b>, widening circuit <b>135</b>, multiplication circuit <b>136</b> and a binarization circuit <b>137</b>.</p>
<p id="p-0203" num="0202">The horizontal BPF <b>121</b> is supplied with a luminance signal output from the horizontal component R/G/B mixing circuit <b>34</b>, and cuts off a high frequency component (edge component) from the luminance signal. Depending upon the frequency characteristic of the filter, the frequency band of an edge component to be cut off will vary. However, since the influence of the frequency band variation can be adjusted in downstream steps of operation, the filter characteristic may not be strictly precise. The horizontal LPG <b>121</b> may include any set of filter coefficients so long as the filter characteristic is such as will provide passband peaks at about ⅙ to ¼ of the sampling frequency. The number of filter coefficients in the set is taken herein as (−1, −2, 1, 4, 1, −2, −1)/8, for example. The edge component output from the horizontal BPF <b>121</b> is supplied to the absolute value calculation circuit <b>122</b>.</p>
<p id="p-0204" num="0203">The absolute value calculation circuit <b>122</b> outputs the absolute value of the supplied edge component. The absolute value of the edge component is supplied to the first delay element <b>123</b> and first maximum value selection circuit <b>125</b>.</p>
<p id="p-0205" num="0204">The first delay element <b>123</b> delays the signal output from the horizontal BPF <b>121</b> one unit time. The unit time refers herein to one clock in the digital signal processing. The second delay element <b>124</b> delays, a further one unit time, the signal having been delayed by the first delay element <b>123</b>. The first maximum value selection circuit <b>125</b> compares the non-delayed signal from the absolute value calculation circuit <b>122</b>, the signal supplied from the first delay element <b>123</b> and having been delayed one unit time and the signal supplied from the second delay element <b>124</b> and having been delayed two unit times to select a maximum value. Noise component is reduced from the signal through this selection of the maximum value. It should be noted the two delay elements are referred to above but any number of delay elements may be used. The output from the first maximum value selection circuit <b>125</b> is supplied to the first shift register <b>126</b> and second maximum value selection circuit <b>127</b>.</p>
<p id="p-0206" num="0205">The first shift register <b>126</b> includes a predetermined number of delay elements to make shift registration of a signal supplied from the first maximum value selection circuit <b>125</b> in units of a clock. Also, signals stored in the delay elements of the first shift register <b>126</b> are supplied to the second maximum value selection circuit <b>127</b>.</p>
<p id="p-0207" num="0206">The second maximum value selection circuit <b>127</b> compares the non-delayed signal output from the first maximum value selection circuit <b>125</b> and delayed signal output from each delay element of the first shift register <b>126</b> to select a maximum value from the signals. The selected maximum value is supplied to the minimum value selection circuit <b>132</b>.</p>
<p id="p-0208" num="0207">The third dely element <b>128</b> delays the signal from the last-stage delay element of the first shift register <b>126</b> to delay the signal a number k of clocks. The output from the third delay element <b>128</b> is supplied to the fourth delay element <b>129</b> and subtraction circuit <b>134</b>.</p>
<p id="p-0209" num="0208">The fourth delay element <b>129</b> is supplied with the signal delayed the number k of clocks by the third delay element <b>128</b> to further delay the signal a number k of clocks. The output from the fourth delay element <b>129</b> is supplied to the second shift register <b>130</b> and third maximum value selection circuit <b>131</b>.</p>
<p id="p-0210" num="0209">The second shift register <b>130</b> includes a predetermined number of delay elements to make shift registration of a signal supplied from the fourth delay element <b>129</b> in units of a clock. Also, signals stored in the delay elements of the second shift register <b>130</b> are supplied to the third maximum value selection circuit <b>131</b>.</p>
<p id="p-0211" num="0210">The third maximum value selection circuit <b>131</b> compares the non-delayed signal output from the fourth delay element <b>129</b> and delayed signal from each delay element of the second shift register <b>130</b> to select a maximum value from the signals. The selected maximum value is supplied to the minimum value selection circuit <b>132</b>.</p>
<p id="p-0212" num="0211">The minimum value selection circuit <b>132</b> selects and outputs the signal output from the second maximum value selection circuit <b>127</b> or signal output from the third maximum value selection circuit <b>131</b>, whichever is smaller in value. The output from the minimum value selection circuit <b>132</b> is supplied to the double amplifier <b>133</b> which will double the signal output and supply it to the subtraction circuit <b>134</b>. The subtraction circuit <b>134</b> subtracts the signal output from the double amplifier <b>133</b> from the signal output from the third delay element <b>128</b>. A signal resulted from the subtraction by the subtraction circuit <b>134</b> is supplied to the widening circuit <b>135</b>.</p>
<p id="p-0213" num="0212">The widening circuit <b>135</b> widens the positive-side portion of the supplied signal along the time base. Thus, an output signal from the widening circuit <b>135</b> is supplied to the multiplication circuit <b>136</b>. The multiplication circuit <b>136</b> multiplies the input signal by a sensitivity setting coefficient and supplies the result of multiplication to the binarization circuit <b>137</b> where the input signal will be binarized to output a high/low pulse signal. The “H” portion of the pulse signal indicates an edge of the luminance signal and provided as an edge signal.</p>
<p id="p-0214" num="0213">Next, signal processing operations made in the edge detection circuit <b>103</b> will be described in detail below with reference to waveform charts shown in <figref idref="DRAWINGS">FIGS. 14A to 14G</figref>. It should be noted that <figref idref="DRAWINGS">FIGS. 14A to 14G</figref> show signal waveforms detected at various points in the edge detection circuit <b>103</b> but the same time base is used for the waveforms with the group delay caused in the digital signal processing being considered to include no time. <figref idref="DRAWINGS">FIG. 14A</figref> shows a waveform at a point Y<b>1</b> in <figref idref="DRAWINGS">FIG. 13</figref>, <figref idref="DRAWINGS">FIG. 14B</figref> shows a waveform at a point Y<b>2</b> in <figref idref="DRAWINGS">FIG. 13</figref>, <figref idref="DRAWINGS">FIG. 14C</figref> shows a waveform at a point Y<b>3</b> in <figref idref="DRAWINGS">FIG. 13</figref>, <figref idref="DRAWINGS">FIG. 14D</figref> shows a waveform at a point Y<b>4</b> in <figref idref="DRAWINGS">FIG. 13</figref>, <figref idref="DRAWINGS">FIG. 14E</figref> shows a waveform at a point Y<b>5</b> in <figref idref="DRAWINGS">FIG. 13</figref>, <figref idref="DRAWINGS">FIG. 14F</figref> shows a waveform at a point Y<b>6</b> in <figref idref="DRAWINGS">FIG. 13</figref>, and <figref idref="DRAWINGS">FIG. 14G</figref> shows a waveform at a point Y<b>7</b> in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0215" num="0214">First it is assumed that the edge detection circuit <b>103</b> is supplied with a step-like pulse waveform followed by a luminance signal having a pattern of small vertical stripes as shown in <figref idref="DRAWINGS">FIG. 14A</figref>.</p>
<p id="p-0216" num="0215">The luminance signal is supplied to the horizontal BPF <b>121</b> where an edge component is extracted from the luminance signal, and then the absolute value calculation circuit <b>122</b> outputs an absolute value of the signal value. The output from the absolute value calculation circuit <b>122</b> is supplied to the first maximum value selection circuit <b>125</b> which will select a change point and maximum values before and after the change point. The change point and maximum values are shown as waveforms in <figref idref="DRAWINGS">FIG. 14B</figref>.</p>
<p id="p-0217" num="0216">The output from the first maximum value selection circuit <b>125</b> is supplied to the edge detection circuit <b>103</b> composed of the first and second shift registers <b>126</b> and <b>130</b>, second and third maximum value selection circuits <b>127</b> and <b>131</b>, third and fourth delay elements <b>128</b> and <b>129</b>, minimum value selection circuit <b>132</b>, double amplifier <b>133</b> and the subtraction circuit <b>134</b>.</p>
<p id="p-0218" num="0217">The number of delay elements in each of the first and second shift registers <b>126</b> and <b>130</b> and delay time of each of the third and fourth delay elements <b>128</b> and <b>129</b> depend upon the sampling frequency in the digital signal processing (proportional to the number of pixels in the CCD used), frequency characteristic of the horizontal BPF <b>121</b> and spatial frequency component of the edge portion of the luminance signal. For example, in case it is intended to drive a CCD having 500,000 pixels (having 960 horizontal effective-picture pixels and 483 vertical effective-picture pixels) with a horizontal frequency of 18 MHz and process signals from the CCD with a frequency doubled by up-conversion (36 MHz) and when the BPF <b>121</b> has the above-mentioned characteristic, the number of delay elements in each of the first and second shift registers <b>126</b> and <b>130</b> are set to nine and the delay time of each of the third and fourth delay elements <b>128</b> and <b>129</b> is to eight clocks (k=8). Thus, with a frequency of 2 to 3 MHz or more, a stepwise-varying portion of the luminance signal can be detected. However, the above number and delay time may not be set strictly precise but they may be variable within a certain range and may actually be set while checking a picture. In the following description, nine will be set as the number of delay elements in each of the shift registers <b>126</b> and <b>130</b> and eight clocks will be set as the delay time of each of the third and fourth delay elements <b>128</b> and <b>129</b> for the convenience of the explanation.</p>
<p id="p-0219" num="0218">In the edge detection circuit <b>103</b>, the output from the third delay element <b>128</b> is taken as a current change point. Signals ranging from eight clocks to 17 clocks before the change point are supplied from the first shift register <b>126</b> to the second maximum value selection circuit <b>127</b> where maximum value will be selected from the supplied signals. The signal output from the second maximum value selection circuit <b>127</b> has a waveform as shown in <figref idref="DRAWINGS">FIG. 14C</figref>. On the other hand, signals ranging from eight clocks to 17 clocks after the change point are supplied from the second shift register <b>130</b> to the third maximum value selection circuit <b>131</b> where a maximum value will be selected from the supplied signals. The signal output from the third maximum value selection circuit <b>131</b> has a waveform as shown in <figref idref="DRAWINGS">FIG. 14D</figref>.</p>
<p id="p-0220" num="0219">These maximum value signals are supplied to the minimum value selection circuit <b>132</b> where any of the signals which is smaller will be selected to provide a signal having a waveform as shown in <figref idref="DRAWINGS">FIG. 14E</figref>.</p>
<p id="p-0221" num="0220">The output from the minimum value selection circuit <b>132</b> is doubled by the double amplifier <b>133</b> and supplied to the subtraction circuit <b>134</b>. The subtraction circuit <b>134</b> subtracts the signal from the double amplifier <b>133</b> from the signal of the change point. That is, it subtracts the signal shown in <figref idref="DRAWINGS">FIG. 14E</figref> from the signal of the change point shown in <figref idref="DRAWINGS">FIG. 14B</figref>. Then, the luminance signal will be pulsed only at a stepwise rising portion or stepwise falling portion thereof as shown in <figref idref="DRAWINGS">FIG. 14F</figref>.</p>
<p id="p-0222" num="0221">The signal output from the subtraction circuit <b>134</b> is supplied to the widening circuit <b>135</b> where the positive position of the signal will be widened along the time base. The output from the widening circuit <b>135</b> is multiplied by a sensitivity adjustment coefficient in the multiplication circuit <b>136</b>. When the sensitivity adjustment coefficient is larger, the edge detection circuit <b>103</b> will detect an edge whose step is smaller and thus a larger sensitivity adjustment coefficient will lead to an increased sensitivity of the edge detection circuit <b>103</b>. However, if the coefficient is too large, the edge detection circuit <b>103</b> will erroneously detect a noise component as an edge. To avoid this, the sensitivity is adjusted according to the S/N ratio of a video signal handled in the system. The signal output from the multiplication circuit <b>136</b> is supplied to the binarization circuit <b>137</b> where it will be binarized to a signal of H/L (1/0). Then, the binarization circuit <b>137</b> provides a final edge signal as shown in <figref idref="DRAWINGS">FIG. 14G</figref>.</p>
<p id="p-0223" num="0222">As having been described in the foregoing, the edge detection circuit <b>103</b> extracts a change point of a luminance signal waveform by means of a bandpass filter, checks portions of the waveform before and after the change point to see whether both the portions are flat or either of them is flat. When both the portions are determined to be flat or either of the them is to be flat, the edge detection circuit <b>103</b> will determine a predetermined range of the luminance signal waveform including the change point in consideration to be an edge portion.</p>
<p id="p-0224" num="0223">(Rise Detection Circuit)</p>
<p id="p-0225" num="0224">Next, the rise detection circuit <b>104</b> will be described with reference to the block diagram thereof shown in <figref idref="DRAWINGS">FIG. 15</figref>.</p>
<p id="p-0226" num="0225">As shown, the rise detection circuit <b>104</b> includes a horizontal lowpass filter (LPF) <b>71</b>, first and second delay elements <b>72</b> and <b>73</b>, maximum value selection circuit <b>74</b>, third delay element <b>75</b>, subtraction circuit <b>76</b>, inversion circuit <b>77</b>, first and second comparison circuits <b>78</b> and <b>79</b>, first and second widening circuits <b>80</b> and <b>81</b>, EX-OR circuit <b>141</b>, and first and second AND circuits <b>142</b> and <b>143</b>.</p>
<p id="p-0227" num="0226">Since the circuit configuration of the rise detection circuit <b>104</b> down to the first and second widening circuits <b>80</b> and <b>81</b> is the same as the rise/fall detection circuit <b>52</b> included in the previously described first embodiment, it will not be described in detail.</p>
<p id="p-0228" num="0227">A signal output from the first widening circuit <b>80</b> is supplied to the first AND circuit <b>142</b> and EX-OR circuit <b>141</b>. A signal output from the second widening circuit <b>81</b> is supplied to the EX-OR circuit <b>141</b>.</p>
<p id="p-0229" num="0228">The EX-OR circuit <b>141</b> provides a pulse signal whose level will become high (H) when the output from the first widening circuit <b>80</b> is not found coincident with the output from the second widening circuit <b>81</b>.</p>
<p id="p-0230" num="0229">The first AND circuit <b>142</b> ANDs the output from the first widening circuit <b>80</b> and the output from the EX-OR circuit <b>141</b> and provides an output.</p>
<p id="p-0231" num="0230">The second AND circuit <b>143</b> ANDs the output from the first AND circuit <b>142</b> and edge signal and provides the result of AND as a rise signal.</p>
<p id="p-0232" num="0231">Next, signal processing operations made in the rise detection circuit <b>104</b> will be described in detail below with reference to waveform charts shown in <figref idref="DRAWINGS">FIGS. 16A to 16I</figref>. It should be noted that <figref idref="DRAWINGS">FIGS. 16A to 16I</figref> show signal waveforms detected at various points in the rise detection circuit <b>104</b> but the same time base is used for the waveforms with the group delay caused in the digital signal processing being considered to include no time. <figref idref="DRAWINGS">FIG. 16A</figref> shows a waveform at a point X<b>1</b> in <figref idref="DRAWINGS">FIG. 15</figref>, <figref idref="DRAWINGS">FIG. 16B</figref> shows a waveform at a point X<b>2</b> in <figref idref="DRAWINGS">FIG. 15</figref>, <figref idref="DRAWINGS">FIG. 16C</figref> shows a waveform at a point X<b>3</b> in <figref idref="DRAWINGS">FIG. 15</figref>, <figref idref="DRAWINGS">FIG. 16D</figref> shows a waveform at a point X<b>4</b> in <figref idref="DRAWINGS">FIG. 15</figref>, <figref idref="DRAWINGS">FIG. 16E</figref> shows a waveform at a point X<b>5</b> in <figref idref="DRAWINGS">FIG. 15</figref>, <figref idref="DRAWINGS">FIG. 16F</figref> shows a waveform at a point X<b>6</b> in <figref idref="DRAWINGS">FIG. 15</figref>, <figref idref="DRAWINGS">FIG. 16G</figref> shows a waveform at a point X<b>7</b> in <figref idref="DRAWINGS">FIG. 15</figref>, <figref idref="DRAWINGS">FIG. 16H</figref> shows a waveform at a point X<b>8</b> in <figref idref="DRAWINGS">FIG. 15</figref>, and <figref idref="DRAWINGS">FIG. 16I</figref> shows a waveform at a point X<b>9</b> in <figref idref="DRAWINGS">FIG. 15</figref>.</p>
<p id="p-0233" num="0232">First it is assumed that the rise detection circuit <b>104</b> is supplied with a step-like pulse waveform followed by a luminance signal having a pattern of small vertical stripes as shown in <figref idref="DRAWINGS">FIG. 16A</figref>.</p>
<p id="p-0234" num="0233">The first comparison circuit <b>78</b> compares the output from the addition circuit <b>76</b> with a sensitivity setting luminance level and binarizes the result of comparison to provide a pulse signal whose level will become high (H) when the luminance signal rises. The sensitivity setting luminance level should be set to a predetermined signal level at which no erroneous detection will take place due to any noise. The pulse signal output from the first comparison circuit <b>78</b> will have the time duration thereof, for which it is kept at “H” level, widened by the first widening circuit <b>80</b>, and be provided as a rise signal as shown in <figref idref="DRAWINGS">FIG. 16D</figref>.</p>
<p id="p-0235" num="0234">The second comparison circuit <b>79</b> compares the output from the addition circuit <b>76</b> with an inverted value of the sensitivity setting luminance level and binarizes the result of comparison to provide a pulse signal whose level will become high (H) when the luminance signal falls. The pulse signal output from the second comparison circuit <b>79</b> will have the time duration thereof, for which it is kept at “H” level, widened by the second widening circuit <b>81</b>, and be provided as a fall signal as shown in <figref idref="DRAWINGS">FIG. 16E</figref>.</p>
<p id="p-0236" num="0235">The rise and fall pulse signals are supplied to the EX-OR circuit <b>141</b> which will provide an output signal having a waveform as shown in <figref idref="DRAWINGS">FIG. 16F</figref>. The output from the EX-OR circuit <b>141</b> is supplied to the first AND circuit <b>142</b> where it will be ANDed with the rise pulse signal to provide an output signal having a waveform as shown in <figref idref="DRAWINGS">FIG. 16G</figref>. The output from the first AND circuit <b>142</b> is ANDed with an edge signal to provide an output signal having a waveform as shown in <figref idref="DRAWINGS">FIG. 16H</figref>.</p>
<p id="p-0237" num="0236">As above, the rise detection circuit <b>104</b> provides a rise signal masked by the edge signal. Thus, the rise signal will be provided as an output which does not include a portion M of the waveform shown in <figref idref="DRAWINGS">FIG. 16D</figref> and a portion N of the waveform shown in <figref idref="DRAWINGS">FIG. 16E</figref>, which will be detected as a rise in the first embodiment, for example, when the signal has a pattern of fine vertical stripes.</p>
<p id="p-0238" num="0237">As having been described in the foregoing, in the second embodiment of the video camera according to the present invention, when a horizontal high frequency component of a luminance signal is extracted and multiplied by a gain coefficient to generate an edge enhancement signal, the gain coefficient by which the edge enhancement signal is multiplied is changed according to the signal level of the horizontal high frequency component of the video signal and the leading and trailing edges of the video signal.</p>
<p id="p-0239" num="0238">Thus, in the second embodiment of the video camera, the circuit of a small scale can be used to correct a horizontal waveform distortion of the video signal due to the influence of an analog circuit etc., to thereby enhance the edge of a picture.</p>
<p id="p-0240" num="0239">Further, in the second embodiment of the video camera, the gain is controlled for only a portion stepwise changing in horizontal signal level to generate an edge enhancement signal. Therefore, in the video camera, waveform distortion can be corrected for only a stepwise changing waveform edge of a video signal whose waveform distortion is likely to be remarkable. This signal processing will not have any influence on a portion of a video signal where a return distortion takes place when a distortion of a vertical stripe-like waveform is corrected, for example.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An edge enhancing apparatus comprising:
<claim-text>a filter for extracting a horizontal high-frequency component from a video signal;</claim-text>
<claim-text>a signal level detecting means for discriminating between positive and negative of signal levels of the high frequency component detected by the filter;</claim-text>
<claim-text>a rise and fall detecting means for discriminating between leading and trailing edges of the video signal;</claim-text>
<claim-text>an enhancement signal generating means for generating an enhancement signal by multiplying the high frequency component extracted by the filter by a gain; and</claim-text>
<claim-text>an adding means for adding the enhancement signal to the video signal;</claim-text>
<claim-text>the enhancement signal generating means</claim-text>
<claim-text>makes the gain larger than a predetermined value when the signal level of the high frequency component at the leading edge of the video signal is positive while making the gain equal to or smaller than the predetermined value when the signal level of the high frequency component at the leading edge of the video signal is negative;</claim-text>
<claim-text>makes the gain equal to or smaller than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is positive while making the gain larger than a predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is negative.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The edge enhancing apparatus as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the predetermined value is “1”.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The edge enhancing apparatus as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the rise and fall detecting means detects the leading and trailing edges when the horizontal component of the video signal changes stepwise.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. An edge enhancing apparatus comprising:
<claim-text>a filter for extracting a horizontal high-frequency component from a video signal;</claim-text>
<claim-text>a signal level detecting means for discriminating between positive and negative of signal levels of the high frequency component detected by the filter;</claim-text>
<claim-text>a rise and fall detecting means for discriminating between leading and trailing edges of the video signal;</claim-text>
<claim-text>an enhancement signal generating means for generating an enhancement signal by multiplying the high frequency component extracted by the filter by a gain; and</claim-text>
<claim-text>an adding means for adding the enhancement signal to the video signal;</claim-text>
<claim-text>the enhancement signal generating means</claim-text>
<claim-text>makes the gain equal to or smaller than a predetermined value when the signal level of the high frequency component at the leading edge of the video signal is positive while making the gain larger than the predetermined value when the signal level of the high frequency component at the leading edge of the video signal is negative; and</claim-text>
<claim-text>makes the gain larger than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is positive while making the gain equal to or smaller than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is negative.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The edge enhancing apparatus as set forth in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the predetermined value is “1”.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The edge enhancing apparatus as set forth in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the rise and fall detecting means detects the leading and trailing edges when the horizontal component of the video signal changes stepwise.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An edge enhancing method comprising steps of:
<claim-text>extracting a horizontal high-frequency component from a video signal;</claim-text>
<claim-text>generating an enhancement signal by multiplying the horizontal high-frequency component extracted from a video signal by a gain, which is changed according to the result of discrimination between positive and negative of the signal levels of the high frequency component and the result of discrimination between the leading and trailing edges of the video signal; and</claim-text>
<claim-text>enhancing an edge by adding the enhancement signal to the original video signal,</claim-text>
<claim-text>wherein the gain is made larger than a predetermined value when the signal level of the high frequency component at the leading edge of the video signal is positive while the gain is made equal to or smaller than the predetermined value when the signal level of the high frequency component at the leading edge of the video signal is negative; and</claim-text>
<claim-text>the gain is made equal to or smaller than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is positive while the gain made larger than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is negative.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The edge enhancing method as set forth in <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the predetermined value is “1”.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The edge enhancing method as set forth in <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the leading and trailing edges are leading and trailing edges when the horizontal component of the video signal changes stepwise.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. An edge enhancing method comprising steps of:
<claim-text>extracting a horizontal high-frequency component from a video signal;</claim-text>
<claim-text>generating an enhancement signal by multiplying the horizontal high-frequency component extracted from a video signal by a gain, a value of which is changed according to the result of discrimination between positive and negative of the signal levels of the high frequency component and the result of discrimination between the leading and trailing edges of the video signal; and</claim-text>
<claim-text>enhancing an edge by adding the enhancement signal to the original video signal,</claim-text>
<claim-text>wherein the gain is made equal to or smaller than a predetermined value when the signal level of the high frequency component at the leading edge of the video signal is positive while the gain is made larger than the predetermined value when the signal level of the high frequency component at the leading edge of the video signal is negative; and</claim-text>
<claim-text>the gain is made larger than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is positive while the gain made equal to or smaller than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is negative.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The edge enhancing method as set forth in <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the predetermined value is “1”.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The edge enhancing method as set forth in <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein leading and trailing edges are leading and trailing edges when the horizontal component of the video signal changes stepwise.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A video camera comprising:
<claim-text>an imaging means for imaging an object to generate a video signal;</claim-text>
<claim-text>a filter for extracting a horizontal high-frequency component from the video signal generated by the imaging means;</claim-text>
<claim-text>a signal level detecting means for discriminating between positive and negative of signal levels of the high frequency component detected by the filter;</claim-text>
<claim-text>a rise and fall detecting means for discriminating between leading and trailing edges of the video signal;</claim-text>
<claim-text>an enhancement signal generating means for generating an enhancement signal by multiplying the high frequency component by a gain; and</claim-text>
<claim-text>an adding means for adding the enhancement signal to the video signal;</claim-text>
<claim-text>the enhancement signal generating means</claim-text>
<claim-text>makes the gain larger than a predetermined value when the signal level of the high frequency component at the leading edge of the video signal is positive while making the gain equal to or smaller than the predetermined value when the signal level of the high frequency component at the leading edge of the video signal is negative;</claim-text>
<claim-text>makes the gain equal to or smaller than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is positive while making the gain larger than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is negative.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The video camera as set forth in <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the predetermined value is “1”.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The video camera as set forth in <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the rise and fall detecting means detects the leading and trailing edges when the horizontal component of the video signal changes stepwise.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A video camera comprising:
<claim-text>an imaging means for imaging an object to generate a video signal;</claim-text>
<claim-text>a filter for extracting a horizontal high-frequency component from the video signal generated by the imaging means;</claim-text>
<claim-text>a signal level detecting means for discriminating between positive and negative of signal levels of the high frequency component detected by the filter;</claim-text>
<claim-text>a rise and fall detecting means for discriminating between leading and trailing edges of the video signal;</claim-text>
<claim-text>an enhancement signal generating means for generating an enhancement signal by multiplying the high frequency component by a gain; and</claim-text>
<claim-text>an adding means for adding the enhancement signal to the video signal;</claim-text>
<claim-text>the enhancement signal generating means</claim-text>
<claim-text>makes the gain equal to or smaller than a predetermined value when the signal level of the high frequency component at the leading edge of the video signal is positive while making the gain larger than the predetermined value when the signal level of the high frequency component at the leading edge of the video signal is negative;</claim-text>
<claim-text>makes the gain larger than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is positive while making the gain equal to or smaller than the predetermined value when the signal level of the high frequency component at the trailing edge of the video signal is negative.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The video camera as set forth in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the predetermined value is “1”.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The video camera as set forth in <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the rise and fall detecting means detects the leading and trailing edges when the horizontal high-frequency component of the video signal changes stepwise.</claim-text>
</claim>
</claims>
</us-patent-grant>
