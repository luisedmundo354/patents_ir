<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298188-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298188</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11020418</doc-number>
<date>20041227</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2004-136248</doc-number>
<date>20040430</date>
</priority-claim>
<priority-claim sequence="02" kind="national">
<country>JP</country>
<doc-number>2004-296469</doc-number>
<date>20041008</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>L</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>327153</main-classification>
<further-classification>327161</further-classification>
</classification-national>
<invention-title id="d0e79">Timing adjustment circuit and memory controller</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6636093</doc-number>
<kind>B1</kind>
<name>Stubbs et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327161</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6677791</doc-number>
<kind>B2</kind>
<name>Okuda et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327158</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6822481</doc-number>
<kind>B1</kind>
<name>Srikantam et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 93</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>JP</country>
<doc-number>10-112182</doc-number>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>JP</country>
<doc-number>2003-151271</doc-number>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>327147</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327149</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327153</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327158</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327161</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>327163</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331 17</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331 25</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331DIG 2</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375373-376</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>25</number-of-drawing-sheets>
<number-of-figures>25</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050242850</doc-number>
<kind>A1</kind>
<date>20051103</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kawasaki</last-name>
<first-name>Kenichi</first-name>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Arent Fox LLP.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Fujitsu Limited</orgname>
<role>03</role>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Nguyen</last-name>
<first-name>Linh My</first-name>
<department>2816</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A circuit for timing adjustment includes a PLL circuit configured to generate a phase-adjusted clock signal in response to phase comparison between an input clock signal and a delayed clock signal, a feedback path configured to delay the phase-adjusted clock signal for provision as the delayed clock signal to the PLL circuit, a first timing correction circuit configured to add a predetermined delay time to the feedback path, an output data circuit configured to supply output data at first timing responsive to the phase-adjusted clock signal, a second timing correction circuit configured to delay the first timing by the predetermined delay time to generate second timing different from the first timing, and an input data circuit configured to latch input data at the second timing.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="130.98mm" wi="238.51mm" file="US07298188-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="188.30mm" wi="173.06mm" orientation="landscape" file="US07298188-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="215.90mm" wi="154.43mm" orientation="landscape" file="US07298188-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="243.59mm" wi="182.46mm" orientation="landscape" file="US07298188-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="232.58mm" wi="156.72mm" orientation="landscape" file="US07298188-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="252.81mm" wi="182.80mm" orientation="landscape" file="US07298188-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="244.69mm" wi="168.83mm" orientation="landscape" file="US07298188-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="251.21mm" wi="186.69mm" orientation="landscape" file="US07298188-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="249.34mm" wi="153.42mm" orientation="landscape" file="US07298188-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="254.93mm" wi="176.61mm" orientation="landscape" file="US07298188-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="179.32mm" wi="167.30mm" orientation="landscape" file="US07298188-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="163.75mm" wi="148.08mm" orientation="landscape" file="US07298188-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="179.32mm" wi="138.77mm" orientation="landscape" file="US07298188-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="239.78mm" wi="144.19mm" orientation="landscape" file="US07298188-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="239.18mm" wi="155.62mm" orientation="landscape" file="US07298188-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="261.37mm" wi="138.77mm" orientation="landscape" file="US07298188-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="261.70mm" wi="187.88mm" orientation="landscape" file="US07298188-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="267.04mm" wi="183.98mm" orientation="landscape" file="US07298188-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="237.66mm" wi="167.72mm" orientation="landscape" file="US07298188-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="260.94mm" wi="192.19mm" orientation="landscape" file="US07298188-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="269.07mm" wi="185.08mm" orientation="landscape" file="US07298188-20071120-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="265.43mm" wi="141.56mm" orientation="landscape" file="US07298188-20071120-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="227.92mm" wi="169.59mm" orientation="landscape" file="US07298188-20071120-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="270.93mm" wi="183.98mm" orientation="landscape" file="US07298188-20071120-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="265.60mm" wi="188.64mm" orientation="landscape" file="US07298188-20071120-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="267.21mm" wi="194.23mm" orientation="landscape" file="US07298188-20071120-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">The present application is based upon and claims the benefit of priority from the prior Japanese Patent Applications No. 2004-136248 filed on Apr. 30, 2004 and No. 2004-296469 filed on Oct. 8, 2004, with the Japanese Patent Office, the entire contents of which are incorporated herein by reference.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention generally relates to timing adjustment circuits used in clock synchronous apparatuses, and particularly relates to a timing adjustment circuit for adjusting the timing of clock synchronization of a data input/output interface.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 1</figref> is an illustrative drawing showing an example of a construction in which semiconductor chips of the clock synchronous type are connected to each other. Chips <b>10</b> through <b>13</b> shown in <figref idref="DRAWINGS">FIG. 1</figref> operate in synchronization with a clock signal. A data signal output from the chip <b>10</b> in synchronization with the clock signal is input into the chips <b>11</b> through <b>13</b>. In respect of this, the setup time and hold time of the input signal, the maximum delay of the output signal, etc., are defined relative to the timing of the clock signal. The chips <b>10</b> through <b>13</b> are required to perform the inputting/outputting of the data signal at the timing that satisfies these specifications.</p>
<p id="p-0007" num="0006">Semiconductor devices are bound to have manufacturing variation. The input/output cells for inputting/outputting data signals have delay fluctuation due to such manufacturing variation. Conventionally, such delay fluctuation has not been much of a problem. When the operation speed of semiconductor devices is increased by increasing the frequency of a clock signal, however, the problem of delay fluctuation of the input/output cells becomes apparent. Namely, if the input/output cells have delay fluctuation under the condition of high operating frequency, the setup time and hold time of input signals, the maximum delay of output signals, etc. may not be able to meet their requirements. This may result in a failure of data exchange between the chips. Further, there is an effect of differences in flight time caused by the differences of path lengths between the chips, and also an effect of an increase of the load caused by the connection of multiple chips to a single output node. These effects make it difficult to conduct reliable data exchange.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 2</figref> is a circuit diagram showing an example of a timing adjustment circuit that corrects the timing of an input/output interface of the clock synchronous type. A timing adjustment circuit <b>20</b> of <figref idref="DRAWINGS">FIG. 2</figref> includes a clock input circuit <b>21</b>, a PLL (phase locked loop) circuit <b>22</b>, a clock tree <b>23</b>, a feedback tree <b>24</b>, a flip-flop <b>25</b> for signal output, a input-purpose flip-flop <b>26</b> for signal input, a data output circuit <b>27</b>, and a data input circuit <b>28</b>.</p>
<p id="p-0009" num="0008">The clock input circuit <b>21</b> receives a clock signal Clock supplied from the exterior of the chip, and supplies the received signal to the PLL circuit <b>22</b> as an input clock signal ck<b>0</b>. The clock input circuit <b>21</b> has an inherent delay time A. The input clock signal ck<b>0</b> includes a delay equal to the delay time A relative to the clock signal Clock when supplied to the PLL circuit <b>22</b>. The PLL circuit <b>22</b> adjusts the phase of the input clock signal ck<b>0</b>, and outputs a clock signal ckr having the adjusted phase. The clock signal ckr having the adjusted phase propagates through the clock tree <b>23</b> before it is supplied to the output-purpose flip-flop <b>25</b> and the input-purpose flip-flop <b>26</b> as a synchronizing clock signal ck<b>1</b>. Moreover, the clock signal ckr having the adjusted phase is supplied to another input of the PLL circuit <b>22</b> as a delayed clock signal ckf through the feedback tree <b>24</b>, which has the same delay C′ as the delay C of the clock tree <b>23</b>. The PLL circuit <b>22</b> performs phase control such that the input clock signal ck<b>0</b> and the delayed clock signal ckf have the same phase, thereby generating the clock signal ckr having the adjusted phase.</p>
<p id="p-0010" num="0009">The output-purpose flip-flop <b>25</b> outputs output data d<b>0</b> at edge timing of the synchronizing clock signal ck<b>1</b>. The output data d<b>0</b> is output to the exterior of the chip as a data output signal DataOut by the data output circuit <b>27</b>. The data output circuit <b>27</b> has an inherent delay time B, so that the data output signal DataOut has a delay equal to the delay time B relative to the output data d<b>0</b>.</p>
<p id="p-0011" num="0010">The data input circuit <b>28</b> receives a data input signal DataIn supplied from the exterior of the chip, and supplies the received signal to the input-purpose flip-flop <b>26</b> as input data d<b>1</b>. The input-purpose flip-flop <b>26</b> latches the input data d<b>1</b> at edge timing of the synchronizing clock signal ck<b>1</b>. The data input circuit <b>28</b> has an inherent delay time A, so that the input data d<b>1</b> has a delay equal to the delay time A relative to the data input signal DataIn. The delay time of the data input circuit <b>28</b> and the delay time of the clock input circuit <b>21</b> are identical.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 3</figref> is a timing chart showing the operation timing of the timing adjustment circuit <b>20</b> shown in <figref idref="DRAWINGS">FIG. 2</figref>. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, the input clock signal ck<b>0</b> is delayed by a delay equal to the delay time A relative to the clock signal Clock. The clock signal ckr having an adjusted phase is phase-adjusted such that the delayed clock signal ckf and the input clock signal ck<b>0</b> have the same phase. Since the delay time C′ of the delayed clock signal ckf is equal to the delay time C of the synchronizing clock signal ck<b>1</b>, the phase of the synchronizing clock signal ck<b>1</b> coincides with the phase of the input clock signal ck<b>0</b>.</p>
<p id="p-0013" num="0012">The input data d<b>1</b> is latched at the edge timing of the synchronizing clock signal ck<b>1</b>. The delay of the synchronizing clock signal ck<b>1</b> relative to the clock signal Clock and the delay of the input data d<b>1</b> relative to the data input signal DataIn are the same delay time A. It follows that when the data input signal DataIn is supplied in synchronization with the clock signal Clock, the setup time and hold time are fixed regardless of the length of the delay time A. In this manner, the timing adjustment circuit <b>20</b> of <figref idref="DRAWINGS">FIG. 2</figref> achieves data inputting at fixed timing free from the influence of manufacturing variation.</p>
<p id="p-0014" num="0013">In <figref idref="DRAWINGS">FIG. 3</figref>, the timing at which the data output signal DataOut is output is delayed by a delay equal to the delay time B relative to the synchronizing clock signal ck<b>1</b>, i.e., is delayed by the delay time A+B relative to the clock signal Clock. This data output signal DataOut propagates from the chip <b>10</b> to the chip <b>20</b> as shown in <figref idref="DRAWINGS">FIG. 1</figref>, for example, by spending a flight time FT before receipt by the chip <b>20</b> as the data input signal DataIn. If the delay time A+B of the data output signal DataOut increases due to manufacturing variation, the input timing of the data input signal DataIn at the chip <b>20</b> is delayed proportionately. In this case, a sufficient setup time cannot be secured, which may result in a data input error.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4</figref> is a circuit diagram showing another example of the timing adjustment circuit that corrects the timing of an input/output interface of the clock synchronous type. In <figref idref="DRAWINGS">FIG. 4</figref>, the same elements as those of <figref idref="DRAWINGS">FIG. 2</figref> are referred to by the same numerals, and a description thereof will be omitted.</p>
<p id="p-0016" num="0015">A timing adjustment circuit <b>20</b>A of <figref idref="DRAWINGS">FIG. 4</figref> is provided with a dummy input/output circuit <b>29</b> in addition to the configuration of the timing adjustment circuit <b>20</b> shown in <figref idref="DRAWINGS">FIG. 2</figref>. The dummy input/output circuit <b>29</b> includes a dummy input circuit <b>21</b>A having the same delay time A as the clock input circuit <b>21</b> and a dummy output circuit <b>27</b>A having the same delay time B as the data output circuit <b>27</b>. The dummy input/output circuit <b>29</b> thus has a total delay time equal to A+B. The dummy input/output circuit <b>29</b> is inserted into the feedback path for phase control, so that the delayed clock signal ckf input into the PLL circuit <b>22</b> has a delay time equal to A+B+C′ relative to the clock signal ckr having the adjusted phase.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> is a timing chart showing the operation timing of the timing adjustment circuit <b>20</b>A of <figref idref="DRAWINGS">FIG. 4</figref>. As shown in <figref idref="DRAWINGS">FIG. 5</figref>, the input clock signal ck<b>0</b> is delayed by a delay equal to the delay time A relative to the clock signal Clock. The clock signal ckr having an adjusted phase is phase-adjusted such that the delayed clock signal ckf and the input clock signal ck<b>0</b> have the same phase. The delayed clock signal ckf is delayed by the delay time A+B+C′ relative to the clock signal ckr having the adjusted phase, and the data output signal DataOut is output with the delay C+B relative to the clock signal ckr having the adjusted phase. Accordingly, the data output signal DataOut is output a time A earlier than the delayed clock signal ckf. Since this delayed clock signal ckf is delayed by the delay time A relative to the clock signal Clock, the output timing of the data output signal DataOut is equal to the edge timing of the clock signal Clock. This timing match is maintained even if the delay times A, B, and/or C fluctuate due to manufacturing variation.</p>
<p id="p-0018" num="0017">This data output signal DataOut propagates from the chip <b>10</b> to the chip <b>20</b> as shown in <figref idref="DRAWINGS">FIG. 1</figref>, for example, by spending a flight time FT before receipt by the chip <b>20</b> as the data input signal DataIn. The timing of the data output signal DataOut is fixed relative to the clock signal Clock regardless of manufacturing variation, so that the timing of the data input signal DataIn received at the chip <b>20</b> is also fixed to the clock signal Clock. Accordingly, this provision makes it possible to secure a proper setup time so as to attain reliable data inputting.</p>
<p id="p-0019" num="0018">At the data input side of the timing adjustment circuit <b>20</b>A shown in <figref idref="DRAWINGS">FIG. 4</figref>, the input data d<b>1</b> is latched at the edge timing of the synchronizing clock signal ck<b>1</b>. The input data d<b>1</b> is delayed by the delay time A relative to the data input signal DataIn, whereas the synchronizing clock signal ck<b>1</b> is time B earlier than the clock signal Clock. (The synchronizing clock signal ck<b>1</b> is delayed by the time A relative to the clock signal Clock in <figref idref="DRAWINGS">FIG. 3</figref>, but is time A+B earlier than this timing where the time A+B is the delay time of the dummy input/output circuit <b>29</b>.) When the data input signal DataIn is supplied in synchronization with the clock signal Clock, the setup time and hold time fluctuate due to the variation of the time A and time B, resulting in difficulty securing the required timing conditions.</p>
<p id="p-0020" num="0019">Patent Document 1 discloses an example in which a timing adjustment circuit for correcting the timing of an input/output interface of the clock synchronous type is applied to a memory device.</p>
<p id="p-0021" num="0020">[Patent Document 1] Japanese Patent Application Publication No. 10-112182</p>
<p id="p-0022" num="0021">If a timing adjustment circuit attends to timing control such as to have data-input timing that is not affected by manufacturing variation as described above, the timing of data outputs ends up being affected by manufacturing variation, resulting in a data-receiver-side semiconductor device failing to secure proper input timing. On the other hand, if a timing adjustment circuit attends to timing control such as to have data-output timing that is not affected by manufacturing variation, the timing of data inputs ends up being affected by manufacturing variation, resulting in a failure to secure proper input timing.</p>
<p id="p-0023" num="0022">Accordingly, there is a need for a timing adjustment circuit that can achieve proper operating timing with respect to both the data input and the data output regardless of manufacturing variation.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0024" num="0023">It is a general object of the present invention to provide a timing adjustment circuit that substantially obviates one or more problems caused by the limitations of the related art.</p>
<p id="p-0025" num="0024">Features and advantages of the present invention will be presented in the description which follows, and in part will become apparent from the description and the accompanying drawings, or may be learned by practice of the invention according to the teachings provided in the description. Objects as well as other features and advantages of the present invention will be realized and attained by a timing adjustment circuit particularly pointed out in the specification in such full, clear, concise, and exact terms as to enable a person having ordinary skill in the art to practice the invention.</p>
<p id="p-0026" num="0025">To achieve these and other advantages in accordance with the purpose of the invention, the invention provides a circuit for timing adjustment, which includes a PLL circuit configured to generate a phase-adjusted clock signal in response to phase comparison between an input clock signal and a delayed clock signal, a feedback path configured to delay the phase-adjusted clock signal for provision as the delayed clock signal to the PLL circuit, a first timing correction circuit configured to add a predetermined delay time to the feedback path, an output data circuit configured to supply output data at first timing responsive to the phase-adjusted clock signal, a second timing correction circuit configured to delay the first timing by the predetermined delay time to generate second timing different from the first timing, and an input data circuit configured to latch input data at the second timing.</p>
<p id="p-0027" num="0026">According to at least one embodiment of the invention as suggested by the timing adjustment circuit described above, the first timing correction circuit having the predetermined delay time is inserted into the feedback path for phase control, and the second timing correction circuit having the same predetermined delay time is inserted into the path through which the synchronizing clock signal for the purpose of data inputting propagates. Owing to the function of the first timing correction circuit, the output data is always output at fixed timing relative to an external clock signal regardless of manufacturing variation. Owing to the function of the second timing correction circuit, further, the delay time of the first timing correction circuit is cancelled, so that the input data is always latched at fixed timing relative to the external clock signal regardless of manufacturing variation. With this provision, it is possible to attain a stable, reliable data input/output operation without being affected by the fluctuation of delays of the data input/output circuits due to manufacturing variation.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0028" num="0027">Other objects and further features of the present invention will be apparent from the following detailed description when read in conjunction with the accompanying drawings, in which:</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 1</figref> is an illustrative drawing showing an example of a construction in which semiconductor chips of the clock synchronous type are connected to each other;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 2</figref> is a circuit diagram showing an example of a timing adjustment circuit that corrects the timing of an input/output interface of the clock synchronous type;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 3</figref> is a timing chart showing the operation timing of the timing adjustment circuit shown in <figref idref="DRAWINGS">FIG. 2</figref>;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 4</figref> is a circuit diagram showing another example of the timing adjustment circuit that corrects the timing of an input/output interface of the clock synchronous type;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 5</figref> is a timing chart showing the operation timing of the timing adjustment circuit of <figref idref="DRAWINGS">FIG. 4</figref>;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 6</figref> is a circuit diagram showing an example of a timing adjustment circuit according to the present invention;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 7</figref> is a timing chart showing the operation timing of the timing adjustment circuit shown in <figref idref="DRAWINGS">FIG. 6</figref>;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 8</figref> is a circuit diagram showing a variation of the timing adjustment circuit according to the present invention;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 9</figref> is a timing chart showing the operation timing of the timing adjustment circuit of <figref idref="DRAWINGS">FIG. 8</figref>;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 10</figref> is a circuit diagram showing a configuration in which a single terminal pin is used as both a data input terminal and a data output terminal;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 11</figref> is a circuit diagram showing an example of the construction of a phase compensation circuit;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 12</figref> is a timing chart for explaining the operation of the phase compensation circuit of <figref idref="DRAWINGS">FIG. 11</figref>;</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 13</figref> is a circuit diagram showing an example of the construction of a PLL circuit;</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 14</figref> is a circuit diagram showing another example of the construction of the PLL circuit;</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 15</figref> is a timing chart illustrating the read specification of a DDRSDRAM;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 16</figref> is a circuit diagram showing an example of the related-art construction of a read data latching circuit provided on the memory controller side;</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 17</figref> is a timing chart for explaining the operation of the circuit shown in <figref idref="DRAWINGS">FIG. 16</figref>;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 18</figref> is a block diagram showing the construction of a memory controller to which the present invention is applied;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 19</figref> is a circuit diagram showing an embodiment of a clock output circuit unit and a read data latching circuit unit of the memory controller;</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 20</figref> is a timing chart for explaining the operation of the circuit shown in <figref idref="DRAWINGS">FIG. 19</figref>;</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 21</figref> is a circuit diagram showing an example of the circuit construction of a delay circuit;</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 22</figref> is a circuit diagram showing another example of the circuit construction of the delay circuit;</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 23</figref> is a timing chart for explaining the operation of the circuit shown in <figref idref="DRAWINGS">FIG. 22</figref>;</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 24</figref> is a circuit diagram showing another embodiment of the clock output circuit unit and the read data latching circuit unit of the memory controller; and</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 25</figref> is a circuit diagram showing still another embodiment of the clock output circuit unit and the read data latching circuit unit of the memory controller.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0054" num="0053">In the following, embodiments of the present invention will be described with reference to the accompanying drawings.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 6</figref> is a circuit diagram showing an example of a timing adjustment circuit according to the present invention. A timing adjustment circuit <b>30</b> of <figref idref="DRAWINGS">FIG. 6</figref> includes a clock input circuit <b>31</b>, a PLL circuit <b>32</b>, a clock tree <b>33</b>, a feedback tree <b>34</b>, an output-purpose flip-flop (output data circuit) <b>35</b>, an input-purpose flip-flop (input data circuit) <b>36</b>, a data output circuit <b>37</b>, a data input circuit <b>38</b>, a dummy input/output circuit (first timing correction circuit) <b>39</b>, and an input timing correction circuit (second timing correction circuit) <b>40</b>.</p>
<p id="p-0056" num="0055">The clock input circuit <b>31</b> receives a clock signal Clock supplied from the exterior of the chip, and supplies the received signal to the PLL circuit <b>32</b> as an input clock signal ck<b>0</b>. The clock input circuit <b>31</b> has an inherent delay time A. The input clock signal ck<b>0</b> has a delay equal to the delay time A relative to the clock signal Clock when supplied to the PLL circuit <b>32</b>. The PLL circuit <b>32</b> adjusts the phase of the input clock signal ck<b>0</b>, and outputs a clock signal ckr having the adjusted phase. The clock signal ckr having the adjusted phase propagates through the clock tree <b>33</b> before it is supplied to the output-purpose flip-flop <b>35</b> as a synchronizing clock signal ck<b>1</b>. The synchronizing clock signal ck<b>1</b> is supplied through the input timing correction circuit <b>40</b> to the input-purpose flip-flop <b>36</b> as a synchronizing clock signal ck<b>11</b>. The input timing correction circuit <b>40</b> includes a dummy input circuit <b>31</b>B having the same delay time A as the clock input circuit <b>31</b> and a dummy output circuit <b>37</b>B having the same delay time B as the data output circuit <b>37</b>. The input timing correction circuit <b>40</b> thus has a total delay time equal to A+B.</p>
<p id="p-0057" num="0056">The clock signal ckr having the adjusted phase is supplied to another input of the PLL circuit <b>32</b> as a delayed clock signal ckf after propagating through the feedback tree <b>34</b> having the same delay C′ as the delay C of the clock tree <b>33</b> and further propagating through the dummy input/output circuit <b>39</b>. The dummy input/output circuit <b>39</b> includes a dummy input circuit <b>31</b>A having the same delay time A as the clock input circuit <b>31</b> and a dummy output circuit <b>37</b>A having the same delay time B as the data output circuit <b>37</b>. The dummy input/output circuit <b>39</b> thus has a total delay time equal to A+B. The PLL circuit <b>32</b> performs phase control such that the input clock signal ck<b>0</b> and the delayed clock signal ckf have the same phase, thereby generating the clock signal ckr having the adjusted phase.</p>
<p id="p-0058" num="0057">The output-purpose flip-flop <b>35</b> outputs output data d<b>0</b> at edge timing of the synchronizing clock signal ck<b>1</b>. The output data d<b>0</b> is output to the exterior of the chip as a data output signal DataOut by the data output circuit <b>37</b>. The data output circuit <b>37</b> has an inherent delay time B, so that the data output signal DataOut has a delay equal to the delay time B relative to the output data d<b>0</b>.</p>
<p id="p-0059" num="0058">The data input circuit <b>38</b> receives a data input signal DataIn supplied from the exterior of the chip, and supplies the received signal to the input-purpose flip-flop <b>36</b> as input data d<b>1</b>. The input-purpose flip-flop <b>36</b> latches the input data d<b>1</b> at edge timing of the synchronizing clock signal ck<b>1</b>. The data input circuit <b>38</b> has an inherent delay time A, so that the input data d<b>1</b> has a delay equal to the delay time A relative to the data input signal DataIn. The delay time of the data input circuit <b>38</b> and the delay time of the clock input circuit <b>31</b> are identical.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 7</figref> is a timing chart showing the operation timing of the timing adjustment circuit <b>30</b> shown in <figref idref="DRAWINGS">FIG. 6</figref>. As shown in <figref idref="DRAWINGS">FIG. 7</figref>, the input clock signal ck<b>0</b> is delayed by a delay equal to the delay time A relative to the clock signal Clock. The clock signal ckr having an adjusted phase is phase-adjusted such that the delayed clock signal ckf and the input clock signal ck<b>0</b> have the same phase. The delayed clock signal ckf is delayed by the delay time A+B+C′ relative to the clock signal ckr having the adjusted phase, and the synchronizing clock signal ck<b>11</b> is delayed by the delay time A+B+C relative to the clock signal ckr having the adjusted phase. Since the delay time C′ of the delayed clock signal ckf is equal to the delay time C of the synchronizing clock signal ck<b>11</b>, the phase of the synchronizing clock signal ck<b>11</b> coincides with the phase of the delayed clock signal ckf, and also coincides with the phase of the input clock signal ck<b>0</b>.</p>
<p id="p-0061" num="0060">The input data d<b>1</b> is latched at the edge timing of the synchronizing clock signal ck<b>11</b>. The delay of the synchronizing clock signal ck<b>11</b> relative to the clock signal Clock and the delay of the input data d<b>1</b> relative to the data input signal DataIn are the same delay time A. It follows that when the data input signal DataIn is supplied in synchronization with the clock signal Clock, the setup time and hold time are fixed regardless of the length of the delay time A. In this manner, the timing adjustment circuit <b>30</b> of <figref idref="DRAWINGS">FIG. 6</figref> achieves data inputting at fixed timing free from the influence of manufacturing variation.</p>
<p id="p-0062" num="0061">The delayed clock signal ckf is delayed by the delay time A+B+C′ relative to the clock signal ckr having the adjusted phase, and the data output signal DataOut is output with the delay C+B relative to the clock signal ckr having the adjusted phase. Accordingly, the data output signal DataOut is output a time A earlier than the delayed clock signal ckf. Since this delayed clock signal ckf is delayed by the delay time A relative to the clock signal Clock, the output timing of the data output signal DataOut is equal to the edge timing of the clock signal Clock. This timing match is maintained even if the delay times A, B, C, and/or C′ fluctuate due to manufacturing variation.</p>
<p id="p-0063" num="0062">This data output signal DataOut propagates from a first chip to a second chip by spending a flight time FT before receipt by the second chip as the data input signal DataIn. The timing of the data output signal DataOut is fixed relative to the clock signal Clock regardless of manufacturing variation, so that the timing of the data input signal DataIn received at the second chip is also fixed to the clock signal Clock. Accordingly, this provision makes it possible to secure a proper setup time so as to attain reliable data inputting.</p>
<p id="p-0064" num="0063">In the embodiment of the present invention as described above, the dummy input/output circuit (first timing correction circuit) <b>39</b> having the delay time A+B is inserted into the feedback path for phase control, and the input timing correction circuit (second timing correction circuit) <b>40</b> having the delay time A+B is inserted into the path through which the synchronizing clock signal for the purpose of data inputting propagates. Owing to the function of the dummy input/output circuit <b>39</b>, the data output signal is always output at fixed timing relative to the clock signal Clock regardless of manufacturing variation. Owing to the function of the input timing correction circuit <b>40</b>, further, the delay time of the dummy input/output circuit <b>39</b> is cancelled, so that the data input signal is always latched at fixed timing relative to the clock signal Clock regardless of manufacturing variation. With this provision, it is possible to attain a stable, reliable data input/output operation without being affected by the fluctuation of delays of the data input/output circuits due to manufacturing variation.</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 8</figref> is a circuit diagram showing a variation of the timing adjustment circuit according to the present invention. In <figref idref="DRAWINGS">FIG. 8</figref>, the same elements as those of <figref idref="DRAWINGS">FIG. 6</figref> are referred to by the same numerals, and a description thereof will be omitted.</p>
<p id="p-0066" num="0065">In addition to the configuration of the timing adjustment circuit <b>30</b> of <figref idref="DRAWINGS">FIG. 6</figref>, a timing adjustment circuit <b>30</b>A of <figref idref="DRAWINGS">FIG. 8</figref> includes a phase compensation circuit <b>41</b>, terminal pins <b>51</b> and <b>52</b>, a flight-time compensation signal line <b>53</b>, terminal pins <b>54</b> and <b>55</b>, and a flight-time compensation signal line <b>56</b>. The flight-time compensation signal lines <b>53</b> and <b>56</b> may be provided outside the chip when the chip is implemented on a printed circuit board as shown <figref idref="DRAWINGS">FIG. 1</figref>. Accordingly, the flight-time compensation signal lines <b>53</b> and <b>56</b> may not be an essential element of the timing adjustment circuit of the present invention in a sense that they are not provided as part of an individual chip having the timing adjustment circuit of the present invention.</p>
<p id="p-0067" num="0066">The dummy input/output circuit <b>39</b>A provides a delay time equal to A+B+FT by including the terminal pins <b>51</b> and <b>52</b> and the flight-time compensation signal line <b>53</b>. The flight-time compensation signal line <b>53</b> may be configured such that it extends from the terminal pin <b>52</b> toward the chip on the other end that receives the data output signal DataOut, and takes a turn halfway through the path to return to the terminal pin <b>51</b>.</p>
<p id="p-0068" num="0067">The input timing correction circuit <b>40</b>A provides a delay time equal to A+B+FT by including the terminal pins <b>54</b> and <b>55</b> and the flight-time compensation signal line <b>56</b>. The flight-time compensation signal line <b>56</b> may be configured such that it extends from the terminal pin <b>54</b> toward the chip on the other end that receives the data output signal DataOut, and takes a turn halfway through the path to return to the terminal pin <b>55</b>.</p>
<p id="p-0069" num="0068">In the example of <figref idref="DRAWINGS">FIG. 8</figref>, the phase compensation circuit <b>41</b> is an inverter, and provides a 180-degree phase delay by inverting the synchronizing clock signal ck<b>1</b>. This makes it easier to set the timing of latching of the input data d<b>1</b> approximately to a midpoint of its data valid period. When data is latched approximately at the midpoint of its data valid period, generally, an optimum setup time and data hold time are achieved.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 9</figref> is a timing chart showing the operation timing of the timing adjustment circuit <b>30</b> of <figref idref="DRAWINGS">FIG. 8</figref>. As shown in <figref idref="DRAWINGS">FIG. 9</figref>, there is a time difference equal to A+B+C′+FT between the clock signal ckr having the adjusted phase and the delayed clock signals ckf. It follows that a time difference equal to B+C′+FT exists between the clock signal ckr having the adjusted phase and the clock signal Clock. The data output signal DataOut is output after the delay time C+B following the clock signal ckr having the adjusted phase. Since C and C′ are equal, the output timing of the data output signal DataOut is positioned a time FT before the edge timing of the clock signal Clock. When the data output signal DataOut propagates from the first chip to the second chip by spending the flight time FT, therefore, the timing of the data input signal DataIn received by the second chip is aligned with the edge timing of the clock signal Clock.</p>
<p id="p-0071" num="0070">Further, the clock signal ckr having the adjusted phase is delayed by the time C to become the synchronizing clock signal ck<b>1</b>. This synchronizing clock signal ck<b>1</b> is further delayed by T/2 through signal inversion to become the synchronizing clock signal ck<b>10</b>. Here, T is the cycle of the clock signal Clock. The synchronizing clock signal ck<b>10</b> is delayed by the delay time A+B+FT by the input timing correction circuit <b>40</b>A to become the synchronizing clock signal ck<b>11</b>. As a result, the synchronizing clock signal ck<b>11</b> has the edge timing that is delayed by the time A+T/2 relative to the clock signal Clock. At the edge timing of the synchronizing clock signal ck<b>11</b>, the input data d<b>1</b> having a delay equal to the time A relative to the data input signal DataIn is latched. This cancels the time A, and makes it possible to latch the data at the midpoint of its data valid period because of the time difference T/2. Here, it is assumed that the data input signal DataIn is supplied in synchronization with the edges of the clock signal Clock.</p>
<p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. 10</figref> is a circuit diagram showing a configuration in which a single terminal pin is used as both a data input terminal and a data output terminal. In <figref idref="DRAWINGS">FIG. 10</figref>, the same elements as those of <figref idref="DRAWINGS">FIG. 6</figref> and so on are referred to by the same numerals, and a description thereof will be omitted.</p>
<p id="p-0073" num="0072">As shown in <figref idref="DRAWINGS">FIG. 10</figref>, when the same pin is used as a data input terminal and also as a data output terminal, there is a need to use a data output circuit <b>37</b>C that can set its output in a HIGH impedance state. The control of an input into a control node <b>60</b> provides for the output of the data output circuit <b>37</b>C to be switched between the HIGH impedance state and the state in which the output data level is either HIGH or LOW. In this case, a flip-flop <b>35</b>C having the same configuration as the output-purpose flip-flop <b>35</b> is provided, and is allowed to operate in synchronization with the synchronizing clock signal ck<b>1</b>, with the output of the flip-flop <b>35</b>C being supplied as the control signal to the control node <b>60</b>. This makes it possible to synchronize the timing of the control signal input into the control terminal <b>60</b> with the timing of a data input/output signal.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 11</figref> is a circuit diagram showing an example of the construction of the phase compensation circuit <b>41</b>. The example shown in <figref idref="DRAWINGS">FIG. 8</figref> uses the phase compensation circuit <b>41</b> that is an inverter. Since an inverter has a small inherent delay, a phase delay exactly equal to 180 degrees cannot be achieved. The phase compensation circuit <b>41</b> of <figref idref="DRAWINGS">FIG. 11</figref> is an example of a circuit that can provide a phase delay exactly equal to 180 degrees.</p>
<p id="p-0075" num="0074">The phase compensation circuit <b>41</b> of <figref idref="DRAWINGS">FIG. 11</figref> includes flip-flops <b>71</b> and <b>72</b>, an inverter <b>73</b>, and a NAND gate <b>74</b>. The flip-flops <b>71</b> and <b>72</b> receive a clock signal CLK<b>2</b> having double the frequency from the PLL circuit <b>32</b> (see <figref idref="DRAWINGS">FIG. 6</figref>), and operates in synchronization with the edge timing of this clock signal. Accordingly, the synchronizing clock signal ck<b>1</b> output from the flip-flop <b>71</b> has the edge timing that is completely aligned with the edge timing of the synchronizing clock signal ck<b>10</b> output from the flip-flop <b>72</b>. The synchronizing clock signal ck<b>1</b> is inverted by the inverter <b>73</b> for provision to the input of the flip-flop <b>72</b>. The synchronizing clock signal ck<b>10</b> is inverted by the NAND gate <b>74</b> for provision to the input of the flip-flop <b>71</b>. A synchronizing signal supplied to the NAND gate <b>74</b> is generally HIGH, so that the NAND gate <b>74</b> operates as an inverter.</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. 12</figref> is a timing chart for explaining the operation of the phase compensation circuit <b>41</b> of <figref idref="DRAWINGS">FIG. 11</figref>. As shown in <figref idref="DRAWINGS">FIG. 12</figref>, the synchronizing clock signal ck<b>1</b> in synchronization with the edge timing of the clock signal CLK<b>2</b> is inverted to become a signal b. The signal b synchronizes with the edge timing of the clock signal CLK<b>2</b> so as to become the synchronizing clock signal ck<b>10</b>. Further, the synchronizing clock signal ck<b>10</b> in synchronization with the edge timing of the clock signal CLK<b>2</b> is inverted to become a signal a. The signal a synchronizes with the edge timing of the clock signal CLK<b>2</b> so as to become the synchronizing clock signal ck<b>1</b>.</p>
<p id="p-0077" num="0076">Through the operation described above, the synchronizing clock signal ck<b>10</b> is given a phase that differs by 180 degrees from the phase of the synchronizing clock signal ck<b>1</b>.</p>
<p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. 13</figref> is a circuit diagram showing an example of the construction of the PLL circuit <b>32</b>. The PLL circuit <b>32</b> of <figref idref="DRAWINGS">FIG. 13</figref> includes a phase difference detecting circuit <b>81</b>, a control voltage generating circuit <b>82</b>, a VCO (voltage control oscillator) <b>83</b>. The phase difference detecting circuit <b>81</b> serves to detect a phase difference between the input clock signal ck<b>0</b> and the delayed clock signal ckf. Specifically, the phase difference detecting circuit <b>81</b> controls the control voltage generating circuit <b>82</b> to lower the oscillating frequency of the VCO <b>83</b> when the phase of the delayed clock signal ckf is earlier than the phase of the input clock signal ck<b>0</b>. The phase difference detecting circuit <b>81</b> controls the control voltage generating circuit <b>82</b> to raise the oscillating frequency of the VCO <b>83</b> when the phase of the delayed clock signal ckf is later than the phase of the input clock signal ck<b>0</b>. The phase difference detecting circuit <b>81</b> controls the control voltage generating circuit <b>82</b> to maintain the current oscillating frequency of the VCO <b>83</b> when the phase of the delayed clock signal ckf is the same as the phase of the input clock signal ck<b>0</b>.</p>
<p id="p-0079" num="0078">Based on the output of the phase difference detecting circuit <b>81</b>, the control voltage generating circuit <b>82</b> generates a control voltage vcntl, which controls the oscillating frequency of the VCO <b>83</b>. The VCO <b>83</b> adjusts the frequency of the clock signal ckr having an adjusted phase based on the voltage level of the control voltage vcntl.</p>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 14</figref> is a circuit diagram showing another example of the construction of the PLL circuit <b>32</b>. The circuit construction shown in <figref idref="DRAWINGS">FIG. 14</figref> is generally referred to as a DLL (delay locked loop), which is one type of PLL circuit in a broad sense. The PLL circuit <b>32</b> of <figref idref="DRAWINGS">FIG. 14</figref> includes a phase difference detecting circuit <b>91</b>, a delay control circuit <b>92</b>, and a variable delay circuit <b>93</b>. The phase difference detecting circuit <b>91</b> serves to detect a phase difference between the input clock signal ck<b>0</b> and the delayed clock signal ckf. Specifically, when the phase of the delayed clock signal ckf is earlier than the phase of the input clock signal ck<b>0</b>, the delay control circuit <b>92</b> is controlled to increase the delay time of the variable delay circuit <b>93</b>. When the phase of the delayed clock signal ckf is later than the phase of the input clock signal ck<b>0</b>, the delay control circuit <b>92</b> is controlled to shorten the delay time of the variable delay circuit <b>93</b>. Furthermore, when the phase of the delayed clock signal ckf is the same as the phase of the input clock signal ck<b>0</b>, the delay control circuit <b>92</b> is controlled to maintain the current delay of the variable delay circuit <b>93</b>. Based on the output of the phase difference detecting circuit <b>91</b>, the delay control circuit <b>92</b> generates a control pointer, which controls the delay time of the variable delay circuit <b>93</b>. The variable delay circuit <b>93</b> adjusts the delay time of the clock signal ckr having an adjusted phase based on the value of the control pointer.</p>
<p id="p-0081" num="0080">While the PLL circuit <b>32</b> (DLL circuit) of <figref idref="DRAWINGS">FIG. 14</figref> adjusts only the delay time, the PLL circuit <b>32</b> of <figref idref="DRAWINGS">FIG. 13</figref> adjusts the oscillating frequency to achieve phase adjustment. The PLL circuit <b>32</b> of <figref idref="DRAWINGS">FIG. 13</figref> has an advantage in that the provision of a frequency divider at the output of the VCO <b>83</b> makes it possible to generate a frequency that is a multiple of the base frequency at the output of the VCO <b>83</b>. Such multiplied-frequency signal may be used as the clock signal CLK<b>2</b> shown in <figref idref="DRAWINGS">FIG. 11</figref> and <figref idref="DRAWINGS">FIG. 12</figref>, for example.</p>
<p id="p-0082" num="0081">In the following, another aspect of the present invention will be described.</p>
<p id="p-0083" num="0082">This aspect of the invention generally relates to memory controllers, and particularly relates to a memory controller that controls a memory of the DDRSDRAM type.</p>
<p id="p-0084" num="0083">“DDRSDRAM” (double data rate synchronous dynamic random access memory) is the term used to refer to a memory that transfers data at double the rate of a clock signal among the family of synchronous DRAMs that input/output signals in synchronization with a clock signal. Specifically, data is input/output at both the positive edge and negative edge of a clock signal, thereby achieving a data transfer rate that is double the clock frequency.</p>
<p id="p-0085" num="0084">From the memory controller to a DDRSDRAM, a differential clock comprised of a clock signal CLK and an inverted clock signal /CLK is supplied. Commands (i.e., address and control signals) are supplied from the memory controller to the memory at positive edges of the clock signal CLK. Data transfer between the memory controller and the memory is performed in synchronization with a two-way data strobe signal DQS. The data strobe signal DQS is output simultaneously with data by the device at the data transmission side. During the write operation, the memory controller supplies the data strobe signal DQS. During the read operation, the memory transmits the data strobe signal DQS. Access to the memory is performed in the form of burst operation, in which the reading of data starts at a specified position, and the specified number of data are continuously read in the specified order.</p>
<p id="p-0086" num="0085">The related-art technology includes a technology that latches a DDR signal by dividing it in parallel by use of a DS with a first delay, and further latches the DDR signal by use of a signal with a second delay, for provision to the core circuit in synchronization with CLK (Japanese Patent Application Publication No. 2003-151271).</p>
<p id="p-0087" num="0086"><figref idref="DRAWINGS">FIG. 15</figref> is a timing chart illustrating the read specification of the DDRSDRAM. As shown in <figref idref="DRAWINGS">FIG. 15</figref>, a read command Read is input into a memory device from the memory controller in synchronization with a rising edge of a clock signal CLK supplied to the memory device. Although not illustrated, an address signal is input into the memory at the same time as the read command Read.</p>
<p id="p-0088" num="0087">In response to the read command Read, the memory device transmits a data strobe signal DQS, and outputs data d<b>0</b> through d<b>3</b> continuously in synchronization with the data strobe signal DQS. Since the double-data-rate specification is assumed, the data d<b>0</b> through d<b>3</b> are output at the rate equal to one data output per half the cycle of the data strobe signal DQS. What is shown in <figref idref="DRAWINGS">FIG. 1</figref> corresponds to the case in which the burst length is <b>4</b>, and the CAS latency (i.e., the latency from the inputting of a read command Read to the outputting of the first read data) is 2 cycles.</p>
<p id="p-0089" num="0088"><figref idref="DRAWINGS">FIG. 16</figref> is a circuit diagram showing an example of the related-art construction of a read data latching circuit provided on the memory controller side. Between a memory controller (MCU) <b>110</b> and a memory (DDRDRAM) <b>111</b>, signal lines for coupling are provided on a printed circuit board, allowing the exchange of a data signal Data, the data strobe signal DQS, clock signals CLK and /CLK, etc.</p>
<p id="p-0090" num="0089">A clock signal output circuit unit and read data latching circuit unit of the memory controller <b>110</b> includes flip-flops <b>121</b> through <b>127</b>, an output buffer <b>128</b>, input buffers <b>129</b> and <b>130</b>, inverters <b>131</b> and <b>132</b>, a delay circuit <b>133</b>, and a selector <b>134</b>. Among these, the flip-flop <b>121</b>, the inverter <b>131</b>, and the output buffer <b>128</b> together constitute the clock signal output circuit unit.</p>
<p id="p-0091" num="0090"><figref idref="DRAWINGS">FIG. 17</figref> is a timing chart for explaining the operation of the circuit shown in <figref idref="DRAWINGS">FIG. 16</figref>. In the following, the latching of read data will be described with reference to <figref idref="DRAWINGS">FIG. 16</figref> and <figref idref="DRAWINGS">FIG. 17</figref>.</p>
<p id="p-0092" num="0091">In <figref idref="DRAWINGS">FIG. 16</figref>, the flip-flop <b>121</b> latches an inversion of its own output signal by responding to a trigger that is a rising edge of a system clock sclk, thereby generating a clock signal having double the cycle of the system clock sclk. Based on this clock signal, the output buffer <b>128</b> supplies the clock signal CLK and the inverted clock signal /CLK to the memory <b>111</b>. The memory <b>111</b> reads data from the memory core circuit in synchronization with the clock signal CLK and the inverted clock signal /CLK, and outputs the data signal Data together with the data strobe signal DQS. What is described here is shown in FIG. <b>17</b>-(<i>a</i>) to FIG. <b>17</b>-(<i>d</i>). The data signal Data is in synchronization with the data strobe signal DQS, and the four data items d<b>0</b> through d<b>3</b> are output in the form of burst operation.</p>
<p id="p-0093" num="0092">In <figref idref="DRAWINGS">FIG. 16</figref>, the input buffer <b>129</b> of the memory controller <b>110</b> receives the data strobe signal DQS output from the memory <b>111</b>. The received data strobe signal DQS is supplied from the input buffer <b>129</b> to the flip-flop <b>123</b> as a signal A through the delay circuit <b>133</b>, and is also supplied from the input buffer <b>129</b> to the flip-flop <b>122</b> as a signal B through the delay circuit <b>133</b> and the inverter <b>132</b>. The signals A and B are shown in FIGS. <b>17</b>-(<i>e</i>) and (<i>f</i>).</p>
<p id="p-0094" num="0093">The input buffer <b>130</b> of the memory controller <b>110</b> receives the data signal Data transmitted from the memory <b>111</b>. The received data signal Data is latched by the flip-flop <b>123</b> at a positive transition of the signal A, and is latched by the flip-flop <b>122</b> at a positive transition of the signal B. A signal C latched by the flip-flop <b>123</b> is shown in (g) of <figref idref="DRAWINGS">FIG. 17</figref>, and a signal D latched by the flip-flop <b>122</b> is shown in (h) of <figref idref="DRAWINGS">FIG. 17</figref>.</p>
<p id="p-0095" num="0094">In this manner, data latching at a double rate (i.e., double the rate of the clock signal CLK) is achieved. It should be noted here that the data strobe signal DQS and the data signal Data are in synchronization, having edges aligned with each other. The delay circuit <b>133</b> is provided for the purpose of delaying the received data strobe signal DQS to generate proper timing for latching the received data signal. The delay circuit <b>133</b> has a delay equal to delay<b>1</b>.</p>
<p id="p-0096" num="0095">The flip-flops <b>125</b> and <b>124</b> of <figref idref="DRAWINGS">FIG. 16</figref> latch the signal C and signal D, respectively, in synchronization with the positive transitions of the system clock sclk, thereby outputting a signal E and signal F, respectively. With this provision, the latched data are synchronized with the system clock sclk of the control circuit. The signal E and signal F synchronized with the system clock sclk are shown in (j) and (k) of <figref idref="DRAWINGS">FIG. 17</figref>.</p>
<p id="p-0097" num="0096">The selector <b>134</b> of <figref idref="DRAWINGS">FIG. 16</figref> receives a clock signal G made by dividing the frequency of the system clock sclk by half by the flip-flop <b>126</b>, and selects the signal E and the signal F alternately in synchronization with the clock signal G, thereby outputting a signal I. Specifically, the signal E is selected and output when the signal G is LOW, and the signal F is selected and output when the signal G is HIGH. The flip-flop <b>127</b> latches the signal I in synchronization with the system clock sclk, thereby outputting a data signal H that is synchronized with the system clock sclk. The selector control signal G is shown in (l) of <figref idref="DRAWINGS">FIG. 17</figref>, and the data signal H is shown in (m) of <figref idref="DRAWINGS">FIG. 17</figref>.</p>
<p id="p-0098" num="0097">In (m) of <figref idref="DRAWINGS">FIG. 17</figref>, the data signal H synchronized with the system clock sclk does not include the last read data item d<b>3</b>. This is attributable to the malfunction as will be described in the following.</p>
<p id="p-0099" num="0098">As shown in (c) of <figref idref="DRAWINGS">FIG. 17</figref>, the data strobe signal DQS alternates between HIGH and LOW in synchronization with the data signal d<b>0</b> through d<b>3</b>, and is set in a HIGH impedance state (“HiZ”: floating state) immediately after the end of the data signal d<b>3</b>. This is a signal change conforming to the DDRSDRAM specification. When the data strobe signal DQS is set in the floating state, the output of the input buffer <b>129</b> becomes unstable, alternating irregularly between HIGH and LOW. As a result, the data stored in the flip-flops <b>122</b> and <b>123</b> ends up being destroyed. That is, as shown in (h) of <figref idref="DRAWINGS">FIG. 17</figref>, the output signal D of the flip-flop <b>122</b> is put into an unstable state in response to the change of the data strobe signal DQS to the HIGH impedance state, resulting in the stored second data d<b>3</b> being destroyed.</p>
<p id="p-0100" num="0099">The data signal d<b>3</b> is destroyed at the same timing at which the data d<b>2</b> stored in the flip-flop <b>123</b> shown in (g) of <figref idref="DRAWINGS">FIG. 17</figref> disappears. Consequently, the data signal d<b>2</b> is maintained for the duration of one cycle of the clock signal CLK, but the data signal d<b>3</b> is maintained for only half the cycle of the clock signal CLK.</p>
<p id="p-0101" num="0100">When the data signal is selected by the selector <b>134</b> and then latched by the flip-flop <b>127</b> in synchronization with the system clock sclk, therefore, the selecting and latching of signals fail with respect to the data signal d<b>3</b>. As a result, the data signal d<b>3</b> disappears in the data signal H synchronized with the system clock sclk shown in (m) of <figref idref="DRAWINGS">FIG. 17</figref>.</p>
<p id="p-0102" num="0101">The operation shown in <figref idref="DRAWINGS">FIG. 17</figref> illustrates the designed timing conditions in which the latching of the data signal d<b>3</b> is designed to fail. However, it is not intended to indicate that the latching of the data signal d<b>3</b> is impossible. With proper setting of the delay time of the delay circuit <b>133</b>, it is possible to design timing conditions in which the data signal d<b>3</b> is satisfactorily latched. In such a case, however, little margins are provided for the delay time of the delay circuit <b>133</b> and for other operations. This results in inconvenience due to the lack of flexibility with respect to the setting of operating conditions, and gives rise to a problem in that malfunction may occur when the operating conditions change.</p>
<p id="p-0103" num="0102">Accordingly, there is a need for a memory controller conforming to the DDRSDRAM specification that has a sufficient operating margin, and that is not affected by the unstable signal state caused by the HIGH impedance state of a data strobe signal.</p>
<p id="p-0104" num="0103">According to the present invention, a memory controller includes a delay circuit coupled to a node for receiving a data strobe signal to output a first timing signal made by delaying the data strobe signal, a first flip-flop coupled to an output of the delay circuit and to a node for receiving a data signal to latch the data signal in response to the first timing signal, a signal-settled-state holding circuit coupled to the output of the delay circuit to output a second timing signal made from the first timing signal, and a second flip-flop coupled to an output of the signal-settled-state holding circuit and to the node for receiving the data signal to latch the data signal in response to the second timing signal, wherein the signal-settled-state holding circuit is configured to maintain a signal-settled state of the second timing signal for a predetermined duration following a change of the first timing signal into an unstable state.</p>
<p id="p-0105" num="0104">According to at least one embodiment of the invention, the signal-settled-state holding circuit can maintain for the predetermined duration the signal settled state of the second timing signal that indicates the latch timing of the second flip-flop. As a result, the second flip-flop can maintain stored data for a desired time period following the latching of the data in the second flip-flop. The length of time during which the signal-settled-state holding circuit maintains the signal settled state determines the length of the signal settled state of the latch timing signal and hence the length of time during which the data signal is held. Because of this, it is possible to achieve a stable read-data latching operation without being significantly influenced by the delay time of the delay circuit or by other operating conditions. Further, since the delay of the delay circuit and other operating conditions are provided with sufficient margins, there is sufficient flexibility in setting the operating conditions, which facilitates a simpler design.</p>
<p id="p-0106" num="0105">In the following, embodiments of the present invention will be described with reference to the accompanying drawings.</p>
<p id="p-0107" num="0106"><figref idref="DRAWINGS">FIG. 18</figref> is a block diagram showing the construction of a memory controller to which the present invention is applied. A memory controller <b>140</b> includes a memory control circuit <b>141</b>, a clock output circuit unit <b>142</b>, a command/address output circuit unit <b>143</b>, a read data latching circuit unit <b>144</b>, and a write data output circuit unit <b>145</b>. Between the memory controller <b>140</b> and the memory (DDRDRAM) <b>111</b>, signal lines for coupling are provided on a printed circuit board, allowing the exchange of a data signal Data, a data strobe signal DQS, a command/address signal CMD/Add, clock signals CLK and /CLK, etc.</p>
<p id="p-0108" num="0107">The memory <b>111</b> conforms to the DDRSDRAM specification. A command signal and address signal are supplied from the memory controller <b>140</b> to the memory <b>111</b> at positive edges of the clock signal CLK. Data transfer between the memory controller <b>140</b> and the memory <b>111</b> is performed in synchronization with the two-way data strobe signal DQS.</p>
<p id="p-0109" num="0108">The data strobe signal DQS is output simultaneously with data by the device on the data transmission side. During the write operation, the memory controller <b>140</b> supplies the data strobe signal DQS. During the read operation, the memory <b>111</b> transmits the data strobe signal DQS. Access to the memory <b>111</b> is performed in the form of burst operation, in which the reading of data starts at a specified position, and the specified number of data items are continuously read in the specified order. To be specific, a read operation conforming to the read specification of the DDRSDRAM as shown in <figref idref="DRAWINGS">FIG. 15</figref> is performed.</p>
<p id="p-0110" num="0109">The memory control circuit <b>141</b> controls the clock output circuit unit <b>142</b>, the command/address output circuit unit <b>143</b>, the read data latching circuit unit <b>144</b>, and the write data output circuit unit <b>145</b>, thereby attending to the exchange of signals with the memory <b>111</b>. To be specific, the command/address output circuit unit <b>143</b> supplies the command signal CMD and the address signal Add to the memory <b>111</b>. The command signal CMD specifies a read operation, a write operation, etc. The address signal Add specifies a read address and a write address.</p>
<p id="p-0111" num="0110">The clock output circuit unit <b>142</b> generates the clock signal CLK and the inverted clock signal /CLK based on the system clock sclk, and supplies the generated clock signals to the memory <b>111</b>. In synchronization with the clock signals CLK and /CLK, the memory <b>111</b> performs its core operations. In the case of a write operation, the write data output circuit unit <b>145</b> outputs a write data signal Data together with the data strobe signal DQS, and the memory <b>111</b> writes the write data to a specified address. In the case of a read operation, the memory <b>111</b> outputs a read data signal Data together with the data strobe signal DQS, and the read data latching circuit unit <b>144</b> latches the read data in synchronization with the data strobe signal DQS. Each circuit unit of the memory controller <b>140</b> operates in synchronization with the system clock sclk supplied from the exterior.</p>
<p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. 19</figref> is a circuit diagram showing an embodiment of the clock output circuit unit <b>142</b> and the read data latching circuit unit <b>144</b> of the memory controller <b>140</b>. In <figref idref="DRAWINGS">FIG. 19</figref>, the same elements as those of <figref idref="DRAWINGS">FIG. 16</figref> are referred to by the same numerals, and a description thereof will be omitted.</p>
<p id="p-0113" num="0112">The clock output circuit unit <b>142</b> includes the flip-flop <b>121</b>, the inverter <b>131</b>, and the output buffer <b>128</b>. The read data latching circuit unit <b>144</b> includes the flip-flops <b>122</b> through <b>127</b>, the input buffers <b>129</b> and <b>130</b>, the inverter <b>132</b>, the delay circuit <b>133</b>, the selector <b>134</b>, and a signal-settled-state holding circuit <b>150</b>. The signal-settled-state holding circuit <b>150</b> includes a delay circuit <b>151</b>, an inverter <b>152</b>, and an OR gate <b>153</b>. As will be described later, the signal-settled-state holding circuit <b>150</b> controls a signal so that the timing signal B for the flip-flop <b>122</b> maintains its settled signal state for a desired time period.</p>
<p id="p-0114" num="0113">The delay circuit <b>133</b> and the delay circuit <b>151</b> may be implemented by use of simple delay buffers. Alternatively, the delay circuit <b>133</b> and the delay circuit <b>151</b> may be implemented by use of programmable delay circuits or DLL (delay locked loop) circuits, as will be described later in other embodiments.</p>
<p id="p-0115" num="0114"><figref idref="DRAWINGS">FIG. 20</figref> is a timing chart for explaining the operation of the circuit shown in <figref idref="DRAWINGS">FIG. 19</figref>. In the following, the latching of read data according to the present invention will be described with reference to <figref idref="DRAWINGS">FIG. 19</figref> and <figref idref="DRAWINGS">FIG. 20</figref>.</p>
<p id="p-0116" num="0115">In <figref idref="DRAWINGS">FIG. 19</figref>, the flip-flop <b>121</b> latches an inversion of its own output signal by responding to a trigger that is a rising edge of the system clock sclk, thereby generating a clock signal having double the cycle of the system clock sclk. Based on this clock signal, the output buffer <b>128</b> supplies the clock signal CLK and the inverted clock signal /CLK to the memory <b>111</b>. The memory <b>111</b> reads data from the memory core circuit in synchronization with the clock signal CLK and the inverted clock signal /CLK, and outputs the data signal Data together with the data strobe signal DQS. What is described here is shown in FIG. <b>20</b>-(<i>a</i>) to FIG. <b>20</b>-(<i>d</i>). The data signal Data is in synchronization with the data strobe signal DQS, and the four data items d<b>0</b> through d<b>3</b> are output in the form of burst operation.</p>
<p id="p-0117" num="0116">In <figref idref="DRAWINGS">FIG. 19</figref>, the input buffer <b>129</b> of the memory controller <b>140</b> receives the data strobe signal DQS output from the memory <b>111</b>. The received data strobe signal DQS is supplied from the input buffer <b>129</b> to the flip-flop <b>123</b> as a latch timing signal A through the delay circuit <b>133</b>, and is also supplied from the input buffer <b>129</b> to the flip-flop <b>122</b> as a latch timing signal B through the delay circuit <b>133</b>, the signal-settled-state holding circuit <b>150</b>, and the inverter <b>132</b>. The latch timing signals A and B are shown in FIGS. <b>20</b>-(<i>e</i>) and (<i>h</i>).</p>
<p id="p-0118" num="0117">In the signal-settled-state holding circuit <b>150</b>, the delay circuit <b>151</b> delays the output of the delay circuit <b>133</b> (latch timing signal A) by a predetermined delay time (delay<b>2</b>). This delayed signal A′ is shown in FIG. <b>20</b>-(<i>f</i>). The inverter <b>152</b> inverts the signal A′ to generate a signal B′ as shown in FIG. <b>6</b>-(<i>g</i>). In the signal A′ and the signal B′, the state in which the signal is settled is prolonged by a length equal to the delay time delay<b>2</b>, compared to the signal A, as shown in FIGS. <b>20</b>-(<i>f</i>) and (<i>g</i>).</p>
<p id="p-0119" num="0118">As a result, the latch timing signal B shown in FIG. <b>20</b>-(<i>h</i>) also has its signal settled state prolonged by a length equal to the delay time delay<b>2</b>, compared to the signal A. In other words, the state in which the signal is unstable is masked for the duration equal to the time delay delay<b>2</b>. In this manner, the present invention successfully maintains the signal settled state of the latch timing signal B for a desired duration. As a result, it becomes possible to maintain stored data for a desired duration following the latching of the received data signal d<b>3</b> by the flip-flop <b>122</b>, as will be described later.</p>
<p id="p-0120" num="0119">The input buffer <b>130</b> of the memory controller <b>140</b> receives the data signal Data transmitted from the memory <b>111</b>. The received data signal Data is latched by the flip-flop <b>123</b> at a positive transition of the signal A, and is latched by the flip-flop <b>122</b> at a positive transition of the signal B. A signal C latched by the flip-flop <b>123</b> is shown in (i) of <figref idref="DRAWINGS">FIG. 20</figref>, and a signal D latched by the flip-flop <b>122</b> is shown in (j) of <figref idref="DRAWINGS">FIG. 20</figref>.</p>
<p id="p-0121" num="0120">In this manner, data latching at a double rate (i.e., double the rate of the clock signal CLK) is achieved. In the signal D shown in (j) of <figref idref="DRAWINGS">FIG. 20</figref>, the read data d<b>3</b> is maintained for the time period during which the latch timing signal B maintains its signal settled state. Accordingly, the read data d<b>3</b> is not destroyed together with the disappearance of the read data d<b>2</b>, unlike the related-art operations shown in <figref idref="DRAWINGS">FIG. 17</figref>.</p>
<p id="p-0122" num="0121">The flip-flops <b>125</b> and <b>124</b> of <figref idref="DRAWINGS">FIG. 19</figref> latch the signal C and signal D, respectively, in synchronization with the positive transitions of the system clock sclk, thereby outputting a signal E and signal F, respectively. With this provision, the latched data are synchronized with the system clock sclk of the control circuit. The signal E and signal F synchronized with the system clock sclk are shown in (l) and (m) of <figref idref="DRAWINGS">FIG. 20</figref>. In the signal F shown in (m) of <figref idref="DRAWINGS">FIG. 20</figref>, the read data d<b>3</b> is maintained for a desired duration without being destroyed together with the disappearance of the read data d<b>2</b>, unlike the related-art operations shown in FIG. <b>17</b>-(<i>k</i>).</p>
<p id="p-0123" num="0122">The selector <b>134</b> of <figref idref="DRAWINGS">FIG. 19</figref> receives a clock signal G made by dividing the frequency of the system clock sclk by half by the flip-flop <b>126</b>, and selects the signal E and the signal F alternately in synchronization with the clock signal G, thereby outputting a signal I. Specifically, the signal E is selected and output when the signal G is LOW, and the signal F is selected and output when the signal G is HIGH. The flip-flop <b>127</b> latches the signal I in synchronization with the system clock sclk, thereby outputting a data signal H that is synchronized with the system clock sclk. The selector control signal G is shown in (n) of <figref idref="DRAWINGS">FIG. 20</figref>, and the data signal H is shown in (o) of <figref idref="DRAWINGS">FIG. 20</figref>.</p>
<p id="p-0124" num="0123">In detail, the signal E shown in (l) of <figref idref="DRAWINGS">FIG. 20</figref> is latched at the rising edges of the system clock sclk at timing T<b>1</b> and timing T<b>3</b>, thereby producing d<b>0</b> and d<b>2</b> of the data signal H shown in (o) of <figref idref="DRAWINGS">FIG. 20</figref>. Moreover, the signal F shown in (m) of <figref idref="DRAWINGS">FIG. 20</figref> is latched at the rising edges of the system clock sclk at timing T<b>2</b> and timing T<b>4</b>, thereby producing d<b>1</b> and d<b>3</b> of the data signal H shown in (o) of <figref idref="DRAWINGS">FIG. 20</figref>. Since the read data d<b>3</b> of the signal F is maintained for a proper duration, the flip-flop <b>127</b> properly latches the read data d<b>3</b> at timing T<b>4</b>.</p>
<p id="p-0125" num="0124">In the manner as described above, all the read data items d<b>0</b> through d<b>3</b> are present in the data signal H synchronized with the system clock sclk. Further, the delay length delay<b>2</b> of the delay circuit <b>151</b> in the signal-settled-state holding circuit <b>150</b> controls the time length during which the latch timing signal B remains in the signal settled state, i.e., the time length during which the read data d<b>3</b> of the signal F is maintained. Because of this, it is possible to achieve a stable operation without being significantly influenced by the delay time delay<b>1</b> of the delay circuit <b>133</b> or by other operating conditions. Further, since the delay length of the delay circuit <b>133</b> and other operating conditions are provided with sufficient margins, there is sufficient flexibility in setting the operating conditions, which facilitates a simpler design.</p>
<p id="p-0126" num="0125"><figref idref="DRAWINGS">FIG. 21</figref> is a circuit diagram showing an example of the circuit construction of the delay circuit <b>151</b>. The same circuit construction may be used for the delay circuit <b>133</b>. As can be understood from the above description, the delay of the delay circuit <b>151</b> is an important parameter that determines the success or failure as well as stability of the latching of read data in the memory controller <b>140</b>. It is thus preferable to be able to set this parameter to any desired value.</p>
<p id="p-0127" num="0126">The delay circuit <b>151</b> of <figref idref="DRAWINGS">FIG. 21</figref> includes delay buffers <b>61</b> through <b>64</b> and selectors <b>65</b> through <b>68</b>. The selecting operations of the selectors <b>65</b> through <b>68</b> are controlled based on the control signals c<b>1</b> through c<b>3</b>, respectively. In each selector, an input into the upper input node is selected when the control signal is 0, for example, and an input into the lower input node is selected when the control signal is 1. If all the control signals c<b>1</b> through c<b>3</b> are 0, for example, an input signal “in” passes the selectors <b>65</b> through <b>68</b> without passing through the delay buffers <b>61</b> through <b>64</b> to be provided as an output signal out. In this case, the delay is zero if the delays of the selectors are disregarded. If all the control signals c<b>1</b> through c<b>3</b> are 1, the input signal “in” passes the delay buffers <b>61</b> through <b>64</b> to be provided as the output signal out. In this case, the amount of delay is the maximum delay that can be provided by the delay circuit <b>151</b>.</p>
<p id="p-0128" num="0127">As shown in <figref idref="DRAWINGS">FIG. 21</figref>, the delay buffers <b>61</b> through <b>64</b> have a delay of a unit length, a delay twice as long as the unit length, a delay four times as long as the unit length, and a delay eight times as long as the unit length, respectively. If the values of the control signals c<b>1</b> through c<b>3</b> are stored in a 4-bit register, the delay circuit <b>151</b> can provide a delay proportional to a binary value (0-15) that is set in this register. For example, a cycle time may be computed by a program in the memory controller <b>40</b>, thereby providing for a proper delay time to be set. This provides a programmable delay circuit.</p>
<p id="p-0129" num="0128"><figref idref="DRAWINGS">FIG. 22</figref> is a circuit diagram showing another example of the circuit construction of the delay circuit <b>151</b>. The same circuit construction may be used to implement the delay circuit <b>133</b>. The delay of the delay circuit <b>151</b> of <figref idref="DRAWINGS">FIG. 21</figref> is a predetermined value that is set up by a register setting value or the like, and remains fixed unless the register setting value is changed even if the operating frequency of the memory controller <b>40</b> changes. With the construction shown in <figref idref="DRAWINGS">FIG. 24</figref>, on the other hand, the delay length is dynamically selected in response to the operating frequency.</p>
<p id="p-0130" num="0129">The delay circuit <b>151</b> of <figref idref="DRAWINGS">FIG. 22</figref> includes voltage-controlled delay elements <b>171</b> through <b>178</b>, a voltage control signal generator <b>181</b>, and a phase detecting unit <b>182</b>. The voltage control delay elements <b>171</b> through <b>178</b> provide signal delays that change in response to the voltage level of a voltage control signal VC supplied from the voltage control signal generator <b>181</b>. The voltage control delay elements <b>171</b> through <b>174</b> are connected in series to form a delay line, and the voltage control delay elements <b>175</b> through <b>178</b> are connected in series to form another delay line.</p>
<p id="p-0131" num="0130">The delay line formed by the voltage control delay elements <b>175</b> through <b>178</b> receives the system clock sclk as an input signal, and delays the received signal to output a delay clock sclk_d. The phase detecting unit <b>182</b> detects a phase difference between the system clock sclk and the delay clock sclk_d, and supplies a signal responsive to the detected phase difference to the voltage control signal generator <b>181</b>.</p>
<p id="p-0132" num="0131">The voltage control signal generator <b>81</b> adjusts the potential level of the voltage control signal VC in response to the signal from the phase detecting unit <b>182</b>, thereby controlling the delay of the voltage control delay elements <b>175</b> through <b>178</b>. In so doing, the voltage control signal generator <b>181</b> adjusts the potential level of the voltage control signal VC such that the phase difference detected by the phase detecting unit <b>182</b> becomes zero. To be specific, the voltage control signal VC is so changed as to increase the delay of the voltage control delay elements <b>175</b> through <b>178</b> when the phase of the delay clock sclk_d is earlier than the phase of the system clock sclk. When the phase of the delay clock sclk_d is later than the phase of the system clock sclk, the voltage control signal VC is so changed as to decrease the delay of the voltage control delay elements <b>175</b> through <b>178</b>. The provision is thus made to form a DLL (delay locked loop) circuit.</p>
<p id="p-0133" num="0132">Through the control operation as described above, the delay of the voltage control delay elements <b>175</b> through <b>178</b> is adjusted such that the phase of the delay clock sclk_d becomes identical to the phase of the system clock sclk. That is, the delay of the voltage control delay elements <b>175</b> through <b>178</b> is set to a length equal to one cycle of the system clock sclk. The voltage control delay elements <b>175</b> through <b>178</b> have the same configuration, and the delay of each element is the same. The system clock sclk, the outputs ck<b>1</b> through ck<b>3</b> of the respective voltage control delay elements <b>175</b> through <b>177</b>, the output sclk_d of the voltage control delay element <b>178</b> are shown in (a) through (e) of <figref idref="DRAWINGS">FIG. 23</figref>.</p>
<p id="p-0134" num="0133">The voltage control delay elements <b>171</b> through <b>174</b> has the same configuration as the voltage control delay elements <b>175</b> through <b>178</b>, and are controlled by the same voltage control signal VC. It follows that the delay of the voltage control delay elements <b>171</b> through <b>174</b> and the delay of the voltage control delay elements <b>175</b> through <b>178</b> are the same. Consequently, an output signal out<b>1</b> is delayed by a quarter of the cycle of the system clock sclk relative to an incoming signal “in”, and an output signal out<b>2</b> is delayed by half a cycle of the system clock sclk relative to the incoming signal “in”. Further, an output signal out<b>3</b> is delayed by three quarters of the cycle of the system clock sclk relative to the incoming signal “in”, and an output signal out<b>4</b> is delayed by one cycle of the system clock sclk relative to the incoming signal “in”. The incoming signal “in” and the output signals out<b>1</b> through out<b>3</b> are shown in (f) through (i) of <figref idref="DRAWINGS">FIG. 23</figref>, respectively. A signal having a proper delay is selected from these output signals as the output signal of the delay circuit <b>151</b>.</p>
<p id="p-0135" num="0134"><figref idref="DRAWINGS">FIG. 24</figref> is a circuit diagram showing another embodiment of the clock output circuit unit <b>142</b> and the read data latching circuit unit <b>144</b> of the memory controller <b>140</b>. In <figref idref="DRAWINGS">FIG. 24</figref>, the same elements as those of <figref idref="DRAWINGS">FIG. 19</figref> are referred to by the same numerals, and a description thereof will be omitted.</p>
<p id="p-0136" num="0135">In comparison with the embodiment of <figref idref="DRAWINGS">FIG. 19</figref>, the embodiment shown in <figref idref="DRAWINGS">FIG. 24</figref> uses a DLL circuit <b>133</b>A in place of the delay circuit <b>133</b>, and uses a DLL circuit <b>151</b>A in place of the delay circuit <b>151</b>.</p>
<p id="p-0137" num="0136">As the output signal of the DLL circuit <b>151</b>A, it is preferable to use a signal having a delay approximately ranging from three quarters of a cycle to four quarters of a cycle of the system clock sclk. The signal having a delay equal to four quarters of a cycle (i.e., equal to one cycle) may be used, for example. In this case, the duration of the read data d<b>3</b> appearing in the signal D latched by the flip-flop <b>122</b> shown in (j) of <figref idref="DRAWINGS">FIG. 20</figref> becomes equal to one cycle of the data strobe signal DQS, which is the same as the duration of the other read data d<b>0</b> through d<b>2</b>. In the example shown in <figref idref="DRAWINGS">FIG. 24</figref>, the signal out<b>3</b>, which is delayed by three quarters of a cycle, is output as the output signal.</p>
<p id="p-0138" num="0137">As the output signal of the DLL circuit <b>133</b>A, it is preferable to use a signal having a delay equal to half a cycle of the system clock sclk. With this provision, a data latching operation is performed at the timing exactly at the midpoint of each data valid period of the data signal Data shown in FIG. <b>20</b>-(<i>d</i>).</p>
<p id="p-0139" num="0138">As described in connection with the operation of <figref idref="DRAWINGS">FIG. 22</figref>, the delay of the DLL circuit is dynamically adjusted in response to the length of the cycle of the system clock sclk. In the embodiment shown in <figref idref="DRAWINGS">FIG. 24</figref>, the delay is automatically adjusted to provide an optimum delay length at all times even if the system clock sclk changes.</p>
<p id="p-0140" num="0139"><figref idref="DRAWINGS">FIG. 25</figref> is a circuit diagram showing still another embodiment of the clock output circuit unit and the read data latching circuit unit of the memory controller. In <figref idref="DRAWINGS">FIG. 25</figref>, the same elements as those of <figref idref="DRAWINGS">FIG. 19</figref> are referred to by the same numerals, and a description thereof will be omitted.</p>
<p id="p-0141" num="0140">In the embodiment of <figref idref="DRAWINGS">FIG. 25</figref>, a memory controller <b>140</b>A includes a signal-settled-state holding circuit <b>150</b>A in place of the signal-settled-state holding circuit <b>150</b> of <figref idref="DRAWINGS">FIG. 24</figref>. Moreover, the inverter <b>132</b> shown in <figref idref="DRAWINGS">FIG. 24</figref> is removed in <figref idref="DRAWINGS">FIG. 25</figref>. The signal-settled-state holding circuit <b>150</b>A includes a DLL circuit <b>151</b>A, an inverter <b>191</b>, and an AND gate <b>192</b>. The signal-settled-state holding circuit <b>150</b>A implements the same circuit logic as the circuit portion that is comprised of the signal-settled-state holding circuit <b>150</b> and the inverter <b>132</b> in <figref idref="DRAWINGS">FIG. 24</figref>. Namely, the latch timing signal B input into the flip-flop <b>122</b> in <figref idref="DRAWINGS">FIG. 24</figref> is logically identical to the latch timing signal B that is input into the flip-flop <b>122</b> in <figref idref="DRAWINGS">FIG. 25</figref>.</p>
<p id="p-0142" num="0141">In the embodiment of <figref idref="DRAWINGS">FIG. 25</figref>, the signal-settled-state holding circuit <b>150</b>A is provided as a circuit that implements the same circuit logic as in the embodiment of <figref idref="DRAWINGS">FIG. 24</figref>. Alternatively, another circuit having different circuit logic may be used. All that is required is that an unstable signal state caused by the HIGH impedance state of the data strobe signal DQS received by the input buffer <b>129</b> does not destroy the data stored in the flip-flop <b>122</b> for a predetermined period of time.</p>
<p id="p-0143" num="0142">Further, the present invention is not limited to these embodiments, but various variations and modifications may be made without departing from the scope of the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A circuit for timing adjustment, comprising:
<claim-text>a PLL circuit configured to generate a phase-adjusted clock signal in response to phase comparison between an input clock signal and a delayed clock signal;</claim-text>
<claim-text>a feedback path configured to delay the phase-adjusted clock signal for provision as the delayed clock signal to said PLL circuit;</claim-text>
<claim-text>a first timing correction circuit configured to add a predetermined delay time to said feedback path;</claim-text>
<claim-text>an output data circuit directly coupled to a node to receive the phase-adjusted clock signal from the PLL circuit through the node and configured to supply output data at first timing indicated by the phase-adjusted clock signal;</claim-text>
<claim-text>a second timing correction circuit directly coupled to said node to receive the phase-adjusted clock signal from the PLL circuit through the node and configured to delay the phase-adjusted clock signal by a delay time equal to the predetermined delay time to generate a further-delayed clock signal indicating second timing different from the first timing; and</claim-text>
<claim-text>an input data circuit configured to receive the further-delayed clock signal and to latch input data at the second timing indicated by the further-delayed clock signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A circuit for timing adjustment, comprising:
<claim-text>a PLL circuit configured to generate a phase-adjusted clock signal in response to chase comparison between an input clock signal and a delayed clock signal;</claim-text>
<claim-text>a feedback path configured to delay the phase-adjusted clock signal for provision as the delayed clock signal to said PLL circuit;</claim-text>
<claim-text>a first timing correction circuit configured to add a predetermined delay time to said feedback path;</claim-text>
<claim-text>an output data circuit configured to supply output data at first timing responsive to the phase-adjusted clock signal;</claim-text>
<claim-text>a second timing correction circuit configured to delay the first timing by the predetermined delay time to generate second timing different from the first timing;</claim-text>
<claim-text>an input data circuit configured to latch input data at the second timing;</claim-text>
<claim-text>a clock input circuit configured to delay an external clock signal by a first delay time for provision as the input clock signal to said PLL circuit; and</claim-text>
<claim-text>a data output circuit configured to output the output data to an exterior after a second delay time following the supply of the output data from said output data circuit,</claim-text>
<claim-text>wherein the predetermined delay time of said first timing correction circuit and said second timing correction circuit is substantially equal to a sum of the first delay time and the second delay time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The circuit as claimed in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein each of said first timing correction circuit and said second timing correction circuit includes:
<claim-text>a first circuit having a same configuration as said clock input circuit; and</claim-text>
<claim-text>a second circuit having a same configuration as said data output circuit, said first circuit and said second circuit coupled together in series.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The circuit as claimed in <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein a pin for outputting the output data to the exterior and a pin for inputting the input data from the exterior are one and the same, said data output circuit configured to be selectively set to a HIGH impedance state, the setting of the HIGH impedance state being controlled at the first timing.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A circuit for timing adjustment, comprising:
<claim-text>a PLL circuit configured to generate a phase-adjusted clock signal in response to phase comparison between an input clock signal and a delayed clock signal;</claim-text>
<claim-text>a feedback path configured to delay the phase-adjusted clock signal for provision as the delayed clock signal to said PLL circuit;</claim-text>
<claim-text>a first timing correction circuit configured to add a predetermined delay time to said feedback path;</claim-text>
<claim-text>an output data circuit configured to supply output data at first timing responsive to the phase-adjusted clock signal;</claim-text>
<claim-text>a second timing correction circuit configured to delay the first timing by the predetermined delay time to generate second timing different from the first timing; and</claim-text>
<claim-text>an input data circuit configured to latch input data at the second timing;</claim-text>
<claim-text>wherein each of said first timing correction circuit and said second timing correction circuit further includes terminal pins connectable to the exterior, wherein a long-distance wire is to be connected to said terminal pins to include a delay time of the long-distance wire in each of said first timing correction circuit and said second timing correction circuit.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A circuit for timing adjustment, comprising:
<claim-text>a PLL circuit configured to generate a phase-adjusted clock signal in response to phase comparison between an input clock signal and a delayed clock signal;</claim-text>
<claim-text>a feedback oath configured to delay the phase-adjusted clock signal for provision as the delayed clock signal to said PLL circuit;</claim-text>
<claim-text>a first timing correction circuit configured to add a predetermined delay time to said feedback path;</claim-text>
<claim-text>an output data circuit configured to supply output data at first timing responsive to the phase-adjusted clock signal;</claim-text>
<claim-text>a second timing correction circuit configured to delay the first timing by the predetermined delay time to generate second timing different from the first timing;</claim-text>
<claim-text>an input data circuit configured to latch input data at the second timing; and</claim-text>
<claim-text>a phase compensation circuit configured to shift a phase by 180 degrees on a path along which the second timing is generated.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The circuit as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said phase compensation circuit is an inverter.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The circuit as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said phase compensation circuit includes two flip-flops configured to operate in synchronization with a clock signal having twice as high a frequency as a frequency of the input clock signal.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A circuit for timing adjustment, comprising:
<claim-text>a PLL circuit configured to generate a phase-adjusted clock signal in response to phase comparison between an input clock signal and a delayed clock signal;</claim-text>
<claim-text>a feedback path configured to delay the phase-adjusted clock signal for provision as the delayed clock signal to said PLL circuit;</claim-text>
<claim-text>a first timing correction circuit configured to add a predetermined delay time to said feedback path;</claim-text>
<claim-text>an output data circuit configured to supply output data at first timing responsive to the phase-adjusted clock signal;</claim-text>
<claim-text>a second timing correction circuit configured to delay the first timing by the predetermined delay time to generate second timing different from the first timing;</claim-text>
<claim-text>an input data circuit configured to latch input data at the second timing;</claim-text>
<claim-text>wherein said PLL circuit includes:</claim-text>
<claim-text>a phase difference detecting circuit configured to detect a phase difference between the input clock signal and the delayed clock signal;</claim-text>
<claim-text>a control voltage generating circuit configured to generate a control voltage responsive to an output of said phase difference detecting circuit; and</claim-text>
<claim-text>a VCO configured to generate the phase-adjusted clock signal by oscillating at frequency responsive to the control voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The circuit as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said PLL circuit includes:
<claim-text>a phase difference detecting circuit configured to detect a phase difference between the input clock signal and the delayed clock signal;</claim-text>
<claim-text>a delay control circuit configured to generate a control signal responsive to an output of said phase difference detecting circuit; and</claim-text>
<claim-text>a variable delay circuit configured to generate the phase-adjusted clock signal by delaying the input clock signal by a delay time responsive to the control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A memory controller, comprising:
<claim-text>a delay circuit coupled to a node for receiving a data strobe signal to output a first timing signal including a first latching edge delayed by a predetermined delay from a first edge of the data strobe signal;</claim-text>
<claim-text>a first flip-flop coupled to an output of said delay circuit and to a node for receiving a data signal to latch the data signal in response to the first timing signal;</claim-text>
<claim-text>a signal-settled-state holding circuit coupled to the output of said delay circuit to output a second timing signal including a second latching edge delayed by the predetermined delay from a second edge of the data strobe signal; and</claim-text>
<claim-text>a second flip-flop coupled to an output of said signal-settled-state holding circuit and to the node for receiving the data signal to latch the data signal in response to the second timing signal,</claim-text>
<claim-text>wherein said signal-settled-state holding circuit is configured to maintain a signal-settled state of the second timing signal for a predetermined duration following a change of the first timing signal into an unstable state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The memory controller as claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the unstable state of the first timing signal corresponds to a HIGH impedance state of the data strobe signal.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The memory controller as claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising a third flip-flop coupled to outputs of said first and second flip-flops to latch the data signal stored in said first flip-flop and the data signal stored in said second flip-flop alternately, the predetermined duration being a length that allows said third flip-flop to latch the data signal stored in said second flip-flop.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The memory controller as claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said signal-settled-state holding circuit includes a delay buffer having a fixed delay, the delay of said delay buffer determining the predetermined duration.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The memory controller as claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said signal-settled-state holding circuit includes a programmable delay circuit, a delay of said programmable delay circuit determining the predetermined duration.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The memory controller as claimed in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein said programmable delay circuit includes:
<claim-text>a plurality of delay elements; and</claim-text>
<claim-text>a plurality of selectors, said delay elements and said selectors being alternately arranged in a series connection, and one of said selectors configured to select as an output thereof either an output from a preceding delay element or an input into the preceding delay element.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The memory controller as claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said signal-settled-state holding circuit includes a DLL circuit, a delay of said DLL circuit determining the predetermined duration.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The memory controller as claimed in <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said DLL circuit includes:
<claim-text>a first delay line configured to delay a first clock signal to output a second clock signal;</claim-text>
<claim-text>a phase detecting unit configured to compare a phase of the first clock signal and a phase of the second clock signal;</claim-text>
<claim-text>a control signal generating unit configured to generate a control signal for controlling a delay of said first delay line in response to a result of the phase comparison by said phase detecting unit; and</claim-text>
<claim-text>a second delay line coupled to the output of said delay circuit, said second delay line having a delay thereof controlled by the control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. A memory controller, comprising:
<claim-text>a first delay circuit coupled to a node for receiving a data strobe signal to output a first timing signal including a first latching edge delayed by a predetermined delay from a first edge of the data strobe signal;</claim-text>
<claim-text>a first flip-flop coupled to an output of said first delay circuit and to a node for receiving a data signal to latch the data signal in response to the first timing signal;</claim-text>
<claim-text>a signal processing circuit coupled to the output of said first delay circuit to output a second timing signal including a second latching edge delayed by the predetermined delay from a second edge of the data strobe signal; and</claim-text>
<claim-text>a second flip-flop coupled to an output of said signal processing circuit and to the node for receiving the data signal to latch the data signal in response to the second timing signal,</claim-text>
<claim-text>wherein said signal processing circuit includes a second delay circuit configured to delay the first timing signal by a predetermined delay length.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The memory controller as claimed in <claim-ref idref="CLM-00019">claim 19</claim-ref>, further comprising a third flip-flop coupled to outputs of said first and second flip-flops to latch the data signal stored in said first flip-flop and the data signal stored in said second flip-flop alternately, the predetermined delay length being a length that allows said third flip-flop to latch the data signal stored in said second flip-flop.</claim-text>
</claim>
</claims>
</us-patent-grant>
