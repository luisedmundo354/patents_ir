<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298392-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298392</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10608363</doc-number>
<date>20030626</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>813</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>02</class>
<subclass>B</subclass>
<main-group>17</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>348 36</main-classification>
<further-classification>359403</further-classification>
<further-classification>359726</further-classification>
</classification-national>
<invention-title id="d0e53">Omni-directional camera design for video conferencing</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6011558</doc-number>
<kind>A</kind>
<name>Hsieh et al.</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345629</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6128143</doc-number>
<kind>A</kind>
<name>Nalwa</name>
<date>20001000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>359725</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6141145</doc-number>
<kind>A</kind>
<name>Nalwa</name>
<date>20001000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>359403</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6677981</doc-number>
<kind>B1</kind>
<name>Mancuso et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348 36</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6809887</doc-number>
<kind>B1</kind>
<name>Gao et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>359725</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7015954</doc-number>
<kind>B1</kind>
<name>Foote et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482181</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7116351</doc-number>
<kind>B2</kind>
<name>Yoshikawa</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348 36</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>23</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>348 36</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348 1408</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>359725</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040263611</doc-number>
<kind>A1</kind>
<date>20041230</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Cutler</last-name>
<first-name>Ross</first-name>
<address>
<city>Duvall</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Lyon &amp; Harr, LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Lyon</last-name>
<first-name>Katrina A.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Microsoft Corp.</orgname>
<role>02</role>
<address>
<city>Redmond</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Philippe</last-name>
<first-name>Gims</first-name>
<department>2621</department>
</primary-examiner>
<assistant-examiner>
<last-name>Rekstad</last-name>
<first-name>Erick</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An omni-directional camera array that is very small and unobtrusive and allows for higher pixel resolution for the face of meeting participants sitting or standing around a conference room table, as would be typical in a video conferencing situation. The camera system of the invention uses N cameras and an N sided mirror to capture images of the surrounding scene. The cameras are arranged to have a small distance between their virtual centers of projection. The images from the N cameras are stitched together to create a 360-degree panorama using a calibration surface. To stitch the images together in real-time, a static image stitcher is used, which stitches images together perfectly for objects on a calibration surface. The calibration surface is typically defined by the boundary of the table the camera is sitting on.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="100.84mm" wi="107.61mm" file="US07298392-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="237.49mm" wi="177.46mm" orientation="landscape" file="US07298392-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="172.21mm" wi="169.33mm" file="US07298392-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="130.13mm" wi="108.46mm" file="US07298392-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="132.76mm" wi="96.01mm" file="US07298392-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="57.15mm" wi="28.62mm" file="US07298392-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="134.45mm" wi="179.07mm" file="US07298392-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="113.11mm" wi="112.18mm" file="US07298392-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="158.58mm" wi="150.54mm" file="US07298392-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">1. Technical Field</p>
<p id="p-0003" num="0002">This invention is directed toward a new camera design. More specifically, this invention is directed toward a new omni-directional camera design that provides an improved viewpoint for video capture of meetings compared to prior camera designs.</p>
<p id="p-0004" num="0003">2. Background Art</p>
<p id="p-0005" num="0004">Video conferencing systems have had limited commercial success. This is due to many factors. In particular, there are numerous technical deficiencies in the video conferencing systems to date. Poor camera viewpoints and insufficient image resolution make it difficult for meeting participants to see the person speaking. This is compounded by inaccurate speaker detection (especially for systems with pan-tilt-zoom cameras) that causes the camera not to be directed at the person speaking. Additionally, poor video compression techniques often result in poor video image quality and a “choppy” image display.</p>
<p id="p-0006" num="0005">Three common methods exist to capture video data: pan/tilt/zoom (PTZ) cameras, mirror-based omni-directional cameras, and camera arrays. While PTZ cameras are currently the most popular choice, they have two major limitations. First, they can only capture a limited field of view. If they zoom in too closely, the context of the meeting room is lost; if they zoom out too far, people's expressions become invisible. Second, because the controlling motor takes time to move the camera, the camera's response to the meeting (e.g., switching between speakers) is slow. In fact, PTZ cameras cannot move too much or too fast, otherwise people watching the meeting can be quite distracted by the noise and motion of the camera as it adjusts its viewpoint.</p>
<p id="p-0007" num="0006">Given these drawbacks and recent technological advances in mirror/prism-based omni-directional vision sensors, researchers have started to rethink the way video is captured and analyzed. For example, BeHere™ Corporation provides 360° Internet video technology in entertainment, news and sports webcasts. With its interface, remote users can control personalized 360° camera angles independent of other viewers to gain a “be here” experience. While this approach overcomes the two difficulties of limited field of view and slow camera response faced by the PTZ cameras, these types of devices tend to be too expensive to build given today's technology and market demand. In addition, these mirror prism-based omni-directional cameras suffer from low resolution (even with 1 MP sensors) and defocusing problems, which result in inferior video quality.</p>
<p id="p-0008" num="0007">In another approach, multiple inexpensive cameras or video sensors are assembled to form an omni-directional camera array. For example, one known system employs four National Television System Committee (NTSC) cameras to construct a panoramic view of a meeting room. However, there are disadvantages with this design. First, NTSC cameras provide a relatively low quality video signal. In addition, the four cameras require four video capture boards to digitize the signal before it can be analyzed, transmitted or recorded. The requirement for four video capturing boards increases the cost and complexity of such a system, and makes it more difficult to manufacture and maintain. Another issue with these types of cameras is that they tend to be larger and when placed in the middle of a conference table they can be obtrusive and block the meeting participants views of each other due to their larger size.</p>
<p id="p-0009" num="0008">Other camera systems have employed mirrors to achieve 360 degree coverage of a meeting room by creating camera arrays wherein the cameras are disposed in a back-to-back circular fashion directed at a number of mirrors which results in a common virtual center of projection. That is, the effective distance D between the centers of projections of all of the cameras in the array, is zero. The distance D can be modified by varying the angle at which a given mirror is positioned relative a given camera. The center of projection of a camera is defined as point of which one can rotate the camera around and only get a rotational transformation, and no translational transformation. For camera systems employing mirrors, the virtual center of projection corresponds to where the center of projection of the camera would have to be if there was no mirror to capture the same portion of the surrounding scene. When the virtual center of projection for all cameras in the array is common, there is no parallax error, no matter how far or how close the surrounding objects to be captured are from the camera. The goal for these camera arrays employing mirrors is to provide a seamless panorama. In this type of camera array, images must be stitched together to create a panoramic view of the area photographed. Having no parallax error allows the images to be readily stitched with no ghosting or other errors. When the common virtual center of projection is zero, however, these camera systems are usually quite large, because in order to obtain the aforementioned common center of projection it is typically necessary to employ very large mirrors. This makes this type of camera undesirable for video conferencing applications because when placing it in the center of a conference room table it is obtrusive and annoying to meeting participants. An example of such a camera system employing mirrors with a common virtual center of projection was Circarama™, a special presentation system that was used at Disneyland®. The spectators stood in the middle of a circle viewing a 360-degree panorama on a surround screen 8 feet high and 40 feet in diameter made up of eleven panels. The original negatives were made on eleven 16 mm cameras arranged in a concentric circle. The prints were projected by a ring of interlocked 16 mm projectors. In that camera, the mirrors are used to create a virtual center of projection for each camera, which is identical for each camera.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0010" num="0009">The invention is directed towards a camera design and process that overcomes the aforementioned limitations in videoconferencing cameras by employing an omni-directional camera array that is very small and unobtrusive and allows for higher pixel resolution to produce a clear image of the faces of meeting participants sitting or standing around a conference room table, as well as other objects in this distance range, as would be typical in a video conferencing situation.</p>
<p id="p-0011" num="0010">The camera system of the invention uses N cameras and an N sided mirror to capture images of the surrounding scene. The images from the N cameras are stitched together to create a 360-degree panorama using a calibration surface. The camera system according to the invention uses the N-sided mirror to create a camera array with a very small distance D between the virtual centers of projections of the cameras in the array. This distance D is a non-zero value, however.</p>
<p id="p-0012" num="0011">To stitch the images together in real-time, a static image stitcher is used, which stitches images together perfectly for objects on a calibration surface. The calibration surface is typically defined by the boundary of the table the camera is sitting on.</p>
<p id="p-0013" num="0012">It should be noted that objects not near the calibration surface exhibit stitching errors. The distance that the object can move away from the calibration surface without significant stitching errors (e.g., more than 1 pixel) is called the “depth of field without parallax error”. This depth of field without parallax error is a function of the distance between adjacent cameras' centers of projection or the distance between adjacent cameras' virtual centers of projection in cameras employing a mirror. To minimize error in the panoramic image, adjacent cameras should have a minimal distance D between their centers of projection. Ideally the cameras all have an identical center of projection, or virtual centers of projection, which can be achieved using a mirror system like the Circarama camera (1955, Disney) and CircleVision (1967, Disney). However, in order for each camera to have an identical virtual center of projection, it would be necessary to use large mirrors. As mentioned previously, large mirrors are undesirable for video-conferencing purposes as the camera array should be very small and unobtrusive when it sits in the center of a conference room table.</p>
<p id="p-0014" num="0013">However, it is not necessary to have an identical center of projection, or virtual center of projection, if the distance between the camera and objects of interest is restricted. This is the case in most video-conferencing applications where the size of the conference room table, and typically the conference room, is limited. For most conference rooms, it is sufficient to have the distance between adjacent virtual centers of projection be less than 3 mm (assuming pixel sizes of 6.2×6.2 μm and a Bayer color filter array). By using domain knowledge of the typical conference room table size and so relaxing the constraint of the distance D between adjacent camera's virtual centers of projection, the total camera system size can be made significantly smaller. A smaller camera is desirable as it becomes less obtrusive and is less expensive to build. The invention employs this principle to create a small camera system that can be used for video conferencing.</p>
<p id="p-0015" num="0014">An additional feature of the camera system is the cameras are tilted up slightly to achieve an increased vertical field of view. This configuration images less of the table, and allows imaging of people standing near the table, or sitting around it, at higher resolutions. This configuration maximizes the use of the imaging sensors, further reducing cost of the system. More specifically, cameras with a smaller vertical field of view can be used as almost the entire field of view captures the video conference participants' faces and not extraneous data such as the surface the camera is sitting on. Cameras with a larger field of view require higher resolution sensors to achieve similar performance.</p>
<p id="p-0016" num="0015">Thus, the camera system and method according to the invention is advantageous in that it is very small, inexpensive to manufacture and provides a greater pixel resolution to areas of interest such as the video conference's participant's faces instead of background areas.</p>
<p id="p-0017" num="0016">In addition to the just described benefits, other advantages of the present invention will become apparent from the detailed description which follows hereinafter when taken in conjunction with the drawing figures which accompany it.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0018" num="0017">The specific features, aspects, and advantages of the present invention will become better understood with regard to the following description, appended claims, and accompanying drawings where:</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram depicting a general purpose computing device constituting an exemplary system for implementing the invention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> is an exemplary diagram depicting the camera system according to the invention placed in the center of a conference room table.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram depicting a camera and mirror system. In this embodiment a 5-sided mirror and five cameras are used.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram depicting a camera and mirror system. A single camera is shown with center of projection C with virtual center of projection C′.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram depicting a bottom view of the base of packed camera sensors. The sensor chip width is X, and pentagon mirror side length is E<b>1</b>.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6</figref> depicts an exemplary camera system configuration in a conference room.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 7</figref> is a diagram depicting the parallax error parameters. C<b>1</b> and C<b>2</b> are the centers of projection (or virtual centers of projection), f the focal length, and W the width of the image sensor. For 5 cameras, the field of view, θ, is 36°.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 8</figref> shows the depth of field without parallax error for a camera calibrated on an object 1.2 meters away. Note that if the distance between adjacent camera centers of projections is 3.3 mm, then the object can be between 0.6 and 25 meters from the camera with less than one pixel parallax error (assuming a 6.2×6.2 μm pixel size and Bayer color filter array).</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0027" num="0026">In the following description of the preferred embodiments of the present invention, reference is made to the accompanying drawings that form a part hereof, and in which is shown by way of illustration specific embodiments in which the invention may be practiced. It is understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the present invention.</p>
<p id="h-0005" num="0000">1.0 Exemplary Operating Environment</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an example of a suitable computing system environment <b>100</b> on which the invention may be implemented. The computing system environment <b>100</b> is only one example of a suitable computing environment and is not intended to suggest any limitation as to the scope of use or functionality of the invention. Neither should the computing environment <b>100</b> be interpreted as having any dependency or requirement relating to any one or combination of components illustrated in the exemplary operating environment <b>100</b>.</p>
<p id="p-0029" num="0028">The invention is operational with numerous other general purpose or special purpose computing system environments or configurations. Examples of well known computing systems, environments, and/or configurations that may be suitable for use with the invention include, but are not limited to, personal computers, server computers, hand-held or laptop devices, multiprocessor systems, microprocessor-based systems, set top boxes, programmable consumer electronics, network PCs, minicomputers, mainframe computers, distributed computing environments that include any of the above systems or devices, and the like.</p>
<p id="p-0030" num="0029">The invention may be described in the general context of computer-executable instructions, such as program modules, being executed by a computer. Generally, program modules include routines, programs, objects, components, data structures, etc. that perform particular tasks or implement particular abstract data types. The invention may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment, program modules may be located in both local and remote computer storage media including memory storage devices.</p>
<p id="p-0031" num="0030">With reference to <figref idref="DRAWINGS">FIG. 1</figref>, an exemplary system for implementing the invention includes a general purpose computing device in the form of a computer <b>110</b>. Components of computer <b>110</b> may include, but are not limited to, a processing unit <b>120</b>, a system memory <b>130</b>, and a system bus <b>121</b> that couples various system components including the system memory to the processing unit <b>120</b>. The system bus <b>121</b> may be any of several types of bus structures including a memory bus or memory controller, a peripheral bus, and a local bus using any of a variety of bus architectures. By way of example, and not limitation, such architectures include Industry Standard Architecture (ISA) bus, Micro Channel Architecture (MCA) bus, Enhanced ISA (EISA) bus, Video Electronics Standards Association (VESA) local bus, and Peripheral Component Interconnect (PCI) bus also known as Mezzanine bus.</p>
<p id="p-0032" num="0031">Computer <b>110</b> typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer <b>110</b> and includes both volatile and nonvolatile media, removable and non-removable media. By way of example, and not limitation, computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information such as computer readable instructions, data structures, program modules or other data. Computer storage media includes, but is not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical disk storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can be accessed by computer <b>110</b>. Communication media typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term “modulated data signal” means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, RF, infrared and other wireless media. Combinations of the any of the above should also be included within the scope of computer readable media.</p>
<p id="p-0033" num="0032">The system memory <b>130</b> includes computer storage media in the form of volatile and/or nonvolatile memory such as read only memory (ROM) <b>131</b> and random access memory (RAM) <b>132</b>. A basic input/output system <b>133</b> (BIOS), containing the basic routines that help to transfer information between elements within computer <b>110</b>, such as during start-up, is typically stored in ROM <b>131</b>. RAM <b>132</b> typically contains data and/or program modules that are immediately accessible to and/or presently being operated on by processing unit <b>120</b>. By way of example, and not limitation, <figref idref="DRAWINGS">FIG. 1</figref> illustrates operating system <b>134</b>, application programs <b>135</b>, other program modules <b>136</b>, and program data <b>137</b>.</p>
<p id="p-0034" num="0033">The computer <b>110</b> may also include other removable/non-removable, volatile/nonvolatile computer storage media. By way of example only, <figref idref="DRAWINGS">FIG. 1</figref> illustrates a hard disk drive <b>141</b> that reads from or writes to non-removable, nonvolatile magnetic media, a magnetic disk drive <b>151</b> that reads from or writes to a removable, nonvolatile magnetic disk <b>152</b>, and an optical disk drive <b>155</b> that reads from or writes to a removable, nonvolatile optical disk <b>156</b> such as a CD ROM or other optical media. Other removable/non-removable, volatile/nonvolatile computer storage media that can be used in the exemplary operating environment include, but are not limited to, magnetic tape cassettes, flash memory cards, digital versatile disks, digital video tape, solid state RAM, solid state ROM, and the like. The hard disk drive <b>141</b> is typically connected to the system bus <b>121</b> through anon-removable memory interface such as interface <b>140</b>, and magnetic disk drive <b>151</b> and optical disk drive <b>155</b> are typically connected to the system bus <b>121</b> by a removable memory interface, such as interface <b>150</b>.</p>
<p id="p-0035" num="0034">The drives and their associated computer storage media discussed above and illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, provide storage of computer readable instructions, data structures, program modules and other data for the computer <b>110</b>. In <figref idref="DRAWINGS">FIG. 1</figref>, for example, hard disk drive <b>141</b> is illustrated as storing operating system <b>144</b>, application programs <b>145</b>, other program modules <b>146</b>, and program data <b>147</b>. Note that these components can either be the same as or different from operating system <b>134</b>, application programs <b>135</b>, other program modules <b>136</b>, and program data <b>137</b>. Operating system <b>144</b>, application programs <b>145</b>, other program modules <b>146</b>, and program data <b>147</b> are given different numbers here to illustrate that, at a minimum, they are different copies. A user may enter commands and information into the computer <b>110</b> through input devices such as a keyboard <b>162</b> and pointing device <b>161</b>, commonly referred to as a mouse, trackball or touch pad. Other input devices (not shown) may include a microphone, joystick, game pad, satellite dish, scanner, or the like. These and other input devices are often connected to the processing unit <b>120</b> through a user input interface <b>160</b> that is coupled to the system bus <b>121</b>, but may be connected by other interface and bus structures, such as a parallel port, game port or a universal serial bus (USB). A monitor <b>191</b> or other type of display device is also connected to the system bus <b>121</b> via an interface, such as a video interface <b>190</b>. In addition to the monitor, computers may also include other peripheral output devices such as speakers <b>197</b> and printer <b>196</b>, which may be connected through an output peripheral interface <b>195</b>. Of particular significance to the present invention, a camera <b>163</b> (such as a digital/electronic still or video camera, or film/photographic scanner) capable of capturing a sequence of images <b>164</b> can also be included as an input device to the personal computer <b>110</b>. Further, while just one camera is depicted, multiple cameras could be included as an input device to the personal computer <b>110</b>. The images <b>164</b> from the one or more cameras are input into the computer <b>110</b> via an appropriate camera interface <b>165</b>. This interface <b>165</b> is connected to the system bus <b>121</b>, thereby allowing the images to be routed to and stored in the RAM <b>132</b>, or one of the other data storage devices associated with the computer <b>110</b>. However, it is noted that image data can be input into the computer <b>110</b> from any of the aforementioned computer-readable media as well, without requiring the use of the camera <b>163</b>.</p>
<p id="p-0036" num="0035">The computer <b>110</b> may operate in a networked environment using logical connections to one or more remote computers, such as a remote computer <b>180</b>. The remote computer <b>180</b> may be a personal computer, a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the computer <b>110</b>, although only a memory storage device <b>181</b> has been illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. The logical connections depicted in <figref idref="DRAWINGS">FIG. 1</figref> include a local area network (LAN) <b>171</b> and a wide area network (WAN) <b>173</b>, but may also include other networks. Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet.</p>
<p id="p-0037" num="0036">When used in a LAN networking environment, the computer <b>110</b> is connected to the LAN <b>171</b> through a network interface or adapter <b>170</b>. When used in a WAN networking environment, the computer <b>110</b> typically includes a modem <b>172</b> or other means for establishing communications over the WAN <b>173</b>, such as the Internet. The modem <b>172</b>, which may be internal or external, may be connected to the system bus <b>121</b> via the user input interface <b>160</b>, or other appropriate mechanism. In a networked environment, program modules depicted relative to the computer <b>110</b>, or portions thereof, may be stored in the remote memory storage device. By way of example, and not limitation, <figref idref="DRAWINGS">FIG. 1</figref> illustrates remote application programs <b>185</b> as residing on memory device <b>181</b>. It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.</p>
<p id="p-0038" num="0037">The exemplary operating environment having now been discussed, the remaining parts of this description section will be devoted to a description of the program modules embodying the invention.</p>
<p id="h-0006" num="0000">2.0 Omni-Directional Camera Design for Video Conferencing.</p>
<p id="p-0039" num="0038">The following sections describe the geometry of the camera system according to the invention, the distances between adjacent cameras virtual centers of projection, the determination of a calibration surface for image stitching and the image stitching process itself:</p>
<p id="p-0040" num="0039">2.1 Camera/Reflective Surface Geometry.</p>
<p id="p-0041" num="0040">In general, the camera design of the invention employs a number of cameras directed at a multi-sided mirror or a similar multi-sided reflective surface, each camera being pointed at one side of the multi-sided mirror at an upward angle to provide omni-directional coverage of a given space such as the space around a conference room table. The camera <b>202</b> is designed to sit in the middle of a conference room table <b>204</b>, as shown in <figref idref="DRAWINGS">FIG. 2</figref>, and to capture images of people participating in a video conference.</p>
<p id="p-0042" num="0041">More specifically, the camera design of the invention employs N cameras and an N sided mirror, as shown in <figref idref="DRAWINGS">FIGS. 3</figref>, <b>4</b> and <b>5</b>. <figref idref="DRAWINGS">FIG. 3</figref> depicts an embodiment of the camera <b>302</b> wherein a 5-sided mirror is used. Different numbers of mirrors/reflective surfaces and cameras can be used, as long as there is a one-to-one correspondence for each camera-mirror pair. In <figref idref="DRAWINGS">FIG. 3</figref>, camera <b>302</b> is aligned with mirror side <b>304</b>. Each camera captures the image that is reflected in its corresponding mirror or reflective surface. The N-sided mirror may be held above the cameras by a rod or other mounting device <b>306</b> to provide an increased vertical field of view that captures the meeting participants sitting around the meeting room table or standing near it. However, in one embodiment this rod or mounting device <b>306</b> is not employed and the cameras are mounted directly to the base. In the embodiment of the invention shown in <figref idref="DRAWINGS">FIG. 3</figref>, each of the reflective sides preferably forms a 41 degree angle with a plane parallel to the base <b>308</b>, and each camera forms a 6 degree angle with a plane parallel to the base <b>308</b>. This arrangement allows for a small camera head size and a field of view that is 6 degrees above the horizon.</p>
<p id="p-0043" num="0042">Each camera in this five-sided mirror embodiment has an effective 72 degree field of view in the horizontal direction. It should be noted that the actual field of view of each camera should be slightly larger to allow for image overlap between adjacent cameras to facilitate the stitching of the images into a panoramic image. The vertical field of view is governed by the tilt angle of the camera relative to its corresponding reflective surface, the angle of the reflective surface, as well as the height of the rod. Since there are five cameras in this embodiment, the total horizontal view provided by the camera array is 360 degrees. If N were a different number, however, then the horizontal field of view of each camera could be adjusted accordingly. For instance, if there were four cameras with four corresponding reflective surfaces, the field of view for each camera should preferably be approximately 90 degrees to achieve 360-degree coverage in the horizontal plane. Similarly, if six cameras and corresponding mirrors were employed then the field of each camera should be approximately 60 degrees to achieve 360-degree coverage. Hence, it can be seen that the number of reflective surfaces and cameras can be readily varied to achieve 360-degree coverage. Additionally, if less than 360-degree coverage is sought (e.g., all meeting participants are to be seated on one side of a conference room table), then the number of cameras and reflective surfaces could be configured accordingly. For example, for a 180-degree viewpoint three mirrors and three cameras with a 60-degree effective field of view in the horizontal plane could be employed.</p>
<p id="p-0044" num="0043">The geometry of the camera configuration of the present invention can be described by the variables shown in Table 1, <figref idref="DRAWINGS">FIGS. 4 and 5</figref>, and the equations below. The variables in Table 1 correspond to the <figref idref="DRAWINGS">FIGS. 4 and 5</figref>. <figref idref="DRAWINGS">FIG. 5</figref> is a diagram depicting the base of packed camera sensors. The sensor chip width is X, and pentagon mirror side length is E<b>1</b>.</p>
<p id="p-0045" num="0044">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Variables used in FIGS. 4 and 5.</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="28pt" align="left"/>
<colspec colname="2" colwidth="189pt" align="left"/>
<tbody valign="top">
<row>
<entry>Vari-</entry>
<entry/>
</row>
<row>
<entry>able</entry>
<entry>Description</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry>α</entry>
<entry>Angle of the mirror face and the vertical</entry>
</row>
<row>
<entry>χ</entry>
<entry>Tilt of camera with respect to the vertical</entry>
</row>
<row>
<entry>β</entry>
<entry>Angle between camera center axis and the horizon</entry>
</row>
<row>
<entry>A</entry>
<entry>Top edge of mirror</entry>
</row>
<row>
<entry>B</entry>
<entry>Horizontal distance between O and M, radius of bottom</entry>
</row>
<row>
<entry>B′</entry>
<entry>Radius of bottom mirror</entry>
</row>
<row>
<entry>B2</entry>
<entry>Horizontal distance between A and M, radius of top</entry>
</row>
<row>
<entry>BFL</entry>
<entry>Back focal length</entry>
</row>
<row>
<entry>C</entry>
<entry>Center of projection of camera</entry>
</row>
<row>
<entry>C′</entry>
<entry>Virtual center of projection of camera</entry>
</row>
<row>
<entry>CD</entry>
<entry>Distance from center of projection C and outer lens</entry>
</row>
<row>
<entry>CH</entry>
<entry>Sensor Chip height</entry>
</row>
<row>
<entry>CW</entry>
<entry>Distance between center of projection C and PCB</entry>
</row>
<row>
<entry>C<sub>X</sub></entry>
<entry>X coordinate of C</entry>
</row>
<row>
<entry>C<sub>Y</sub></entry>
<entry>Y coordinate of C</entry>
</row>
<row>
<entry>E1</entry>
<entry>Length of bottom mirror edge</entry>
</row>
<row>
<entry>E2</entry>
<entry>Length of top mirror edge</entry>
</row>
<row>
<entry>H</entry>
<entry>Height of mirror system</entry>
</row>
<row>
<entry>HFOV</entry>
<entry>Horizontal field of view</entry>
</row>
<row>
<entry>J</entry>
<entry>Vertical distance between mirror base and camera base</entry>
</row>
<row>
<entry>K</entry>
<entry>Horizontal distance between mirror center and right camera base</entry>
</row>
<row>
<entry>L</entry>
<entry>Length of lens</entry>
</row>
<row>
<entry>O</entry>
<entry>Bottom edge of mirror (origin)</entry>
</row>
<row>
<entry>P</entry>
<entry>Intersection of camera center axis and mirror</entry>
</row>
<row>
<entry>P<sub>X</sub></entry>
<entry>X coordinate of P</entry>
</row>
<row>
<entry>P<sub>Y</sub></entry>
<entry>Y coordinate of P</entry>
</row>
<row>
<entry>Q</entry>
<entry>Half sensor chip width</entry>
</row>
<row>
<entry>T</entry>
<entry>Horizontal distance between mirror center and left camera base</entry>
</row>
<row>
<entry>VFOV</entry>
<entry>Vertical field of view</entry>
</row>
<row>
<entry>X</entry>
<entry>Image sensor chip width with boundary</entry>
</row>
<row>
<entry>M<sub>X</sub></entry>
<entry>X coordinate of M</entry>
</row>
<row>
<entry>M</entry>
<entry>Intersection of bottom plane of mirror and axis of symmetry</entry>
</row>
<row>
<entry>PE1</entry>
<entry>Projected image length on bottom mirror edge</entry>
</row>
<row>
<entry>PE2</entry>
<entry>Projected image length on top mirror edge</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0046" num="0045">The equations below relate to the camera geometry and define how given certain set of input variables, such as for example camera angles and mirror height, the other applicable parameters can be calculated in the camera design. The more important parameters that are calculated in determining the optimum configuration for the camera for video conferencing are the height of mirror system H, the angle between the center axis of the camera and the horizon β, and the distance between the virtual centers of projection, C′<sub>dist</sub>.</p>
<p id="p-0047" num="0046">In order to solve for the optimum height of the mirror, and the distance between virtual centers of projection of adjacent cameras, the angle β between the camera center axis and the horizon can be calculated as follows:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>β=90−(2α+χ)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where α is the angle of the mirror face and the vertical, and χ is the tilt of camera with respect to the vertical. The distance between the center of projection C and the bottom edge of the mirror, O, is calculated as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>CO=C</i><sub>x</sub>/cos(90−(<i>VFOV</i>/2+χ))<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where C<sub>x </sub>is the x coordinate of the center projection and VFOV is the vertical field of view. This yields the y coordinate of the center of projection, C′<sub>y</sub>, as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>C</i><sub>y</sub><i>=√</i>{square root over (CO<sup>2</sup><i>−C</i><sub>x</sub><sup>2</sup>)}<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The angles COP and CAO can be calculated as
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>COP=</i>180−(α+<i>VFOV/</i>2+χ)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>CAO=</i>180−(<i>VFOV+COP</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The distance between the top and bottom of the mirrors is:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>AO=CO</i>*sin(<i>VFOV</i>)/sin(<i>CAO</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
which yields the height of the mirror system, H, is:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>H</i>=cos(α)*<i>AO. </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
A series of calculations yield the coordinates of the intersection of camera center axis and mirror P<sub>x</sub>, P<sub>y </sub>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>CPO=</i>180−(<i>COP+VFOV/</i>2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>PO=CO</i>*sin(<i>VFOV/</i>2)/sin(<i>CPO</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i><sub>x</sub><i>=PO</i>*sin(α)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i><sub>y</sub><i>=PO</i>*cos(α)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Once P<sub>x</sub>, P<sub>y</sub>, are found it is possible to find the x, and y coordinates of the virtual center of projection, C′<sub>x</sub>, C′<sub>y </sub>of a given camera as,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>PC=PO</i>*sin(<i>COP</i>)/sin(<i>VFOV/</i>2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>PC′=PC </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>C′</i><sub>x</sub><i>=PC′</i>*cos(β)−<i>P</i><sub>x </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>C′</i><sub>y</sub><i>=P</i><sub>y</sub><i>−PC′</i>*sin(β)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where PC is the distance between the point of intersection of the camera center axis and the mirror and the center of projection of the camera.
<br/>
Performing these calculations for a set of adjacent cameras, yields the distance between the virtual centers of projection, C′<sub>dist</sub>, for the set as,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>M</i><sub>x</sub><i>=B </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>C′</i><sub>x</sub><i>M</i><sub>x</sub><i>=C′</i><sub>x</sub><i>−M</i><sub>x </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>C′</i><sub>dist</sub>=2*<i>C′</i><sub>x</sub><i>M</i><sub>x</sub>*sin(36).<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where M<sub>x </sub>is the x coordinate of the intersection of the bottom plane of the mirror and the axis of symmetry and B is the horizontal distance between the bottom edge of the mirror and the intersection of the bottom plane of the mirror and the axis of symmetry.
</p>
<p id="p-0048" num="0047">Other parameters that are useful in designing a specific embodiment of the camera system include, the radius of the top, B<b>2</b>, which can be defined as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>B</i>2=<i>B+H</i>/tan(α);<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and the lengths of the bottom and top mirror edges, E<b>1</b>, E<b>2</b>, which are given by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>E</i>1=2*tan(36)*<i>B </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>E</i>2=2*tan(36)*<i>B</i>2.<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0049" num="0048">The projected image length on the bottom and top mirror edges can be calculated as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>PE</i>1=<i>CO</i>*sin(<i>HFOV/</i>2)*2<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>PE</i>2=<i>AC</i>*sin(<i>HFOV/</i>2)*2.″<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0050" num="0049">Similarly, the vertical distance between the mirror base and the camera base, J, is given by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>J=CW</i>*cos(χ)+sin(χ)*<i>Q+C</i><sub>y</sub>.<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0051" num="0050">Finally, the horizontal distance between the mirror center and the right camera base, K, and the horizontal distance between the mirror center and the left camera base, T, is given by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>K=C</i><sub>x</sub>−(<i>Q</i>*cos(χ)−<i>CW</i>*sin(χ))+<i>B </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>T=K+X</i>*cos(χ).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0052" num="0051">In a tested embodiment of the invention, the foregoing equations were used to find the parameters needed to configure the omni-directional camera which satisfy the constraints of β=6 degrees; a minimal height of the mirror system H; a minimal top radius B<b>2</b>; and a distance between the virtual centers of projection of C′<sub>dist</sub>&lt;3 mm. In addition, the constraints of the projected image length on bottom mirror edge being less than the length of bottom mirror edge (PE<b>1</b>&lt;E<b>1</b>) and the projected image length on the top of the mirror edge being less than the length of the top mirror edge (PE<b>2</b>&lt;E<b>2</b>) were also imposed. The value of β=6 degrees was selected as the angle that the cameras are tilted upward from the horizon and C′<sub>dist</sub>&lt;3 mm was selected to provide virtual center of projections in close enough to avoid stitching errors (see <figref idref="DRAWINGS">FIG. 8</figref>). It should be noted, however, that different values, depending on the camera height, sensors, and so on, can be used.</p>
<p id="p-0053" num="0052">Referring again to <figref idref="DRAWINGS">FIG. 4</figref>, it can be seen how the Vertical Field of View (VFOV) is influenced by the tilt angle β of the camera. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, this tilt angle β is dictated by the angle of a wedge <b>310</b>, though other tilting means of acquiring this camera angle relative to the mirror can be used. In one embodiment of the invention, it is preferred that this angle be between 6 and 8 degrees.</p>
<p id="p-0054" num="0053">As mentioned above, the additional feature of the camera system that the cameras are tilted up slightly (see <figref idref="DRAWINGS">FIGS. 3 and 4</figref>) achieves an increased vertical field of view. This configuration images less of the table, and concentrates on the imaging of people sitting around and standing near the table, as well as other objects in this range, in a typical conference room (see <figref idref="DRAWINGS">FIG. 6</figref>). This configuration maximizes the use of the imaging sensors, further reducing cost of the system.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 6</figref> shows a typical conference room that employs one exemplary embodiment of the camera design of the invention. As shown in <figref idref="DRAWINGS">FIG. 6</figref>, the camera array <b>602</b>, sits in the middle of a conference room table <b>604</b>. The camera array positioned a given distance from the table surface has a vertical field of view that covers both a person's head <b>606</b> when the person is sitting around the table and a 6′2″ person <b>608</b> that is standing next to the table <b>604</b>.</p>
<p id="p-0056" num="0055">In the exemplary embodiment shown in <figref idref="DRAWINGS">FIG. 6</figref>, the camera array is approximately 9 inches above the table surface and the vertical field of view is approximately 60 degrees. In this configuration, the vertical field of view captures mostly the people standing or sitting around the table and not the table surface itself. This is in part due to the camera array being elevated above the table by the rod or other mounting device. Additionally, since the camera array is omni-directional in the horizontal plane, the camera captures everyone that is sitting around the table or standing near it within the full 360 degree-work space.</p>
<p id="p-0057" num="0056">2.2 Calibration Surface.</p>
<p id="p-0058" num="0057">The images captured by the N cameras are stitched together to create a 360-degree panorama. To stitch the images together in real-time, a static image stitcher is used, which stitches images together perfectly for objects on a calibration surface. The calibration surface is typically defined by the boundary of the table the camera is on. However, objects not near this calibration or stitching surface exhibit stitching errors such as image ghosting. The distance that the object can move away from the calibration surface without stitching errors is called the “depth of field without parallax error”. This depth of field is a function of the distance D between adjacent camera's centers of projection, and is plotted in <figref idref="DRAWINGS">FIG. 8</figref>. This graph shows the depth of field without parallax error for a camera calibrated on an object 1.2 meter away. Note that if the camera baseline (distance between centers of projections for adjacent cameras) is 3 mm, then the object can be between 0.6 and 30 meters from the camera with less than one pixel parallax error.</p>
<p id="p-0059" num="0058">Hence, to minimize error in the panoramic image, adjacent cameras should have a minimal distance between their centers of projection. As indicated previously, ideally all of the cameras should have an identical center of projection. However, this is not possible without very large mirrors.</p>
<p id="p-0060" num="0059">It is, however, not necessary to have an identical center of projection if the distance between the camera and objects of interest are restricted (i.e., contained within the depth of field without parallax error), as the graph in <figref idref="DRAWINGS">FIG. 8</figref> shows. Using this data, it can be seen that for most conference rooms, it is sufficient to have the distance between adjacent centers of projection be less than 10 mm. By relaxing the constraint of the distance between adjacent camera's centers of projection by using a restricted calibration surface, one can make the omni-directional camera size significantly smaller. A smaller camera is desirable as it is less obtrusive and is less expensive to build.</p>
<p id="p-0061" num="0060">In one embodiment of the invention, a distance is prescribed for each camera in order to establish the calibration surface. In the case of a conference room, this prescribed distance could correspond to the distance from the camera array to the edge of a conference room table. A calibration surface is established using a pattern created by a small array of LEDs placed at the prescribed distances from the cameras (e.g., around the edge of the conference table). More specifically, the LEDs are used to determine the scale and rotation between cameras by providing point-to-point correspondence between images captured by adjacent cameras that are easy to compute. These parameters are then used to generate a mapping table, mapping corresponding pixels between the images captured in one camera and the adjacent cameras in the overlapping regions, i.e. a table listing the pixels of one camera and the corresponding pixels of the other camera(s). The mapping table speeds up processing as the pixel correspondences do not have to be recomputed each time new images are captured in order to create a panorama. The result of the calibration is an image remapping function, which remaps a camera image into the panorama.</p>
<p id="p-0062" num="0061">It is noted that in another embodiment of the invention, the distances used to establish the calibration surface for image stitching could be user-defined. If this distance is measured by a user, it only has to be measured once until the camera array is moved.</p>
<p id="p-0063" num="0062">2.3 Computing the Parallax Error About the Calibration Surface.</p>
<p id="p-0064" num="0063">The aforementioned depth of field without parallax error for a particular camera configuration can be computed as follows. Consider the camera configuration in <figref idref="DRAWINGS">FIG. 7</figref>. As discussed previously, the center of projection in each camera, C<sub>1 </sub>and C<sub>2</sub>, is the point between the CCD and outer lens such that rotations about this point result in a pure rotation transformation on images captured (i.e., no motion parallax is induced). The distance between these centers of projection is labeled D. If D were zero, then stitching the images together is relatively easy. However, if D is not zero then motion parallax in the captured images is introduced. As a result, stitching the images together seamlessly requires knowing the depth from the cameras to the object being stitched. Computing reliable object depth with stereo image pairs is a very difficult problem, and has not been solved generally (for arbitrary objects, texture, lighting, etc.). Parallax motion can be minimized by minimizing D. In this figure ƒ is the focal length and W is the width of the sensor. <figref idref="DRAWINGS">FIG. 7</figref> shows two adjacent cameras in the camera system according to the invention. The variables in this figure are summarized in Table 2 below. The furthest calibrated surface is the furthest surface a point P′ is still calibrated, given it was calibrated at P. Likewise, the nearest calibrated surface is the nearest surface at point P″ that is still calibrated, given it was calibrated at P. The virtual centers of projection can be calculated as described in Section 2.1. The parallax errors at the nearest and furthest calibrated point can also be calculated as discussed below.</p>
<p id="p-0065" num="0064">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 2</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Variables Used in FIG. 7</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="21pt" align="left"/>
<colspec colname="2" colwidth="196pt" align="left"/>
<tbody valign="top">
<row>
<entry>Vari-</entry>
<entry/>
</row>
<row>
<entry>able</entry>
<entry>Description</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry>F</entry>
<entry>Focal length of camera</entry>
</row>
<row>
<entry>D</entry>
<entry>Distance between center of projections</entry>
</row>
<row>
<entry>θ</entry>
<entry>Field of view</entry>
</row>
<row>
<entry>R</entry>
<entry>Distance from center of projection and calibration surface</entry>
</row>
<row>
<entry>R′</entry>
<entry>Distance from center of projection and furthest calibrated surface</entry>
</row>
<row>
<entry>R″</entry>
<entry>Distance from center of projection and nearest calibrated surface</entry>
</row>
<row>
<entry>E′</entry>
<entry>Parallax error at furthest calibrated point</entry>
</row>
<row>
<entry>E″</entry>
<entry>Parallax error at nearest calibrated point</entry>
</row>
<row>
<entry>W</entry>
<entry>Image sensor width</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0066" num="0065">In calculating the parallax error at the nearest calibrated point, E″, and the parallax error at the farthest calibrated point, E′, the following equations are useful.</p>
<p id="p-0067" num="0066">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
  <mrow>
    <msup>
      <mi>E</mi>
      <mi>″</mi>
    </msup>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mrow>
          <mi>f</mi>
          <mo>·</mo>
          <mi>D</mi>
        </mrow>
        <mrow>
          <mi>cos</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>θ</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mfrac>
      <mo>⁢</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <msup>
              <mi>R</mi>
              <mi>″</mi>
            </msup>
          </mfrac>
          <mo>-</mo>
          <mfrac>
            <mn>1</mn>
            <mi>R</mi>
          </mfrac>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00001-2" num="00001.2">
<math overflow="scroll">
  <mrow>
    <msup>
      <mi>E</mi>
      <mi>′</mi>
    </msup>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mrow>
          <mi>f</mi>
          <mo>·</mo>
          <mi>D</mi>
        </mrow>
        <mrow>
          <mi>cos</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>θ</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mfrac>
      <mo>⁢</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mi>R</mi>
          </mfrac>
          <mo>-</mo>
          <mfrac>
            <mn>1</mn>
            <msup>
              <mi>R</mi>
              <mi>′</mi>
            </msup>
          </mfrac>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<br/>
where R is the distance between the center of projection of the camera and calibration surface, R′ is the distance between the center of projection of the camera and the furthest calibrated surface, and R″ is the distance between the center of projection of the camera and the nearest calibrated surface. The angle θ is the camera field of view, f is the focal length and D is the distance between adjacent cameras centers of projections.
</p>
<p id="p-0068" num="0067">Thus, to determine the “depth of field without parallax error for a given distance R, one sets E′ and E″ to the pixel size or some acceptable value and compute R′ and R″.</p>
<p id="p-0069" num="0068">2.4 Image Stitching.</p>
<p id="p-0070" num="0069">Once the calibration surface has been determined, the images can be stitched together seamlessly for the aforementioned predefined or user-specified distances with a conventional static stitcher using the computed calibration surface map. The stitcher is essentially an image remapping function, and maps pixels from each camera to a destination on the panoramic image. Image interpolation (e.g., bicubic) is used since the destination coordinate is usually not an integer (x,y) coordinate. For overlap regions in which two images contribute to the same area in the panorama, these pixels can be cross-faded or blended via any other conventional method.</p>
<p id="p-0071" num="0070">The foregoing description of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description, but rather by the claims appended hereto.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001 MATH-US-00001-2" nb-file="US07298392-20071120-M00001.NB">
<img id="EMI-M00001" he="13.38mm" wi="76.20mm" file="US07298392-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A camera system comprising:
<claim-text>an N-sided reflective surface that reflects its surroundings in 360 degrees;</claim-text>
<claim-text>N cameras each associated with a different side of said N-sided reflective surface, and aligned to have a small non-zero distance between virtual centers of projection relative to each other which provides minimal parallax error at a predefined distance from the cameras, each of N cameras aligned to capture a reflected image in its associated reflective surface; and</claim-text>
<claim-text>an image stitcher for stitching each of said reflected images taken by adjacent cameras together to create a panoramic image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The camera system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said N cameras are tilted upward relative to the horizontal to capture an increased vertical field of view.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The camera system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said N cameras are tilted to capture a desired part of a scene.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The camera system of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein said N cameras each associated with a different side of said N-sided reflective surface are tilted upward in the range from six to eight degrees to capture a desired scene of objects that it is desired to capture while still being able to minimize the vertical field of view.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The camera system of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising a mounting rod positioning said N-sided reflective surface above said N cameras each associated with a different side of said N-sided reflective surface.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The camera system of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein said mounting rod positioning said N-sided reflective surface above said N cameras increases said vertical field of view of said N cameras.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The camera system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said N cameras capture 360 degrees in the horizontal plane.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The camera system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said image stitcher uses a calibration surface of constant depth to stitch images captured by said N cameras.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The camera system of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein said calibration surface is predefined.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The camera system of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein said calibration surface is user defined.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The camera system of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein said calibration surface is defined by:
<claim-text>marking a point in each of said images;</claim-text>
<claim-text>determining a point to point correspondence in said images captured by each of N cameras to determine corresponding pixels in overlapping regions of each of said images;</claim-text>
<claim-text>generating a mapping table that defines how the pixels of the image captured by each of said N cameras is to be stitched into a panoramic image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The camera system of <claim-ref idref="CLM-00011">claim 11</claim-ref> wherein said mapping table speeds up processing of generating subsequent panoramic images by using said mapping table each time new images are captured as the pixel correspondences do not have to be recomputed each time new images are captured in order to create a panorama.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A process of capturing video for teleconferencing and meeting recording, comprising the following process actions
<claim-text>capturing images of an event in 360 degree with an omni-directional camera array, wherein said omni-directional camera comprises an N-sided mirror located above N cameras arranged to be equally spaced around the circumference of a circle in a circular fashion and tilted upward slightly from the horizontal plane, and positioned to have a small non-zero distance between their virtual centers of projection so as to provide minimal parallax error at a predefined distance from the cameras, each capturing an image reflected in a different side of said N-sided mirror; and</claim-text>
<claim-text>stitching together said images captured by each of N cameras using a calibration surface to create a composite image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The process of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein each of said N cameras is a video sensor.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The process of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said camera system is placed on a table and wherein edges of said table are used to define said calibration surface.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The process of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said calibration surface is user-defined.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The process of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said calibration surface is located at one or more prescribed depths from said can era system.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The process of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said calibration surface is determined by the process actions of:
<claim-text>using a pattern created by a small array of LEDs placed at the prescribed distances from the cameras to determine the scale and translation between cameras by providing point-to-point correspondence between images captured by adjacent cameras;</claim-text>
<claim-text>using said point-to-point correspondences to generate a mapping table, mapping corresponding pixels between the images captured in one camera and the adjacent cameras in the overlapping regions; and</claim-text>
<claim-text>using said mapping table to determine pixel locations when stitching said images into a panoramic image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The process of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said N cameras are tilted upward to increase the vertical field of view for each camera.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The process of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein said N sided mirror is mounted on a rod above said cameras to increase each cameras vertical field of view.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The process of <claim-ref idref="CLM-00019">claim 19</claim-ref> wherein the tilt angle of said cameras is adjusted by adjusting the offset of the lens mount of the camera in the x and y directions.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A computer-readable medium having computer-executable instructions for viewing or recording a video-conference, said computer executable instructions comprising:
<claim-text>capturing images of an event in 360 degree with an omni-directional camera array, wherein said omni-directional camera comprises an N-sided mirror located above N cameras arranged to be equally spaced around the circumference of a circle in a circular fashion and tilted upward slightly from the horizontal plane, and positioned to have a small non-zero distance between their virtual centers of projection so as to provide minimal parallax error at a predefined distance from the cameras, each capturing an image reflected in a different side of said N-sided mirror; and</claim-text>
<claim-text>stitching together said images captured by each of N cameras using a calibration surface to create a composite image.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The computer-readable medium of <claim-ref idref="CLM-00022">claim 22</claim-ref> wherein mid instruction for stitching together said images captured by each of N cameras using a calibration surface comprises sub-instructions to determine said calibration surface, said sub-Instructions comprising:
<claim-text>using a pattern created by a small any of LEDs placed at the prescribed distances from the cameras to determine the scale and translation between cameras by providing point-to-point correspondence between images captured by adjacent cameras;</claim-text>
<claim-text>using said point-to-point correspondences to generate a mapping table, mapping corresponding pixels between the images captured in one camera and the adjacent cameras in the overlapping regions; and</claim-text>
<claim-text>using said mapping table to determine pixel locations when stitching said images into a panoramic image.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
