<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299494-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299494</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>09860435</doc-number>
<date>20010521</date>
</document-id>
</application-reference>
<us-application-series-code>09</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2000-155325</doc-number>
<date>20000525</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>751</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>7</main-group>
<subgroup>04</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>9</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>17</main-group>
<subgroup>30</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>12</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>7</main-group>
<subgroup>167</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>726  7</main-classification>
<further-classification>726 31</further-classification>
<further-classification>726 32</further-classification>
<further-classification>726 33</further-classification>
<further-classification>726 34</further-classification>
<further-classification>713165</further-classification>
<further-classification>713166</further-classification>
<further-classification>713167</further-classification>
<further-classification>380201</further-classification>
<further-classification>380229</further-classification>
<further-classification>380230</further-classification>
<further-classification>380231</further-classification>
<further-classification>707200</further-classification>
<further-classification>707201</further-classification>
<further-classification>707202</further-classification>
<further-classification>707203</further-classification>
</classification-national>
<invention-title id="d0e71">File management method and files</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5161214</doc-number>
<kind>A</kind>
<name>Addink et al.</name>
<date>19921100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707  1</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5987536</doc-number>
<kind>A</kind>
<name>Johnson et al.</name>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710 36</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2003/0126215</doc-number>
<kind>A1</kind>
<name>Udell et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709206</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>WO</country>
<doc-number>98/58321</doc-number>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>WO</country>
<doc-number>WO 9858321</doc-number>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
</references-cited>
<number-of-claims>10</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>711  1</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>711113</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>711  4</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>707200</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709206</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713165-167</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713188-189</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>726 27- 35</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>380201</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20010047447</doc-number>
<kind>A1</kind>
<date>20011129</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Katsuda</last-name>
<first-name>Takeo</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Buchanan Ingersoll &amp; Rooney PC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Minolta Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Osaka-Shi, Osaka</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Sheikh</last-name>
<first-name>Ayaz</first-name>
<department>2131</department>
</primary-examiner>
<assistant-examiner>
<last-name>Chai</last-name>
<first-name>Longbit</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The invention relates to a method of managing files. In this invention, a method of managing a file stored in an external memory device of a computer having an application that starts when it is read by the computer consists of a step of accepting an instruction for starting up the application, and a step of automatically deleting the application program from the external memory device when the started application terminates. This file managing method can automatically delete the application program from the external memory device when the started application terminates.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="149.01mm" wi="132.08mm" file="US07299494-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="238.25mm" wi="141.48mm" orientation="landscape" file="US07299494-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="150.79mm" wi="135.21mm" file="US07299494-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="172.13mm" wi="143.51mm" file="US07299494-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="240.62mm" wi="132.84mm" file="US07299494-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="241.05mm" wi="135.89mm" file="US07299494-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="234.19mm" wi="116.16mm" file="US07299494-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="255.35mm" wi="142.49mm" file="US07299494-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="221.40mm" wi="114.64mm" file="US07299494-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">This application is based on Japanese Patent Application No. 2000-155325 filed on May 25, 2000, the contents of which are hereby incorporated by reference.</p>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The invention relates to file management and filing technology.</p>
<p id="p-0005" num="0004">2. Description of the Prior Arts</p>
<p id="p-0006" num="0005">A new kind of files has come into being in recent years where the conditions such as the period of usage and the number of repetitive usages can be arbitrarily set up by the author, wherein files can no longer be used once their periods of usage are expired.</p>
<p id="p-0007" num="0006">However, those files that are no longer usable due to expiration of their usage periods are still stored in media such as floppy disks and hard disks as they are not automatically removed. This means that they occupy the medians memory areas forever.</p>
<p id="p-0008" num="0007">Therefore, it is desirable to have such a file that can be automatically deleted without the user's intervention, or a file that can be automatically deleted leaving only information that is necessary for the user.</p>
<p id="p-0009" num="0008">Among the files where usage periods or number of repetitive usages are set up, popular ones are the files that contain trial version software used for the promotion of software products for potential customers. This means that it would defeat the purpose of such trial files if the contents of the files can be changed or copied. Therefore, it is desirable to have files that prevent any modification or copying the contents of the files.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0010" num="0009">The purpose of the invention is to provide a file management method and files that are capable of automatically deleting the files when they become unable to meet their usage conditions and preventing modifications or copying of the files.</p>
<p id="p-0011" num="0010">According to this invention, a file management method having an application program that is stored in an external memory device of a computer and operates when it is read into the computer consists of a step for accepting the startup instruction for the application; and a step for automatically deleting the application program from the external memory device when the started application completes its operation. This management method is capable of automatically deleting the application program from the external memory device when the started application completes its operation.</p>
<p id="p-0012" num="0011">According to this invention, the file management method having an application program that is stored in an external memory device of a computer and operates when it is read into the computer further consists of a step for uncompressing a compressed file stored in the external memory device and generating an uncompressed file in the external memory device separate from the compressed file; a step for accepting an instruction for starting up an application in the uncompressed file; and a step for automatically deleting the uncompressed file containing the application from the external memory device as the started application ends. This file management method is capable of starting up the application in the uncompressed file generated by uncompressing the compressed file and deleting the uncompressed file from the external memory device while leaving the compressed file intact as the application ends.</p>
<p id="p-0013" num="0012">According to this invention, the file management method having an application program that is stored in an external memory device of a computer and operates when it is read into the computer further consists of a step for checking the application's usage restricting condition of the application; and a step for automatically deleting the application program from the external memory device as the started application ends when the application's usage restricting condition of the application is met. This file management method is capable of automatically deleting the application program from the external memory device when the application's usage restricting condition of the application is met.</p>
<p id="p-0014" num="0013">According to this invention, the file management method having an application program that is stored in an external memory device of a computer and operates when it is read into the computer further consists of a step for uncompressing a compressed file stored in the external memory device and generating an uncompressed file in the external memory device separate from the compressed file; a step for checking the application's usage restricting condition of the application; and a step for automatically deleting the application program from the external memory device as the started application ends when the application's usage restricting condition of the application is met. This file management method is capable of automatically deleting the application program from the external memory device when the application's usage restricting condition of the application is met.</p>
<p id="p-0015" num="0014">According to this invention, the file management method having an application program that is stored in an external memory device of a computer and operates when it is read into the computer further consists of a step for uncompressing a compressed file stored in the external memory device and generating an uncompressed file in the external memory device separate from the compressed file; a step for checking the application's usage restricting condition of the application in the compressed file; a step for starting up the application when the application's usage restricting condition is not met, modifying the information concerning the application usage restriction inside the compressed file, and automatically deleting the uncompressed file from the external memory device as the application ends; and a step for deleting the compressed file and the uncompressed file from the external memory device when the application's usage restricting condition is met. This file management method is capable of starting up the application and modifying the information concerning the application's usage restricting condition in the compressed file when the application's usage restricting condition is not met.</p>
<p id="p-0016" num="0015">According to this invention, a file that is stored in an external memory device of a computer and contains an application program that starts up when it is read into the computer consists of information concerning the startup restriction on the application program; a judgment program for judging if the startup restricting condition is met; and an instruction program for outputting an instruction for instructing the computer's control unit to delete the application program from the external memory unit. This file is capable of outputting an instruction for instructing the computer's control unit to delete the application program from the external memory unit.</p>
<p id="p-0017" num="0016">According to this invention, a file management method that is stored in an external memory device of a computer and contains an application program that starts up when it is read into the computer consists of a step for accepting an instruction for starting up the application; a step for checking the usage restriction on the accepted application; and a step for automatically deleting the application from the external memory device without starting the application when the usage restricting condition is met. This file management method is capable of automatically deleting the application from the external memory device without starting the application when the usage restricting condition is met.</p>
<p id="p-0018" num="0017">According to this invention, a file management method that is stored in an external memory device of a computer and contains an application program that starts up when it is read into the computer further consists of a step for accepting an instruction for starting up the application; a step for accepting an instruction for terminating the application; and a step for checking the usage restricting condition concerning the number of startups on the accepted application and automatically deleting the application program from the external memory device if it is the last usage. This file management method is capable of checking the usage restricting condition of an accepted application as the started application ends, and automatically deletes said application's program from the external memory device.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> is a drawing that shows the schematic constitution of a typical computer where a file management method according to the invention is applied.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> is a drawing that shows the data structure of a file according to the first embodiment's format.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> is a drawing showing a group of blocks containing data for counting, wherein (A) is the group of blocks before the file is used, and (B) is the group of blocks after the file is used.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4</figref> is a flow chart showing the flow of file usage and deletion in the first embodiment's format.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5</figref> is a flow chart showing the flow of the file management when a file usage restriction is set up according to the date of usage.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart showing the flow of the file management when a judgment is made whether there is a usage restriction after displaying according to the display software.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 7</figref> is a drawing that shows the data structure of a file according to the second embodiment's format.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 8</figref> is a drawing that shows the file relation table for the second embodiment's format.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 9</figref> is a flow chart showing the flow of the file usage and deletion processes in the second embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0028" num="0027">The embodiments of this invention will described below using the accompanying drawings.</p>
<p id="p-0029" num="0028">First, let us describe a typical computer to which the file management method and files according to the invention are applied.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 1</figref> is a drawing that shows the schematic constitution of a typical computer <b>100</b> where a file management method according to the invention is applied.</p>
<p id="p-0031" num="0030">The computer <b>100</b> contains a CPU <b>101</b>, a ROM <b>102</b>, a RAM <b>103</b>, a hard disk <b>104</b>, a display <b>105</b>, a input device <b>106</b>, a flexible disk drive (FD drive) <b>107</b>, a modem <b>108</b>, and a network interface <b>109</b>, all of which are interconnected via a bus <b>110</b>.</p>
<p id="p-0032" num="0031">The CPU <b>101</b> is in charge of control and arithmetic operations including reading and executing of programs. The ROM <b>102</b> stores control programs and data. The RAM <b>103</b> stores programs and data temporarily. The hard disk <b>104</b> stores various programs and data including the operating system. The display <b>105</b> displays various types of information including the executions of applications by the CPU. The input device <b>106</b> includes a pointing device such as a mouse and a keyboard. The FD drive <b>107</b> is a device for driving flexible disks. The modem <b>108</b> enables the computer to exchange data with other equipment via telephone lines. The network interface <b>109</b> is an interface for the computer to communicate with other equipment via the network.</p>
<heading id="h-0005" level="1">Embodiment 1</heading>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 2</figref> is a drawing that shows the data structure of a file <b>10</b> according to the first embodiment's format.</p>
<p id="p-0034" num="0033">The file <b>10</b> is stored in the hard disk <b>104</b> (external memory device), which is controlled by the CPU <b>101</b> of the computer <b>100</b>.</p>
<p id="p-0035" num="0034">The file <b>10</b> consists of a header <b>11</b>, a display data <b>12</b>, which the user views, display software <b>13</b> for viewing said display data <b>12</b>, and a count data <b>14</b> for counting the number of usages.</p>
<p id="p-0036" num="0035">The display data <b>12</b> is an image data that is readable only with the help of the display software <b>13</b>, and is contained in the file <b>10</b> in a compressed condition. The display data <b>12</b> is generated using image generating software, etc., before the file <b>10</b> is generated.</p>
<p id="p-0037" num="0036">The display software <b>13</b> is read-only software for the display data <b>12</b>, and is able to display the content of the display data <b>12</b>. The display software <b>13</b> protects the display <b>12</b> from being recorded, edited, printed or copied. The display software <b>13</b> also determines the timing of the deletion of the file <b>10</b> and issues an instruction of deletion.</p>
<p id="p-0038" num="0037">Since the display data <b>12</b> and the display software <b>13</b> are contained in the same file <b>10</b>, there is no need to have a special program to use the file <b>10</b>, so that it is easier to distribute the file <b>10</b>.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 3</figref> is a drawing showing a group of blocks held in the count data <b>14</b>, wherein (A) is the group of blocks before the file is used, and (B) is the group of blocks after the file is used.</p>
<p id="p-0040" num="0039">The count data <b>14</b> consists of a group of blocks, each block having the same capacity, as shown in <figref idref="DRAWINGS">FIG. 3</figref> (A). The display software <b>13</b> counts the number of usage of the file <b>10</b> by means of deleting one block at a time from this group of blocks each time a display is made. For example, when the number of usage is four, the block <b>23</b> will be deleted, making the remaining number of blocks eight as shown in <figref idref="DRAWINGS">FIG. 3</figref> (B). These blocks are all compressed blocks. The blocks are deleted in the compressed state. The data of these blocks cannot be modified while they are in the compressed state. Therefore, the counting can be done without using the uncompressed data, so that the data cannot be tampered to enable unlimited number of usages. Moreover, even if the file <b>10</b> is copied, the number of blocks will also be copied so that the number of usage cannot be reversed or increased.</p>
<p id="p-0041" num="0040">The header <b>11</b> is primarily the area to contain the data concerning the management of the file <b>10</b>, and includes a file name data <b>15</b>, a file number data <b>16</b>, a comparison data <b>17</b>, and other data <b>18</b> concerning said file <b>10</b>.</p>
<p id="p-0042" num="0041">The file name data <b>15</b> contains an extension data that represents the attribute of the file <b>10</b> and the data of the file name that the author assigned to the file.</p>
<p id="p-0043" num="0042">The file number data <b>16</b> is the identification number data of the file <b>10</b> to differentiate it from the rest of the files existing in the hard disk <b>104</b>.</p>
<p id="p-0044" num="0043">The comparison data <b>17</b> is a data to be compared with the count data <b>14</b>. The comparison data <b>17</b> has a data size equivalent to several blocks of the count data <b>14</b>. The data size of the comparison data <b>17</b> is smaller than the data size of the number of blocks that constitute the count data <b>14</b>, and is equivalent to, for example, one of the blocks. The number of blocks of the count data <b>14</b> in the unused condition is set to a number of blocks equivalent to the data size of the comparison data <b>17</b> plus the number of usages allowed. The data size that the comparison data <b>17</b> has is used for the display software to compare with the total data size of the blocks held by the count data <b>14</b>. The data size of the comparison data <b>17</b> is used for comparing with the total data size of the blocks the count data <b>14</b> has. If the data size of the comparison data <b>17</b> is equivalent to one block, the file <b>10</b> can be used 11 times in case of <figref idref="DRAWINGS">FIG. 3(A)</figref> as the count data <b>14</b> has 12 blocks.</p>
<p id="p-0045" num="0044">Other data <b>18</b> includes the date when the file <b>10</b> was created, the name of the author, etc.</p>
<p id="p-0046" num="0045">The data included in the header <b>11</b> are all assigned by the author to the file <b>10</b> at the time of file creation, and are so designed that they cannot be altered by the user who uses the file <b>10</b>. Although the file name can generally be altered, but it is so programmed that the display software <b>13</b> does not start if the file name is altered.</p>
<p id="p-0047" num="0046">As can be seen from the above, the file <b>10</b> according to this invention is created to include all the data except the data included in the header <b>11</b> in a compressed condition. Such a file is generally called a compressed file. Among various compressed files, the file <b>10</b> is a self-uncompressing type file, and the extension data the file name data <b>15</b> has is typically “exe.” When the user specifies the use of the file <b>10</b>, the uncompressing program contained in the file <b>10</b> is automatically executed to uncompress the compressed data into a work area such as the RAM <b>103</b> and the hard disk <b>104</b>. Therefore, the uncompressed file can be operated in the work area while the file <b>10</b> is still kept in the compressed state. In other words, two kinds of the file <b>10</b> exist on the computer, one in the compressed state and the other in the uncompressed state when the file <b>10</b> is in use. In the following description, the one that remains in the compressed state will be called the file <b>10</b> and the one in the working area in the uncompressed state will be called the uncompressed file.</p>
<p id="p-0048" num="0047">Let us now describe the managing procedure for the file <b>10</b> concerning this invention.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 4</figref> is a flow chart that shows the flow of usage and deletion of the file <b>10</b> according to the first embodiment.</p>
<p id="p-0050" num="0049">At the step S<b>30</b>, the file <b>10</b> is uncompressed (developed). The operation here is as follows. When the user selects the file <b>10</b> using the mouse pointer, etc., while observing the display <b>105</b> of the computer <b>100</b>, the uncompression program contained in the file <b>10</b> begins to operate. The uncompressed program then reads the data in the compressed file <b>10</b> and writes the data of the uncompressed file into the work area. Therefore, the data of the uncompressed file will operate in the working area.</p>
<p id="p-0051" num="0050">At the step S<b>31</b>, the display software <b>13</b> makes a judgment whether there is any usage restriction on the file <b>10</b> based on the comparison data <b>17</b>. It compares the total data size of the blocks that the count data <b>14</b> has as a result of the count down at the step S<b>33</b> and the data size the relative data <b>17</b> has. If the two data sizes are equal, it judges that the number of usages of the file <b>10</b> has reached the allowed limit, so that there exists a usage restriction on the file <b>10</b> (step S<b>31</b>: Yes), and the system proceeds to the step S<b>32</b>. If the data sizes are not equal, it determines that the number of usages of the file <b>10</b> has not reached the allowed limit, so that no usage restriction exists on the file <b>10</b> (step S<b>31</b>: No), and the system proceeds to the step S<b>33</b>.</p>
<p id="p-0052" num="0051">At the step S<b>32</b>, it deletes the file <b>10</b> that has reached the allowed number of usages. The display <b>13</b> issues here an instruction to the CPU <b>101</b> of the computer <b>100</b> to delete the file <b>10</b> stored in the compressed state. Upon receiving the instruction, the CPU <b>101</b> deletes the file <b>10</b>. As a result of the restriction on the number of usages, the file <b>10</b> will be deleted, so that it does not cause a problem of the unusable file occupying a space on the hard disk <b>104</b>. Later, the uncompressed file in the work area will also be deleted at the step S<b>40</b>. Since this relatively large uncompressed file will be deleted, a wasteful use of the hard disk <b>104</b> will be avoided.</p>
<p id="p-0053" num="0052">At the step S<b>33</b>, it counts down the number of usages of the file <b>10</b>. In the process of the count down, the display software <b>13</b> deletes one of the blocks held by the count data <b>14</b> of the file <b>10</b>.</p>
<p id="p-0054" num="0053">At the step S<b>34</b>, the display software <b>13</b> obtains the file number data <b>16</b>.</p>
<p id="p-0055" num="0054">At the step S<b>35</b>, the display software <b>13</b> retrieves other files having the same file number data <b>16</b> as the file <b>10</b> in the hard disk <b>104</b> where the file <b>10</b> is stored. Here the display software <b>13</b> extracts the files having the same file name and extension as those of the file name data <b>15</b> to narrow the range of retrieval. Next, it retrieves other files having the identical file number as the file number data <b>16</b>. The addition of the file name data <b>15</b> as a part of the retrieval condition, the retrieval time can be reduced.</p>
<p id="p-0056" num="0055">When other files having the same file number as the file number data <b>16</b> are found (step S<b>35</b>: Yes), it proceeds to the step S<b>36</b>. If no other files having the same file number as the file number data <b>16</b> is found (step S<b>35</b>: No), it proceeds to the step S<b>37</b>.</p>
<p id="p-0057" num="0056">At the step S<b>36</b>, the display software <b>13</b> deletes the other files found in the above. The file <b>10</b>, which is in the compressed state, can be copied. Thus, by deleting all identical copies produced by copying and the file <b>10</b> itself except one of them, it can prevent more than two copies of the file <b>10</b> from existing on the hard disk <b>104</b>. Consequently, using the file <b>10</b> and one copy of it, it can prevent the number usages of the file <b>10</b> from being increased. Thus, illegal usage of the file <b>10</b> can be prevented.</p>
<p id="p-0058" num="0057">At the step S<b>37</b>, a judgment is made whether all other files having the same file number <b>16</b> as the file <b>10</b> among all the files on the hard disk <b>104</b> have been retrieved. If it is confirmed that the retrieval was made for all the files (step S<b>37</b>: Yes), it proceeds to the step S<b>38</b>. If there are any files yet to be retrieved (step S<b>37</b>: No), it returns to the step S<b>35</b>.</p>
<p id="p-0059" num="0058">At the step S<b>38</b>, the display software <b>13</b> displays the content of the display data <b>12</b>.</p>
<p id="p-0060" num="0059">At the step S<b>39</b>, it makes a judgment whether the display is finished. If the user instructs the end of the display software <b>13</b> or the use of software other than the display software <b>13</b> (step S<b>39</b>: Yes), it proceeds to the step S<b>40</b>. If it is judged to be the end of the display (step S<b>39</b>: No), it continues the display.</p>
<p id="p-0061" num="0060">At the step S<b>40</b>, the uncompressed file will be deleted from the work area and only the file <b>10</b> in the compressed state, which has been counted down, remains in the hard disk <b>104</b>. Since the relatively large uncompressed file will be deleted, wasteful use of the hard disk can be avoided.</p>
<p id="p-0062" num="0061">Also, other than when the file <b>10</b> is used, only the compressed file <b>10</b> exists on the hard disk <b>104</b>, the data in the file <b>10</b> cannot be modified. Even when the file <b>10</b> is being used, operations except display such as recording, editing, printing and copying of the display data is prevented by the display software. Consequently, it can securely protect the file <b>10</b> by preventing the compressed file <b>10</b> from being tampered to change the number of usages unlimited or extracting data using the uncompressed file.</p>
<p id="p-0063" num="0062">Although the format of the first embodiment was described in the above assuming that the display data <b>12</b>, which is the image data, and the display software <b>13</b>, which displays its image, are both included in the file <b>10</b>, the invention is not limited to it. The file <b>10</b> can be configured in such a way as not to contain the display data <b>12</b> and the display software <b>13</b>, but rather output an instruction to the control unit (CPU <b>101</b>) of the computer <b>100</b> to delete said file <b>10</b> based on the counting data <b>14</b> and the comparing data <b>17</b>.</p>
<p id="p-0064" num="0063">Although the display software contains a procedure for outputting an instruction to delete the file <b>10</b> and a procedure to output an instruction to delete other files that contain the same file number data <b>16</b> as the file <b>10</b> built into one program, it can also be configured to have only one of the procedures to be built into a program.</p>
<p id="p-0065" num="0064">At the step S<b>35</b>, the retrieval condition can include, in addition to the file number data <b>16</b>, not only the file name and the extension, but also the date of the generation of the file <b>10</b>, the name of the author, etc. The retrieval condition can consist of only the file number data <b>16</b>, or adding only one of the other retrieval conditions mentioned above. It is also possible to configure the system in such a way that, when other files having the same file number as the file number data <b>16</b> are found, it uncompresses such files and compares their contents with that of the uncompressed file and proceeds to the step S<b>36</b> if they match. Furthermore, it is possible to retrieve other files in the compressed state having the same file size using the file size of the file <b>10</b> in the compression state as a retrieval condition.</p>
<p id="p-0066" num="0065">Furthermore, although the display data <b>12</b> was described in the above as an image data, it is not limited to it. For example, it can be document data, voice data, game software, or any combination of them. In such a case, the display software <b>13</b> can be arbitrarily modified to software for displaying document data, or reproducing voice data or reproducing the game software.</p>
<p id="p-0067" num="0066">Furthermore, although the usage restriction on the file <b>10</b> is executed by deleting the entire file <b>10</b> when the total data size of the blocks of the count data <b>14</b>, whose block is deleted each time the file <b>10</b> is used, matches with the data size of the comparison data <b>17</b> preset by the author, the usage restriction can be implemented by other methods as well. For example, it is possible to count the number of usages of the file <b>10</b> directly, and executes the usage restriction based on the counted number of usages. Moreover, the usage restriction of the file <b>10</b> should not necessarily be based on the number of usages, it can be set up based on a validity period or date of usage.</p>
<p id="p-0068" num="0067">When the limitation of the usage of the file <b>10</b> is set up based on a validity date, the management of the file <b>10</b> is performed as shown in <figref idref="DRAWINGS">FIG. 5</figref>. In this case, the comparison data <b>17</b> of the file <b>10</b> is replaced with the validity data so that it can be compared with the date of actual usage of the file <b>10</b>.</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 5</figref> is a flow chart that shows the management flow of the file <b>10</b> when the usage restriction of the file <b>10</b> is set up based on the validity date. The operation procedures of <figref idref="DRAWINGS">FIG. 5</figref>, which are the same as those in <figref idref="DRAWINGS">FIG. 4</figref>, are identified by assigning the same numbers and their descriptions are omitted.</p>
<p id="p-0070" num="0069">At the step S<b>41</b>, the uncompressed display software <b>13</b> obtains the date data referencing the clock function used on the computer <b>101</b>.</p>
<p id="p-0071" num="0070">At the step S<b>42</b>, the display software <b>13</b> makes a judgment on the usage restriction of the file <b>10</b> based on the comparison data <b>17</b>. The display software <b>13</b> compares the validity date data held by the comparison data <b>17</b> with the date data obtained at the step S<b>41</b>. If the date data exceeds the validity date, it judges that the usage of the file <b>10</b> should be restricted (step S<b>42</b>: Yes), and proceeds to the step S<b>32</b>. If the date data does not exceed the validity date, it judges that the usage of the file <b>10</b> should not be restricted (step S<b>42</b>: No), and proceeds to the step S<b>34</b>. The following operational procedures are similar to those in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0072" num="0071">Although the file <b>10</b> was deleted when it is determined that there is a usage restriction as a result of judging if there is a usage restriction for the file <b>10</b> at the start of the uncompressed program in the flow chart shown in FIG. <b>4</b>, the invention is not limited to it. It is possible to configure the system in such a way as to make a judgment whether there is a usage restriction at the end of the display by the display software <b>13</b>, and to delete the file <b>10</b> when a usage restriction is found.</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart showing the flow of the management of the file <b>10</b> when a judgment is made whether there is a usage restriction after displaying according to the display software <b>13</b>. The operation procedures of <figref idref="DRAWINGS">FIG. 6</figref> which are the same as those in <figref idref="DRAWINGS">FIG. 4</figref> are identified by assigning the same numbers and their descriptions are omitted.</p>
<p id="p-0074" num="0073">At the step S<b>43</b>, a judgment is made whether there is a usage restriction for the file <b>10</b> after the display is by the display software <b>13</b> is finished at the step S<b>39</b>. Here the data size of the comparison data <b>17</b> is compared with the total data size of the blocks the count data <b>14</b> has after the count down is performed at the step S<b>33</b>. If the two data sizes match, it is construed that the number of usages for the file <b>10</b> has been reached and that the usage restriction for the file <b>10</b> exists (step S<b>43</b>: Yes), so that it proceeds to the step S<b>44</b>. If the two data sizes do not match, the system determines that there still remains a certain number of usages for the file <b>10</b> and that there is no usage restriction for the file <b>10</b> (step S<b>43</b>: No), so that it proceeds to the step S<b>40</b>.</p>
<p id="p-0075" num="0074">At the step S<b>44</b>, the system deletes the file whose number of usage limit has been reached, i.e., whose useful life has ended. The display software <b>13</b> issues an instruction to the CPU <b>101</b> of the computer <b>100</b> to delete the file <b>10</b>, which has been kept in the compressed state. The CPU deletes the file <b>10</b>. As the file <b>10</b> will be deleted by the restriction on the number of usages, the inconvenience of having an unusable file in the hard disk <b>104</b> forever. After that, the uncompressed file will be deleted from the work area at the step S<b>40</b>. As the relatively large uncompressed file will be removed, the hard disk <b>104</b> can be used more efficiently.</p>
<heading id="h-0006" level="1">Embodiment 2</heading>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. 7</figref> is a drawing that shows the data structure of the file <b>45</b> that relates to the second embodiment. The structural elements identical to those of the file <b>10</b> of the first embodiment shown in <figref idref="DRAWINGS">FIG. 1</figref> are identified by assigning the same numbers and their descriptions are omitted here.</p>
<p id="p-0077" num="0076">The format of the second embodiment is different from that of the first embodiment in that a portion of the data contained in a file is deleted each time said file is used.</p>
<p id="p-0078" num="0077">The relational table <b>47</b> is a table that shows the relation between the blocks the count data <b>14</b> has and a portion of the display data <b>12</b>. For example, each of the blocks <b>20</b> through <b>29</b> shown in <figref idref="DRAWINGS">FIG. 3</figref> (A) is related to a portion of the display data <b>12</b> as shown in <figref idref="DRAWINGS">FIG. 8</figref>. The data <b>12</b><i>a </i>through data <b>12</b><i>j </i>are portions of the display data <b>12</b>.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 9</figref> is a flowchart showing the usage and deletion of the file <b>45</b> in the second embodiment.</p>
<p id="p-0080" num="0079">The step S<b>60</b> is the same as the step S<b>30</b> of <figref idref="DRAWINGS">FIG. 4</figref>, and the step S<b>61</b> is the same as the step S<b>33</b> of <figref idref="DRAWINGS">FIG. 4</figref>; similarly, the steps S<b>63</b> through S<b>69</b> are similar to the steps S<b>34</b> through S<b>40</b>. Therefore, the descriptions for the steps S<b>60</b>, S<b>61</b>, and S<b>63</b> through S<b>69</b> are omitted here.</p>
<p id="p-0081" num="0080">At the step S<b>62</b>, a portion of the display data <b>12</b> is deleted. The display software <b>13</b> deletes a portion of the display data <b>12</b> related to the blocks that are deleted at the step S<b>61</b> referencing the relational table <b>47</b>. More specifically, it deletes the data <b>12</b><i>a </i>of the display data <b>12</b> if the block <b>20</b> is deleted.</p>
<p id="p-0082" num="0081">In other words, the display software <b>13</b> deletes the block that the count data has each time when the file <b>10</b> is used, and deletes a portion of the display data <b>12</b> related to said block referencing the relational table <b>47</b>. Therefore the data of the display data <b>12</b> reduces incrementally as the number of usages of the file <b>10</b> increases. The advantage of this method is that the occupancy of the hard disk by the file can be reduced to a minimum by deleting the bulk of the free trial version of the file after the user has experienced it a several times leaving only the advertisement and the instruction on how to order it.</p>
<p id="p-0083" num="0082">Although it was described for the second embodiment that the display data <b>12</b>, which is the image data, and the display software <b>13</b> to display said image are both contained in the file <b>45</b>, the invention is not limited to it. The file <b>45</b> can be configured in such a way as not to include the display data <b>12</b> and the display software <b>13</b>, but rather to issue an instruction to the control unit to delete a portion of the display data <b>12</b> based on the relational table <b>47</b>.</p>
<p id="p-0084" num="0083">Furthermore, although it is described that the display software has a procedure to issue an instruction to delete a portion of the display data <b>12</b> and a procedure to issue an instruction to delete other files having the same file number data <b>16</b> as the file <b>45</b> in one program, the display software can have only one of the procedures built into the program.</p>
<p id="p-0085" num="0084">Furthermore, the display data <b>12</b> is not limited to an image data. It can be arranged to have a portion of the text to be deleted; a portion of a melody, or a portion of an introduction, or a measure of a song to be deleted if it is a sound data; a portion of voice data or action command to be deleted if it is game software, in a small increment each time when the file <b>45</b> is used.</p>
<p id="p-0086" num="0085">Although the usage restriction of the file <b>45</b> is executed by deleting a portion of the display data <b>12</b>, which is related to the deleted blocks, based on the relational table <b>45</b>, it is not limited to it. For example, it is possible to count the number of usages of the file <b>45</b> directly and delete a portion of the display data <b>12</b> with each count. Moreover, the usage restriction of the file <b>45</b> is not necessarily set up according to the number of usages, but also can be set up according to the usage validity date.</p>
<p id="p-0087" num="0086">Although it is described in the above for the first and second embodiments that the external memory device is the hard disk <b>104</b> of the computer <b>100</b>, it needs not be limited to it. The external memory device can be a flexible disk, ZIP™, MO, DVD, CD-RW, etc.</p>
<p id="p-0088" num="0087">As described in the above, the invention prevents a wasteful use of an external memory device as a portion or all of a file is automatically deleted from the external memory device when the file usage is restricted.</p>
<p id="p-0089" num="0088">Furthermore, the invention simplifies the distribution of the file, since the file is generated combining the data to be used by the user and the display software for reading said data, thus eliminating the need for using another program.</p>
<p id="p-0090" num="0089">Furthermore, the invention prevents illegal use of the file as the data can be read only by means of the display software and the display software is the program dedicated for reading the data, so that it cannot be used when either of them is wrong. Moreover, the invention prevents illegal use of the data as the display software prohibits the recording, editing, printing and copying of the data.</p>
<p id="p-0091" num="0090">Furthermore, the invention can leave only the necessary information and prevent wasteful use of the external memory device as the data is deleted incremental. The invention can delete the data incrementally based on the number of usages and the validity date.</p>
<p id="p-0092" num="0091">Furthermore, the invention prevents modification of the content of the file in the compressed state as the program is executed when the file content is uncompressed. Since the file issues an instruction to retrieve other files having specific information and to delete those other files from the external memory device, it prevents the existence of multiple identical files. Therefore, it can prevent the user from illegally using the file by making its copies.</p>
<p id="p-0093" num="0092">Furthermore, the invention can securely delete other files only as it compares the file's content with other files' contents. Moreover, the invention can specify other files by means of specified information. Further, since the invention executes the program only when the compressed file is uncompressed, it prevents modification of the content of the compressed file.</p>
<p id="p-0094" num="0093">The disclosure of the Japanese Patent Application No. 2,000-155,325 filed on May 25, 2000 including its specification, claims and summary are incorporated by reference herein in its entirety.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of managing a file stored in a non-volatile memory device of a computer, comprising steps of:
<claim-text>uncompressing a compressed file stored in the non-volatile memory device to generate an uncompressed file separately from the compressed file in the non-volatile memory device, the uncompressed file comprising an application to be read by the computer to start operation of said application;</claim-text>
<claim-text>checking reference information relating to a usage restriction of said application, said reference information being contained in a header area of the compressed file;</claim-text>
<claim-text>initiating the application and modifying usage information contained in the compressed portion of the file in response to the initiation of the application, wherein the usage information is represented by an aggregated number of data blocks of count data, if the application usage restriction condition does not exist, as well as automatically deleting the uncompressed file as the started application terminates its operation; and</claim-text>
<claim-text>automatically deleting the uncompressed file as the started application terminates its operation if the usage restriction condition exists.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said usage information comprises a group of blocks in said file.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the usage information is determined by the number of blocks in said group.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the step of modifying said usage information comprises deleting one of said blocks from the file during initiation of the application.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein said reference information includes comparison data that designates a predetermined amount of data, and wherein the step of checking comprises comparing the total size of said group of blocks to said comparison data.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the usage restriction condition exists if said total size is no greater than said comparison data.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said comparison data is equal to the size of one block.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein each of said blocks is of the same size.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein each block contains compressed data.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the compressed file includes display data having portions that respectively correspond to said blocks, and further including the step of deleting the portion of the display data that corresponds to a block that is being deleted.</claim-text>
</claim>
</claims>
</us-patent-grant>
