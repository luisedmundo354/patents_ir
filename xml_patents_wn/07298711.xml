<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298711-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298711</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10253668</doc-number>
<date>20020923</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>1098</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>3</main-group>
<subgroup>20</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370286</main-classification>
<further-classification>375222</further-classification>
<further-classification>375254</further-classification>
<further-classification>375350</further-classification>
<further-classification>37940601</further-classification>
<further-classification>37940606</further-classification>
</classification-national>
<invention-title id="d0e53">Echo cancellation in a communication device</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4669116</doc-number>
<kind>A</kind>
<name>Agazzi et al.</name>
<date>19870500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37940608</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5680450</doc-number>
<kind>A</kind>
<name>Dent et al.</name>
<date>19971000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37940608</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6147979</doc-number>
<kind>A</kind>
<name>Michel et al.</name>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370292</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6522688</doc-number>
<kind>B1</kind>
<name>Dowling</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375222</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>17</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370286</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370287</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370288</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370289</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370290</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370291</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370292</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375222</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375254</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375350</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3794061</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940602</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940603</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940605</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940606</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940615</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940601</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>2</number-of-drawing-sheets>
<number-of-figures>2</number-of-figures>
</figures>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Jarcy</last-name>
<first-name>Michael J.</first-name>
<address>
<city>Tustin</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Farjami &amp; Farjami LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Mindspeed Technologies, Inc.</orgname>
<role>02</role>
<address>
<city>Newport Beach</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Pham</last-name>
<first-name>Chi</first-name>
<department>2616</department>
</primary-examiner>
<assistant-examiner>
<last-name>Hom</last-name>
<first-name>Shick</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">According to one exemplary embodiment, a communication device comprises a line driver, where the line driver provides an output signal. The communication device further comprises a digital echo canceller module coupled to the line driver, where the digital echo canceller module receives an echo reference signal determined by the output signal of the line driver, where the echo canceller module outputs an echo cancellation signal, and where the echo cancellation signal is capable of canceling linear and non-linear components of a composite signal. The communication device further comprises a summation module coupled to the digital echo canceller module, where the summation module receives the echo cancellation signal and the composite signal, and where the composite signal comprises a received signal and the linear and non-linear echo components. The summation module is configured to subtract the echo cancellation signal from the composite signal and to output the received signal.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="143.34mm" wi="218.19mm" file="US07298711-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="220.05mm" wi="170.86mm" orientation="landscape" file="US07298711-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="218.95mm" wi="160.70mm" orientation="landscape" file="US07298711-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention is generally related to the field of communication devices. More particularly, the present invention is related to echo cancellation in communication devices.</p>
<p id="p-0004" num="0003">2. Related Art</p>
<p id="p-0005" num="0004">The increasing demand for high-speed Internet connectivity has in turn increased the demand for various communication devices such as modems, and in particular for modems utilizing digital subscriber line (“DSL”) technology which provides high-speed transmission of voice, video, and data information over existing copper telephone lines. Although the DSL modem is used merely as an example in the present application to illustrate shortcomings of the existing art, such shortcomings and the solutions set forth by the present invention, are also applicable to other communication devices.</p>
<p id="p-0006" num="0005">DSL technology utilizes a DSL modem to achieve data speed from 128 Kbps to 8 Mbps and higher over an ordinary telephone line. During operation, the DSL modem utilizes the same line for both transmitting and receiving information. As a result, the signal transmitted by a line driver in the DSL modem can encounter discontinuities in the line, which can cause part of the transmitted signal to reflect or echo back and interfere with a received signal. In an effort to eliminate interference to the received signal that is caused by the echo of the signal transmitted by the line driver, DSL modem manufacturers employ echo cancellation circuitry.</p>
<p id="p-0007" num="0006">To achieve echo cancellation, DSL modem manufacturers typically employ a hybrid circuit comprising analog components. By utilizing a hybrid circuit, an echo reduction or attenuation of approximately 15.0 to 20.0 dB can be achieved. However, proper reception of the received signal requires that the signal strength of the echo be attenuated below the signal strength of the received signal. Thus, since the signal strength of the received signal can be approximately 80.0 dB below the signal strength of the transmitted signal, an echo reduction of 15.0 to 20.0 dB does not provide sufficient echo cancellation for proper reception of the received signal. Greater echo reduction can be achieved in an external hybrid circuit by utilizing very accurate components and very accurately matching the impedance of the line. However, very accurate components are costly and matching the impedance of the line to a required degree of accuracy is difficult to achieve.</p>
<p id="p-0008" num="0007">To achieve further echo cancellation, DSL modem manufacturers utilize a digital echo canceller (“DEC”) in the DSL modem. By utilizing a DEC, a desirable echo attenuation or reduction of approximately 80.0 dB can be achieved. However, the DEC is essentially a linear echo canceller and, as such, works very well as long as the line driver that transmits the output signal of the DSL modem is linear.</p>
<p id="p-0009" num="0008">During actual operation, the signal transmitted by the line driver includes non-linear signal components, since linearity is difficult to achieve in a high power and high current device such as a line driver. As a result, the echo will include both linear and non-linear signal components. Thus, since the DEC is essentially a linear echo canceller, the DEC will only cancel the linear component of the echo. Since the hybrid circuit can reduce both the linear and non-linear components of the echo, the hybrid circuit can be utilized to attenuate the non-linear component of the echo. However, the hybrid circuit typically attenuates the non-linear component of the echo by only approximately 15.0 to 20.0 dB. Thus, the unattenuated portion of the non-linear component of the echo will be passed through to the decoder portion of the DSL modem as noise, which can undesirably interfere with reception of low level signals.</p>
<p id="p-0010" num="0009">Although the DEC could be designed to cancel the non-linear portion of the echo, the complexity of the DEC would be greatly increased, since an exponentially increasing amount of digital circuitry would be required for each harmonic of the non-linear portion of the echo. As a result, the cost of the DEC would be undesirably increased.</p>
<p id="p-0011" num="0010">Thus, there is a need in the art for a cost-effective system for cancellation of linear and non-linear echo components created by a line driver in a communication device, such as a DSL modem.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">The present invention is directed to echo cancellation in a communication device. The present invention addresses and resolves the need in the art for a cost-effective system for cancellation of linear and non-linear echo components created by a line driver in a communication device, such as a DSL modem.</p>
<p id="p-0013" num="0012">According to one exemplary embodiment, a communication device comprises a line driver or power amplifier, where the line driver or power amplifier provides an output signal. The communication device may be, for example, a DSL modem. The communication device further comprises a digital echo canceller module coupled to the line driver, where the digital echo canceller module receives an echo reference signal determined by the output signal of the line driver, where the echo canceller module outputs an echo cancellation signal, and where the echo cancellation signal is capable of canceling linear and non-linear components of a composite signal.</p>
<p id="p-0014" num="0013">According to this exemplary embodiment, the communication device further comprises a summation module coupled to the digital echo canceller module, where the summation module receives the echo cancellation signal and the composite signal, and where the composite signal comprises a received signal and the linear and non-linear echo components. The summation module is configured to subtract the echo cancellation signal from the composite signal and to output the received signal. The communication device may further comprise an external hybrid module coupled to the line driver. Other features and advantages of the present invention will become more readily apparent to those of ordinary skill in the art after reviewing the following detailed description and accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a block diagram of a conventional exemplary DSL modem comprising a conventional exemplary echo cancellation system.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a block diagram of an exemplary DSL modem comprising an exemplary echo cancellation system in accordance with one embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0017" num="0016">The present invention is directed to echo cancellation in a communication device. The following description contains specific information pertaining to the implementation of the present invention. One skilled in the art will recognize that the present invention may be implemented in a manner different from that specifically discussed in the present application. Moreover, some of the specific details of the invention are not discussed in order not to obscure the invention.</p>
<p id="p-0018" num="0017">The drawings in the present application and their accompanying detailed description are directed to merely exemplary embodiments of the invention. To maintain brevity, other embodiments of the present invention are not specifically described in the present application and are not specifically illustrated by the present drawings.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> shows a block diagram of an exemplary DSL modem, including a conventional exemplary echo cancellation system, coupled to a line. Conventional DSL modem <b>102</b> in <figref idref="DRAWINGS">FIG. 1</figref> includes external hybrid module <b>106</b>, encoder module <b>108</b>, transmit filter module <b>110</b>, digital to analog converter (“DAC”) module <b>112</b>, low pass filter (“LPF”)/high pass filter (“HPF”) module <b>114</b>, line driver <b>116</b>, resistors <b>118</b> and <b>120</b>, transformer <b>122</b>, equalizer module <b>124</b>, amplifier <b>126</b>, LPF/anti-aliasing filter (“AAF”) <b>128</b>, analog to digital converter (“ADC”) module <b>130</b>, decimation filter module <b>132</b>, digital echo canceller (“DEC”) module, <b>136</b> and Summation Module <b>134</b>. The above modules included in conventional DSL modem <b>102</b>, with the exception of external hybrid module <b>106</b>, transformer <b>122</b> and resistors <b>118</b> and <b>120</b>, may be situated in an integrated circuit (“IC”) chip. Conventional DSL modem <b>102</b> also includes other modules not shown in <figref idref="DRAWINGS">FIG. 1</figref> to preserve brevity.</p>
<p id="p-0020" num="0019">As shown in <figref idref="DRAWINGS">FIG. 1</figref>, encoder module <b>108</b> is coupled to transmit filter module <b>110</b> and DEC module <b>136</b> via line <b>138</b>. Encoder module <b>108</b> can be configured to convert data into code, and transmit filter module <b>110</b> can be configured to provide appropriate filtering of an encoded signal received from encoder module <b>108</b> via line <b>138</b>. Transmit filter module <b>110</b> is coupled to DAC module <b>112</b> via line <b>140</b>. Also shown in <figref idref="DRAWINGS">FIG. 1</figref>, DAC module <b>112</b> is coupled to LPF/HPF module <b>114</b> via line <b>142</b>. DAC module <b>112</b> can be configured to convert a digital signal received from transmit filter module <b>110</b> into an analog signal. LPF/HPF module <b>114</b> receives an analog signal from DAC module <b>112</b> via line <b>142</b> and provides first and second outputs, respectively, to line driver <b>116</b> via lines <b>144</b> and <b>146</b>. LPF/HPF module <b>114</b> can be configured to filter the analog signal received from DAC module <b>112</b> in a manner known in the art.</p>
<p id="p-0021" num="0020">Further shown in <figref idref="DRAWINGS">FIG. 1</figref>, positive and negative outputs of line driver <b>116</b> are coupled to first terminals of resistors <b>118</b> and <b>120</b> at nodes <b>152</b> and <b>154</b>, respectively. Line driver <b>116</b> can be configured to transmit a signal over line <b>104</b> via transformer <b>122</b> and can require, for example, up to 1.8 watts of power. Also shown in <figref idref="DRAWINGS">FIG. 1</figref>, second terminals of resistors <b>118</b> and <b>120</b>, respectively, are coupled to a secondary winding of transformer <b>122</b> at nodes <b>158</b> and <b>160</b>, and a primary winding of transformer <b>122</b> is coupled to line <b>104</b>. Resistors <b>118</b> and <b>120</b> can be utilized to match the impedance of conventional DSL modem <b>102</b> to Z<sub>line </sub><b>156</b>, the impedance of line <b>104</b>. Transformer <b>122</b> couples conventional DSL modem <b>102</b> to line <b>104</b> while providing isolation between conventional DSL modem <b>102</b> and line <b>104</b>. Line <b>104</b> is utilized by conventional DSL modem <b>102</b> to communicate with a telephone company central office and typically comprises copper twisted-pair wire.</p>
<p id="p-0022" num="0021">Also shown in <figref idref="DRAWINGS">FIG. 1</figref>, first and second inputs of external hybrid module <b>106</b> are coupled to nodes <b>152</b> and <b>154</b> and first and second outputs of external hybrid module <b>106</b> are coupled to first “+” and “−”inputs of amplifier <b>126</b> via lines <b>166</b> and <b>168</b>, respectively. External hybrid module <b>106</b> comprises discrete analog components and can be configured to attenuate linear and non-linear echo components caused by line driver <b>116</b>. External hybrid module <b>106</b> can attenuate linear and non-linear echo components by, for example, approximately 15.0 dB to 20.0 dB. Further shown in <figref idref="DRAWINGS">FIG. 1</figref>, first and second inputs of equalizer module <b>124</b> are coupled to nodes <b>158</b> and <b>160</b> and first and second outputs of equalizer module <b>124</b> are coupled to second “−” and “+” inputs of amplifier <b>126</b> via lines <b>174</b> and <b>176</b>, respectively. Equalizer module <b>124</b> can be configured to counteract distortions, typically low pass filtering, caused by line <b>104</b> in a received signal. Equalizer module <b>124</b> is an optional module that is not utilized in some DSL modems.</p>
<p id="p-0023" num="0022">Further shown in <figref idref="DRAWINGS">FIG. 1</figref>, first and second outputs, respectively, of amplifier <b>126</b> are coupled to LPF/AAF module <b>128</b> via lines <b>178</b> and <b>180</b>. Amplifier <b>126</b> can be an automatic gain control (“AGC”) amplifier that can be configured to appropriately adjust the gain of an inputted signal in a manner known in the art. LPF/AAF module <b>128</b> can be configured to prevent “aliasing noise” by appropriately filtering first and second outputs received from amplifier <b>126</b> via lines <b>178</b> and <b>180</b>, respectively. By way of background, “aliasing noise” refers to distortion that is created when frequencies present in a sampled signal are greater than one-half the sample rate.</p>
<p id="p-0024" num="0023">Also shown in <figref idref="DRAWINGS">FIG. 1</figref>, LPF/AAF module <b>128</b> is coupled to ADC module <b>130</b> via lines <b>182</b> and <b>183</b> and ADC module <b>130</b> is coupled to decimation filter module <b>132</b> via line <b>184</b>. ADC module <b>130</b> can be configured to convert an analog signal inputted on lines <b>182</b> and <b>183</b> into a digital signal, which can be outputted on line <b>184</b>. Decimation filter module <b>132</b> can be configured to eliminate unnecessary data points caused by over-sampling in ADC module <b>130</b>. Further shown in <figref idref="DRAWINGS">FIG. 1</figref>, the output of decimation filter module <b>132</b> is coupled to summation module <b>134</b> via line <b>186</b> and the output of DEC module <b>136</b> is coupled to summation module <b>134</b> via line <b>188</b>. DEC module <b>136</b> can be configured to receive a digital reference signal from encoder module <b>108</b> via line <b>191</b>, process the digital signal, and output the digital signal on line <b>188</b> such that the outputted digital signal can cancel linear echo created by line driver <b>116</b>. DEC module <b>136</b> can be, for example, a finite impulse response (“FIR”) filter as known in the art, typically contained in a digital signal processor (“DSP”). Summation module <b>134</b> can be configured to subtract the linear echo cancellation signal received from digital echo canceller module <b>136</b> from a composite signal received from decimation filter module <b>132</b> and to provide an output signal on line <b>190</b>, which is coupled to a decoder module (not shown in <figref idref="DRAWINGS">FIG. 1</figref>). The composite signal received from decimation filter module <b>132</b> includes a received signal and linear and non-linear echo components.</p>
<p id="p-0025" num="0024">The operation of a conventional exemplary echo cancellation system is now discussed. As discussed above, signals outputted by line driver <b>116</b> can produce an echo, which can interfere with reception of signals received over line <b>104</b> at nodes <b>158</b> and <b>160</b>. As a result of non-linearity in the operation of line driver <b>116</b>, the echo includes linear and non-linear components. The linear and non-linear echo components are combined with received signals at nodes <b>158</b> and <b>160</b>, and the resulting composite signals are inputted into amplifier <b>126</b> via lines <b>174</b> and <b>176</b>. First and second outputs, respectively, of line driver <b>116</b> are coupled to first and second inputs of external hybrid module <b>106</b> via nodes <b>152</b> and <b>154</b>. External hybrid module <b>106</b> can be configured to match Z<sub>line </sub><b>156</b>, i.e. the impedance of line <b>104</b>, such that the magnitude and phase of signals on lines <b>166</b> and <b>168</b>, respectively, closely match the magnitude and phase of composite signals on lines <b>174</b> and <b>176</b>.</p>
<p id="p-0026" num="0025">The signals outputted from hybrid module <b>106</b> on lines <b>166</b> and <b>168</b> are subtracted in amplifier <b>126</b> from the composite signals inputted on lines <b>174</b> and <b>176</b>. The resulting composite signals outputted by amplifier <b>126</b> on lines <b>178</b> and <b>180</b> have linear and non-linear echo components that have been attenuated approximately 15.0 dB to 20.0 dB by external hybrid module <b>106</b>. A composite digital signal is inputted into summation module <b>134</b> after processing by LPF/AAF module <b>128</b>, ADC module <b>130</b>, and decimation filter module <b>132</b>. In summation module <b>134</b>, the output from DEC module <b>136</b> on line <b>188</b> is subtracted from the composite digital signal, which comprises a receive signal and attenuated linear and non-linear echo components, on line <b>186</b>, and a resulting signal is outputted on line <b>190</b>. The output of DEC module <b>136</b> can be utilized to cancel only the linear echo component, since DEC module <b>136</b> is a linear echo canceller. As a result, the signal outputted on line <b>190</b> includes the received signal combined with a non-linear echo component that has been attenuated approximately 15.0 dB to 20.0 dB. In conventional DSL modem <b>102</b>, the attenuated non-linear echo component is undesirably coupled to a decoder module (not shown in <figref idref="DRAWINGS">FIG. 1</figref>) via line <b>190</b> as noise, which can interfere with proper reception of the received signal.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 2</figref> shows a block diagram of an exemplary DSL modem, including an exemplary echo cancellation system, coupled to a line in accordance with one embodiment of the present invention. Certain details and features have been left out of <figref idref="DRAWINGS">FIG. 2</figref> that are apparent to a person of ordinary skill in the art. Although an exemplary DSL modem is described in the present embodiment to illustrate the present invention's echo cancellation system, the present invention also applies to other types of modems or communication devices that share bandwidth on a line or airwave for transmitting and receiving data as known in the art. DSL modem <b>202</b> includes external hybrid module <b>206</b>, encoder module <b>208</b>, transmit filter module <b>210</b>, DAC module <b>212</b>, LPF/HPF module <b>214</b>, line driver <b>216</b>, resistors <b>218</b> and <b>220</b>, transformer <b>222</b>, equalizer module <b>224</b>, amplifiers <b>226</b> and <b>236</b>, LPF/AAF modules <b>228</b> and <b>240</b>, ADC modules <b>230</b> and <b>232</b>, decimation filter modules <b>232</b> and <b>244</b>, summation module <b>234</b>, and DEC module <b>246</b>. The above modules included in DSL modem <b>202</b>, excluding external hybrid module <b>206</b>, transformer <b>222</b>, resistors <b>218</b> and <b>220</b>, can be integrated in an IC chip. External hybrid module <b>206</b> comprises discrete analog components and, as such, is situated outside of an IC chip in DSL modem <b>202</b>. DSL modem <b>202</b> also includes other modules not shown in <figref idref="DRAWINGS">FIG. 2</figref> to preserve brevity.</p>
<p id="p-0028" num="0027">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, encoder module <b>208</b> is coupled to transmit filter module <b>210</b> via line <b>247</b>. Encoder module <b>208</b> can be configured to convert data into code, and transmit filter module <b>210</b> can be configured to provide appropriate filtering of an encoded signal received from encoder module <b>208</b> via line <b>247</b>. Transmit filter module <b>210</b> is coupled to DAC module <b>212</b> via line <b>248</b>. Also shown in <figref idref="DRAWINGS">FIG. 2</figref>, DAC module <b>212</b> is coupled to LPF/HPF module <b>214</b> via line <b>249</b>. DAC module <b>212</b> can be configured to convert a digital signal received from transmit filter module <b>210</b> into an analog signal. LPF/HPF module <b>214</b> can receive an analog signal from DAC module <b>212</b> via line <b>249</b> and can provide first and second outputs, respectively, to line driver <b>216</b> via lines <b>250</b> and <b>251</b>.</p>
<p id="p-0029" num="0028">Also shown in <figref idref="DRAWINGS">FIG. 2</figref>, first and second outputs of line driver <b>216</b> are coupled to first terminals of resistors <b>218</b> and <b>220</b> at nodes <b>254</b> and <b>255</b>, respectively. As a result of non-linear operation of line driver <b>216</b>, output signals at first and second outputs of line driver <b>216</b> at nodes <b>254</b> and <b>255</b> can include linear as well as non-linear components, such as harmonic distortion and noise. As discussed above, the linear and non-linear components, respectively, of the output signals of line driver <b>216</b> produce echo comprising linear and non-linear echo components. The linear and non-linear echo components can interfere with proper reception of received signals at nodes <b>258</b> and <b>257</b>. Line driver <b>216</b> can be, for example, a switching D class line driver. In one embodiment, line driver <b>216</b> can provide active, or synthetic, impedance matching to reduce power consumption. The power requirement of line driver <b>216</b> can be, for example, approximately 0.9 watts.</p>
<p id="p-0030" num="0029">Further shown in <figref idref="DRAWINGS">FIG. 2</figref>, second terminals of resistors <b>218</b> and <b>220</b>, respectively, are coupled to the primary winding of transformer <b>222</b> at nodes <b>258</b> and <b>257</b>. The echo discussed above is combined with signals received via line <b>204</b> to form composite signals at nodes <b>258</b> and <b>257</b>. Thus, the composite signals at nodes <b>258</b> and <b>257</b> comprise of received signals combined with both linear and non-linear echo components. Resistors <b>218</b> and <b>220</b> are utilized to match the impedance of DSL modem <b>202</b> to Z<sub>line </sub><b>256</b>, i.e. the impedance of line <b>204</b>. Resistors <b>218</b> and <b>220</b>, respectively, effectively form voltage dividers that cause the amplitude of signals at nodes <b>254</b> and <b>255</b> to be higher than the amplitude of signals at nodes <b>258</b> and <b>257</b>. Transformer <b>222</b> can be utilized to adjust the amplitude of signals outputted to the line <b>204</b>. Line <b>204</b> is utilized by DSL modem <b>202</b> to communicate with a telephone company central office. Line <b>204</b> typically comprises copper twisted-pair wire and has impedance Z<sub>line </sub><b>256</b> as discussed above.</p>
<p id="p-0031" num="0030">Further shown in <figref idref="DRAWINGS">FIG. 2</figref>, first and second inputs of external hybrid module <b>206</b> are coupled to nodes <b>254</b> and <b>255</b>, respectively, and first and second outputs of external hybrid module <b>206</b> are coupled to first “−” and “+” inputs of amplifier <b>226</b> via lines <b>260</b> and <b>261</b>. External hybrid module <b>206</b> is an optional module that operates in a similar manner as external hybrid module <b>106</b> in <figref idref="DRAWINGS">FIG. 1</figref> discussed above. In one embodiment, external hybrid module <b>216</b> is not utilized. Also shown in <figref idref="DRAWINGS">FIG. 2</figref>, first and second inputs of equalizer module <b>224</b> are coupled to nodes <b>258</b> and <b>257</b>, respectively, and first and second outputs of equalizer module <b>224</b> are coupled to second “−” and “+” inputs of amplifier <b>226</b> via lines <b>264</b> and <b>265</b>. Equalizer module <b>224</b> is an optional module that can be configured to counteract distortions, typically low pass filtering, caused by line <b>204</b> in signals received at nodes <b>258</b> and <b>257</b>. In one embodiment, equalizer module <b>224</b> is not utilized.</p>
<p id="p-0032" num="0031">Also shown in <figref idref="DRAWINGS">FIG. 2</figref>, first and second inputs of amplifier <b>236</b> are coupled to nodes <b>254</b> and <b>255</b>, and first and second outputs of amplifier <b>236</b> are coupled to LPF/AAF module <b>240</b> and internal hybrid module <b>238</b> at nodes <b>266</b> and <b>267</b>. Amplifier <b>236</b> can be configured to appropriately adjust the gain of signals inputted at first and second inputs of amplifier <b>236</b> and can be, for example, a variable gain amplifier (“VGA”) or other appropriate amplifier as known in the art.</p>
<p id="p-0033" num="0032">Further shown in <figref idref="DRAWINGS">FIG. 2</figref>, first and second outputs of internal hybrid module <b>238</b> are coupled to third “−” and “+” inputs of amplifier <b>226</b> via lines <b>268</b> and <b>269</b>. Internal hybrid module <b>238</b> comprises an optional portion of external hybrid module <b>206</b> and can be integrated in an IC chip in DSL modem <b>202</b>. Internal hybrid module <b>238</b> can be configured to tune or adjust external hybrid module <b>206</b>. In one embodiment, internal hybrid module <b>238</b> is not utilized. Amplifier <b>226</b> is configured to appropriately adjust the gain of signals inputted at first, second, and third “+” and “−” inputs of amplifier <b>226</b>. Amplifier <b>226</b> can be, for example, an automatic gain control (“AGC”) amplifier or other appropriate amplifier as known in the art.</p>
<p id="p-0034" num="0033">Also shown in <figref idref="DRAWINGS">FIG. 2</figref>, first and second outputs of amplifier <b>226</b> are coupled to LPF/AAF module <b>228</b> via lines <b>270</b> and <b>271</b>, respectively, and LPF/AAF module <b>228</b> is coupled to ADC module <b>230</b> via lines <b>272</b> and <b>274</b>. LPF/AAF module <b>228</b> can be configured to prevent “aliasing noise” discussed above by appropriately filtering first and second outputs received from amplifier <b>226</b> via lines <b>270</b> and <b>271</b>. ADC module <b>230</b> can be configured to convert analog signals inputted on lines <b>272</b> and <b>274</b> into a digital signal, which ADC module <b>230</b> outputs to decimation filter module <b>232</b> on line <b>275</b>. Further shown in <figref idref="DRAWINGS">FIG. 2</figref>, decimation filter module <b>232</b> is coupled to summation module <b>234</b> via line <b>276</b>. Decimation filter module <b>232</b> can be configured to eliminate unnecessary data points that are introduced in a digital signal as a result of over-sampling in ADC module <b>130</b>.</p>
<p id="p-0035" num="0034">Further shown in <figref idref="DRAWINGS">FIG. 2</figref>, LPF/AAF module <b>240</b> are coupled to ADC module <b>242</b> via lines <b>277</b> and <b>278</b>, ADC module <b>242</b> is coupled to decimation filter module <b>244</b> via line <b>279</b>, and decimation filter module <b>244</b> is coupled to DEC module <b>246</b> via line <b>280</b>. In one embodiment, LPF/AAF module <b>240</b>, ADC module <b>242</b>, and decimation filter module <b>244</b>, respectively, are substantially equal to LPF/AAF module <b>228</b>, ADC module <b>230</b>, and decimation filter module <b>232</b> discussed above. It is noted that LPF/AAF module <b>240</b>, ADC module <b>242</b>, and decimation filter module <b>244</b> are referred to as a “first group of processing modules” and LPF/AAF module <b>228</b>, ADC module <b>230</b>, and decimation filter module <b>232</b> are referred to as a “second group of processing modules” in the present application. In one embodiment, ADC modules <b>230</b> and <b>242</b> can be replaced by a single multiplexed ADC module to achieve reduced chip size and cost. Similarly, in one embodiment, decimation filter modules <b>244</b> and <b>232</b> can be replaced by a single multiplexed decimation filter to achieve reduced chip size and cost.</p>
<p id="p-0036" num="0035">Also shown in <figref idref="DRAWINGS">FIG. 2</figref>, DEC module <b>246</b> is coupled to summation module <b>234</b> via line <b>281</b>. DEC module <b>246</b> can be configured to cancel both linear and non-linear echo components by utilizing information included in an echo reference signal received from decimation filter module <b>244</b> via line <b>280</b>. The echo reference signal includes information determined by signals outputted by line driver <b>216</b> at nodes <b>254</b> and <b>255</b>. DEC module <b>246</b> can be, for example, a FIR filter or other appropriate filter as known in the art. DEC module <b>246</b> can be a linear DEC module that can be implemented in a DSP or other appropriate processor as known in the art. DEC module <b>246</b> can also be configured to receive an optional training signal outputted by encoder module <b>208</b> via line <b>291</b>. Summation module <b>234</b> can be configured to subtract a digital echo cancellation signal outputted by DEC module <b>246</b> on line <b>281</b> from a digital composite signal outputted by decimation filter module <b>232</b> on line <b>276</b>. Summation module <b>234</b> can be further configure to provide an output signal to a decoder module (not shown in <figref idref="DRAWINGS">FIG. 2</figref>) on line <b>282</b>.</p>
<p id="p-0037" num="0036">The operation of the invention's echo cancellation system is now discussed. Composite signals at nodes <b>258</b> and <b>257</b>, which include received signals combined with linear and non-linear echo components, are inputted into amplifier <b>226</b> on lines <b>264</b> and <b>265</b>, respectively. Output signals of line driver <b>216</b> at nodes <b>254</b> and <b>255</b>, which include linear and non-linear echo components, are attenuated by external hybrid module <b>206</b> by approximately 15.0 dB to 20.0 dB and outputted to amplifier <b>226</b> via lines <b>260</b> and <b>261</b>. The output signals at nodes <b>254</b> and <b>255</b> are also adjusted by amplifier <b>236</b>, inputted into internal hybrid module <b>238</b>, and outputted to amplifier <b>226</b> via lines <b>268</b> and <b>269</b>. Internal hybrid module <b>238</b> is utilized to fine tune the transfer function of external hybrid module <b>206</b>. In amplifier <b>226</b>, signals outputted by external hybrid module <b>206</b> are subtracted from composite signals inputted into amplifier <b>226</b> on lines <b>264</b> and <b>265</b>, and composite signals are outputted on lines <b>270</b> and <b>271</b> comprising received signals combined with linear and non-linear echo components that have been attenuated by approximately 15.0 dB to 20.0 dB. The composite signals are processed by LPF/AAF module <b>228</b>, ADC module <b>230</b>, and decimation filter module <b>232</b> to form a digital composite signal, which is inputted into summation module <b>234</b> via line <b>276</b>.</p>
<p id="p-0038" num="0037">The output signals of line driver <b>216</b>, which include linear and non-linear components, are coupled to amplifier <b>236</b> at nodes <b>254</b> and <b>255</b>, respectively. Amplifier <b>236</b>, LPF/AAF module <b>240</b>, ADC module <b>242</b>, and decimation filter module <b>244</b> process the output signals of line driver <b>216</b> and form an echo reference signal, which is inputted into DEC module <b>246</b> via line <b>280</b>. The echo reference signal is a digital signal that is determined by the line driver output signals at nodes <b>254</b> and <b>255</b>.</p>
<p id="p-0039" num="0038">As discussed above, DEC module <b>246</b> can be configured to provide cancellation of both linear and non-linear echo components utilizing the echo reference signal received via line <b>280</b>. In summation module <b>234</b>, a digital echo cancellation signal received from DEC module <b>246</b> on line <b>281</b> is subtracted from a digital composite signal comprising a received signal and linear and non-linear echo components received from decimation filter module <b>232</b> on line <b>276</b>. As a result of subtracting the digital echo cancellation signal from the received composite signal, the linear and non-linear echo components are both canceled and the received signal is outputted on line <b>282</b>.</p>
<p id="p-0040" num="0039">Thus, by utilizing an echo reference signal that contains actual linear and non-linear line driver output information and inputting the echo reference signal into a DEC module, the present invention advantageously achieves effective cancellation of both linear and non-linear echo components. In contrast, a conventional echo cancellation system utilized in exemplary DSL modem <b>102</b> in <figref idref="DRAWINGS">FIG. 1</figref> provides effective cancellation of only a linear echo component. In the conventional echo cancellation system in <figref idref="DRAWINGS">FIG. 1</figref>, since a non-linear echo component is only attenuated by approximately 15.0 dB to 20.0 dB, the non-linear echo component can interfere with proper reception of a received signal.</p>
<p id="p-0041" num="0040">Furthermore, by providing linear and non-linear echo cancellation in a DEC module in the digital domain, the present invention can utilize a linear DEC module, which reduces cost and complexity of the DEC module and consumes less area on an IC chip. Also, the present invention achieves effective linear and non-linear echo cancellation without requiring a complex external hybrid module utilizing very accurate and expensive components. Additionally, by providing effective linear and non-linear echo cancellation, the present invention allows utilization of a line driver having reduced linearity and, thus, reduced power requirements compared to a line driver utilized in a DSL modem comprising a conventional echo cancellation system. The present invention can utilize a line driver having a power requirement of only less than 0.9 watts, for example, whereas exemplary DSL modem <b>102</b> in <figref idref="DRAWINGS">FIG. 1</figref>, which comprises a conventional echo cancellation system, requires a line drive having a power requirement of up to 1.8 watts.</p>
<p id="p-0042" num="0041">It is appreciated by the above detailed description that the present invention achieves effective linear and non-linear echo cancellation in a communication device. From the above description of the invention it is manifest that various techniques can be used for implementing the concepts of the present invention without departing from its scope. Moreover, while the invention has been described with specific reference to certain embodiments, a person of ordinary skills in the art would appreciate that changes can be made in form and detail without departing from the spirit and the scope of the invention. For example, it is appreciated that the present invention may be also be applied to various types of modems or communication devices other than DSL modems. Thus, the described embodiments are to be considered in all respects as illustrative and not restrictive. It should also be understood that the invention is not limited to the particular embodiments described herein but is capable of many rearrangements, modifications, and substitutions without departing from the scope of the invention.</p>
<p id="p-0043" num="0042">Thus, echo cancellation in a communication device has been described.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A communication device comprising:
<claim-text>a line driver, said line driver configured to transmit an output signal, wherein said output signal includes linear and non-linear echo components;</claim-text>
<claim-text>a first group of processing modules, said first group of processing modules receiving said output signal including said linear and non-linear echo components from said line driver, and said first group of processing modules outputting an echo reference signal based on said output signal;</claim-text>
<claim-text>a digital echo canceller module receiving said echo reference signal, said echo canceller module outputting an echo cancellation signal based on said echo reference signal for canceling said linear and non-linear echo components of a composite signal;</claim-text>
<claim-text>a second group of processing modules, said second group of processing modules receiving said output signal including said linear and non-linear echo components from said line driver, and said second group of processing modules outputting said composite signal utilizing said output signal;</claim-text>
<claim-text>a summation module coupled to said digital echo canceller module, said summation module receiving said echo cancellation signal and said composite signal, said summation module being configured to subtract said echo cancellation signal from said composite signal to cancel said linear and non-linear echo components from said composite signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The communication device of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said first group of processing modules comprises a filter module.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The communication device of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said first group of processing modules comprises an analog to digital converter module.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The communication device of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said first group of processing modules comprises a decimation filter module.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The communication device of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said second group of processing modules comprises a filter module.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The communication device of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said second group of processing modules comprises an analog to digital converter module.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The communication device of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said second group of processing modules comprises a decimation filter module.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The communication device of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said communication device comprises a modem.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The communication device of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein said modem comprises a DSL modem.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A method of echo cancellation in a communication device, said method comprising steps of:
<claim-text>outputting a line driver output signal including linear and non-linear echo components;</claim-text>
<claim-text>receiving said output signal including said linear and non-linear echo components from said line driver using a first group of processing modules;</claim-text>
<claim-text>generating an echo reference signal based on said output signal using said first group of processing modules;</claim-text>
<claim-text>receiving said echo reference signal by a digital echo canceller module coupled to said first group of processing modules;</claim-text>
<claim-text>outputting an echo cancellation signal based on said echo cancellation signal, using said echo canceller module for canceling said linear and non-linear echo components of a composite signal;</claim-text>
<claim-text>receiving said output signal including said linear and non-linear echo components from said line driver using a second group of processing modules;</claim-text>
<claim-text>outputting said composite signal utilizing said output signal using said second group of processing modules;</claim-text>
<claim-text>subtracting said echo cancellation signal from said composite signal to cancel said linear and non-linear echo components from said composite signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said communication device comprises a modem.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said first group of processing modules comprises a filter module.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said first group of processing modules comprises an analog to digital converter module.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said first group of processing modules comprises a decimation filter module.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said second group of processing modules comprises a filter module.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said second group of processing modules comprises an analog to digital converter module.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said second group of processing modules comprises a decimation filter module.</claim-text>
</claim>
</claims>
</us-patent-grant>
