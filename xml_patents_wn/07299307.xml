<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299307-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299307</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10329162</doc-number>
<date>20021224</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>125</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>13</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>3</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>17</main-group>
<subgroup>50</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>710 33</main-classification>
<further-classification>710 36</further-classification>
<further-classification>716 16</further-classification>
<further-classification>716 17</further-classification>
</classification-national>
<invention-title id="d0e53">Analog I/O with digital signal processor array</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5276739</doc-number>
<kind>A</kind>
<name>Krokstad et al.</name>
<date>19940100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>381318</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5408235</doc-number>
<kind>A</kind>
<name>Doyle et al.</name>
<date>19950400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341143</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5625583</doc-number>
<kind>A</kind>
<name>Hyatt</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365 45</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5661433</doc-number>
<kind>A</kind>
<name>LaRosa et al.</name>
<date>19970800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>329341</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5728933</doc-number>
<kind>A</kind>
<name>Schultz et al.</name>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification> 731465</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6035320</doc-number>
<kind>A</kind>
<name>Kiriaki et al.</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>708819</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6460172</doc-number>
<kind>B1</kind>
<name>Insenser Farre et al.</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>716 17</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6556044</doc-number>
<kind>B2</kind>
<name>Langhammer et al.</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 40</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6636169</doc-number>
<kind>B1</kind>
<name>Distinti et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341126</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6750876</doc-number>
<kind>B1</kind>
<name>Atsatt et al.</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345656</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2003/0086300</doc-number>
<kind>A1</kind>
<name>Noyes et al.</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>36518901</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2003/0197635</doc-number>
<kind>A1</kind>
<name>Mueck et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341155</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00013">
<othercit>1.The Authoritative Dictionary of IEEE Standards Terms; 2000; IEEE Press; Seventh Edition, p. 949□□.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
</references-cited>
<number-of-claims>19</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>710  5</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>710 29</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>710 33</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>710 58</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>710 39</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>326 39</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>716 16</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>716 17</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Early</last-name>
<first-name>Adrian</first-name>
<address>
<city>Snohomish</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kutz</last-name>
<first-name>Harold</first-name>
<address>
<city>Snohomish</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Cypress Semiconductor Corporation</orgname>
<role>02</role>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Chen</last-name>
<first-name>Alan S.</first-name>
<department>2182</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Embodiments of the present invention relate to a programmable logical semiconductor device which is tailored for implementing digital signal processing functions. The programmable logical semiconductor device comprises one or more functional user modules and at least one of the functional user modules is configurable to implement digital signal processing functions. The programmable logical semiconductor device has analog connections that are capable of being coupled to at least one of the functional user modules and to route signals to the functional user module, including an analog signal processor coupled to the analog connection. The programmable logical semiconductor device also has one or more registers coupled to the functional user modules for storing coefficients to configure the functional user modules. One or more of the user modules comprises a switched capacitor filter.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="209.63mm" wi="200.07mm" file="US07299307-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="240.71mm" wi="200.83mm" file="US07299307-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="226.57mm" wi="207.18mm" file="US07299307-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="221.74mm" wi="139.11mm" file="US07299307-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="205.32mm" wi="186.44mm" file="US07299307-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="195.33mm" wi="195.07mm" file="US07299307-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="218.44mm" wi="137.92mm" file="US07299307-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">Embodiments of the present invention relate to the field of configurable and programmable logical semiconductor devices.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">Application-specific integrated circuits (ASICs), have been supplanted more and more by integrated circuits (ICs) that can be programmed to fulfill multiple functions. There are now many various programmable logic architectures, including, for example, programmable logic devices (“PLDs”), programmable logic arrays (“PLAs”), complex programmable logic devices (“CPLDs”), field programmable gate arrays (“FPGAs”) and programmable array logic (“PALs”). Although there are differences between these various architectures, each of the architectures typically include a set of input conductors coupled as inputs to an array of logic whose outputs, in turn, act as inputs to another portion of the logic device. Complex Programmable Logic Devices (“CPLDs”) are large scale PLDs that, like many programmable architectures, are configured to the specific requirements of an application by programming.</p>
<p id="p-0004" num="0003">Previously, a device was programmed once for a specific function which would be its only function for its lifetime. Each of these architectures, though, has begun to be implemented in a reprogrammable form. A programmable logic device can now be reprogrammed while in operation and can fulfill the functions of many different devices. One of the more complex reprogrammable logic devices is the programmable-system-on-chip, or PSoC™, which can be implemented as any of a number of devices, anywhere from simple logic gates to those as complex as microcontrollers.</p>
<p id="p-0005" num="0004">It is noted here that this discussion of the background of the present invention uses the term “PSoC™” extensively. PSoC™ is a registered trademark of Cypress Semiconductor Corp. However, the use of the terms “PSoC” or “PSoC™”, each time they are used, is meant to include all forms of complex programmable and reprogrammable logic device architectures, including PLD, PLA, CPLD, FPGA and PAL.</p>
<p id="p-0006" num="0005">Programmable devices continue to expand capability to applications previously retained for ASICs. These new applications include such specialized areas as digital signal processing (DSP) and hybrid (analog and digital devices on the same chip), which can be implemented as any of a number of devices, anywhere from simple logic gates to those as complex as microcontrollers.</p>
<p id="p-0007" num="0006">One of the most demanding applications for a programmable logic array, such as PSoC™, is in the area of digital signal processing, or DSP. DSP requires that both analog and digital functions be accommodated in processing hardware, extremely rapidly, on the same chip. This is limited by the structures achievable in known semiconductor manufacturing processes. Previous generations of PSoC™ have provided a number of analog and digital, reconfigurable, PSoC™ blocks. However, due to the nature of digital reconfigurable PSoC blocks, the previous architectures have not performed digital filtering and other DSP functions well, if at all.</p>
<p id="p-0008" num="0007">Some previous techniques for accomplishing DSP have used the same processor for both DSP and other functions. Detrimentally, when some complex mathematical functions have had to be performed by the main microprocessor, it has been taken away from other crucial functions.</p>
<p id="p-0009" num="0008">It can be difficult to accomplish real-time DSP if the main processor is too heavily multi-tasked. Often the processor is needed to perform some necessary DSP computations but is also required for critical control functions and the DSP function performance must be delayed.</p>
<p id="p-0010" num="0009">The conventional modern processors involved in complex calculations tend to be very large and to be enabled to perform many extra functions. To do so they must be run fast, necessitating ungainly bit-level programming when configuring for DSP functions.</p>
<p id="p-0011" num="0010">Typically, DSP requires that relatively high speed analog signals be converted to digital equivalents prior to being brought into a processor chip for filtering, decimation (sampling rate reduction), or other intended functions. This multi-step process can put extra demands on a central processor and can entail adverse speed degradation. Additionally, requiring separate semiconductor devices to accomplish different DSP functions also necessitates using up valuable device real estate and limits miniaturization of the end products.</p>
<p id="p-0012" num="0011">A need exists, therefore, for a configurable, device that accommodates real-time digital signal processing. Furthermore, such a device and its configuration must be user-friendly, enabling a user of normal skills to rapidly configure enormously complex programmable devices with multiple configurations.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0013" num="0012">Disclosed herein is a method for improving and streamlining the configuration of highly complex programmable devices such as PSoC programmable logic arrays or microcontrollers to perform the functions required of each programmed device configuration. The method disclosed is user-friendly, enabling a user of normal skills to rapidly configure enormously complex programmable devices with multiple configurations.</p>
<p id="p-0014" num="0013">Embodiments of the present invention relate to a programmable logical semiconductor device which is tailored for implementing digital signal processing functions. The programmable logical semiconductor device comprises one or more functional user modules and at least one of the functional user modules is configurable to implement digital signal processing functions. The programmable logical semiconductor device has analog connections that are capable of being coupled to at least one of the functional user modules and to route signals to the functional user module. The programmable logical semiconductor device also has one or more registers coupled to the functional user modules for storing coefficients to configure the functional user modules. One or more of the user modules comprises a switched capacitor filter.</p>
<p id="p-0015" num="0014">Embodiments are also directed to a computer tool for implementing digital signal processing in a programmable logical semiconductor device comprising: a graphical representation of the programmable logical semiconductor device displayed on a display screen, the graphical representation comprising a plurality of processor blocks disposed in an array; a graphical representation of an input/output structure for the processor blocks in the programmable logical semiconductor device; a graphical representation of an interconnect matrix for the processor blocks; and a configuration register for storing configuration data, wherein a selection of an item in a graphical display results in the configuration data being written in the configuration register.</p>
<p id="p-0016" num="0015">Embodiments are also directed to the above wherein at least one of the processor blocks comprises a switched capacitor filter and wherein the computer tool further comprises a cursor control device for implementing the selection. Embodiments are also directed to the above wherein at least one of the processor blocks comprises and Analog-to-Digital Converter (ADC) or Digital-to-Analog Converter (DAC), including an over-sampled or delta-sigma converter. Embodiments are also directed to the above wherein the programmable logical semiconductor device is a programmable system on a chip.</p>
<p id="p-0017" num="0016">These and other objects and advantages of the present invention will become obvious to those of ordinary skill in the art after having read the following detailed description of the preferred embodiments which are illustrated in the various drawing figures.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0018" num="0017">The operation and components of this invention can be best visualized by reference to the drawings.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a user module interconnection array in accordance with one embodiment of the present invention.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> illustrates an exemplary screen shot of a graphical user interface (GUI) in accordance with one embodiment of the present invention.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a method for configuring DSP arrays in accordance with one embodiment of the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a user module data sheet window from a graphical user interface (GUI) in accordance with one embodiment of the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a toolbar in a graphical user interface (GUI) in accordance with one embodiment of the present invention.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6</figref> illustrates a generic computer such as would be used in accordance with one embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0025" num="0024">Reference will now be made in detail to the preferred embodiments of the invention, examples of which are illustrated in the accompanying drawings. While the invention will be described in conjunction with the preferred embodiments, it will be understood that they are not intended to limit the invention to these embodiments. On the contrary, the invention is intended to cover alternatives, modifications and equivalents, which may be included within the spirit and scope of the invention as defined by the appended claims. Furthermore, in the following detailed description of the present invention, numerous specific details are set forth in order to provide a thorough understanding of the present invention. However, it should be understood by one of ordinary skill in the art that the present invention may be practiced without these specific details. In other instances, well-known methods, procedures, components, and circuits have not been described in detail so as not to unnecessarily obscure aspects of the present invention. At times, concepts disclosed in this discussion of embodiments of the present invention will be made more readily apparent by reference to the Figures.</p>
<p id="p-0026" num="0025">Embodiments of the present invention are implemented in a graphical configuration tool. The configuration tool is incorporated herein by reference to patent application U.S. Ser. No. 09/989,570 entitled “METHOD FOR FACILITATING MICROCONTROLLER PROGRAMMING,” filed Nov. 19, 2001 and assigned to the assignee of the present invention.</p>
<p id="p-0027" num="0026">Embodiments of the present invention use a graphical information window in the above referenced graphical user interface presented in a graphic display. The term “graphical information,” as used in this discussion, may include both icons and text. While the particular portions of the graphic display envisioned as the device selection window and the module placement window is, in this embodiment, a particular area in the overall graphic display, other embodiments could use a different area of the display.</p>
<p id="p-0028" num="0027">The embodiment of the present invention discussed here enables a family of programmable logical semiconductor devices that are constructed to be particularly amenable to configuration as digital signal processing (DSP) devices. This embodiment presents an array of PSoC™ processor blocks, which are included in the functional user modules implemented in hardware blocks, that are dedicated to perform DSP functions. It is noted that embodiments of the present invention may be implemented in programmable logic arrays other than PSoC™ devices specifically.</p>
<p id="p-0029" num="0028">It is noted here that this discussion of embodiments of the present invention uses the term “PSoC™” extensively. PSoC™ is a registered trademark of Cypress Semiconductor Corp. However, the use of the terms “PSoC” or “PSoC™”, each time they are used, is meant to include all forms of complex programmable and reprogrammable logic device architectures, including PLD, PLA, CPLD, FPGA and PAL.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a block diagram of one embodiment of the present invention. From fully capable analog device I/O connections, analog signals <b>101</b> arrive at modulator/filter array <b>102</b> where analog-to-digital conversion (ADC) takes place at <b>105</b> and the signals enter the digital domain, <b>152</b>. Note that each modulator filter is also a reconstructor. Signals are then routed to the appropriate hardware, depending on the device configuration, through multiplex/demultiplex (MUX) array <b>103</b> into digital signal processing (DSP) array <b>110</b> and <b>120</b>. It should be noted that, with the ability to process analog signals in much of the processing array, mixed signal domain <b>101</b> extends into the hardware processor blocks of the device in consideration in this embodiment.</p>
<p id="p-0031" num="0030">In this embodiment, both DSP array <b>110</b> and <b>120</b> comprise a number of arrays of dedicated functional blocks which are configurable, in this embodiment, into the datapath-based, bit-serial, signal processors alluded to in this discussion. In DSP array <b>110</b>, pulse density domain pre-processing is accomplished at <b>111</b>, and data decimation at <b>112</b>. The signal data then enters a series of bit serial dedicated processors, <b>113</b>, <b>114</b>, <b>115</b>. The hardware that can be dedicated to bit-serial processors is different in different embodiments, allowing for a wide range of possible numbers of processors included in each array. This flexibility is demonstrated in <figref idref="DRAWINGS">FIG. 1</figref> by the counting of “M” processors, <b>115</b>, which is meant to imply that the exact number of dedicated processors is not fixed in the concepts presented in the discussion of this embodiment of the present invention.</p>
<p id="p-0032" num="0031">Digital processing array <b>110</b> and array <b>120</b> have a very high degree of connectivity, meaning that the device configuration has access to a large number of configurable hardware interconnections through local bus <b>126</b>, through either serial or parallel communication to other blocks. Local addressing may direct these and other connection resources. Output from the DSP arrays is routed through external bus <b>127</b>, which is also configurable from extensive configurable resources, to Mux/DeMux array <b>103</b>, and converted to analog signals at modulator/filter array <b>102</b>. Bus <b>127</b> also avails array output data to the rest of the configured device. It should be noted that ellipses <b>106</b> are shown to imply that the number of digital processing arrays can be widely varied, depending on the hardware resources available for configuration in various embodiments.</p>
<p id="p-0033" num="0032">The DSP blocks form arrays <b>110</b> and <b>120</b> in this embodiment. Other embodiments may have different numbers of arrays. As noted previously, signals are routed to the DSP blocks from the analog I/O. Pulse density preprocessors, <b>111</b> and <b>121</b>, can operate on multiple data streams simultaneously. Decimators <b>112</b> and <b>122</b> filter and convert the pre-processed streams into the sampling rate and bandwidth of interest.</p>
<p id="p-0034" num="0033">It should be noted here that the signal processing and inter-block communications hardware in this embodiment are constructed to be bit serial in nature. However, other embodiments of the present invention may be implemented with parallel data processing and parallel communications. DSP blocks <b>113</b> through <b>125</b> are bit serial math blocks with rich interconnectivity to neighboring blocks. Individual blocks are very localized so they require minimum size transistors, easing the demands of design and manufacture. It is noted that a transistor may need to drive over a relatively long line in the case of a bit that is coupled to a different block.</p>
<p id="p-0035" num="0034">Communication between DSP blocks through local bus <b>126</b> is bit serial in this embodiment of the present invention, as noted earlier. Thus, at most two wires are needed for communication between DSP blocks. This makes programming connections between the DSP blocks relatively simple.</p>
<p id="p-0036" num="0035">Embodiments of the present invention implement discrete time function filters in the digital domain, found in processors <b>113</b> through <b>125</b>. Both digital signal processing and control functions, including logical decision-making, branching and control loops, may be implemented in the digital domain by these programmable DSP blocks.</p>
<p id="p-0037" num="0036">Additionally, multiple blocks, in this embodiment, can be configured to cooperate in various ways to accomplish a given signal processing function. This provides better control, uses less power, and provides for selectable accuracy, or resolution, by adding additional bits to data words. For example, if the basic word length is 16-bits, to get a higher resolution, multiple 16-bit words are concatenated such as in an IRR filter, in which a number of coefficients need to be specified, higher resolution may be achieved by concatenating bits.</p>
<p id="p-0038" num="0037">Re-configurable signal processing blocks in each array can be reconfigured to perform filter functions, mixer, nonlinear correction of control functions, various math functions, etc. As with previous generation blocks, the DSP blocks may be configured by setting values in registers using the computer aided configuration tool.</p>
<p id="p-0039" num="0038">Various embodiments of the present invention enable the performance of a large proportion of signal processing in the digital domain and less in the analog domain than in some previous mixed signal, or hybrid, devices. Some blocks in the instant embodiment are dedicated to DSP. Thus, the present invention adds DSP blocks to the PSoC architecture, which had digital blocks, communication blocks, and analog blocks. The digital blocks can implement, for example, multipurpose timers/counters supporting multiple event timers, real-time clocks, PWMs and CRCs. The communications blocks support UARTs and SPI master and slave functions. Analog blocks support functions such as Switch Capacitor blocks and data converters such as ADCs and DACs. As used in this discussion, analog-to-digital conversion or digital-to-analog can be referred to collectively as analog/digital conversion,</p>
<p id="p-0040" num="0039">Because the present invention uses dedicated processing, there is little control overhead and there is no problem of interrupting the main micro-processor with demands for DSP processing time. For example, filtering, modulation, and other processing functions are provided by PSoC blocks with minimal, if any, supervision by the main system or host processor. The overhead normally put into one digital signal processor (e.g., to pipeline) is unnecessary for a processor with only one relatively small task. The array of multiple processors in this embodiment, in totality and operating in parallel, accomplishes all signal processing for the various tasks required of the entire system.</p>
<p id="p-0041" num="0040">A PSoC processor array can be configured by the use of a configuration tool in a computer which presents a graphic user interface (GUI). A window from an exemplary configuration tool is illustrated in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a screenshot of the Device Placement Window in the Device Editor of the configuration tool's graphical user interface. The configuration tool of the present embodiment employs a graphical user interface to greatly ease the lengthy and tedious process of configuring complex programmable devices, including PSoC arrays (e.g. as shown in <figref idref="DRAWINGS">FIG. 2</figref>). When the user has selected a group of user modules suitable to the configuration desired, the Device placement Window <b>200</b> is presented to further aid in device configuration. Selected user modules are shown in iconic form in window <b>207</b>. Each icon is highlighted when selected for placement in the graphical presentation of the programmable device architecture, <b>203</b>, as shown in device placement window <b>206</b>, by the selection of Next Placement tool button (see <b>504</b> in <figref idref="DRAWINGS">FIG. 5</figref>). Also shown in <figref idref="DRAWINGS">FIG. 2</figref> are menu bar <b>201</b> and tool bar <b>202</b> which is illustrated in more detail in <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0043" num="0042">Advantageously, the block diagram of a configuration tool is connection oriented. The blocks may be programmed for specific functions. The user simply places and configures the modules, mixer, filter, etc, for example. Thus, its very easy for a user to visualize and to understand what's going on in the chip being designed. It is also a very efficient and powerful way of utilizing the Silicon.</p>
<p id="p-0044" num="0043">In this embodiment of the present invention, selection of functional user modules can also include selection of digital signal processing arrays and analog modules in which the dedicated hardware is constructed to act as analog-to-digital converters (ADCs), analog amplifiers, analog filters, and digital-to-analog converters (DACs), as well as a panoply of digital processing user modules.</p>
<p id="p-0045" num="0044">It should be noted here the graphical user interface is configured for a specific operating system (OS) as is indicated by some artifacts in the Figures. While such an existing operating system is quite common, this discussion in no way should be taken as to imply that use of the above operating system is integral to the concepts presented herein. Other operating systems capable of presenting a graphical user interface can be used in implementing similar embodiments. It is even conceivable that some implementation of an embodiment of the present invention could be employed on a personal data assistant or some other handheld device.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a method for implementing digital signal processing functions in a PSoC device. The process begins at <b>310</b> with providing a plurality of processor blocks, also known as functional user modules, at <b>320</b> an I/O structure including analog I/O, and at <b>330</b> an interconnect matrix. Device configuration begins at <b>340</b> by selecting the desired processor blocks from the graphical presentation. Configuration continues at <b>350</b> by selecting I/O connections and at <b>360</b> by selecting the desired interconnection configuration. When desired modules and interconnections are selected, the configuration parameters are stored in a register set at <b>370</b> and the process moves on to other tasks at <b>399</b>.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 4</figref> illustrates an exemplary screenshot of a selected device data display. A selected device icon causes the presentation of window <b>404</b>, a functional schematic of the module, as well as devices resource window <b>406</b> and module data window <b>405</b>. In the embodiment of the present invention discussed, data presented in window <b>405</b> includes data to aid in implementation of the selected modules as multipurpose timers/counters, real-time clocks, PWMs, CRCs, communications blocks and analog blocks such as switch capacitor blocks.</p>
<p id="p-0048" num="0047">Note that window <b>404</b>, which shows a graphical schematic diagram of the selected user module, is used to illustrate to the user the functionality of the user module and is not to be taken as being representative of the physical implementation of the module. Each module incorporated into a configured device is actually implemented in circuitry that is reconfigurable by programming.</p>
<p id="p-0049" num="0048">Note that the exemplary user module shown in <figref idref="DRAWINGS">FIG. 4</figref> is a digital-to-analog converter (DAC). The inputs shown in the graphic presentation of the user module are digital bus inputs and the outputs are analog. This information, and the suitability of connections to them, is what is presented and highlighted in the Device Editor Window of <figref idref="DRAWINGS">FIG. 2</figref>, noted previously, when interconnections are selected.</p>
<p id="p-0050" num="0049">Window <b>406</b> is also included in <figref idref="DRAWINGS">FIG. 4</figref> and includes information which shows a table of available modules remaining, taking into consideration the hardware circuitry already committed to the selected user modules. The information presented in the table of interconnection characteristics also depends on the available hardware to support the user module. It is noted that the functions of the various windows illustrated here may be present in different forms in different embodiments and may not be employed in others. The rearrangement of windows in the graphical user interface does not impede nor change the functionality of this embodiment of the present invention.</p>
<p id="p-0051" num="0050">When the user has selected a group of user modules suitable to the configuration desired, the Device placement Window <b>200</b> shown above in <figref idref="DRAWINGS">FIG. 2</figref> is presented to further aid in device configuration. Again, selected modules are shown in iconic form in window <b>207</b>. Each icon is highlighted when selected for placement in the graphical presentation of the configurable device architecture, <b>403</b>, by the selection of Next Placement tool button (refer to <b>504</b> in <figref idref="DRAWINGS">FIG. 5</figref>). Available connections, determined by the available hardware and the functionality of the selected user modules, are highlighted to aid the user in placement. In this embodiment of the present invention, available connections and user modules are well populated with those particularly designed for analog I/O and digital signal processing.</p>
<p id="p-0052" num="0051">The embodiment of the present invention discussed here uses tool buttons in toolbar <b>202</b> to select the appropriate window for operation at hand. A portion of toolbar <b>202</b> is illustrated in <figref idref="DRAWINGS">FIG. 5</figref>. Toolbar <b>202</b> includes Device editor selection tool button <b>501</b>, Device selection button <b>502</b>, Device Placement button <b>503</b>, Next (usable) Placement button <b>504</b>, Place Module button <b>505</b>, Undo Placement button <b>506</b>, De-Bug window button <b>507</b> and Pin-Out Window button <b>508</b>. Note that the arrangement of buttons and their iconic depictions are not limited to those shown. Other arrangements and icons can be used without changing the functions illustrated in this embodiment.</p>
<p id="p-0053" num="0052">Once the user modules have been placed by the user and module interconnections have been made and characterized, the configuration tool in which this embodiment of the present invention is configured automatically determines the configuration registers that need to be set and automatically determines their values such that the settings can be realized. This last function needs user module placement to perform because the registers that are configured reside within the PSoC hardware blocks that are allocated to the user modules and to the interconnections. Each PSoC hardware block contains its own register set. If the user module placement is changed, then the configuration tool software recomputes the proper configuration registers and values for the new hardware. If the settings are changed, then this embodiment recomputes the proper configuration registers and values for the new settings.</p>
<p id="p-0054" num="0053">When registers containing user module parameters and interconnection characteristics are configured to implement the selected settings, information based on the settings is passed to processes that automatically generate source code blocks which are also called application program interfaces (APIs). These APIs are used to talk to the user modules to implement embedded functionality of the user module. The assembly code (.asm) that is automatically generated is used by the programmer to cause the user modules to perform the desired tasks. Common functions that are required to interact with the user module, such as how to start, stop a timer and “talk” to other user modules, as in the bit serial bus <b>126</b> communication of <figref idref="DRAWINGS">FIG. 1</figref>, are automatically generated and represented in assembly code and header files within the software configuration tool.</p>
<p id="p-0055" num="0054">An embodiment of the present invention discussed here may be implemented in a computer similar to the generic computer illustrated in <figref idref="DRAWINGS">FIG. 6</figref>. <figref idref="DRAWINGS">FIG. 6</figref> illustrates, in block diagram form, a configuration typical to a computer system. In <figref idref="DRAWINGS">FIG. 6</figref>, computer system <b>600</b> comprises bus <b>610</b> which electronically connects central processor <b>601</b>, volatile RAM <b>602</b>, non-volatile ROM <b>603</b> and data storage device <b>604</b>.</p>
<p id="p-0056" num="0055">Important to a concept involving a graphical user interface, as does this embodiment of the present invention, display device <b>605</b> is also connected to the bus. Similarly connected are alpha-numeric input device <b>606</b>, cursor control <b>607</b>, and signal I/O device <b>608</b>. Signal I/O device <b>608</b> can be implemented as a serial connection, USB, an infrared transceiver or an RF transceiver. The configuration of the devices to which this embodiment of the present invention applies may vary, depending on the specific tasks undertaken. In every case with which this embodiment of the present invention is involved, however, display device <b>605</b> and cursor control <b>607</b> are implemented in one form or other. In many implementations of this embodiment, it is highly probable that interconnect/programming device <b>611</b> is also connected to computer bus <b>610</b>, whether directly by bus link <b>625</b> or indirectly by signal communication <b>608</b> and communication link <b>620</b>. The purpose of device <b>611</b> in this embodiment is to actually implement in device hardware the configurations developed using embodiments of the present invention. Interconnect/programming device <b>611</b> can also be implemented as a part of the circuitry suite permanently connected to the electronic environment of the targeted PSoC device.</p>
<p id="p-0057" num="0056">The foregoing descriptions of specific embodiments of the present invention have been presented for purposes of illustration and description. They are not intended to be exhaustive or to limit the invention to the precise forms disclosed, and obviously many modifications and variations are possible in light of the above teaching. The embodiments were chosen and described in order to best explain the principles of the invention and its practical application, to thereby enable others skilled in the art to best utilize the invention and various embodiments with various modifications as are suited to the particular use contemplated. It is intended that the scope of the invention be defined by the Claims appended hereto and their equivalents.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A programmable logical semiconductor device for implementing digital signal processing, comprising:
<claim-text>one or more functional user modules, wherein at least one of said functional user modules is configurable to implement digital signal processing functions;</claim-text>
<claim-text>an analog connection selectively coupled to at least one of said functional user modules via an analog signal processor that is configurable as a switched capacitor filter, said analog connection enabled to route signals to said at least one functional user module via said analog signal processor free of any intervening analog component wherein said at least one functional user module is configurable to implement digital signal processing functions; and</claim-text>
<claim-text>one or more registers contained in said programmable logical semiconductor device and coupled to said functional user modules for storing coefficients to configure said functional user modules.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The programmable logical semiconductor device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said, programmable logical semiconductor device is a programmable-system-on-a-chip.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The programmable logical semiconductor device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said analog processor is configurable as an analog-to digital converter.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The programmable logical semiconductor device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said programmable logical semiconductor device is specifically tailored to perform digital signal processing functions.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The programmable logical semiconductor device of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein said functional user modules communicate by bit serial connections.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The programmable logical semiconductor device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising an array of functional user modules specifically tailored to enable digital signal processing functions.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A programmable integrated circuit device for implementing digital signal processing, comprising:
<claim-text>a plurality of processor blocks disposed in an array, at least one of said processor blocks dedicated to implementing digital signal processing functions;</claim-text>
<claim-text>an analog input/output structure coupled to said array, said analog input/output structure configured for selectively routing signals via an analog signal processor that is configurable as a switched capacitor filter free of any intervening analog component to said processor blocks in said array, wherein at least one of said processor blocks is dedicated to implementing digital signal processing functions;</claim-text>
<claim-text>a plurality of registers contained in said programmable integrated circuit device and coupled to said processor blocks, wherein said registers store configuration values set by a configuration program where the configuration values configure said processor blocks and said input/output structure.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The device of <claim-ref idref="CLM-00007">claim 7</claim-ref> further comprising a plurality of pulse density processors coupled to said input/output structure to transmit said signals to said processor blocks of said array in a bit serial format.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The device of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein said pulse density processors are configured to operate on a plurality of signals simultaneously and provide said signals to said processor blocks of said array in parallel.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The device of <claim-ref idref="CLM-00008">claim 8</claim-ref> further comprising a plurality of decimators coupled to said input/output structure to enable bandwidth and data rate conversion of said signals when providing said signals to said processor blocks of said array.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The device of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein at least one of said analog signal processors is configurable for implementing a digital filter signal processing function.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The device of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein at least one of said analog signal processors is configurable for implementing analog/digital conversion.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The device of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein said array of processor blocks includes a configurable interconnect matrix for interconnecting neighboring processor blocks.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A method for performing digital signal processing in a programmable logical semiconductor device, comprising:
<claim-text>providing a plurality of processor blocks disposed in an array, at least one of said processor blocks dedicated to implementing digital signal processing functions;</claim-text>
<claim-text>providing an analog signal processing and analog input/output structure coupled to said array, said input/output structure configured for routing signals to said processor blocks in said array via an analog signal processor that is configurable as a switched capacitor filter free of any intervening analog component, wherein at least one of said processor blocks is dedicated to implementing digital signal processing functions;</claim-text>
<claim-text>providing an interconnect matrix between said processor blocks;</claim-text>
<claim-text>selecting one or more of said processor blocks to perform a digital processing function;</claim-text>
<claim-text>selecting one or more input and output connections in said input/output structure;</claim-text>
<claim-text>selecting an interconnection configuration in said interconnect matrix; and storing selections in an accessible register in said programmable logical semiconductor device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method as described in <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein at least one of said processor blocks is specifically designed to enable digital signal processing functions.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method as described in <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein at least one of said analog signal processors is configurable as a switched capacitor filter.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method as described in <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein at least one of said analog signal processors in configurable for analog/digital conversion.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method as described in <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein said processor blocks communicate by bit serial connections.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method as described in <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein said selected processor blocks comprise an array of said user modules and wherein said array of said functional user modules is for performing digital signal processing.</claim-text>
</claim>
</claims>
</us-patent-grant>
