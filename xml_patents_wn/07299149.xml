<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299149-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299149</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11093234</doc-number>
<date>20050330</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2004-102728</doc-number>
<date>20040331</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>12</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>702150</main-classification>
<further-classification>455557</further-classification>
<further-classification>701209</further-classification>
<further-classification>702141</further-classification>
</classification-national>
<invention-title id="d0e71">Portable device with action shortcut function</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6314368</doc-number>
<kind>B1</kind>
<name>Gurmu et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>701209</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6941239</doc-number>
<kind>B2</kind>
<name>Unuma et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>702141</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6957088</doc-number>
<kind>B2</kind>
<name>Kato et al.</name>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2005/0054381</doc-number>
<kind>A1</kind>
<name>Lee et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455557</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>CN</country>
<doc-number>1379871</doc-number>
<kind>A</kind>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>9-081308</doc-number>
<date>19970300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>2000-78262</doc-number>
<kind>A</kind>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>2001-033253</doc-number>
<kind>A</kind>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>2002-149616</doc-number>
<kind>A</kind>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>2003-005879</doc-number>
<kind>A</kind>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>2003-114752</doc-number>
<kind>A</kind>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>JP</country>
<doc-number>2003-131796</doc-number>
<kind>A</kind>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>JP</country>
<doc-number>2003-256129</doc-number>
<kind>A</kind>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>WO</country>
<doc-number>WO 01/27735</doc-number>
<kind>A1</kind>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>702141</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702188</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702189</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3408532</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>34082549</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>463 31</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>463 43</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>700245</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701207</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701209</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>701214</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345115</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345440</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345426</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455557</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050234676</doc-number>
<kind>A1</kind>
<date>20051020</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Shibayama</last-name>
<first-name>Hiroaki</first-name>
<address>
<city>Shizuoka</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Foley &amp; Lardner LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>NEC Corporation</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Barlow</last-name>
<first-name>John</first-name>
<department>2863</department>
</primary-examiner>
<assistant-examiner>
<last-name>Le</last-name>
<first-name>John</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A portable information device has an action recognizing function. An action detector precisely detects a single 3-dimensional movement of the device. A plurality of reference action patterns each linked to predetermined functions are registered in an action shortcut table. An action comparator compares the input action with the registered reference action patterns to activate a corresponding function.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="152.82mm" wi="211.33mm" file="US07299149-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="229.02mm" wi="172.80mm" orientation="landscape" file="US07299149-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="194.14mm" wi="134.79mm" orientation="landscape" file="US07299149-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="229.79mm" wi="165.18mm" orientation="landscape" file="US07299149-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="210.65mm" wi="113.54mm" orientation="landscape" file="US07299149-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="202.95mm" wi="156.38mm" orientation="landscape" file="US07299149-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="195.07mm" wi="153.92mm" orientation="landscape" file="US07299149-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to a portable information device such as a portable telephone terminal, portable information processing terminal or the like, and in particular to a portable information device having an action detecting function.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">To increase portability, portable information devices including portable telephone terminals are becoming smaller in size. However, for such miniaturization, display visibility and input operability are traded off. Recently, several techniques of increasing the input operability without degrading portability have been proposed.</p>
<p id="p-0006" num="0005">Japanese Patent Application Unexamined Publication No. 2003-5879 discloses a portable information terminal having a rotating operation detector. The rotating operation detector detects a tilt of the terminal body rotating around one of predetermined axial directions (X, Y and Z axes) and, determines whether the terminal body tilts in the direction of a scroll arrow, typically one of upward, downward, rightward and leftward arrows, displayed on screen. When the tilt matches the scroll arrow, scrolling is started on the display.</p>
<p id="p-0007" num="0006">Japanese Patent Application Unexamined Publication No. 2003-114752 discloses a portable information terminal device having a tilt detector and a controller controlling display of two rings of icons depending on a detected tilt direction. More specifically, the icons in the one ring are sequentially foremost displayed depending on the rightward/leftward direction of tilt and, after one icon has been selected from the one ring, the icons in the other ring are sequentially foremost displayed depending on the upward/downward direction of tilt.</p>
<p id="p-0008" num="0007">Japanese Patent Application Unexamined Publication No. 2002-149616 discloses an information retrieval terminal having an acceleration sensor, which is used to detect a gesture of a user shaking or tilting the terminal body. The movement of displayed icons is controlled depending on a tilt angle of the upward, downward, rightward or leftward direction. When the terminal body is shaken, the retrieval is terminated.</p>
<p id="p-0009" num="0008">However, the above-mentioned prior arts can detect only two dimensional movements such as rotation operations in the upward/downward direction or rightward/leftward direction of tilt. Further, the portable terminal itself cannot determine an absolute bearing with respect to the geomagnetic field. The information retrieval terminal (Publication No. 2002-149616) may determine its absolute bearing by placing the terminal body on the cradle.</p>
<p id="p-0010" num="0009">Japanese Patent Application Unexamined Publication No. 2001-033253 discloses an attitude and angle detector using gyroscopes, geomagnetic field sensors and an acceleration sensor to detect an action of a device body. However, such a structure is not suitable for a portable device which is becoming smaller in size. In addition, gyroscopes are sensitive to physical shock. Therefore, when dropped, the attitude and angle detection is easily damaged because of breakage of gyroscopes.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0011" num="0010">An object of the present invention is to provide a portable device and an action shortcut method allowing precise 3-dimensional action recognition to perform a desired function.</p>
<p id="p-0012" num="0011">Another object of the present invention is to provide a portable device allowing precise 3-dimensional action recognition based on an absolute bearing with respect to the geomagnetic field.</p>
<p id="p-0013" num="0012">According to the present invention, a portable device having an action recognizing function, includes: an action detector for detecting a single 3-dimensional movement of the portable device; a memory for storing a plurality of reference action patterns each representing a plurality of predetermined single 3-dimensional movements of the portable device; and an action recognizer for recognizing an input single 3-dimensional movement of the portable device as one of the plurality of reference action patterns.</p>
<p id="p-0014" num="0013">The portable device preferably has a plurality of predetermined functions, each of which is linked to a different one of the plurality of reference action patterns. The portable device further includes a shortcut activator for activating a predetermined function linked to a reference action pattern that substantially matches the input single 3-dimensional movement of the portable device.</p>
<p id="p-0015" num="0014">The action recognizer may include: a reference action pattern manager for managing the plurality of reference action patterns stored in the memory such that the plurality of reference action patterns are registered, maintained or updated based on an input single 3-dimensional movement of the portable device; and an action comparator for comparing the input single 3-dimensional movement of the portable device with the plurality of reference action patterns to determine a reference action pattern that substantially matches the input single 3-dimensional movement of the portable device.</p>
<p id="p-0016" num="0015">Each of the plurality of reference action patterns stored in the memory may include a plurality of sets of sampled data, each of which contains an angle acceleration vector, a roll angle, a pitch angle, and a bearing of the portable device. Each of the sets of sampled data may include error parameters representing individual characteristics of actions.</p>
<p id="p-0017" num="0016">The action detector may include: a tilt detector for detecting a tilt of the portable device; an acceleration detector for detecting an acceleration working on the portable device; a magnetic compass detector for detecting a magnetic force working on the portable device; and a state calculator for calculating the single 3-dimensional movement of the portable device based on the tilt, the acceleration and the magnetic force. Further, the action detector may detect a single 3-dimensional movement of the portable device with or without an absolute compass bearing.</p>
<p id="p-0018" num="0017">According to another aspect of the present invention, an action shortcut method in a portable device having a plurality of predetermined functions, includes the steps of: storing a plurality of reference action patterns in a memory, wherein the reference action patterns each represent a plurality of predetermined single 3-dimensional movements of the portable device; detecting a single 3-dimensional movement of the portable device; and recognizing an input single 3-dimensional movement of the portable device as one of the plurality of reference action patterns to determine which predetermined function is activated.</p>
<p id="p-0019" num="0018">As described above, according to the present invention, by a user moving and rotating a portable device not only in one of pitch and roll directions but a combination of pitch and roll directions, such a single 3-dimensional movement of a portable device can be precisely detected. Further, such an action can be recognized by referring to reference action patterns that each represent predetermined single 3-dimensional actions. Such precise 3-dimensional action recognition can be also performed based on an absolute bearing with respect to the geomagnetic field. Since the time-varying movement of the portable device can be managed with respect to time axis, it is possible to link preset functions of the device to action shortcuts, respectively. Therefore, only action of the user moving the portable device activates a desired function.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing the functional configuration of a portable information device according to an embodiment of the present invention;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic block diagram showing an example of hardware structure of the portable information device according to the embodiment of the present invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 3A</figref> is a diagram showing an example of an action shortcut table employed in the portable information device according to the first embodiment;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 3B</figref> is a diagram showing a format of sampled data in the action shortcut table as shown in <figref idref="DRAWINGS">FIG. 3A</figref>;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 4A</figref> is a diagram showing an offset canceling operation of an offset correction section in the portable information device of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 4B</figref> is a diagram showing components of magnetic forces for explaining the offset correction;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram showing an example of movement of the portable information device according to the embodiment; and</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram showing an example of locus of action-related vectors for registration or recognition.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0028" num="0027">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, a portable information device according to an embodiment of the present invention is provided with a 2-axis tilt angle detector <b>104</b>, a 2-axis acceleration detector <b>106</b> and a 3-axis geomagnetic bearing detector <b>108</b>, which may be collectively provided as one hardware section <b>102</b> of the portable information device <b>100</b>.</p>
<p id="p-0029" num="0028">The 2-axis tilt angle detector <b>104</b> is a tilt sensing means for sensing a roll angle about X axis and a pitch angle about Y axis with respect to a horizontal plane defined by the X axis and the Y axis. The 2-axis acceleration detector <b>106</b> is an acceleration sensing means for sensing varied accelerations of roll angle and pitch angle. The 3-axis geomagnetic bearing detector <b>108</b> is a magnetic compass sensing means for sensing the magnitude and direction of a total magnetic force acting on the portable information device <b>100</b>.</p>
<p id="p-0030" num="0029">The portable information device <b>100</b> is further provided with a hardware/software section <b>110</b>, which includes an offset correction section <b>112</b>, a calibration section <b>114</b>, a device body state calculation section <b>116</b>, a log manager <b>118</b>, an action shortcut table <b>120</b>, an action comparator <b>122</b>, and a shortcut activator <b>124</b>. In addition, the portable information device <b>100</b> is provided with a hardware/software section <b>126</b> including a function activator <b>128</b>.</p>
<p id="p-0031" num="0030">The offset correction section <b>112</b> and the calibration section <b>114</b> are provided in the same block so that an offset of ambient magnetic field is canceled and errors caused by ambient disturbance or variations in characteristics are compensated. The offset correction section <b>112</b> and the calibration section <b>114</b> output corrected measurements regarding tilt angle, acceleration and total magnetic force to the device body state calculation section <b>116</b>.</p>
<p id="p-0032" num="0031">The device body state calculation section <b>116</b> calculates the vertical direction (Z axis) with respect to the horizontal plane and further calculates a roll angle and pitch angle of the device body of the device <b>100</b> with reference to the vertical direction (Z axis) from the corrected measurements obtained by the offset correction section <b>112</b> and the calibration section <b>114</b>. In other words, the device body state calculation section <b>116</b> detects an action state of the device <b>100</b> and produces device body state indicating data composed of angle acceleration data, roll angle and pitch angle data and, if necessary, bearing data. The device body state indicating data is outputted to the log manager <b>118</b> and the action comparator <b>122</b>. The offset correction section <b>112</b>, the calibration section <b>114</b> and the device body state calculation section <b>116</b> are combined to form an action detecting means.</p>
<p id="p-0033" num="0032">The log manager <b>118</b> stores a log of device body state indicating data and learns individuality of user's actions to produce individual error parameters for the device body state indicating data. Accordingly, the individuality of user's action is converted into error parameters taking into account user's individual and fuzzy actions. The log manager <b>118</b> manages the action shortcut table <b>120</b> to save, update and delete action pattern data composed of the device body state indicating data and error parameters obtained by the learning function.</p>
<p id="p-0034" num="0033">The action shortcut table <b>120</b> is an action database which stores registered shortcuts and corresponding action pattern data, which will be described in details later.</p>
<p id="p-0035" num="0034">The log manager <b>118</b> and the action shortcut table <b>120</b> is an action pattern managing means for learning and managing the device body state indicating data as action patterns.</p>
<p id="p-0036" num="0035">The action comparator <b>122</b> compares the current movement of the device body, that is, the action of a user moving the device <b>100</b>, with the registered action patterns of the action shortcut table <b>120</b>. When the current action matches one of the registered action patterns, the action comparator <b>122</b> instructs the shortcut activator <b>124</b> to activate an action shortcut corresponding to the matched action pattern and start running the corresponding function through the function activator <b>128</b>.</p>
<p id="p-0037" num="0036">In other words, the action comparator <b>122</b> is an action recognizing means. The action shortcut table <b>120</b>, the action comparator <b>122</b> and the shortcut activator <b>124</b> are an action shortcut linking means for linking an action pattern to a predetermined function of the device <b>100</b> to be activated.</p>
<p id="p-0038" num="0037">As shown in <figref idref="DRAWINGS">FIG. 2</figref>, the hardware section <b>102</b> is composed of an acceleration sensor <b>130</b> and a magnetic sensor <b>132</b>. The acceleration sensor <b>130</b> is used to realize the 2-axis tilt angle detector <b>104</b> and the 2-axis acceleration detector <b>106</b>. The magnetic sensor <b>132</b> is used to realize the 3-axis geomagnetic bearing detector <b>108</b>.</p>
<p id="p-0039" num="0038">The hardware/software section <b>110</b> is composed of a micro processing unit (MPU) <b>134</b> and a memory (RAM/Flash ROM) <b>138</b>. The MPU <b>134</b> implements the above-described functions of the offset correction section <b>112</b>, the calibration section <b>114</b>, the device body state calculation section <b>116</b>, the log manager <b>118</b>, the action comparator <b>122</b>, and the shortcut activator <b>124</b>. The memory <b>138</b> is used as the action shortcut table <b>120</b>, log management memory as well as work memories for the MPU <b>134</b>.</p>
<p id="p-0040" num="0039">The MPU <b>134</b> inputs the sensed acceleration data and magnetic field data from the acceleration sensor <b>130</b> and the magnetic sensor <b>132</b> through a data bus <b>136</b>. Under the control of the MPU <b>134</b> as described above, the function of a peripheral device <b>142</b> is activated through a bus <b>140</b>.</p>
<p id="p-0041" num="0040">As described before, the MPU <b>134</b> executes necessary programs to perform offset correction and calibration of the magnetic field data that is sensed by the magnetic sensor <b>132</b> and calculate a precise geomagnetic bearing angle as a reference bearing from the corrected magnetic field data. Similarly, the MPU <b>134</b> executes necessary programs to perform offset correction and calibration of the acceleration data that is sensed by the acceleration sensor <b>130</b> and calculate a tilt angle data (roll angle and pitch angle) and acceleration (magnitude and direction) from the corrected acceleration data.</p>
<p id="p-0042" num="0041">The device body state calculation program running on the MPU <b>134</b> converts the precise geomagnetic bearing angle, the tilt angle data and acceleration data into the device body state indicating data. The device body state indicating data is used to be evaluated by the log manager program, which registers the device body state indicating data and error parameters onto the action shortcut table of the memory <b>138</b>. Accordingly, the registered action pattern data, which is updated if necessary, is used as reference data to determine whether input action data matches any registered action shortcut.</p>
<p id="p-0043" num="0042">The action comparator program running on the MPU <b>134</b> compares the currently inputted device body state indicating data with the registered action patterns of the action shortcut table <b>120</b> taking into account individual fuzzy actions represented by error parameters. When a match is found within a permissible error, a corresponding one of predetermined functions of the device <b>100</b> is activated. Such predetermined functions maybe assigned to preset shortcut functions including a function of operating a hardware device.</p>
<p id="p-0044" num="0043">Referring to <figref idref="DRAWINGS">FIG. 3A</figref> and <figref idref="DRAWINGS">FIG. 3B</figref>, the action shortcut table <b>120</b> contains three fields: Shortcut Name <b>150</b>; Function Number <b>152</b>; and Data <b>154</b>.</p>
<p id="p-0045" num="0044">The shortcut name field <b>150</b> stores the name representing a pre-installed function to be activated by a previously defined action. These shortcut names are displayed on a menu and a user's action is recognized as one of the shortcut names. The shortcut name can be freely registered by a user.</p>
<p id="p-0046" num="0045">The function number field <b>152</b> is used to link user's action data to an actual software function and the processing indicated by a function number is to be activated.</p>
<p id="p-0047" num="0046">The data field <b>154</b> stores action data registered by the user, which is a set of N pieces of sampled data <b>156</b> obtained by sampling the device body state indicating data generated by the user moving the device <b>100</b> at regular sampling rate. Here, an action data is defined as a set of N pieces of sampled data 1-N.</p>
<p id="p-0048" num="0047">Further, each piece of sampled data <b>156</b> is composed of an angle acceleration vector <b>158</b>, a roll angle <b>160</b>, a pitch angle <b>162</b> and a 2-axis bearing <b>164</b> as shown in <figref idref="DRAWINGS">FIG. 3B</figref>. The 2-axis bearing <b>164</b> is provided if absolute bearing is needed for action recognition.</p>
<p id="p-0049" num="0048">The angle acceleration vector <b>158</b> is represented by the direction and magnitude of the vector at a sampling instant. In other words, the angle acceleration vector <b>158</b> defines which direction the device <b>100</b> moves in and how much its acceleration is at that time instant.</p>
<p id="p-0050" num="0049">As shown in <figref idref="DRAWINGS">FIG. 3B</figref>, the angle acceleration vector <b>158</b> is composed of X-axis component <b>166</b>, Y-axis component <b>168</b>, Z-axis component <b>170</b> and an angle acceleration error parameter at a sampling instant. The angle acceleration error parameter represents individual characteristics of the user in angle acceleration.</p>
<p id="p-0051" num="0050">The roll angle <b>160</b> is composed of a roll angle <b>174</b> of the device <b>100</b> and a roll angle error parameter <b>176</b> representing individual characteristics of the user in roll angle at a sampling instant.</p>
<p id="p-0052" num="0051">The pitch angle <b>162</b> is composed of a pitch angle <b>178</b> of the device <b>100</b> and a pitch angle error parameter <b>180</b> representing individual characteristics of the user in pitch angle at a sampling instant.</p>
<p id="p-0053" num="0052">The 2-axis bearing <b>164</b> is added in sampled data <b>156</b> if the absolute bearing of the device <b>100</b> is needed to recognize its action. The 2-axis bearing <b>164</b> is composed of an absolute bearing angle <b>182</b> of the device <b>100</b> and a absolute bearing angle error parameter <b>184</b> representing individual characteristics of the user in absolute bearing angle at a sampling instant.</p>
<p id="h-0005" num="0000">Operation</p>
<p id="p-0054" num="0053">An offset correction operation will be described with reference to <figref idref="DRAWINGS">FIGS. 4A and 4B</figref>. As described before, the offset correction section <b>112</b> cancels an inherent magnetic field of the portable information device <b>100</b> and an individual carrying it. In the case of the device <b>100</b> located in a vehicle, an individual carrying the portable information device <b>100</b> includes its user and the vehicle itself.</p>
<p id="p-0055" num="0054">As shown in <figref idref="DRAWINGS">FIG. 4A</figref>, the locus <b>186</b> of a magnetic vector when the device <b>100</b> freely moving without canceling offset is deviated from the center (X, Y, Z)=(0, 0, 0) by a distance as a DC component caused by disturbance of the inherent magnetic field. Since calculation becomes difficult in such a deviation status, the locus <b>186</b> of a magnetic vector is shifted to the center as indicated by a reference numeral <b>186</b>â€². Such an offset processing is also needed to detect a deviation from the center due to a change in ambient magnetic field.</p>
<p id="p-0056" num="0055">Similarly, offset correction and calibration of the acceleration data sensed by the acceleration sensor <b>130</b> are performed. Based on the corrected acceleration data, the device body state calculation section <b>116</b> calculates a tilt angle data (roll angle and pitch angle) and acceleration (magnitude and direction).</p>
<p id="p-0057" num="0056">The device body state calculation section <b>116</b> running on the MPU <b>134</b> converts the precise geomagnetic bearing angle, the tilt angle data and acceleration data into the device body state indicating data. The device body state indicating data is used to be evaluated by the log manager <b>118</b>, which registers the device body state indicating data and error parameters onto the action shortcut table <b>120</b>. In this manner, the registered action pattern data, which will be updated, is used as reference data to determine whether input action data matches any registered action shortcut.</p>
<p id="p-0058" num="0057">The action comparator <b>122</b> running on the MPU <b>134</b> compares the currently inputted device body state indicating data with the registered action patterns of the action shortcut table <b>120</b> taking into account individual fuzzy actions represented by error parameters. When a match within tolerance is found in the action shortcut table <b>120</b>, a corresponding one of predetermined functions of the device <b>100</b> is activated. Such predetermined functions may be assigned to preset shortcut functions including a function of operating a hardware device.</p>
<p id="p-0059" num="0058">As shown in <figref idref="DRAWINGS">FIG. 5</figref>, the portable information device <b>100</b> may be moved and/or rotated actually. In this example, the attitude of the portable information device <b>100</b> is changed as indicated by reference symbols P<b>1</b> to P<b>6</b>. Assuming that the ambient magnetic field has been offset, the respective direction and magnitude of a total magnetic force as shown in <figref idref="DRAWINGS">FIG. 4B</figref> are kept constant independently of the attitude of the portable information device <b>100</b>. In other words, from the viewpoint of the portable information device <b>100</b>, the direction of the total magnetic force is varied depending on the attitude of the portable information device <b>100</b>.</p>
<p id="p-0060" num="0059">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, the movement of the portable information device <b>100</b> as shown in <figref idref="DRAWINGS">FIG. 5</figref> is represented by the locus (shown by dashed lines) of a total magnetic vector from points P<b>1</b> to P<b>6</b> in an action-related vector space. Here, the points P<b>1</b> to P<b>6</b> in the action-related vector space indicates the sampling instants, respectively. A pitch angle is defined as a rotation angle of the total magnetic vector about Y axis from X axis. A roll angle is defined as a rotation angle of the total magnetic vector about X axis from Y axis. Accordingly a combination of the roll angle and the pitch angle can represent a three-dimensional space. In <figref idref="DRAWINGS">FIG. 6</figref>, the bearing of a total geomagnetic vector and the magnitude and direction of an angle acceleration vector from P<b>1</b> to P<b>6</b> at each sampling instant are linked with the combination of roll angle and pitch angle.</p>
<p id="p-0061" num="0060">As described before, the angle acceleration vector, the roll angle and the pitch angle are obtained from tilt data sensed by the acceleration sensor. If the absolute bearing is needed for action pattern recognition, then a 2-axis bearing obtained from the corrected geomagnetic bearing angle is attached to the roll angle and the pitch angle at each sampling instant.</p>
<p id="p-0062" num="0061">The locus of the total magnetic vector from P<b>1</b> to P<b>6</b> at sampling time instants is registered as a reference action pattern in the action shortcut table <b>120</b>. For example, when a user is making a call by lifting the portable information device <b>100</b>, the off-hook action is sampled at regular intervals and registered as the locus of the total magnetic vector linked to the off-hook function (Function No. <b>1002</b> in <figref idref="DRAWINGS">FIG. 3A</figref>) into the action shortcut table <b>120</b> through the log manager <b>118</b>. After such an action pattern has been registered as a reference action pattern, when the user picks up the portable information device <b>100</b> and makes substantially the same off-hook action, this action is sampled and this input action pattern, that is, the locus of the total magnetic vector generated by this action, is compared with the registered reference action patterns by the action comparator <b>122</b>. When the input action pattern approximately matches the registered reference action pattern indicating off-hook (Function No. <b>1002</b> in <figref idref="DRAWINGS">FIG. 3A</figref>), the shortcut activator <b>124</b> instructs a mobile telephone system of the device <b>100</b> to active the off-hook function.</p>
<p id="p-0063" num="0062">In this example, a 2-axis bearing obtained from the corrected geomagnetic bearing angle is attached to each point at a sampling instant. Such an absolute bearing may be used by an application. For example, a simple action game application can be used without such bearing data. The present embodiment can apply to applications requiring absolute bearing data, such as bearing-related games, treasure search games, oriental bearing-related written oracles, sophisticated action games and the like.</p>
<p id="p-0064" num="0063">As described above, a time-varying attitude and direction status of the portable information device <b>100</b> can be managed with respect to time axis. Accordingly, it is possible to link preset functions of the device <b>100</b> to action shortcuts, respectively. For example, when the user imitates an off-hook action, the linked off-hook function is activated. When the user imitates an on-hook action, the linked on-hook function (Function No. <b>1004</b> in <figref idref="DRAWINGS">FIG. 3A</figref>) is activated. When the user imitates an action of operating a magnetic compass, an electronic compass function is activated. In this manner, user's gestures can activate corresponding functions easily. The present invention can provide means of successfully using the portable information device <b>100</b> without the need of complicated operations, resulting in dramatically increased operability. Accordingly, the present invention can be applied to means for providing the aged with various functions and input means for action games for youth.</p>
<p id="p-0065" num="0064">The present invention may be embodied in other specific forms without departing from the spirit or essential characteristics thereof. The present embodiment is therefore to be considered in all respects as illustrative and not restrictive, the scope of the invention being indicated by the appended claims rather than by the foregoing description and all changes which come within the meaning and range of equivalency of the claims are therefore intended to be embraced therein.</p>
<p id="p-0066" num="0065">For example, the present invention can be applied to not only portable telephone terminals but also portable input devices for game machines. Specifically, a marble maze game may be realized on a display, which puts GUI techniques to full use to provide real rolling movement of a marble on a plane which can be tilted to various directions. Tilting the portable information device <b>100</b> causes a marble to move downward as if to roll down a slope depending on the acceleration of tilting and its inclination angle. In the case of the present invention applied to a role-playing game, the following effect may be achieved: an abrupt change in acceleration like jumping causes a hero/heroin of the game to jump.</p>
<p id="p-0067" num="0066">In addition, as described before, the action characteristics of users may be different from each other and therefore the registered reference action patterns can also support user identification.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A portable device having an action recognizing function, comprising:
<claim-text>an action detector for detecting a single 3-dimensional movement of the portable device;</claim-text>
<claim-text>a memory for storing a plurality of reference action patterns each representing a plurality of predetermined single 3-dimensional movements of the portable device; and</claim-text>
<claim-text>an action recognizer for recognizing an input single 3-dimensional movement of the portable device as one of the plurality of reference action patterns,</claim-text>
<claim-text>a reference action pattern manager for managing the plurality of reference action patterns stored in the memory such that the plurality of reference action patterns are registered, maintained or updated based on an input single 3-dimensional movement of the portable device; and</claim-text>
<claim-text>an action comparator for comparing the input single 3-dimensional movement of the portable device with the plurality of reference action patterns to determine a reference action pattern that substantially matches the input single 3-dimensional movement of the portable device,</claim-text>
<claim-text>wherein each of the plurality of reference action patterns stored in the memory comprises a plurality of sets of sampled data, each of which contains an angle acceleration vector, a roll angle, a pitch angle, and a bearing of the portable device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The portable device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the sets of sampled data includes error parameters representing individual characteristics of actions.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A portable device having an action recognizing function, comprising:
<claim-text>an action detector for detecting a single 3-dimensional movement of the portable device;</claim-text>
<claim-text>a memory for storing a plurality of reference action patterns each representing a plurality of predetermined single 3-dimensional movements of the portable device; and</claim-text>
<claim-text>an action recognizer for recognizing an input single 3-dimensional movement of the portable device as one of the plurality of reference action patterns,</claim-text>
<claim-text>wherein the action detector comprises:</claim-text>
<claim-text>a tilt detector for detecting a tilt of the portable device;</claim-text>
<claim-text>an acceleration detector for detecting an acceleration working on the portable device;</claim-text>
<claim-text>a magnetic compass detector for detecting a magnetic force working on the portable device; and</claim-text>
<claim-text>a state calculator for calculating the single 3-dimensional movement of the portable device based on the tilt, the acceleration and the magnetic force.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The portable device according to <claim-ref idref="CLM-00003">claim 3</claim-ref>,
<claim-text>wherein the state calculator calculates a reference direction from the tilt, the acceleration and the magnetic force to determine the single 3-dimensional movement of the portable device at predetermined sampling intervals.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The portable device according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein each sampled data contains an angle acceleration vector, a roll angle, a pitch angle, and a magnetic bearing of the portable device.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The portable device according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein each of the angle acceleration vector, the roll angle, the pitch angle and the magnetic bearing is attached with an error parameter representing individual characteristics of action.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An action shortcut method in a portable device having a plurality of predetermined functions, comprising:
<claim-text>storing a plurality of reference action patterns in a memory, wherein the reference action patterns each represent a plurality of predetermined single 3-dimensional movements of the portable device;</claim-text>
<claim-text>detecting a single 3-dimensional movement of the portable device;</claim-text>
<claim-text>recognizing an input single 3-dimensional movement of the portable device as one of the plurality of reference action patterns to determine which predetermined function is activated; and</claim-text>
<claim-text>performing, by the portable device, the predetermined function linked to the reference action pattern than substantially matches the input single 3-dimensional movement of the portable device,</claim-text>
<claim-text>wherein the portable device is a game machine, and</claim-text>
<claim-text>wherein the predetermined function corresponds to a simulated movement on a display of a component used in a game being executed by the game machine,</claim-text>
<claim-text>wherein the recognizing step comprises:</claim-text>
<claim-text>managing the plurality of reference action patterns stored in the memory such that the plurality of reference action patterns are registered, maintained or updated based on an input single 3-dimensional movement of the portable device; and</claim-text>
<claim-text>comparing the input single 3-dimensional movement of the portable device with the plurality of reference action patterns to determine a reference action pattern that substantially matches the input single 3-dimensional movement of the portable device,</claim-text>
<claim-text>wherein each of the plurality of reference action patterns stored in the memory comprises a plurality of sets of sampled data, each of which contains an angle acceleration vector, a roll angle, a pitch angle, and a bearing of the portable device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The action shortcut method according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein each of the sets of sampled data includes error parameters representing individual characteristics of actions.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An action shortcut method in a portable device having a plurality of predetermined functions, comprising:
<claim-text>storing a plurality of reference action patterns in a memory, wherein the reference action patterns each represent a plurality of predetermined single 3-dimensional movements of the portable device;</claim-text>
<claim-text>detecting a single 3-dimensional movement of the portable device;</claim-text>
<claim-text>recognizing an input single 3-dimensional movement of the portable device as one of the plurality of reference action patterns to determine which predetermined function is activated; and</claim-text>
<claim-text>performing, by the portable device, the predetermined function linked to the reference action pattern than substantially matches the input single 3-dimensional movement of the portable device,</claim-text>
<claim-text>wherein the portable device is a portable telephone, and</claim-text>
<claim-text>wherein the predetermined function corresponds to an on-hook or off-hook call function of the portable telephone,</claim-text>
<claim-text>wherein the recognizing step comprises:</claim-text>
<claim-text>managing the plurality of reference action patterns stored in the memory such that the plurality of reference action patterns are registered, maintained or updated based on an input single 3-dimensional movement of the portable device; and</claim-text>
<claim-text>comparing the input single 3-dimensional movement of the portable device with the plurality of reference action patterns to determine a reference action pattern that substantially matches the input single 3-dimensional movement of the portable device,</claim-text>
<claim-text>wherein each of the plurality of reference action patterns stored in the memory comprises a plurality of sets of sampled data, each of which contains an angle acceleration vector, a roll angle, a pitch angle, and a bearing of the portable device.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
