<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298568-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298568</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11082120</doc-number>
<date>20050316</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>100</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>5</main-group>
<subgroup>09</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>27</main-group>
<subgroup>36</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>21</main-group>
<subgroup>02</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>360 53</main-classification>
<further-classification>360 31</further-classification>
<further-classification>360 75</further-classification>
</classification-national>
<invention-title id="d0e53">Systems and methods for using worf to identify burst patterns for repair</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5381281</doc-number>
<kind>A</kind>
<name>Shrinkle et al.</name>
<date>19950100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 7708</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6392831</doc-number>
<kind>B1</kind>
<name>Yeo et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 53</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6628471</doc-number>
<kind>B1</kind>
<name>Min et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 75</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>2</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>27</number-of-drawing-sheets>
<number-of-figures>33</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>10923662</doc-number>
<kind>00</kind>
<date>20040820</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7262930</doc-number>
<kind>A </kind>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11082120</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60496459</doc-number>
<kind>00</kind>
<date>20030820</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60496462</doc-number>
<kind>00</kind>
<date>20030820</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60496477</doc-number>
<kind>00</kind>
<date>20030820</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050157416</doc-number>
<kind>A1</kind>
<date>20050721</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Ehrlich</last-name>
<first-name>Richard M.</first-name>
<address>
<city>Saratoga</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Schmidt</last-name>
<first-name>Thorsten</first-name>
<address>
<city>Milpitas</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Fliesler Meyer LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Matsushita Electric Industrial Co., Ltd.</orgname>
<role>03</role>
<address>
<city>Osaka</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Thang V.</first-name>
<department>2627</department>
</primary-examiner>
<assistant-examiner>
<last-name>Negr√≥n</last-name>
<first-name>Daniell L.</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The misplacement of a servo burst during a servowriting or self-servowriting process can be corrected by erasing and re-writing that burst. In addition, WORF information of a track can be saved in memory for future servowriting and/or can be utilized to compare with a pre-determined threshold to identify servo bursts to be repaired. Alternatively, a batch writing approach can be used to minimize the time needed to re-write misplaced bursts. This description is not intended to be a complete description of, or limit the scope of, the invention. Other features, aspects, and objects of the invention can be obtained from a review of the specification, the figures, and the claims.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="157.31mm" wi="210.65mm" file="US07298568-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="212.26mm" wi="158.41mm" orientation="landscape" file="US07298568-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="223.60mm" wi="174.07mm" file="US07298568-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="212.01mm" wi="169.33mm" file="US07298568-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="228.01mm" wi="157.14mm" file="US07298568-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="204.98mm" wi="133.35mm" file="US07298568-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="226.74mm" wi="141.39mm" orientation="landscape" file="US07298568-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="245.96mm" wi="167.05mm" orientation="landscape" file="US07298568-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="232.24mm" wi="157.48mm" orientation="landscape" file="US07298568-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="231.90mm" wi="152.91mm" orientation="landscape" file="US07298568-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="223.18mm" wi="146.56mm" orientation="landscape" file="US07298568-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="225.81mm" wi="157.40mm" orientation="landscape" file="US07298568-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="236.73mm" wi="142.92mm" orientation="landscape" file="US07298568-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="225.13mm" wi="150.96mm" orientation="landscape" file="US07298568-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="227.41mm" wi="143.68mm" orientation="landscape" file="US07298568-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="230.63mm" wi="152.91mm" orientation="landscape" file="US07298568-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="226.31mm" wi="144.95mm" orientation="landscape" file="US07298568-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="229.70mm" wi="152.57mm" orientation="landscape" file="US07298568-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="226.14mm" wi="152.57mm" orientation="landscape" file="US07298568-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="231.90mm" wi="135.89mm" orientation="landscape" file="US07298568-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="234.44mm" wi="137.84mm" orientation="landscape" file="US07298568-20071120-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="229.28mm" wi="136.23mm" orientation="landscape" file="US07298568-20071120-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="216.75mm" wi="125.73mm" file="US07298568-20071120-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="181.86mm" wi="168.99mm" file="US07298568-20071120-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="229.70mm" wi="153.92mm" file="US07298568-20071120-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="227.75mm" wi="143.68mm" file="US07298568-20071120-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="226.40mm" wi="174.75mm" file="US07298568-20071120-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00027" num="00027">
<img id="EMI-D00027" he="226.14mm" wi="149.10mm" file="US07298568-20071120-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CLAIM OF PRIORITY</heading>
<p id="p-0002" num="0001">This application claims priority from the following application, which is hereby incorporated by reference in its entirety:</p>
<p id="p-0003" num="0002">U.S. patent application Ser. No. 10/923,662, entitled SYSTEMS AND METHODS FOR REPAIRABLE SERVO BURST PATTERNS by Richard M. Ehrlich, filed Aug. 20, 2004.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0004" num="0003">The present invention relates to servowriting processes and devices.</p>
<p id="p-0005" num="0004">A general purpose of an embodiment of the present invention includes providing a method to support repairable servowriting comprising calculating a first set of WORF and/or PES information for one or more servo tracks on a surface of a rotating medium, comparing the first set of WORF and/or PES information for the one or more servo tracks with a pre-determnined threshold, repairing a servo burst and/or a boundary of the servo burst on the one or more servo tracks via a read and/or write element of a read/write head if the WORF and/or PES information exceeds the threshold, calculating a second set of WORF and/or PES information for the one or more servo tracks; and storing the second set of WORF and/or PES information for retrieval during self-servowriting.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0006" num="0005">Advances in data storage technology have provided for ever-increasing storage capability in devices such as DVD-ROMs, optical drives, and disk drives. In hard disk drives, for example, the width of a written data track has decreased due in part to advances in read/write head technology, as well as in reading, writing, and positioning technologies. The narrowing of data tracks results in higher density drives, which is good for the consumer but creates new challenges for drive manufacturers. As the density of data increases, the tolerance for error in the position of a drive component such as a read/write head decreases. As the position of such a head relative to a data track becomes more important, so too does the placement of information, such as servo data, that is used to determine the position of a head relative to a data track.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram showing components of a disk drive that can be used in accordance with embodiments of the present invention.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram showing an example of a data and servo format for a disk in the drive of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram showing servo information that can be written to the tracks shown in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIGS. 4(</figref><i>a</i>)-(<i>f</i>) are diagrams of a servo-burst pattern being written over a progression of servowriting steps.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIGS. 5 and 6</figref> are diagrams of a servo-burst pattern being written over a progression of servowriting steps, wherein there is a head misplacement on the second servowriting step.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 7</figref> is a diagram of a burst pattern with one misplaced burst boundary.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 8</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 7</figref> with an erased burst.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 9</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 8</figref> after re-writing the erased burst.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 10</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 9</figref> after erasing the other burst making up the misplaced boundary.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 11</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 10</figref> after re-writing the erased burst and trimming the first rewritten burst.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 12</figref> is a diagram of another burst pattern that can be used in accordance with embodiments of the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 13</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 12</figref> having one misplaced burst boundary.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 14</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 13</figref> with having one of the bursts associated with the misplaced burst boundary erased.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 15</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 14</figref> after re-writing the erased burst.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 16</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 15</figref> with the other burst associated with the misplaced burst boundary erased.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 17</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 16</figref> after re-writing the erased burst and trimming the first rewritten burst.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 18</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 17</figref> after trimming the remaining untrimmed burst boundary.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 19</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 12</figref> having a different misplacement of a burst boundary.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 20</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 19</figref> with having one of the bursts associated with the misplaced burst boundary erased.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 21</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 20</figref> after re-writing the erased burst and trimming another burst associated with the misplaced burst boundary.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 22</figref> is a diagram of the burst pattern of <figref idref="DRAWINGS">FIG. 21</figref> after trimming the other burst boundary associated with the misplaced burst boundary.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 23</figref> is a diagram of a servo-burst pattern of <figref idref="DRAWINGS">FIG. 6</figref> being written over a progression of servowriting steps using multiple passes.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 24</figref> is a plot of the additional revolutions per servowrite step against the batch size used for servowriting.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 25</figref> is a flowchart showing a method that can be used with the system of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 26</figref> is a flowchart showing another method that can be used with the system of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 27</figref> is a flowchart showing another method that can be used with the system of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 28</figref> is a flowchart showing another method that can be used with the system of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0034" num="0033">Systems and methods in accordance with embodiments of the present invention can be used when servowriting, or self-servowriting, a rotatable storage medium in a data storage device, such as a hard disk drive. For example, a typical disk drive <b>100</b>, as shown in <figref idref="DRAWINGS">FIG. 1</figref>, includes at least one magnetic disk <b>102</b> capable of storing information on at least one of the surfaces of the disk. A closed-loop servo system can be used to move an actuator arm <b>106</b> and data head <b>104</b> over the surface of the disk, such that information can be written to, and read from, the surface of the disk. The closed-loop servo system can contain, for example, a voice coil motor driver <b>108</b> to drive current through a voice coil motor (not shown) in order to drive the actuator arm, a spindle motor driver <b>112</b> to drive current through a spindle motor (not shown) in order to rotate the disk(s), a microprocessor <b>120</b> to control the motors, and a disk controller <b>118</b> to transfer information between the microprocessor, buffer, read channel, and a host <b>122</b>. A host can be any device, apparatus, or system capable of utilizing the data storage device, such as a personal computer or Web server or consumer electronics device. The drive can contain at least one processor, or microprocessor <b>120</b>, that can process information for the disk controller <b>118</b>, read/write channel <b>114</b>, VCM driver <b>108</b>, or spindle driver <b>112</b>. The microprocessor can also include a servo controller, which can exist as an algorithm resident in the microprocessor <b>120</b>. The disk controller <b>118</b>, which can store information in buffer memory <b>110</b> resident in the drive, can also provide user data to a read/write channel <b>114</b>, which can send data signals to a current amplifier or preamp <b>116</b> to be written to the disk(s) <b>102</b>, and can send servo and/or user data signals back to the disk controller <b>118</b>.</p>
<p id="p-0035" num="0034">The information stored on such a disk can be written in concentric tracks, extending from near the inner diameter of the disk to near the outer diameter of the disk <b>200</b>, as shown in the example disk of <figref idref="DRAWINGS">FIG. 2</figref>. In an embedded servo-type system, servo information can be written in servo wedges <b>202</b>, and can be recorded on tracks <b>204</b> that can also contain data. In a system where the actuator arm rotates about a pivot point such as a bearing, the servo wedges may not extend linearly from the inner diameter (ID) of the disk to the outer diameter (OD), but may be curved slightly in order to adjust for the trajectory of the head as it sweeps across the disk.</p>
<p id="p-0036" num="0035">The servo information often includes positioning bursts referred to herein as ‚Äúservo bursts.‚Äù The servo information can be positioned regularly about each track, such that when a data head or read element reads the servo information, a relative position of the head can be determined that can be used by a servo processor to adjust the position of the head relative to the track. For each servo wedge, this relative position can be determined in one example as a function of the target location, a track number read from the servo wedge, and the amplitudes or phases of the bursts, or a subset of those bursts. The measure of the position of a head or element, such as a read/write head or element, relative to a target track, will be referred to herein as a position-error signal (PES). For example, a centerline <b>300</b> for a given data track can be ‚Äúdefined‚Äù by a series of burst edges or burst boundaries, such as a burst boundary defined by the lower edge of A-burst <b>302</b> and the upper edge of B-burst <b>304</b> in <figref idref="DRAWINGS">FIG. 3</figref>. For example, if a read head evenly straddles the A-burst and the B-burst, then servo demodulation circuitry in communication with the head can produce equal amplitude measurements for the two bursts, as the portion of the signal coming from the A-burst above the centerline is approximately equal in amplitude to the portion coming from the B-burst below the centerline. The resulting computed PES can be zero if the track defined by the A-burst/B-burst (A/B) boundary is the center of a data track, or a track centerline. If the head is too far towards the outer diameter of the disk, or above the centerline in the figure, then there will be a greater contribution from the A-burst that results in a non-zero PES value, such as a ‚Äúnegative‚Äù PES. Using the negative PES, the servo controller could direct the voice coil motor to move the head toward the inner diameter of the disk and closer to its desired position relative to the centerline. This can be done for each set of burst edges defining the shape of that track about the disk.</p>
<p id="p-0037" num="0036">The PES scheme described above is one of many possible schemes for combining the track number read from a servo wedge and the phases or amplitudes of the servo bursts. Many other schemes are possible that can benefit from embodiments in accordance with the present invention.</p>
<p id="p-0038" num="0037">A problem that exists in the reading and writing of servo patterns involves the misplacement, or offset, of a read/write head with respect to the ideal and/or actual position of a track. It is impossible to perfectly position a head with respect to a track for each rotation of a disk, as there is almost always a noticeable offset between the desired position and the actual position of the head with respect to the disk. This can cause problems when writing servo patterns, as each portion of the pattern can be slightly misplaced. This can lead to what is referred to as ‚Äúwritten-in runout.‚Äù Written-in runout can be thought of as the offset between the actual centerline, or desired radial center, of a track and the centerline that would be determined by a head reading the written servo pattern. Written-in runout can lead to servo performance problems, wasted space on a disk and, in a worst case, unrecoverable or irreparably damaged data.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIGS. 4(</figref><i>a</i>)-<b>4</b>(<i>f</i>) depict the progression of several servowriting steps of an exemplary servowriting process. The pattern shown in these figures is commonly referred to in the industry as a 3-pass-per-track, trimmed-burst pattern, for reasons described below. Using the nomenclature of this document, one could refer to the pattern as a ‚Äú3-servowriting-step-per-track, trimmed-burst‚Äù pattern. Each figure depicts a small portion of the surface of a disk. This portion can contain several servo tracks, extending radially on the disk and vertically in the figures, and can cover the space of a single servo wedge, circumferentially on the disk and horizontally in the figures. A typical drive can have tens of thousands of servo tracks, and over one hundred wedges per revolution. In the figures, the black areas indicate portions of the surface of the disk that have been magnetized in one direction. White areas have been magnetized in another direction, typically in a direction opposite to that of the black areas. For a drive that uses longitudinal recording, the two directions can be in the positive and negative circumferential directions. For a drive that uses vertical recording technology (also sometimes referred to in the industry as ‚Äúperpendicular recording‚Äù), the two directions can be perpendicular to the recording surface, such as would be ‚Äúin‚Äù and ‚Äúout‚Äù of the page for the illustrations of <figref idref="DRAWINGS">FIGS. 4(</figref><i>a</i>)-(<i>f</i>). These simplified figures do not show effects of side writing of the write element, which can produce non-longitudinal magnetization and erase bands. Such effects are not of primary importance to the discussion herein.</p>
<p id="p-0040" num="0039">In <figref idref="DRAWINGS">FIG. 4(</figref><i>a</i>), the result of a single servowriting step is shown. From that step, the servowriting head (passing from left to right in the figure) has written an exemplary servo pattern containing a preamble, followed by a servo-address mark (SAM), followed by an INDEX-bit, and then a track number, as is known in the art. Other information can be written to the servo pattern in addition to, or in place of, the information shown in <figref idref="DRAWINGS">FIG. 4(</figref><i>a</i>). An INDEX-bit, for example, is one piece of information that can be used to give the servo an indication of which wedge is wedge-number zero, useful for determining circumferential position. The track number, which can be a graycoded track-number, can later be used by the servo to determine the coarse radial position of the read/write (R/W) head. Following the track number, the head writes one of four servo bursts, in this case what will be referred to as a C-burst, which can later be used by a servo to determine the fine (fractional track) radial position of a R/W head. The number of servo bursts used can vary with servo pattern. The burst that is written can be, for example, the one that is in-line with the digital information. The width of the written track can be determined by the magnetic write-width of the write element of the servowriting head.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 4(</figref><i>b</i>) shows the result of a second servowriting step of the servowriting head. All that has been added in the second step is an additional burst, in this case referred to as an A-burst. The A-burst is displaced longitudinally from both the digital information and the C-burst, to prevent any overlap in the longitudinal direction. The A-burst is also displaced by approximately one-half of a servo-track in the radial direction.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 4(</figref><i>c</i>) shows the magnetization pattern after three servowriting steps of the servowriting head. The new portion of the pattern has been written with the servowriting head displaced another half servo track radially, for a total displacement of one servo-track, or two-thirds of a data-track, from the position of the head during the first servowriting step. New digital information has been written, including the same preamble, SAM, and INDEX-bit, as well as a new track number. A D-burst was added during the third servowriting step, and the C-burst was ‚Äútrimmed.‚Äù The C-burst was trimmed by ‚Äúerasing‚Äù the portion of the C-burst under the servowriting head as the head passed over the burst on the third servowriting step. As long as the servowriting head is at least two-thirds of a data-track in radial extent, the digital information will extend across the entire radial extent of the servowritten pattern. This trimming of the C-burst and writing of the D-burst created a common edge position or ‚Äúboundary‚Äù between the two bursts.</p>
<p id="p-0043" num="0042">In <figref idref="DRAWINGS">FIG. 4(</figref><i>d</i>), a B-burst has been added and the A-burst trimmed in the fourth servowriting step of the servowriter. At a point in time after the servowriting is complete, such as during normal operation of the disk drive, the upper edge of the B-burst and the lower edge of the A-burst can be used by the servo, along with the graycoded track-number whose radial center is aligned with the burst edges, to determine the R/W head position when it is in the vicinity of the center of that servo track. If a reader evenly straddles the A-burst and the B-burst, the amplitude of the signals from the two bursts will be approximately equal and the fractional Position-Error Signal (PES) derived from those bursts will be about 0. If the reader is off-center, the PES will be non-zero, indicating that the amplitude read from the A-burst is either greater than or less than the amplitude read from the B-burst, as indicated by the polarity of the PES signal. The position of the head can then be adjusted accordingly. For instance, a negative PES might indicate that the amplitude read from the A-burst is greater than the amplitude read from the B-burst. In this case, the head is too far above the center position (using the portion of the pattern in the figure) and should be moved radially downward/inward until the PES signal is approximately 0. It should be noted that for other portions of the pattern a B-burst could be above an A-burst, resulting in a smaller amplitude contribution coming from the A-burst when the head in too near the outer diameter of the disk.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIGS. 4(</figref><i>e</i>) and <b>4</b>(<i>f</i>) show the results of subsequent steps of the servowriting process, which has produced a number of servo tracks. After the first step in this process, each subsequent step writes one servo burst in a wedge and trims another. Every second step also writes digital information, including the SAM and track number. Between servowriting steps, the servowriting head is stepped by one-half servo track radially, either toward the inner diameter (ID) or outer diameter (OD) of the disk, depending on the radial direction used to write the servo information. A seek typically takes anywhere from one quarter to one half of the time it takes for the disk to make one revolution. The process of writing the servo pattern for each step typically takes one or two full revolutions to write all of the wedges in that pass. It is possible that completing the burst writing and trimming for a single servowriting step can take more than two revolutions, but a maximum of two revolutions (one to write the new burst, and another to trim a previously-written burst) will be considered for the discussion below.</p>
<p id="p-0045" num="0044">Using such an algorithm, servowriting can take about 1.25-2.5 revolutions per servowriting step. Since there are two servowriting steps per servo-track in this example, and 1.5 servo tracks per data-track, such a process requires 3 servowriting steps per data-track, or 3.75-7.5 revolutions per data-track. For purposes of subsequent discussion only, it will be assumed that the process takes 4 revolutions per data-track (a relatively low bound).</p>
<p id="p-0046" num="0045">A disk drive can have tens of thousands of data tracks. With 100,000 data-tracks and a spin-speed of 5400 RPM (90 Hz), for example, the process would take 4,444 seconds, or about 75 minutes. If the process is carried out on an expensive servowriter, this can add substantially to the cost of the drive. Thus, drive manufacturers are motivated to use self-servowriting techniques to reduce or eliminate the time that a drive must spend on a servowriter.</p>
<p id="p-0047" num="0046">One such technique uses a media-writer to write servo patterns on a stack of disks. Each disk is then placed in a separate drive containing multiple blank disks, such that the drive can use the patterned disk as a reference to re-write servo patterns on all of the other disk surfaces in the drive. The media-writer can be an expensive instrument, and it may still take a very long time to write a reference pattern on the stack of disks. However, if a stack contains 10 blank disks, for example, then the media-writer can write the reference pattern for 10 drives in the time that it would have taken to servowrite a single drive. This scheme is a member of a class of self-servowriting techniques commonly known as ‚Äúreplication‚Äù self-servowriting.</p>
<p id="p-0048" num="0047">A typical replication process, in which a drive servos on the reference pattern and writes final servo patterns on all surfaces, can take place while the drive is in a relatively inexpensive test-rack, connected to only a power-supply. The extra time that it takes is therefore usually acceptable.</p>
<p id="p-0049" num="0048">Another class of self-servowriting techniques is known as ‚Äúpropagation‚Äù self-servowriting. Schemes in this class differ from those in the ‚Äúreplication‚Äù class in the fact that the wedges written by the drive at one point in the process are later used as reference wedges for other tracks. These schemes are thus ‚Äúself-propagating‚Äù. Typically, such schemes require a R/W head that has a large radial offset between the read and write elements, so that the drive can servo with the read element over previously-written servo wedges while the write element is writing new servo wedges. In one such application, a servowriter is used for a short time to write a small ‚Äúguide‚Äù pattern on a disk that is already assembled in a drive. The drive then propagates the pattern across the disk. In this type of self-servowriting operation, previously written tracks can later serve as reference tracks.</p>
<p id="p-0050" num="0049">Many self-servowriting techniques require considerably more than four disk revolutions per data-track written, as the drive must spend considerable time before each servowriting step determining the written-in runout of the corresponding reference track, so that the servowriting head can be prevented from following that runout while writing the final servo pattern. Techniques exist which allow tracks of servo information to be made substantially circular, despite the fact that the reference information is not perfectly circular. The information used to remove written-in runout from the track can be calculated in one approach by examining a number of parameters over a number of revolutions. These parameters can include wedge offset reduction field (WORF) data values calculated by examining the measured PES over a number of revolutions of a track, as well as the servo loop characteristics. A measurement can be made to characterize servo loop characteristics, which can be combined with the observed PES in order to determine the written-in runout of the reference track. Because the servo typically suffers both synchronous and non-synchronous runout (sometimes referred to in the industry as ‚Äúrepeatable‚Äù runout (RRO) and ‚Äúnon-repeatable‚Äù runout (NRRO), respectively), any measurement intended to determine the synchronous runout can be affected by the non-synchronous runout. If many revolutions of PES data are observed and combined (one possible approach to combine is to synchronously average the PES data, another possible approach is outlined in U.S. Pat. Nos. 6,069,764, 6,437,936, 6,563,663 and 6,449,116), the effects of the non-synchronous runout can lessen, leaving substantially only synchronous runout. Observing many revolutions of PES data, however, can add significantly to the time required for determination of the written-in runout. Process engineers may need to balance the cost and benefit of additional revolutions of PES data collection in determination of WORF values.</p>
<p id="p-0051" num="0050">The computed written-in runout values for each servo wedge can be written into the servo wedges themselves for later use by the servo, or can be kept in drive microcontroller memory for immediate use. During a self-servowriting operation, the drive may use the latter option by measuring the written-in runout on a reference track and applying it to the servo by the use of a table in microcontroller memory. Additional revolutions of PES measurements for the reference track can be used to reduce the effects of non-synchronous runout.</p>
<p id="p-0052" num="0051">Techniques for determining and removing written-in runout of a track will hereinafter be referred to as WORF (Wedge Offset Reduction Field) technology. If, for example, a drive spends 5 revolutions to determine the written-in runout of each reference track before writing the corresponding final wedges, that would add 15 revolutions to the writing time of each data-track (5 extra revolutions per servowriting step, times 3 servowriting steps per data-track), bringing the total time per data-track to 19 revolutions.</p>
<p id="p-0053" num="0052">Even though the self-servowriting time may be as much as about five times as long as the time necessary to servowrite a drive on a servowriter (19 revolutions/data-track, versus 4 revolutions/data-track), self-servowriting is likely to be a less expensive alternative due to the expense of servowriters, as well as the fact that servowriting operations on a servowriter generally must be performed in a clean-room environment. Also, as track-densities get higher it becomes more difficult for an external device such as an actuator push-pin to control the position of the R/W heads accurately enough to produce a servo pattern with sufficiently small written-in runout. The expense of servowriting also rises in proportion to the number of tracks on a drive.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIGS. 4(</figref><i>a</i>)-(<i>f</i>), described above, show an idealized servowriting process in which the radial placement of the writer is virtually perfect during servowriting. In reality, the writer placement will not be perfect, even if the written-in runout of the reference pattern is completely removed, due to non-synchronous positioning errors. There can be several sources of non-synchronous runout. If the servowriting head suffers non-synchronous runout while writing servo wedges, that runout will be written into those wedges.</p>
<p id="p-0055" num="0054">Such a result is illustrated in <figref idref="DRAWINGS">FIGS. 5 and 6</figref>. For the sake of simplicity, only A and B bursts are shown, leaving out the digital information and other bursts. In <figref idref="DRAWINGS">FIG. 5</figref>, the servowriter head <b>402</b> in a first servowriting step <b>400</b> writes an A-burst. In <figref idref="DRAWINGS">FIG. 6</figref>, the head <b>508</b> in a second servowriting step is offset, or mis-placed, a distance from its ideal position. For example, the ideal placement <b>502</b> of the top edge of the writer, and therefore the ideal placement of the servo track centerline, is shown a distance from the actual placement <b>504</b> of the top edge of the writer <b>508</b>. This separation is the written-in runout <b>506</b>.</p>
<p id="h-0006" num="0000">Repairable Burst Patterns</p>
<p id="p-0056" num="0055">During a process such as self-servowriting, a drive can sufficiently remove synchronous runout on the reference tracks before each servo-wedge writing pass, in order to allow for the writing of a set of wedges that are as circular as possible. A self-servowriting process can be done by writing tracks in ‚Äúbatches.‚Äù The size of a batch of tracks can be chosen to be as large as possible, while allowing all of the WORF values used during the process to be stored in drive buffer DRAM. Once the buffer limit has been reached, or sufficiently filled, the drive can begin to servo on the just-written servo pattern, and can spend one or more revolutions at each critical location. If any burst or burst boundary is found to be misplaced by more than an acceptable threshold amount, for example, then that burst or burst boundary can be re-written. An acceptable threshold value can be based upon any appropriate threshold distance, such as a percentage or fraction of a track width, or track pitch, away from the intended or desired location.</p>
<p id="p-0057" num="0056">During a burst re-writing process, the appropriate WORF values can be used by the servo to avoid spending many revolutions re-measuring the data. Alternatively, those WORF values can be used along with additional position data to better determine the RRO of the reference pattern. More than one burst can also be re-written in a single servowriting step.</p>
<p id="p-0058" num="0057">Problems can occur when attempting to correct burst placement. For example, a three-pass per track, trimmed servo pattern <b>600</b> is shown in <figref idref="DRAWINGS">FIG. 7</figref>. In the pattern, a B-burst <b>604</b> has been written with a misplacement that can be determined to be unacceptable, or at least unfavorable. In the Figure, it can also be seen that there is a corresponding misplacement of an edge of the A-burst <b>602</b> that was trimmed on the same pass of the head in which B-burst <b>604</b> was written. The bottom edge in the Figure of A-burst <b>602</b> forms a boundary with the upper edge of B-burst <b>604</b>, but the boundary is misplaced relative to the desired position of track line <b>606</b>. If separate passes are used to trim the A-burst and write the B-burst, it is possible that only one or both of the burst edges will be misplaced. If both bursts are misplaced, the edges can be misplaced in the same or opposite directions, and can be misplaced by differing amounts. Servowriting processes suffering from any of these problems can benefit by utilizing systems in accordance with various embodiments of the present invention.</p>
<p id="p-0059" num="0058">One way to correct the placement of the A-burst <b>602</b> and the corresponding B-burst <b>604</b> is to erase each burst on a separate pass of a write element over the servo pattern <b>600</b>. For example, <figref idref="DRAWINGS">FIG. 8</figref> shows the radial position of a write element <b>608</b> for a servowriting step in which the A-burst <b>602</b> is erased. <figref idref="DRAWINGS">FIG. 9</figref> shows a new A-burst <b>610</b> written in place of the old A-burst <b>602</b> on a subsequent servowriting step of the write element <b>608</b>. On the next servowriting step of the write element, the B-burst <b>604</b> can be erased as shown in <figref idref="DRAWINGS">FIG. 10</figref>. A new B-burst <b>612</b> can then be written on a subsequent servowriting step of the write element, as shown in <figref idref="DRAWINGS">FIG. 11</figref>. The A-burst <b>610</b> that was recently re-written can also be trimmed during that servowriting step, either in the same pass that wrote the B-burst <b>612</b> or in a separate pass. It can be seen, however, that the trimming of the new A-burst <b>610</b> has caused A-burst <b>614</b> to be partially erased, such that the upper edge of A-burst <b>614</b> is no longer in approximately the correct location. Also, if B-burst <b>612</b> is trimmed on a subsequent pass, a similar partial erasing will occur to B-burst <b>616</b>.</p>
<p id="p-0060" num="0059">If such a process is used to re-write bursts, it can also be necessary to re-write each A-burst and B-burst positioned ‚Äúbelow‚Äù A-burst <b>610</b> and B-burst <b>612</b>, which can extend to the end of a data zone or until about the inner diameter of the disk. This can require two or more extra servowriting steps per track, one for each rewritten burst (and possibly more if separate passes are used to erase and rewrite each burst), which may be unacceptable in certain circumstances. Alternatively, a track using the boundary of A-burst <b>614</b> and B-burst <b>612</b> could be sacrificed and designated to not be used on the disk. This can prevent the use of extra servowriting time to re-write all the misplaced bursts, but can significantly reduce the storage capacity of the medium if each track having a misplaced burst has an associated unusable track. In fact, this strategy can result in less drive capacity than if the track containing the originally bad burst (or burst-boundary) is simply abandoned.</p>
<p id="h-0007" num="0000">Batch Writing</p>
<p id="p-0061" num="0060">Systems and methods in accordance with one embodiment address the ‚Äúshingle‚Äù problem of having to re-write everything ‚Äúbelow‚Äù a re-written burst by writing tracks in batches. In writing a batch, a portion of the stroke, such as on the order of ten or twenty tracks, can be written at a time. After a batch of tracks is written, the drive system can examine the tracks in the recently written batch. If any of the tracks in that batch are unacceptable, the drive system can go to the first unacceptable track and rewrite from that track to the end of the batch.</p>
<p id="p-0062" num="0061">In such an approach, the ‚Äúshingles‚Äù problem can still exist, but will only exist for the tracks ‚Äúbelow‚Äù the first unacceptable track in the recently written batch. This can be acceptable, depending upon the number of tracks included in the batch. For instance, if the batch size is too large, a small number of misplaced tracks can result in large numbers of otherwise acceptable tracks being re-written, which can adversely impact the time-efficiency of the scheme. If the batch size is too small, the time overhead needed to switch between reference and final wedge sets can become significant. Further, selecting a small batch size can increase the likelihood that newly written tracks are not sufficiently radially aligned with previously written tracks, as the servowriting process has to be interrupted each time some of the just-written final wedges are examined and possibly re-written. The misalignment can result in the radial spacing between the last track of one batch and the first track of the next batch not being be the same as is the radial spacing for tracks within a batch. This problem is likely to be more prevalent for heads other than the reference-head, due to variations in the tilt of the actuator. If, on average, 10% of the tracks need to be rewritten, and there are ten tracks in a batch, on average there is approximately a 65% chance of needing to rewrite at least some tracks in the batch. The expected number of tracks needing to be re-written for a batch can be about four tracks. If the re-writing process is structured to be the same as the original servowriting process, without taking advantage of any of the information obtained during the original process, this can result in an overhead of approximately 40%. In some systems the overhead can be significantly less than 40%, as the WORF values can be reused such that the tracks do not have to be re-examined for WORF purposes.</p>
<p id="p-0063" num="0062">With an uncorrelated 10% chance of each track being unacceptable, each track can have about a 90% chance of being acceptable. The probability that all 10 tracks are acceptable would then be 0.9<sup>10</sup>, or about 0.3487. The probability that at least one track is unacceptable is 1-0.3487, or 0.6513. The expected number of tracks to be re-written is then given by 0.1*10+0.9*(0.1*9+0.9*( . . . +0.9*0.1*1) . . . )), which yields a value of approximately 4.1381. In the formula, the first 0.1 represents the 10% chance that the first track is bad, requiring the rewriting of 10 tracks. The next term represents the 90% chance that the first track is acceptable, multiplied by the 10% chance that the second track is unacceptable, requiring the rewriting of 9 tracks, and so on.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 24</figref> shows an exemplary plot to determine the optimal number of tracks to be included in a batch based on the calculation above. In <figref idref="DRAWINGS">FIG. 24</figref>, the added number of revolutions per servowrite step is plotted as a function of batch size. It can be seen that the minimum number of added revolutions occurs at around 11 tracks. The curve is plotted for a system that requires only one step to switch from writing to reading, and one step from reading to writing. It can be seen that at least about 3/10 of a revolution extra is necessary per servowrite step.</p>
<p id="p-0065" num="0064">Although the minimum number of added revolutions per data track is for an 11 track band, a choice to use a larger batch size such as 50 might be made, which would add about two revolutions per data track, resulting in a 10% increase to the approximately 22 revolutions per data track that a typical self-servowrite process might utilize. The situation under which a larger batch size is preferred over the minimum (optimal) one may arise when a multi-head drive is utilized to operate on a disk stack. Under the one-head-single-disk scenario, it is possible for the head to take on one or more other tasks after finishing the current batch of servowriting, complete those tasks and start a new batch of servowriting by re-positioning the head to the precise location left off by the previous batch without causing any discontinuities in the servo patterns. Under the multi-head-disk-stack scenario wherein a reference head is used to position all the other heads, however, discontinuities in the servo patterns might occur. This is due to the fact that although the reference head may still be precisely positioned, other heads might be offset from where they intended to be and no longer aligned with the reference head due to factors such as tilting and thermal effects during the back-and-forth movements of the actuators. Since correcting such mis-alignments among multiple heads may take non-trivial effort, it is therefore desirable to choose a large batch size sometimes in order to reduce the occurrence of discontinuities in the servo patterns.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 26</figref> shows a process that can be used for batch writing in accordance with one embodiment. In such a process, a determination can be made regarding the number of servo tracks to be written in a batch at step <b>1000</b>. A read/write head can then write a batch of servo tracks to the surface of a rotatable medium, such as a magnetic hard disk at step <b>1002</b>. After the batch is written, the read/write head can be switched to read mode and the position of each relevant edge of a servo burst in the batch can be examined at step <b>1004</b>. The system can determine whether any burst edges are misplaced to such a degree that any bursts should be rewritten, as well as any bursts in the batch affected by the rewriting at step <b>1006</b>.</p>
<p id="p-0067" num="0066">Once a determination is made whether bursts need to be re-written, the read/write head can move to the first track (in order of writing) having a burst to be re-written. Servo bursts on the first servo track can then be re-written at step <b>1012</b>. All the servo bursts on the track can be re-written, some of the bursts can be re-written, or only misplaced bursts can be re-written, depending upon the implementation. In some embodiments, it may be desirable to only re-write the misplaced bursts. Each servo track in the batch that was affected by the re-writing can then be re-written at step <b>1014</b>, moving in the direction of the original writing process so as to minimize the number of tracks to be re-written. For example, if writing occurs in a direction from ID to OD, then re-writing can be done in the same direction such that no tracks outside the batch will need to be re-written.</p>
<p id="p-0068" num="0067">Once the affected tracks in a batch are re-written, the system can determine whether there are any more batches to be written at step <b>1008</b>, and if so can move on to the next batch. If no batches remain to be written, the writing process can be complete at step <b>1010</b>. Alternatively, the system can make another evaluation of the position of the servo information in the batch containing recently re-written servo information. If the re-writing of the tracks produce burst edges that are misplaced, tracks in the batch can again be re-written. The re-writing of tracks in a batch can continue until all the bursts are located within an acceptable distance of their desired locations, or can occur for a maximum number of retry attempts. If a maximum number of retries is met for a batch, the system can simply decide to account for the misplacement of the burst(s), ignore the portion of the track corresponding to the wedge(s) with the misplaced burst(s), or can ignore the track(s) containing the misplaced burst(s).</p>
<p id="h-0008" num="0000">Additional Servo Bursts</p>
<p id="p-0069" num="0068">Another approach to repairing a misplaced servo burst, or pair of servo bursts, utilizes a pattern containing extra servo bursts to provide enough radial spacing or separation between bursts to allow the re-writing of a burst without the damaging of an adjacent burst (i.e., bursts aligned radially on adjacent tracks). In <figref idref="DRAWINGS">FIG. 12</figref>, for example, the servo pattern <b>700</b> contains two additional bursts, an E-burst <b>704</b> and an F-burst <b>706</b>. The use of these additional bursts provides about two full servo tracks of radial separation between adjacent bursts, such as between B-burst <b>702</b> and B-burst <b>708</b>. As the width of a write element in certain systems is nominally less than 1.5 servo tracks in width, this allows for some misplacement of the write element when erasing and/or re-writing a burst. If only one extra burst were to be added to the pattern, any misplacement of the write element when erasing or re-writing could add that misplacement to an adjacent burst.</p>
<p id="p-0070" num="0069">For example, <figref idref="DRAWINGS">FIG. 13</figref> shows the pattern of <figref idref="DRAWINGS">FIG. 12</figref> with the upper edge of B-burst <b>702</b> and the lower edge of A-burst <b>710</b> misplaced, due to the head being misplaced on the servowriting step in which A-burst <b>710</b> was trimmed and B-burst <b>702</b> was written as shown by the dashed-line. <figref idref="DRAWINGS">FIG. 14</figref> shows a subsequent pass of write element <b>712</b> in which A-burst <b>710</b> is erased. <figref idref="DRAWINGS">FIG. 15</figref> shows a re-written A-burst <b>714</b>. It can be seen that when write element <b>712</b> is in position to trim burst <b>714</b>, there will be sufficient radial distance between write element <b>712</b> and A-burst <b>716</b> such that A-burst <b>716</b> should not have to be re-written. <figref idref="DRAWINGS">FIGS. 16</figref>, <b>17</b>, and <b>18</b> show the erasing of B-burst <b>702</b>, the writing of new B-burst <b>718</b>, and the trimming of B-burst <b>718</b>, respectively, on subsequent passes of the write element <b>712</b>. This approach also avoids re-writing B-burst <b>708</b>. This approach can be desirable, as it will not be necessary to erase and re-write multiple A-bursts and B-bursts. It also will not be necessary to sacrifice a track of data. This advantage can come at a price, however, as it may be necessary to extend the servo pattern in the circumferential dimension to add the additional bursts. This can somewhat lessen the storage capacity of the medium. A balance can be made between the benefits of an increase in drive yield and reduction in re-servowriting time overhead, and the corresponding expense of a slightly higher servo format overhead.</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 19</figref> shows a similar pattern to that of <figref idref="DRAWINGS">FIG. 13</figref>, except that in this case a boundary, namely the boundary defined by A-burst <b>802</b> and B-burst <b>804</b>, is ‚Äúbelow‚Äù intended track line <b>806</b>. Assuming a downward direction of misplacement and propagation, it is not necessary to erase and re-write A-burst <b>802</b>, as the A-burst can simply be ‚Äúre-trimmed‚Äù on a subsequent pass, and it may be optional and not necessary to erase B-burst <b>804</b> before re-writing it given that the read/write head is capable of fully covering <b>804</b> during the re-writing. The erasing of <b>804</b> is still necessary, however, under a upward direction of misplacement with downward propagation. <figref idref="DRAWINGS">FIG. 20</figref> shows B-burst <b>804</b> being erased on a subsequent pass. <figref idref="DRAWINGS">FIG. 21</figref> then shows A-burst <b>802</b> being trimmed and new B-burst <b>808</b> being written on a subsequent pass (or on two separate passes as discussed later). Finally, <figref idref="DRAWINGS">FIG. 22</figref> shows new B-burst <b>808</b> being trimmed.</p>
<p id="p-0072" num="0071">One process that can be used with such a pattern is shown in <figref idref="DRAWINGS">FIG. 25</figref>. In such a process, a servo burst pattern with sufficient radial spacing between bursts can be written to a surface of a rotatable medium at step <b>900</b>. The written pattern can be examined for burst positioning errors at step <b>902</b>. Burst patterns can be examined on a track-by-track basis while writing, on a batch-by-batch basis after writing a specified number of tracks, or after the entire pattern has been written. Due to the time necessary to switch between write and read operations, it may be desirable to wait until the entire pattern has been written before examining the pattern in order to reduce the required amount of expensive servowrite time.</p>
<p id="p-0073" num="0072">A determination can be made whether a servo burst in the pattern has a relevant edge that is misplaced beyond an acceptable variation amount at step <b>904</b>. If no burst edges are unacceptably misplaced, the process can be complete at step <b>906</b>. If there is a servo burst with an unacceptably misplaced edge, that burst can be erased (optional under downward misplacement direction and necessary under upward misplacement direction) on a first pass of the write element over the servo track containing that burst at step <b>908</b>. On a subsequent pass of the write element over that servo track, a new servo burst can be written in the position that was intended for the misplaced burst that was recently erased at step <b>910</b>. On a subsequent pass, with an appropriate radial shift of the write element, the newly written servo burst can be trimmed at step <b>912</b>. The radial spacing of the pattern allows the servo burst to be trimmed without damaging any adjacent servo bursts.</p>
<p id="h-0009" num="0000">Separate Trim and Write Systems</p>
<p id="p-0074" num="0073">Separate passes can be used to trim and to write in certain servowriting, or self-servowriting, operations. For example, <figref idref="DRAWINGS">FIG. 23</figref> shows what can occur when an A-burst is trimmed on a separate pass of the write element <b>508</b> than the pass in which the B-burst is written. The head <b>508</b> writes an A-burst in the first servowriting step. In a first pass of the second servowriting step, the head <b>508</b> writes a B-burst and is displaced a first distance <b>506</b> when writing the B-burst. Unlike in <figref idref="DRAWINGS">FIG. 6</figref> though, the A-burst is not trimmed on this pass. In a second pass of the second servowriting step, the head is displaced a different distance <b>510</b> from the expected position when trimming the A-burst, leaving a smaller written-in runout <b>512</b> than would have occurred had the A-burst been trimmed and the B-burst written in a single pass of the second servowriting step (which would have been approximately equal to the misplacement <b>506</b> on that pass) as shown in <figref idref="DRAWINGS">FIG. 6</figref>. The A-burst also could have been trimmed before writing the B-burst.</p>
<p id="p-0075" num="0074">Using separate passes allows for only one of the two bursts to have a misplaced edge if the write element is misplaced during a pass. For example, if the head is misplaced while writing the B-burst, the A-burst will not need to be re-written as it was trimmed on a pass in which the write element was not unacceptably misplaced. Using a pattern such as that shown in <figref idref="DRAWINGS">FIG. 13</figref>, the misplacement of B-burst <b>702</b> would not have necessarily resulted in a misplaced trimming of A-burst <b>710</b> if the writing and trimming were done on separate passes. B-burst <b>702</b> could simply be (optionally) erased and a new B-burst written, such as B-burst <b>718</b> shown in <figref idref="DRAWINGS">FIG. 17</figref>, and trimmed as shown in <figref idref="DRAWINGS">FIG. 18</figref>.</p>
<p id="p-0076" num="0075">Two independent positions can exist when such a multi-step trim approach is used, as the radial location of the write element can be at least slightly different between the two passes. In many drive systems, however, it may not be possible to accurately determine which boundary edge is misplaced. For example, in <figref idref="DRAWINGS">FIG. 17</figref> the servo could determine that the boundary comprising B-burst <b>718</b> and E-burst <b>704</b> is too ‚Äúlow‚Äù in the Figure. The system may not, however, be practical to determine that it is the lower edge of B-burst <b>718</b> that is misplaced and not the upper edge of E-burst <b>704</b>. In such case, it may still be desirable to erase and re-write both bursts even though only one of the bursts may be misplaced.</p>
<p id="h-0010" num="0000">Utilizing WORF Information</p>
<p id="p-0077" num="0076">In some embodiments, a drive system can utilize WORF technology to place position correction values after servo information for each individual wedge in order to reduce the effects of written-in runout of either the final pattern or the reference pattern. WORF and/or PES information for a track might indicate, for example, that a particular edge or boundary is unacceptably misplaced. At this point, a decision can be made whether any of the wedges for the track should be re-written. A drive system can decide to re-write burst(s) on none of the wedges, some of the wedges, only the bad wedges, or all of the wedges. If WORF technology is being used, the drive system can already be taking the time to figure out correction numbers. The system can therefore set a threshold beyond which bursts on at least a servo wedge (such as a wedge in a final pattern), or a portion of a servo track, should be re-written.</p>
<p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. 27</figref> shows a process that can be used for servowriting in accordance with one embodiment. In such a process, WORF and/or PES information can be observed and calculated for each wedge on one or more servo tracks at step <b>1100</b>, and then optionally stored in memory on the drive, such as the drive DRAM at step <b>1102</b>. Such WORF and/or PES information can then be compared at step <b>1104</b> with a pre-determined threshold beyond which servo bursts (or burst boundaries) on wedges of the tracks should be re-written. The system can determine whether any bursts on the servo tracks are misplaced to such a degree that they should be rewritten, as well as any bursts affected by the rewriting at step <b>1106</b>. If it is determined that bursts are to be re-written, the read/write head can move to the first track (in order of writing) to repair a misplaced burst at step <b>1108</b>. Step <b>1100</b> through <b>1108</b> can be repeated so that bursts on each servo track affected by the repairing on an adjacent track can be re-written if necessary, wherein the WORF information of the servo track should be re-calculated first following an earlier re-writing and trimming. Finally, the WORF and/or PES information can be stored on those one or more tracks at step <b>1110</b> once the repairing is done.</p>
<p id="p-0079" num="0078">When being used for the purpose of self servowriting, WORF information can typically be stored in the memory of the drive instead of being written on the disk, as in the case of the final products. This may potentially speed up the self servowriting if WORF information on for example, a reference pattern of a track, is kept in memory when first calculated, and later retrieved from memory instead of re-calculated when the reference pattern on the same track is used again during servowriting in order to adjust (‚Äústraighten out‚Äù) the head position to servo on the reference pattern and/or repair the wedges of the final pattern. Optionally, the reference pattern can be examined and new WORF information can be re-calculated over an extra number of revolutions of the track the second time around. This newly calculated WORF information can be combined with the WORF information stored previously to achieve better head adjustment in order to better servo on the reference pattern and/or repair the final pattern.</p>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 28</figref> shows a process that can be used for servowriting in accordance with one embodiment. In such a process, WORF and/or PES information can be observed and calculated for each of one or more servo tracks in a reference pattern at step <b>1200</b>, and then stored in memory on the drive, such as the drive DRAM at step <b>1202</b>. When the reference pattern is servoed on again during the same or subsequent servowriting step, the stored WORF information can be retrieved from the memory instead of being re-calculated at step <b>1204</b>. Optionally, new WORF information can be observed and re-calculated for each of the one or more servo tracks over extra revolutions at step <b>1206</b> in addition to the retrieved WORF information. The stored and/or newly obtained WORF/PES information can then be combined and used to adjust the head position of the read/write head at step <b>1208</b> in order to servo the reference pattern and repair wedges in the final pattern in at step <b>1210</b>. For example, once the WORF information of a reference pattern on servo track# <b>100</b> is observed and calculated, it can be stored in memory while the servowriting process continues on to track# <b>300</b>. Later, when track# <b>100</b> is visited again during the servowriting process, the stored information can be retrieved instead of recalculated. Since multiple revolutions needed to observe and re-calculate the WORF information can be spared, the servowriting process can be speeded up and become more time-efficient.</p>
<p id="p-0081" num="0080">If there is a limit to the amount of information that can be stored in memory of the drive, such as in drive DRAM, the amount of WORF information that can be stored and re-used can be limited. Therefore, it may be desirable to write tracks in batches, such as a batch of 1/10 of the tracks on the disk, such that WORF values can be stored for all the tracks until it is determined, for example, that all the tracks in the batch are acceptable. If a drive system has enough memory, there may be no advantage to writing in batches. Compression of the stored data may be used to extend maximum possible batch size. Or, if there is little memory available, the tracks can simply have the WORF values recalculated.</p>
<p id="p-0082" num="0081">Although embodiments described herein refer generally to systems having a read/write head that can be used to write bursts on rotating medium (magnetic media), similar advantages can be obtained with other such data storage systems or devices. For example, a laser writing information to an optical media can take advantage of additional passes when writing position information. Any media, or at least any rotating media, upon which information is written, placed, or stored, may be able to take advantage of embodiments of the present invention.</p>
<p id="p-0083" num="0082">The foregoing description of preferred embodiments of the present invention has been provided for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations will be apparent to one of ordinary skill in the relevant arts. The embodiments were chosen and described in order to best explain the principles of the invention and its practical application, thereby enabling others skilled in the art to understand the invention for various embodiments and with various modifications that are suited to the particular use contemplated. It is intended that the scope of the invention be defined by the claims and their equivalence.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method to support repairable servowriting, comprising:
<claim-text>calculating a first set of wedge offset reduction field (WORF) and/or position error signal (PES) information for one or more servo tracks on a surface of a rotating medium;</claim-text>
<claim-text>comparing the first set of WORF and/or PES information for the one or more servo tracks with a pre-detennined threshold;</claim-text>
<claim-text>repairing a servo burst and/or a boundary of the servo burst on the one or more servo tracks via a read and/or write element of a read/write head if the WORF and/or PES information exceeds the threshold, the repairing including
<claim-text>writing a new servo burst and subsequently trimming the new servo burst; and</claim-text>
<claim-text>repairing a servo burst damaged by the new servo burst;</claim-text>
</claim-text>
<claim-text>calculating a second set of WORF and/or PES information for the one or more servo tracks; and</claim-text>
<claim-text>storing the second set of WORF and/or PES information for retrieval during servowriting.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A method to support repairable servowriting, comprising:
<claim-text>calculating wedge offset reduction field (WORF) and/or position error signal (PES) information for one or more servo tracks on a surface of a rotating medium;</claim-text>
<claim-text>comparing the WORF and/or PES information for the one or more servo tracks with a pre-determined threshold;</claim-text>
<claim-text>repairing a servo burst and/or a boundary of the servo burst on the one or more servo tracks via a read and/or write element of a read/write head if the WORF and/or PES information exceeds the threshold; and</claim-text>
<claim-text>writing the WORF and/or PES information on the one or more servo tracks.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A system to support repairable servowriting, comprising:
<claim-text>a rotatable medium including at least one surface having a plurality of servo tracks operable to store one or more servo bursts;</claim-text>
<claim-text>a read/write head including a read and/or write element operable to servowrite the servo tracks; and</claim-text>
<claim-text>one or more controllers operable to:
<claim-text>rotate the rotatable medium and position the read/write head relative to the rotatable medium;</claim-text>
<claim-text>calculate a first set of wedge offset reduction field (WORF) and/or position error signal (PES) information for one or more servo tracks on a surface of a rotating medium;</claim-text>
<claim-text>compare the first set of WORF and/or PES information for the one or more servo tracks with a pre-determnined threshold; and</claim-text>
<claim-text>repair a servo burst and/or a boundary of the servo burst on the one or more servo tracks via a read and/or write element of a read/write head if the WORF and/or PES information exceeds the threshold, the repair including writing a new servo burst and subsequently trimming the new servo burst and repairing a servo burst damaged by the new servo burst;</claim-text>
<claim-text>calculate a second set of WORF and/or PES information for the one or more servo tracks; and</claim-text>
<claim-text>store the second set of WORF and/or PES information for retrieval during servowriting.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The system according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein:
<claim-text>the rotatable medium is a magnetic disk, an optical disk, a laser-recordable disk, a disk in a single and/or multi-headed disk drive, or a rotating data storage device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The system according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein:
<claim-text>the rotating medium includes one or more surfaces, wherein each of the one or more surfaces has one or more tracks.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A system to support repairable servowriting, comprising:
<claim-text>a rotatable medium including at least one surface having a plurality of servo tracks operable to store one or more servo bursts;</claim-text>
<claim-text>a read/write head including a read and/or write element operable to servowrite the servo tracks; and</claim-text>
<claim-text>one or more controllers operable to:
<claim-text>rotate the rotatable medium and position the read/write head relative to the rotatable medium;</claim-text>
<claim-text>calculate wedge offset reduction field (WORF) and/or position error signal (PES) information for one or more servo tracks on a surface of a rotating medium;</claim-text>
<claim-text>compare the WORF and/or PES information for the one or more servo tracks with a pre-determined threshold;</claim-text>
<claim-text>repair a servo burst and/or a boundary of the servo burst on the one or more servo tracks via a read and/or write element of a read/write head if the WORF and/or PES information exceeds the threshold; and</claim-text>
<claim-text>write the WORF and/or PES information on the one or more servo tracks.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The system according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein:
<claim-text>the rotatable medium is a magnetic disk, an optical disk, a laser-recordable disk, a disk in a single and/or multi-headed disk drive, or a rotating data storage device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The system according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein:
<claim-text>the rotating medium includes one or more surfaces, wherein each of the one or more surfaces has one or more tracks.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
