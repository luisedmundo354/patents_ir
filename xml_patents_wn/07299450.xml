<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299450-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299450</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10463152</doc-number>
<date>20030617</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>663</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>9</main-group>
<subgroup>44</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>717121</main-classification>
<further-classification>717122</further-classification>
</classification-national>
<invention-title id="d0e53">Undoing changes in a software configuration management system</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4507751</doc-number>
<kind>A</kind>
<name>Gawlick et al.</name>
<date>19850300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5278982</doc-number>
<kind>A</kind>
<name>Daniels et al.</name>
<date>19940100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5513350</doc-number>
<kind>A</kind>
<name>Griffin et al.</name>
<date>19960400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717106</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5557730</doc-number>
<kind>A</kind>
<name>Frid-Nielsen</name>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>715839</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5596710</doc-number>
<kind>A</kind>
<name>Voigt</name>
<date>19970100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5740439</doc-number>
<kind>A</kind>
<name>Atkinson et al.</name>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>719320</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6006239</doc-number>
<kind>A</kind>
<name>Bhansali et al.</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6112024</doc-number>
<kind>A</kind>
<name>Almond et al.</name>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717122</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6192378</doc-number>
<kind>B1</kind>
<name>Abrams et al.</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6226792</doc-number>
<kind>B1</kind>
<name>Goiffon et al.</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717120</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6275976</doc-number>
<kind>B1</kind>
<name>Scandura</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717120</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6282698</doc-number>
<kind>B1</kind>
<name>Baker et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717118</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6298319</doc-number>
<kind>B1</kind>
<name>Heile et al.</name>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>703 26</main-classification></classification-national>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>6446255</doc-number>
<kind>B1</kind>
<name>Curtis et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717121</main-classification></classification-national>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>6519764</doc-number>
<kind>B1</kind>
<name>Atkinson et al.</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717120</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>6519767</doc-number>
<kind>B1</kind>
<name>Carter et al.</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717140</main-classification></classification-national>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>6618851</doc-number>
<kind>B1</kind>
<name>Zundel et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717103</main-classification></classification-national>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>6629316</doc-number>
<kind>B1</kind>
<name>Curtis</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717174</main-classification></classification-national>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>6658656</doc-number>
<kind>B1</kind>
<name>Thompson</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717151</main-classification></classification-national>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>6718535</doc-number>
<kind>B1</kind>
<name>Underwood</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717101</main-classification></classification-national>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>6785882</doc-number>
<kind>B1</kind>
<name>Goiffon et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717120</main-classification></classification-national>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>6804682</doc-number>
<kind>B1</kind>
<name>Kemper et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707103 R</main-classification></classification-national>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>6807548</doc-number>
<kind>B1</kind>
<name>Kemper</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707103 R</main-classification></classification-national>
</citation>
<citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>6877051</doc-number>
<kind>B2</kind>
<name>Iwanojko et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710100</main-classification></classification-national>
</citation>
<citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>6938242</doc-number>
<kind>B2</kind>
<name>Limousin et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717121</main-classification></classification-national>
</citation>
<citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>7117214</doc-number>
<kind>B2</kind>
<name>Wiser et al.</name>
<date>20061000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707 10</main-classification></classification-national>
</citation>
<citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>7228326</doc-number>
<kind>B2</kind>
<name>Srinivasan et al.</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709200</main-classification></classification-national>
</citation>
<citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>7237226</doc-number>
<kind>B2</kind>
<name>Simonyi</name>
<date>20070600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717110</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00029">
<othercit>“Web Management with Microsoft Visual SourceSafe 5.0”, Steven Banick et al, Que Publishing, 1997, Whole book.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00030">
<othercit>An Editor for Revision control, Christopher W. Fraser et al, ACM, 1987, pp. 277-295.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00031">
<othercit>UNDO Any Operation at Any time in group Editors, Chengxhen Sun, ACM, 2001, pp. 191-200.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00032">
<othercit>Undoing Any Operation in Collaborative graphics Editing Systems, David Chen et al, ACM, 2001, pp. 197-206.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00033">
<othercit>A Selective Undo Mechanism for Graphical User Interfaces Based on Command Objects, thomas, Berlage, ACM, 1994, pp. 269-294.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00034">
<othercit>A Framework for Undoing Actions in Collaborative Systems, Atul Prakash et al, ACM, 1994, pp. 295-330.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00035">
<othercit>Command as Media: Design and Implementation of a Command Stream, ACM, 1995, 17 pages.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00036">
<othercit>Reusable Hierarchical Command Objects, Brad A Myers et al, ACM, 1996, pp. 260-267.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00037">
<othercit>A Flexible Object Merging Framework, Jonathan P. Munson et al, ACM, 1994, pp. 231-242.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00038">
<othercit>Concepts and Implications of UNDO for Interactive Recovery, Robert F, Gordon et al, ACM, 1985, pp. 150-157.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00039">
<othercit>Recovery Protocols for Shared Memory Database Systems, Lory D. Molesky et al, ACM 1995, p. 11-22.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00040">
<othercit>Concurrency and Recovery for Index Trees, David Lomet et al, ACM , 1997, 17 pages.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
</references-cited>
<number-of-claims>85</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>717120</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>717121</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>717122</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>717150</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>710100</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>710104</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040260974</doc-number>
<kind>A1</kind>
<date>20041223</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Livshits</last-name>
<first-name>Artem Y.</first-name>
<address>
<city>Bellevue</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Antos</last-name>
<first-name>Christopher J.</first-name>
<address>
<city>Redmond</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Lee &amp; Hayes, PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Microsoft Corporation</orgname>
<role>02</role>
<address>
<city>Redmond</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Ingberg</last-name>
<first-name>Todd</first-name>
<department>2193</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Carrying out maintaining a software configuration management system are disclosed. In particular, a way to reverse prior revisions without removing their history in the server are described. When a client submits an undo command to reverse the effects of one or more revisions within a stated revision range of a file, the revision history is updated by submitting a new revision that effectively removes the changes embodied within the range of undone revisions. Implementing undoing prior revisions preserves the revision history for a file, in case there is a need to access the undone revisions at a later time.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="174.07mm" wi="170.86mm" file="US07299450-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="255.69mm" wi="179.07mm" orientation="landscape" file="US07299450-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="241.13mm" wi="171.37mm" file="US07299450-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="180.34mm" wi="171.37mm" file="US07299450-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="246.30mm" wi="189.74mm" file="US07299450-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="234.27mm" wi="175.60mm" file="US07299450-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="239.86mm" wi="179.92mm" file="US07299450-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="146.90mm" wi="160.61mm" file="US07299450-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">This invention generally relates to the area of computer systems. More particularly, the present invention concerns software development/productivity enhancement tools, and in particular, methods and systems for managing changes to software programs under development. Such management includes tracking and reversing changes incorporated into prior revisions (i.e., files containing changes) of program files.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">Software source code development/generation is an iterative process. From the time of conception to release of a program for distribution to the public, source code files making up the program undergo many rounds of changes. At each round, new sets of revisions (or “revised files”) are submitted and stored within a software configuration management system. After storing an initial version of source code for a program, subsequent sets of revisions are submitted on top of prior revision file sets and constitute a current revision of the program's source code. Such revision file sets are tracked by software source code development tools generally referred to as software configuration management (SCM) systems. Other names given to such systems include “source control system”, “version control system”, and “revision control system”. In SCM systems, a set of revisions for a set of files are submitted as a group to the SCM system. The SCM system then incorporates those changed files into a previous current revision of the source code to render a new current revision of the source code.</p>
<p id="p-0004" num="0003">After incorporating the set of revisions to render a current revision of computer program source code, the source code is compiled to render an executable corresponding to the current revision of the program source code. Assuming compiler errors do not arise during the compiling process, (requiring yet another revision including further changes to the source code files) an executable is rendered that corresponds to the current revision of the source code files for a program. The executable is exercised in a test environment and a list of action items are rendered from testing/reviewing the operation of the executable.</p>
<p id="p-0005" num="0004">Ideally, each set of changes contained in a latest revision of source code improves the operation of, or corrects a flaw within, the prior revision of the source code. However, in reality changes to earlier versions/revisions are not always desirable, and it becomes necessary to identify and undo at least some of the changes embodied within earlier revisions. Furthermore, program source code can go through multiple revisions, maintained by an SCM system, before a determination is made that earlier changes resulted in undesirable program operation.</p>
<p id="p-0006" num="0005">Tracking a single set of changes between two consecutive revisions of program source code is relatively easy. However, tracking changes through multiple revisions is more complicated. In prior systems, one type of change, “undoing” one or more prior revisions by deleting the revisions (and any associated changes contained therein) from the revision history maintained by the SCM system, can be especially unnerving since such undoing of a revision removes all indications of the revision (and its particular changes) from the SCM system. If the “undoing” act is unsuccessful in remedying the flaw and the programmer seeks to return the software source code to its state before the “undoing” procedure was performed, then the programmer must re-create the revision from a source other than the SCM system.</p>
<p id="p-0007" num="0006">The task of tracking and undoing changes to source code embodied in revisions is further complicated when supporting integration history (which describes changes submitted to render a revision of a source code file by specifying changes incorporated into a range of revisions to another file or files). A known SCM system, SOURCE DEPOT, as well as other SCM systems, support integration history.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0008" num="0007">The present invention comprises an SCM system and a method that, when given a range of revisions to source code to be undone (spanning potentially multiple revisions integrated from multiple files), generate and submit a new revision record including an undo action that is added to the revision history. All prior revision records are maintained in the SCM revision history for the file. Thus, undoing a set of one or more prior revisions, rather than reducing the set of revisions maintained for one or more files in the SCM system, actually adds to the revision history. The extent of the additions depends upon the revisions to be undone.</p>
<p id="p-0009" num="0008">The present invention comprises a method for undoing prior revisions in a software configuration management (SCM) system that maintains a sequenced history of revisions to a set of source code files. The method includes an initial step of receiving a command to undo a set of revisions within a revision history for a file. In an embodiment of the invention, the set of revisions is specified in the form of a range of revisions for the file maintained in the SCM system's revision history.</p>
<p id="p-0010" num="0009">In response, for a set/range of revisions to be undone, the SCM system determines an appropriate revision to specify when submitting a new revision incorporating the changes, to the most recent revision of the file, that effectively undo the changes embodied in the specified set/range of revisions to be undone. The new revision is thereafter submitted for incorporation into the revision history for the file.</p>
<p id="p-0011" num="0010">The present invention also comprises a software configuration management (SCM) system including sub-components for facilitating undoing prior revisions in a revision history in response to receiving a command to undo a set of revisions within the revision history for a file. In particular, the SCM system includes revision determination components that, given a range of revisions to be undone in the revision history for the file, determines an appropriate new revision to the file that effectively undoes changes to the file arising from the range of revisions. A submit module submits the new revision for incorporation into the revision history for the file.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0012" num="0011">While the appended claims set forth the features of the present invention with particularity, the invention, together with its objects and advantages, may be best understood from the following detailed description taken in conjunction with the accompanying drawings of which:</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> is a simplified schematic illustrating an exemplary architecture of a computing device for carrying out SCM client and/or server functions in accordance with an embodiment of the present invention;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> is an exemplary arrangement for a revision record and supported revision actions in accordance with an embodiment of the invention;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic drawing depicting an SCM system arrangement including a server and client machine, and wherein the client machine carries out “undo” commands (as a series of stages) with regard to a range of revisions for a file in a revision history maintained by the server;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4</figref> is a decision table depicting an exemplary set of rules for selecting an undo action in response to an undo command specifying a particular range of revisions for a file;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> is a flowchart summarizing a set of steps for carrying out an undo operation in accordance with an embodiment of the present invention;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart summarizing a set of steps for carrying out a resolve operation in accordance with an embodiment of the present invention;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart summarizing a set of steps for carrying out a submit operation in accordance with an embodiment of the present invention; and</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 8</figref> is a table depicting an exemplary set of revision records for two files (foo.txt and bar.txt) that contain software source code.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0021" num="0020">In the illustrative embodiment of the present invention, an SCM system receives and archives submitted revisions. The exemplary SCM system maintains a set of multiple revisions for identified files. Each of the set of revisions includes an action, the content of the revision, and an integration history (describing integrated revisions) if the revision comprises an integration.</p>
<p id="p-0022" num="0021">The set of previously known actions on a file performed in an embodiment of the invention, by way of example, include: add (a new file), edit (an existing file), integrate (incorporates a set of changes embodied in a sequence of revisions of another file into an existing file), branch (incorporates a set of changes embodied in a sequence of revisions of another file into a new file), and delete (a file).</p>
<p id="p-0023" num="0022">In accordance with an embodiment of the present invention, an SCM system supporting the above-described known set of actions is augmented to include a high-level undo command specifying a range of revisions of a file to be undone, and a set of undo actions (e.g., add-undo, edit-undo, and delete-undo) that reverse the effect of the range of revisions identified in the undo command. In the SCM system supporting the aforementioned undo actions, revisions are not removed from a file's revision history when undoing previously submitted revisions. Instead, appropriate ones of the undo actions selected in accordance with an undo action table (see, <figref idref="DRAWINGS">FIG. 4</figref>), effectively reversing identified ones of the previously submitted revisions, are submitted within revisions to the SCM server and become part of the revision history for the file. Thus, rather than removing revision history entries when executing undo commands, the SCM system embodying the present invention adds a revision entry implementing the undo operation. Furthermore, a prior integration action is marked “inactive” when the integration action is undone to indicate that the changes associated with the integration revision have been undone. The undo actions (and setting integration histories inactive) thus enable an SCM system to effectively reverse changes associated with identified file revisions without removing revision entries from the revision history maintained by an SCM system.</p>
<p id="p-0024" num="0023">Undoing a specified range of previously submitted revisions occurs, by way of example, in three stages. Initially, the client applies an “undo” algorithm or criterion, such as the one specified, by way of example in <figref idref="DRAWINGS">FIG. 4</figref>, on a range of revisions to be undone with regard to a specified file, to select a proper undo action (including potentially no action) to be specified in a revision submitted to the SCM server. The client creates a pending “undo” integration record specifying a range of revisions on specified files to be undone. During a second (i.e., resolve) stage the pending “undo” integration record is processed in an upside-down order to establish a set of reversed changes. The reversed changes are applied to a current (target) revision to render a new revision. After resolving the undo integration record during the resolve stage, at a third stage of undoing previously submitted revisions, the client submits the new revision (including content if not a delete action) and potentially additional requests to modify the integration history to the server that maintains the revision history for the source code files.</p>
<p id="p-0025" num="0024">The effect of submitting the revision resulting from the undo command is to reverse/undo the changes that occurred to a file over the range of file revisions specified in the undo command. Thus, when the undo command, including a range of revisions to be undone, has been resolved and submitted to the SCM system, the completed undo command produces resulting software source code content as if the given revision range was never submitted into the SCM system. However, the complete revision history (including the undone revisions and revisions submitted after the undone revisions) is preserved.</p>
<p id="p-0026" num="0025">Before turning to the figures, it is noted that in an embodiment of the present invention computers implement steps described herein, for applying an undo algorithm, resolving content, and submitting a source code revision in an SCM environment, by executing software instructions, such as program modules. Generally, program modules include routines, objects, components, data structures and the like that facilitate performing particular tasks or implementing particular abstract data types. The term “program” includes one or more program modules.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 1</figref> illustratively depicts an example of a suitable operating environment <b>100</b> for clients and an SCM server to carry out the functionality of an SCM system. The division of functionality, between the clients (from which the revision requests originate) and an SCM server that maintains an archive of revisions of one or more files, differs in various embodiments of the present invention. Furthermore, the operating environment <b>100</b> is only one example of a suitable operating environment, for the clients and/or server in an SCM system, and is not intended to suggest any limitation as to the scope of use or functionality of the invention. Other well known computing systems, environments, and/or configurations that may be suitable for use with the invention include, but are not limited to, personal computers, server computers, laptop/portable computing devices, multiprocessor systems, microprocessor-based systems, network PCs, minicomputers, mainframe computers, distributed computing environments that include any of the above systems or devices, and the like.</p>
<p id="p-0028" num="0027">The invention may be described in the general context of computer-executable instructions, such as program modules, being executed by a computer. Generally, program modules include routines, programs, objects, components, data structures, etc. that perform particular tasks or implement particular abstract data types. The invention is potentially incorporated within network nodes operating in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment, program modules are generally located in both local and remote computer storage media including memory storage devices.</p>
<p id="p-0029" num="0028">With continued reference to <figref idref="DRAWINGS">FIG. 1</figref>, an exemplary system for implementing the invention includes a general purpose computing device in the form of a computer <b>110</b>. Components of computer <b>110</b> may include, but are not limited to, a processing unit <b>120</b>, a system memory <b>130</b>, and a system bus <b>121</b> that couples various system components including the system memory to the processing unit <b>120</b>. The system bus <b>121</b> may be any of several types of bus structures including a memory bus or memory controller, a peripheral bus, and a local bus using any of a variety of bus architectures. By way of example, and not limitation, such architectures include Industry Standard Architecture (ISA) bus, Micro Channel Architecture (MCA) bus, Enhanced ISA (EISA) bus, Video Electronics Standards Association (VESA) local bus, and Peripheral Component Interconnect (PCI) bus also known as Mezzanine bus.</p>
<p id="p-0030" num="0029">Computer <b>110</b> typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer <b>110</b> and includes both volatile and nonvolatile media, removable and non-removable media. By way of example, and not limitation, computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information such as computer readable instructions, data structures, program modules or other data. Computer storage media includes, but is not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical disk storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can accessed by computer <b>110</b>. Communication media typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term “modulated data signal” means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, RF, infrared and other wireless media. Combinations of the any of the above should also be included within the scope of computer readable media.</p>
<p id="p-0031" num="0030">The system memory <b>130</b> includes computer storage media in the form of volatile and/or nonvolatile memory such as read only memory (ROM) <b>131</b> and random access memory (RAM) <b>132</b>. A basic input/output system <b>133</b> (BIOS), containing the basic routines that help to transfer information between elements within computer <b>110</b>, such as during start-up, is typically stored in ROM <b>131</b>. RAM <b>132</b> typically contains data and/or program modules that are immediately accessible to and/or presently being operated on by processing unit <b>120</b>. By way of example, and not limitation, <figref idref="DRAWINGS">FIG. 1</figref> illustrates operating system <b>134</b>, application programs <b>135</b>, other program modules <b>136</b>, and program data <b>137</b>.</p>
<p id="p-0032" num="0031">The computer <b>110</b> may also include other removable/non-removable, volatile/nonvolatile computer storage media. By way of example only, <figref idref="DRAWINGS">FIG. 1</figref> illustrates a hard disk drive <b>140</b> that reads from or writes to non-removable, nonvolatile magnetic media, a magnetic disk drive <b>151</b> that reads from or writes to a removable, nonvolatile magnetic disk <b>152</b>, and an optical disk drive <b>155</b> that reads from or writes to a removable, nonvolatile optical disk <b>156</b> such as a CD ROM or other optical media. Other removable/non-removable, volatile/nonvolatile computer storage media that can be used in the exemplary operating environment include, but are not limited to, magnetic tape cassettes, flash memory cards, digital versatile disks, digital video tape, solid state RAM, solid state ROM, and the like. The hard disk drive <b>141</b> is typically connected to the system bus <b>121</b> through an non-removable memory interface such as interface <b>140</b>, and magnetic disk drive <b>151</b> and optical disk drive <b>155</b> are typically connected to the system bus <b>121</b> by a removable memory interface, such as interface <b>150</b>.</p>
<p id="p-0033" num="0032">The drives and their associated computer storage media discussed above and illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, provide storage of computer readable instructions, data structures, program modules and other data for the computer <b>110</b>. In <figref idref="DRAWINGS">FIG. 1</figref>, for example, hard disk drive <b>141</b> is illustrated as storing operating system <b>144</b>, application programs <b>145</b>, other program modules <b>146</b>, and program data <b>147</b>. Note that these components can either be the same as or different from operating system <b>134</b>, application programs <b>135</b>, other program modules <b>136</b>, and program data <b>137</b>. Operating system <b>144</b>, application programs <b>145</b>, other program modules <b>146</b>, and program data <b>147</b> are given different numbers here to illustrate that, at a minimum, they are different copies. A user may enter commands and information into the computer <b>20</b> through input devices such as a keyboard <b>162</b> and pointing device <b>161</b>, commonly referred to as a mouse, trackball or touch pad. Other input devices (not shown) may include a microphone, joystick, game pad, satellite dish, scanner, or the like. These and other input devices are often connected to the processing unit <b>120</b> through a user input interface <b>160</b> that is coupled to the system bus, but may be connected by other interface and bus structures, such as a parallel port, game port or a universal serial bus (USB). A monitor <b>191</b> or other type of display device is also connected to the system bus <b>121</b> via an interface, such as a video interface <b>190</b>. In addition to the monitor, computers may also include other peripheral output devices such as speakers <b>197</b> and printer <b>196</b>, which may be connected through a output peripheral interface <b>190</b>.</p>
<p id="p-0034" num="0033">The computer <b>110</b> may operate in a networked environment using logical connections to one or more remote computers, such as a remote computer <b>180</b>. The remote computer <b>180</b> may be a personal computer, a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the computer <b>110</b>, although only a memory storage device <b>181</b> has been illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. The logical connections depicted in <figref idref="DRAWINGS">FIG. 1</figref> include a local area network (LAN) <b>171</b> and a wide area network (WAN) <b>173</b>, but may also include other networks. Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet.</p>
<p id="p-0035" num="0034">When used in a LAN networking environment, the computer <b>110</b> is connected to the LAN <b>171</b> through a network interface or adapter <b>170</b>. When used in a WAN networking environment, the computer <b>110</b> typically includes a modem <b>172</b> or other means for establishing communications over the WAN <b>173</b>, such as the Internet. The modem <b>172</b>, which may be internal or external, may be connected to the system bus <b>121</b> via the user input interface <b>160</b>, or other appropriate mechanism. In a networked environment, program modules depicted relative to the computer <b>110</b>, or portions thereof, may be stored in the remote memory storage device. By way of example, and not limitation, <figref idref="DRAWINGS">FIG. 1</figref> illustrates remote application programs <b>185</b> as residing on memory device <b>181</b>. It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.</p>
<p id="p-0036" num="0035">Before describing an exemplary arrangement of functional components on a client and server within an SCM system, a set of commands/actions associated with an exemplary SCM system, an enhanced version of the well known Source Depot (SD) SCM System, will be described. An SD server maintains a history of file revisions. Furthermore, once added to the revision history, revisions are never removed. With reference to <figref idref="DRAWINGS">FIG. 2</figref>, each revision entry in the revision history includes, by way of example: a revision ID <b>200</b>, an action type <b>202</b>, content of the revision <b>204</b> (e.g., an entire current version of the file), and an integration history <b>206</b> (if the revision entry includes an integration action bringing an identified range of revisions into the identified file revision—described further herein below). Each of these parts of a revision history are described below.</p>
<p id="p-0037" num="0036">The revision ID <b>200</b>, in the revision history maintained by the SD server, identifies a particular one of many potential revisions of a file or other unit of storage maintained by the SCM system. In a particular embodiment of the invention, each revision entry in the revision history identifies, in the revision ID <b>200</b>, a file and a sequence number for the particular revision of the file. Thus, a first revision of a text file (the original file) foo is named foo.txt#1. There are many ways in which to identify a file revision entry in a revision history in alternative embodiments of SCM systems embodying the present invention.</p>
<p id="p-0038" num="0037">Each revision entry in the revision history includes an action applied to a preceding revision, stored in the action type <b>202</b>, that resulted in the identified file revision. In the exemplary SD embodiment of the invention, previously known actions include: add, edit, delete, integrate and branch. In accordance with an embodiment of the present invention that supports an “undo” command, additional actions comprise: add-undo, edit-undo, and delete-undo. The undo prefix is added to indicate that the revision resulted from applying an undo command.</p>
<p id="p-0039" num="0038">The “add” action adds a new file to the revision history. The content <b>204</b> of the revision entry for an add action specifies the content of the new file. The add action opens a new file and adds the specified content into the new file. Once an identified file is added to the revision history, a client cannot specify adding the same named file to the history until the previously added file no longer exists on the SCM system.</p>
<p id="p-0040" num="0039">A file is removed by specifying the “delete” action on the file. The delete action removes the entire file from the SCM system—but not the revision history of the deleted/removed file. No content is specified for a delete action since the identified file ceases to exist in the current version of the file within the SCM system as a result of submitting the delete action.</p>
<p id="p-0041" num="0040">The “edit” action indicates changes to parts (e.g., specified lines) of a previously added file. It is noted that in the exemplary embodiment of the invention, the content <b>204</b> field of the edit action entry in the revision history includes (or references the full pathname for) the entire revision of the file. However, in an alternative embodiment of the invention, the content identifies only changes made to a preceding revision to render the current revision. In any event, sufficient content is maintained for each revision to facilitate recovery of any revision of a file at any stage of the revision history for a file.</p>
<p id="p-0042" num="0041">The exemplary SD SCM system supports incorporating changes present within a range of identified revisions from an identified source file into a single target file revision—this type of action is referred to herein as “integration.” The source file and the range of revisions that are processed to render a set of changes applied to the target file to render the identified revision are indicated within the integration history <b>206</b>. As will be explained further herein below, when a revision having an integrate or branch action specified in the action field <b>202</b> is undone, the entry in the integration history <b>206</b> field (specifying a range of revisions of a file) is marked “inactive.” Marking the integration history entry inactive for a particular file revision preserves the integration history of the revision, but indicates that it is not contributing to the content of the current file revision.</p>
<p id="p-0043" num="0042">One way to incorporate changes arising from a range of revisions of a source file into a newly opened target file revision is the “branch” integration action. The branch action specifies a range of revisions from a source file revision history. The changes introduced into the source file within the range of revisions are incorporated into a new (“added”) target file. Therefore, the branch action can be viewed as a particular kind of “add” action that specifies its content from revision ranges taken from a source file rather than specifying source code text—as is the case with an add action. When a branch action is submitted to the SD server, the range of revisions specified in the branch action are included in the integration history <b>206</b> portion of a stored revision history entry corresponding to the specified branch action.</p>
<p id="p-0044" num="0043">In contrast to the branch operation, rather than opening a new target file, the “integrate” action specifies a range of revisions from a source file revision history. The changes introduced into the source file within the range of revisions are merged into an existing target file (e.g., incorporating the changes specified in five revisions foo.txt3 through foo.txt7 into file revision bar.txt2). As will be explained further herein below, the integrated changes present in the range of revisions may conflict with earlier revisions to the target file. Such conflicts are eliminated during a resolve stage before submitting the revision and thereby making the changes permanent in the revision history maintained by the SD server of the SCM system.</p>
<p id="p-0045" num="0044">The integration (branch and integrate) actions are carried out in a series of stages. As with add/edit/delete actions, an integration action initially opens a specified target revision on a user's local machine. The changes associated with the integration action are prepared and merged into the target revision on the SD client machine to render a new revision. The new revision of the target file remains on the SD client machine until a submission stage wherein the new revision is submitted to the revision history of the target file on the SD server machine (or reverted, if needed). When a temporary file is opened on the local machine, as a result of integration, a pending integration record is created that identifies a range of revisions from an integration source file (or even sets of ranges from potentially many files). The pending integration record is maintained in a temporary work space/buffer enabling the SD client to build a set of changes associated with the range of revisions from the integration source file. The pending integration record is deleted when the SD client submits or reverts the target file revision.</p>
<p id="p-0046" num="0045">If an integrate action is specified, then a resolve operation is performed, by way of example, upon the SD client machine before finally submitting a set of revisions to the SD server for storage in the revision history for the file. The resolve operation handles revision conflicts/duplications while merging the specified content changes associated with a specified range of revisions. The resolve operation is not required for branch and delete actions before submission to the SD server because, in the case of an add action the content is copied over from the source file into an empty new file, and in the case of a delete action there is no content.</p>
<p id="p-0047" num="0046">There are many ways in which to resolve an integrate action. In an exemplary embodiment, the resolve operation accesses information from the aforementioned “pending integration record”—namely the revision just before the bottom of the revision range and the revision at the top of the revision range and merges the set of changes that happened over the specified integration range into the opened target file. As used herein, the revision in a source file just before the bottom of the revision range is known as a “base” revision and the revision at the top of the revision range is known as a “source” revision. In an embodiment of the invention, during the resolve operation for an integration action, the SD client of the SCM system tries to apply changes from the range of revisions of the source file to the target file and prompts a user to deal with conflicts manually. Furthermore, duplication of revisions is not considered a conflict. However, because integration history is used to determine what revisions to integrate, if the specified revision range contains revisions that were previously integrated, they are excluded from the integration operation (and integration history for this particular integrate action) to decrease conflict probability.</p>
<p id="p-0048" num="0047">A resolved revision is then submitted to the SD server which then adds the resolved revision to the revision history of the identified file. The integration history <b>206</b> portion of the new entry in the revision history identifies the range of revisions (file and revision numbers) that remained after completing the resolve operation. In an embodiment of the invention the integration history information is obtained from the pending integration record for the integration action (after completing the resolve operation).</p>
<p id="p-0049" num="0048">Furthermore, in an embodiment of the invention, several integrate actions can be incorporated as a group into a same opened file from different files and/or different revision ranges. In such case each one of the group of integrated files/revision ranges generates a single pending integration record. The pending integration records are processed and added as a set of integration history definitions within a single revision history entry when the resulting revision is submitted to the SD server. For example, the following integration actions are resolved and submitted to an open bar.txt file:</p>
<p id="p-0050" num="0049">sd integrate foo.txt#5,10 bar.txt,</p>
<p id="p-0051" num="0050">sd integrate foo.txt#15,16 bar.txt, and</p>
<p id="p-0052" num="0051">sd integrate baz.txt#3,3 bar.txt.</p>
<p id="p-0053" num="0052">These three integrate actions create three pending integration records, and when the resolved integrate actions are submitted to the SD server, the integration history <b>206</b> portion of the single new revision entry of bar.txt is {‘foo.txt#5,10’, ‘foo.txt#15,16’, ‘baz.txt#3,3’}.</p>
<p id="p-0054" num="0053">Having described a set of actions, executable by an exemplary SCM system to apply changes to a revision history for source code files, attention is now directed to an enhancement to the above-described SCM system, a command (e.g., SD undo), that supports undoing a specified range of previous revisions in a revision history for a file stored within the SD server. In an embodiment of the invention such “undo” command is supported by a set of undo actions including: add-undo, edit-undo, and delete-undo. Each of these actions performs an operation on the identified file to reverse the cumulative effect of a series of prior revisions specified in the undo command. The add-undo action is an add action that resulted from an undo command, the edit-undo action is an edit action that resulted from an undo command, and the delete-undo action is a delete action that resulted from an undo command. The addition of the “undo” prefix to each of these actions informs users that the action occurred in response to an undo command. The selection of a particular one of the three “undo” actions is determined in accordance with a decision process summarized by a table depicted in <figref idref="DRAWINGS">FIG. 4</figref> described herein below.</p>
<p id="p-0055" num="0054">In a known SCM system, an integration operation applies changes that happen within a specified beginning and ending revision in a revision history between 2 revisions (the revision just before the bottom of the revision range and the top of the revision range). In accordance with an embodiment of the present invention, an undo revision action is performed (if possible/reasonable) based on a specified range of previously submitted revisions (from the most recent to the oldest revision in the specified range of revisions to be undone). Applying the undo action renders a new revision of the file as if the range of revisions had never occurred. However, none of the prior revision history entries are removed. Instead, whenever changes present within a range of revisions of a file need to be undone, an appropriate “undo” action (of the above-identified three undo actions) is applied to the most recent revision of the file (thereby adding to the revision history for the file). Such submitted “undo” actions are stored within new entries in the revision history maintained by the SD server for the file.</p>
<p id="p-0056" num="0055">Turning now to <figref idref="DRAWINGS">FIG. 3</figref>, a flowchart summarizes a set of stages for carrying out an exemplary undo command in an SD SCM client-server environment. In accordance with an embodiment of the invention, a client machine <b>300</b> receives an undo command <b>302</b>. Such undo command is specified, in an embodiment of the invention, in the form of “undo (&lt;filename&gt;,&lt;Roldest&gt;,&lt;Rnewest&gt;)” which specifies a file name, an oldest revision and a newest revision in a range of revisions to be undone. In response to receiving the undo command <b>302</b>, at stage <b>1</b> of the undo procedure summarized in <figref idref="DRAWINGS">FIG. 3</figref> an undo operation <b>304</b> described in detail with reference to <figref idref="DRAWINGS">FIG. 5</figref> opens the identified file in the client work space <b>306</b>. During stage <b>1</b> the undo operation <b>304</b> retrieves, from the revision histories <b>308</b> on the server machine <b>310</b>, the relevant information for the undo revision range specified in the undo command <b>302</b>. Based upon an undo action selection algorithm, summarized in a table depicted in <figref idref="DRAWINGS">FIG. 4</figref> described herein below, the undo operation <b>304</b> determines the appropriate undo action to perform (if at all). After determining the appropriate undo action, a pending undo integration record is created specifying the range of revisions to be undone on the file specified in the input undo command <b>302</b>. If the action is “add-undo” then content for the file is obtained from the revision histories and stored in the work space <b>306</b>. In contrast to the previously described integration records, a pending undo integration record must be for the same file as the target of the undo operation in the revision histories <b>308</b>.</p>
<p id="p-0057" num="0056">After creating a pending undo integration record, control passes to stage <b>2</b> of the undo command execution procedure, wherein a resolve operation <b>312</b> described in detail with reference to <figref idref="DRAWINGS">FIG. 6</figref> is invoked (if needed to merge changes into a new revision) on the client machine <b>300</b>. The resolve operation <b>312</b> retrieves any pending undo integration record previously placed in the client work space <b>306</b> by the undo operation <b>304</b>. When the resolve operation <b>312</b> encounters a pending ‘undo’ integration record it applies the identified revisions in reverse (or upside-down). Therefore the revision at the top of the revision range (the most recent revision in the range) becomes the ‘base’ revision; and the revision just before the bottom of the revision range (the oldest revision in the range) is used as the ‘source’ revision during the resolve operation <b>312</b>. As indicated by the arrow from the revision histories <b>308</b>, the resolve operation <b>312</b> extracts the content of revisions within the range identified in a pending undo integration record. Thereafter, the resolve operation <b>312</b> generates content for a revision based upon the range of revisions identified in the pending undo integration record retrieved from the client work space <b>306</b> and retrieved content from the revision histories <b>308</b>. The resolve operation <b>312</b> stores the resulting content of a revision for an associated undo action, determined by the undo operation <b>304</b>, in the client work space <b>306</b>.</p>
<p id="p-0058" num="0057">Stage <b>3</b>, identified by a submit operation <b>314</b> described in detail with reference to <figref idref="DRAWINGS">FIG. 7</figref>, retrieves an action, content (if not a delete action) and pending undo integration records (resolved, if necessary by the resolve operation <b>312</b>) from the work space <b>306</b>. The submit operation <b>314</b> provides a new revision (identifying one of the aforementioned undo actions) to the revision histories <b>308</b>. Furthermore, in an embodiment of the invention, when the submit operation <b>314</b> encounters a pending ‘undo’ integration record for a file it marks the integration history <b>206</b> portion as ‘inactive’ for all revisions in the revision range for the file in the revision histories <b>308</b>. Thus indicating that a previously applied integration action has been undone. After submitting the new revision containing the appropriate undo action (and marking appropriate integration histories inactive) the submit operation deletes the pending ‘undo’ integration record (as it does with all pending integration records) from the client work space <b>306</b>. Furthermore, in an embodiment of the invention the range of revisions undone within the revision associated with the undo command is identified in an appropriate new or existing information field (e.g., action, integration history, “undo range”, etc.) of the submitted revision. As mentioned above, ‘inactive’ integration history entries are not counted as already integrated when integration history is used to decide what revisions to integrate.</p>
<p id="p-0059" num="0058">In an embodiment of the invention, an algorithm is applied to the revision history and identified range of revisions for a file to determine which, if any, action to take to undo a specified range of revisions. By way of example, the undo action selection algorithm embodied in the table depicted in <figref idref="DRAWINGS">FIG. 4</figref>. The chosen undo action depends on the actions of revisions to the file: just-before-the-bottom of the input revision range, the top revision of the input revision range, and on the action of the last revision of the file. These three input actions are specified in the first three columns of the table depicted in <figref idref="DRAWINGS">FIG. 4</figref>. When the bottom of the range is the revision #1, the action of just-before-the-bottom revision is considered to be ‘delete’. Furthermore, in the input action columns (the first three) depicted in <figref idref="DRAWINGS">FIG. 4</figref>, an “add” action also includes branch and add-undo actions; an “edit” action includes integrate and edit-undo actions; and “delete” includes delete-undo.</p>
<p id="p-0060" num="0059">The decision table depicted in <figref idref="DRAWINGS">FIG. 4</figref>, at the column identified as “Resulting Action” designates a proper type of undo action in view of particular other actions identified in the three input action columns. In rendering an output action, the table takes into consideration that, in some cases, merging changes doesn't make sense, e.g. when content changes are merged into deleted file. In such cases the undo operation <b>304</b>, in the exemplary embodiment of the SCM system, can't open the file to generate and submit revisions to the revision histories <b>308</b>. However, at indicated in the adjacent column identified as “Closest Reasonable Action,” a user can coerce the SCM client's undo operation <b>304</b> to open the file anyway by specifying a “-f” flag on the undo command <b>302</b>. In the case where the “-f” flag is designated and a “can't open” action is designated in the “Resulting Action” column for the input revision combination, the undo operation <b>304</b> selects an action specified in the “Closest Reasonable” column of the decision table. Finally, the last column designates whether the resolve operation <b>312</b> will need to be invoked to process the action before the submit operation stores the revision in the revision histories <b>308</b>.</p>
<p id="p-0061" num="0060">Having described the general functionality of an SCM system embodying the present invention, attention is now directed to an exemplary set of procedures carried out within the undo operation <b>304</b>, the resolve operation <b>312</b>, and the submit operation <b>314</b>. Turning to <figref idref="DRAWINGS">FIG. 5</figref>, a set of steps are summarized for the undo operation <b>304</b>. Initially, during step <b>400</b> an undo command is received that specifies an input file revision range to be undone and an optional -f flag that allows a closest reasonable undo action to be submitted in the event that a undo action is really not appropriate over the provided range of revisions. Next, during step <b>402</b> the actions for the relevant revisions are retrieved from the revision histories <b>308</b>, and the retrieved actions are applied to the decision table depicted in <figref idref="DRAWINGS">FIG. 4</figref> to determine an undo action, if any, to be performed to render a new revision. In certain cases, the resulting action is “Can't Open”.</p>
<p id="p-0062" num="0061">At step <b>404</b>, a determination is made whether the action determined during step <b>402</b> is “can't open” under any circumstance. If the action is “Can't Open”, then control passes to step <b>406</b> and the undo operation <b>304</b> is exited without generating a revision action. However, if at step <b>404</b> the file can be opened (at least if the -f flag is specified), then control passes to decision step <b>408</b> that determines whether the -f flag is needed to render an undo action. If the -f flag is not needed (i.e., a valid resulting action is specified), then control passes to step <b>410</b> wherein the appropriate action is determined based upon the table depicted in <figref idref="DRAWINGS">FIG. 4</figref>. The steps that follow are intended to place a file revision in a state as close as possible (without applying the resolve operation) to the revision that will exist when the specified undue action is carried out.</p>
<p id="p-0063" num="0062">Thereafter, at step <b>412</b> if the action is “add-undo”, then control passes to step <b>414</b> to create a new file and fill it with content from a revision that existed just before the specified range of revisions identified in the undo command. During step <b>414</b> the new file revision is opened within the client work space <b>306</b>, the content of the relevant revision (in view of the specified undo revision range) is retrieved from the revision histories <b>308</b> and placed within the new file, and a pending undo integration record is created. Control then passes to the End.</p>
<p id="p-0064" num="0063">If, at step <b>412</b> the action is not an “add-undo” command, then control passes to step <b>416</b>. At step <b>416</b> if the action is a “delete-undo” command, then control passes to step <b>418</b> and the client work space is cleared of previously retrieved content from the revisions, the new file revision is opened in the cleared workspace, and a pending undo integration record is created to facilitate deactivating integration histories of revisions within the input revision range. Control then passes to the End.</p>
<p id="p-0065" num="0064">If at step <b>416</b> the action is not a “delete-undo” command, then the only remaining option is “edit-undo.” Control passes to step <b>420</b> and the file is opened in the client work space, and a pending undo integration record is created. The content of the new file revision is established during a resolve stage that follows. Control then passes to the End.</p>
<p id="p-0066" num="0065">Returning to step <b>408</b>, if the -f flag is needed to designate an action (there is no actual appropriate action for the input set of actions), then control passes to step <b>422</b>. If at step <b>422</b> the -f flag is indeed designated (indicating that it is desired to try to select a closest, reasonable action for an otherwise improper case for designating an action), then control passes to step <b>424</b> wherein the closest reasonable action is selected (see, <figref idref="DRAWINGS">FIG. 4</figref>) and control passes to step <b>412</b> wherein processing continues in view of the designated closest reasonable undo action. However, if at step <b>422</b> the -f flag is not set, then control passes to the Exit <b>406</b> (i.e., the undo command fails).</p>
<p id="p-0067" num="0066">Turning to <figref idref="DRAWINGS">FIG. 6</figref>, a set of steps are depicted for the resolve operation <b>312</b>. It is noted that this operation handles both pending undo integration records and regular pending integration records. During step <b>600</b> a pending integration record, previously added by the undo operation <b>304</b>, is retrieved from the client work space. If, at step <b>602</b> the integration record is for a pending undo integration record, then control passes to step <b>604</b>. At step <b>604</b>, the top revision is designated as the base and the just-before-bottom revision is the source for resolving/merging revisions. Control then passes to step <b>606</b> wherein the content of the relevant revisions (e.g., base, source and target revisions) is retrieved from the revision histories <b>308</b>. Thereafter, at step <b>608</b>, the resolve operation <b>312</b> applies a well-known three-way textual merge algorithm to merge the content (determine the changes carried out in the revision range and apply to the target revision) and put the resulting content (of the next revision) within the client work space. On the other hand, if a regular integration record is specified at step <b>602</b>, then control passes to step <b>610</b> and the top revision is the source and the revision just before the bottom revision is the base revision for purposes of applying the merge operation to the target file (the most recent revision of the file) during step <b>608</b>.</p>
<p id="p-0068" num="0067">Turning to <figref idref="DRAWINGS">FIG. 7</figref>, a set of steps are depicted for the submit operation <b>314</b>. During the submit operation <b>314</b> the revision history <b>308</b> is updated to include a new revision to one or more files. In the example below, the set of steps are presented for submitting a single revision having a single associated pending integration record. However, it will be understood that the steps can be performed on a set of revisions and/or integration records in a similar way. Revisions are created individually and then submitted as a group to the revision histories <b>308</b>.</p>
<p id="p-0069" num="0068">During step <b>700</b> the submit operation <b>314</b> retrieves a pending integration record, action and content associated with a revision from the client work space <b>306</b> to submit in the form of a new revision to the revision histories <b>308</b>. At step <b>702</b>, the submit operation determines whether the pending integration record is an undo integration record or a regular integration record. If the pending integration record is an undo integration record, then control passes to step <b>704</b> wherein all the revision records that fall within the undo revision range are retrieved from the revision histories <b>308</b> (for purposes of determining whether any integration-based revisions exist). Thereafter, at step <b>706</b> for each revision record that includes an integration action (e.g., integrate, branch), the associated integration history is marked inactive. At step <b>707</b> a new revision record, specifying an undo action and content of the revision obtained from the work space, is built. Finally, at step <b>708</b> the new revision record—in this case one specifying an undo action—is added to the revision histories <b>308</b>. Control then passes to the End.</p>
<p id="p-0070" num="0069">Since the submit operation <b>314</b> also handles regular pending integration records, if at step <b>702</b> the submit operation <b>314</b> determines that a regular pending integration record has been retrieved, then control passes to step <b>710</b> wherein the submit operation <b>314</b> builds a new revision to add to the revision histories <b>308</b>. The new revision includes an action (e.g., integrate), content, and integration history (from the pending integration record) obtained from the work space <b>306</b>. Finally, at step <b>708</b> the new revision record is added to the revision histories <b>308</b> maintained by the server machine <b>310</b>.</p>
<p id="p-0071" num="0070">Turning to <figref idref="DRAWINGS">FIG. 8</figref>, a set of revisions are presented in a revision history (grouped by their file name rather than in chronological order). It is noted that the revisions in the table represent the submitted revisions. However, before a revision can be submitted, a user first opens the file on the local machine for the desired action. Furthermore, opening the file does not update the revision history and files can be reverted if needed. As described above, after a new revision set (including potentially revisions on multiple files) has been prepared on the local machine, the revisions are submitted into the revision histories <b>308</b> to actually form new revisions of the appropriate files. Submits of multiple revisions at the same time happen atomically, i.e. if the new revision of one file fails to get submitted then the whole set is rejected and has to be re-submitted after the problem is corrected.</p>
<p id="p-0072" num="0071">The following is an exemplary set of steps corresponding to the table of actions depicted in <figref idref="DRAWINGS">FIG. 8</figref>. The example uses commands associated with the Source Depot SCM system. However, such steps, or variations thereof, can be performed in alternative SCM systems after enhancing their functionality to include support for the undo command and associated actions described herein.
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0072">0. Assuming that there no revision history initially</li>
    <li id="ul0001-0002" num="0073">1. Create file foo.txt and put lines {“line1”, “line3”} there.</li>
    <li id="ul0001-0003" num="0074">2. ‘sd add foo.txt’: opens foo.txt for ‘add’ action</li>
    <li id="ul0001-0004" num="0075">3. ‘sd submit’: submits a new revision foo.txt#1 with content {“line1”, “line3”} and action ‘add’. Row 1 is created in the table depicted in <figref idref="DRAWINGS">FIG. 8</figref>.</li>
    <li id="ul0001-0005" num="0076">4. ‘sd integrate foo.txt#1,1 bar.txt’: Integrates changes introduced in revisions of foo.txt starting from #1 and ending with #1 (i.e. effectively only revisions in foo.txt#1) into bar.txt. Because there was no bar.txt entry in the revision table, the bar.txt is created on the local machine as a copy of foo.txt#1 and opened for ‘branch’. A pending integration record is created that has information specifying that foo.txt#1,1 revisions are being integrated into bar.txt. No resolve is required, because this is a ‘branch’ action.</li>
    <li id="ul0001-0006" num="0077">5. ‘sd submit’: submits a new revision, bar.txt#1, with content {“line1”, “line3”} and action ‘branch’ and integration history {‘foo.txt#1,1’}). Row 3 is created in <figref idref="DRAWINGS">FIG. 8</figref>.</li>
    <li id="ul0001-0007" num="0078">6. ‘sd edit foo.txt’: opens foo.txt for ‘edit’.</li>
    <li id="ul0001-0008" num="0079">7. ‘sd edit bar.txt’: opens bar.txt for ‘edit’.</li>
    <li id="ul0001-0009" num="0080">8. Change content of foo.txt to contain lines {“line1”, “line2”, “line3”}; and change content of bar.txt to contain lines {“line1”, “line3”, “line4”}.</li>
    <li id="ul0001-0010" num="0081">9. ‘sd submit’: submits the new revisions so that foo.txt#2 is created with content {“line1”, “line2”, “line3”} and action ‘edit’; and bar.txt#2 is created with content {“line1”, “line3”, “line4”} and action ‘edit’. Rows 2 and 4 are created in <figref idref="DRAWINGS">FIG. 8</figref>.</li>
    <li id="ul0001-0011" num="0082">10. ‘sd integrate foo.txt#1,2 bar.txt’: integrates changes introduced in revisions of foo.txt starting from #1 and ending with #2 (i.e. effectively in foo.txt#1 and foo.txt #2) into bar.txt. As there is integration history that stores the fact that foo.txt# 1,1 was already integrated into bar.txt, the effective revision range that actually is used is foo.txt#2,2. Bar.txt is opened for ‘integrate’ and a pending integration record is created that has information that foo.txt#2,2 is being integrated into bar.txt. The content of local bar.txt is not changed.</li>
    <li id="ul0001-0012" num="0083">11. ‘sd resolve bar.txt’: merges the content changes. The pending integration record contains foo.txt#2,2 so the ‘base’ revision is foo.txt#1 and the ‘source’ revision is foo.txt#2 and the change that was made between them was &lt;&lt;add “line2” between “line 1” and “line3”&gt;&gt;and it's merged into bar.txt, so the new content of bar.txt is {“line1”, “line2”, “line3”, “line4”}.</li>
    <li id="ul0001-0013" num="0084">12. ‘sd submit’: submits the new revision bar.txt#3 with content {“line 1”, “line2”, “line3”, “line4”} and action ‘integrate’ and integration history {‘foo.txt#2,2’}. Row 5 is created in <figref idref="DRAWINGS">FIG. 8</figref>.</li>
    <li id="ul0001-0014" num="0085">13. ‘sd edit bar.txt’: opens bar.txt for ‘edit’.</li>
    <li id="ul0001-0015" num="0086">14. Change content of bar.txt to contain lines {“line0”, “line1”, “line2”, “line3”“line4”}.</li>
    <li id="ul0001-0016" num="0087">15. ‘sd submit’: submits the new revisions so that bar.txt#4 is created with content {“line0”, “line1”, “line2”, “line3”, “line4”} and action ‘edit’. Row 6 is created in <figref idref="DRAWINGS">FIG. 8</figref>.
<br/>
Then an undo action is initiated, and the following events occur:
</li>
    <li id="ul0001-0017" num="0088">16. ‘sd undo bar.txt#2,3’: opens bar.txt for undoing changes introduced in revisions starting from #2 and ending with #3 (i.e. effectively in bar.txt#2 and bar.txt#3). As the actions of just-before-the-bottom and the top revisions of the input range and the action of the last revision of the file are ‘edit’ the resulting action is ‘edit-undo’, and resolve is required to merge content changes. The pending ‘undo’ integration record is bar.txt#2,3(undo).</li>
    <li id="ul0001-0018" num="0089">17. ‘sd resolve bar.txt’: merges content changes. The file has a pending ‘undo’ integration record bar.txt#2,3(undo) so the ‘base’ revision is bar.txt#3 and the ‘source’ revision is bar.txt#1—as explained in association with the exemplary resolve operation described in <figref idref="DRAWINGS">FIG. 6</figref>, the range of revisions is turned upside-down. The change that was made between the two revisions was effectively &lt;&lt;delete “line2” between “line1” and “line3” and delete “line4” after “line3”&gt;&gt;. This change is merged into bar.txt, so the new content of bar.txt is {“line0”, “line1”, “line3”}. This is exactly the content bar.txt would have contained if the revisions bar.txt#2 and bar.txt#3 hadn't been submitted.</li>
    <li id="ul0001-0019" num="0090">18. ‘sd submit bar.txt’: submits the new revision bar.txt#5 with content {“line0”, “line1”, “line3”} and action ‘edit-undo’. As the pending ‘undo’ integration record has bar.txt#2 and bar.txt#3 in the range, the integration history for bar.txt#3 (at Row 5 of <figref idref="DRAWINGS">FIG. 8</figref>) is made ‘inactive’. Row 7 is created in <figref idref="DRAWINGS">FIG. 8</figref>.</li>
</ul>
</p>
<p id="p-0073" num="0091">It will be appreciated by those skilled in the art that a new and useful method and system for maintaining revisions and undoing previously entered revisions in an SCM system has been described herein. In view of the many possible computing environments to which the principles of this invention may be applied and the flexibility of designing and carrying out software development tools, including SCM systems that archive revisions to source code during its development, it should be recognized that the embodiments described herein are meant to be illustrative and should not be taken as limiting the scope of invention. Those skilled in the art to which the present invention applies will appreciate that the illustrated embodiments can be modified in arrangement and detail without departing from the spirit of the invention. Therefore, the invention as described herein contemplates all such embodiments as may come within the scope of the following claims and equivalents thereof.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for undoing changes embodied in prior revisions in a software configuration management (SCM) system comprising:
<claim-text>receiving a command to undo a set of revisions within a revision history for a file;</claim-text>
<claim-text>determining, in response to receiving the command, a revision action for undoing changes to the file arising from the set of revisions;</claim-text>
<claim-text>submitting a new revision, incorporating the revision action for undoing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein a type of the revision action is based upon types of revision actions specified by revisions previously submitted to the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref> wherein the type of the revision action is based upon actions of revisions having particular positions within the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein the type of the revision action is based upon actions of revisions having particular positions within the revision history in relation to a specified range of revisions to be undone.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein the type of the revision action is based upon actions specified for: a top revision of the specified range of revisions, a revision just before the bottom revision of the specified range of revisions, and a most recently added revision in the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein determining the revision action comprises selecting a closest reasonable revision action when the set of revisions cannot be undone due to actions currently specified in the revision history for the specified file.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00006">claim 6</claim-ref> wherein the selecting a closest reasonable revision action is enabled by a flag specified in the command.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the revision action for the new revision is identified as an action type for undoing previously submitted revisions for the file.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>resolving a range of revisions to be undone, including identifying differences between the file after carrying out the last revision in the range of revisions, and the file just before the first revision in the range of revisions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising:
<claim-text>merging changes, identified during resolving the range of revisions, into a most recent revision of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the SCM system supports integration of a set of revisions from a source file into a revision target file, further comprising:
<claim-text>modifying a revision entry specifying an integration action, for a revision falling within the specified set of revisions, to indicate that the integration action no longer contributes changes affecting the content of a current version of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A software configuration management (SCM) system including sub-components for facilitating undoing changes embodied in prior revisions in response to receiving a command to undo a set of revisions within a revision history for a file, the SCM system comprising:
<claim-text>a first module for determining, in response to receiving the command, a revision action for reversing changes to the file arising from the set of revisions;</claim-text>
<claim-text>a second module for submitting a new revision, incorporating the revision action for reversing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>a third module fore retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> further comprising a criterion, consulted by the first module, for selecting an action type for undoing the set of revisions.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the criterion further specifies a closest reasonable revision action when the set of revisions cannot be undone due to actions currently specified in the revision history for the specified file.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The system of <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein a flag specified in the command selectively allows selecting a closest reasonable revision action using the criterion.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the criterion comprises a decision table.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The system of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the criterion specifies an action type based upon types of revision actions specified by revisions previously submitted to the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The system of <claim-ref idref="CLM-00017">claim 17</claim-ref> wherein the criterion specifies an action type based upon actions of revisions having particular positions within the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The system of <claim-ref idref="CLM-00018">claim 18</claim-ref> wherein the criterion specifies an action type based upon actions of revisions having particular positions within the revision history in relation to a specified range of revisions to be undone.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The system of <claim-ref idref="CLM-00019">claim 19</claim-ref> wherein the criterion specifies an action type based upon actions specified for: a top revision of the specified range of revisions, a revision just before the bottom revision of the specified range of revisions, and a most recently added revision in the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the revision action for the new revision is identified as an action type for undoing previously submitted revisions for the file.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> further comprising:
<claim-text>a third module for resolving a range of revisions to be undone, wherein the third module identifies differences between the file after carrying out the last revision in the range of revisions, and the file just before the first revision in the range of revisions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The system of <claim-ref idref="CLM-00022">claim 22</claim-ref> wherein the third module merges changes, identified during resolving the range of revisions, into a most recent revision of the file.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The system of <claim-ref idref="CLM-00022">claim 22</claim-ref> wherein integration of a set of revisions from a source file into a revision target file is supported and wherein the second module modifies a revision entry specifying an integration action, for a revision falling within the specified set of revisions, to indicate that the integration action no longer contributes changes affecting the content of a current version of the file.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The system of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein the first and second modules are incorporated into an SCM client.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The system of <claim-ref idref="CLM-00025">claim 25</claim-ref> wherein the revision history is maintained within an SCM server.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. At least one computer-readable medium including computer-executable instructions for facilitating undoing changed embodied in prior revisions in a software configuration management (SCM) system, the computer-executable instructions facilitating performing a method comprising:
<claim-text>receiving a command to undo a set of revisions within a revision history for a file;</claim-text>
<claim-text>determining, in response to receiving the command, a revision action for undoing changes to the file arising from the set of revisions; and</claim-text>
<claim-text>submitting a new revision, incorporating the revision action for undoing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The computer-readable medium of <claim-ref idref="CLM-00027">claim 27</claim-ref> wherein a type of the revision action is based upon types of revision actions specified by revisions previously submitted to the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. The computer-readable medium of <claim-ref idref="CLM-00028">claim 28</claim-ref> wherein the type of the revision action is based upon actions of revisions having particular positions within the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The computer-readable medium of <claim-ref idref="CLM-00029">claim 29</claim-ref> wherein the type of the revision action is based upon actions of revisions having particular positions within the revision history in relation to a specified range of revisions to be undone.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The computer-readable medium of <claim-ref idref="CLM-00030">claim 30</claim-ref> wherein the type of the revision action is based upon actions specified for: a top revision of the specified range of revisions, a revision just before the bottom revision of the specified range of revisions, and a most recently added revision in the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. The computer-readable medium of <claim-ref idref="CLM-00027">claim 27</claim-ref> wherein determining the revision action comprises selecting a closest reasonable revision action when the set of revisions cannot be undone due to actions currently specified in the revision history for the specified file.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. The computer-readable medium of <claim-ref idref="CLM-00032">claim 32</claim-ref> wherein the selecting a closest reasonable revision action is enabled by a flag specified in the command.</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. The computer-readable medium of <claim-ref idref="CLM-00027">claim 27</claim-ref> wherein the revision action for the new revision is identified as an action type for undoing previously submitted revisions for the file.</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. The computer-readable medium of <claim-ref idref="CLM-00027">claim 27</claim-ref> further comprising computer-executable instructions facilitating performing:
<claim-text>resolving a range of revisions to be undone, including identifying differences between the file after carrying out the last revision in the range of revisions, and the file just before the first revision in the range of revisions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. The computer-readable medium of <claim-ref idref="CLM-00035">claim 35</claim-ref> further comprising computer-executable instructions facilitating performing: merging changes, identified during resolving the range of revisions, into a most recent revision of the file.</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. The computer-readable medium of <claim-ref idref="CLM-00036">claim 36</claim-ref>, wherein the SCM system supports integration of a set of revisions from a source file into a revision target file, and further comprising computer-executable instructions facilitating performing:
<claim-text>modifying a revision entry specifying an integration action, for a revision falling within the specified set of revisions, to indicate that the integration action no longer contributes changes affecting the content of a current version of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00038" num="00038">
<claim-text>38. A software configuration management (SCM) system capable of undoing changes embodied in a range of prior revisions while preserving the range of prior revisions in the revision history, the SCM system comprising:
<claim-text>means for receiving a command to undo a set of revisions within a revision history for a file;</claim-text>
<claim-text>means for determining a revision action for undoing changes to the file arising from the set of revisions;</claim-text>
<claim-text>means for submitting a new revision, incorporating the revision action for undoing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>means for retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00039" num="00039">
<claim-text>39. The SCM system of <claim-ref idref="CLM-00038">claim 38</claim-ref> wherein the determining means comprises means for selecting a closest reasonable revision action when the set of revisions cannot be undone due to actions currently specified in the revision history for the specified file.</claim-text>
</claim>
<claim id="CLM-00040" num="00040">
<claim-text>40. The SCM system of <claim-ref idref="CLM-00038">claim 38</claim-ref> further comprising:
<claim-text>means for resolving a range of revisions to be undone, the resolving means including means for identifying differences between the file after carrying out the last revision in the range of revisions, and the file just before the first revision in the range of revisions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00041" num="00041">
<claim-text>41. The SCM system of <claim-ref idref="CLM-00040">claim 40</claim-ref> further comprising:
<claim-text>means for merging changes, identified by the resolving means, into a most recent revision of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00042" num="00042">
<claim-text>42. The SCM system of <claim-ref idref="CLM-00038">claim 38</claim-ref>, wherein the SCM system supports integration of a set of revisions from a source file into a revision target file, further comprising:
<claim-text>means for modifying a revision entry specifying an integration action, for a revision falling within the specified set of revisions, to indicate that the integration action no longer contributes changes affecting the content of a current version of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00043" num="00043">
<claim-text>43. A software configuration management (SCM) system including sub-components for facilitating undoing changes embodied in prior revisions in response to receiving a command to undo a set of revisions within a revision history for a file, the SCM system comprising:
<claim-text>a first means for determining, in response to receiving the command, a revision action for reversing changes to the file arising from the set of revisions;</claim-text>
<claim-text>a second means for submitting a new revision, incorporating the revision action for reversing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>a third means for retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00044" num="00044">
<claim-text>44. The SCM system of <claim-ref idref="CLM-00043">claim 43</claim-ref> further comprising:
<claim-text>a third means for resolving a range of revisions to be undone, wherein the third means identifies differences between the file after carrying out the last revision in the range of revisions, and the file just before the first revision in the range of revisions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00045" num="00045">
<claim-text>45. A method for undoing changes embodied in prior revisions in a software configuration management (SCM) system comprising:
<claim-text>receiving a command to undo a set of revisions within a revision history for a file;</claim-text>
<claim-text>determining by a resolve module, in response to receiving the command, revision content for undoing changes to the file arising from the set of revisions;</claim-text>
<claim-text>submitting a new revision, incorporating the revision content for undoing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00046" num="00046">
<claim-text>46. The method of <claim-ref idref="CLM-00045">claim 45</claim-ref> further comprising:
<claim-text>determining a revision action for undoing changes to the file arising from the set of revisions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00047" num="00047">
<claim-text>47. The method of <claim-ref idref="CLM-00046">claim 46</claim-ref> wherein a type of the revision action is based upon types of revision actions specified by revisions previously submitted to the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00048" num="00048">
<claim-text>48. The method of <claim-ref idref="CLM-00047">claim 47</claim-ref> wherein the type of the revision action is based upon actions of revisions having particular positions within the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00049" num="00049">
<claim-text>49. The method of <claim-ref idref="CLM-00048">claim 48</claim-ref> wherein the type of the revision action is based upon actions of revisions having particular positions within the revision history in relation to a specified range of revisions to be undone.</claim-text>
</claim>
<claim id="CLM-00050" num="00050">
<claim-text>50. The method of <claim-ref idref="CLM-00049">claim 49</claim-ref> wherein the type of the revision action is based upon actions specified for: a top revision of the specified range of
<claim-text>revisions, a revision just before the bottom revision of the specified range of revisions, and a most recently added revision in the revision history for the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00051" num="00051">
<claim-text>51. The method of <claim-ref idref="CLM-00046">claim 46</claim-ref> wherein determining an action comprises selecting a closest reasonable revision action when the set of revisions cannot be undone due to actions currently specified in the revision history for the specified file.</claim-text>
</claim>
<claim id="CLM-00052" num="00052">
<claim-text>52. The method of <claim-ref idref="CLM-00045">claim 45</claim-ref> wherein determining by a resolve module comprises identifying differences between the file after carrying out the last revision in the range of revisions, and the file just before the first revision in the range of revisions.</claim-text>
</claim>
<claim id="CLM-00053" num="00053">
<claim-text>53. The method of <claim-ref idref="CLM-00052">claim 52</claim-ref> further comprising:
<claim-text>merging changes, identified during the determining by the resolve module, into a most recent revision of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00054" num="00054">
<claim-text>54. The method of <claim-ref idref="CLM-00045">claim 45</claim-ref>, wherein the SCM system supports integration of a set of revisions from a source file into a revision target file, further comprising:
<claim-text>modifying a revision entry specifying an integration action, for a revision falling within the specified set of revisions, to indicate that the integration action no longer contributes changes affecting the content of a current version of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00055" num="00055">
<claim-text>55. A software configuration management (SCM) system including sub-components for facilitating undoing changes embodied in prior revisions in response to receiving a command to undo a set of revisions within a revision history for a file, the SCM system comprising:
<claim-text>a resolve module for determining, in response to receiving the command, revision content for reversing changes to the file arising from the set of revisions;</claim-text>
<claim-text>a submit module for submitting a new revision, incorporating the revision content for reversing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>a retaining module for retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00056" num="00056">
<claim-text>56. The system of <claim-ref idref="CLM-00055">claim 55</claim-ref> further comprising an undo module for determining, in response to receiving the command, a revision action for reversing changes to the file arising from the set of revisions.</claim-text>
</claim>
<claim id="CLM-00057" num="00057">
<claim-text>57. The system of <claim-ref idref="CLM-00056">claim 56</claim-ref> further comprising a criterion, consulted by the undo module, for selecting an action type for undoing the set of revisions.</claim-text>
</claim>
<claim id="CLM-00058" num="00058">
<claim-text>58. The system of <claim-ref idref="CLM-00057">claim 57</claim-ref> wherein the criterion comprises a decision table.</claim-text>
</claim>
<claim id="CLM-00059" num="00059">
<claim-text>59. The system of <claim-ref idref="CLM-00057">claim 57</claim-ref> wherein the criterion specifies an action type based upon types of revision actions specified by revisions previously submitted to the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00060" num="00060">
<claim-text>60. The system of <claim-ref idref="CLM-00059">claim 59</claim-ref> wherein the criterion specifies an action type based upon actions of revisions having particular positions within the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00061" num="00061">
<claim-text>61. The system of <claim-ref idref="CLM-00060">claim 60</claim-ref> wherein the criterion specifies an action type based upon actions of revisions having particular positions within the revision history in relation to a specified range of revisions to be undone.</claim-text>
</claim>
<claim id="CLM-00062" num="00062">
<claim-text>62. The system of <claim-ref idref="CLM-00061">claim 61</claim-ref> wherein the criterion specifies an action type based upon actions specified for: a top revision of the specified range of revisions, a revision lust before the bottom revision of the specified range of revisions, and a most recently added revision in the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00063" num="00063">
<claim-text>63. The system of <claim-ref idref="CLM-00057">claim 57</claim-ref> wherein the criterion further specifies a closest reasonable revision action when the set of revisions cannot be undone due to actions currently specified in the revision history for the specified file.</claim-text>
</claim>
<claim id="CLM-00064" num="00064">
<claim-text>64. The system of <claim-ref idref="CLM-00063">claim 63</claim-ref> wherein a flag specified in the command selectively allows selecting a closest reasonable revision action using the criterion.</claim-text>
</claim>
<claim id="CLM-00065" num="00065">
<claim-text>65. The system of <claim-ref idref="CLM-00056">claim 56</claim-ref> wherein the revision action for the new revision is identified as an action type for undoing previously submitted revisions for the file.</claim-text>
</claim>
<claim id="CLM-00066" num="00066">
<claim-text>66. The system of <claim-ref idref="CLM-00055">claim 55</claim-ref> wherein the resolve module identifies differences between the file after carrying out the last revision in the range of revisions, and the file just before the first revision in the range of revisions.</claim-text>
</claim>
<claim id="CLM-00067" num="00067">
<claim-text>67. The system of <claim-ref idref="CLM-00066">claim 66</claim-ref> wherein the resolve module merges changes, identified during resolving the range of revisions, into a most recent revision of the file.</claim-text>
</claim>
<claim id="CLM-00068" num="00068">
<claim-text>68. The system of <claim-ref idref="CLM-00066">claim 66</claim-ref> wherein integration of a set of revisions from a source file into a revision target file is supported and wherein the submit module modifies a revision entry specifying an integration action, for a revision falling within the specified set of revisions, to indicate that the integration action no longer contributes changes affecting the content of a current version of the file.</claim-text>
</claim>
<claim id="CLM-00069" num="00069">
<claim-text>69. The system of <claim-ref idref="CLM-00055">claim 55</claim-ref> wherein the resolve and submit modules are incorporated into an SCM client.</claim-text>
</claim>
<claim id="CLM-00070" num="00070">
<claim-text>70. The system of <claim-ref idref="CLM-00069">claim 69</claim-ref> wherein the revision history is maintained within an SCM server.</claim-text>
</claim>
<claim id="CLM-00071" num="00071">
<claim-text>71. At least one computer-readable medium including computer-executable instructions for facilitating undoing changes embodied in prior revisions in a software configuration management (SCM) system, the computer-executable instructions facilitating performing a method comprising:
<claim-text>receiving a command to undo a set of revisions within a revision history for a file;</claim-text>
<claim-text>determining by a resolve module, in response to receiving the command, revision content for undoing changes to the file arising from the set of revisions;</claim-text>
<claim-text>submitting a new revision, incorporating the revision content for undoing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00072" num="00072">
<claim-text>72. The computer-readable medium of <claim-ref idref="CLM-00071">claim 71</claim-ref> wherein the method further comprises:
<claim-text>determining a revision action for undoing changes to the file arising from the set of revisions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00073" num="00073">
<claim-text>73. The computer-readable medium of <claim-ref idref="CLM-00072">claim 72</claim-ref> wherein a type of the revision action is based upon types of revision actions specified by revisions previously submitted to the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00074" num="00074">
<claim-text>74. The computer-readable medium of <claim-ref idref="CLM-00073">claim 73</claim-ref> wherein the type of the revision action is based upon actions of revisions having particular positions within the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00075" num="00075">
<claim-text>75. The computer-readable medium of <claim-ref idref="CLM-00074">claim 74</claim-ref> wherein the type of the revision action Is based upon actions of revisions having particular positions within the revision history In relation to a specified range of revisions to be undone.</claim-text>
</claim>
<claim id="CLM-00076" num="00076">
<claim-text>76. The computer-readable medium of <claim-ref idref="CLM-00075">claim 75</claim-ref> wherein the type of the revision action is based upon actions specified for: a top revision of the specified range of revisions, a revision just before the bottom revision of the specified range of revisions, and a most recently added revision in the revision history for the file.</claim-text>
</claim>
<claim id="CLM-00077" num="00077">
<claim-text>77. The computer-readable medium of <claim-ref idref="CLM-00072">claim 72</claim-ref> wherein determining a revision action comprises selecting a closest reasonable revision action when the set of revisions cannot be undone due to actions currently specified In the revision history for the specified file.</claim-text>
</claim>
<claim id="CLM-00078" num="00078">
<claim-text>78. The computer-readable medium of <claim-ref idref="CLM-00071">claim 71</claim-ref> wherein determining by a resolve module comprises identifying differences between the file after carrying out the last revision In the range of revisions, and the file just before the first revision in the range of revisions.</claim-text>
</claim>
<claim id="CLM-00079" num="00079">
<claim-text>79. The computer-readable medium of <claim-ref idref="CLM-00078">claim 78</claim-ref> wherein the method further comprises:
<claim-text>merging changes, identified during the determining by the resolve module, into a most recent revision of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00080" num="00080">
<claim-text>80. The computer-readable medium of <claim-ref idref="CLM-00071">claim 71</claim-ref>, wherein the SCM system supports integration of a set of revisions from a source file into a revision target file, further comprising:
<claim-text>modifying a revision entry specifying an integration action, for a revision falling within the specified set of revisions, to indicate that the integration action no longer contributes changes affecting the content of a current version of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00081" num="00081">
<claim-text>81. A software configuration management (SCM) system capable of undoing changes embodied in a range of prior revisions while preserving the range of prior revisions in the revision history, the SCM system comprising:
<claim-text>means for receiving a command to undo a set of revisions within a revision history for a file;</claim-text>
<claim-text>a resolve module for determining revision content for undoing changes to the file arising from the set of revisions; and</claim-text>
<claim-text>means for submitting a new revision, incorporating the revision content for undoing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>means for retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00082" num="00082">
<claim-text>82. The SCM system of <claim-ref idref="CLM-00081">claim 81</claim-ref> further comprising:
<claim-text>means for determining a revision action for undoing changes to the file arising from the set of revisions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00083" num="00083">
<claim-text>83. The SCM system of <claim-ref idref="CLM-00082">claim 82</claim-ref> wherein the means for determining a revision action comprises means for selecting a closest reasonable revision action when the set of revisions cannot be undone due to actions currently specified in the revision history for the specified file.</claim-text>
</claim>
<claim id="CLM-00084" num="00084">
<claim-text>84. The SCM system of <claim-ref idref="CLM-00081">claim 81</claim-ref>, wherein the SCM system supports integration of a set of revisions from a source file into a revision target file, further comprising:
<claim-text>means for modifying a revision entry specifying an integration action, for a revision falling within the specified set of revisions, to indicate that the integration action no longer contributes changes affecting the content of a current version of the file.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00085" num="00085">
<claim-text>85. A software configuration management (SCM) system including sub-components for facilitating undoing changes embodied in prior revisions in response to receiving a command to undo a set of revisions within a revision history for a file, the SCM system comprising:
<claim-text>means for determining, in response to receiving the command, revision content for reversing changes to the file arising from the set of revisions;</claim-text>
<claim-text>means for submitting a new revision, incorporating the revision content for reversing changes to the file arising from the set of revisions, to the revision history for the file; and</claim-text>
<claim-text>means for retaining prior revisions wherein the undo actions are stored within new entries in the revision history.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
