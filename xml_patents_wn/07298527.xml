<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298527-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298527</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10795335</doc-number>
<date>20040309</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2003-066859</doc-number>
<date>20030312</date>
</priority-claim>
<priority-claim sequence="02" kind="national">
<country>JP</country>
<doc-number>2003-066860</doc-number>
<date>20030312</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>851</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>1</main-group>
<subgroup>60</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>358  19</main-classification>
<further-classification>358523</further-classification>
<further-classification>358524</further-classification>
<further-classification>358518</further-classification>
<further-classification>358529</further-classification>
</classification-national>
<invention-title id="d0e89">Image forming apparatus and its control method, and computer program</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5768410</doc-number>
<kind>A</kind>
<name>Ohta et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>382162</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5907415</doc-number>
<kind>A</kind>
<name>Yabe</name>
<date>19990500</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>358518</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6023344</doc-number>
<kind>A</kind>
<name>Yabe</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>358296</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6359703</doc-number>
<kind>B1</kind>
<name>Yabe</name>
<date>20020300</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>358  19</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6680740</doc-number>
<kind>B2</kind>
<name>Krueger</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345601</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7095529</doc-number>
<kind>B2</kind>
<name>Krueger et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  19</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>7209261</doc-number>
<kind>B2</kind>
<name>Krueger et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  19</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2004/0239965</doc-number>
<kind>A1</kind>
<name>Krueger et al.</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  19</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>7</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>358  19</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358518</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358523</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358524</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358529</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>13</number-of-drawing-sheets>
<number-of-figures>13</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040179214</doc-number>
<kind>A1</kind>
<date>20040916</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Yabe</last-name>
<first-name>Takashi</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Fitzpatrick, Cella, Harper &amp; Scinto</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Williams</last-name>
<first-name>Kimberly A.</first-name>
<department>2625</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Input print data can assume one of a RGB color space, CMYK color space, and Gray color space. When graphic arts are principally to be printed, data of these color spaces is converted into CIE Color Space XYZ as a standard color space, and data of the standard color space is converted into a CMYK color space according to the Output Profile of a printer, which then prints the converted data. On the other hand, when office documents are principally to be printed, conversion into the standard color space is skipped, and input color space data is directly converted into a print color space CMYK, and the converted data is then printed.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="146.56mm" wi="214.55mm" file="US07298527-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="221.74mm" wi="104.99mm" orientation="landscape" file="US07298527-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="224.45mm" wi="101.94mm" orientation="landscape" file="US07298527-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="215.98mm" wi="146.98mm" orientation="landscape" file="US07298527-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="122.94mm" wi="153.59mm" file="US07298527-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="122.17mm" wi="150.11mm" file="US07298527-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="123.27mm" wi="153.25mm" file="US07298527-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="59.18mm" wi="142.07mm" file="US07298527-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="224.37mm" wi="150.45mm" file="US07298527-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="156.80mm" wi="87.55mm" file="US07298527-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="57.23mm" wi="65.79mm" file="US07298527-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="73.49mm" wi="142.41mm" file="US07298527-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="75.35mm" wi="146.22mm" file="US07298527-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="207.35mm" wi="154.01mm" file="US07298527-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The present invention relates to a technique for printing in accordance with data described in a page description language (PDL).</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">As one of prevalent PDLs, PostScript (which is a registered trademark of Adobe Systems Corporation, U.S., and will be abbreviated as “PS” hereinafter) is known. PS Levels 1 and 2 are older versions, and PS Level 3 is introduced as the current version. With PS Levels 1 and 2, three different color spaces RGB, CMYK, and Gray are selectable, and one of these color spaces used is obtained by interpreting a description in print data.</p>
<p id="p-0004" num="0003">Therefore, a printer determines which of DeviceRGB, DeviceCMYK, and DeviceGray is used, converts input signals into C (Cyan), M (Magenta), Y (Yellow), and K (Black) on a printer color space by a simple process according to the determination result, and then executes a print process, as shown in <figref idref="DRAWINGS">FIG. 1</figref>. For example, in the case of DeviceRGB, i.e., RGB signals (Red, Green, and Blue), an inverse unit (<b>101</b>) inverses the RGB signals into CMY signals, which undergo an Under-Color Removal (UCR) process and Black Generation (BG) process in a UCR &amp; BG unit (<b>102</b>), thus generating CMYK signals. In case of DeviceCMYK, i.e., CMYK signals, since this color space is the same as the output printer space, the CMYK signals are directly output without any process. Furthermore, in the case of DeviceGray, i.e., one Gray color, since the luminance and density are inverted, the Gray signal is inverted by an inverse unit (<b>103</b>) to generate a K component, i.e., CMYK signals including only the K component, thus making a print process.</p>
<p id="p-0005" num="0004">On the other hand, PS Level 3 allows one to apply a color management process to DeviceRGB, DeviceCMYK, or DeviceGray upon outputting by designating a UseCIEColor parameter. That is, if the UseCIEColor parameter is “true”, a color processing flow shown in <figref idref="DRAWINGS">FIG. 2</figref> is applied; if it is “false”, the process shown in <figref idref="DRAWINGS">FIG. 1</figref> is applied.</p>
<p id="p-0006" num="0005">The color management process shown in <figref idref="DRAWINGS">FIG. 2</figref> will be described below. In the case of DeviceRGB, an RGB Source Profile, which is set in advance, is selected, and DeviceRGB is converted into an XYZ color space (<b>204</b>), which is normalized to specify colors, using the selected profile. The XYZ color space is converted into CMYK values in accordance with an Output Profile (<b>205</b>) as a profile which stores information about an appropriate combination of CMYK values to output that XYZ color space. In this way, the printer outputs input RGB signals to have correct values in terms of chromaticity.</p>
<p id="p-0007" num="0006">DeviceCMYK inputs are converted into the XYZ color space (<b>204</b>) using a CMYK Simulation Profile (<b>202</b>), which is set in advance. Also, DeviceGray inputs are converted into the XYZ color space (<b>204</b>) using a Gray Profile (<b>203</b>) which is pre-stored in a device. Since the conversion process from the converted XYZ color space (<b>204</b>) into CMYK values is the same as that for DeviceRGB, description thereof will be omitted.</p>
<p id="p-0008" num="0007">Actual flows of respective signals will be explained below using <figref idref="DRAWINGS">FIG. 8</figref>. When the UseCIEColor parameter=true, DeviceRGB is converted into CIEBasedABC or CIEBasedDEF, DeviceCMYK is converted into CIEBasedDEFG, and DeviceGray is converted into CIEBasedA. Also, these color spaces are converted into the XYZ color space as the intermediate color space of PS color management. Next, the XYZ color space is converted into CMYK values according to setups of the Output Profile (<b>205</b>).</p>
<p id="p-0009" num="0008">As can be seen from <figref idref="DRAWINGS">FIG. 8</figref>, a larger number of conversion processes than in the process shown in <figref idref="DRAWINGS">FIG. 1</figref> for PS Level 1 or 2 are required, and a longer calculation time is required. Especially, in the case of an image with a large bitmap, individual pixels must undergo such conversion processes, thus taking more time.</p>
<p id="p-0010" num="0009">Color management of PS Level 3 shown in <figref idref="DRAWINGS">FIG. 2</figref> is not switched for respective objects which are categorized to Text, Graphics, Image, and the like, and black, e.g., R=G=B=N %, C=Y=M=N %, or K=N % (N=0% to 100%), is normally converted into process black as a combination of four colors C, M, Y, and K, which represent a chromaticity value optimal to a printer by color management.</p>
<p id="p-0011" num="0010">As described above, the UseCIEColor parameter is normally set “true”. Upon outputting even an image that appears to be a monochrome image on the screen, to a color printer, it is reproduced using process black as a combination of four color components C, M, Y, and K by color management, i.e., such image is normally output as a color image.</p>
<p id="p-0012" num="0011">Therefore, an image, graphics, and text, which are created or input by the user as monochrome ones on the screen of a host computer, are output as a color image, graphics, and text. Graphic Arts users who preferably use PS and place importance on color tincture in color management are rarely dissatisfied with the outputs being color outputs, and no problem is posed.</p>
<p id="p-0013" num="0012">However, due to the spread of PS to offices in recent years, office users who create and print documents that mainly include text do not prefer the complicated, time-consuming color management process described above using <figref idref="DRAWINGS">FIG. 8</figref>, since they normally create monochrome documents and require a higher print speed rather than high color reproducibility. Also, only one UseCIEColor parameter is set for all of DeviceRGB, DeviceCMYK, and DeviceGray, and cannot be individually set.</p>
<p id="p-0014" num="0013">PS Level 3 can define a Separation color space and DeviceN color space to cope with an expensive dedicated printing machine which prints using special color agents, in addition to the above CMYK, RGB, and GRAY color spaces. For example, the user of a dedicated printing machine (e.g., an image setter or the like) uses the Separation color space to cope with colors which cannot be reproduced by basic CMYK, and the DeviceN color space to broaden the gamut by adding colors to standard CMYK colors.</p>
<p id="p-0015" num="0014">The Separation color space and DeviceN color space are mainly used in print processes by the dedicated printing machine, which entails a very high print cost. Therefore, test print processes are often made using a normal color printer using four colors C, M, Y, and K.</p>
<p id="p-0016" num="0015">As a problem posed in such case, the Separation color space and DeviceN color space are those for the dedicated printing machine with advanced functions, and cannot be directly reflected on the color space of a normal color printer that uses CMYK color agents. That is, the normal color printer cannot directly print data of the Separation color space and DeviceN color space.</p>
<p id="p-0017" num="0016">Hence, PS Level 3 allows a normal color printer to print data of the Separation color space and DeviceN color space by describing a substitute color space.</p>
<p id="p-0018" num="0017">For example, the Separation color space is defined as follows:</p>
<p id="p-0019" num="0018">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="63pt" align="left"/>
<colspec colname="1" colwidth="154pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>[ /Separation</entry>
</row>
<row>
<entry/>
<entry> (LogoGreen)</entry>
</row>
<row>
<entry/>
<entry> /DeviceCMYK</entry>
</row>
<row>
<entry/>
<entry> { dup 0.84 mul</entry>
</row>
<row>
<entry/>
<entry> exch 0.0 exch dup 0.44 mul</entry>
</row>
<row>
<entry/>
<entry> exch 0.21 mul</entry>
</row>
<row>
<entry/>
<entry> }</entry>
</row>
<row>
<entry/>
<entry>] setcolorspace</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0020" num="0019">This description means that print data represents color “LogoGreen”, and its color space corresponds to a space color obtained by converting parameters described in the curled brackets { . . . } if it is expressed by the CMYK color space (substitute color space).</p>
<p id="p-0021" num="0020">Therefore, when the above print PS data is input, the color space of color “LogoGreen” is expressed by parameters of a given CMYK color space, and the values of color “LogoGreen” described in print data to be subsequently received are processed to indicate CMYK values on the substitute color space.</p>
<p id="p-0022" num="0021">A description in case of the DeviceN color space is as follows:</p>
<p id="p-0023" num="0022">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="168pt" align="left"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>[ /Indexed</entry>
</row>
<row>
<entry/>
<entry> [ /DeviceN</entry>
</row>
<row>
<entry/>
<entry>  [/Cyan /Black]</entry>
</row>
<row>
<entry/>
<entry>  /DeviceCMYK</entry>
</row>
<row>
<entry/>
<entry>  {0 0 3 −1 roll}</entry>
</row>
<row>
<entry/>
<entry> ]</entry>
</row>
<row>
<entry/>
<entry> 255</entry>
</row>
<row>
<entry/>
<entry> &lt;6605 6806 6907 6B09 6C0A ...&gt;</entry>
</row>
<row>
<entry/>
<entry>] setcolorspace</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="1" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0024" num="0023">This description means that a print process is made using two color agents (cyan and black) (an example of N=2 of DeviceN), and defines conversion into a substitute color space using parameters defined in the subsequent curled brackets { . . . } when a color space expressed by these two colors is expressed by the substitute color space CMYK.</p>
<p id="p-0025" num="0024">As described above, PS Level 3 allows a normal CMYK printer to print by defining the Separation color space or DeviceN color space using the substitute color space.</p>
<p id="p-0026" num="0025">In the case of the above example of the Separation color space, since the substitute color space CMYK is used, the subsequent processing is performed under the assumption that data on the “CMYK” color space shown in <figref idref="DRAWINGS">FIG. 2</figref> are input. The same applies to the example of the DeviceN color space (when the UseCIEColor parameter=True).</p>
<p id="p-0027" num="0026">Upon reception of data of the Separation color space or DeviceN color space, many color space conversions, i.e., conversion into the substitute color space, conversion of that substitute color space into the standard color space XYZ, and conversion of the color space XYZ into CMYK values based on an Output Profile of a printer, are required. Therefore, when an object to be printed is a bitmap image, since individual pixels must undergo these conversion processes, the time required for these processes is not negligible, resulting in a drop in the print throughput.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0028" num="0027">It is an object of the present invention to provide a technique which can set even print data described in a page description language such as PostScript Level 3 that realizes high-precision color reproducibility to print mostly monochrome office documents, and can build environments optimal for respective fields of use.</p>
<p id="p-0029" num="0028">A method of controlling an image forming apparatus according to the present invention is, for example, a method of controlling an image forming apparatus, which converts print data into a device-independent standard color space according to a description of the print data, converts data of the standard color space into a print color space according to a profile depending on print unit, and prints the converted data, comprising: a setting step of setting whether or not a conversion process into the standard color space is skipped, and storing and holding that setup in predetermined storage means; and a control step of directly converting, when it is set in the setting step that the conversion process into the standard color space is skipped, the print data into a color space of the print unit according to the description of the print data.</p>
<p id="p-0030" num="0029">It is another object of the present invention to provide a technique which can implement print processes of print data expressed by the Separation color space or DeviceN color space, which are convenient for both a user who places an importance on a print speed rather than color reproducibility, and a user who wants high-precision color reproducibility.</p>
<p id="p-0031" num="0030">A method of controlling an image forming apparatus according to the present invention is, for example, a method of controlling an image forming apparatus which receives print data expressed by a Separation color space or DeviceN color space, converts the print data into a print color space, and prints the converted data, comprising: a setting step of setting whether or not color management is applied; a conversion step of converting the received print data expressed by the Separation color space or DeviceN color space into a substitute color space according to a description thereof; a first conversion step of converting, when it is set in the setting step that color management is applied, the color space obtained in the conversion step into a print color space via a color management process; and a second conversion step of converting, when it is set in the setting step that color management is not applied, the color space obtained in the conversion step into a print color space without any color management process.</p>
<p id="p-0032" num="0031">Other features and advantages of the present invention will be apparent from the following description taken in conjunction with the accompanying drawings, in which like reference characters designate the same or similar parts throughout the figures thereof.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0033" num="0032">The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate embodiments of the invention and, together with the description, serve to explain the principles of the invention.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram for explaining an overview of processes for a conventional print process;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram for explaining an overview of processes for a conventional print process;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram showing an overview of processes for a print process according to an embodiment of the present invention;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 4</figref> is a flow chart showing a processing sequence upon reception of data of the RGB color space in the embodiment of the present invention;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 5</figref> is a flow chart showing a processing sequence upon reception of data of the CMYK color space in the embodiment of the present invention;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 6</figref> is a flow chart showing a processing sequence upon reception of Gray-expressed data in the embodiment of the present invention;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 7</figref> shows a user interface used to make a switching setup;</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 8</figref> is a flow chart showing the sequence of a color management process;</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram of a printer in the embodiment of the present invention;</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 10</figref> shows the contents of a nonvolatile memory in the embodiment of the present invention;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 11</figref> shows an example of a setting dialog used to set whether or not color management is applied in the embodiment of the present invention;</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 12</figref> shows the contents of a nonvolatile memory in the embodiment of the present invention; and</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 13</figref> is a flow chart showing the processing sequence of the printer the embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0047" num="0046">Preferred embodiments of the present invention will now be described in detail in accordance with the accompanying drawings.</p>
<heading id="h-0006" level="1">First Embodiment</heading>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram of a printer to which an embodiment of the present invention is applied. Referring to <figref idref="DRAWINGS">FIG. 9</figref>, reference numeral <b>1</b> denotes a CPU which controls the overall printer; <b>2</b>, a ROM which stores the processing sequence of the CPU <b>1</b> and font data; and 3, a RAM which is used as a work area of the CPU <b>1</b>. Reference numeral <b>4</b> denotes a control panel on which a liquid crystal display and various keys are arranged. Reference numeral <b>5</b> denotes a nonvolatile memory (for example, a battery backed-up RAM, or an EEPROM, flash memory, or the like), which holds setup information.</p>
<p id="p-0049" num="0048">Reference numeral <b>6</b> denotes an interface which receives print data from a host computer. Note that this printer may serve as a network printer. In this case, the interface <b>6</b> is connected to a network to receive print data from a host computer. Reference numeral <b>7</b> denotes a frame memory on which bitmap images to be printed (four colors C, M, Y, and K) can be rendered; and <b>8</b>, a printer engine which actually executes a print process.</p>
<p id="p-0050" num="0049">Reference numeral <b>9</b> denotes an engine interface which outputs bitmap image data of respective color components rendered on the frame memory <b>7</b> to the printer engine <b>8</b>. Note that a laser beam printer engine will be exemplified as the printer engine. Of course, the present invention is not limited to such specific printer engine, and a printer of a type that ejects ink droplets may be used. In this case, the frame memory <b>7</b> need only have a memory capacity that can store data for one or a plurality of scans of a printhead.</p>
<p id="p-0051" num="0050">In the printer of this embodiment with the above arrangement, the user sets and registers a use purpose and profiles of respective color space using the control panel <b>4</b>. <figref idref="DRAWINGS">FIG. 7</figref> shows a selection menu displayed on the display of the control panel <b>4</b>. The user selects, using switches, one of “Office” that prints monochrome office documents at high speed when he or she mainly uses this printer to print monochrome office documents and does not require high-precision color tincture reproduction, and “Graphic Arts” that executes a print process of Graphic Arts and the like with high color reproducibility. When the user selects “Graphic Arts”, he or she also selects profiles of color spaces RGB, CMYK, and Gray designated by print data.</p>
<p id="p-0052" num="0051">For example, when print data described in the color space RGB is received, the user can select a profile to be used from:</p>
<p id="p-0053" num="0052">sRGB</p>
<p id="p-0054" num="0053">HDTV γ1.5</p>
<p id="p-0055" num="0054">HDTV γ1.8</p>
<p id="p-0056" num="0055">HDTV γ2.4</p>
<p id="p-0057" num="0056">Custom</p>
<p id="p-0058" num="0057">None</p>
<p id="p-0059" num="0058">sRGB, HDTV γ1.5, HDTV γ1.8, and HDTV γ2.4 are profiles used upon converting the color space RGB into a standard color space XYZ, and have different conversion levels. Custom is prepared when the user wants to create or download his or her favorite profile (upon reception of a predetermined command from a host computer, a subsequent profile is stored and held). None means that no profile is used.</p>
<p id="p-0060" num="0059">In case of CMYK, the user selects a profile from SWOP, EuroScale, JapanColor, Custom, and None. In case of Gray, the user sets a flag indicating whether or not a conversion process into the XYZ color space using a profile is to be inserted (if the flag is OFF, it is equivalent to None).</p>
<p id="p-0061" num="0060">As described above, when the user selects “Graphic Arts”, he or she can designate a profile to be used for each type of print data to be received.</p>
<p id="p-0062" num="0061">On the other hand, when the user selects “Office” on the display menu in <figref idref="DRAWINGS">FIG. 7</figref>, the need for an individual setting process of the color space RGB, CMYK, or GRAY designated by print data can be obviated, and None is set.</p>
<p id="p-0063" num="0062">After the above setting/registration process, the nonvolatile memory <b>5</b> stores and holds the setting contents according to the color spaces of print data, as shown in <figref idref="DRAWINGS">FIG. 10</figref>. Since the nonvolatile memory <b>5</b> can hold its storage contents, a print process is done according to the previous setting contents even when the power switch of the printer is turned on again.</p>
<p id="p-0064" num="0063">The operation processes in this embodiment will be described below.</p>
<p id="p-0065" num="0064">A sequence upon reception of DeviceRGB data will be explained below with reference to <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0066" num="0065">Upon reception of DeviceRGB print data, “RGB Source Profile” in the nonvolatile memory <b>4</b> is loaded in step S<b>1</b>. The flow advances to step S<b>2</b> to determine whether or not the loaded contents are “None”. If it is determined that the loaded contents are “None”, the flow advances to step S<b>3</b> to execute a print process by converting input RGB data into CMYK data without any color management process. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, luminance RGB data undergo an inversion process (also called LOG conversion) by an inverse unit <b>101</b> to generate density CMY data, which then undergo UCR and BG processes so as to render CMYK color component data. After that, these data are printed.</p>
<p id="p-0067" num="0066">If it is determined in step S<b>2</b> that the contents are other than “None”, the flow advances to step S<b>4</b> to execute a print process by converting received RGB data into the standard color space XYZ in accordance with a profile registered in the loaded “RGB Source Profile”, and converting data on the XYZ color space to a device-dependent CMYK color space. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, luminance RGB data are converted into the standard color space XYZ by a CIE Color Space XYZ converter <b>204</b>, and data on the XYZ color space are converted into a CMYK color space in accordance with an Output Profile depending on a device, i.e., the printer engine by a CMYK converter <b>205</b> to generate CMYK color component data. After that, the generated data are printed.</p>
<p id="p-0068" num="0067">A process executed upon reception of print data expressed by DeviceCMYK will be explained below with reference to <figref idref="DRAWINGS">FIG. 3</figref> and the flow chart of <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0069" num="0068">In step S<b>11</b>, “CMYK Simulation Profile” in the nonvolatile memory <b>5</b> is loaded. It is checked in step S<b>12</b> if the contents of the loaded “CMYK Simulation Profile” are “None”.</p>
<p id="p-0070" num="0069">If it is determined that the contents are “None”, the flow advances to step S<b>13</b> to execute a print process using input CMYK data without any color management process. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, as an example of this route, CMYK bitmap data are directly generated based on received CMYK data without the intervention of a CIE Color Space XYZ converter, and are printed.</p>
<p id="p-0071" num="0070">If it is determined in step S<b>12</b> that the contents are other than “None”, the flow advances to step S<b>14</b> to execute a print process by converting received CMYK data into the standard color space XYZ in accordance with a profile registered in the loaded “CMYK Simulation Profile”, and then converting the data on the XYZ color space into a device-dependent CMYK color space. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, this process corresponds to a route for converting density data CMYK into the standard color space XYZ by the CIE color Space XYZ converter <b>204</b>, and then converting data on the color space XYZ into a CMYK color space in accordance with an Output Profile which depends on a device, i.e., the printer engine, by the CMYK converter <b>205</b>.</p>
<p id="p-0072" num="0071">A process executed upon reception of print data expressed by a DeviceGray signal will be described below with reference to <figref idref="DRAWINGS">FIG. 3</figref> and the flow chart of <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0073" num="0072">In step S<b>21</b>, “Gray Profile” in the nonvolatile memory <b>5</b> is loaded. It is determined in step S<b>22</b> based on the loaded “Gray Profile” if its flag is Off, i.e., if a profile is to be used.</p>
<p id="p-0074" num="0073">If it is determined that no gray profile is used, the flow advances to step S<b>23</b> to generate density data by simply inverting input luminance component data, thus executing a print process. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, as an example of this route, received Gray data (luminance data) is directly converted into density data by an inverse unit <b>103</b> without the intervention of a CIE Color Space XYZ converter. Note that a color component used upon printing is only a K component, and other CMY components are not used. As a result, since no chromatic color components are used, a gray print process is literally implemented.</p>
<p id="p-0075" num="0074">If it is determined in step S<b>22</b> that the flag is ON, i.e., a Gray profile is used, the flow advances to step S<b>24</b> to execute a print process by converting received gray data into the standard color space XYZ in accordance with a Gray Profile which is registered in advance, and then converting data on the XYZ color space into a device-dependent CMYK color space. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, this process corresponds to a route for converting Gray data into the standard color space XYZ by the CIE Color Space XYZ converter <b>204</b>, and converting data on the XYZ color space into a CMYK color space in accordance with an Output profile which depends on a device, i.e., the printer engine by the CMYK converter <b>205</b>.</p>
<p id="p-0076" num="0075">As described above, according to this embodiment, PS Level 3, i.e., an advanced page description language which is particularly effective for specialized fields such as graphics arts and the like and can realize high color reproducibility, can be set to print office documents such as general monochrome documents and documents that include some bar graphs, illustrations, and the like, and do not require any artistry. Especially, most of office documents are monochrome. Hence, as long as “Office” is selected (or “None” is selected for each individual color space) as in this embodiment, monochrome documents can be avoided from being printed as color documents, thus reducing running cost. In case of a color laser beam printer, scan exposure processes corresponding in number to color components are required. In case of an ink-jet printer, the number of nozzles of a monochrome printhead is larger than those of color heads. Therefore, when “Office” is set, a high print process speed can be assured only for a GrayScale print process. According to this embodiment, when “Office” is selected as a use purpose, “None” can be set for all three different color spaces designated by print data, and a user who almost exclusively creates office documents can complete a setup process by a simple operation.</p>
<p id="p-0077" num="0076">This embodiment has exemplified a case wherein the printer receives PS Level 3 print data (one of the RGB, CMYK, and Gray color spaces), and processes the print data according to the setup contents of user's choice.</p>
<p id="p-0078" num="0077">However, a host computer may execute processes until CMYK data to be finally output are generated. In this case, the setup contents of user's choice (corresponding to <figref idref="DRAWINGS">FIG. 10</figref>) may be saved in a hard disk or the like of the host computer, and the above processes may be implemented by a printer driver or an add-on program of a PS printer driver. That is, the scope of the present invention includes a computer program. Since a program which runs on a host computer becomes normally ready to run after a computer readable storage medium such as a CD-ROM or the like is set and the program is copied or installed in a system, such computer readable storage medium is also included in the scope of the present invention.</p>
<p id="p-0079" num="0078">This embodiment has exemplified PS Level 3. However, the present invention is not limited to PS Level 3 since it can be applied to any other printer description languages which convert into a device-independent standard color space to realize high color reproducibility.</p>
<p id="p-0080" num="0079">As described above, in this embodiment, in order to allow both office users and Graphic Arts users to select their preferred processes, means which allows the user to independently set from the console whether or not a color management process is applied to each of DeviceRGB, DeviceCMYK, and DeviceGray, is provided, as shown in <figref idref="DRAWINGS">FIG. 7</figref>, thus making setups according to the user's preference.</p>
<p id="p-0081" num="0080">In a personal computer, since a display device adopts an RGB color space, the RGB color space is often used unless the user selects another color space on purpose. Hence, color management=“OFF” is set as defaults of DeviceCMYK and DeviceGray, since such color spaces are used only when the user selects them on purpose. In this manner, only a K component signal of DeviceCMYK and a DeviceGray Signal, which appears to black on the screen, is output using one color K, which is also output by the printer. Since the time-consuming color management process in <figref idref="DRAWINGS">FIG. 8</figref> can be skipped, the processing speed can be greatly increased.</p>
<p id="p-0082" num="0081">As for RGB, color management is indispensable to adjust the color tinctures of the monitor and output. Hence, color management=“ON” is set as a default, i.e., a profile used in color management is selected in advance. In this manner, the color tinctures of the monitor and printouts can be adjusted.</p>
<p id="p-0083" num="0082">As described above, according to the embodiment of the present invention, even data of a page description language for graphic arts, which realizes advanced color reproduction, can be set to print mostly monochrome office documents, and an optimal environment to each use field can be provided.</p>
<p id="p-0084" num="0083">According to the embodiment of the present invention, in order to allow both office users and Graphic Arts users to select their preferred processes, means which allows the user to independently set from the console whether or not a color management process is applied to each of DeviceRGB, DeviceCMYK, and DeviceGray, is provided, thus making setups according to the user's preference.</p>
<p id="p-0085" num="0084">In a personal computer, since a display device adopts an RGB color space, the RGB color space is often used unless the user selects another color space on purpose. Hence, color management=“OFF” is set as defaults of DeviceCMYK and DeviceGray, since such color spaces are used only when the user selects them on purpose. In this manner, only a K component signal of DeviceCMYK and a DeviceGray Signal, which appears to black on the screen, is output using one color K, which is also output by the printer. Since the time-consuming color management process in <figref idref="DRAWINGS">FIG. 8</figref> can be skipped, the processing speed can be greatly increased.</p>
<p id="p-0086" num="0085">As for RGB, color management is indispensable to adjust the color tinctures of the monitor and output. Hence, color management=“ON” is set as a default, i.e., a profile used in color management is selected in advance. In this manner, the color tinctures of the monitor and printouts can be adjusted.</p>
<heading id="h-0007" level="1">Second Embodiment</heading>
<p id="p-0087" num="0086">In the printer according to this embodiment with the arrangement shown in <figref idref="DRAWINGS">FIG. 9</figref>, the user sets and registers a use purpose using the control panel <b>4</b>. <figref idref="DRAWINGS">FIG. 11</figref> shows a selection menu displayed on the display of the control panel <b>4</b>. This menu allows the user to set whether or not color management is applied upon reception of print data of the Separation color space or DeviceN color space. This setup is made by touching a corresponding button if the control panel <b>4</b> comprises a touch panel. Alternatively, physical switches may be used to select.</p>
<p id="p-0088" num="0087">In this case, when the user selects “ON”, and data of the Separation or DeviceN color space is received, that data is converted into a substitute color space. After this conversion, processes including the color management process, i.e., conversion into the standard color space XYZ using a color profile (designated by the user) and conversion into a CMYK color space using an Output Profile, are executed, and a print process is then executed, according to the procedure shown in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0089" num="0088">On the other hand, when the user selects “OFF” and data of the Separation or DeviceN color space is received, a process for converting that data into a substitute color space is executed. However, in subsequent processes, conversion into the standard color space XYZ is skipped, and conversion into the CMYK color space is simply done to execute a print process, as shown in <figref idref="DRAWINGS">FIG. 1</figref>. If the substitute color space is CMYK, the subsequent conversion process can also be skipped, and a print process is directly executed.</p>
<p id="p-0090" num="0089">Therefore, when the user selects “OFF”, although slightly unintended color tinctures may be produced compared to a case wherein the user selects “ON”, since the number of color conversion processes can be reduced (only once when the substitute color space=CMYK), a high-speed print process can be assured, and a state optimal to office documents can be provided.</p>
<p id="p-0091" num="0090">After the aforementioned setup process on the control panel <b>4</b>, the nonvolatile memory <b>5</b> stores and holds setups (ON/OFF flags) indicating whether or not a color management process is applied to each of the Separation color space and DeviceN color space, as shown in <figref idref="DRAWINGS">FIG. 12</figref>. Therefore, even when the power switch of the apparatus is turned on again, a print process can be done according to the previous setting contents.</p>
<p id="p-0092" num="0091">The operation process of the CPU <b>1</b> of the printer of this embodiment will be described below with reference to the flow chart of <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0093" num="0092">It is checked in steps S<b>24</b> and S<b>25</b> if the color space of print data received from the host computer is the Separation color space or DeviceN color space. If the color space of print data is neither of them, i.e., if it is one of DeviceRGB, DeviceCMYK, and DeviceGray, the flow advances to step S<b>26</b> to execute a print process according to a description of PS data.</p>
<p id="p-0094" num="0093">If it is determined in step S<b>24</b> that the received print data is data of the Separation color space, the flow advances to step S<b>27</b> to make conversion into a substitute color space according to its description. The flow then advances to step S<b>28</b> to load data of “Separation color management” in the nonvolatile memory <b>5</b> and to check if its flag is ON or OFF, i.e., if color management is to be applied. If color management is ON, the flow advances to step S<b>26</b> to execute the process in <figref idref="DRAWINGS">FIG. 2</figref> to have the substitute color space as a start point. On the other hand, if it is determined in step S<b>28</b> that color management is OFF, the flow advances to step S<b>29</b> to check if the substitute color space is a CMYK color space. If it is determined that the substitute color space is other than the CMYK color space, the substitute color space is converted into the CMYK color space in step S<b>30</b>. In step S<b>31</b>, a print process is done according to the CMYK color space.</p>
<p id="p-0095" num="0094">If it is determined in step S<b>25</b> that the received print data is data of the DeviceN color space, the flow advances to step S<b>32</b> to make conversion into a substitute color space according to its description. Next, data of “DeviceN color management” in the nonvolatile memory <b>5</b> is loaded to check if its flag is ON or OFF, i.e., if color management is to be applied. If color management is ON, the flow advances to step S<b>26</b> to execute the process in <figref idref="DRAWINGS">FIG. 2</figref> to have the substitute color space as a start point.</p>
<p id="p-0096" num="0095">If it is designated that the color management process is OFF, the flow advances to step S<b>34</b> to check if the substitute color space is a CMYK color space. If it is determined that the substitute color space is other than the CMYK color space, the substitute color space is converted into the CMYK color space in step S<b>35</b>. In step S<b>36</b>, a print process is done according to the CMYK color space.</p>
<p id="p-0097" num="0096">As described above, according to this embodiment, when a page description language such as PS Level 3 designates the Separation color space or DeviceN color space as a special color space different from normal color spaces, a print process can be done while skipping color management according to user's setups. Hence, the print process can be simplified, resulting in a high print process speed.</p>
<heading id="h-0008" level="1">Third Embodiment</heading>
<p id="p-0098" num="0097">The above embodiment has exemplified a case wherein the print data is data of the Separation color space or DeviceN color space. When data of DeviceRGB, DeviceCMYK, or DeviceGray is received and UseCIEColor=true, the sequence shown in <figref idref="DRAWINGS">FIG. 2</figref> is executed unconditionally.</p>
<p id="p-0099" num="0098">However, even a versatile color space such as DeviceRGB, DeviceCMYK, DeviceGray, or the like is converted into the standard color space XYZ, and the XYZ color space is then converted into a CMYK color space using an output profile. Hence, at least two color space conversion processes are required. Such function is unnecessary for a user who wants to print mostly monochrome office documents at high speed. In other words, such function is required for a user who principally prints graphics arts.</p>
<p id="p-0100" num="0099">Hence, according to the third embodiment, whether or not color management is applied can be set not only for the Separation color space and DeviceN color space but also for print data of DeviceRGB, DeviceCMYK, and DeviceGray.</p>
<p id="p-0101" num="0100">In this case, a selection menu is displayed on the control panel <b>4</b>, as shown in, e.g., <figref idref="DRAWINGS">FIG. 7</figref>, to prompt to the user to select one of “Office” and “Graphic Arts” as a use purpose.</p>
<p id="p-0102" num="0101">More specifically, two choices, i.e., “Office” suited to a case wherein office documents that do not require high color reproducibility are normally printed, and “Graphic Arts” that can print graphics arts and the like with high color reproducibility, are prepared, and the user selects one of them.</p>
<p id="p-0103" num="0102">When the user selects “Office”, color management is applied to none of the Separation color space, DeviceN color space, DeviceRGB, DeviceCMYK, and DeviceGray. When the user selects “Graphic Arts”, the user can select profiles to be used respectively for DeviceRGB, DeviceCMYK, and DeviceGray, as shown in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0104" num="0103">For example, when print data described in the color space RGB is received, the user can select a profile to be used from:</p>
<p id="p-0105" num="0104">sRGB</p>
<p id="p-0106" num="0105">HDTV γ1.5</p>
<p id="p-0107" num="0106">HDTV γ1.8</p>
<p id="p-0108" num="0107">HDTV γ2.4</p>
<p id="p-0109" num="0108">Custom</p>
<p id="p-0110" num="0109">None</p>
<p id="p-0111" num="0110">sRGB, HDTV γ1.5, HDTV γ1.8, and HDTV γ2.4 are profiles used upon converting the color space RGB into a standard color space XYZ, and have different conversion levels. Custom is prepared when the user wants to create or download his or her favorite profile (upon reception of a predetermined command from a host computer, a subsequent profile is stored and held). “None” means that no color management is applied.</p>
<p id="p-0112" num="0111">In case of CMYK, the user selects a profile from SWOP, EuroScale, JapanColor, Custom, and None. In case of Gray, the user sets a flag indicating whether or not a conversion process into the XYZ color space using a profile is to be inserted (if the flag is OFF, it is equivalent to None).</p>
<p id="p-0113" num="0112">In either case, such setting contents are stored and held in the nonvolatile memory <b>5</b>.</p>
<p id="p-0114" num="0113">In the processing sequence according to the third embodiment, if a profile set for the color space of interest is “None” in step S<b>26</b> in <figref idref="DRAWINGS">FIG. 13</figref>, the process is done according to the flow shown in <figref idref="DRAWINGS">FIG. 1</figref>; otherwise, conversion to the XYZ color space according to the set profile and color conversion according to an Output Profile are made, and a print process is then executed.</p>
<p id="p-0115" num="0114">As described above, according to the third embodiment, for a user other than specialized fields such as graphics arts and the like, the number of color space conversion processes is reduced upon printing independently of the color space of input print data. Hence, a high print process speed can be assured.</p>
<p id="p-0116" num="0115">The second and third embodiments have exemplified a case wherein the printer receives PS Level 3 print data (one of the RGB, CMYK, and Gray color spaces), and processes the print data according to the setup contents of user's choice.</p>
<p id="p-0117" num="0116">However, a host computer may execute processes until CMYK data to be finally output are generated. In this case, the setup contents of user's choice may be saved in a hard disk or the like of the host computer, and the above processes may be implemented by a printer driver or an add-on program of a PS printer driver. That is, the scope of the present invention includes a computer program.</p>
<p id="p-0118" num="0117">Since a program which runs on a host computer becomes normally ready to run after a computer readable storage medium such as a CD-ROM or the like is set and the program is copied or installed in a system, such computer readable storage medium is also included in the scope of the present invention.</p>
<p id="p-0119" num="0118">This embodiment has exemplified PS Level 3, and the Separation color space and DeviceN color space. However, the present invention is not limited to PS Level 3, since it can be applied to any other printer description languages which can set a substitute color space upon printing data for a special printing apparatus to a normal printer.</p>
<p id="p-0120" num="0119">As described above, according to the above embodiments, office users are often satisfied with the colors of a substitute color space, and the color management processing time can be saved accordingly. On the other hand, since Graphic Arts users require color reproduction faithful to an original, color management is applied to meet such requirement.</p>
<p id="p-0121" num="0120">A Device color space as a substitute color space and an original Device color space can be separately processed, and a user's desired actions can be better supported as compared to a conventional system.</p>
<p id="p-0122" num="0121">Also, since default setups are used in accordance with machine performance, the burden of troublesome user's setups can be removed.</p>
<p id="p-0123" num="0122">As described above, according to the present invention, print processes of print data expressed by the Separation color space or DeviceN color space, which are convenient for both a user who places an importance on a print speed rather than color reproducibility, and a user who wants high-precision color reproducibility can be implemented.</p>
<p id="p-0124" num="0123">Also, according to the above embodiments of the present invention, office users are often satisfied with the colors of a substitute color space, and the color management processing time can be saved accordingly. On the other hand, Graphic Arts users cannot often be satisfied with a substitute color space and require color management. Hence, such users can select color management, thus compensating for color reproduction.</p>
<p id="p-0125" num="0124">Upon selecting color management, a user's preferred process can be selected. A Device color space as a substitute color space and an original Device color space can be separately processed, and user's desired actions can be supported compared to a conventional system. Also, since default setups are used in accordance with machine performance, the burden of troublesome user's setups can be removed.</p>
<heading id="h-0009" level="1">Other Embodiments</heading>
<p id="p-0126" num="0125">Note that the present invention can be applied to an apparatus comprising a single device or to system constituted by a plurality of devices.</p>
<p id="p-0127" num="0126">Furthermore, the invention can be implemented by supplying a software program, which implements the functions of the foregoing embodiments, directly or indirectly to a system or apparatus, reading the supplied program code with a computer of the system or apparatus, and then executing the program code. In this case, so long as the system or apparatus has the functions of the program, the mode of implementation need not rely upon a program.</p>
<p id="p-0128" num="0127">Accordingly, since the functions of the present invention are implemented by computer, the program code installed in the computer also implements the present invention. In other words, the claims of the present invention also cover a computer program for the purpose of implementing the functions of the present invention.</p>
<p id="p-0129" num="0128">In this case, so long as the system or apparatus has the functions of the program, the program may be executed in any form, such as an object code, a program executed by an interpreter, or script data supplied to an operating system.</p>
<p id="p-0130" num="0129">Examples of storage media that can be used for supplying the program are a floppy disk, a hard disk, an optical disk, a magneto-optical disk, a CD-ROM, a CD-R, a CD-RW, a magnetic tape, a non-volatile type memory card, a ROM, and a DVD (DVD-ROM, DVD-R or DVD-RW).</p>
<p id="p-0131" num="0130">As for the method of supplying the program, a client computer can be connected to a website on the Internet using a browser of the client computer, and the computer program of the present invention or an automatically-installable compressed file of the program can be downloaded to a recording medium such as a hard disk. Further, the program of the present invention can be supplied by dividing the program code constituting the program into a plurality of files and downloading the files from different websites. In other words, a WWW (World Wide Web) server that downloads, to multiple users, the program files that implement the functions of the present invention by computer is also covered by the claims of the present invention.</p>
<p id="p-0132" num="0131">It is also possible to encrypt and store the program of the present invention on a storage medium such as a CD-ROM, distribute the storage medium to users, allow users who meet certain requirements to download decryption key information from a website via the Internet, and allow these users to decrypt the encrypted program by using the key information, whereby the program is installed in the user computer.</p>
<p id="p-0133" num="0132">Besides the cases where the aforementioned functions according to the embodiments are implemented by executing the read program by computer, an operating system or the like running on the computer may perform all or a part of the actual processing so that the functions of the foregoing embodiments can be implemented by this processing.</p>
<p id="p-0134" num="0133">Furthermore, after the program read from the storage medium is written to a function expansion board inserted into the computer or to a memory provided in a function expansion unit connected to the computer, a CPU or the like mounted on the function expansion board or function expansion unit performs all or a part of the actual processing so that the functions of the foregoing embodiments can be implemented by this processing.</p>
<p id="p-0135" num="0134">As many apparently widely different embodiments of the present invention can be made without departing from the spirit and scope thereof, it is to be understood that the invention is not limited to the specific embodiments thereof except as defined in the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of controlling an image forming apparatus which receives print data expressed by a Separation color space or DeviceN color space, converts the print data into data of a print color space, and prints the converted data, comprising:
<claim-text>a setting step of setting whether or not color management is applied;</claim-text>
<claim-text>a conversion step of converting the received print data expressed by the Separation color space or DeviceN color space into data of a substitute color space according to a description thereof;</claim-text>
<claim-text>a first conversion step of converting, when it is set in the setting step that color management is applied, the data of the color space obtained in the conversion step into data of a print color space via a color management process; and</claim-text>
<claim-text>a second conversion step of converting, when it is set in the setting step that color management is not applied, the data of the color space obtained in the conversion step into data of a print color space without any color management process.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second conversion step includes a step of executing, when the substitute color space is a color space equivalent to print color components, a print process using the substitute color space.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the print data is data described using PostScript, when color management is applied, a color conversion process when a UseCIEColor parameter is True is executed, and when color management is not applied, a color conversion process when a UseCIEColor parameter is false is executed.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. An image forming apparatus which receives print data expressed by a Separation color space or DeviceN color space, converts the print data into a print color space, and prints the converted data, comprising:
<claim-text>a setting unit for setting whether or not color management is applied;</claim-text>
<claim-text>a conversion unit for converting the received print data expressed by the Separation color space or DeviceN color space into data of a substitute color space according to a description thereof;</claim-text>
<claim-text>a first conversion unit for, when it is set by said setting unit that color management is applied, converting the data of the color space obtained by said conversion unit into data of a print color space via a color management process; and</claim-text>
<claim-text>a second conversion unit for, when it is set by said setting unit that color management is not applied, converting the data of the color space obtained by said conversion unit into data of a print color space without any color management process.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method of controlling an information processing apparatus which receives print data expressed by a Separation color space or DeviceN color space, converts the print data into data of a print color space, and outputs the converted data to a printing apparatus, comprising:
<claim-text>a setting step of setting whether or not color management is applied;</claim-text>
<claim-text>a conversion step of converting the received print data expressed by the Separation color space or DeviceN color space into data of a substitute color space according to a description thereof;</claim-text>
<claim-text>a first conversion step of converting, when it is set in the setting step that color management is applied, the data of the color space obtained in the conversion step into data of a print color space via a color management process; and</claim-text>
<claim-text>a second conversion step of converting, when it is set in the setting step that color management is not applied, the data of the color space obtained in the conversion step into data of a print color space without any color management process.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. An information processing apparatus which receives print data expressed by a Separation color space or DeviceN color space, converts the print data into data of a print color space, and outputs the converted data to a printing apparatus, comprising:
<claim-text>a setting unit for setting whether or not color management is applied;</claim-text>
<claim-text>a conversion unit for converting the received print data expressed by the Separation color space or DeviceN color space into data of a substitute color space according to a description thereof;</claim-text>
<claim-text>a first conversion unit for, when it is set by said setting unit that color management is applied, converting the data of the color space obtained by said conversion unit into data of a print color space via a color management process; and</claim-text>
<claim-text>a second conversion unit for, when it is set by said setting unit that color management is not applied, converting the data of the color space obtained by said conversion unit into data of a print color space without any color management process.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A computer readable storage medium storing a computer program for an information processing apparatus which receives print data expressed by a Separation color space or DeviceN color space, converts the print data into data of a print color space, and outputs the converted data to a printing apparatus, said computer program serving as:
<claim-text>a setting unit for setting whether or not color management is applied;</claim-text>
<claim-text>a conversion unit for converting the received print data expressed by the Separation color space or DeviceN color space into data of a substitute color space according to a description thereof;</claim-text>
<claim-text>a first conversion unit for, when it is set by said setting unit that color management is applied, converting the data of the color space obtained by said conversion unit into data of a print color space via a color management process; and</claim-text>
<claim-text>a second conversion unit for, when it is set by said setting unit that color management is not applied, converting the data of the color space obtained by said conversion unit into data of a print color space without any color management process.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
