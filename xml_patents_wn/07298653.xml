<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298653-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298653</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10873872</doc-number>
<date>20040621</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>142</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>C</subclass>
<main-group>11</main-group>
<subgroup>34</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>36518528</main-classification>
<further-classification>36518525</further-classification>
</classification-national>
<invention-title id="d0e53">Reducing cross die variability in an EEPROM array</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5825782</doc-number>
<kind>A</kind>
<name>Roohparvar</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714718</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6856548</doc-number>
<kind>B2</kind>
<name>Tanzawa et al.</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>36518522</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>36518528</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>36518525</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>3</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Hopper</last-name>
<first-name>Peter J.</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Lindorfer</last-name>
<first-name>Philipp</first-name>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Vashchenko</last-name>
<first-name>Vladislav</first-name>
<address>
<city>Palo Alto</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Mirgorodski</last-name>
<first-name>Yuri</first-name>
<address>
<city>Sunnyvale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Vollrath</last-name>
<first-name>Jurgen</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>National Semiconductor Corporation</orgname>
<role>02</role>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Michael</first-name>
<department>2827</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In an EEPROM array the cells are pre-charged or pre-erased so that they will respond uniformly to the same read voltage level. By clearly defining the threshold voltage for the cells in their erased states and in their programmed states, it is possible to define more than one read voltage and thus provide cells that an store multiple values and even analog values.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="80.35mm" wi="146.73mm" file="US07298653-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="225.04mm" wi="141.14mm" file="US07298653-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="202.35mm" wi="150.79mm" file="US07298653-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="221.74mm" wi="139.62mm" file="US07298653-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The invention relates to EEPROM arrays and a method of reducing variations between memory cells across an array. In particular it relates to the prior art problem associated with variations in the threshold voltage required to determine whether or not an EEPROM cell has been programmed.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">EEPROM cells make use of a dual gate structure to place an electric field over a field region between two p+ composite regions. The p+ composite regions are commonly referred to as drain and source regions since the structure is essentially a dual gate PMOS transistor.</p>
<p id="p-0004" num="0003">EEPROMs typically come in one of two configurations: stacked EEPROM, as shown in <figref idref="DRAWINGS">FIG. 1</figref>, and free EEPROMs as shown in <figref idref="DRAWINGS">FIG. 2</figref>. The stacked EEPROM structure of <figref idref="DRAWINGS">FIG. 1</figref> includes two polygates <b>100</b>,<b>102</b> stacked on top of each other. The top gate <b>100</b> is connected to a voltage source while the lower gate <b>102</b> is not externally connected and is thus floating. The gates <b>100</b>, <b>102</b> are separated by an oxide <b>104</b>, thus when a voltage is applied to the gate <b>100</b>, the two gates act as a first capacitor. Similarly, the lower gate <b>102</b> is spaced from the active region <b>106</b> by a gate oxide, or tunneling oxide <b>108</b>, thereby creating a second capacitor, which is formed in series with the first capacitor. Typically, the areas of the oxide regions <b>104</b>, <b>108</b> are chosen so that the capacitance of the first capacitor (formed by the two gates <b>100</b>, <b>102</b>) is substantially larger (typically &gt;5 times larger) than the capacitance of the lower (second) capacitor (formed by the lower gate <b>102</b> and the active region <b>106</b>). It will be appreciated that oxide thickness can also be chosen to adjust the capacitance ratio. Thus when a voltage is applied to the top gate <b>100</b>, a lower voltage (10× lower in the case where the top capacitor has 10× the capacitance of the lower capacitor) will appear across the lower capacitor. As part of the active region <b>106</b> are p+ composite regions on either side of a well. These composite regions define a drain region <b>110</b>, and a source region <b>112</b> of a transistor.</p>
<p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. 2</figref> shows a plan view of a free EEPROM <b>200</b>. In this configuration the first capacitor <b>202</b> is formed laterally spaced from the second capacitor <b>204</b>. The first capacitor <b>202</b> is again substantially larger than the second capacitor <b>204</b>, as is discussed in more detail below. In this case, however, they share one continuous common polysilicon floating gate region <b>206</b>. The second capacitor <b>204</b> is defined by the common floating gate <b>206</b> separated by an oxide layer <b>320</b>, from an active region (in particular from an n-well <b>300</b>), as shown in <figref idref="DRAWINGS">FIG. 3</figref>. <figref idref="DRAWINGS">FIG. 3</figref> is a sectional view of the left hand portion of the EEPROM <b>200</b> along the line A—A. As can be seen from <figref idref="DRAWINGS">FIG. 3</figref>, this left hand portion defines a PMOS transistor with p+ drain and source regions <b>302</b>, <b>304</b> on either side of the n-well <b>300</b>. <figref idref="DRAWINGS">FIG. 4</figref>, in turn, shows a section along B—B of the right hand portion of the EEPROM <b>200</b>. The right hand portion also defines a PMOS transistor. In this case the p+ regions <b>210</b> formed on either side of an n-well <b>410</b>, form a second active region to define a control gate (non-floating gate). The control gate <b>210</b> is provided with a control gate contact <b>420</b>. As mentioned above, the first capacitor <b>202</b> is substantially larger than the second capacitor <b>204</b>. This is achieved, in this free EEPROM configuration, by means of the E-shaped polysilicon region <b>206</b>, which provides a large periphery and thus a large capacitor area, best seen in the plan view of <figref idref="DRAWINGS">FIG. 2</figref>. The capacitor <b>202</b> is thus defined by the control gate <b>210</b> separated by the oxide region <b>320</b> from the floating gate <b>206</b>. The location of the contact <b>420</b> of the control gate <b>210</b> is indicated in <figref idref="DRAWINGS">FIGS. 2 and 4</figref>. The control gate <b>210</b> serves to erase the EEPROM, as is discussed in greater detail below, and the floating gate <b>206</b> is used for programming the EEPROM.</p>
<p id="p-0006" num="0005">In order to better appreciate the purpose of the capacitors in an EEPROM cell, it is useful to consider the three modes that an EEPROM can operate in: program mode, erase mode, read mode.</p>
<p id="p-0007" num="0006">The read mode seeks to determine the state of a memory cell by supplying the first polygate with a certain read voltage and monitoring the drain current. In the case of the stacked configuration the drain current is the current flowing between drain <b>108</b> and source <b>110</b>, and in the case of the free configuration, it is the current flowing between drain <b>302</b> and source <b>304</b>. In order to affect the drain current so as to distinguish between a programmed memory cell and an unprogrammed cell, the cells in an array structure are first erased and then selectively programmed.</p>
<p id="h-0003" num="0000">Program Mode:</p>
<p id="p-0008" num="0007">During the program mode, in order to program a memory cell, a programming voltage, e.g. 10V is applied to the non-floating gate (gate <b>100</b> in the case of the <figref idref="DRAWINGS">FIG. 1</figref> configuration, and gate <b>200</b> in the case of the <figref idref="DRAWINGS">FIGS. 2–4</figref> configuration). Due to the capacitor ratio, which is 10:1 in the example discussed above, 10V applied to the gate <b>100</b> or gate <b>200</b> appears as approximately 1 V across the second capacitor. The resultant electric field across the second capacitor attracts electrons. Thus, it provides hot electron injection into the second (floating) gate. Thus, once programmed, there is an electron charge on the floating gate <b>102</b>, <b>202</b>.
<br/>
Read mode: In order to read a cell, a relatively small read voltage, e.g. 1V, is applied to the control gate <b>100</b>, <b>210</b>. This voltage provides a voltage of about 0.1V across the second capacitor and has the effect of attracting any electrons that were injected into the floating gate. By attracting the electrons in the floating gate sufficiently strongly, the electric field across the second capacitor is reduced, allowing drain current to flow. It will be appreciated that in the case of an unprogrammed cell, where there is essentially no charge on the second capacitor, very low gate voltage will suffice to produce drain current. Also, in the case of a programmed cell, it will be appreciated that depending on the amount of charge on the second capacitor the read voltage required to achieve drain current flow will vary. For any particular cell, a read voltage can thus be chosen at which drain current will flow for an unprogrammed cell but where the voltage is not large enough to achieve drain current in the case of a programmed cell, i.e., the read voltage lies between the threshold voltage Vth for a programmed cell and the Vth for an unprogrammed or erased cell.
</p>
<p id="p-0009" num="0008">However, due to minor structural variations between memory cells in an array, the threshold voltages will vary. For example, varying amounts of nitride impurities in the oxide <b>108</b>, <b>320</b> will result in varying numbers of electron and/or hole traps in the oxide, thereby affecting the threshold voltages. Thus different cells in an array will have different electric fields across their floating capacitors and will require different threshold voltages Vth to achieve drain current flow. This is best illustrated by the Vth curves across an array (in this case a die defining an array of memory cells), as shown in <figref idref="DRAWINGS">FIG. 5</figref>. The upper curve <b>500</b> shows the varying threshold voltages to achieve drain current flow when the cells are programmed. The lower curve <b>502</b> shows the varying threshold voltages to achieve drain current flow when the cells are not programmed. If a single threshold voltage is selected for reading all of the cells, e.g., the read voltage indicated by the broken line <b>504</b>, it will be noted that some cells will provide a wrong result. For instance the cell defined by the threshold voltage <b>510</b> would not produce a drain current even if erased since its threshold voltage is higher than the chosen read voltage <b>504</b>. Similarly, the cell next to it would provide incorrect results since it would always show a drain current at the chosen read voltage of <b>504</b>, even if it is programmed (since not only is its threshold voltage when unprogrammed, but also its threshold voltage when programmed, lower than the chosen read voltage <b>504</b>).</p>
<p id="h-0004" num="0000">Erase Mode:</p>
<p id="p-0010" num="0009">As mentioned above, prior to programming EEPROM memory cells, the entire array or, in some types of EEPROMs, entire sectors in the array are first erased. This is done by “sucking” off electrons from the floating gate by Fowler-Nordheim effect, which involves applying a large electric field to the top or bottom of the capacitor and pulling off the electrons. When sucking electrons off the top of the capacitor, this can be done by keeping the drain at 0V to avoid further electrons being injected in from the bottom of the floating gate, and applying a large positive voltage to the non-floating gate to suck off the electrons off the top through the non-floating gate by Fowler-Nordheim effect. Instead, the electrons can be sucked off the bottom by holding the non-floating gate at 0V and applying a large positive voltage to the drain <b>110</b>, <b>302</b>.</p>
<p id="p-0011" num="0010">As discussed above, the variations between the cells in an array creates a problem when trying to use a single threshold voltage, as a threshold judgment criteria, to determine whether or not a cell is programmed or erased, i.e., using a single threshold voltage during the read operation, for all cells in the array.</p>
<heading id="h-0005" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">The present invention includes a method of providing an EEPROM array with a common read voltage across all cells, comprising pre-programming the cells so that all of the cells have substantially the same threshold voltage. Preferably the programmed threshold voltage are substantially the same for all the cells in the array and the unprogrammed threshold voltage are preferably also substantially the same for all the cells in the array. It will, however, be appreciated that the resultant common programmed and unprogrammed threshold voltages are different from each other. The pre-programming typically comprises adding or removing charge from the cells. EEPROM cells each typically include two capacitors, and the step of adding or removing charge comprises adding or removing charge from the capacitors.
<br/>
A first one of the capacitors may be defined by a non-floating gate separated from a floating gate, and the step of adding charge may comprises applying a positive voltage to the non-floating gate. The second of the capacitors may be defined by the floating gate spaced from an active region, and the step of removing charge comprises sucking off charge from the second capacitor. The pre-programming of each of the cells may be done by providing a circuit that measures the threshold voltage of the cell in its erased state and compares it to a reference voltage, and adds or removes charge from the cell to align the threshold voltage substantially with the reference voltage. Preferably the same is done for each cell in its programmed state by comparing to a second reference voltage. In this way all the cells are aligned with a lower and an upper reference voltage. The adding or removing of charge may be done iteratively by generating voltage pulses and counting the number of voltage pulses required to align the threshold voltage substantially with the reference voltage.
</p>
<p id="p-0013" num="0012">Further, according to the invention, there is provided a method of providing a multi-cell EEPROM array capable of storing an analog value, comprising providing a multi-cell EEPROM array, pre-programming the cells so that all of the cells have substantially the same threshold voltage in their erased states and all of the cells have substantially the same threshold voltage in their programmed states.</p>
<p id="p-0014" num="0013">Still further, the invention includes providing a multi-cell EEPROM array wherein each cell is capable of storing multiple values, comprising providing a multi-cell EEPROM array, pre-programming the cells so that all of the cells have substantially the same threshold voltage in their erased states and all of the cells have substantially the same threshold voltage in their programmed states.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 1</figref> is a sectional view of one prior art EEPROM cell;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 2</figref> is a plan view of another prior art EEPROM cell;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 3</figref> is a sectional view of the EEPROM cell in <figref idref="DRAWINGS">FIG. 2</figref> along line A—A;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 4</figref> is a sectional view of the EEPROM cell in <figref idref="DRAWINGS">FIG. 2</figref> along line B—B <figref idref="DRAWINGS">FIG. 4</figref> is a sectional view of the EEPROM cell in <figref idref="DRAWINGS">FIG. 2</figref> along line B—B;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 5</figref> shows threshold voltage curves for different memory cells across an EEPROM array;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 6</figref> shows Id vs. Vg curves for two different memory cells in their programmed and unprogrammed states;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram of one embodiment of a precharge circuit of the invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 8</figref> is a circuit diagram of one embodiment of a simple comparator used in the circuit of <figref idref="DRAWINGS">FIG. 6</figref>, and</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 9</figref> is a simplified circuit diagram showing one application of a pre-charged EEPROM of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0007" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0024" num="0023">The present invention seeks to address some of the problems encountered with EEPROM arrays by individually pre-charging or erasing each of the memory cells by some amount so that the resultant charge on the floating gate capacitors of the EEPROM cells is such that a threshold voltage reference level can be used to read each of the cells.</p>
<p id="p-0025" num="0024">This is best understood with reference to typical drain current (Id) versus gate voltage (Vg) curves for two different EEPROM cells, as shown in <figref idref="DRAWINGS">FIG. 6</figref>. Curve <b>600</b> shows the Id versus Vg curve for a first memory cell when unprogrammed. Curve <b>602</b> shows the curve for the same cell when programmed. It will be seen that a larger gate voltage is required to achieve drain current flow when the cell is programmed, i.e., when there is charge on the capacitors of the EEPROM cell. In particular, it will be noted that the difference between the two gate voltage levels is rather large. In contrast, the curves for a second cell are shown by curves <b>604</b>, <b>606</b>, where the unprogrammed cell is shown by curve <b>604</b>, and the programmed cell is shown by <b>606</b>. It will be noted that for this second cell, the gate voltage difference between the unprogrammed cell compared to the programmed cell is very small. Thus the task of providing an appropriate read voltage that falls between the threshold voltage for the unprogrammed cell and the programmed cell becomes more difficult in the case of the second cell. Furthermore, since drain current for the programmed second cell (curve <b>606</b>) occurs at a lower threshold voltage than for the unprogrammed first cell (curve <b>600</b>) it will be appreciated that there is no single read voltage that can be chosen for both cells as they stand now.</p>
<p id="p-0026" num="0025">However, if the programming level could be adjusted, i.e., if the curve <b>600</b> could be moved to the left, or the curve <b>606</b> could be moved to the right, it would be possible to provide a single read voltage falling between the unprogrammed cell threshold voltages (curves <b>600</b>, <b>604</b>) on the one hand, and the programmed cell threshold voltages (curves <b>602</b>, <b>606</b>) on the other hand. For purposes of this application the moving of the curves to the left or right refers to the Id versus Vg curves of the memory cells which, in accordance with the invention, are moved to the right by adding charge to the capacitors of the memory cell or to the left by removing charge from the capacitors of the memory cells. Thus, it refers to the adjustment of the programming level in accordance with the invention. The term memory cells and EEPROM cells are also used interchangeable in the application.</p>
<p id="p-0027" num="0026">As mentioned above, this adjustment of programming level (moving of the curves) is achieved in accordance with the invention by selectively precharging or pre-erasing the memory cells, i.e., by precharging or pre-erasing the capacitors of the memory cells. The degree of precharging or pre-erasing required depends on how much charge has to be added or removed from the capacitors of each of the EEPROM cells to ensure that all cells have a lower unprogrammed Vth than a chosen, common read voltage, and to ensure that all cells have a higher programmed Vth than the common read voltage. Insofar as any programmed cell's threshold voltage lies too far to the left, the cell has to be precharged, and insofar as any cell's unprogrammed Vth lies too far to the right, the cell has to have charge removed by Fowler-Nordheim effect, i.e. pre-erased.</p>
<p id="p-0028" num="0027">For ease of discussion this precharging and pre-erasing will simply referred to hereafter as pre-programming.</p>
<p id="p-0029" num="0028">One embodiment of a circuit for achieving the selective pre-programming (precharging and pre-erasing) of the memory cells in an array is shown in <figref idref="DRAWINGS">FIG. 7</figref>. The circuit of <figref idref="DRAWINGS">FIG. 7</figref> includes a comparator <b>700</b>, which compares each cell's programmed Vth (threshold voltage with the cell in a programmed state), to a reference voltage. Any difference Vdiff between the drain voltage of the EEPROM cell and the reference voltage is fed into a pulse generator <b>704</b>, which sends a voltage pulse to the gate of the EEPROM cell, thereby adding charge to the capacitors of the cell. The difference is again measured and, if necessary, another pulse is provided to the gate of the EEPROM cell. A bit level counter <b>706</b> counts the number of pulses required reduce Vdiff substantially to zero. This pre-programming is done for each of the memory cells in the EEPROM array <b>708</b> thereby providing an array that has all the threshold voltages of the programmed cells moved to a common threshold voltage, ie., each cell afer pre-programming in accordance with the invention can thereafter be programmed (placed in a programmed state) by adding substantially the same amount of charge as for any of the other cells in the array. In other words, the pre-programming takes care of variations between the cells so that subsequent programming of any of the cells by a common programming voltage will result in cells that can be read by a common read voltage. Since a program counter <b>706</b> identifies the number of pulses, and thus the amount of charge required for the pre-programming, it is a simple matter thereafter to again pre-program the cells should they ever be erased. It will be appreciated that a single pre-program circuit such as the one shown in <figref idref="DRAWINGS">FIG. 7</figref> can be used to pre-program each of the memory cells. Instead, a separate pre-program circuit can be provided for each cell.</p>
<p id="p-0030" num="0029">In one embodiment, the comparator <b>700</b> defines the reference voltage by making use of a non-floating transistor <b>710</b>, as shown more clearly in <figref idref="DRAWINGS">FIG. 8</figref>. By comparing the drain voltage of the EEPROM cell <b>712</b> to the drain voltage of the reference transistor <b>710</b>, relative drain currents can be determined. Thus, measuring the difference in drain voltage provides the voltage difference Vdiff, which is fed into the pulse generator <b>704</b>.</p>
<p id="p-0031" num="0030">In the above discussion, the pulse generator <b>704</b> provided additional charge to the gate of the programmed EEPROM cell, thereby moving the programmed threshold voltage of the cell to the right. As mentioned above, however, the pulse can be either a charging pulse or an erase pulse (to perform pre-charging or pre-erasing) depending on the sign of the voltage difference Vdiff. In the case of a pre-erase pulse, the charge on the EEPROM cell capacitors is reduced by Fowler-Nordheim effect. In this way the pgrogrammed cell threshold voltage (programmed Vth) is moved to the left.</p>
<p id="p-0032" num="0031">In the above embodiment, the reference transistor <b>710</b> was chosen for EEPROM cells in a programmed state. It will be appreciated that this reference can be adjusted by adjusting one or both of the resistors <b>714</b>, <b>716</b>, to allow EEPROM cells to be adjusted in their unprogrammed or erased state instead, i.e., before they have been programmed.</p>
<p id="p-0033" num="0032">Since the EEPROM of the present invention allows all of the EEPROM cells to be pre-adjusted to pre-defined Vth values for both the programmed and unprogrammed states, it is now possible to define more than one programming state of an EEPROM cell. Instead of only being able to distinguish a programmed from an unprogrammed cell, it is now possible to refine the degree of granularity and allow degrees of charging to be determined. For instance, multiple degrees of charging, e.g., 8 levels of charging, can be defined each associated with a certain read voltage. In fact, analog values can now be stored on the EEPROM cells by simply determining the read voltage needed to achieve drain current. Thus, by determining the voltage level required on the EEPROM cell gate to achieve drain current, the amount of charge on the capacitors of the EEPROM can be ascertained, which determines the voltage level stored on the EEPROM cell.</p>
<p id="p-0034" num="0033">One application for a pre-charged EEPROM in accordance with the invention is in the field of imaging. <figref idref="DRAWINGS">FIG. 9</figref> shows a simple imaging circuit in which a photo diode <b>900</b> controls the voltage at the node <b>902</b>. A square wave is fed to the gate of an NMOS transistor <b>904</b>, thereby providing voltage pulses at the node <b>902</b> when the photo diode is exposed to light. Thus, depending on the length of exposure to light, more pulses are passed through to the EEPROM <b>906</b>. This builds up the charge on the EEPROM <b>906</b> and defines an analog value corresponding to the duration of light exposure of the photo diode <b>900</b>.</p>
<p id="p-0035" num="0034">It will be appreciated that different circuits can be devised for pre-charging the EEPROM cells in a memory array to achieve an array with uniform threshold voltage levels for both the programmed as well as the unprogrammed or erased state. Thus the invention is not to be construed as limited to any particular circuit but includes other embodiments within the scope of the claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of providing an EEPROM array with a common read voltage across all cells, comprising pre-programming the cells by adding or removing charge from the cells so that all of the cells have substantially the same threshold voltage, wherein the programmed threshold voltage is substantially the same for all the cells in the array and the unprogrammed threshold voltage is substantially the same for all the cells in the array the EEPROM cells each including two capacitors, and the step of adding or removing charge comprising adding or removing charge from the capacitors.</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein a first of the capacitors is defined by a control gate separated from a floating gate, and the step of adding charge comprises applying a positive voltage to the control gate.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A method of cliam <b>2</b>, wherein the second of the capacitors is defined by the floating gate spaced from an active region, and the step of removing charge comprises sucking off charge from the second capacitor.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the pre-programming of each of the cells is done by providing a circuit that measures the threshold voltage of the cell in its erased state and compares it to a reference voltage, and adds or removes charge from the cell to align the threshold voltage substantially with the reference voltage.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the adding or removing of charge is done iteratively by generating voltage pulses and counting the number of voltage pulses required to align the threshold voltage substantially with the reference voltage.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method of providing a multi-cell EEPROM array capable of storing an analog value, comprising
<claim-text>providing a multi-cell EEPROM array,</claim-text>
<claim-text>pre-programming the cells so that all of the cells have substantially the same threshold voltage in their erased states and all of the cells have substantially the same threshold voltage in their programmed states, wherein both the programmed threshold voltage and the unprogrammed threshold voltage are substantially the same for all the cells in the array.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the pre-programming comprises adding or removing charge from the cells and the EEPROM cells each include two capacitors, and the step of adding or removing charge comprises adding or removing charge from the capacitors.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein a first of the capacitors is defined by a control gate separated from a floating gate, and the step of adding charge comprises applying a positive voltage to the control gate.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the second of the capacitors is defined by the floating gate spaced from an active region, and the step of removing charge comprises sucking off charge from the second capacitor.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the pre-programming of each of the cells is done by providing a circuit that measures the threshold voltage of the cell in its erased state and compares it to a reference voltage, and adds or removes charge from the cell to align the threshold voltage substantially with the reference voltage.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the adding or removing of charge is done iteratively by generating voltage pulses and counting the number of voltage pulses required to align the threshold voltage substantially with the reference voltage.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A method of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the pre-programming of each of the cells is done by providing a circuit that measures the threshold voltage of the cell in its programmed state and compares it to a reference voltage, and adds or removes charge from the cell to align the threshold voltage substantially with the reference voltage, wherein the adding or removing of charge is done iteratively by generating voltage pulses and counting the number of voltage pulses required to align the threshold voltage substantially with the reference voltage.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A method of providing a multi-cell EEPROM array wherein each cell is capable of storing multiple values, comprising
<claim-text>providing a multi-cell EEPROM array,</claim-text>
<claim-text>pre-programming the cells so that all of the cells have substantially the same threshold voltage in their erased states and all of the cells have substantially the same threshold voltage in their programmed states, wherein both the programmed threshold voltage and the unprogrammed threshold voltage are substantially the same for all the cells in the array.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A method of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the pre-programming comprises adding or removing charge from the cells and the EEPROM cells each include two capacitors, and the step of adding or removing charge comprises adding or removing charge from the capacitors.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein a first of the capacitors is defined by a control gate separated from a floating gate, and the step of adding charge comprises applying a positive voltage to the control gate.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the second of the capacitors is defined by the floating gate spaced from an active region, and the step of removing charge comprises sucking off charge from the second capacitor.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. A method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the pre-programming of each of the cells is done by providing a circuit that measures the threshold voltage of the cell in its erased state and compares it to a reference voltage, and adds or removes charge from the cell to align the threshold voltage substantially with the reference voltage.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the adding or removing of charge is done iteratively by generating voltage pulses and counting the number of voltage pulses required to align the threshold voltage substantially with the reference voltage.</claim-text>
</claim>
</claims>
</us-patent-grant>
