<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298691-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298691</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>09632867</doc-number>
<date>20000804</date>
</document-id>
</application-reference>
<us-application-series-code>09</us-application-series-code>
<us-term-of-grant>
<us-term-extension>625</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>J</subclass>
<main-group>1</main-group>
<subgroup>16</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>J</subclass>
<main-group>3</main-group>
<subgroup>14</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370203</main-classification>
<further-classification>370430</further-classification>
<further-classification>370445</further-classification>
<further-classification>370462</further-classification>
<further-classification>370465</further-classification>
<further-classification>375220</further-classification>
</classification-national>
<invention-title id="d0e53">Method and protocol to adapt each unique connection in a multi-node network to a maximum data rate</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>3806885</doc-number>
<kind>A</kind>
<name>Moore</name>
<date>19740400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4569044</doc-number>
<kind>A</kind>
<name>Tao et al.</name>
<date>19860200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>4581734</doc-number>
<kind>A</kind>
<name>Olson et al.</name>
<date>19860400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>4630261</doc-number>
<kind>A</kind>
<name>Irvin</name>
<date>19861200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>4677612</doc-number>
<kind>A</kind>
<name>Olson et al.</name>
<date>19870600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>4720850</doc-number>
<kind>A</kind>
<name>Oberlander et al.</name>
<date>19880100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>4726018</doc-number>
<kind>A</kind>
<name>Bux et al.</name>
<date>19880200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>4792947</doc-number>
<kind>A</kind>
<name>Takiyasu et al.</name>
<date>19881200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>4819229</doc-number>
<kind>A</kind>
<name>Pritty et al.</name>
<date>19890400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>4881241</doc-number>
<kind>A</kind>
<name>Pommier et al.</name>
<date>19891100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>4943959</doc-number>
<kind>A</kind>
<name>Arnold</name>
<date>19900700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>5001472</doc-number>
<kind>A</kind>
<name>Fischer et al.</name>
<date>19910300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>5003539</doc-number>
<kind>A</kind>
<name>Takemoto et al.</name>
<date>19910300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>5046069</doc-number>
<kind>A</kind>
<name>Calvignac et al.</name>
<date>19910900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>5081678</doc-number>
<kind>A</kind>
<name>Kaufman et al.</name>
<date>19920100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>5105423</doc-number>
<kind>A</kind>
<name>Tanaka et al.</name>
<date>19920400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>5121396</doc-number>
<kind>A</kind>
<name>Irvin et al.</name>
<date>19920600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>5140584</doc-number>
<kind>A</kind>
<name>Suzuki</name>
<date>19920800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>5157659</doc-number>
<kind>A</kind>
<name>Schenkel</name>
<date>19921000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>5197061</doc-number>
<kind>A</kind>
<name>Halbert-Lassalle et al.</name>
<date>19930300</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>370 11</main-classification></classification-national>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>5214646</doc-number>
<kind>A</kind>
<name>Yacoby</name>
<date>19930500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>5228025</doc-number>
<kind>A</kind>
<name>Le Floch et al.</name>
<date>19930700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>5231634</doc-number>
<kind>A</kind>
<name>Giles et al.</name>
<date>19930700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>5274629</doc-number>
<kind>A</kind>
<name>Helard et al.</name>
<date>19931200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>5280480</doc-number>
<kind>A</kind>
<name>Pitt et al.</name>
<date>19940100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>5307376</doc-number>
<kind>A</kind>
<name>Castelain et al.</name>
<date>19940400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>5339313</doc-number>
<kind>A</kind>
<name>Ben-Michael et al.</name>
<date>19940800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>5343473</doc-number>
<kind>A</kind>
<name>Cidon et al.</name>
<date>19940800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>5384777</doc-number>
<kind>A</kind>
<name>Ahmadi et al.</name>
<date>19950100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>5416801</doc-number>
<kind>A</kind>
<name>Chouly et al.</name>
<date>19950500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>5426646</doc-number>
<kind>A</kind>
<name>Slack</name>
<date>19950600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>RE35001</doc-number>
<kind>E</kind>
<name>Grow</name>
<date>19950700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>5436905</doc-number>
<kind>A</kind>
<name>Li et al.</name>
<date>19950700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>5448565</doc-number>
<kind>A</kind>
<name>Chang et al.</name>
<date>19950900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>5452288</doc-number>
<kind>A</kind>
<name>Rahuel et al.</name>
<date>19950900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>5452322</doc-number>
<kind>A</kind>
<name>Lauer</name>
<date>19950900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>5473602</doc-number>
<kind>A</kind>
<name>McKenna et al.</name>
<date>19951200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>370256</main-classification></classification-national>
</citation>
<citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>5483529</doc-number>
<kind>A</kind>
<name>Baggen et al.</name>
<date>19960100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>5488632</doc-number>
<kind>A</kind>
<name>Mason et al.</name>
<date>19960100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>5504747</doc-number>
<kind>A</kind>
<name>Sweazey</name>
<date>19960400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>5515379</doc-number>
<kind>A</kind>
<name>Crisler et al.</name>
<date>19960500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>5524027</doc-number>
<kind>A</kind>
<name>Huisken</name>
<date>19960600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>5537414</doc-number>
<kind>A</kind>
<name>Takiyasu et al.</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>5541922</doc-number>
<kind>A</kind>
<name>Pyhalammi</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>5548649</doc-number>
<kind>A</kind>
<name>Jacobson</name>
<date>19960800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00046">
<document-id>
<country>US</country>
<doc-number>5555268</doc-number>
<kind>A</kind>
<name>Fattouche et al.</name>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00047">
<document-id>
<country>US</country>
<doc-number>5563883</doc-number>
<kind>A</kind>
<name>Cheng</name>
<date>19961000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00048">
<document-id>
<country>US</country>
<doc-number>5563897</doc-number>
<kind>A</kind>
<name>Pyndiah et al.</name>
<date>19961000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00049">
<document-id>
<country>US</country>
<doc-number>5568476</doc-number>
<kind>A</kind>
<name>Sherer et al.</name>
<date>19961000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00050">
<document-id>
<country>US</country>
<doc-number>5610908</doc-number>
<kind>A</kind>
<name>Shelswell et al.</name>
<date>19970300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00051">
<document-id>
<country>US</country>
<doc-number>5612975</doc-number>
<kind>A</kind>
<name>Becker et al.</name>
<date>19970300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00052">
<document-id>
<country>US</country>
<doc-number>5615212</doc-number>
<kind>A</kind>
<name>Ruszczyk et al.</name>
<date>19970300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00053">
<document-id>
<country>US</country>
<doc-number>5619651</doc-number>
<kind>A</kind>
<name>Young</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00054">
<document-id>
<country>US</country>
<doc-number>5623512</doc-number>
<kind>A</kind>
<name>Sasaki</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00055">
<document-id>
<country>US</country>
<doc-number>5629948</doc-number>
<kind>A</kind>
<name>Hagiwara et al.</name>
<date>19970500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00056">
<document-id>
<country>US</country>
<doc-number>5636230</doc-number>
<kind>A</kind>
<name>Marturano et al.</name>
<date>19970600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00057">
<document-id>
<country>US</country>
<doc-number>5644576</doc-number>
<kind>A</kind>
<name>Bauchot et al.</name>
<date>19970700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00058">
<document-id>
<country>US</country>
<doc-number>5651009</doc-number>
<kind>A</kind>
<name>Perreault et al.</name>
<date>19970700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00059">
<document-id>
<country>US</country>
<doc-number>5694389</doc-number>
<kind>A</kind>
<name>Seki et al.</name>
<date>19971200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00060">
<document-id>
<country>US</country>
<doc-number>5706348</doc-number>
<kind>A</kind>
<name>Gray et al.</name>
<date>19980100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00061">
<document-id>
<country>US</country>
<doc-number>5717689</doc-number>
<kind>A</kind>
<name>Ayanoglu</name>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00062">
<document-id>
<country>US</country>
<doc-number>5732113</doc-number>
<kind>A</kind>
<name>Schmidl et al.</name>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00063">
<document-id>
<country>US</country>
<doc-number>5737330</doc-number>
<kind>A</kind>
<name>Fulthorp et al.</name>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00064">
<document-id>
<country>US</country>
<doc-number>5745769</doc-number>
<kind>A</kind>
<name>Choi</name>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00065">
<document-id>
<country>US</country>
<doc-number>5757766</doc-number>
<kind>A</kind>
<name>Sugita</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00066">
<document-id>
<country>US</country>
<doc-number>5757770</doc-number>
<kind>A</kind>
<name>Lagoutte et al.</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00067">
<document-id>
<country>US</country>
<doc-number>5764931</doc-number>
<kind>A</kind>
<name>Schmahl et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00068">
<document-id>
<country>US</country>
<doc-number>5771235</doc-number>
<kind>A</kind>
<name>Tang et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00069">
<document-id>
<country>US</country>
<doc-number>5787071</doc-number>
<kind>A</kind>
<name>Basso et al.</name>
<date>19980700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00070">
<document-id>
<country>US</country>
<doc-number>5790541</doc-number>
<kind>A</kind>
<name>Patrick et al.</name>
<date>19980800</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>370392</main-classification></classification-national>
</citation>
<citation>
<patcit num="00071">
<document-id>
<country>US</country>
<doc-number>5793307</doc-number>
<kind>A</kind>
<name>Perrault et al.</name>
<date>19980800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00072">
<document-id>
<country>US</country>
<doc-number>5799033</doc-number>
<kind>A</kind>
<name>Baggen</name>
<date>19980800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00073">
<document-id>
<country>US</country>
<doc-number>5812599</doc-number>
<kind>A</kind>
<name>Van Kerckhove</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00074">
<document-id>
<country>US</country>
<doc-number>5818821</doc-number>
<kind>A</kind>
<name>Schurig</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00075">
<document-id>
<country>US</country>
<doc-number>5818826</doc-number>
<kind>A</kind>
<name>Gfeller et al.</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00076">
<document-id>
<country>US</country>
<doc-number>5825807</doc-number>
<kind>A</kind>
<name>Kumar</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00077">
<document-id>
<country>US</country>
<doc-number>5828677</doc-number>
<kind>A</kind>
<name>Sayeed et al.</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00078">
<document-id>
<country>US</country>
<doc-number>5841778</doc-number>
<kind>A</kind>
<name>Shaffer et al.</name>
<date>19981100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00079">
<document-id>
<country>US</country>
<doc-number>5841873</doc-number>
<kind>A</kind>
<name>Lockhart et al.</name>
<date>19981100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00080">
<document-id>
<country>US</country>
<doc-number>5884040</doc-number>
<kind>A</kind>
<name>Chung</name>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00081">
<document-id>
<country>US</country>
<doc-number>5886993</doc-number>
<kind>A</kind>
<name>Ruszczyk et al.</name>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00082">
<document-id>
<country>US</country>
<doc-number>5892769</doc-number>
<kind>A</kind>
<name>Lee</name>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00083">
<document-id>
<country>US</country>
<doc-number>5896561</doc-number>
<kind>A</kind>
<name>Schrader et al.</name>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00084">
<document-id>
<country>US</country>
<doc-number>5903614</doc-number>
<kind>A</kind>
<name>Suzuki et al.</name>
<date>19990500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00085">
<document-id>
<country>US</country>
<doc-number>5914932</doc-number>
<kind>A</kind>
<name>Suzuki et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00086">
<document-id>
<country>US</country>
<doc-number>5914959</doc-number>
<kind>A</kind>
<name>Marchetto et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00087">
<document-id>
<country>US</country>
<doc-number>5940399</doc-number>
<kind>A</kind>
<name>Weizman</name>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00088">
<document-id>
<country>US</country>
<doc-number>5940438</doc-number>
<kind>A</kind>
<name>Poon et al.</name>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>375222</main-classification></classification-national>
</citation>
<citation>
<patcit num="00089">
<document-id>
<country>US</country>
<doc-number>5948060</doc-number>
<kind>A</kind>
<name>Gregg et al.</name>
<date>19990900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00090">
<document-id>
<country>US</country>
<doc-number>5956338</doc-number>
<kind>A</kind>
<name>Ghaibeh</name>
<date>19990900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00091">
<document-id>
<country>US</country>
<doc-number>5966412</doc-number>
<kind>A</kind>
<name>Ramaswamy</name>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00092">
<document-id>
<country>US</country>
<doc-number>5970062</doc-number>
<kind>A</kind>
<name>Bauchot</name>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>370345</main-classification></classification-national>
</citation>
<citation>
<patcit num="00093">
<document-id>
<country>US</country>
<doc-number>5987011</doc-number>
<kind>A</kind>
<name>Toh</name>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>370331</main-classification></classification-national>
</citation>
<citation>
<patcit num="00094">
<document-id>
<country>US</country>
<doc-number>6005894</doc-number>
<kind>A</kind>
<name>Kumar</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00095">
<document-id>
<country>US</country>
<doc-number>6006017</doc-number>
<kind>A</kind>
<name>Joshi et al.</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00096">
<document-id>
<country>US</country>
<doc-number>6041063</doc-number>
<kind>A</kind>
<name>Povlsen et al.</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00097">
<document-id>
<country>US</country>
<doc-number>6041358</doc-number>
<kind>A</kind>
<name>Huang et al.</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00098">
<document-id>
<country>US</country>
<doc-number>6044154</doc-number>
<kind>A</kind>
<name>Kelly</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00099">
<document-id>
<country>US</country>
<doc-number>6044482</doc-number>
<kind>A</kind>
<name>Wong</name>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00100">
<document-id>
<country>US</country>
<doc-number>6052377</doc-number>
<kind>A</kind>
<name>Ohmi et al.</name>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00101">
<document-id>
<country>US</country>
<doc-number>6076115</doc-number>
<kind>A</kind>
<name>Sambamurthy et al.</name>
<date>20000600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00102">
<document-id>
<country>US</country>
<doc-number>6092214</doc-number>
<kind>A</kind>
<name>Quoc et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00103">
<document-id>
<country>US</country>
<doc-number>6108713</doc-number>
<kind>A</kind>
<name>Sambamurthy et al.</name>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00104">
<document-id>
<country>US</country>
<doc-number>6125150</doc-number>
<kind>A</kind>
<name>Wesel et al.</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>375265</main-classification></classification-national>
</citation>
<citation>
<patcit num="00105">
<document-id>
<country>US</country>
<doc-number>6130887</doc-number>
<kind>A</kind>
<name>Dutta</name>
<date>20001000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00106">
<document-id>
<country>US</country>
<doc-number>6130894</doc-number>
<kind>A</kind>
<name>Ojard et al.</name>
<date>20001000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00107">
<document-id>
<country>US</country>
<doc-number>6151296</doc-number>
<kind>A</kind>
<name>Vijayan et al.</name>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00108">
<document-id>
<country>US</country>
<doc-number>6169744</doc-number>
<kind>B1</kind>
<name>Grabelsky et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00109">
<document-id>
<country>US</country>
<doc-number>6182147</doc-number>
<kind>B1</kind>
<name>Farinacci</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00110">
<document-id>
<country>US</country>
<doc-number>6188717</doc-number>
<kind>B1</kind>
<name>Kaiser et al.</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375148</main-classification></classification-national>
</citation>
<citation>
<patcit num="00111">
<document-id>
<country>US</country>
<doc-number>6192397</doc-number>
<kind>B1</kind>
<name>Thompson</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00112">
<document-id>
<country>US</country>
<doc-number>6202082</doc-number>
<kind>B1</kind>
<name>Tomizawa et al.</name>
<date>20010300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00113">
<document-id>
<country>US</country>
<doc-number>6215792</doc-number>
<kind>B1</kind>
<name>Abi-Nassif</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00114">
<document-id>
<country>US</country>
<doc-number>6216244</doc-number>
<kind>B1</kind>
<name>Myers et al.</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714746</main-classification></classification-national>
</citation>
<citation>
<patcit num="00115">
<document-id>
<country>US</country>
<doc-number>6222851</doc-number>
<kind>B1</kind>
<name>Petry</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00116">
<document-id>
<country>US</country>
<doc-number>6243386</doc-number>
<kind>B1</kind>
<name>Chan et al.</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00117">
<document-id>
<country>US</country>
<doc-number>6243449</doc-number>
<kind>B1</kind>
<name>Margulis et al.</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00118">
<document-id>
<country>US</country>
<doc-number>6252849</doc-number>
<kind>B1</kind>
<name>Rom et al.</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00119">
<document-id>
<country>US</country>
<doc-number>6259696</doc-number>
<kind>B1</kind>
<name>Yazaki et al.</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00120">
<document-id>
<country>US</country>
<doc-number>6278716</doc-number>
<kind>B1</kind>
<name>Rubenstein et al.</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00121">
<document-id>
<country>US</country>
<doc-number>6289000</doc-number>
<kind>B1</kind>
<name>Yonge, III</name>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00122">
<document-id>
<country>US</country>
<doc-number>6295296</doc-number>
<kind>B1</kind>
<name>Tappan</name>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00123">
<document-id>
<country>US</country>
<doc-number>6334185</doc-number>
<kind>B1</kind>
<name>Hansson et al.</name>
<date>20011200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00124">
<document-id>
<country>US</country>
<doc-number>6343083</doc-number>
<kind>B1</kind>
<name>Mendelson et al.</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00125">
<document-id>
<country>US</country>
<doc-number>6363052</doc-number>
<kind>B1</kind>
<name>Hosein</name>
<date>20020300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00126">
<document-id>
<country>US</country>
<doc-number>6370156</doc-number>
<kind>B2</kind>
<name>Spruyt et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00127">
<document-id>
<country>US</country>
<doc-number>6385672</doc-number>
<kind>B1</kind>
<name>Wang et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00128">
<document-id>
<country>US</country>
<doc-number>6393051</doc-number>
<kind>B1</kind>
<name>Koizumi et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375222</main-classification></classification-national>
</citation>
<citation>
<patcit num="00129">
<document-id>
<country>US</country>
<doc-number>6430661</doc-number>
<kind>B1</kind>
<name>Larson et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00130">
<document-id>
<country>US</country>
<doc-number>6434153</doc-number>
<kind>B1</kind>
<name>Yazaki et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00131">
<document-id>
<country>US</country>
<doc-number>6456649</doc-number>
<kind>B1</kind>
<name>Isaksson et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00132">
<document-id>
<country>US</country>
<doc-number>6466580</doc-number>
<kind>B1</kind>
<name>Leung</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00133">
<document-id>
<country>US</country>
<doc-number>6473435</doc-number>
<kind>B1</kind>
<name>Zhou et al.</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00134">
<document-id>
<country>US</country>
<doc-number>6480489</doc-number>
<kind>B1</kind>
<name>Muller et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00135">
<document-id>
<country>US</country>
<doc-number>6487212</doc-number>
<kind>B1</kind>
<name>Erimli et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00136">
<document-id>
<country>US</country>
<doc-number>6501760</doc-number>
<kind>B1</kind>
<name>Ohba et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00137">
<document-id>
<country>US</country>
<doc-number>6519263</doc-number>
<kind>B1</kind>
<name>Huth</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00138">
<document-id>
<country>US</country>
<doc-number>6526451</doc-number>
<kind>B2</kind>
<name>Kasper</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00139">
<document-id>
<country>US</country>
<doc-number>6538985</doc-number>
<kind>B1</kind>
<name>Petry et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370203</main-classification></classification-national>
</citation>
<citation>
<patcit num="00140">
<document-id>
<country>US</country>
<doc-number>6553534</doc-number>
<kind>B2</kind>
<name>Yonge, III et al.</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00141">
<document-id>
<country>US</country>
<doc-number>6567914</doc-number>
<kind>B1</kind>
<name>Just et al.</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00142">
<document-id>
<country>US</country>
<doc-number>6654410</doc-number>
<kind>B2</kind>
<name>Tzannes</name>
<date>20031100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00143">
<document-id>
<country>US</country>
<doc-number>6667991</doc-number>
<kind>B1</kind>
<name>Tzannes</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00144">
<document-id>
<country>US</country>
<doc-number>6671284</doc-number>
<kind>B1</kind>
<name>Yonge, III et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00145">
<document-id>
<country>US</country>
<doc-number>6747976</doc-number>
<kind>B1</kind>
<name>Bensaou et al.</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00146">
<document-id>
<country>US</country>
<doc-number>6778507</doc-number>
<kind>B1</kind>
<name>Jalali</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370317</main-classification></classification-national>
</citation>
<citation>
<patcit num="00147">
<document-id>
<country>US</country>
<doc-number>2001/0012319</doc-number>
<kind>A1</kind>
<name>Foley</name>
<date>20010800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375222</main-classification></classification-national>
</citation>
<citation>
<patcit num="00148">
<document-id>
<country>US</country>
<doc-number>2001/0043576</doc-number>
<kind>A1</kind>
<name>Terry</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00149">
<document-id>
<country>US</country>
<doc-number>2001/0048692</doc-number>
<kind>A1</kind>
<name>Karner</name>
<date>20011200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00150">
<document-id>
<country>US</country>
<doc-number>2002/0042836</doc-number>
<kind>A1</kind>
<name>Mallory</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00151">
<document-id>
<country>US</country>
<doc-number>2002/0048368</doc-number>
<kind>A1</kind>
<name>Gardner</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00152">
<document-id>
<country>US</country>
<doc-number>2002/0065047</doc-number>
<kind>A1</kind>
<name>Moose</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00153">
<document-id>
<country>US</country>
<doc-number>2002/0110138</doc-number>
<kind>A1</kind>
<name>Schramm</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370430</main-classification></classification-national>
</citation>
<citation>
<patcit num="00154">
<document-id>
<country>US</country>
<doc-number>2002/0191533</doc-number>
<kind>A1</kind>
<name>Chini et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00155">
<document-id>
<country>US</country>
<doc-number>2003/0006883</doc-number>
<kind>A1</kind>
<name>Kim et al.</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00156">
<document-id>
<country>US</country>
<doc-number>2003/0079169</doc-number>
<kind>A1</kind>
<name>Ho et al.</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00157">
<document-id>
<country>US</country>
<doc-number>2003/0174664</doc-number>
<kind>A1</kind>
<name>Benveniste</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00158">
<document-id>
<country>US</country>
<doc-number>2004/0001499</doc-number>
<kind>A1</kind>
<name>Patella et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00159">
<document-id>
<country>DE</country>
<doc-number>3413144</doc-number>
<date>19851000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00160">
<document-id>
<country>WO</country>
<doc-number>98/57440</doc-number>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00161">
<document-id>
<country>WO</country>
<doc-number>02/41598</doc-number>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00162">
<othercit>U.S. Appl. No. 09/455,186.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00163">
<othercit>U.S. Appl. No. 09/445,110.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00164">
<othercit>U.S. Appl. No. 09/377,131.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00165">
<othercit>ISO/IEC 8802-3: 1996 International Standard (ANSI/IEEE Std 802.3) Carrier sense multiple access with collision detection (CSMA/CD) access method and physical layer specifications.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00166">
<othercit>ISO/IEC 8802-11: 1999 International Standard (ANSI/IEEE Std 802.11) Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY) specifications.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00167">
<othercit>Shared Wireless Access Protocol (Cordless Access) Specification, SWAP-CA Revision 1.21, Jan. 27, 1999, by the HomeRF™ Technical Committee.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00168">
<othercit>Interface Specification for HomePNA™ 2.0—10M8 Technology, Dec. 1, 1999.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00169">
<othercit>Interface Specification for HomePNA™ 2.0—10M8 Technology—Link Layer Protocols, Dec. 1, 1999.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00170">
<othercit>U.S. Appl. No. 09/632,303.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00171">
<othercit>Sun et al., Public-key ID-based Cryptosystem, 1991, IEEE, pp. 142-144.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00172">
<othercit>Bruschi, Danilo, Secure Multicast in Wireless Networks of Mobile Hosts: Protocols and Issues, 2002, Mobile Networks and Applications, pp. 503-511.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00173">
<othercit>IBM, Combined use of collision resolution and collision avoidance MAC protocols, Oct. 1, 1994, IBM Technical Disclosure Bulletin, vol. 37, pp. 299-302 (NN9410299).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00174">
<othercit>ISO/IEC 8802-3: 2002 International Standard (ANSI/IEEE Std 802.3) Carrier sense multiple access with collision detection (CSMA/CD) access method and physical layer specifications.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00175">
<othercit>Bux, “Token-Ring Local-Area Networks and Their Performance,” Procs. Of the IEEE, vol. 77, No. 2, Feb. 1989.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00176">
<othercit>Applied Cryptography, Second Edition: protocols, algorithms, and source code in C, Bruce Schneier, 1996.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00177">
<othercit>PKCS #5 v. 20: Password-Based Cryptography Standard, RSA Laboratories, Mar. 25, 1999.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00178">
<othercit>HomePlug Powerline Alliance, HomePlug 1.0.1 Specification, Dec. 1, 2001.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00179">
<othercit>Lee et al., “HomePlug 1.0 powerline communication LANs—protocol description and performance results”, Int. J. Commun. Syst., vol. 16 (2003).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00180">
<othercit>Carrier sense multiple access with collision detection (CSMA/CD) access method and physical layer specifications, ISO/IEC 8802-3: 1996 International Standard (ANSI/IEEE Std 802.3).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00181">
<othercit>Bertsekas et al., Data Networks, Prentice Hall, Englewood Cliffs, NJ, Section 2.4.3 Selective Repeat ARQ (1992).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00182">
<othercit>HiPerformance Radio Local Area Network (HiperLAN) Type I: Functional Specification, European Standard (Telecommunication Series) No. 300652 V. 1.2.1 Jul. 1998.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00183">
<othercit>An Architecture for Differentiated Services, IETF RFC 2475, Dec. 1998.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00184">
<othercit>Goalic et al., “Real-Time Turbo-Decoding of Product Codes on a Digital Signal Processor,” IEEE, pp. 624-628 (1997).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00185">
<othercit>Benedetto et al., “A Soft-Input Soft-Output Maximum A Posteriori (MAP) Module to Decode Parallel and Serial Concatenated Codes,” TDA Progress Report 42-127, pp. 1-20 (Nov. 1996).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00186">
<othercit>Peterson et al., “Error-Correcting Codes,” The MIT Press (1972).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00187">
<othercit>Pyndiah, “Near-Optimum Decoding of Product Codes: Block Turbo Codes,” IEEE Transactions on Communications, vol. 46, No. 8, pp. 1003-1010 (Aug. 1998).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00188">
<othercit>Pyndiah, “Near Optimum Decoding of Product Codes,” IEEE, pp. 339-343 (1994).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00189">
<othercit>Pyndiah, “Performance of Block Turbo Coded 16-QAM and 64-QAM Modulations,” IEEE, pp. 1039-1043 (1995).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00190">
<othercit>Ehrsam et al., “A cryptographic key management scheme for implementing the Data Encryption Standard,” IBM Syst J, vol. 17, No. 2 (1978).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>13</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370465</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370468</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370445</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370447</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370462</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370203</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370430</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375220</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>48</number-of-drawing-sheets>
<number-of-figures>55</number-of-figures>
</figures>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Yonge, III</last-name>
<first-name>Lawrence W.</first-name>
<address>
<city>Ocala</city>
<state>FL</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Markwalter</last-name>
<first-name>Brian E.</first-name>
<address>
<city>Ocala</city>
<state>FL</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kostoff, II</last-name>
<first-name>Stanley J.</first-name>
<address>
<city>Ocala</city>
<state>FL</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Patella</last-name>
<first-name>James Philip</first-name>
<address>
<city>Hernando</city>
<state>FL</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="005" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Earnshaw</last-name>
<first-name>William E.</first-name>
<address>
<city>Ocala</city>
<state>FL</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Fish &amp; Richardson P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Intellon Corporation</orgname>
<role>02</role>
<address>
<city>Ocala</city>
<state>FL</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Feild</last-name>
<first-name>Joseph</first-name>
<department>2617</department>
</primary-examiner>
<assistant-examiner>
<last-name>Mehra</last-name>
<first-name>Inder Pal</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A rate-adaptive mechanism for optimizing transmitter/receiver connections on a carrier-by-carrier basis for maximum date rate based on channel attributes for that connection and direction. Channel information is produced by a channel adaptation process based on channel characteristics and is stored in both transmitter and receiver as a channel map with an associated a channel map index for channel map look-up. The channel map index for a channel map used to modulate a payload of a frame is conveyed by transmitter to receiver in the frame so that the receiver is able to select the correct channel map for demodulation.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="183.47mm" wi="126.58mm" file="US07298691-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="151.21mm" wi="177.72mm" file="US07298691-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="238.17mm" wi="180.17mm" orientation="landscape" file="US07298691-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="220.98mm" wi="141.99mm" orientation="landscape" file="US07298691-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="110.83mm" wi="86.36mm" orientation="landscape" file="US07298691-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="163.58mm" wi="111.00mm" orientation="landscape" file="US07298691-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="160.27mm" wi="99.74mm" orientation="landscape" file="US07298691-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="166.03mm" wi="122.09mm" orientation="landscape" file="US07298691-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="234.36mm" wi="96.86mm" orientation="landscape" file="US07298691-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="188.13mm" wi="105.16mm" orientation="landscape" file="US07298691-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="182.63mm" wi="143.00mm" file="US07298691-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="125.39mm" wi="119.21mm" file="US07298691-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="226.14mm" wi="153.16mm" file="US07298691-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="201.68mm" wi="107.53mm" file="US07298691-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="197.27mm" wi="114.89mm" file="US07298691-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="133.60mm" wi="107.36mm" file="US07298691-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="113.62mm" wi="142.24mm" file="US07298691-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="157.99mm" wi="144.27mm" file="US07298691-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="166.03mm" wi="114.72mm" file="US07298691-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="198.04mm" wi="156.21mm" orientation="landscape" file="US07298691-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="228.60mm" wi="162.90mm" orientation="landscape" file="US07298691-20071120-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="187.62mm" wi="99.06mm" orientation="landscape" file="US07298691-20071120-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="166.54mm" wi="118.45mm" orientation="landscape" file="US07298691-20071120-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="240.96mm" wi="171.20mm" orientation="landscape" file="US07298691-20071120-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="248.75mm" wi="176.87mm" file="US07298691-20071120-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="203.28mm" wi="183.64mm" file="US07298691-20071120-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="244.86mm" wi="168.66mm" file="US07298691-20071120-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00027" num="00027">
<img id="EMI-D00027" he="222.25mm" wi="140.21mm" file="US07298691-20071120-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00028" num="00028">
<img id="EMI-D00028" he="221.06mm" wi="174.92mm" orientation="landscape" file="US07298691-20071120-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00029" num="00029">
<img id="EMI-D00029" he="249.51mm" wi="184.74mm" file="US07298691-20071120-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00030" num="00030">
<img id="EMI-D00030" he="115.65mm" wi="149.01mm" file="US07298691-20071120-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00031" num="00031">
<img id="EMI-D00031" he="215.48mm" wi="173.23mm" file="US07298691-20071120-D00031.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00032" num="00032">
<img id="EMI-D00032" he="210.23mm" wi="160.36mm" orientation="landscape" file="US07298691-20071120-D00032.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00033" num="00033">
<img id="EMI-D00033" he="173.91mm" wi="79.33mm" file="US07298691-20071120-D00033.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00034" num="00034">
<img id="EMI-D00034" he="165.18mm" wi="160.70mm" orientation="landscape" file="US07298691-20071120-D00034.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00035" num="00035">
<img id="EMI-D00035" he="246.46mm" wi="138.09mm" orientation="landscape" file="US07298691-20071120-D00035.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00036" num="00036">
<img id="EMI-D00036" he="251.21mm" wi="136.65mm" orientation="landscape" file="US07298691-20071120-D00036.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00037" num="00037">
<img id="EMI-D00037" he="241.38mm" wi="197.95mm" file="US07298691-20071120-D00037.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00038" num="00038">
<img id="EMI-D00038" he="217.42mm" wi="144.36mm" file="US07298691-20071120-D00038.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00039" num="00039">
<img id="EMI-D00039" he="247.23mm" wi="145.37mm" file="US07298691-20071120-D00039.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00040" num="00040">
<img id="EMI-D00040" he="246.38mm" wi="144.95mm" orientation="landscape" file="US07298691-20071120-D00040.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00041" num="00041">
<img id="EMI-D00041" he="260.77mm" wi="184.40mm" orientation="landscape" file="US07298691-20071120-D00041.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00042" num="00042">
<img id="EMI-D00042" he="254.08mm" wi="141.31mm" orientation="landscape" file="US07298691-20071120-D00042.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00043" num="00043">
<img id="EMI-D00043" he="248.50mm" wi="172.13mm" orientation="landscape" file="US07298691-20071120-D00043.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00044" num="00044">
<img id="EMI-D00044" he="219.12mm" wi="133.35mm" orientation="landscape" file="US07298691-20071120-D00044.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00045" num="00045">
<img id="EMI-D00045" he="172.30mm" wi="102.62mm" orientation="landscape" file="US07298691-20071120-D00045.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00046" num="00046">
<img id="EMI-D00046" he="249.85mm" wi="152.65mm" orientation="landscape" file="US07298691-20071120-D00046.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00047" num="00047">
<img id="EMI-D00047" he="163.75mm" wi="179.83mm" orientation="landscape" file="US07298691-20071120-D00047.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00048" num="00048">
<img id="EMI-D00048" he="153.25mm" wi="96.18mm" orientation="landscape" file="US07298691-20071120-D00048.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">The invention relates to Medium Access Control (MAC) protocols in CSMA networks.</p>
<p id="p-0003" num="0002">In prior data transmission systems, available transmission channel bandwidth may be subdivided into a number of discrete carriers. Examples of multi-carrier data transmission systems include Orthogonal Frequency Division Multiplexing (OFDM) data transmission systems, in which the carriers are overlapping and orthogonal to each other, such as IEEE 802.11a Standard based wireless systems using OFDM and Digital Subscriber Line (DSL) systems using discrete multi-tone modulation. Data transmissions in multi-carrier systems such as these encompass some number of available carrier frequencies.</p>
<p id="p-0004" num="0003">In multi-node, multi-carrier systems, for example, systems that implement the IEEE 802.11a Standard, it is possible to adapt each node-to-node connection to a particular data rate; however, all the data rates of the individual carriers are the same. The channel adaptation or channel information used to modulate a body of a frame and to be applied to the frame body by a receiving node for demodulation may be provided by the transmitting node in the frame's header, which is typically transmitted at a lowest data rate. While such a mechanism for conveying channel information may be adequate for a small amount of channel information, it becomes less efficient for systems with more complex channel information requirements.</p>
<p id="p-0005" num="0004">In point-to-point, multi-carrier systems such as DSL, the carriers may be configured for different bit rates based on channel characteristics. In a point-to-point application such as DSL, there is no need to provide channel information with a transmission as each DSL transceiver only communicates with one other DSL transceiver.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0006" num="0005">In one aspect of the invention, in a network of stations connected to a shared channel, each station having a transmitter and a receiver, operating a station includes adapting a connection between a transmitter and a receiver to a data rate for each carrier of the channel based on characteristics of each carrier of the channel for the connection.</p>
<p id="p-0007" num="0006">Embodiments of the invention may include one or more of the following features. Adapting can include receiving a channel estimation request in a frame from the transmitter over the channel, determining from the frame the characteristics of the channel for the connection and generating channel information from the determined channel characteristics and returning, in a channel estimation response to the transmitter, the channel information so that the channel information can be used by the transmitter in transmissions to the receiver for the connection.</p>
<p id="p-0008" num="0007">Adapting can include sending a channel estimation request to the receiver to obtain channel information for optimizing delivery of subsequent communications with the receiver and receiving the channel information in a channel estimation response from the receiver.</p>
<p id="p-0009" num="0008">Adapting can occur during a frame transmission recovery. If the connection is an existing connection, adapting can be repeated after a predetermined timeout or, alternatively, in response to an indication from the receiver. The indication can be interpreted by the transmitter as a recommendation to perform adapting due to a change in number of bit errors occurring in transmissions from the transmitter to the receiver as detected by the receiver.</p>
<p id="p-0010" num="0009">The data rate can be a maximum data rate.</p>
<p id="p-0011" num="0010">In another aspect of the invention, in a network of stations, operating a station includes maintaining, for a connection over a channel between a transmitter in the station and a receiver in another station, a channel map provided by the receiver based on characteristics of the channel for the connection and having an associated channel map index, using by the transmitter the channel map to encode and modulate frame data in a frame for transmission over the channel to the receiver and sending by the transmitter the associated channel map index in the frame to identify to the receiver the channel map used by the transmitter.</p>
<p id="p-0012" num="0011">Embodiments of the invention may include one or more of the following features. The frame can include a frame control field that is observable by substantially all of the stations in the network and the frame control field can include the associated channel map index.</p>
<p id="p-0013" num="0012">The channel map index can be the same as that used by another receiver.</p>
<p id="p-0014" num="0013">The channel can be a power line.</p>
<p id="p-0015" num="0014">Using the channel map to modulate the frame for transmission over the channel can include modulating the frame onto OFDM symbols.</p>
<p id="p-0016" num="0015">Among the advantages of the present invention are the following. While the frame control data are transferred at a lower data rate and in a manner that ensures that the data can be heard by all stations, frame payload delivery is optimized per transmitter/receiver pair through the use of channel adaptation. Channel adaptation allows each transmitter/receiver connection to be optimized on a carrier-by-carrier basis for maximum date rate based on channel attributes for that connection and direction. Channel information produced by the channel adaptation process is stored in both transmitter and receiver as a channel map in association with a channel map index assigned by the receiver. The channel map index for a channel map used to encode and modulate the payload of a frame is conveyed by transmitter to receiver in the frame control data of the frame so that the receiver is able to retrieve the appropriate channel map for demodulation. While a receiver cannot use a particular channel map index more than once (that is, the channel map index must be unique for that receiver), multiple receivers may use the same channel map index.</p>
<p id="p-0017" num="0016">Other features and advantages of the invention will be apparent from the following detailed description and from the claims.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">DESCRIPTION OF DRAWINGS</heading>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a network of network stations coupled to a transmission channel, each of the stations in the network including a media access control (MAC) unit and a physical layer (PHY) device.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 2</figref> is a detailed block diagram of the PHY device (shown in <figref idref="DRAWINGS">FIG. 1</figref>).</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 3</figref> is a depiction of the format of an OFDM frame, including a start delimiter followed by a payload and an end delimiter.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 4</figref> is a depiction of the format of a delimiter of a response frame.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 5A</figref> is a depiction of the format of a frame control field in the start delimiter (of <figref idref="DRAWINGS">FIG. 3</figref>).</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5B</figref> is a depiction of the format of a frame control field in the end delimiter (of <figref idref="DRAWINGS">FIG. 3</figref>).</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6</figref> is a depiction of the format of a frame control field in the response delimiter (of <figref idref="DRAWINGS">FIG. 4</figref>).</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 7</figref> is a depiction of the format of a segment control field in the payload of the frame shown in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 8</figref> is a depiction of the format of a frame body in the payload of the frame shown in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 9</figref> is a depiction of the format of a MAC Management Information field in the frame body shown in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 10</figref> is a depiction of the format of an MCTRL field in the MAC Management Information field shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 11</figref> is a depiction of the format of an MEHDR field in the MAC Management Information field shown in <figref idref="DRAWINGS">FIG. 9</figref>.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 12A</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Channel Estimation request type.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 12B</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Channel Estimation response type.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 13A</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Connection Information Request type.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 13B</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Connection Information Response type.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 14</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Set Local Parameters type.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 15</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Replace Bridge Address type.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 16</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Set Network Encryption Key type.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 17</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Multicast With Response (MWR) type.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 18</figref> is a depiction of the format of an MMENTRY data entry field in a MAC Management Information field in which the MEHDR field identifies the data entry type as a Concatenate type.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIGS. 19A and 19B</figref> are depictions of data frame transmissions utilizing priority and contention-based access (<figref idref="DRAWINGS">FIG. 19A</figref>) and priority and contention-free access (<figref idref="DRAWINGS">FIG. 19B</figref>).</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIGS. 19C and 19D</figref> are depictions of response frame transmissions utilizing priority and contention-based access (<figref idref="DRAWINGS">FIG. 19C</figref>) and priority and contention-free access (<figref idref="DRAWINGS">FIG. 19D</figref>).</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 20</figref> is a depiction of priority and contention resolution slot signaling based on the arrival time of the frame to be transmitted.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 21</figref> is a block diagram of the MAC unit (shown in <figref idref="DRAWINGS">FIG. 1</figref>), the MAC unit including a state machine having a Transmit (TX) handler and a Receive (RX) handler.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 22</figref> is a block diagram of the TX handler of <figref idref="DRAWINGS">FIG. 21</figref>.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 23</figref> is a flow diagram of a frame transmit process performed by the TX handler of <figref idref="DRAWINGS">FIG. 22</figref>.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 24</figref> is a flow diagram of a response resolve process performed by the frame transmit process of <figref idref="DRAWINGS">FIG. 23</figref>.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 25</figref> is a flow diagram of a contend-for-access process performed by the frame transmit process of <figref idref="DRAWINGS">FIG. 23</figref>.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 26</figref> is a block diagram of the RX handler of <figref idref="DRAWINGS">FIG. 21</figref>.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 27</figref> is a flow diagram of a frame receive process performed by the RX handler of <figref idref="DRAWINGS">FIG. 26</figref>.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 28</figref> is a state diagram illustrating aspects of the frame transmit process and the frame receive process illustrated in <figref idref="DRAWINGS">FIGS. 23 and 27</figref>, respectively.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 29</figref> is a representation of the network as being separated into logical networks, each defined by a unique encryption key.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 30</figref> is a flow diagram of a process for adding a new station as a member of a logical network (and using, as an example, one of the logical networks shown in <figref idref="DRAWINGS">FIG. 29</figref>).</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 31</figref> is a more detailed depiction of the logical network member stations (of one of the logical networks shown in <figref idref="DRAWINGS">FIG. 29</figref>), each member station maintaining a network key and select pair for that logical network.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 32</figref> is a block diagram of an extended network including two reliable subnetworks of stations connected to an unreliable subnetwork of stations by bridges, each of the stations in the unreliable subnetwork and the bridges capable of supporting a bridge proxy mechanism.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 33</figref> is a block diagram of the extended network of <figref idref="DRAWINGS">FIG. 32</figref> configured so that the bridges each serve as a bridge proxy for stations in the reliable subnetworks to which they are connected when those stations are accessed by the stations of the unreliable subnetwork.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 34</figref> is a flow diagram of a bridge proxy transmit process.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 35</figref> is a flow diagram of a multicast processing portion of the bridge proxy transmit process.</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 36</figref> is a flow diagram of a bridge proxy receive process.</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 37</figref> is a network of stations having one of the stations serving as a master and the other stations serving as slaves to support sessions of contention-free intervals.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 38</figref> is a diagram of time slices during a contention-free intervals session.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 39A</figref> is a format of a Set Connection MAC management data entry.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 39B</figref> is a format of a Use Connection MAC management data entry.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 40</figref> is a depiction of a forwarding frame structure for frame forwarding with responses.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 41</figref> is a depiction of a forwarding frame structure for frame forwarding without response.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 42</figref> is a depiction of an alternative start delimiter frame control field format for use in frame forwarding involving frames that do not use end delimiters.</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 43</figref> is a depiction of a forwarding frame structure that uses the start delimiter frame control field of <figref idref="DRAWINGS">FIG. 42</figref> for frame forwarding with response only after a frame forwarding frame.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 44</figref> is a depiction of a forwarding frame structure that uses the start delimiter frame control field of <figref idref="DRAWINGS">FIG. 42</figref> for frame forwarding with response and a NACK or FAIL occurring after a first frame.</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 45</figref> is a depiction of a forwarding frame structure that uses the start delimiter frame control field of <figref idref="DRAWINGS">FIG. 42</figref> for frame forwarding with no response.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. 46</figref> is a depiction of an alternative end delimiter frame control field format having a frame length field for specifying the length of a second frame in a frame forwarding scheme.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0069" num="0068">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, a network <b>10</b> includes network stations <b>12</b><i>a</i>, <b>12</b><i>b </i>. . . <b>12</b><i>k </i>coupled to a transmission medium or channel <b>14</b>, e.g., a power line (PL), as shown. During a communication between at least two of the network stations <b>12</b> over the transmission medium <b>14</b>, a first network station, for example, <b>12</b><i>a</i>, serves as a transmitting network station (or transmitter) and at least one second network station, for example, <b>12</b><i>b</i>, serves as a receiving network station (or receiver). Each network station <b>12</b> includes a Logical Link Control (LLC) unit <b>16</b> for connecting to a Data Link User, e.g., an end device such as a host computer, cable modem, or other device (not shown). The network station <b>12</b> further includes a media access control (MAC) unit <b>18</b> connected to the LLC unit <b>16</b> by a data interface <b>20</b>, a physical layer (PHY) unit <b>22</b> connected to the MAC unit <b>18</b> by a MAC-to-PHY I/O bus <b>24</b> and an analog front-end (AFE) unit <b>26</b>. The AFE unit <b>26</b> connects to the PHY unit <b>22</b> by separate AFE input lines <b>28</b><i>a </i>and output lines <b>28</b><i>b</i>, as well as connects to the transmission medium <b>14</b> by an AFE-to-PL interface <b>30</b>. Each station <b>12</b> represents any combination of hardware, software and firmware that appears to other stations as a single functional and addressable unit on the network.</p>
<p id="p-0070" num="0069">Generally, the LLC, MAC and PHY units conform to the Open System Interconnect (OSI) Model. More particularly, the LLC and MAC units conform to the OSI Model's data link layer and PHY layer unit to the OSI Model's physical layer. The MAC unit <b>18</b> performs data encapsulation/decapsulation, as well as media access management for transmit (TX) and receive (RX) functions. Preferably, the MAC unit <b>18</b> employs a collision avoidance medium access control scheme like carrier sense multiple access with collision avoidance (CSMA/CA) as described by the IEEE 802.11 standard, although other suitable MAC protocols of the collision avoidance type or other MAC protocol types may be used. For example, Time Division Multiple Access (TDMA) schemes may be used. The MAC unit <b>18</b> also provides Automatic Repeat request (ARQ) protocol support. The PHY unit <b>22</b> performs transmit encoding and receive decoding, among other functions, as described more fully below. The AFE unit <b>26</b> provides for attachment to the transmission medium <b>14</b>. The AFE unit <b>26</b> may be implemented in any manner and therefore will be discussed no further herein.</p>
<p id="p-0071" num="0070">The unit of communication exchanged between stations is in the form of a frame or packet. As used herein, the terms “frame” and “packet” both refer to a PHY layer protocol data unit (PDU). A frame may include data (i.e., payload) in conjunction with a delimiter, or a delimiter by itself, as will be discussed. The delimiter is a combination of preamble and frame control information. The data and frame control information are received from the MAC unit <b>18</b>, but are handled differently by the PHY unit <b>22</b>, as will be described below with reference to <figref idref="DRAWINGS">FIG. 2</figref>. Frame and delimiter structures will be described in further detail with reference to <figref idref="DRAWINGS">FIGS. 3-6</figref>.</p>
<p id="p-0072" num="0071">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, the PHY unit <b>22</b> performs both TX and RX functions for a single station. To support TX functions, the PHY unit <b>22</b> includes a scrambler <b>32</b>, a data FEC encoder <b>34</b> (for encoding the data received from the MAC unit <b>18</b>), a modulator <b>36</b>, a frame control FEC encoder <b>38</b> for encoding frame control information, a synchronization signal generator <b>40</b>, (for defining a preamble signal used for automatic gain control and synchronization) and an IFFT unit <b>42</b>. Conventional post-IFFT devices are omitted for purpose of simplification. The post-IFFT devices may include, for example, a cyclic prefix block with raised cosine windowing and a peak limiter, as well as output buffering. Also included is a TX configuration unit <b>52</b>. To support RX functions, the PHY unit <b>22</b> includes an automatic gain control (AGC) unit <b>54</b>, an FFT unit <b>58</b>, a channel estimation unit <b>60</b>, a synchronization unit <b>62</b>, a frame control FEC decoder <b>64</b>, a demodulator <b>66</b>, a data FEC decoder <b>68</b>, a descrambler <b>70</b>, and an RX configuration unit <b>72</b>. Included in the PHY unit <b>22</b> and shared by both the transmit and receive functions are a MAC interface <b>74</b>, a PHY controller <b>76</b> and a channel maps memory <b>78</b>. The channel maps memory <b>78</b> includes a TX channel maps memory <b>78</b><i>a </i>and an RX channel maps memory <b>78</b><i>b. </i></p>
<p id="p-0073" num="0072">During a data transmit process, data and control information are received at the PHY-to-MAC interface (MAC interface) <b>74</b> over the PHY-to-MAC bus <b>24</b>. The MAC interface provides the data to the scrambler <b>32</b>, which ensures that the data as presented to the input of the data FEC encoder <b>34</b> are substantially random in pattern. The data FEC encoder <b>34</b> encodes the scrambled data pattern in a forward error correction code and subsequently interleaves the encoded data. Any forward error correction code, for example, a Reed-Solomon, or both a Reed-Solomon code and a convolution code, can be used for this purpose. The modulator <b>36</b> reads the FEC encoded data and FEC encoded control information from the frame control FEC encoder <b>38</b>, and modulates the encoded data and control information onto carriers in OFDM symbols in accordance with conventional OFDM modulation techniques. Those modulation techniques may be coherent or differential. The modulation mode or type may be Binary Phase Shift Keying with □ rate coding (□□ BPSK□), Quadrature Phase Shift Keying with □ rate coding (□□ QPSK□), QPSK with ¾ rate coding (□¾ QPSK□), among others. The IFFT unit <b>42</b> receives input from the modulator <b>36</b>, the frame control FEC encoder <b>38</b> and synchronization signal generator <b>40</b>, and provides processed data to post IFFT functional units (not shown), which further process the contents of the frame before transferring it to the AFE unit <b>26</b> (from <figref idref="DRAWINGS">FIG. 1</figref>).</p>
<p id="p-0074" num="0073">The TX configuration unit <b>52</b> receives the control information from the PHY-to-MAC I/F <b>74</b>. This control information includes information about the channel over which data is to be transmitted from the MAC interface <b>74</b>. The TX configuration unit <b>52</b> uses this information to select an appropriate channel (or tone) map from the TX channel maps memory <b>78</b><i>a</i>. The selected channel map specifies a transmission mode, as well as a modulation type (including an associated coding rate) for all carriers (or, alternatively, for each of the carriers) and set of carriers to be used for the transmission of the data, and therefore specifies OFDM symbol block sizes (both fixed and variable) associated with the data transmission. An OFDM symbol block includes a plurality of symbols and may correspond to a frame or a portion thereof. The TX configuration unit <b>52</b> generates TX configuration information from the channel map data. The TX configuration information includes transmission mode, modulation type (including an associated FEC coding rate) for the set of carriers or each carrier, number of symbols and number of bits per symbol. The TX configuration unit <b>52</b> provides the TX configuration information to the PHY controller <b>76</b>, which uses the information to control the configuration of the data FEC encoder <b>34</b>. In addition to configuration control signals, the controller <b>76</b> also provides other conventional control signals to the data FEC encoder <b>34</b>, as well as the scrambler <b>32</b>, the modulator <b>36</b>, the frame control FEC encoder <b>38</b>, the synchronization signal generator <b>40</b> and the IFFT unit <b>42</b>.</p>
<p id="p-0075" num="0074">The frame control FEC encoder <b>38</b> receives from the MAC via the PHY-to-MAC Interface unit <b>74</b> frame control information to be included in the delimiter, such as delimiter type, e.g., start (start-of-frame or “SOF”), end (end-of-frame or “EOF”), and other information appropriate to the type. For example, if the delimiter is a start delimiter, a channel map index for conveying the transmission mode and other information, and the number of OFDM symbols (to be transmitted) in a frame are provided for use by the receiving station <b>12</b><i>b. </i></p>
<p id="p-0076" num="0075">During a data receive process, OFDM frames transmitted over the channel to the receiving network node <b>12</b><i>b </i>by the transmitting network node <b>12</b><i>a </i>are received at the PHY unit <b>22</b> from the AFE unit <b>26</b> by the AGC unit <b>54</b>. The output of the AGC unit <b>54</b> is processed by the FFT unit <b>58</b>. The output of the FFT unit <b>58</b> is provided to the channel estimation unit <b>60</b>, the synchronization unit <b>62</b>, the frame control FEC decoder <b>64</b> and the demodulator <b>66</b>. More specifically, phase and amplitude values of the processed receive data are provided to the channel estimation unit <b>60</b>, which produces a new channel map that may be sent over the channel to the transmitting network station <b>12</b><i>a</i>. The channel map is then used by both stations for subsequent communications with each other in the same transmissions direction (that is, when station <b>12</b><i>a </i>is transmitting packet information to station <b>12</b><i>b </i>and station <b>12</b><i>b </i>is receiving packet information transmitted by station <b>12</b><i>a</i>). The RX configuration unit <b>72</b> receives the channel map index and the number of OFDM symbols from the frame control FEC decoder <b>64</b>, retrieves from the RX channel map <b>78</b><i>b </i>the channel map specified by the channel map index provided by the frame control FEC decoder <b>64</b>, and provides RX configuration information (derived from the channel map parameters) to the controller <b>76</b>. The RX configuration information is used to configure the data FEC decoder <b>68</b> and thus includes block size and other information necessary for decoding the frame. The synchronization unit <b>62</b> provides a start-of-frame signal to the controller <b>76</b>. In response to these inputs, the controller <b>76</b> provides configuration and control signals to the data FEC decoder and to the demodulator <b>66</b>. For example, it conveys the modulation type associated with the received data to the demodulator <b>66</b>.</p>
<p id="p-0077" num="0076">The demodulator <b>66</b> demodulates the OFDM symbols in the processed data received from the FFT unit <b>58</b> and converts phase angles of the data in each carrier of each symbol to metric values, which are used by the data FEC decoder for decoding purposes. The data FEC decoder <b>68</b> corrects bit errors occurring during transmission from the data FEC encoder <b>34</b> (of a transmitting node) to the data FEC decoder <b>68</b>, and forwards the decoded data to the de-scrambler <b>70</b>, which performs an operation that is the reverse of that which did the scrambler <b>32</b> perform. The output of the de-scrambler <b>70</b> is then provided to the MAC interface unit <b>74</b> for transfer to the MAC unit <b>18</b>.</p>
<p id="p-0078" num="0077">The frame control FEC decoder <b>64</b> receives coded frame control information from the FFT <b>58</b> and control signals from the controller <b>76</b>. The frame control FEC decoder <b>64</b> uses these inputs to decode and demodulate the frame control information in the frame delimiter. Once decoded and demodulated, the frame control information is passed to the MAC interface unit <b>74</b> for transfer to the MAC unit <b>18</b>. The MAC unit <b>18</b> determines from the information if the delimiter indicates a start-of-frame. If a start-of-frame is indicated, the RX configuration unit receives from the MAC unit <b>18</b> frame control information (channel map index and length) to indicate that further decoding is necessary and the RX configuration unit uses the frame control information to direct the controller to configure the receiver units for further decoding.</p>
<p id="p-0079" num="0078">For purposes of simplification and clarity, other details of the PHY unit□s transmitter/receiver functional units (which are known to those skilled in the art and not pertinent to the invention) have been largely omitted herein.</p>
<p id="p-0080" num="0079">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, a format of a data transmission frame <b>80</b> to be transmitted over the transmission medium <b>14</b> by the transmitting network station <b>12</b><i>a </i>is shown. The data transmission frame <b>80</b> includes a payload <b>82</b>, which carries the data received from the MAC unit <b>18</b>. This data includes a header <b>84</b>, body <b>86</b> and frame check sequence (FCS) <b>88</b>. Preferably, the payload <b>82</b> is transmitted and received by the functional units illustrated in <figref idref="DRAWINGS">FIG. 2</figref> in accordance with techniques described in co-pending U.S. patent application Ser. No. 09/455,186, entitled □Forward Error Correction With Channel Estimation,□ in the name of Lawrence W. Yonge III et al., co-pending U.S. patent application Ser. No. 09/455,110, entitled □Enhanced Channel Estimation,□ in the name of Lawrence W. Yonge III et al., and co-pending U.S. patent application Ser. No. 09/377,131, entitled □Robust Transmission Mode□, in the name of Lawrence W. Yonge III et al., all of which are incorporated herein by reference; however, other techniques may be used. The aforementioned U.S. application Ser. No. 09/377,131 (“Robust Transmission Mode”) describes a standard mode and a reduced data rate robust mode (hereinafter, simply referred to as “ROBO mode”), the ROBO mode providing for extensive diversity (in time and frequency) and data redundancy to improve the ability of the network stations to operate under adverse conditions.</p>
<p id="p-0081" num="0080">Still referring to <figref idref="DRAWINGS">FIG. 3</figref>, the frame <b>80</b> further includes one or two delimiters <b>90</b>, referred to more generally as delimiter information. The delimiter information <b>90</b> includes a delimiter that precedes the payload <b>82</b>, that is, a start (or SOF) delimiter <b>92</b>. Preferably, in addition to the start delimiter <b>92</b>, the delimiter information <b>90</b> includes a delimiter that follows the payload <b>82</b>, i.e., an end (or EOF) delimiter <b>94</b>. The start delimiter <b>92</b> includes a first preamble <b>96</b> and a first frame control field <b>98</b>. The end delimiter <b>94</b> includes a second preamble <b>100</b>, as well as a second frame control field <b>102</b>. The preambles <b>96</b>, <b>100</b> are multi-symbol fields used to perform or enable automatic gain control, time and frequency based synchronization and physical carrier sensing. The preambles <b>96</b>, <b>100</b> may be the same length or different lengths. An EFG <b>104</b> separates the end delimiter <b>94</b> and the payload <b>82</b>. The inclusion of the EFG <b>104</b> in the frame <b>80</b> is optional.</p>
<p id="p-0082" num="0081">With continuing reference to <figref idref="DRAWINGS">FIG. 3</figref>, the header <b>84</b> includes a Segment Control field <b>106</b>, a Destination Address (DA) <b>108</b> and a Source Address (SA) <b>110</b>. The SA and DA fields (6 bytes each) are the same as the corresponding fields described in the IEEE Std. 802.3. Each address is in an IEEE 48-bit MAC address format.</p>
<p id="p-0083" num="0082">The body <b>86</b> includes a frame body <b>112</b> and a pad field <b>114</b>. Collectively, fields <b>108</b>, <b>110</b> and <b>112</b> represent a segment of or an entire MAC Service Data Unit (MSDU) <b>116</b>. The MSDU thus refers to any information that the MAC layer has been tasked to transport by upper OSI layers (those OSI layers to which the MAC layer provides services), along with any MAC management information provided by the MAC layer. The last segment of a frame may require padding to ensure that the segment fills an entire OFDM block. Thus, the pad field <b>114</b> provides zeros between the Segment data bits and the FCS <b>88</b> at the end of the segment. The FCS <b>88</b> is a 16-bit CRC computed as a function of the contents of all fields starting with the first bit of the Segment Control field <b>106</b> through the last bit of the pad field <b>114</b>. Alternatively, the pad field <b>114</b> may be located after the FCS <b>88</b>, in which case the pad field <b>114</b> is excluded from the FCS computation.</p>
<p id="p-0084" num="0083">The payload <b>82</b> has a maximum length in time (for latency considerations) and a varying byte capacity determined by length and channel conditions. Therefore, the payload <b>82</b> may have the capacity to contain an entire MSDU or only a segment of the MSDU. A “long” frame includes the delimiters <b>92</b>, <b>94</b>, as well the payload <b>82</b>. Both the header <b>84</b> and the FCS <b>88</b> are transmitted in cleartext (i.e., unencrypted), while a portion of the body <b>86</b> may be encrypted as an option. The payload fields are presented to the PHY unit <b>22</b> most significant byte first, most significant bit (MSB) first (bit number <b>7</b> being the MSB of a byte). The long frame, with a start delimiter, payload and end delimiter, is used to convey MSDU information in the form of unicast or multicast transmissions.</p>
<p id="p-0085" num="0084">Although <figref idref="DRAWINGS">FIG. 3</figref> illustrates delimiters encapsulating a frame payload of a data transmission frame, a delimiter can occur alone, e.g., when used as a response for the MAC ARQ scheme. Referring to <figref idref="DRAWINGS">FIG. 4</figref>, a response delimiter <b>120</b> includes a third preamble <b>122</b> and a third frame control field <b>124</b>. A frame that includes only a delimiter, that is, the delimiter that is transmitted separately from a data transmission frame, and is used by a receiving station to respond to a data transmission frame for which a response is expected is referred to herein as a “short” frame.</p>
<p id="p-0086" num="0085">Other exemplary delimiters may be associated with other types of “short” frames used to gain access to the channel, for example, “request-to-send” (RTS) frames, which may be used to reduce overhead caused by collisions occurring during heavy traffic conditions and thus improve network efficiency. The delimiter may be of a type that includes the kind of management information required by other media access mechanisms, such as TDMA (commonly used for isochronous traffic), and thus need not be contention-oriented. For example, a TDMA network transmission could include a beacon type of delimiter (beacon delimiter) to maintain network synchronization and manage when each node should transmit and receive frames.</p>
<p id="p-0087" num="0086">The first frame control field <b>98</b>, the second frame control field <b>102</b> and the third frame control field <b>124</b> are produced by the frame control FEC encoder <b>38</b> in conjunction with the modulator <b>36</b> based on control information received from the MAC unit <b>18</b>. Generally, the frame control fields <b>98</b>, <b>102</b> and <b>124</b> include information used by all stations in the network for channel access, and, in the case of frame control field <b>98</b>, information used by the destination for receiver demodulation. Because the frame control fields <b>98</b>, <b>102</b> and <b>124</b> are intended to be heard by all stations, it is desirable for the frame control fields <b>98</b>, <b>102</b> and <b>124</b> to have a robust form of physical layer encoding and modulation. Preferably, they are protected from transmission errors by a block code enhanced with time and frequency domain interleaving, as well as redundancy, in accordance with techniques described in a co-pending U.S. application Ser. No. 09/574,959, entitled “Frame Control Encoder/Decoder for Robust OFDM Frame Transmissions,” in the name of Lawrence W. Yonge III, incorporated herein by reference, although other techniques may be used.</p>
<p id="p-0088" num="0087">Generally, the MAC unit <b>18</b> supports standard MAC functions, such as framing. It also ensures Quality of Service through a number of different mechanisms. The CSMA/CA protocol is optimized for a multi-level priority scheme that controls delay for data types requiring better than best effort delivery. Four contention-based access priority levels are supported. Each transmission wishing to contend need only contend with other transmissions of equal priority. Although only four levels are described, the priority scheme could be extended to include additional priority levels. Additionally, the MAC unit <b>18</b> provides for contention-free access, enabling a station to maintain or direct control of medium access, relinquishing ownership only to higher priorities. Segmentation is used to limit the amount of time that the channel is unavailable to higher priority traffic and thus bound delay for higher priority traffic.</p>
<p id="p-0089" num="0088">In addition, the MAC unit <b>18</b> enables station frame forwarding so that a station that wishes to communicate with another station on the network can do so indirectly (via another, intermediate station), as well as bridging between the network <b>10</b> and other networks.</p>
<p id="p-0090" num="0089">The MAC unit <b>18</b> further provides for reliable frame delivery. It supports rate adaptive PHY characteristics and channel estimation control between each transmitter/receiver to establish PHY modulation parameters that are optimized for channel conditions in each direction. Also, ARQ is used to ensure delivery for unicast transmissions. The receipt of certain frame types requires acknowledgment by the receiver and ARQ uses different types of acknowledgments. The acknowledgment can be positive or negative depending on the status of the received frame. A correctly addressed frame with a valid PHY frame Check Sequence causes the receiver to transmit a positive acknowledgment (or “ACK”) response to the originator. Transmitting stations attempt error recovery by retransmitting frames that are known or are inferred to have failed. Failures occur due to collisions or bad channel conditions, or lack of sufficient resources at the receiver. Transmissions are known to have failed if a “NACK” (in the case of bad channel conditions) or “FAIL” (in the case of insufficient resources) response is received. Transmissions are inferred to have failed for some other reason (for example, due to collisions) if no response is received when one is expected.</p>
<p id="p-0091" num="0090">In addition to the unicast ARQ, a “partial ARQ” is used for increased reliability of multicast and broadcast transmissions at the MAC level. The “partial ARQ” allows a transmitter to know that at least one station received the frame.</p>
<p id="p-0092" num="0091">The MAC unit <b>18</b> also provides privacy on a shared medium through encryption, as will be described.</p>
<p id="p-0093" num="0092">These and other features are supported by the frame structure detailed in <figref idref="DRAWINGS">FIGS. 5 through 18</figref> to follow.</p>
<p id="p-0094" num="0093"><figref idref="DRAWINGS">FIGS. 5A and 5B</figref> depict the bit field definition of the frame control field <b>98</b> and the frame control field <b>102</b>, respectively. Referring to <figref idref="DRAWINGS">FIG. 5A</figref>, the frame control field <b>98</b> includes a Contention Control (CC) field <b>130</b>, a Delimiter Type (DT) <b>132</b>, a Variant Field (VF) <b>134</b> and a Frame Control Check Sequence (FCCS) field <b>136</b>. The Contention Control indicator bit <b>130</b> is observed by all stations and indicates whether the next contention period (or “window”) is contention-based or is contention-free with respect to all but pending frames of a higher priority. For a CC=1, indicating contention-free access, contention is allowed only if the priority of a pending frame is higher than the priority of the frame containing the set CC bit. If CC=0, indicating contention-based access, contention is allowed in the next contention window. The Delimiter Type field <b>132</b> identifies the delimiter and its position relative to the frame with which it is associated. For a start delimiter, the Delimiter Type may have one of two values, a value ‘000’, interpreted as a Start-of-Frame (SOF) with no response expected, or a value ‘001’, interpreted as an SOF with a response expected. For a delimiter of either of the start delimiter types, the Variant Field <b>134</b> includes an 8-bit Frame Length (FL) <b>140</b> and a 5-bit Channel map Index (CMI) <b>142</b>, which are used by the PHY device <b>22</b> in a receiving station to decode a received frame payload. The Frame Control Check Sequence (FCCS) field <b>136</b> includes an 8-bit Cyclic Redundancy Check (CRC). The FCCS is computed as a function of the sequence starting with the CC bit and ending with the VF bits.</p>
<p id="p-0095" num="0094">Referring to <figref idref="DRAWINGS">FIG. 5B</figref>, the frame control field <b>102</b> includes the same general field format, that is, it includes the fields <b>130</b>, <b>132</b>, <b>134</b> and <b>136</b>. The DT field may have one of two values, a value of ‘010’ corresponding to an End-of-Frame (EOF) with no response expected, or a value of ‘011’ corresponding to an EOF with a response expected. For either of these end delimiter types, the Variant Field <b>134</b> includes a two-bit Channel Access Priority (CAP) <b>144</b>, a 1-bit Response With Response Expected (RWRE) field <b>145</b> and a ten-bit Reserved field (RSVD) <b>146</b>. The CAP field <b>144</b> indicates a priority level associated with the current segment, information that is used by all stations in the network to determine if a multiple-segment transmission or burst (for which the CC bit is typically set), can be interrupted. The RWRE field <b>145</b> is used to indicate that two responses are to follow. The Reserved field <b>146</b> is set to zero by the transmitter and ignored by the receiver.</p>
<p id="p-0096" num="0095">Referring again to <figref idref="DRAWINGS">FIG. 5A</figref>, it will be appreciated that the start delimiter's frame control field <b>98</b> may be defined differently (e.g., different field lengths, fields added or omitted). For example, if the end delimiter is not to be used, then it may be desirable to use the available bits to include additional information, such as the CAP field <b>144</b> (shown in the frame control field <b>102</b> in <figref idref="DRAWINGS">FIG. 5B</figref>), in the frame control field <b>98</b> of the start delimiter <b>92</b>.</p>
<p id="p-0097" num="0096">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, the frame control field <b>124</b> of the response delimiter <b>120</b> (of <figref idref="DRAWINGS">FIG. 4</figref>) includes the same general field format as the frame control fields <b>98</b>, <b>102</b>. For a DT value corresponding to a response (see Table 1 below), however, the VF field <b>134</b> is defined to include the Channel Access Priority (CAP) <b>144</b> copied from the Variant field in the end delimiter of the frame for which the response is created, a 1-bit ACK field <b>145</b> and a 10-bit Response Frame Field (RFF) <b>146</b>. The RFF <b>146</b> is defined as a Received Frame Check Sequence (RFCS) <b>148</b> when the value of ACK=0b01 (ACK). The RFCS <b>148</b> includes a portion corresponding to the least significant 10 bits of the 16-bit CRC (FCS field) received in the frame for which the response is being sent. The transmitting station that sent the frame requesting the response compares the RFCS against the corresponding transmitted CRC bits in the FCS to determine the validity of the response. If the transmitting station detects a match, the response is accepted. If the RFCS does not match the relevant portion of the FCS, the response is ignored and treated as if no response was received. Other information from the frame (that requested the response) that is similarly unique or likely to be unique to the frame could be used instead. If the value of ACK=0b0, then the response is not an ACK and the RFF <b>146</b> is defined as a 1-bit FTYPE field <b>149</b> and a Reserved (RSVD) field <b>150</b>. The FTYPE field <b>149</b> specifies the type of response (if other than an ACK). A value of 0b0 in the FTYPE field <b>149</b> indicates a NACK. If FTYPE=0b1, then the response type is a FAIL. The DT field values for the response delimiter are shown in Table 1 below.</p>
<p id="p-0098" num="0097">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="21pt" align="left"/>
<colspec colname="2" colwidth="196pt" align="left"/>
<thead>
<row>
<entry namest="1" nameend="2" rowsep="1">TABLE 1</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry>DT</entry>
<entry/>
</row>
<row>
<entry>Value</entry>
<entry>Interpretation</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>100</entry>
<entry>Frame response with positive acknowledgment (ACK) indicating</entry>
</row>
<row>
<entry/>
<entry>the frame was received without FCS or FEC errors (ACK = 0b1);</entry>
</row>
<row>
<entry/>
<entry>Frame response with negative acknowledgment (NACK) indicating</entry>
</row>
<row>
<entry/>
<entry>the frame passed the address filter but contained one or more</entry>
</row>
<row>
<entry/>
<entry>uncorrectable FEC errors or the received FCS did not match the</entry>
</row>
<row>
<entry/>
<entry>calculated (expected) FCS (ACK = 0b0, FTYPE = 0b0);</entry>
</row>
<row>
<entry/>
<entry>Frame response with fail acknowledgment (FAIL) indicating</entry>
</row>
<row>
<entry/>
<entry>that the frame was received (with or without errors) but receive</entry>
</row>
<row>
<entry/>
<entry>resources were not available to process it (ACK = 0b0,</entry>
</row>
<row>
<entry/>
<entry>FTYPE = 0b1).</entry>
</row>
<row>
<entry>101</entry>
<entry>Frame response with ACK/NACK/FAIL (same as above) to be</entry>
</row>
<row>
<entry/>
<entry>followed by another response (“Response With Response</entry>
</row>
<row>
<entry/>
<entry>Expected” (RWR)).</entry>
</row>
<row>
<entry>110</entry>
<entry>Reserved on transmit, discard on receive.</entry>
</row>
<row>
<entry>111</entry>
<entry>Reserved on transmit, discard on receive.</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0099" num="0098">With reference to <figref idref="DRAWINGS">FIGS. 5A-5B</figref> and <figref idref="DRAWINGS">FIG. 6</figref>, it can be appreciated that the content of the Variant field <b>134</b> is dependent on the Delimiter Type <b>132</b>. In the exemplary frame control fields shown in <figref idref="DRAWINGS">FIGS. 5A-B</figref> and <figref idref="DRAWINGS">FIG. 6</figref>, the CC field <b>130</b> is one bit in length and corresponds to bit <b>24</b>. The DT field <b>132</b> is 3 bits long and corresponds to bits <b>23</b>-<b>21</b>. The VF field <b>134</b> is a 13-bit field and corresponds to bits <b>20</b>-<b>8</b>. The FCCS field <b>136</b> is 8 bits long and corresponds to the least significant byte (LSB), bits <b>7</b>-<b>0</b>.</p>
<p id="p-0100" num="0099">Referring to <figref idref="DRAWINGS">FIG. 7</figref>, the segment control field <b>106</b> (from <figref idref="DRAWINGS">FIG. 3</figref>) is a 40-bit field, which includes fields necessary to receive MSDU segments and perform reassembly of segmented MSDUs. The segment control field <b>106</b> includes the following subfields: a Frame Protocol Version (FPV) <b>160</b>; a Frame Forwarding (FW) field <b>161</b>; a Connection Number (CN) <b>162</b>; a Multicast flag (MCF) <b>164</b>; a Channel Access Priority (CAP) <b>166</b>; a Channel Estimation (CE) field <b>167</b>; a Segment Length (SL) <b>168</b>; a Last Segment Flag (LSF) <b>170</b>; a Segment Count (SC) <b>172</b>; and a Segment Number (SN) <b>174</b>. The FPV field <b>160</b> is a 3-bit field used to indicate the protocol version in use. For example, for a particular version of the protocol, the transmitter sets the field to all zeros and the receiver discards the frame if the field (after decoding) is not equal to zero. The FW field <b>161</b> is used to indicate, when set, that the frame is to be forwarded. The CN field <b>162</b> specifies a connection number assigned to a connection between two stations. The MCF <b>164</b> indicates that the frame includes a multicast payload regardless of the interpretation of the DA field <b>108</b> (and thus the receiver should look elsewhere for the actual DA in determining the validity of the frame for acceptance purposes, as will be described). This flag allows the MAC to execute the partial ARQ scheme, as will be described in more detail later. The CAP field <b>166</b> is a 2-bit field that is identical to the like-named field in the Variant Field <b>134</b> of the end delimiter <b>102</b> and response delimiter <b>124</b> (shown in <figref idref="DRAWINGS">FIGS. 5B and 6</figref>, respectively). The information is repeated in the Segment Control field <b>106</b> so that the receiver is able to extract this information to build a response without having to receive the end delimiter <b>94</b>. The CE field <b>167</b> is a flag that is used by a receiver indicate to a transmitter that a new channel estimation cycle for the transmitter/receiver connection is recommended (as will be described). The SL field <b>168</b> includes the number of bytes in the frame body <b>112</b> (and thus excludes the PAD <b>114</b>). The Last Segment flag <b>170</b> is a one bit flag that is set if the current segment is the last (or only) segment of the MSDU. The segment count field <b>172</b> stores the incrementing sequential count of the transmitted segment(s) and is used for segmentation and reassembly of MSDUs. The SN field <b>174</b> maintains a 10-bit sequence number that is associated with an MSDU (and each of its segments, if the MSDU is segmented) and is incremented for each new MSDU to be transmitted. It is also used for reassembly and to prevent the frame with which it is associated from being passed to the LLC more than once.</p>
<p id="p-0101" num="0100">Referring to <figref idref="DRAWINGS">FIG. 8</figref>, the frame body field <b>112</b> may include the following subfields: encryption control <b>180</b>; MAC management information <b>182</b>; type <b>184</b>; frame data <b>186</b>; PAD <b>188</b>; and Integrity Check Value (ICV) <b>190</b>. When a frame undergoes segmentation, it is the frame body field <b>112</b> that is partitioned into the various segments. The Encryption Control subfield <b>180</b> and the ICV <b>190</b> occur in every frame body field <b>112</b> except when the frame body field is segmented. Other subfields of the frame body field <b>112</b> may not appear in every frame.</p>
<p id="p-0102" num="0101">The Encryption Control field <b>180</b> includes an Encryption Key Select (EKS) subfield <b>192</b> and an Initialization Vector (IV) subfield <b>194</b>. The 1-octet EKS field <b>192</b> selects either a default encryption/decryption key (EKS=0x00) or one of 255 network keys. The 8-octet IV field <b>194</b> is used with the selected key to encrypt/decrypt the frame data. Data to be encrypted or decrypted start with the first byte following the IV field <b>194</b> and end with (and include) the ICV <b>190</b>. A setting of the IV field <b>194</b> to all zeros causes the transmitter to bypass encryption and the receiver to bypass decryption (that is, the transmission/reception is cleartext).</p>
<p id="p-0103" num="0102">The type <b>184</b> and frame data <b>186</b> are present in all frames that carry an MSDU. The amount of required padding (that is, number of bits to be added to the frame body <b>112</b>), which is determined from the segment length <b>168</b> of the SC field <b>106</b>, is implementation-dependent. In the described embodiment, because the encryption processes data presented in blocks divisible by 64 bits, the pad field <b>188</b> adds zeros to the frame body <b>112</b> to make the number of bits in the frame an integer multiple of 64 bits. The ICV <b>190</b> is a 32-bit cyclic redundancy check calculated over the bytes beginning with the first byte following the IV and ending with the PAD field <b>188</b> (if the PAD field <b>188</b> is present). The polynomial used to calculate the ICV <b>190</b> is the 32-bit CRC-CCITT polynomial used in IEEE Standard 802.11; however, other CRCs, e.g., CRCs based on other polynomials, may be used. In an alternative implementation, the encrypted information may not include the ICV <b>190</b>.</p>
<p id="p-0104" num="0103">The ICV field <b>190</b> is used by a receiver for frame filtering (that is, to prevent a decrypted frame from being passed to the LLC) when the frame has been decrypted in error. For example, a frame could be decrypted with the wrong network key if the EKS is not unique but in fact shared by two or more network keys. This common key select issue could occur if different logical networks choose the same EKS for different network keys.</p>
<p id="p-0105" num="0104">The frame body <b>112</b> may contain the MAC management information <b>182</b>. If this field is present in the Frame Body <b>112</b>, its format and content are as follows.</p>
<p id="p-0106" num="0105">Referring to <figref idref="DRAWINGS">FIG. 9</figref>, the MAC management information <b>182</b> includes the following subfields: Type <b>200</b>; MAC control (MCTRL) <b>202</b>; and N entry fields <b>204</b>, each entry field <b>204</b> including a MAC Entry Header (MEHDR) <b>206</b>, a MAC Entry Length (MELEN) <b>208</b> and MAC Management Entry Data (MMENTRY) <b>210</b>. The Type <b>200</b> specifies that the frame includes MAC Management Information and that MAC Management Information fields are to follow. The MELEN <b>208</b> specifies how many bytes are contained in the associated MMENTRY <b>210</b> of the current entry field <b>204</b> and thus serves as a pointer to the next entry field <b>204</b>.</p>
<p id="p-0107" num="0106">Referring to <figref idref="DRAWINGS">FIG. 10</figref>, the MCTRL field <b>202</b> includes two subfields: a 1-bit Reserved field <b>212</b> and a second, 7-bit field, a Number of Entries (NE) field <b>214</b> indicating the number of MAC entries (NE) <b>204</b> following in the MAC management information.</p>
<p id="p-0108" num="0107">Referring to <figref idref="DRAWINGS">FIG. 11</figref>, the MEHDR field <b>206</b> includes two subfields: a MAC Entry Version (MEV) <b>216</b> and a MAC Entry Type (MTYPE) <b>218</b>. The MEV <b>216</b> is a 3-bit field for indicating the interpretation protocol version in use. The transmitter sets MEV to all zeros. If the receiver determines that MEV≠0b000, the receiver discards the entire layer management MAC frame. The 5-bit MAC Entry Type <b>218</b> defines the MAC entry command or request which follows. The various MAC Entry Type values and interpretations are shown in Table 2.</p>
<p id="p-0109" num="0108">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="1" colwidth="28pt" align="left"/>
<colspec colname="2" colwidth="77pt" align="left"/>
<colspec colname="3" colwidth="35pt" align="center"/>
<colspec colname="4" colwidth="42pt" align="center"/>
<colspec colname="5" colwidth="35pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="5" rowsep="1">TABLE 2</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry/>
<entry/>
<entry>Prepend</entry>
<entry>Transmit</entry>
</row>
<row>
<entry/>
<entry/>
<entry>Local Use</entry>
<entry>Frame/</entry>
<entry>for</entry>
</row>
<row>
<entry>MTYPE</entry>
<entry>MTYPE Value</entry>
<entry>(Host-to-</entry>
<entry>Transmit for</entry>
<entry>Remote</entry>
</row>
<row>
<entry>Value</entry>
<entry>Interpretation</entry>
<entry>MAC)</entry>
<entry>Remote Use</entry>
<entry>Use</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>  0 0000</entry>
<entry>Request Channel</entry>
<entry/>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry/>
<entry>Estimation</entry>
</row>
<row>
<entry>  0 0001</entry>
<entry>Channel Estimation</entry>
<entry/>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry/>
<entry>Response</entry>
</row>
<row>
<entry>  0 0010</entry>
<entry>Set Local Parameters</entry>
<entry>X</entry>
<entry/>
</row>
<row>
<entry>  0 0011</entry>
<entry>Replace Bridge Address</entry>
<entry/>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry>  0 0100</entry>
<entry>Set Network Encryption</entry>
<entry>X</entry>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry/>
<entry>Key</entry>
</row>
<row>
<entry>  0 0101</entry>
<entry>Multicast With Response</entry>
<entry/>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry>  0 0110</entry>
<entry>Set Connection</entry>
<entry>X</entry>
<entry/>
</row>
<row>
<entry>  0 0111</entry>
<entry>Use Connection</entry>
<entry>X</entry>
<entry/>
</row>
<row>
<entry>  0 1000</entry>
<entry>Request Parameters and</entry>
<entry>X</entry>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry/>
<entry>Statistics</entry>
</row>
<row>
<entry>  0 1001</entry>
<entry>Parameters and Statistics</entry>
<entry>X</entry>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry/>
<entry>Response</entry>
</row>
<row>
<entry>  0 1010</entry>
<entry>Request Connection</entry>
<entry/>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry/>
<entry>Information</entry>
</row>
<row>
<entry>  0 1011</entry>
<entry>Connection Information</entry>
<entry/>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry/>
<entry>Response</entry>
</row>
<row>
<entry>  0 1100</entry>
<entry>Dummy Frame</entry>
<entry/>
<entry>X</entry>
<entry>X</entry>
</row>
<row>
<entry>  0 1101</entry>
<entry>Concatenate</entry>
<entry/>
<entry/>
<entry>X</entry>
</row>
<row>
<entry>−1 1111</entry>
<entry>Reserved MTYPE on</entry>
</row>
<row>
<entry/>
<entry>transmit, discard entire</entry>
</row>
<row>
<entry/>
<entry>layer management frame</entry>
</row>
<row>
<entry/>
<entry>on receive</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
<br/>
Table 2 also indicates, in columns 3-5, if the entry is received by a station's MAC from a higher layer for local use by that MAC (col. 3), is prepended to a data frame, (that is, an MSDU or MSDU segment) for transmission over the medium (col. 4) or is transmitted over the medium without a data frame (col. 5).
</p>
<p id="p-0110" num="0109">Referring to <figref idref="DRAWINGS">FIG. 12A</figref>, the MMENTRY field <b>210</b> following the MTYPE <b>218</b> (in the MEHDR field <b>206</b>) specifying Request Channel Estimation is a Request Channel Estimation MAC Management Entry <b>210</b>A. The Request Channel Estimation Entry <b>210</b>A includes a Channel Estimation Version <b>220</b> and a reserved field <b>222</b>. If CEV <b>220</b> is not equal to zero, then this entry is ignored.</p>
<p id="p-0111" num="0110">Referring to <figref idref="DRAWINGS">FIG. 12B</figref>, the Request Channel Estimation MAC Management Entry <b>210</b>A (of <figref idref="DRAWINGS">FIG. 12A</figref>) causes the receiving station to return a Channel Estimation Response in the form of a Response Channel Estimation MAC Management Entry <b>210</b>B. This field is the MMENTRY field, which follows an MTYPE <b>218</b> specifying Channel Estimation Response. The Channel Estimation Response Entry <b>210</b>B is a variable length MAC data entry sent by a receiver after receiving a Channel Estimation Request. This sequence is part of the MAC Channel Estimation Control Function, as described below.</p>
<p id="p-0112" num="0111">Still referring to <figref idref="DRAWINGS">FIG. 12B</figref>, the subfields of the Channel Estimation Response Entry <b>210</b>B include the following: Channel Estimation Response Version (CERV) <b>224</b>; Reserved (RSVD) <b>226</b> and <b>228</b>; Receive Channel Map Index (RXCMI) <b>230</b> (to be inserted by the requestor in the CMI <b>142</b>); Valid Tone Flags (VT) <b>232</b>; FEC Rate (RATE) <b>234</b>; Bridge Proxy (BP) <b>236</b>; Modulation Method (MOD) <b>238</b>; another reserved field <b>240</b>; Number of Bridged Destination Addresses (NBDAS) <b>242</b>; and Bridged Destination Addresses <b>244</b>, including Bridged Destination Addresses <b>1</b> through n (BDAn) <b>246</b>. The RXCMI field <b>230</b> includes the value to be associated with the Source Address of the station returning the Channel Estimation Response. The station receiving this response thus inserts the value in the CMI field <b>142</b> of the Start of Frame Delimiter <b>98</b> when transmitting to the responder. The Valid Tone Flags <b>232</b> indicate whether a specific tone is valid (VT[x]=0b1) or invalid (VT[x]=0b0). The RATE field bit <b>234</b> indicates whether the convolutional coding rate is ½ (RATE=0b0) or ¾ (RATE=0b1). The Bridge Proxy bit <b>236</b> indicates that the channel map is being proxied for one or more destination addresses. The NBDAS <b>242</b> indicates the number of proxied destination addresses, and each of BDA<b>1</b> . . . n <b>246</b> contains a different destination address. The MOD field <b>238</b> specifies one of four different modulation types: a MOD value ‘00’ corresponding to ROBO mode; a MOD value ‘01’ corresponding to DBPSK modulation; a MOD value ‘10’ corresponding to DQPSK modulation; and a MOD value ‘11’ being a reserved value (which, if used on transmit, is ignored on reception).</p>
<p id="p-0113" num="0112">In the network <b>10</b>, the channel or connection between any two of the stations <b>12</b> can be unique with respect to the viability of tones (carriers) and the acceptability of various modulation types. Therefore, the MAC unit <b>18</b> provides a channel estimation control function to discover the attributes of the channel. The channel estimation function develops and maintains a point-to-point transmitter-receiver connection for achieving a maximum transmission data rate. Multicast transmissions are made in the ROBO mode, which has no dependency on the channel characteristics between transmitter and receiver. Unicast transmissions to a specific destination address for which a valid Channel Map does not exist are also made in the ROBO mode.</p>
<p id="p-0114" num="0113">If the connection is new (the transmitter has not communicated with the receiver or, equivalently, no valid channel map exists for the DA), the transmitter includes the Channel Estimation Request MAC Entry <b>210</b>A (<figref idref="DRAWINGS">FIG. 12A</figref>) with the MSDU in a frame before transmitting the frame to the receiver in ROBO mode. Upon receipt of the Channel Estimation Request MAC Entry <b>210</b>A, the receiver analyzes the characteristics of the first received block (of 40 symbols) or multiple blocks of the segment, or even the entire frame, to determine the best set of tones and optimum modulation type for the connection. This analysis is performed by the CE unit <b>60</b> in the PHY device <b>22</b> (<figref idref="DRAWINGS">FIG. 2</figref>) of the receiving station, preferably according to a channel estimation process described in the above-referenced U.S. application Ser. No. 09/455,110. The receiving station returns a channel map resulting from the channel estimation in the Channel Estimation Response MAC Entry <b>210</b>B (<figref idref="DRAWINGS">FIG. 12B</figref>). The Channel Estimation Response MAC Entry <b>210</b>B is also transmitted in ROBO mode if no channel map exists for that direction. Upon receipt of this response, the transmitter utilizes the channel map—the Valid Tone Flags <b>232</b>, FEC rate <b>234</b> and modulation <b>238</b>—specified in the response, along with the associated Channel Map Index (which it provides in CMI <b>142</b> in the delimiter <b>98</b>, <figref idref="DRAWINGS">FIG. 5A</figref>), for any further transmission to the DA while the Channel Map (to which the Channel Map Index <b>142</b> corresponds) is valid.</p>
<p id="p-0115" num="0114">If the connection is not new (i.e., a previous channel estimation cycle was executed), the Channel Map may have become stale, e.g., after some estimation timeout, or, alternatively, no longer represents the optimum data rate (as determined by the receiver). After the estimation timeout, any subsequent transmission on this connection causes a new channel estimation cycle to occur, thus ensuring that the connection is maintained at an optimum state. If the receiver determines that channel conditions have improved or deteriorated (by detecting a decrease in the number of errors or an increase in the number of errors, respectively), it may recommend to the transmitter that a new channel estimation occur. The receiver makes this recommendation by setting the CE flag <b>167</b> in the Segment Control <b>106</b> (<figref idref="DRAWINGS">FIG. 7</figref>) in a frame sent to the transmitter. The receipt of the frame with the set CE flag <b>167</b> causes the transmitter to initiate a channel estimation with a frame sent in ROBO mode. Alternatively, the receiver could make the recommendation using a MAC management entry. Channel estimation also occurs as part of a recovery procedure during a frame transmission, if the transmitter is required to drop to ROBO mode during retransmission, as will be discussed.</p>
<p id="p-0116" num="0115">Referring to <figref idref="DRAWINGS">FIGS. 13A-B</figref>, the MMENTRY fields <b>210</b> following MTYPEs <b>218</b> specifying Connection Information Request and Connection Information Response types are Connection Information Request <b>210</b>C (<figref idref="DRAWINGS">FIG. 13A</figref>) and Connection Information Response <b>210</b>D (<figref idref="DRAWINGS">FIG. 13B</figref>), respectively. Referring to <figref idref="DRAWINGS">FIG. 13A</figref>, the Connection Information Request field <b>210</b>C includes a Destination Address (DA) field <b>247</b>. The DA specified by the DA field <b>247</b> is the address of the station for which the requesting station desires connection information. Referring to <figref idref="DRAWINGS">FIG. 13B</figref>, the Connection Information Response field <b>210</b>D includes a DA field <b>248</b> that includes a copy of the DA specified by the like-named field in the Connection Information Request <b>210</b>C. The Connection Information Response field <b>210</b>D further includes a Bytes field <b>249</b> which specifies the number of bytes in a 40 symbol block (or alternatively, the number of bytes in a maximum length frame) based on the TX channel map of the responder to the DA. Connection Information Request and Response are used for frame forwarding, as later described with reference to <figref idref="DRAWINGS">FIGS. 40-46</figref>.</p>
<p id="p-0117" num="0116">Referring to <figref idref="DRAWINGS">FIG. 14</figref>, a Set Local Parameters field <b>210</b>E is an 17-byte data entry that sets a local station MAC address <b>250</b> (MA[47-0] being an IEEE 48-bit MAC address format) and tone mask <b>252</b>, which indicates the tones that are usable by the network. Unused tones will not have any signals applied to them. The tone mask <b>252</b> includes 84-bit usable tone flags to indicate whether a specific tone is usable (TM[x]=0b1) or unusable (TM[x]=0b0). TM[0] corresponds to the lowest frequency tone.</p>
<p id="p-0118" num="0117">Referring to <figref idref="DRAWINGS">FIG. 15</figref>, the MMENTRY field <b>210</b> following an MTYPE <b>218</b> specifying a Replace Bridge Address entry type is a Replace Bridge Address Entry field <b>210</b>F. The entry field includes 6 bytes to identify an Original Destination Address (ODA) <b>260</b> of a station which may be on another medium and accessed via a bridge. The entry field <b>210</b>D further includes 6 bytes to identify an Original Source Address (OSA) <b>262</b> of a station which may be on another medium and accessed via a bridge. The station receiving this entry uses these fields to reconstruct the original Ethernet frame. The bridging proxy mechanism will be described in further detail with reference to <figref idref="DRAWINGS">FIGS. 32-37</figref>.</p>
<p id="p-0119" num="0118">Referring to <figref idref="DRAWINGS">FIG. 16</figref>, the MMENTRY field <b>210</b> following the MTYPE <b>218</b> specifying a Set Network Encryption Key is a Set Network Encryption Key entry <b>210</b>G. The entry <b>210</b>G includes an Encryption Key Select (EKS) <b>266</b> and a Network Encryption Key (NEK) <b>268</b>. The MAC privacy mechanism, to which these fields apply, will be discussed later in reference to <figref idref="DRAWINGS">FIGS. 29-31</figref>.</p>
<p id="p-0120" num="0119">Referring to <figref idref="DRAWINGS">FIG. 17</figref>, the MMENTRY field <b>210</b> following the MTYPE <b>218</b> specifying a Multicast with Response is a Multicast With Response Entry <b>210</b>H and is used to support partial ARQ for multicast transmissions. The Multicast With Response Entry <b>210</b>H includes multicast destination addresses <b>272</b> (or, alternatively, at least one multicast destination address that represents a group of multicast destination addresses) and a multicast destination address (MDA) count field <b>274</b> corresponding to the number of multicast destination addresses in the entry. When this entry is used, the DA <b>108</b> in the frame header <b>84</b> (<figref idref="DRAWINGS">FIG. 3</figref>) is a proxy for the multicast destination addresses <b>272</b> and generates a response if the delimiter type is of the response-requiring type, as discussed above (with reference to <figref idref="DRAWINGS">FIGS. 5A-5B</figref>).</p>
<p id="p-0121" num="0120">Referring to <figref idref="DRAWINGS">FIG. 18</figref>, the MMENTRY field <b>210</b> following MTYPE <b>218</b> specifying a Concatenate type is a Concatenate entry <b>210</b>I. This entry provides a mechanism by which the host concatenates a number of smaller frames for delivery to a particular destination with the same CAP. This increases network throughput since smaller frames are not efficient given the fixed overhead associated with each frame (e.g., SOF delimiter, EOF delimiter, response, as well as different interframe intervals later described). The Concatenate MMENTRY data field <b>210</b>I includes the following fields: an NF field <b>276</b> for indicating the number of frames concatenated together; and, for each frame present in the entry, a Remove Length (RL) field <b>277</b>, a Payload (Frame) Length field (FRAMELEN) <b>278</b> and a Payload field <b>279</b>. The RL field, if set (RL=0b1), indicates to the receiver that the FRAMELEN field <b>278</b> for the frame should be removed to extract the original frame. The inclusion of the RL field is used to prevent the duplication of a frame length field when an original type field in the frame actually specifies the frame length. When RL=0b0, the FRAMELEN field <b>278</b> is the original type field for the frame and is thus part of the original frame. When this entry is included in the MAC layer management information <b>182</b>, it is the last entry. Its presence precludes the use of payload fields <b>184</b> and <b>186</b>. For this type of entry, MELEN is set to some value, for example, one, that will indicate to the receiver that the overall length is not specified and that the receiver must therefore look at each occurrence of FRAMELEN to extract the original frames.</p>
<p id="p-0122" num="0121">Although not shown, entries corresponding to MTYPE values specifying Request Parameters and Statistics as well as Response Parameters and Statistics (described in Table 2 above) are used to gather station-specific parameters and network performance statistics that are useful for diagnostic purposes.</p>
<p id="p-0123" num="0122">It is possible to define and employ other MAC management entry types as well.</p>
<p id="p-0124" num="0123">Referring back to Table 2, entries corresponding to the MTYPE values for Set Connection and Use Connection, as well as Dummy Frame, are used to support sessions of contention-free intervals for QoS in a CSMA network. The Dummy Frame entry indicates to the receiver that the frame payload of the frame in which this entry is contained is to be discarded. The format of the Set and Use connection entries and the operation of the contention-free access mechanism that uses these entries (as well as the Dummy Frame entry) are described in detail later with reference to <figref idref="DRAWINGS">FIGS. 39A-39B</figref> and <figref idref="DRAWINGS">FIGS. 37-38</figref>, respectively.</p>
<p id="p-0125" num="0124">In a distributed medium access scheme such as that employed by the MAC unit <b>18</b>, the transmitting station <b>12</b><i>a </i>senses the transmission medium <b>14</b> via a carrier sense mechanism to determine if other stations are transmitting. Carrier sense is a fundamental part of the distributed access procedure. Physical carrier sense is provided by the PHY through the detection of the Preamble and tracking of OFDM symbols through the packet body. In addition to the physical carrier sense signaling provided to the MAC by the PHY, the MAC also employs a virtual carrier sense (VCS) mechanism for greater timing accuracy. The VCS mechanism uses a timer (for maintaining a VCS timeout value) and a flag to track the expected duration of channel occupancy based in information represented in the Frame Control Fields. Therefore, the medium is considered busy if either the physical or virtual carrier sense so indicates. The medium is also considered busy when the station is transmitting.</p>
<p id="p-0126" num="0125">Referring to <figref idref="DRAWINGS">FIGS. 19A-19D</figref>, a medium sharing technique that utilizes priority resolution and contention following busy conditions on the channel is shown. A Contention Interspace Frame Space (CIFS) <b>280</b> defines the interframe spacing between the end of the last correctly received frame transmission for which no response is expected and the start of a Priority Resolution Period (PRP) <b>284</b>, which is used to resolve priority for new transmissions. Referring to <figref idref="DRAWINGS">FIG. 19A</figref>, a last frame transmission is in the form of the data frame transmission <b>80</b>. The Priority Resolution Period <b>284</b> includes a first Priority Resolution Slot P<sub>0 </sub><b>286</b> and a second Priority Resolution Slot P<sub>1 </sub><b>288</b>. There are four levels of Channel Access Priority (CAP): the highest priority is indicated by CA<b>3</b>=0b11 and the lowest priority is indicated by CA<b>0</b>=0b00. Table 3 below maps the CAP to the Priority Resolution Slots <b>286</b> and <b>288</b>.</p>
<p id="p-0127" num="0126">
<tables id="TABLE-US-00003" num="00003">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="offset" colwidth="21pt" align="left"/>
<colspec colname="1" colwidth="98pt" align="left"/>
<colspec colname="2" colwidth="28pt" align="center"/>
<colspec colname="3" colwidth="70pt" align="center"/>
<thead>
<row>
<entry/>
<entry namest="offset" nameend="3" rowsep="1">TABLE 3</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry>Channel Access Priority</entry>
<entry>P<sub>0 </sub>State</entry>
<entry>P<sub>1 </sub>State</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
<entry>CA3</entry>
<entry>1</entry>
<entry>1</entry>
</row>
<row>
<entry/>
<entry>CA2</entry>
<entry>1</entry>
<entry>0</entry>
</row>
<row>
<entry/>
<entry>CA1</entry>
<entry>0</entry>
<entry>1</entry>
</row>
<row>
<entry/>
<entry>CA0</entry>
<entry>0</entry>
<entry>0</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0128" num="0127">The current version of IEEE 802.1 standard describes the use of user priorities and access priorities in a bridged network environment. User priorities are priorities that a user of application requests be associated with its traffic. Access priorities are the number of differentiated traffic classes that a MAC provides. The subclause 7.7.3, 802.1D provides a mapping of user priorities to traffic classes. The five differentiated traffic classes discussed herein, i.e., those corresponding to the four channel access priorities (CA<b>0</b> through CA<b>3</b>), and the contention free access, correspond, one to one, to traffic classes <b>0</b> through <b>4</b>. Still referring to <figref idref="DRAWINGS">FIG. 19A</figref>, the intention to contend at a particular priority during a Contention Window <b>290</b> after a random backoff interval <b>292</b>, which is expressed in terms of Contention Resolution Slots C<sub>0</sub>, . . . , C<sub>N</sub>, is signaled in the Priority Resolution Period <b>284</b> as follows. A station that requires access to the channel determines if the delimiter received immediately prior to the PRP <b>284</b> (in the example, the EOF delimiter <b>94</b>, also shown in <figref idref="DRAWINGS">FIG. 5B</figref>) included in its frame control field a set Contention Control bit <b>130</b> and specified in the CAP field <b>144</b> a priority greater than or equal to the priority that would have otherwise been indicated by the station in the PRP <b>284</b>. If so, the station refrains from indicating an intention to contend in the current PRP. Instead, the station updates the value of the VCS and waits the duration of an Extended Interframe Space (EIFS) or until it detects the end of the next transmission, whichever occurs first.</p>
<p id="p-0129" num="0128"><figref idref="DRAWINGS">FIG. 19B</figref> illustrates an exemplary contention-free frame transmission <b>294</b> immediately following the PRP <b>284</b>. In this example, contention-free status has been established by the station that sent the data frame transmission <b>80</b> by using a set Contention Control bit <b>130</b> in the delimiter <b>92</b> and winning contention during a prior Contention Window <b>290</b>.</p>
<p id="p-0130" num="0129">Otherwise, and referring back to <figref idref="DRAWINGS">FIG. 19A</figref>, the station signals its priority during the PRP <b>284</b>. During P<sub>0 </sub><b>286</b>, the station asserts a Priority Resolution Symbol if the priority requires a binary one in slot <b>0</b> (i.e., CA<b>3</b> or CA<b>2</b>). Alternatively (if a lower priority), the station detects if a Priority Resolution Symbol was transmitted by another station. During P<sub>1 </sub><b>288</b>, if the station signaled in the last slot and the station's priority requires that the station signal in this slot, it does so. If the station signaled in the P<sub>0 </sub>slot <b>286</b> and not the P<sub>1 </sub>slot <b>288</b> but detects (during the P<sub>1 </sub>slot <b>288</b>) that another station is signaling in this slot, it defers to the higher priority station and refrains from transmitting during the Contention Window <b>290</b>. The station also sets the VCS with an appropriate value (according to rules to be described later). If the station did not signal in the P<sub>0 </sub>slot <b>286</b> and detected that other stations did, it refrains from transmitting in the P<sub>1 </sub><b>288</b> or transmitting in the Contention Window <b>290</b>. Again, it sets VCS with an appropriate value. Thus, the station refrains from transmitting in any remaining one of the slots <b>286</b>, <b>288</b> or the Contention Window <b>290</b> if it has detected a Priority Resolution Symbol in a one of the slots <b>286</b>, <b>288</b> in which the station did not assert the signal. In this manner, each station determines the highest-level priority for which there is a transmission pending and defers if its own pending transmission is of a lesser priority. If priority signaling has been completed and the station has not been preempted by a higher priority, it contends for access in a Contention Window <b>290</b> according to a backoff procedure, as will be described.</p>
<p id="p-0131" num="0130">Referring to <figref idref="DRAWINGS">FIG. 19C</figref>, if the last data transmission <b>80</b> requires and is followed by a response <b>124</b>, the station waits a Response Interframe Space (RIFS) <b>298</b>, the time between the end of the data frame transmission <b>80</b> and the start of the associated response <b>124</b>. The CIFS <b>280</b> follows the response <b>124</b>. Many protocols assign the shortest interframe space to Responses so that channel ownership is maintained by the stations involved in the exchange. The MAC uses information in the frame header to notify stations whether a response is expected. If no response is expected, the CIFS is in effect.</p>
<p id="p-0132" num="0131"><figref idref="DRAWINGS">FIG. 19D</figref> illustrates an exemplary contention-free transmission that occurs after a response. In this example, contention-free status has been established by the station that sent the last data transmission <b>80</b> with a set Contention Control bit (thus causing the return of the response <b>124</b> with a set Contention Control bit) and winning contention during a prior Contention Window <b>290</b>.</p>
<p id="p-0133" num="0132">The above-mentioned Extended Interframe Space (EIFS) is calculated by adding the PRP, the CIFS and the RIFS to the maximum frame time (i.e., the maximum allowed frame length and delimiter(s)) in symbols, times the symbol time) and the response time (response length in symbols times the symbol time). The EIFS is used by a station when a contention free access cannot be interrupted (as discussed above). It is also used when the station does not have complete knowledge of the state of the medium. This condition may occur when the station hears only one side of a frame exchange between two other stations, when the station initially attaches to the network, or when errors in the received frames make them impossible to decode unambiguously. The EIFS is significantly longer than the other interframe spaces, providing protection from collision for an ongoing frame transmission or segment burst when any of these conditions occur. If the medium has been idle for the minimum EIFS, no channel access contention is necessary and the frame may be transmitted immediately.</p>
<p id="p-0134" num="0133">Referring back to <figref idref="DRAWINGS">FIGS. 19A and 19C</figref>, the station generates the random backoff time <b>292</b> to create an additional delay, unless backoff is already in effect and no new random value is needed. Backoff time is defined as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>BackoffTime=Random( )*SlotTime  (1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where Random( ) is a uniformly distributed pseudorandom integer from the interval [0, ContentionWindow], the ContentionWindow (CW) value varying from a minimum value of seven (7) to a maximum value of 63, and SlotTime defined as a predetermined slot time. A station entering the backoff procedure sets its Backoff Time as described above.
</p>
<p id="p-0135" num="0134">The MAC unit <b>18</b> maintains a number of timers, counters, control flags and other control information to control channel access. The BackoffTime value is maintained by a Backoff counter or count (BC), which decrements by one for each SlotTime that both the physical and virtual carrier sense determines to be idle. The BC is suspended for any slot in which the carrier sense is active. Transmission occurs when the BC decrements to zero. The VCS value is maintained by a VCS timer and interpreted by a Virtual Carrier Sense Pointer Flag (VPF). The VCS timer value is updated whenever valid frame control information is received or transmitted, even when no frame is pending. The VPF is set to a 1 whenever valid frame control information is received, unless conditions dictate that VCS be set to EIFS. If VCS is set to EIFS, then VPF is set to a 0. If VPF is set to a 1, then the VCS value points to the next contention. If VPF is set to a 0, the VCS value points to network idle time. The settings of VCS and VPF are described more fully later with reference to Table 4.</p>
<p id="p-0136" num="0135">All stations also maintain a Transmit Counter (TC), a Deferral Counter (DC), a Backoff Procedure Counter (BPC), a NACK response (NACKcount) counter and a “No Response” Counter (NRC). All are initially set to zero. TC is incremented every time a frame is transmitted. The BPC is incremented each time the backoff procedure is invoked. The NRC is incremented each time no response is received when a response is expected. The MAC unit also maintains a frame timer (“FrmTimer”), which is set with a maximum frame lifetime value. A packet to be transmitted (or re-transmitted) is dropped when the FrmTimer expires (reaches zero) except while transmitting (including the response interval).</p>
<p id="p-0137" num="0136">CW takes an initial value of seven and takes the next value in the binary exponential series every unsuccessful transmission or when DC is zero. CW and BPC are reset after a successful transmission and when the transmission is aborted (due to TC reaching its maximum allowed threshold value or the frame exceeding the maximum lifetime of FrmTimer). TC is reset to zero after any transmission for which an ACK is received when an ACK is expected, or transmission completes for unacknowledged service. The truncated binary exponential series for CW is defined as 2<sup>n</sup>−1, where n ranges from 3 to 6. CW and DC are set based on the value of BPC according to these rules: for an initial transmission (BPC=0), CW=7 and DC=0; for a first retransmission (BPC=1), CW=15 and DC=1; for a second retransmission (BPC=2), CW=31 and DC=3; and for third and subsequent retransmissions (BPC&gt;2), CW=63 and DC=15.</p>
<p id="p-0138" num="0137">In addition to the VPF, the MAC unit <b>18</b> also stores and maintains a Contention Control (CC) flag corresponding to the CC bit in the like-named fields in the frame control fields <b>98</b>, <b>102</b> and <b>124</b>. The CC flag is set or cleared based on the frame control information in each received delimiter and is also cleared when the VCS value reaches 0 and VPF is 0. A value of zero indicates normal contention. A value of 1 indicates no contention (i.e., contention-free access) unless a higher priority frame is pending.</p>
<p id="p-0139" num="0138">Referring to <figref idref="DRAWINGS">FIG. 20</figref>, frame or packet arrival time determines the extent to which the station participates in the PRP and Contention Window signaling. If the packet arrival time (i.e., the point at which the packet is queued for transmission at the PHY and thus deemed “pending”) occurs during the transmission of another packet or the subsequent CIFS interval (indicated as a first packet arrival time <b>300</b>), then the station that intends to transmit participates in the PRP slots <b>286</b>, <b>288</b> and the Contention Window <b>290</b> according to the channel access procedure described. If the frame is queued for transmission by the MAC during P<sub>0 </sub><b>286</b> (indicated as a second packet arrival time <b>302</b>), then the station can participate in the P<sub>1 </sub>slot <b>288</b> so long as the priority of the frame was not already pre-empted under the above rules for priority resolution. The frame can follow the backoff procedure if the station is able to contend based on the results of priority resolution. If the frame is queued for transmission during P<sub>1 </sub><b>288</b> or the Contention Window <b>290</b> (indicated as a third packet arrival time <b>304</b>), the station cannot participate in the PRP but follows the backoff procedure during the Contention Window <b>290</b> so long as the priority of the frame to be transmitted is not pre-empted under the above rules for priority resolution.</p>
<p id="p-0140" num="0139">After transmitting a frame that requires a response, the transmitter waits a response interval before determining that the frame transmission has failed. If frame reception has not started by the end of the response interval, the transmitter invokes its backoff procedure. If frame reception has started, the station waits for the frame end to determine whether the frame transmission was successful. Reception of a valid ACK is used to deem the frame transmission successful and to commence with the next segment or report successful transmission. Reception of a valid NACK causes the transmitter to invoke its backoff procedure for retransmission of the frame and reset BPC to zero. If the transmitter receives a valid FAIL, the transmitters delays for a predetermined period before resetting BPC and invoking the backoff procedure. The reception of any other valid or invalid frame is interpreted as a failed transmission. The station invokes the backoff procedure at the end of reception and processes the received frame.</p>
<p id="p-0141" num="0140">Transmitting stations continue retransmission until the frame exchange is successful or the appropriate TC limit is reached, or the transmit lifetime (FrmTimer) is exceeded. Stations maintain the transmit count for each frame transmitted. The TC is incremented with every transmission of the frame. The transmit count is reset to zero when the frame is successfully transmitted, or when the frame is discarded because either the retransmission limit or transmit lifetime has been exceeded.</p>
<p id="p-0142" num="0141">As indicated above, the VCS Timer is maintained by all stations to improve reliability of channel access. The VCS timer is set based on information contained in the Frame Control field of the frame delimiters. Stations use this information to compute the expected busy condition of the medium and store this information in the VCS timer. The VCS timer is updated with the information from every correctly received Frame Control field. Receiving stations follow the rules defined in Table 4 based upon the reception of the specified Delimiter types, where Frame length is measured in number of symbols.</p>
<p id="p-0143" num="0142">
<tables id="TABLE-US-00004" num="00004">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="98pt" align="left"/>
<colspec colname="2" colwidth="98pt" align="left"/>
<colspec colname="3" colwidth="21pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="3" rowsep="1">TABLE 4</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry/>
<entry>New</entry>
</row>
<row>
<entry>Received Frame Control</entry>
<entry/>
<entry>VPF</entry>
</row>
<row>
<entry>Delimiter Type</entry>
<entry>New VCS Timer Value</entry>
<entry>Value</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>Start of frame with no response</entry>
<entry>Frame Length × SymbolTime +</entry>
<entry>1</entry>
</row>
<row>
<entry>expected</entry>
<entry>EFG + DelimiterTime + CIFS</entry>
</row>
<row>
<entry>Start of frame with response</entry>
<entry>Frame Length × SymbolTime +</entry>
<entry>1</entry>
</row>
<row>
<entry>expected</entry>
<entry>EFG + DelimiterTime + RIFS +</entry>
</row>
<row>
<entry/>
<entry>DelimiterTime + CIFS</entry>
</row>
<row>
<entry>End of frame with no response</entry>
<entry>CIFS</entry>
<entry>1</entry>
</row>
<row>
<entry>expected</entry>
</row>
<row>
<entry>End of frame with response</entry>
<entry>RIFS + DelimiterTime + CIFS</entry>
<entry>1</entry>
</row>
<row>
<entry>expected</entry>
</row>
<row>
<entry>Frame response of any type</entry>
<entry>CIFS</entry>
<entry>1</entry>
</row>
<row>
<entry>Priority Resolution Symbol</entry>
<entry>EIFS</entry>
<entry>0</entry>
</row>
<row>
<entry>greater than the frame queued</entry>
</row>
<row>
<entry>for transmission</entry>
</row>
<row>
<entry>Reserved frame type for frame</entry>
<entry>EIFS</entry>
<entry>0</entry>
</row>
<row>
<entry>with bad CRC</entry>
</row>
<row>
<entry>Frame control with bad CRC</entry>
<entry>EIFS</entry>
<entry>0</entry>
</row>
<row>
<entry>Start of frame length field a</entry>
<entry>EIFS</entry>
<entry>0</entry>
</row>
<row>
<entry>reserved value</entry>
</row>
<row>
<entry namest="1" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0144" num="0143">The VCS timer is also updated at the end of a PRP when the station determines that it cannot contend for access.</p>
<p id="p-0145" num="0144">As mentioned above, the MAC unit <b>18</b> supports segmentation/reassembly. The process of partitioning MSDUs from the host into smaller MAC frames is referred to as segmentation. The reverse process is called reassembly. Segmentation improves chances of frame delivery over harsh channels and contributes to better latency characteristics for stations of higher priority. All forms of addressed delivery (unicast, multicast, broadcast) may be subject to segmentation.</p>
<p id="p-0146" num="0145">An MSDU arriving at the MAC unit <b>18</b> is placed in one or more segments depending on the size of the MSDU and the data rate the link will sustain. Every effort is made to transmit all of the segments of a single MSDU in a single, continuous burst of MAC frames. Acknowledgments and retransmissions occur independently for each segment.</p>
<p id="p-0147" num="0146">When an MSDU is segmented into a number of segments, the segments are sent in a single burst, if possible, to minimize the demands on the receiver resources and maximize the throughput of the network, while still taking into account latency response and jitter performance. Segment bursting is accomplished by using the Contention Control and Channel Access Priority fields in the Frame Control, as discussed earlier with reference to <figref idref="DRAWINGS">FIG. 5B</figref>. A segment burst may be pre-empted by a station with a transmission of a higher priority.</p>
<p id="p-0148" num="0147">When sending a segment burst, a station contends for the medium in the normal fashion, that is, in the manner described above. Once the station has control of the medium, it sets the Contention Control bit to 0b1, inserts the priority of the MSDU (to which the segment belongs) into the Channel Access Priority field of the Frame Control and transmits the segments in a burst without further contending for the medium with stations having transmissions of the same or lower priority. The station defers to transmissions having a higher priority that are indicated in the priority resolution period following the transmission of every segment. In the last segment of the MSDU, the station clears the Contention Control Bit to 0b0 in the Frame Control before transmitting the segment to allow normal contention by all stations in the PRP following the conclusion of the transmission.</p>
<p id="p-0149" num="0148">If a station receives a transmission request for a frame of a higher priority than the priority of the segment burst that is occupying the medium, it contends for the medium in the PRP immediately following the transmission of the current segment. If the segment burst is pre-empted by a higher priority pending frame, the station that had been performing the segment bursting contends for the medium to resume the segment burst. The station resumes the segment burst when it has regained control of the medium.</p>
<p id="p-0150" num="0149">Thus, segment bursting provides a single station control of the medium at a given priority level. By assuming the highest priority level (CA<b>3</b>), a station may preclude any other station from accessing the medium for the duration of the segment burst and the segment burst can proceed uninterrupted. Because bursting at the CA<b>3</b> priority level blocks higher priority traffic (i.e., contention-free traffic) and thus impacts QoS, however, it is desirable to place restrictions on the use of the CA<b>3</b> priority level. For example, the CA<b>3</b> level could be restricted to contention-free transmissions only. Alternatively, segment bursting could be restricted to priority levels CA<b>0</b> through CA<b>2</b>, as well as CA<b>3</b> (for contention-free traffic only).</p>
<p id="p-0151" num="0150">Like priority, latency plays a critical role in frame delivery performance for QoS. Moreover, poor latency characteristics can have an adverse impact on frame delivery performance at a specified priority level. One way to limit this impact is to bound latency in some manner. In the described embodiment, the length of frames is limited to ensure that any transmission occupies the medium for no longer than a predetermined time threshold, e.g., 2 ms. Preferably, for maximum performance at the highest priority level, the highest priority level traffic is excluded from the frame length restriction or subject to a more relaxed limit. Alternatively, however, for ease of implementation, all levels could be subject to the frame length limit restriction. Another way to bound latency and thus improve delivery performance is to limit segment bursts under certain conditions (for example, in the manner discussed above, so that a segment burst can be interrupted by a higher priority class of traffic).</p>
<p id="p-0152" num="0151">Referring to <figref idref="DRAWINGS">FIG. 21</figref>, the functionality of the MAC unit <b>18</b> is depicted as a MAC state machine <b>310</b>, including a TX handler <b>311</b> and RX handler <b>312</b>, coupled to several Service Access Points, including, on the MAC-LLC interface side, a MAC Data Service Access Point (MD-SAP) <b>313</b> and a MAC Management Service Access Point (MM-SAP) <b>314</b>, and on the MAC-PHY interface side, a PHY Data Service Access Point (PD-SAP) <b>316</b> and a PHY Management SAP (PM-SAP) <b>318</b>. The MAC state machine <b>310</b> provides services to the Logical Link Control (LLC) sublayer through the MAC Data Service Access Point (MD-SAP) <b>313</b>. The state machine <b>310</b> is managed by the LLC sublayer through the MAC Management Service Access Point (MM-SAP) <b>314</b>. The MAC state machine <b>310</b> uses the services of the PHY layer through the PHY Data Service Access Point (PD-SAP) <b>316</b> and manages the PHY through the PHY Management SAP (PM-SAP) <b>318</b>.</p>
<p id="p-0153" num="0152">The MAC Data Service provides transport of a MSDU from one MD-SAP <b>313</b> to one or more such MAC data service access points, allowing the selection of encryption, priority, retry strategy and direct acknowledgment services for each MSDU transmitted, as well as an indication of the priority and encryption services for each MSDU received. The MAC data service includes the following primitives: MD_DATA.Req; MD_DATA.Conf; and MD_DATA.Ind <b>320</b>. The MD_DATA.Req primitive requests a transfer of an MSDU from a local LLC sublayer to a single peer LLC sublayer entity, or multiple peer LLC sublayer entities (in the case of group addresses). This primitive is formatted to include the following: frame length; MAC sublayer destination address or addresses; MAC sublayer source address of the transmitting station; requested priority (values 0 through 3 or “contention-free”) for the frame to be sent; lifetime of frame (amount of time before frame is to be discarded); retry control to indicate the desired retransmission strategy to be used if necessary; encryption key select, an integer value from 0 through 255 that indicates the network encryption key to be used to encrypt the frame prior to transmission; encryption enable to enable or disable encryption; response requested to indicate that a response to this frame is desired from the destination; type to indicate the upper layer protocol type; and data, or more specifically, the upper layer data that is to be transported to the peer MAC sublayer entity at the specified destination address or addresses. The MD_DATA.Conf primitive confirms the receipt of the MD_DATA.Req by the MAC and indicates the result of the requested transmission in the form of a status indicating the success or failure of that transmission. The MD_DATA.Ind primitive indicates a transfer of an MSDU to the LLC sublayer entity from a single peer LLC sublayer entity. It includes the frame length, the DA, the SA of the station that transmitted the frame, the priority at which the frame was received, the encryption key select indicating the encryption key that was used to encrypt the frame; encryption enable; type (again, upper layer protocol) and the data that was transported from the peer MAC sublayer entity at the source address.</p>
<p id="p-0154" num="0153">The PHY provides services to the MAC through a set of data service primitives <b>324</b> and management service primitives <b>326</b>. The PD_DATA.Req primitive requests that the PHY begin transmission of information onto the medium. In response, the PHY sends the start delimiter, the MAC Protocol Data Unit (MPDU) and the end delimiter. The request includes a TX channel map index value to be used to configure the PHY transmit units, along with the 25 bits of SOF delimiter, payload and the 25 bits of EOF delimiter. The PD_DATA.Conf primitive confirms the transmission requested by the PD_DATA_Req primitive. It indicates the status of the transmission as either a success or failure. The PD_DATA.Ind primitive indicates to the MAC that a transmission has been received by the PHY. It includes channel characteristics, channel access priority, segment length, MPDU and an FEC Error Flag. The channel characteristics include a list of information to be used for channel estimation. The channel access priority is the value of the priority information received in the end delimiter. The MPDU is the information transmitted by the peer MAC entity. The FEC error flag is a value that indicates that the FEC determined that there was an uncorrectable error in the received information. The PD_Data.Rsp primitive causes the PHY to transmit a requested response delimiter and specifies the information to be carried in the response delimiter. It specifies a status (that is, the requested response type to be transmitted, e.g., ACK, NACK or FAIL), the contention control value and channel access priority. The PD_RX_FR_CRTL.Ind primitive provides an indication to the MAC entity of the information received in the start and end delimiters. The PD_RX_FR_CTRL.Rsp primitive is used by the MAC entity to provide control information to the PHY. It includes a receive state to indicate that the PHY should be scanning for delimiters or that the PHY should be in the active receive state. The PD_RX_FR_CTRL.Rsp primitive further specifies a frame length corresponding to the number of symbols that the PHY is expected to receive and the RX channel map listing the tones that are to be used for reception. The PD_PRS_Listen.Req primitive is used by the MAC entity to request that the PHY listen during the PRP slots and the PD_PRS.Ind primitive is used by the PHY to indicate to the MAC entity that a priority resolution symbol was received. The PD_PRS.Req is used by the MAC entity to request that the PHY transmit a priority resolution symbol. The PHY Management Services primitives <b>326</b> include the following: PM_SET_TONE_MASK.Req, which requests that the PHY set the mask of tones not to be used for transmission or reception, and PM_SET_TONE_MASK.Conf to indicate the success or failure of that requested operation.</p>
<p id="p-0155" num="0154">Referring to <figref idref="DRAWINGS">FIG. 22</figref>, an architectural representation of the MAC transmit (TX) handler <b>311</b> is shown. The transmit handler <b>311</b> includes four processes: a Transmit MAC Frame Processing Process <b>330</b>, an Encryption process <b>332</b>, a Segmentation process <b>334</b> and a PHY frame transmit process <b>336</b>. The TX handler <b>311</b> stores the following parameters: station (or device) address <b>338</b>; tone mask <b>340</b>, retry control <b>342</b>, network encryption key(s) <b>344</b> and TX channel maps <b>346</b>.</p>
<p id="p-0156" num="0155">The TX MAC Frame Processing process <b>330</b> operates on data requests and management set/get requests (as earlier described). It receives as inputs the following: MD_Data.Req data primitive from the MD_SAP <b>313</b>; a Network key from Encryption keys <b>344</b>; a Tone Mask from Tone Mask <b>340</b>; station address from the device address unit <b>338</b>; TX channel map validity and TX frame status; and set/get request management primitives from MM_SAP <b>314</b>. In response to these inputs, it provides the following: the MD_Data.Conf data primitive; Retry Control; network key and key select; tone mask; new station address; PM_SET_TONE_MASK.Req management primitive; a TX channel map index for the DA; and TX cleartxt frame (TCF), based on the MD_Data.Req. Whether the process <b>330</b> inserts in the TCF any MAC management information field subfields depends on the content of the input management primitives, in particular, MM_SET_RMT_PARAMS.req, and other inputs.</p>
<p id="p-0157" num="0156">The Encryption Process <b>332</b> receives as inputs the TX cleartext frame (TCF) and the selected network key. The encryption process <b>332</b> determines if encryption is enabled, and if so, obtains the random 8-bytes IV value, appends an Integrity Check Value and encrypts the TEF, the selected network encryption key and the IV to form a TX encrypted frame (TEF). The Encryption Process <b>332</b> provides the TEF to the Segmentation Process <b>334</b>.</p>
<p id="p-0158" num="0157">The Segmentation Process <b>334</b> produces segments based on a maximum frame length. The Segmentation Process <b>334</b> segments MSDUs by partitioning the frame body into segments based on a maximum segment (or frame) size until the last segment; however, the partitioning can be suitably adjusted to meet other performance parameters as well. For example, it may be desirable to make the first segment have a minimum length to shorten the amount of time before a hidden node hears the response transmission. Once transmission is attempted for a segment, the content and length shall not change for that segment until the segment is successfully delivered to the destination or a change in modulation is required.</p>
<p id="p-0159" num="0158">The PHY Frame Transmit Process <b>336</b> initiates a transmission or transmission attempt using Channel Contention with priority as discussed above. The PHY Frame Transmit Process <b>336</b> is shown in <figref idref="DRAWINGS">FIGS. 23 through 25</figref>.</p>
<p id="p-0160" num="0159">Referring to <figref idref="DRAWINGS">FIG. 23</figref>, the PHY Frame Transmit process <b>336</b> begins with the arrival of a frame to be sent over the transmission medium (step <b>400</b>). The transmitter initializes control for maintaining timing information and priority (step <b>402</b>). The timing information includes the counts maintained by the Backoff Procedure Count (BPC), the Transmit counter (TC), the NACK counter (NACKcount) and the No Response counter (NRC), each of which is set to a zero value. The timing information further includes the timer corresponding to the transmit lifetime value, FrmTimer. The FrmTimer is set to a maximum value (MaxLife) as a default unless a lifetime value is passed down to the MAC unit by the LLC unit. The priority is set to the value of the channel access priority assigned to the frame. The transmitter detects if the medium is busy by determining if the values of the VCS and CS are equal to zero (step <b>403</b>). If these values are non-zero, that is, the medium is busy, the transmitter waits until it detects a zero value for both while, at the same time, updating the values of VCS, VPF and CC based on valid delimiters received over the medium (step <b>404</b>). It then determines if VPF is equal to one (step <b>405</b>). If VPF is equal to zero, the frame segment is transmitted and TC is incremented (step <b>406</b>). If, at step <b>403</b>, the medium is determined to be idle, the transmitter determines if the arrival has occurred during a Carrier Sense Slot (CSS), that is, during CIFS (step <b>407</b>). If the arrival has occurred during a CSS, or, at step <b>405</b>, VPF=1, then the transmitter determines if a signal has been sensed in the CSS (step <b>408</b>). If the arrival occurred during the CSS (at step <b>407</b>) but no signal was sensed during that period (at step <b>408</b>), or the arrival occurred during one of slots in the Priority Resolution Slots interval (step <b>409</b>), then the transmitter determines if the previous transmission indicated contention-free access, that is, included a set CC bit (step <b>410</b>). If contention-free access is indicated, the transmitter determines whether it can interrupt by comparing its priority (the priority of the frame awaiting transmission) to that of the priority indicated in the EOF and/or response, or continue if the last transmission was a previous segment of the frame to be sent (step <b>412</b>). If the transmitter cannot interrupt or continue (as part of an already in-progress transmission stream, e.g., during a segment burst or exchange of frames between stations during a contention-free period), it sets the VCS value to the EIFS and VPF to zero (step <b>414</b>). If, at step <b>412</b>, it is determined that the transmitter can interrupt or continue, or, at step <b>410</b>, it is determined that contention-free access is not indicated, the transmitter signals its priority and listens for the priority of other stations also awaiting channel access (step <b>416</b>).</p>
<p id="p-0161" num="0160">If the transmitter does not detect a higher priority (step <b>418</b>), it proceeds to contend for channel access (step <b>419</b>). If the contention is successful, the process transmits the segment and increments the TC (at step <b>406</b>). If the contention is unsuccessful (that is, another station is currently transmitting), it determines if the frame control field of the current transmission is valid (step <b>421</b>). If the frame control field is valid, the transmitter sets VPF to one and updates VCS based on that frame control information (step <b>422</b>), and returns to step <b>404</b> to wait for an idle channel. If the frame control field is invalid (as might be the case for a false synch or weak signal), the transmitter returns to step <b>414</b> (setting VCS equal to EIFS and VPF=0).</p>
<p id="p-0162" num="0161">Referring back to step <b>409</b>, if the frame arrives after the PRS interval but is determined to have arrived during the Contention Window (step <b>423</b>), the transmitter determines if the previous frame transmission was contention-free (step <b>424</b>). If contention-free access is not indicated, the transmitter proceeds to step <b>418</b> (for determining if a higher priority has been detected). If contention-free access is indicated, the transmitter determines if it can interrupt the transmission (step <b>426</b>). If the transmitter cannot interrupt, it updates the VCS and VPF at step <b>414</b>, and returns to step <b>404</b> to wait for the next idle channel. If it is determined that the transmitter can interrupt at step <b>426</b>, the transmitter proceeds to step <b>418</b>. If the frame is determined to have arrived after the Contention Window at step <b>423</b>, the transmitter transmits the frame segment and increments the TC by one at step <b>406</b>.</p>
<p id="p-0163" num="0162">After a frame segment is transmitted at step <b>406</b>, the transmitter determines if a response or acknowledgment is expected (step <b>428</b>). If an acknowledgment is expected and received (step <b>430</b>), or an acknowledgement is not expected, the transmitter determines if any additional segments are to be transmitted as part of a data transmission stream or burst (step <b>432</b>). If so, the transmitter resets BPC, TC, NACKcount and NRC to zero (step <b>433</b>). The transmitter then determines if the frame should be dropped by determining if the FrmTimer is equal to zero or TC exceeds the transmit limit (step <b>436</b>). If either condition is true, the transmitter reports that the frame has been discarded (step <b>438</b>) and the process terminates (step <b>440</b>). If the frame is not to be discarded but instead re-transmitted, the transmitter returns to step <b>403</b>. If there are no more segments to be transmitted at step <b>432</b>, the transmitter reports a successful transmission (step <b>442</b>), and terminates the process at step <b>440</b>. If an acknowledgment is expected and not received at step <b>430</b>, the process further resolves the response (step <b>444</b>) and proceeds to the frame discarding determination at step <b>436</b>.</p>
<p id="p-0164" num="0163">Referring to <figref idref="DRAWINGS">FIG. 24</figref>, the process of resolving the response <b>444</b> begins with determining if a NACK has been received (step <b>446</b>). If a NACK has been received, the NACKcount is incremented and BPC is set to zero (step <b>448</b>). The process <b>444</b> determines if the NACKcount is greater than the NACKcount threshold (in this example, a threshold of 4) (step <b>450</b>). If the NACKcount is determined to be greater than the threshold of 4, the process resets the NACKcount to zero and uses the robust (ROBO) transmission mode (step <b>452</b>), and proceeds to step <b>436</b> (<figref idref="DRAWINGS">FIG. 23</figref>). If the NACKcount is not greater than the threshold, the process goes to step <b>436</b> directly. If a response is expected and a FAIL response is received (step <b>454</b>), the process waits a predetermined period, in the illustrated example, 20 ms, (step <b>456</b>) while updating VCS, VPF and CC on any valid frame control information (step <b>458</b>), sets both NACKcount and BPC to zero (step <b>460</b>) and returns to step <b>436</b>. If a response is expected and no response is received (i.e., no FAIL received at step <b>454</b>), the process determines if other frame control information has been received (step <b>462</b>) and, if so, sets VCS to EIFS and VPF to zero (step <b>464</b>). Otherwise, the process increments NRC (step <b>466</b>) and determines if the NRC is greater than an NRC threshold (step <b>467</b>). If the NRC is determined to be greater than the NRC threshold, the process uses ROBO Mode (step <b>468</b>) and again returns to step <b>436</b>. If it is determined that the NRC is not greater than the NRC threshold at step <b>467</b>, the process returns to step <b>436</b> without adjustment to modulation mode.</p>
<p id="p-0165" num="0164">Referring to <figref idref="DRAWINGS">FIG. 25</figref>, the channel access contention process <b>419</b> begins by determining if the BPC, DC or BC is zero (step <b>470</b>). If yes, the process determines if the segment to be transmitted is a continuation of a previous transmission (step <b>471</b>). If it is not, the process performs the following: establishes the Contention Window CW and the Deferral Count DC as a function of the BPC, that is, CW=f1(BPC), where f1(BPC)=7, 15, 31, 63 for BPC=0, 1, 2, &gt;2, respectively, and DC=f2(BPC), where f2(BPC)=0, 1, 3, 15 for BPC=0, 1, 2, &gt;2, respectively; increments BPC; and sets BC=Rnd(CW), where Rnd(CW) is a uniformly distributed random integer from the interval (0, CW) (step <b>472</b>). If a continuation (at step <b>471</b>), then the process sets CW=7, DC=0, BPC=0 and BC=0. If BPC, DC or BC are not zero at step <b>470</b>, the process decrements DC (step <b>474</b>) and decrements BC (step <b>476</b>). After steps <b>472</b>, <b>473</b> or <b>476</b>, the process <b>419</b> determines if BC is equal to zero (step <b>478</b>). If BC is zero, then the process goes to step <b>406</b>, initiating packet transmission and incrementing TC (<figref idref="DRAWINGS">FIG. 23</figref>). If BC is not equal to zero, the process waits for one CRS slot (step <b>480</b>), and determines if CS is equal to zero (step <b>482</b>). If CS is zero (i.e., a carrier is not detected), the process returns to step <b>476</b> (decrementing BC). If CS is not equal to zero at step <b>482</b>, the process <b>419</b> determines if the synchronization signal in the current transmission is valid (step <b>484</b>). If the signal is invalid, the process <b>419</b> returns to step <b>480</b> to wait the duration of another CRS slot. If the synchronization signal is valid, the process <b>419</b> proceeds to step <b>421</b> (<figref idref="DRAWINGS">FIG. 23</figref>) to determine the validity of the frame control field in the delimiter of the current transmission and thus no further contention is permitted.</p>
<p id="p-0166" num="0165">Referring to <figref idref="DRAWINGS">FIG. 26</figref>, an architectural representation of the MAC receive (RX) handler <b>312</b> is shown. The RX handler <b>312</b> includes four functions: a PHY Frame Receive process <b>490</b>, a Reassembler <b>494</b>, a decryption process <b>496</b> and a Receive MAC Frame Processing process <b>498</b>. The RX handler <b>312</b> stores the following parameters: station address <b>338</b>, tone mask <b>340</b>, encryption key(s) <b>344</b>, channel characteristics <b>506</b>, RX channel maps <b>512</b> and the TX channel maps <b>346</b>.</p>
<p id="p-0167" num="0166">The PHY Frame Receive process <b>490</b> receives RX (optionally) encrypted segments (RES). That is, it parses frame control fields of any incoming segments, as well as receives the body of any incoming segments. It stores the channel characteristics and makes available the RES to the reassembly process <b>494</b>.</p>
<p id="p-0168" num="0167">Referring to <figref idref="DRAWINGS">FIG. 27</figref>, the Frame Receive process <b>490</b> is as follows. The process <b>490</b> begins (step <b>520</b>) by searching for a synchronization signal and monitoring VCS (step <b>522</b>). The process <b>490</b> determines if VCS is equal to 0 and VPF is equal to 1 (step <b>524</b>). If VCS is equal to 0 and VPF is equal to 1, the process senses for carriers in the CIFS (step <b>526</b>) and determines if a carrier is sensed (step <b>528</b>). If no carrier is sensed (at step <b>528</b>), the process waits for the end of the CIFS (step <b>530</b>) and listens in the PRS, noting any priority heard in that interval (step <b>532</b>). It then sets VCS equal to EIFS and VPF equal to zero (step <b>534</b>) and returns to step <b>522</b>. If a carrier is sensed at step <b>528</b>, then the process proceeds directly to step <b>534</b>.</p>
<p id="p-0169" num="0168">If VCS is not equal to 0 and VPF not equal to 1 (at step <b>524</b>), the process determines if a synchronization signal has been detected (step <b>536</b>). If the process determines that a synchronization signal has not been detected, the process returns to step <b>522</b>. If the process determines that a synchronization signal has been detected (at step <b>536</b>), the process receives and parses the frame control field in the delimiter of the incoming segment (step <b>538</b>). The process determines if frame control is valid (based on the FCCS field) (step <b>540</b>). If the frame control is invalid, the process proceeds to step <b>534</b>. If the frame control is valid, the process determines if the frame control indicates a start-of-frame (step <b>542</b>). If not a start-of-frame, the process updates the VCS and VPF, as well as notes the priority indicated by the frame control (step <b>544</b>) and returns to step <b>522</b>. If the frame control indicates a start-of-frame, that is, the frame control is in the start delimiter (and thus includes an index to the RX channel maps, a length, whether or not a response expected and contention control flag), the process receives the segment body and end delimiter (if an end delimiter was included in the frame)(step <b>546</b>). The process determines if the DA is valid (step <b>548</b>). If the DA is valid, the process determines if an RX buffer is available (step <b>550</b>). If buffer space is available, the process determines if the segment is received in error by checking the FEC error flag and determining if a calculated CRC is not equal to the FCS (step <b>552</b>) and, if valid and a response is requested, the process prepares and directs the transmission of an ACK response (using PD_DATA.Rsp with status=ACK), as well as stores the RES and the channel characteristics (step <b>554</b>). The process determines if additional segments are to be received as part of a segmented frame (step <b>556</b>). If no more segments are to be received, the process indicates successful frame reception (to the other RX processes <b>494</b>, <b>496</b> and <b>498</b>, shown in <figref idref="DRAWINGS">FIG. 26</figref>) (step <b>558</b>) and proceeds to carrier sensing in the CIFS at step <b>526</b> after waiting for the value VCS to be equal to 0 in step <b>560</b>.</p>
<p id="p-0170" num="0169">Still referring to <figref idref="DRAWINGS">FIG. 27</figref>, and referring back to step <b>552</b>, if the segment is invalid, and a response is expected, the process prepares and causes the transmission of a NACK response (that is, PD_Data.Rsp with status=NACK)(step <b>562</b>). The process discards the frame (step <b>564</b>) and returns to step <b>560</b>. If, at step <b>550</b>, buffer space is not available, and a response is expected, the process prepares and causes the transmission of a FAIL response (PD_DATA.Rsp with status=FAIL)(step <b>566</b>) and returns to the step of discarding the frame at step <b>564</b>. If, at step <b>548</b>, the DA is invalid, the process determines if the segment is multicast addressed (step <b>568</b>). If the segment is multicast-addressed, the process determines if buffer space is available (step <b>570</b>). If buffer space is available, the process determines if the segment is valid (step <b>572</b>). If the segment is valid, the process proceeds to step <b>556</b> to check for additional incoming segments. If, at step <b>568</b>, the segment was determined to be unicast addressed, or, the process determines that the segment is multicast but that insufficient buffer space is available at step <b>570</b>, the process proceeds to step <b>564</b> (discarding the frame).</p>
<p id="p-0171" num="0170">Referring again to <figref idref="DRAWINGS">FIG. 26</figref>, the Reassembly process <b>494</b> accumulates segments received by the PHY frame receive process <b>490</b> until an entire frame is assembled. Each segment contains the Segment Control Field <b>106</b> (from <figref idref="DRAWINGS">FIG. 7</figref>), which provides the segment length (SL) <b>168</b>, the segment count (SC) <b>172</b> and the last segment flag <b>170</b>. The SL <b>168</b> specifies the number of MSDU bytes in the segment, since the segment is padded to match symbol block sizes, and is used to determine and extract MSDU bytes at the receiver. The SC <b>172</b> contains a sequentially increasing integer starting at zero for the first segment. The last segment flag is set to 0b1 for the last or only segment. The reassembly process <b>494</b> uses this and other information in each segment to reassembly the MSDU. The receiver reassembles the MSDU by combining segments in Segment count order until a segment with the last segment flag set to one is received. All segments are reassembled prior to decryption to extract the MSDU.</p>
<p id="p-0172" num="0171">The process <b>494</b> begins by receiving the RES and determines if the SC is equal to zero. If SC=0 and the last segment flag is set, the RES is the only segment in the MSDU and the process provides the RES as a received encrypted frame (REF) to the decryption process <b>496</b>. If the SC is not equal to zero, the process uses the segment control information to accumulate all of the segments in order until it sees the last segment flag set and reassembles the MSDU (or REF) from the accumulated segments. It then passes the REF to the decryption process <b>496</b>.</p>
<p id="p-0173" num="0172">The Decryption Process <b>496</b> generates cleartext from the REF. The decryption process <b>496</b> receives the encrypted, reassembled frame from the reassembler <b>494</b> and retrieves the NEK identified by the EKS in the EKS field <b>192</b> of the Encryption Control field <b>112</b> (from <figref idref="DRAWINGS">FIG. 8</figref>). If the IV in the REF is zero, the REF is determined to be unencrypted (actually, a receive cleartext frame or RCF) and the RCF is passed to the RX MAC Frame Processing process <b>498</b>. If IV is not zero, the process <b>496</b> decrypts the frame using the DES algorithm with the IV and NEK. The process <b>496</b> determines if there are any errors in the REF and performs this task regardless of whether the REF is actually encrypted or not. If there are no errors detected by the decryption process for the REF (that is, the ICV in the REF is equal to the value calculated by the decryption process), the process <b>496</b> redefines the REF as an RCF and provides the RCF to the RX MAC Frame Processing process <b>498</b>.</p>
<p id="p-0174" num="0173">The RX MAC Frame Processing process <b>498</b> parses and processes the cleartext frame body. It determines the type of frame body from the type value specified in the first occurring type field. If the frame does not include the MAC management information field <b>182</b>, then the type is that specified in the type field <b>184</b> indicating that the frame data to follow is MSDU data in the frame data field <b>186</b> (<figref idref="DRAWINGS">FIG. 8</figref>) and the type field <b>184</b> and the frame data <b>186</b>, along with the DA field <b>108</b> and the SA field <b>110</b> (<figref idref="DRAWINGS">FIG. 3</figref>) are provided to the LLC layer for further processing. Otherwise, and referring back to <figref idref="DRAWINGS">FIG. 9</figref>, the type is specified in the type field <b>200</b> of the MAC management information field <b>182</b>. If the number of entries indicated in the MCTRL field <b>206</b> is greater than zero, the process <b>498</b> processes each entry <b>204</b> in the MAC management information field <b>182</b> according to its respective entry type (as indicated in MTYPE field <b>218</b> in the MEHDR field <b>206</b>). For example, if the MTYPE field <b>218</b> identifies the entry as the Multicast with Response entry <b>210</b>H (<figref idref="DRAWINGS">FIG. 17</figref>), the process determines if the station address <b>338</b> matches any multicast destination addresses <b>272</b> specified in the entry <b>210</b>H. Referring to <figref idref="DRAWINGS">FIG. 12B</figref>, if the entry is the Channel Estimation Response <b>210</b>B, the process <b>498</b> associates the RXCMI <b>230</b> with the SA (specified in the frame header) as the DA, and stores the channel map information from the entry (and indexed by the RXCMI <b>230</b>) in the TX channel maps <b>346</b> (<figref idref="DRAWINGS">FIG. 26</figref>) for use in transmissions to the frame's sender. If the entry is the Request Channel Estimation entry <b>210</b>A (<figref idref="DRAWINGS">FIG. 12A</figref>), the process causes a Channel Estimation Response to be prepared (via the Channel Estimation process, as discussed earlier) and transmitted back to the frame's sender. If, and referring to <figref idref="DRAWINGS">FIG. 16</figref>, the process <b>498</b> determines that the entry type is the Set Network Encryption Key entry <b>210</b>G (<figref idref="DRAWINGS">FIG. 16</figref>), the process <b>498</b> stores the EKS <b>266</b> in association with the NEK <b>268</b> in the Encryption Keys store <b>344</b> for use in encrypting/decrypting frame data for a logical network to which the key is assigned. Thus, the RX handler's process <b>498</b> takes any action appropriate to the type of data entry <b>204</b>.</p>
<p id="p-0175" num="0174">In an alternative depiction of the transmit/receive processes, <figref idref="DRAWINGS">FIG. 28</figref> is a state diagram depicting the transmit and receive processes (processes <b>336</b> and <b>490</b>, respectively) of the MAC state machine <b>310</b> as a single transmit/receive state machine <b>575</b>. Referring to <figref idref="DRAWINGS">FIG. 28</figref>, the state machine <b>575</b> begins in an idle state, searching for a synch signal (state “A”). If a synch signal is detected, the machine transitions to receiving frame control information (state “B”). If the received frame control indicates an SOF, the machine receives the segment body and EOF following the SOF (state “C”). If a valid DA is received and a response is expected, the machine transmits a response (state “D”). In the event that a response is transmitted (during state “D”), or if the frame control received at state “B” is a response or an EOF with no response expected, or, at state “C”, no response is expected, the machine transitions to a state of sensing carrier in the CSS (state “E”). If no carrier is sensed, the machine enters a state of sensing PRS signaling (state “F”). Upon detecting the end of the PRS slots, the machine sets VCS=EIFS and VPF=0, and transitions to a state of searching for a synch in the contention window (state “G”). If VCS times out and VPF=0, the machine returns to state “A”. If a frame is pending during state “A” or state “G” (and the backoff counter has a zero value during state “G”), the machine transmits the pending segment (state “H”). If a synch is detected during state “G”, the machine again receives frame control information (state “B”). If, while in the receiving frame control state “B”, the machine determines that the frame control is not valid, the machine sets VCS=EIFS and VPF=0, and proceeds to a state of waiting (for VCS=0) and searching for synch (state “I”). If, while in the receiving frame control state “B”, the machine determines that an EOF was received and a response is expected, or, at state “C”, determines that the DA is not valid and a response is expected, the machine updates VCS and sets VPF=1 and goes to state “I”. If, at state “I”, a synch is detected, the machine receives the frame control information (state “B”). If, during state “I”, the VCS times out while VPF is 0, the machine returns to the idle state (state “A”). Otherwise, if VCS=0 and VPF=1, the machine enters state “E”. If a carrier is sensed during state “E”, the machine sets VCS=EIFS and VPF=0, and transitions to state “I”. Returning briefly to state “H”, if a segment is transmitted with no response expected, the machine enters state “E”. If, during state H, a segment is transmitted with a response expected, the machine updates VCS and sets VPF=1, and then enters state “I”.</p>
<p id="p-0176" num="0175">As indicated above, a number of MAC functions are made available through the use of the MAC Management Information field <b>182</b> (<figref idref="DRAWINGS">FIG. 9</figref>), in conjunction with other frame fields. These features include, but are not limited to: encryption-based logical networks, partial ARQ for multicast and broadcast transmissions; bridging (with a bridge proxy); and such media access control techniques as token passing and polling.</p>
<p id="p-0177" num="0176">Referring back to <figref idref="DRAWINGS">FIG. 1</figref>, the stations <b>12</b> in the network <b>10</b> may be logically separated for privacy. For example, and referring to <figref idref="DRAWINGS">FIG. 29</figref>, the station <b>12</b><i>a </i>and the station <b>12</b><i>b </i>located in a first dwelling that are able to communicate with the station <b>12</b><i>c </i>and the station located in a second dwelling over a shared transmission medium <b>14</b> are separated logically into logical networks, that is, with stations <b>12</b><i>a </i>and <b>12</b><i>b </i>belonging to a first logical network <b>580</b> and stations <b>12</b><i>c </i>and <b>12</b><i>d </i>belonging to a second logical network <b>582</b>. This logical separation of stations in a physical network into logical networks occurs in the MAC unit <b>18</b> and allows sets of stations on the physical network to operate as if there were a unique, separate network for each set. Privacy is provided by the 56-bit Data Encryption Standard (DES) encryption and authenticated key management.</p>
<p id="p-0178" num="0177">All stations in a given logical network share a network key as a common key. That network key is the key that is assigned to the logical network. In addition to the network key, each station has a unique default key, typically pre-programmed by a manufacturer. A station's user generates the default key from a password (also provided by the manufacturer). The default key is used to allow secure communication between the station and one or more other stations that are members of logical networks, in order for the station to securely receive network keys for those logical networks. An exemplary mechanism for generating the default key from the password is the PBKDF1 function, as described in the PKCS #5 v2.0 standard, Password-based Cryptography Standard, using MD4 as the underlying hash algorithm. Thus, every station enters a logical network for the first time through the use of its password-derived default key.</p>
<p id="p-0179" num="0178">Referring to <figref idref="DRAWINGS">FIGS. 30 and 31</figref>, a process of adding a new station, e.g., the station <b>12</b><i>e</i>, to a logical network, e.g., first logical network <b>580</b>, is as follows. A station that is already a member of the logical network, or “master” station (e.g., station <b>12</b><i>b</i>, in <figref idref="DRAWINGS">FIG. 29</figref>) receives the default key of the new station (step <b>590</b>). Typically, the default key of the new station is manually entered into the master station. The master station builds a frame that includes a Set Network Encryption Key MAC Management entry (entry <b>210</b>G from <figref idref="DRAWINGS">FIG. 16</figref>) (step <b>592</b>), the entry identifying a 56-bit DES Network Encryption Key or NEK (in the NEK field <b>268</b>) and an associated 8-bit Encryption Key Select (in the EKS field <b>266</b>) for the logical network. The master station encrypts the frame using the received default key (step <b>594</b>) and transmits the encrypted frame to the new station for decryption by the new station using the default key (step <b>596</b>) and retrieval of the network key and associated select from the decrypted frame.</p>
<p id="p-0180" num="0179">The master station may use the channel estimation function and channel estimation MAC management entries (<figref idref="DRAWINGS">FIGS. 12A and 12B</figref>) described earlier to make the passing of the network encryption key to the new station more secure. The master station can send to the new station a channel estimation request, causing the new station to perform a channel estimation process and return a channel estimation response with a new channel map resulting from the channel estimation process. Upon receipt of this response, the master station utilizes the channel map specified in the response to send the encrypted frame (containing the NEK) to the new station.</p>
<p id="p-0181" num="0180">Referring to <figref idref="DRAWINGS">FIG. 31</figref>, the stations in the logical network <b>580</b>, that is, stations <b>12</b><i>a</i>, <b>12</b><i>b </i>and <b>12</b><i>e</i>) each store in the respective encryption keys stores <b>344</b> a respective unique default key <b>600</b><i>a</i>, <b>600</b><i>b</i>, <b>600</b><i>e </i>(to be used for re-key operations only), as well as an identical network encryption key (NEK) <b>602</b> and an associated encryption key select (EKS) <b>604</b> to be used for all other transactions within the logical network <b>580</b>).</p>
<p id="p-0182" num="0181">The value of the Encryption Key Select <b>604</b> is placed in the EKS field <b>192</b> of the frames in all transmissions between members of the logical network for which the Network Encryption Key <b>602</b> is applicable (as indicated in the figure by the arrows <b>1</b>, <b>2</b> and <b>3</b>), and the Network Encryption Key <b>602</b> is used to encrypt/decrypt all frames for those members.</p>
<p id="p-0183" num="0182">Thus, logical networking to ensure privacy is provided through encryption. Each logical network has its own default and network keys, providing separation of the information of one logical network from another. Because this mechanism uses the encryption capability incorporated in each station, every station has the ability to participate in any number of logical networks, limited only by the required storage of each logical network's default and network keys, and a mapping of the members of each logical network's set of member stations. For example, station <b>12</b><i>a </i>could also be a member station of the second logical network <b>582</b>, or station <b>12</b><i>d </i>could be a member of a third logical network (not shown) as well as the second logical network <b>582</b>. Consequently, a station may in fact store more than one Encryption Key Select and Network Encryption Key pair, that is, one for each logical network to which it belongs.</p>
<p id="p-0184" num="0183">The partial ARQ scheme allows one member of a multicast group to acknowledge a transmission (directed to the multicast group) as a proxy for the rest of the group. Partial ARQ does not guarantee delivery to a multicast group, but does provide an indication that the message was received by at least one multicast group member. MAC-level acknowledgments occur immediately following the frame to which they are responding without relinquishing the channel to new transmissions.</p>
<p id="p-0185" num="0184">One of the stations returning an updated channel map (in the Channel Estimation response during a Channel Estimation process) is selected to act as the multicast proxy. The selection may be random, but, preferably, it is based on channel map information (contained in the channel maps of the responses) that allows the transmitting station to identify the weakest path in the multicast transmission. By identifying a station that is the least likely to receive the transmission and selecting that station as the proxy, the partial ARQ mechanism is made all the more reliable. In one exemplary selection mechanism, the proxy may be selected by determining which responder station's channel map supports the lowest data rate, indicative of worst-case channel characteristics. Such selection can be made in various ways, for example, by comparing the actual data rates to determine the lowest data rate or, alternatively, by determining which channel map indicates the least number of bytes in a block (also indicative of the lowest date rate).</p>
<p id="p-0186" num="0185">The transmitter prepares a multicast frame by setting the DA field to the selected proxy station's address. It stores a multicast address representing the group of multicast addresses intended to receive the multicast frame or, alternatively, the individual addresses in the multicast group in the Multicast With Response MAC Management Entry <b>210</b>H, described above with reference to <figref idref="DRAWINGS">FIG. 17</figref>, and also sets the MCF <b>164</b> in the SC <b>106</b> (<figref idref="DRAWINGS">FIG. 7</figref>). The transmitter also sets the DT field in the frame's start and end delimiters with a value that indicates that a response is requested.</p>
<p id="p-0187" num="0186">The proxy station specified by the DA field provides an appropriate response type on behalf of the multicast group whenever it receives a frame with a DT requiring a response. Transmission of the Response begins after an RIFS period regardless of the busy state of the medium, as discussed above.</p>
<p id="p-0188" num="0187">Although the partial ARQ mechanism is described above as using an intended recipient of the multicast frame as the selected proxy, it need not be so limited. The proxy may be any device connected to the same medium as the intended recipients of the multicast frame, e.g., any station or a bridge connected to the medium.</p>
<p id="p-0189" num="0188">As earlier mentioned, the MAC protocol supports a bridging mechanism for use by a subnetwork (such as the power line network <b>10</b>, from <figref idref="DRAWINGS">FIG. 1</figref>) when the subnetwork needs to communicate with a station that is reached by a bridge. The bridging mechanism allows each bridge connected to the subnetwork to serve as a proxy for destination addresses that are accessed through the bridge.</p>
<p id="p-0190" num="0189">Referring to <figref idref="DRAWINGS">FIG. 32</figref>, a network <b>620</b> includes first and second subnetworks <b>622</b>, <b>624</b>, which are based on reliable media (those with very low bit error rates) and thus referred to as “reliable” subnetworks, and a third subnetwork <b>626</b>, which is based on a noisy medium (one having a relatively high bit error rate), and referred to herein as an “unreliable” subnetwork. Examples of reliable media include conventional Ethernet and Fiber-Optic cabling technologies. Examples of noisy media include power lines and wireless media, such as RF. The network <b>620</b> further includes bridges <b>628</b> (B<b>1</b>) and <b>630</b> (B<b>2</b>) for connecting the subnetworks <b>622</b>, <b>624</b> and <b>626</b>. The first reliable subnetwork <b>622</b> includes stations <b>632</b><i>a </i>(R<b>1</b>) and <b>632</b><i>b </i>(R<b>2</b>), which are connected to a first reliable medium <b>634</b>. The second reliable subnetwork <b>624</b> includes stations <b>636</b><i>a </i>(R<b>3</b>) and <b>636</b><i>b </i>(R<b>4</b>), which are connected to a second reliable medium <b>638</b>, which may or may not be the same type of medium as medium <b>634</b>. The unreliable subnetwork <b>626</b> includes stations <b>640</b><i>a </i>(U<b>1</b>) and <b>640</b><i>b </i>(U<b>2</b>), which are connected to a noisy or unreliable medium, such as a power line <b>642</b>. The bridge <b>628</b> (B<b>1</b>) is connected to first reliable medium <b>634</b> (at port A) and the unreliable medium <b>642</b> (at port B). The bridge <b>630</b> (B<b>2</b>) is connected to the unreliable medium <b>642</b> (port A) and the second reliable medium <b>638</b> (port B). The bridges <b>628</b>, <b>630</b> each support bridge functionality that includes, but is not limited to, a learning bridge unit shown as learning bridge processes <b>644</b> and <b>646</b>, respectively. Each of the stations and bridges includes at least one MAC device. Stations <b>632</b><i>a</i>, <b>632</b><i>b</i>, bridge <b>628</b> and stations <b>636</b><i>a</i>, <b>636</b><i>b</i>, and bridge <b>630</b> include an appropriate type of conventional MAC device, MAC devices <b>648</b><i>a</i>, <b>648</b><i>b</i>, <b>648</b><i>c</i>, <b>650</b><i>a</i>, <b>650</b><i>b </i>and <b>650</b><i>c</i>, respectively, for supporting the reliable medium to which they are attached. For supporting operations on the unreliable medium, in particular, a source-aware bridging proxy function (as will be described), the bridges <b>628</b>, <b>630</b> and the stations <b>640</b><i>a</i>, <b>640</b><i>b </i>include source-aware MAC devices <b>652</b><i>a</i>, <b>652</b><i>b</i>, <b>652</b><i>c </i>and <b>652</b><i>d</i>, respectively. The source-aware MACs <b>652</b>, that is, those MACs that participate in source-aware bridging, are required to know that a particular destination address is reached through a bridge (in this case, one of the bridges <b>628</b> or <b>630</b>).</p>
<p id="p-0191" num="0190">Each such source-aware MAC has the capability to allow the bridge (or device acting as a bridge) to serve as a proxy for the destination. By acting as a proxy for a destination address, the bridge accepts responsibility for forwarding packets to that destination and participates in the ARQ scheme directly as an individual address (when necessary).</p>
<p id="p-0192" num="0191">The stations U<b>1</b>, U<b>2</b> (as well as bridges B<b>1</b> and B<b>2</b>) are made aware of the need to use a bridge proxy through the same channel estimation process that is required for all stations to acquire Channel Map indexes. If the Channel Estimation Response MAC Management entry <b>210</b>B (<figref idref="DRAWINGS">FIG. 12B</figref>) received from either of bridges <b>628</b>, <b>630</b> has the Bridge Proxy bit <b>236</b> set, the receiving device understands that that bridge is enabled and forwarding to one or more addresses on another subnetwork. The receiving device associates that bridge's Source Address, which is identified in the SA field, with the CMI (along with the VT, RATE and MOD fields), as it would for any other station on the network. The receiver also associates this same information with each Bridged Destination Address (BDA) <b>246</b> in the Channel Estimation Response MAC Management entry <b>210</b>B. The BP flag <b>236</b> indicates that the BDA <b>246</b> is accessed via the bridge's Source Address. In this manner, each station is able to construct a first data structure in the form of a first list, referred to herein as a BPDAlist, that maps each bridge's SA to one or more BDA. Each bridge constructs and maintains a second data structure or list that is its own list of each DA for which it serves as proxy (“I am Proxy” list, or, IAPlist).</p>
<p id="p-0193" num="0192">Subsequent transmission through the bridge proxy to a DA in the BPDAlist, once established, is accomplished by sending a frame having MAC Management Information field entry of the Replace Bridge Address type. An MSDU addressed to a Destination Address for which a Bridge Proxy is active is transmitted with the Frame Header Destination Address <b>108</b> (<figref idref="DRAWINGS">FIG. 3</figref>) set to the bridge's address. The Frame Header Source Address <b>110</b> (<figref idref="DRAWINGS">FIG. 3</figref>) is the address of the transmitting station. The Replace Bridge Address MAC Management Information Entry includes the Original Destination Address (ODA) and Original Source Address (OSA), thus allowing the bridge to reconstruct the original MSDU for transmission.</p>
<p id="p-0194" num="0193">The network <b>620</b> in a configured state is shown in <figref idref="DRAWINGS">FIG. 33</figref> as configured network <b>620</b>′. In the configured state, the learning bridge processes <b>644</b>, <b>646</b> maintain per-port learned addresses lists <b>660</b>, <b>662</b>, respectively, for all of the stations. Thus, B<b>1</b> maintains the station/port list <b>660</b> to include, for port A, the stations R<b>1</b> and R<b>2</b>, and, for the port B, the stations U<b>1</b>, U<b>2</b>, R<b>3</b> and R<b>4</b>. The bridge B<b>2</b> maintains the station/port list <b>662</b> to include U<b>1</b>, U<b>2</b>, R<b>1</b> and R<b>2</b> for port A, and R<b>3</b> and R<b>4</b> for port B. The bridge source aware MACs <b>652</b><i>a </i>and <b>652</b><i>b </i>maintain IAPlists <b>664</b><i>a </i>and <b>664</b><i>b</i>, respectively, which include addresses for which those bridges serve as proxy. The IAPlist <b>664</b><i>a </i>includes addresses of R<b>1</b> and R<b>2</b> and the IAPlist <b>664</b><i>b </i>includes the addresses of R<b>3</b> and R<b>4</b>. The IAPlist addresses are passed to the source aware MAC by the LLC (in a local management entry) or are learned (via the learning bridge process, which provides the addresses to the source-aware MAC, or when the MAC receives from the LLC a frame with a SA that is not its own). A source aware MAC function IAP(SA) adds these addresses to the IAPlist.</p>
<p id="p-0195" num="0194">Additionally, the stations <b>640</b><i>a </i>and <b>640</b><i>b </i>each maintain learned or received BPDA information in a respective Bridge Proxy DA list (BPDAlist) <b>666</b>. Since two bridges are connected to the subnetwork <b>626</b>, each of those bridges (bridges <b>628</b> and <b>630</b>) must also maintain a bridge proxy list for the destination addresses reached through the other bridge. Consequently, bridges <b>628</b> and <b>630</b> maintain BPDAlists <b>668</b><i>a </i>and <b>668</b><i>b</i>, respectively. They receive this list over the channel in a MAC management entry—i.e., a channel estimation response MAC management entry from a bridge—or from the host (local MAC management entry). The list can be a list of pairs of addresses including a destination address (DA) and the bridge proxy's DA (BPDA) associated with the DA, or, alternatively, a list of DA's associated with each BPDA. The BPDAlist can be learned when bridged frames are received from a particular SA where the SA and the OSA do not match. They are stored by a RecordBPDA(OSA,SA) function that stores the OSA,SA address pair in the BPDAlist as DA and BPDA, respectively. Local MAC management get/set primitives are used to support the LLC (and upper layers) in storing and providing the station with the BPDAlist.</p>
<p id="p-0196" num="0195">Referring to <figref idref="DRAWINGS">FIG. 34</figref>, a source-aware MAC TX process for self-configuring a device (such as U<b>1</b>, U<b>2</b>, B<b>1</b> or B<b>2</b>) in a source-aware bridging network (network <b>620</b>) <b>700</b> is shown. The process <b>700</b> starts with the receipt of a frame by the source aware MAC <b>652</b> in the device from the LLC (step <b>702</b>). The frame may be intended for transmission to a destination device or as a management frame for the MAC itself. The process determines if the SA identified by the frame matches the MAC's own SA (MyAddr) (step <b>704</b>). If there is a SA match, the process determines whether the DA identified by the frame matches the MAC's own DA (MyAddr) (step <b>706</b>). If there is a DA match as well, the frame is being passed to the MAC itself and is not intended for transmission on the medium. The process determines if a MAC management entry is present in the frame (step <b>708</b>). If the frame includes a MAC management entry containing information intended for local use, the process invokes the RecordIAP to store an IAP list if such a list is present in the entry (step <b>708</b>). If the frame does not include a MAC management entry (as determined at step <b>708</b>), the process discards the frame (step <b>712</b>) and returns to an idle state (step <b>714</b>).</p>
<p id="p-0197" num="0196">If, at step <b>706</b>, it is determined that the DA in the frame is not equal to the MAC local address (as is normally the case for a frame that is to be transmitted), the process determines if the DA is known to be bridged (step <b>716</b>), that is, associated with a bridge (through which it is accessed) in the station's BPDA list from a previous RecordBPDA function (as discussed above and described in greater detail with reference to <figref idref="DRAWINGS">FIG. 36</figref>). If the DA is known to be bridged, the process performs a SubstituteBPDA function (step <b>718</b>) by replacing the frame's DA with the DA of the associated bridge in the frame's DA field, and placing the frame's original DA and SA in the ODA and OSA fields, respectively, in the Replace Bridge Address MAC Management Entry <b>210</b>F (from <figref idref="DRAWINGS">FIG. 15</figref>). The process directs the frame to a process of preparing the frame for transmission (step <b>720</b>).</p>
<p id="p-0198" num="0197">If the DA is not known to be bridged at step <b>716</b>, and in fact is known not to be bridged at step <b>722</b>, the process directs the frame to transmission preparation (step <b>720</b>) without the bridge address processing. If the DA is not known (at step <b>722</b>), the SubstituteBPDA function is executed with the DA set to the broadcast address (step <b>724</b>), and the process proceeds to step <b>720</b>.</p>
<p id="p-0199" num="0198">Referring back to step <b>704</b>, if the frame's SA does not equal the station's address (MyAddr), the device performing the process is a bridge and the processing continues as follows. The process determines if the DA is known to be bridged (by a previous RecordBPDA function, channel map response, or local management ‘set’ primitive) (step <b>726</b>). If the DA is known to be bridged, the process performs the SubstituteBPDA function, performs the IAP(SA) function (as earlier described), and replaces the SA with MyAddr (step <b>728</b>) prior to preparing the frame for transmission at step <b>720</b>. Otherwise, and if the DA is known not to be bridged (i.e., a channel map exists for the DA or other indication) (step <b>730</b>), the process performs the SubstituteBPDA function without changing DA, performs the IAP(SA) function and replaces SA with MyAddr (step <b>732</b>) before preparing the frame for transmission at step <b>720</b>.</p>
<p id="p-0200" num="0199">If the DA is not known (from the determination at step <b>730</b>), the process performs the SubstituteBPDA function with DA set to the broadcast address and performs the IAP(SA) function, as well as replaces SA with MyAddr (step <b>734</b>) before preparing the frame for transmission at step <b>720</b>.</p>
<p id="p-0201" num="0200">Referring to <figref idref="DRAWINGS">FIG. 35</figref>, the transmission frame preparation process <b>720</b> is shown. Preferably, this process is executed after the auto-configuration for source-aware bridging of <figref idref="DRAWINGS">FIG. 34</figref>. By ordering the processing in this fashion, improved reliability for broadcast and multicast packets through the use of Partial ARQ is maintained. First, the process <b>720</b> determines whether the DA is a multicast address (step <b>740</b>). If the DA is not a multicast address, the process determines if a channel map exists for the DA (step <b>742</b>). If a channel map exists for the DA, the process directs the frame to be encrypted and transmitted according to the channel access procedure (step <b>744</b>). If the process determines that a channel map does not exist for the DA at step <b>742</b>, the process causes a Channel Estimation Request MAC Management Entry to be added to the frame (step <b>746</b>) before encryption and transmission at step <b>744</b>. If the DA is determined to be multicast at step <b>740</b>, the process determines if any valid channel maps exist (step <b>748</b>). If no valid channel maps exist, the Partial ARQ process cannot be executed, and the frame is simply encrypted and transmitted at step <b>744</b>. If a valid channel map exists at step <b>748</b>, the Partial ARQ process is executed by a SubstituteMWR function. The SubstituteMWR function copies the DA to the Multicast With Response Management Entry, replaces the DA with a DA for which a valid channel map exists, and sets the Multicast Flag (step <b>750</b>).</p>
<p id="p-0202" num="0201">Referring to <figref idref="DRAWINGS">FIG. 36</figref>, a source-aware MAC RX process for self-configuring, source-aware bridging on receive (that is, as frames are received by the MAC unit from the medium) <b>760</b> is shown. Processing occurs in the reverse order from the transmission processing described above with reference to <figref idref="DRAWINGS">FIGS. 34-35</figref>. That is, partial ARQ processing is followed by bridge proxy data processing. The process <b>760</b> receives a frame from the medium <b>762</b>. The process determines if the Multicast Flag is set to one or the DA is a multicast address, i.e., address MSB=1 (step <b>764</b>). If the process determines that neither the MCF is set nor the DA is multicast, the process determines if the DA is equal to MyAddr (step <b>766</b>). If the DA is not equal to MyAddr at <b>766</b>, the frame is discarded (step <b>768</b>) and the process returns to an idle state (step <b>770</b>). Otherwise, that is, if either the MCF is set or the address is a multicast address, or DA is equal to MyAddr, the process causes the frame to be reassembled (if appropriate) and decrypted to extract any MAC Management Entries that might be present (step <b>772</b>). If a Channel Estimation Request MAC Management Entry is present in the frame, the process <b>760</b> processes the request by preparing a Channel Estimation Response that includes the BPDA list taken from the bridge's IAP list if such list exists (step <b>774</b>). The process determines if a MWR Management Entry is present in the frame (step <b>776</b>). If so, the DA is replaced with the DA contained in the entry and the management header is removed (step <b>778</b>). If an MWR entry is not present, the process determines if a Replace Bridge Address entry is present in the frame (step <b>780</b>). If the process determines the presence of the RBA entry in the frame, it performs a RecordBPDA(OSA, SA) function to add this pair of addresses to the station's BPDAlist (if OSA and SA are different), and the DA and SA are restored from the ODA and OSA (step <b>782</b>). Once the process removes any management entries from the frame and passes the frame to the LLC for delivery to the host (step <b>784</b>), it returns to the idle state (step <b>770</b>).</p>
<p id="p-0203" num="0202">As shown in <figref idref="DRAWINGS">FIG. 32</figref>, the bridges B<b>1</b> and B<b>2</b> include a learning bridge process coupled to a source aware MAC on the port connected to the unreliable network. The learning bridge process is “IAP aware” and is thus able to pass the list of forwarding addresses to the IAP function of the unreliable MAC for storing in the IAPlist.</p>
<p id="p-0204" num="0203">Although the bridges B<b>1</b>, B<b>2</b> use a learning bridge function with IAP awareness, other embodiments are contemplated. For example, the bridges B<b>1</b>, B<b>2</b> may be implemented with a standard, commercially-available bridge chip (typically having built-in Ethernet MACs <b>648</b> for each port) and an external source-aware MAC <b>532</b> connected to at least one port so that the use of the source-aware bridging on that at least one port is hidden from the learning bridge process. In such an implementation, although the bridge is not IAP aware and is therefore unequipped to pass IAP list information to the source-aware MAC, the source-aware MAC supports other mechanisms that can be used to generate and maintain the IAPlist, e.g., MAC management entries or other source-aware MAC learning mechanisms, as discussed earlier.</p>
<p id="p-0205" num="0204">Referring again to <figref idref="DRAWINGS">FIGS. 32-33</figref>, although the device <b>628</b> and <b>630</b> are shown and described as stand-alone bridges, they could be implemented as stations (with or connected to hosts). If implemented as a station, the bridge device <b>628</b> would be viewed as a station on both of the subnetworks <b>622</b> and <b>626</b>. Likewise, if the bridge device <b>630</b> were to be implemented as a station, it would be considered a station on both of the subnetworks <b>626</b> and <b>624</b>. The control structures and operations related to the bridging mechanism would be modified as appropriate. For example, the station/port list <b>660</b> would be expanded to include, for port B, the device <b>630</b> (B<b>2</b>), and, the station/port list <b>662</b> would be similarly adapted to include, for port A, the device <b>628</b> (B<b>1</b>).</p>
<p id="p-0206" num="0205">As indicated earlier, the use of the contention-free access mechanism enables a single station to control access to the medium. Additionally, the contention-free access mechanism allows a station to act as a network controller. Referring to <figref idref="DRAWINGS">FIG. 37</figref>, a multi-node network <b>700</b> capable of supporting periodic contention-free intervals (sessions) for guaranteed quality traffic as well as contention-oriented access is shown. The network <b>700</b> includes a station designated as a master <b>702</b> and stations <b>704</b><i>a</i>, <b>704</b><i>b </i>(shown as first and second slaves, respectively) connected to a shared physical medium <b>706</b>. Typically, the selection of the master <b>702</b> is made by a network administrator (not shown), or is device or product specific. The stations <b>702</b>, <b>704</b><i>a </i>and <b>704</b><i>b </i>include hosts <b>708</b><i>a</i>, <b>708</b><i>b</i>, <b>708</b><i>c</i>, respectively, MAC layers <b>710</b><i>a</i>, <b>710</b><i>b</i>, <b>710</b><i>c</i>, respectively, and PHY layers <b>712</b><i>a</i>, <b>712</b><i>b</i>, <b>712</b><i>c</i>, respectively. Each host <b>708</b> is coupled to the MAC layer <b>710</b>, which is also coupled to the PHY layer <b>712</b>. Preferably, the MAC layer <b>710</b> operates in the same manner and thus includes the functionality of the MAC unit <b>18</b> (<figref idref="DRAWINGS">FIG. 1</figref>). Likewise, the PHY layer <b>712</b> preferably includes at least the functionality of the PHY unit <b>22</b> (also from <figref idref="DRAWINGS">FIG. 1</figref>) and the medium <b>706</b> is a power line. However, other types of media could be used. The host <b>708</b> is intended to represent at least one or more networking software components operating above the MAC sublayer <b>710</b>.</p>
<p id="p-0207" num="0206">A connection between the master <b>702</b> and any one or more of slaves <b>704</b><i>a</i>, <b>704</b><i>b </i>that wish to participate in a session of contention-free intervals is established and maintained through an exchange of Connection Control messages <b>714</b> between master and slave hosts (that is, host <b>708</b><i>a </i>and host <b>708</b><i>b</i>, and <b>708</b><i>a </i>and <b>708</b><i>c</i>, if both slaves are to be members of the session) using normal contention-based access prior to the contention-free session. Stations are added to and removed from the session using the same mechanism, that is, using the Connection Control messages <b>714</b>, which are delivered outside of the contention-free intervals during the session for these purposes. The host <b>708</b> communicates the details of the connection (once established or as subsequently modified) by sending Set Connection and Use Connection messages <b>716</b> to that station's MAC <b>710</b>.</p>
<p id="p-0208" num="0207">The Connection Control messages <b>14</b> involving master/slave communications include the following primitives: MASTER_SLAVE_CONNECTION.Request (Req)/Confirm (Conf); SLAVE_MASTER_CONNECTION.Req/Conf; MASTER_SLAVE_RECONFIGURE.Req/Conf; and SLAVE_MASTER_RECONFIGURE.Req/Conf. Each of these primitives includes the following parameters: Period; Frame Length; Minimum Frame Time; Maximum Frame Time; Start Time; Connection Duration; Connection Number; and Last Contention-Free Frame (CFF). The Period defines the time from the start of one contention interval to the start of the next contention-free interval. The Frame Length defines (in number of bytes) the average frame length to be transmitted during each interval. The Minimum Frame Time and the Maximum Frame Time define the minimum and maximum durations of a frame (plus associated response), respectively. The Start Time specifies the approximate first time participation in (or start of) the contention-free interval. The Connection Duration specifies the duration of the connection (in seconds). A value of 0 indicates that the connection is cancelled, while a MaxValue indicates that the connection is good until canceled). The Connection Number is the connection number assigned to a particular station-to-station (that is, master-to-slave) connection. The Last CFF indicates that the slave station (receiving this parameter) is to transmit the last frame in the next contention-free interval and should set the CC field in that frame to a zero value (and thus signal the end of that particular contention-free interval to all stations in the network). The master controls the setting of the Connection Control message parameters, so a slave making a request (.req message) sends requested values to the master. The confirm response from the slave simply confirms the values returned by the master if those values are acceptable.</p>
<p id="p-0209" num="0208">An exemplary connection control message exchange between a master and slave is as follows. A handset station (slave) initiating a telephone call sends a message to a base station (master) requesting a call setup (Connection Request). The master responds with a message that indicates timing and other information required for the connection to be established and maintained.</p>
<p id="p-0210" num="0209">In addition to the connection control message parameters discussed, any requests or responses concerning channel maps for a new connection are delivered prior to the start of the first contention-free interval (in which the connection is to participate) using contention-based access. All other messages pertaining to the maintenance of or changes to the connection are also exchanged outside of the contention-free intervals.</p>
<p id="p-0211" num="0210">Still referring to <figref idref="DRAWINGS">FIG. 37</figref>, the master <b>700</b> can pass master control to another station (the “new” master), for example, a station that has been acting as a slave (like one of stations <b>704</b>) or a station that has not been acting as a slave (not shown). It will be appreciated that the network <b>700</b> may be partitioned into logical networks with each logical network having a designated master, for example, the master <b>700</b> being designated a first master in one logical network (and acting as master) and the station <b>704</b><i>b </i>being designated a second master in another logical network, and for master/session control to be passed from the master <b>700</b> to the other (new) master <b>704</b><i>b</i>. To that end, the connection control messages <b>714</b> also include messages for passing master and session control information from the master to a new master. These messages are in the form of MASTER_MASTER_CONTROL_TRANSFER.Request and MASTER_MASTER_CONTROL_TRANSFER.Confirm messages for conveying the following parameters: Period, Frame Length, Min Frame Time, Max Frame Time, Start Time, Session Duration, Connection Number and Requested Interval Length. The Period defines the time from the start of one contention-free interval to the next contention-free interval. The Session Duration defines the length of the session (for the master that is taking session control) in seconds. The Requested Interval Length specifies the total length (in milliseconds) of the requested contention-free interval. The Connection Number is the unique number assigned to the master-to-new_master connection. The logical networks' respective designated masters <b>702</b>, <b>704</b><i>b </i>are thus able to pass control back and forth between them for a smooth transition between sessions of the logical networks.</p>
<p id="p-0212" num="0211">Referring to <figref idref="DRAWINGS">FIG. 38</figref>, an exemplary contention-free session <b>720</b> of contention-free intervals <b>722</b> is shown. The contention-free intervals <b>722</b> occur periodically on a fixed time interval <b>724</b> (specified as the Period in the Connection Control Messages <b>714</b>). Preferably, the contention-free interval is restricted to some portion of the overall Period or cycle, such as 50%, so that other stations have an opportunity to contend for the medium during normal contention-oriented intervals <b>725</b> (shown as shaded in the figure, as the intervals <b>725</b> are not part of the session <b>720</b>). A session interval <b>726</b> is the duration of the session <b>720</b>. It may be of a fixed duration (as shown) or last for as long as the session is needed. Typically, the session is established by the master at the time that the master becomes aware of the need for a session (for example, when a first connection request is received). Other connections may be added to an already established session or connections participating in the session may be removed from the session (at such time as those connections are terminated). In the example shown in <figref idref="DRAWINGS">FIG. 38</figref>, it is assumed that the host became aware of requests from both slaves stations <b>704</b><i>a</i>, <b>704</b><i>b </i>at approximately the same time and, therefore, the session <b>720</b> was established at the time those connections were established.</p>
<p id="p-0213" num="0212">Still referring to <figref idref="DRAWINGS">FIG. 38</figref>, each contention-free interval <b>722</b> is divided into frame time slots <b>727</b>, and each frame time slot <b>727</b> is either allocated to downstream traffic (from the master), that is, slots <b>727</b><i>a</i>, <b>727</b><i>b</i>, or upstream traffic (from a slave), slots <b>727</b><i>c</i>, <b>727</b><i>d</i>. In the configuration shown, the master sends one of its own frames in a downstream traffic slot (for example, sends a frame in slot <b>727</b><i>a</i>, which is immediately followed by the upstream traffic slot allocated to a slave participating in the contention-free interval <b>722</b> (again, using the illustrated example, slot <b>727</b><i>c</i>, used by slave <b>1</b>. To initiate contention-free access for each of the member slave stations <b>1</b> and <b>2</b>, the contention-free interval begins with the master queuing a frame for immediate delivery and transmitting to the slave station <b>704</b><i>a </i>a first downstream frame <b>727</b><i>a </i>having the CAP=3 and the CC=1. Once the downstream frame <b>727</b><i>a </i>has been received by the slave <b>704</b><i>a </i>and the slave <b>704</b><i>a </i>determines that the transmission of downstream traffic has completed, the slave <b>704</b><i>a </i>transmits an upstream frame <b>727</b><i>c </i>(which was already queued by that slave's host). The slave station <b>704</b><i>a </i>determines that it should transmit a queued frame when a last (or only) segment is received and meets certain conditions, that is, has a SA matching that of the master, CAP=3, CC=1 and a CN that matches the assigned connection number.</p>
<p id="p-0214" num="0213">Still referring to <figref idref="DRAWINGS">FIG. 38</figref>, the master continues transmitting additional contention-free frames (if there are other slaves participating in the session) after receipt of the expected frame from the slave <b>1</b>, or after a predetermined transmit time if no frame is received (i.e., either the downstream or upstream frame failed due to poor channel conditions). In the example shown, the master transmits downstream traffic in a second downstream traffic slot <b>727</b><i>b</i>, thus causing the slave station <b>704</b><i>b </i>to transmit upstream traffic during the fourth slot, or second upstream traffic slot <b>727</b><i>d </i>(when the SA, CAP, CC and CN field settings in the downstream frame so indicate). In this manner, therefore, the downstream traffic of the master is able to effect a polling mechanism.</p>
<p id="p-0215" num="0214">The contention free interval <b>722</b> is terminated by setting CC=0 in the last frame. A station has knowledge that a particular frame is the last from the Last CFF field in the Connection Control information exchanged (between hosts) during setup and maintenance of the connection.</p>
<p id="p-0216" num="0215">Thus, it can be seen from <figref idref="DRAWINGS">FIG. 38</figref> that a contention-free intervals session <b>726</b> can be employed by a CSMA network (such as network <b>10</b> in <figref idref="DRAWINGS">FIG. 1</figref>) to alternate between distributed media access control (such as CSMA) achieved during the contention-oriented intervals <b>725</b> and centralized media access control (like TDMA) of the contention-free intervals <b>722</b> for different levels of QoS.</p>
<p id="p-0217" num="0216">Each station's MAC layer is set up to transmit frames at the appropriate time by the Connection Control messages <b>714</b> exchanged by hosts and the Set Connection MAC management messages <b>716</b> (<figref idref="DRAWINGS">FIG. 37</figref>) provided by the host to the MAC layer. The Set and Use Connection messages <b>716</b> are delivered to the MAC in MAC management information entries. Referring to <figref idref="DRAWINGS">FIG. 39A</figref> and <figref idref="DRAWINGS">FIG. 39B</figref>, a Set Connection MAC management data entry <b>740</b> and a Use Connection MAC management data entry <b>742</b>, respectively, are shown. Referring to <figref idref="DRAWINGS">FIG. 39A</figref>, the Set Connection data entry <b>740</b> includes a Connection Number field <b>744</b> for identifying the connection number assigned to a particular connection and a Master field <b>746</b> for indicating if a station is acting as Master or Slave for the connection identified by the Connection Number field <b>744</b>. If set, the Master field <b>746</b> indicates that the station is acting as Master. The entry <b>740</b> further includes an SA field <b>748</b> and an SA Frame Size field <b>750</b>. The SA field <b>748</b> provides the address of the station that will cause transmission of a frame (of length specified by the SA Frame Size field <b>750</b>) queued for the identified connection. When a queued frame is the first frame to be transmitted during a given contention-free interval, the SA Frame Size field <b>750</b> is set to zero and the SA field <b>748</b> is ignored. If the Master field <b>746</b> is set and a queued frame is not the first frame to be transmitted during a given contention-free interval, the master uses the length given by the SA Frame Size field <b>750</b> (in conjunction with the channel map for the identified SA) to set a Transmit Timer for measuring the time interval between the end of the previous transmission and the beginning of the transmission of the queued frame. When the Transmit Timer expires, a queued frame is transmitted as soon as the medium becomes idle. The Transmit Timer value is used to continue the contention free interval when an upstream frame fails (e.g., is corrupted or not transmitted). Preferably, the Transmit Timer value is approximately equal to the duration of the expected upstream frame so that additional jitter is not introduced for the following traffic in the contention free interval, and can be estimated from the latest channel map from the slave with knowledge of the average frame length. It should be noted that the EIFS must be defined to be longer than the longest gap that could occur when an upstream frame is missed so that these potential gaps do not cause other stations to disrupt the contention free interval, particularly when stations hear traffic using CAP=3 and CC=1. It may be desirable to use two different values of EIFS, a longer EIFS (as earlier defined) when delimiters with CAP=3 and CC=1 are detected, and, otherwise, a shorter EIFS that is optimized for contention-based traffic.</p>
<p id="p-0218" num="0217">Still referring to <figref idref="DRAWINGS">FIG. 39A</figref>, the entry <b>740</b> also includes a TX Frame Size field <b>752</b>, a Minimum Frame Time <b>754</b> and a Maximum Frame Time <b>756</b>. The TX Frame Size field <b>752</b> specifies an average expected frame size (in bytes) and is used to create dummy frames of appropriate length as needed. Typically, a dummy frame is used to replace an actual frame to be delivered when that frame does not arrive at the MAC in time for transmission (either because of a delay in frame arrival or as a result of network jitter causing the transmission time to occur before a timely frame arrival). A dummy frame is approximately the same length as the normally transmitted frame and includes an indication (e.g., in a MAC management entry) that it is a dummy frame. The Minimum Frame Time <b>754</b> specifies a minimum duration of a frame (and any associated response, if expected). If the size of a frame based on the current channel map does not meet this minimum requirement, the frame is padded with an appropriate number of bits to meet this minimum value. The Maximum Frame Time <b>756</b> specifies a maximum duration of a frame. When the size of a frame based on the current channel map causes the frame to exceed this maximum requirement, the frame is truncated prior to transmission (or a dummy frame of appropriate length is sent) and a fail is indicated to the host). The purpose of the Minimum/Maximum Frame Time is to control jitter. Channel maps can be computed or optimized with the knowledge of these timing requirements and the average frame size.</p>
<p id="p-0219" num="0218">Also included in the Set Connection MAC management entry <b>740</b> are a Control field <b>758</b> and a FrameLife field <b>760</b>. The Control field <b>758</b> indicates to the station the passing of Master Control to another station (if the station is Master) or from another station (if the station is a Slave) for the connection identified by the connection number. The FrameLife field <b>760</b> specifies the frame timer value (FrmTimer, described earlier). When this timer value expires, a queued frame awaiting transmission is discarded.</p>
<p id="p-0220" num="0219">Referring to <figref idref="DRAWINGS">FIG. 39B</figref>, the Use Connection entry <b>742</b> includes a Connection Number field <b>762</b>, which specifies the same connection number as the like-named field in the Set Connection entry for the same connection. It is delivered to the MAC by the host with any data frame to be transmitted on the medium using that connection. The connection number is placed in the Connection Number field <b>162</b> of the Segment Control field <b>106</b> (of <figref idref="DRAWINGS">FIG. 7</figref>) when the data frame is prepared for transmission.</p>
<p id="p-0221" num="0220">Although not shown in <figref idref="DRAWINGS">FIG. 38</figref>, the master can use the contention-free interval (e.g., the contention-free interval <b>722</b>) to send multiple frames back-to-back during the contention free interval <b>722</b>. To use an upstream traffic slot for downstream traffic (in order to achieve back-to-back downstream traffic transmissions), the master would set the Connection Number field <b>162</b> in the Segment Control field <b>106</b> (shown in <figref idref="DRAWINGS">FIG. 7</figref>) in a downstream frame to some connection number other than that which is assigned to the master-to-slave connection between the master and the slave that would normally transit during the following slot. In other words, the master uses the CN field <b>162</b> to control whether or not the downstream traffic serves to poll a slave (and thus trigger an upstream frame in the next slot). Additionally, the master can send a dummy frame to the slave to initiate one-way, upstream traffic only, if desired. The master can pass master control to another station in a contention-free interval downstream slot (when the two stations have agreed upon the control passing in an exchange of Connection Control messages prior to the beginning of that contention-free interval, as described earlier) using the same mechanism, that is, setting SA to the master's SA, CAP=3, CC=1 and setting CN to the appropriate connection number. The station to whom master control is passed accepts the role as master upon correctly receiving this frame where SA matches the master SA, CAP=3, CC=1 and CN matches the assigned connection number. Control passing can occur dynamically between the contention-free intervals as well.</p>
<p id="p-0222" num="0221">If stations have different Network Encryption Keys, set-up and control-passing communications between hosts occurs with encryption disabled for the set-up and control messages (frames). No other information is included in these frames as encryption is disabled.</p>
<p id="p-0223" num="0222">Although the Connection Control messages have been described as including a Start Time, it will be appreciated that the Start Time could be eliminated as a Connection Control message parameter. The start time could be implied based on the assumption that the master and slave stations begin the first contention-free interval immediately upon agreement of connection parameters (via the exchange of Connection Control messages for connection set-up) and the use of the Transmit Timer and FrmTimer would allow the two stations to become fully synchronized thereafter.</p>
<p id="p-0224" num="0223">Although the Connection Control messages are exchanged between contention-free intervals (with CC=0), it is desirable to send the messages at the highest priority (CAP=3) so that they do no compete with the data traffic of other stations.</p>
<p id="p-0225" num="0224">Frame forwarding (or relaying) can increase overall network coverage, reliability and throughput for a noisy (wireless or wired) network. Thus, the MAC protocol of MAC unit <b>18</b> (<figref idref="DRAWINGS">FIG. 1</figref>) supports an efficient mechanism for forwarding frames through an intermediate station. The frame forwarding involves three of the stations <b>12</b>. Within the context of an exemplary frame forwarding activity, a first one of the stations (e.g., <b>12</b><i>a</i>) is a source station “A”, a second one of the stations (e.g., station <b>12</b><i>k</i>) is a destination station “B”, and a selected, third station (e.g., station <b>12</b><i>b</i>) is an intermediate (or forwarding) station “I”. In one frame-forwarding scenario, station A and station B cannot communicate with each other due to channel conditions (i.e., high attenuation and/or noise level), but station A can communicate with station I and station I can communicate with station B. In an alternative, rate-adaptive frame-forwarding scenario, station A can communicate with station B only at a relatively low data rate (e.g., using ROBO Mode), and throughput could be increased significantly by communicating with B through an intermediate station.</p>
<p id="p-0226" num="0225">Prior to communication with station B, station A learns how best to communicate with station B. This task is accomplished through a learning process whereby station A transmits to each station in the network a frame that includes the Connection Information Request MAC management entry <b>210</b>C (from <figref idref="DRAWINGS">FIG. 13A</figref>). This request solicits information from each of the stations <b>12</b> about that station's ability to communicate with station B. The request may be sent in a unicast frame transmission to each known station, or in a broadcast frame transmission to all stations that can hear station A. Each station that is aware that it can communicate with B responds by returning a frame that includes the Connection Information Response MAC management entry <b>210</b>D (from <figref idref="DRAWINGS">FIG. 13B</figref>). The Bytes field <b>249</b> in the entry <b>210</b>D includes the number of bytes per 40 symbol block to station B (based on the stored or recently requested and returned channel map to station B). (Alternatively, a responder station could return the capacity (in bytes) of a maximum length frame to station B.) Thus, the Bytes field <b>249</b> indicates the data rate for the connection of the responder station to station B. The response could include other pertinent information about that connection (e.g., a measure of connection quality or reliability, and/or an updated TX channel map for the station A if the frame that included the Connection Information Request also contained the Channel Estimation Request entry <b>210</b>A, (<figref idref="DRAWINGS">FIG. 12A</figref>)). After receiving the responses, the responder station that provided the highest capacity or throughput that meets connection quality or reliability requirements (based on the combination of both connections station A to the responder station and the responder station to station B) is selected as the intermediate station I.</p>
<p id="p-0227" num="0226">Because these channel information requests and responses do not contain sensitive information (that is, information that cannot be overheard by the other stations), they may be transmitted in cleartext to eliminate the need to exchange network encryption keys (if the keys are not already available) or reduce processing time. Preferably, the station A receives updates of the channel information for the I-to-B connection whenever the station B sends to the station I a new channel map that changes the Bytes value (i.e., bytes per 40 symbol block). The station A can manage the receipt of such updates or, as an option, the station I may be given the responsibility of updating the station A with new Connection Information Response. Station I is capable of handling this task if it made aware that it is forwarding traffic from the station A to the station B based on observation of the frame-forwarding traffic.</p>
<p id="p-0228" num="0227">Referring to <figref idref="DRAWINGS">FIG. 40</figref>, the station A delivers frames using acknowledged service to station B through station I according to the forwarding frame structure for frame forwarding with a response expected after both frames <b>800</b>. The forwarding frame structure <b>800</b> includes a first frame <b>802</b>, a first response (RESPONSE<b>1</b>) <b>804</b>, a second frame <b>806</b>, a second response (RESPONSE<b>2</b>) <b>808</b> and a third response (RESPONSE<b>3</b>) <b>810</b>. Each of the first frame <b>802</b> and second frame <b>806</b> includes an SOF delimiter, a first SOF delimiter (SOF<b>1</b>) <b>812</b> and a second SOF delimiter (SOF<b>2</b>) <b>814</b>, respectively. The frames <b>802</b>, <b>806</b> also include a frame payload (F<b>1</b>, F<b>2</b>) <b>816</b>, <b>818</b>, respectively. The frames <b>802</b>, <b>806</b> each further include an EOF delimiter, a first EOF delimiter (EOF<b>1</b>) <b>820</b> and a second EOF delimiter (EOF<b>2</b>) <b>822</b>, respectively. It will be understood that the SOF delimiters, EOF delimiters, payloads and response have the same structure defined for the SOF delimiter <b>92</b> (<figref idref="DRAWINGS">FIGS. 3 and 5A</figref>), the EOF delimiter <b>94</b> (<figref idref="DRAWINGS">FIGS. 3 and 5B</figref>), and the response <b>120</b> (<figref idref="DRAWINGS">FIGS. 4 and 6</figref>).</p>
<p id="p-0229" num="0228">With respect to the first frame <b>802</b>, the station A selects a maximum segment size based on the smaller of the maximum frame capacity based on the channel map to the station I and the byte capacity indicated in the response from the station I to assure the frame fits in a single segment for both frames (frame <b>802</b> and frame <b>806</b>) of the frame relay. In the frame header/body <b>816</b>, the SA is set to the address of station A, the DA is set to the address of station B, the FW <b>161</b> in the Segment Control field <b>106</b> is set to 0b10 or 0b11 (indicating the presence of an intermediate station address field IA <b>823</b>, that the frame is being sent to an intermediate station and the LSB of FW indicating the intended/original value of CC when the MSB of FW is 1) and the address field IA <b>823</b> is set to the address of station I. The DT in the SOF<b>1</b> delimiter <b>812</b> and the EOF<b>1</b> delimiter <b>820</b> is set to a value that indicates that a response expected and CC is set to indicate contention-free status. The value of CAP in the EOF<b>1</b> delimiter <b>820</b> is set to the channel access priority that is assigned to the frame (or, priority “P”). The RWRE field <b>145</b> in the EOF<b>1</b> delimiter is set to 0. When station I receives the frame <b>802</b>, it detects the FW field set to either 0b10 or 0b11 (indicating that the station I should check IA instead of DA for the destination address) and matches IA to its own address. If the SOF<b>1</b> indicates a response is expected (as it does in this example), the station I returns the response <b>804</b> using the value of CC and CAP contained in EOF<b>1</b> if returning an ACK. If the station I returns a NACK or FAIL, it uses the value of CC and CAP contained in Segment Control to indicate a failed forwarding attempt. If an ACK is to be returned, the station I sets FW to 0b01 (indicating the presence of address field IA and that the frame is being sent to a final station), re-computes the value of FCS, indicates if a response is expected in the SOF<b>2</b> <b>814</b> and EOF<b>2</b> <b>822</b> and sets the RWRE bit <b>145</b> in the EOF<b>2</b> <b>822</b> to indicate (for the benefit of the VCS of other stations) that a double response is expected. The CC fields in SOF<b>2</b> <b>814</b> and EOF<b>2</b> <b>822</b> are set to the value of CC received in FW (CC=LSB of FW) rather than the value received in the EOF<b>1</b> <b>820</b>. The CAP field <b>144</b> in the EOF<b>2</b> <b>822</b> is set to the value received in the Segment Control field <b>106</b>. The CMI field <b>142</b> and the FL field <b>140</b> in the SOF<b>2</b> <b>814</b> are set according to TX channel map for DA (station B) and the frame is transmitted using the TX channel map indicated in the CMI field <b>142</b>.</p>
<p id="p-0230" num="0229">The station B receives the second frame <b>806</b> from the station I and recognizes from the value of FW (FW=0b01) that the frame <b>806</b> has been forwarded. Since SOF<b>2</b> <b>814</b> indicates that a response is expected, the station B returns a response <b>808</b> indicating that another response is expected to follow (RWR type, DT=101). The response <b>808</b> includes the value of CC received in the SOF<b>2</b> <b>814</b> and the value of the CAP <b>144</b>, along with the RFCS <b>148</b> based on the FCS received in the frame <b>806</b>. The station I processes the response <b>808</b> and generates the third response <b>810</b> to the station A. The response <b>810</b> is of the same type (ACK, NACK or FAIL, except DT=0b100 instead of 0b101) and uses the values of CC, CAP and FCS (if the response is an ACK) received in frame from station A.</p>
<p id="p-0231" num="0230">The frame payload in each transmission is identical except for the FW field in Segment Control and the FCS. This minimizes the processing required by the MAC to prepare the frame for retransmission.</p>
<p id="p-0232" num="0231">With respect to <figref idref="DRAWINGS">FIG. 40</figref>, as well as FIGS. <b>41</b> and <b>43</b>-<b>45</b> to follow, the symbol “=” followed by “SOF<b>1</b>”, “SOF<b>2</b>”, “EOF<b>1</b>”, “EOF<b>2</b>”, “F<b>1</b>” or “F<b>2</b>” is used as a short-hand notation for “is assigned the value received in”. Additional short-hand notations and abbreviations not already mentioned above include: “LEN” for “length, “P” for original/intended channel access priority value associated with a frame and “C” for original/intended CC value associated with a frame. Thus, for example, “FL=Len F<b>1</b>” indicates that the field FL is equal to the length of frame F<b>1</b>, and “CAP=EOF<b>1</b>” indicates that CAP is assigned the value received in EOF<b>1</b>.</p>
<p id="p-0233" num="0232">Referring to <figref idref="DRAWINGS">FIG. 41</figref>, a frame forwarding structure for frame forwarding with no response expected <b>824</b> (i.e., broadcast) is shown. In this sequence, the SOF delimiter and EOF delimiter fields in both of the frames <b>802</b>, <b>806</b> are set to indicate that response is not expected. That is, the DT field in SOF<b>1</b> <b>812</b>, SOF<b>2</b> <b>814</b> is set to a value of 000 and the DT field in the EOF<b>1</b> <b>820</b>, EOF<b>2</b> <b>822</b> is set to a value of 010. All other field settings are the same as they were for the frames <b>802</b>, <b>806</b> in the frame forwarding structure shown in <figref idref="DRAWINGS">FIG. 40</figref>.</p>
<p id="p-0234" num="0233">Frequent interruptions may occur during periods of heavy, higher-priority traffic. To prevent other traffic from interrupting during frame forwarding, station A can indicate CAP=3 in the EOF<b>1</b> <b>820</b> of the frame <b>802</b> to station I, which then uses that CAP value in its response, the response <b>804</b>. Contention by station A for the medium is based on the actual CAP and CC of the first frame <b>802</b> (including signaling in the PRP <b>284</b> and decision to interrupt other transmissions). Station I contends based on CAP=3 and CC=1 (which always wins since contention-free was indicated in the first frame). The actual CAP of the frame from station I is restored in EOF<b>2</b> and the following responses since the original value is sent in Segment Control of both frames. When this technique is used, that is, if the frame has a CAP less than 3 or CC=0, the originating station selects the maximum segment size (in bytes) to ensure that the total time for all frames in the forwarding transmission is less than the maximum allowed frame length (in time) to control latency for higher priority traffic. This can be determined from the information contained in the TX channel map (station A to I) and the Connection Information Response received from station I.</p>
<p id="p-0235" num="0234">Other embodiments of the frame forwarding mechanism are contemplated. For example, and with reference to <figref idref="DRAWINGS">FIGS. 42-45</figref>, a frame forwarding structure for frame forwarding with reduced-overhead is achieved by eliminating each of the EOF delimiters <b>820</b>, <b>822</b> and modifying each of the SOF delimiters <b>812</b>, <b>814</b> to convey information that had been present in the EOF delimiters. Referring to <figref idref="DRAWINGS">FIG. 42</figref>, the SOF delimiter frame control field <b>98</b> (<figref idref="DRAWINGS">FIG. 98</figref>) can be modified by shortening each of the FL and FCCS fields (fields <b>140</b> and <b>136</b>, respectively) by 2 bits to make 4 bits available for use, and using those available 4 bits to add an SOF CAP field <b>830</b> (2 bits), a 1-bit EOFP field <b>832</b> for indicating, when set, the presence of an EOF in the frame and a 1-bit SOF RWRE (Response with Response Expected) field <b>834</b>, which, when set, indicates that two responses are to follow.</p>
<p id="p-0236" num="0235">In this reduced-overhead scheme, and referring to <figref idref="DRAWINGS">FIG. 43</figref>, a frame structure for frame forwarding with response only after the last frame <b>836</b> is shown. The station A sends a frame in which the SOF delimiter indicates that a response is expected, and has the following settings: CAP=3, CC=1, EOFP=0, RWRE=1 and DT for response expected. The settings indicate that the first frame <b>802</b> is to be forwarded with the second frame <b>806</b> that is sent in place of the response to the first frame <b>802</b> (if an ACK would otherwise be returned), no PRP is to occur after the first frame and two responses (the RWR responses <b>808</b> and <b>810</b>) are expected at the end of the second frame <b>806</b>. The FW in the Segment Control <b>106</b> of the first frame <b>802</b> is set to 0b01 or 0b11 based on the value of CC for the first frame <b>802</b>. No stations can interrupt the transmission of the second frame <b>806</b> as CAP=3 and CC=1 and there is no PRP present. If the station I receives the first frame <b>802</b> correctly and would otherwise send an ACK, the station I sets the SOF<b>2</b> delimiter <b>814</b> to indicate that no response is expected and RWRE=1 (thus conveying that two responses will follow the second frame. The second frame <b>806</b> also uses the CAP and CC values received the Segment Control field <b>106</b> in the first frame <b>802</b>, and sets the EOFP=0 and FW=b01. The station I re-computes the FCS and sets the SOF<b>2</b> to indicate that no response is expected before it transmits the second frame <b>806</b>. The station A detects the SOF<b>2</b> <b>814</b> of the second frame <b>806</b> transmitted by the station I and infers an ACK. The station B returns the first of the two RWR responses, i.e., the response <b>808</b>, with CC set to the value received in the SOF<b>2</b> delimiter <b>814</b>, and CAP and RFCS set to the values received in the second frame <b>806</b>. The station I returns the second of the two RWR responses, that is, the final response <b>810</b>, in which the CAP, CC and RFCS values are the same as the values received in the first frame <b>802</b>. To control latency, the overall transmission time including the responses <b>808</b>, <b>810</b> is limited to the maximum allowed frame length (in time). Note that there is no PRP between the frames since a response is expected and the second frame is substituted in the place of the response.</p>
<p id="p-0237" num="0236">Referring to <figref idref="DRAWINGS">FIG. 44</figref>, a frame forwarding structure for forwarding a response only after the last frame, with a NACK or FAIL after the first frame <b>838</b>, is shown. The first frame <b>802</b> is transmitted in the same manner as that described above with reference to <figref idref="DRAWINGS">FIG. 43</figref>; however, in this example, the first frame of the frame forwarding fails. Thus, the response <b>804</b> is transmitted immediately after the first frame to indicate the failure of the frame forwarding. In the response <b>804</b>, the ACK field is set to 0 to indicate that a response other than an ACK is being returned, and the value of FTYPE appropriately reflects the type of other response (NACK or FAIL).</p>
<p id="p-0238" num="0237">Still using the reduced-overhead frame format and referring to <figref idref="DRAWINGS">FIG. 45</figref>, a frame forwarding structure for frame forwarding with no response <b>840</b> is shown. In this structure, the first frame <b>802</b> is a frame for which no response is expected and is forwarded by setting the SOF<b>1</b> delimiter <b>812</b> with response expected (DT=001) and RWRE=0. The station I transmits the second frame <b>806</b> in place of the expected response to the first frame <b>802</b> if an ACK would otherwise be sent. In the second frame <b>806</b>, the SOF<b>2</b> delimiter <b>814</b> indicates that no response is expected and that RWRE=0. Consequently, no responses are transmitted after the second frame <b>806</b> and the PRP (not shown) immediately follows. Although not shown, it will be appreciated that a response like the response <b>804</b> with settings for a NACK or FAIL (as shown in <figref idref="DRAWINGS">FIG. 43</figref>) would be returned after the first frame (in lieu of the second frame <b>806</b>) if the first frame fails.</p>
<p id="p-0239" num="0238">In yet another alternative embodiment, in which the EOF delimiter is used, and referring to <figref idref="DRAWINGS">FIG. 46</figref>, the EOF delimiter <b>102</b> is modified by shortening the RSVD field <b>146</b> to accommodate a new length field (FLEN) <b>842</b>. The FLEN field <b>842</b> indicates the projected length of the second frame <b>806</b> to help improve hidden station (node) performance. Station A would have a reasonable estimate for FLEN based on the connection information received from the station I. Thus, referring briefly to <figref idref="DRAWINGS">FIG. 40</figref> in conjunction with <figref idref="DRAWINGS">FIG. 46</figref>, the EOF<b>1</b> delimiter could be formatted to include the FLEN field <b>832</b> and the FLEN field <b>832</b> would be set with the value of length of the second frame <b>806</b> (or, using the short-hand notation of <figref idref="DRAWINGS">FIG. 40</figref>, FLEN=Len F<b>2</b>).</p>
<p id="p-0240" num="0239">The normal backoff procedure is executed by station A in the case where station A does not receive (or infer) an ACK after the first frame <b>802</b> and/or the second frame <b>806</b>. A particular access attempt is completed early when a NACK, FAIL, or no response is received (i.e. ACK is not received or inferred) after the first frame.</p>
<p id="p-0241" num="0240">Intermediate station resources (i.e., a receive buffer) must be available for a station to receive any frame that may be intended for it. In the case of an intermediate station acting as a relay, no additional receive buffer is required since the receive buffer is immediately emptied (frame retransmitted) and made available before any other traffic can arrive at the station (since the medium will be busy for the duration of the frame to and from the intermediate station). If the frame to be relayed cannot be retransmitted immediately, it will be dropped. A frame may not be able to be transmitted immediately (and is therefore dropped) if the forwarding frame is interrupted by a higher priority, or if the frame is too long to fit in a single segment because of the frame length and current channel map. In the latter case, the station returns a FAIL to the originating station. The reserved bits in FAIL could be used for a REASON field to return a fail reason code (i.e. indicate frame too long to forward) if there is more than one reason to return a FAIL.</p>
<heading id="h-0005" level="1">OTHER EMBODIMENTS</heading>
<p id="p-0242" num="0241">It is to be understood that while the invention has been described in conjunction with the detailed description thereof, the foregoing description is intended to illustrate and not limit the scope of the invention, which is defined by the scope of the appended claims. Other embodiments are within the scope of the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. In a network of stations, a method of operating a station comprises:
<claim-text>transmitting data across a plurality of different connections between any of a plurality of transmitters and any of a plurality of receivers;</claim-text>
<claim-text>using a plurality of carriers to transmit data between a transmitter and a receiver;</claim-text>
<claim-text>maintaining, for a connection over a channel between a transmitter in the station and a receiver in another station, a channel map provided by the receiver based on characteristics of the channel for the connection and having an associated channel map index;</claim-text>
<claim-text>having the transmitter use the channel map to encode and modulate frame data in a data frame for transmission over the channel to the receiver, wherein the channel map provides for the encoding and modulating for at least some carriers for at least one pair to be different from that used for the same carriers for at least one other pair and</claim-text>
<claim-text>having the transmitter send the associated channel map index in the data frame to identify to the receiver the channel map used by the transmitter for encoding and modulating frame data in the data frame.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising adapting connections between particular pairs of transmitter and receiver to establish a data rate for each carrier of the channel based on characteristics of each carrier of the channel for the connection between a particular pair of transmitter and receiver, wherein the data rate established for at least some carriers for at least one pair differs from the data rate established for the same carriers for at least one other pair, and wherein the differences in data rate are represented in the channel map.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein adapting comprises:
<claim-text>receiving a channel estimation request in a frame from the transmitter over the channel;</claim-text>
<claim-text>determining from the frame the characteristics of the channel for the connection and generating channel information from the determined channel characteristics; and</claim-text>
<claim-text>returning, in a channel estimation response to the transmitter, the channel information so that the channel information can be used by the transmitter in transmissions to the receiver for the connection.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref> comprising:
<claim-text>sending a channel estimation request to the receiver to obtain channel information for improving delivery of subsequent communications with the receiver; and</claim-text>
</claim-text>
<claim-text>receiving the channel information in a channel estimation response from the receiver.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the connection is an existing connection and wherein adapting is repeated after a predetermined timeout.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein adapting occurs during a frame transmission recovery.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the connection is an existing connection and adapting is repeated in response to an indication from the receiver.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the indication is interpreted by the transmitter as a recommendation to perform adapting due to a change in number of bit errors occurring in transmissions from the transmitter to the receiver as detected by the receiver.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the data rate is a maximum data rate.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the frame includes a frame control field that is observable by substantially all of the stations in the network and the frame control field includes the associated channel map index.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the channel map index can be the same as that used by another receiver.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the channel is a power line.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein using comprises modulating the frame onto OFDM symbols.</claim-text>
</claim>
</claims>
</us-patent-grant>
