<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298780-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298780</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10734734</doc-number>
<date>20031212</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>766</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>1</main-group>
<subgroup>69</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>375150</main-classification>
</classification-national>
<invention-title id="d0e53">Multiple access using different codes lengths for global navigation satellite systems</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5331329</doc-number>
<kind>A</kind>
<name>Volkov et al.</name>
<date>19940700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6625201</doc-number>
<kind>B1</kind>
<name>Stirling-Gallacher</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375144</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0028121</doc-number>
<kind>A1</kind>
<name>Fitton</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375144</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0131109</doc-number>
<kind>A1</kind>
<name>Kim et al.</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375148</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0084039</doc-number>
<kind>A1</kind>
<name>Kocic et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375319</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>WO</country>
<doc-number>WO 98/36505</doc-number>
<date>19980800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00007">
<othercit>Web pages, http://www.gmat.unsw.edu.au/snap/gps//gps<sub>—</sub>survey/chap3/311.htm, “<i>GPS Satellite Signal Structure</i>,”  Section 3.1.1 GPS Satellite Signals, 6 pages.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00008">
<othercit>Web pages, http://www.gmat.unsw.edu.au/snap/gps//gps<sub>—</sub>survey/chap3/312.htm, “<i>The Transmitted Signal</i>,” Section 3.1.2 GPS Satellite Signals, 5 pages.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00009">
<othercit>“Nearly Orthogonal Codes in GNSS Using Unequal Code Lengths;” Qin Zhengdi et al; Proceedings of the ION 60<sup>th </sup>Annual Meeting, Jun. 7-9, 2004; pp. 666-670; Dayton, OH; whole document.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00010">
<othercit>Web pages, http://www.gmat.unsw.edu.au/snap/gps//gps<sub>—</sub>survey/chap3/311.htm, “<i>GPS Satellite Signal Structure</i>,”  Section 3.1.1 GPS Satellite Signals, 6 pages, 2004.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00011">
<othercit>Web pages, http://www.gmat.unsw.edu.au/snap/gps//gps<sub>—</sub>survey/chap3/312.htm, “<i>The Transmitted Signal</i>,” Section 3.1.2 GPS Satellite Signals, 5 pages, 2004.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>16</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>375150</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375148</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375130</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375316</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375144</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375343</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375152</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050129096</doc-number>
<kind>A1</kind>
<date>20050616</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Zhengdi</last-name>
<first-name>Qin</first-name>
<address>
<city>Tampere</city>
<country>FI</country>
</address>
</addressbook>
<nationality>
<country>FI</country>
</nationality>
<residence>
<country>FI</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Turunen</last-name>
<first-name>Seppo</first-name>
<address>
<city>Tampere</city>
<country>FI</country>
</address>
</addressbook>
<nationality>
<country>FI</country>
</nationality>
<residence>
<country>FI</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Fressola</last-name>
<first-name>Alfred A.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<orgname>Ware, Fressola, Van Der Sluys &amp; Adolphson LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Nokia Corporation</orgname>
<role>03</role>
<address>
<city>Espoo</city>
<country>FI</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Khai</first-name>
<department>2611</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method for determining a delay of a spread data symbol stream comprises the steps of at least partially correlating a signal, which comprises at least first and second spread data symbol streams (<b>300, 301</b>) that are obtained by spreading at least a first and second data symbol stream with a respective first (<b>302</b>) and second code, with said first code (<b>302</b>) to obtain at least two portions (<b>303</b>-<b>1, 303</b>-<b>2</b>) of a Cross-Correlation Function CCF (<b>303</b>), and combining said at least two portions (<b>303</b>-<b>1, 303</b>-<b>2</b>) of said CCF (<b>303</b>) to obtain a combined CCF portion from which a first delay of said first spread data symbol stream is determined, wherein said first code (<b>302</b>) and said second code are composed of chips and wherein the number of chips of said first code (<b>302</b>) is different from the number of chips of said second code. The invention further relates to a computer program, a computer program product, a device and a system.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="161.46mm" wi="105.58mm" file="US07298780-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="242.32mm" wi="177.72mm" orientation="landscape" file="US07298780-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="246.55mm" wi="190.08mm" orientation="landscape" file="US07298780-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="246.89mm" wi="187.79mm" orientation="landscape" file="US07298780-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="221.91mm" wi="154.60mm" orientation="landscape" file="US07298780-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="220.64mm" wi="168.99mm" orientation="landscape" file="US07298780-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="253.83mm" wi="165.69mm" orientation="landscape" file="US07298780-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="162.48mm" wi="176.78mm" orientation="landscape" file="US07298780-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="215.22mm" wi="159.94mm" orientation="landscape" file="US07298780-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The invention relates to a method for determining a delay of a spread data symbol stream, comprising the steps of at least partially correlating a signal, which comprises at least first and second spread data symbol streams that are obtained by spreading at least a first and second data symbol stream with a respective first and second code, with said first code to obtain at least two portions of a Cross-Correlation Function (CCF) between said signal and said first code, and combining said at least two portions of said CCF to obtain a combined CCF portion from which a first delay of said first spread data symbol stream is determined.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">In Global Navigation Satellite Systems (GNSS) such as for instance the Global Positioning System (GPS) or the upcoming European Galileo system, a receiver uses triangulation based on the distance to at least three satellites and plausibility considerations to determine its position. For the triangulation, at first the position of the satellites has to be known to the receiver. This information is stored in each receiver. Furthermore, the distance to a satellite has to be determined from the propagation delay of a signal that is emitted by said satellite and subsequently received at said receiver. In the Global Positioning System (GPS), this is achieved by correlation of a spread data symbol stream that has been transmitted by a satellite and received by a receiver with a replica of the code with which the spread data symbol stream has been spread. In the GPS, said data symbol stream corresponds to a navigation message, which has a bit rate of 50 bps, and the code is a Coarse/Acquisition (C/A) code, which is a Gold code appearing like a pseudo-random-noise (PRN) code with a chip rate of 1.023 MHz and a length of 1023 chips, wherein a chip is an element of the set {0,1} similar to a bit, but is not representing actual data. The duration of a chip is denoted as T<sub>c</sub>.</p>
<p id="p-0004" num="0003">Basically, the spreading operation is performed by modulo-2 addition of the high-chip-rate C/A code and the low bit rate navigation message, so that each bit of the navigation message is modulo-2 added with 20 repetitions of the C/A code of length 1023 chips or duration T=1 ms each.</p>
<p id="p-0005" num="0004">The GPS navigation message, or, more general, a data stream composed of several data symbols, thus is spread with a code, obtaining a spread data symbol stream, wherein the term spreading refers to the spreading of the frequency bandwidth of the data symbol stream that is increased by a factor that equals the ratio of code chip rate and data symbol rate, which, in the above-mentioned GPS example, equals 20460.</p>
<p id="p-0006" num="0005">In <figref idref="DRAWINGS">FIG. 1</figref>, said spread data symbol stream <b>100</b> is depicted as being composed of two portions <b>100</b>-<b>1</b> and <b>100</b>-<b>2</b>, each corresponding to the duration T of the code. The spread data symbol stream <b>100</b> is depicted in discrete-time form, wherein Binary Phase Shift Keying (BPSK) is exemplarily assumed as the modulation technique, so that the symbol alphabet of the spread data symbols is {−1,1}. The spread data symbol stream is transmitted by a satellite and received as received spread data symbol stream <b>101</b> at a receiver. The step of modulating and demodulating the spread data streams is omitted here for ease of presentation. The received spread data symbol stream <b>101</b>, also in discrete-time form, basically equals the transmitted spread data symbol stream, apart from a propagation delay τ<sub>1</sub>. For the scenario of <figref idref="DRAWINGS">FIG. 1</figref>, it was assumed that the Signal-to-Noise Ratio (SNR) at the receiver is large enough and that channel distortions of the propagation channel such as attenuation, phase shift, Doppler shift and multi-path propagation have been compensated, for instance by means of amplification and equalization, so that the chips in both portions <b>101</b>-<b>1</b> and <b>101</b>-<b>2</b> of the received spread data symbol stream equal the respective chips in the respective portions <b>100</b>-<b>1</b> and <b>100</b>-<b>2</b> of the transmitted spread data symbol stream <b>100</b>, apart from the propagation delay τ<sub>1</sub>.</p>
<p id="p-0007" num="0006">At the receiver, the time instance at which the transmitter is starting the transmission of said transmitted spread data symbol stream <b>100</b> is known, and at the same time instance, the receiver generates a replica <b>102</b> of the code that is used to spread the data symbol stream in the transmitter. This requires the clocks in both the transmitter and receiver to be synchronized. Synchronization of the receiver clock is accomplished by processing the receive signals of at least four satellites, wherein the satellites use high-precision atomic clocks to fix a so-called universal time.</p>
<p id="p-0008" num="0007">The receiver then computes the Cross-Correlation Function (CCF) <b>103</b> between the received spread data symbol stream <b>101</b> and the locally generated code replica <b>102</b>. The CCF for two discrete-time functions f(n·T<sub>c</sub>) and g(n·T<sub>c</sub>) is defined as</p>
<p id="p-0009" num="0008">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <mrow>
    <mrow>
      <msub>
        <mi>φ</mi>
        <mi>fg</mi>
      </msub>
      <mo>⁡</mo>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mi>m</mi>
          <mo>·</mo>
          <msub>
            <mi>T</mi>
            <mi>c</mi>
          </msub>
        </mrow>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mi>L</mi>
      </mfrac>
      <mo>·</mo>
      <mrow>
        <munderover>
          <mo>∑</mo>
          <mrow>
            <mi>n</mi>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
          <mrow>
            <mi>L</mi>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </munderover>
        <mo>⁢</mo>
        <mrow>
          <mrow>
            <mi>f</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>n</mi>
                <mo>·</mo>
                <msub>
                  <mi>T</mi>
                  <mi>c</mi>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>·</mo>
          <mrow>
            <mi>g</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>n</mi>
                    <mo>+</mo>
                    <mi>m</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mo>·</mo>
                <msub>
                  <mi>T</mi>
                  <mi>c</mi>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
<br/>
wherein L denotes the length of the summation interval.
</p>
<p id="p-0010" num="0009">For the scenario of <figref idref="DRAWINGS">FIG. 1</figref>, the Auto-Correlation Function (ACF) φ<sub>cc</sub>(m·T<sub>c</sub>) of the discrete-time code c(n·T<sub>c</sub>) <b>102</b> is defined as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>φ<sub>cc</sub>(<i>m·T</i><sub>c</sub>)=1 if <i>m=</i>0;<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>|φ<sub>cc</sub>(<i>m·T</i><sub>c</sub>)|≦Δ with 0≦Δ&lt;&lt;1 if <i>m≠</i>0<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
i.e., it has an auto-correlation peak at m=0 and small values elsewhere.
</p>
<p id="p-0011" num="0010">With the received spread data symbol stream <b>101</b> in <figref idref="DRAWINGS">FIG. 1</figref> consisting of two portions <b>101</b>-<b>1</b> and <b>101</b>-<b>2</b> that are shifted versions of the respective portions <b>100</b>-<b>1</b> and <b>100</b>-<b>2</b> of the transmitted spread data symbol stream, which in turn represent the spreading of a data symbol with the code of length T, respectively, wherein the respective data symbols of both portions <b>100</b>-<b>1</b> and <b>100</b>-<b>2</b> are assumed to be equal, the CCF <b>103</b> simply contains two times the ACFs φ<sub>cc</sub>(m·T<sub>c</sub>) of the code c(n·T<sub>c</sub>), weighted with the respective data symbol, wherein said first weighted ACF <b>103</b><i>a</i>-<b>1</b> φ<sub>cc</sub>(m·T<sub>c</sub>) of the code is shifted by the delay τ<sub>1 </sub>of the received spread data symbol stream <b>101</b> and the second weighted ACF <b>103</b><i>a</i>-<b>2</b> is shifted by τ<sub>1</sub>+T. If further portions <b>100</b>-<b>3</b>, <b>100</b>-<b>4</b> etc. followed the two depicted portions of the transmitted spread data symbol stream <b>100</b> (and corresponding portions <b>101</b>-<b>3</b>, <b>101</b>-<b>4</b>, etc. in the received spread data symbol stream), the CCF would show further weighted ACFs, each separated from the preceding ACF by a duration of T. The CCF thus is periodic in T.</p>
<p id="p-0012" num="0011">Apparently, from the CCF, the propagation delay τ<sub>1</sub>, which is indicative of the distance between the transmitter and the receiver, can be determined from the position of the auto-correlation peak <b>103</b><i>a</i>-<b>1</b>.</p>
<p id="p-0013" num="0012">The scenario as described in <figref idref="DRAWINGS">FIG. 1</figref> assumed that the SNR at the receiver was high enough so that the received spread data symbol stream <b>101</b> equals a shifted version of the transmitted spread data symbol stream <b>100</b>. However, at operating points where GNSS receivers are normally deployed, the SNR may be smaller, so that the received spread data symbol stream <b>101</b> does no longer equal the delayed transmitted spread data symbol stream <b>100</b>, for instance some of the chips within the received spread data symbol stream <b>101</b> may be changed by an additive noise process in a way that they more resemble a different BPSK symbol. Furthermore, the received spread data symbol stream may become complex-valued due to the fact that both the amplitude and phase of its chips are altered by noise and channel distortion. Due to the random characteristics of the propagation channel and the noise process that adds to the received signal at the receiver, the errors in the spread data symbol stream <b>101</b> are different in different portions <b>101</b>-<b>1</b> and <b>101</b>-<b>2</b> of the received spread data symbol streams. The CCF <b>103</b> then no longer consists of the periodically repeated weighted ACF of the code, but may contain further small peaks at time instances different from the actual auto-correlation peaks at τ<sub>1</sub>+i·T, where is an integer with i=0, 1, . . . . Furthermore, the amplitude of said auto-correlation peaks may be smaller.</p>
<p id="p-0014" num="0013">To combat this effect, which aggravates the proper detection of the propagation delay τ<sub>1</sub>, combining at least two corresponding portions <b>103</b>-<b>1</b> and <b>103</b>-<b>2</b> of the CCF <b>103</b> can be performed. It is the aim of the combining procedure to reduce the effect of the random distortions in the ACFs of the codes within the CCF <b>103</b> and to obtain a combined CCF that allows for a more precise and robust determination of the propagation delay τ<sub>1</sub>. For instance, the portion <b>103</b>-<b>1</b> of the CCF <b>103</b> from time instance τ=0 to time instance τ=T and the portion <b>103</b>-<b>2</b> of the CCF <b>103</b> from time instance τ=T to time instance τ=2T may be combined by integration or averaging. When integration (or summing) is used, the values of corresponding time instances of the different CCF portions <b>103</b>-<b>1</b>, <b>103</b>-<b>2</b> are integrated to obtain an integrated value for each of said time instances, which then represent an integrated CCF portion. Due to the periodic character of the ACF peaks <b>103</b><i>a</i>-<b>1</b> and <b>103</b><i>a</i>-<b>2</b>, i.e. the fact that the ACF peaks are always located at the same time instance within a portion <b>103</b>-<b>1</b>, <b>103</b>-<b>2</b> of the CCF <b>103</b>, the ACF peaks then are steadily enhanced during the integration, whereas the distortions, due to their random occurrence at different time instances, are not enhanced to the same degree as the ACFs. Consequently, the combined CCF portion has an increased sensitivity than the single CCF portions <b>103</b>-<b>1</b>, <b>103</b>-<b>2</b> and the desired propagation delay τ<sub>1 </sub>is more securely detected from the position of the enhanced ACF peak in the combined CCF portion.</p>
<p id="p-0015" num="0014">As already mentioned, the distances to at least three satellites are required in a GNSS system to accomplish triangulation. To this end, the transmitted spread data symbol streams of at least three satellites are received, as depicted in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 2</figref> depicts the reception of first, second and third received spread data symbol streams <b>200</b>, <b>201</b> and <b>202</b>, which are delayed with respective propagation delays τ<sub>1</sub>, τ<sub>2 </sub>and τ<sub>3</sub>. Each received spread data symbol stream <b>200</b>, <b>201</b> and <b>202</b> has been generated from respective first, second and third data symbol streams by spreading with a respective first, second and third code, transmitted by a respective satellite and delayed by a respective propagation delay τ<sub>1</sub>, τ<sub>2 </sub>and τ<sub>3 </sub>due to the different distances between the transmitting satellites and the receiver. In contrast to the illustration in <figref idref="DRAWINGS">FIG. 2</figref>, the receiver does not separately receive said spread data symbol streams <b>200</b>, <b>201</b> and <b>202</b>, but only receives a signal that is a superposition of said three spread data symbol streams <b>200</b>, <b>201</b> and <b>202</b>.</p>
<p id="p-0017" num="0016">The receiver then correlates the received signal with replicas of codes that are used by each transmitting satellite, respectively. In <figref idref="DRAWINGS">FIG. 2</figref>, exemplarily the generation of a replica <b>203</b> of the first code that is used by the satellite that transmitted the first spread data symbol stream and the correlation of this first code replica with the received signal is depicted. The resulting cross-correlation function <b>204</b> now does not only contain the periodically repeated weighted ACFs <b>204</b><i>a</i>-<b>1</b> and <b>204</b><i>a</i>-<b>2</b> of the first code, but also periodically repeated CCFs <b>204</b><i>b</i>-<b>1</b> and <b>204</b><i>b</i>-<b>2</b> between the first and second code and periodically repeated CCFs <b>204</b><i>c</i>-<b>1</b> and <b>204</b><i>c</i>-<b>2</b> between the first and third code, each weighted with the respective data symbols of the second data symbol stream and the third data symbol stream. The CCF <b>204</b> between the receive signal that comprises the first, second and third received spread data symbol streams and the replica <b>203</b> of the first code thus still is periodic in T, wherein T is the length of the first, second and third code, but the detection of the desired delay τ<sub>1 </sub>is aggravated in particular if the amplitudes of the CCFs <b>204</b><i>b </i>and <b>204</b><i>c </i>within the CCF <b>204</b> approach the amplitudes of the ACFs <b>204</b><i>a. </i>Note that, whereas random distortions in the received spread data symbol streams that stem from noise may be reduced by averaging over several portions <b>204</b>-<b>1</b>, <b>204</b>-<b>2</b> of the CCF <b>204</b> as explained above, the influence of the CCFs <b>204</b><i>b </i>and <b>204</b><i>c </i>are of systematic character and can not be averaged out of the CCF <b>204</b>.</p>
<p id="p-0018" num="0017">When designing the GNSS, it is thus advantageous to select codes for the different satellites that have high auto-correlation peaks and low cross-correlation peaks, so that the delays τ can be securely detected.</p>
<p id="p-0019" num="0018">The above-mentioned properties of the codes can be approached by increasing the length of the codes. However, increasing the length of the codes generally slows down the acquisition time and vastly increases the computational complexity of the receiver and thus its costs.</p>
<p id="p-0020" num="0019">A different approach to reduce the cross-correlation uses scrambling codes that comprise significantly more chips than the spreading codes in addition to the scrambling codes. However, as it is the case with increased lengths of the spreading codes, the computational complexity of the receiver increases when scrambling is used.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0021" num="0020">In view of this problem, it is thus an object of the present invention to improve the determination of a delay of a spread data symbol stream.</p>
<p id="p-0022" num="0021">It is proposed that a method for determining a delay of a spread data symbol stream comprises the steps of at least partially correlating a signal, which comprises at least first and second spread data symbol streams that are obtained by spreading at least a first and second data symbol stream with a respective first and second code, with said first code to obtain at least two portions of a Cross-Correlation Function (CCF) between said signal and said first code, and combining said at least two portions of said CCF to obtain a combined CCF portion from which a first delay of said first spread data symbol stream is determined, wherein said first code and said second code are composed of chips and wherein the number of chips of said first code is different from the number of chips of said second code.</p>
<p id="p-0023" num="0022">Said method may for instance be used in a GNSS system to determine the distance between satellite transmitters and a receiver based on determined propagation delays, or in a communication system with Code Division Multiple Access (CDMA) as medium access technique to achieve coarse synchronization. Said at least first and second data symbol streams may for instance be bit streams with a respective first and second bit rate, which may be spread with respective first and second codes that are composed of respective numbers of chips (belonging to a chip alphabet {0,1}) and may be characterized by a respective first and second chip rate. Spreading may be performed by chip-by-chip modulo-2 addition of the chips of said respective first and second code to the bits of the respective first and second data symbol streams, yielding respective first and second spread data symbol streams that may also be characterized by a first and second chip rate. Said first and second spread data symbol streams then may be mapped to modulation symbols such as for instance Binary Phase Shift Keying (BPSK) symbols belonging to the alphabet {−1,1}. Alternatively, said spread data symbol streams may be further processed without modulation.</p>
<p id="p-0024" num="0023">Said at least first and second data symbol streams may equally well be modulation symbols that correspond to the bits of a bit stream, for instance Binary Phase Shift Keying (BPSK) symbols or Quaternary Phase Shift Keying (QPSK) symbols, and said at least first and second data symbol streams may then be spread with said first and second codes (with chips belonging to the alphabet {−1,1}) by chip-by-chip multiplication of the chips of the respective codes with the data symbols of said respective first and second data symbol streams, yielding respective first and second spread data symbol streams. Said first and second data symbol streams may then be pulse-shaped, modulated with a carrier frequency and transmitted by a transmitter. At a receiver, a signal may be received that is a superposition of delayed versions of said transmitted spread data symbol streams, wherein said respective delays stem from the traveling distance between the respective transmitter and the receiver and may be counted from a respective time instance, at which a transmission of a respective spread data symbol stream has started. Said respective time instances at which said respective transmissions are started may all coincide due to the use of a universal time for all transmitters. In addition to the respective delays, said transmitted spread data symbol streams contained in said signal may be attenuated and corrupted by noise. Transmission may take place via a wired or a wireless connection. At the receiver, said signal may be amplified, demodulated (only if they were modulated at the transmitter) and sampled. Furthermore, equalization may be performed to combat the distortions of the propagation channel between transmitter and receiver. Said signal is correlated with said first code, a replica of which may be generated by said receiver, wherein said correlation may be performed in discrete or continuous time, yielding either a discrete-time CCF or a continuous-time CCF. Said replica of said first code may be synchronized with the time instance at which the transmission of said first spread data symbol stream was started. Said correlation may be performed for the entire signal, or partially, i.e. only for selected portions of the signal. Correspondingly, then either the complete CCF between the signal and the code is obtained, or only portions of said CCF are obtained. At least two portions of said CCF are then combined. If the complete CCF is calculated, portions of said CCF may have to be selected prior to combination. If said CCF has only been calculated partially, either the calculated portions or a selection of portions of said calculated portions may be combined. Said combination enhances the sensitivity of the combined CCF portion in comparison to the sensitivity of the CCF, so that a first delay can be detected from said combined CCF portion in a more robust and accurate way than it is possible from the CCF. Combination may comprise averaging or integration, times series analysis or statistical processing of the portions of the CCF.</p>
<p id="p-0025" num="0024">The number of chips of said first code is advantageously chosen different from the number of chips of said second code, so that dominant cross-correlation peaks (that stem from the cross-correlation between said first and second code) in said at least two portions of said CCF that are combined do not appear at corresponding positions within said at least two portions of said CCF and are thus not enhanced when said at least two portions of said CCF are combined. In contrast, auto-correlation peaks (that stem from the auto-correlation of said first code) appear at corresponding positions within said at least two portions of said CCF and are thus enhanced by the combining. From the position of the enhanced auto-correlation peaks within the combined CCF portion, the first delay can be determined. The use of different numbers of chips within said first and second code leads to different spreading gains at the receiver, when the received spread data symbols are de-spread. The relative difference in spreading gain between codes is insignificant for large numbers of chips in each code and only small differences between the numbers of chips in each code. Due to the different numbers of chips in the spreading codes, the method of the present invention may be specified as a Vary Length Code Division Multiple Access (VL-CDMA) method in contrast to the state-of-the-art CDMA methods that apply equal spreading code lengths for all codes.</p>
<p id="p-0026" num="0025">According to the method of the present invention, it may be preferred that said step of combining said at least two portions of said CCF comprises the step of averaging said at least two portions of said CCF or integrating said at least two portions of said CCF. When averaging said at least two portions of said CCF, the average is taken over the values at corresponding positions in said at least two portions of said CCF, for instance, the first value in each portion is averaged to yield a first average value which represents the first value of the combined CCF portion, then the second value in each portion is averaged to yield a second averaged value, and so forth. Similar, when integration is performed, the respective first values in each portion may be summed to obtain a first value of the combined CCF portion, and so forth. Before averaging or integrating the portions, the absolute value of the values in each portion may be taken. Both averaging and integrating may be performed coherently or non-coherently and both in discrete or continuous time.</p>
<p id="p-0027" num="0026">According to the method of the present invention, it may be preferred that the number of chips of said first code and the number of chips of said second code are not multiples of each other.</p>
<p id="p-0028" num="0027">According to the method of the present invention, it may be preferred that the chip rates of said at least first and second spread data symbol streams are equal. The data symbol rates of said at least first and second data symbol streams may be different, and due to the use of first and second code with respective different numbers of chips, but with the same chip rate each, the respective chip rates of the respective first and second spread data symbol stream may be made equal. As the chip rate of the code, which is defined as the reciprocal value of the chip duration, the chip rate of the spread data symbol stream is also defined as the reciprocal value of the chip duration. The spreading operation does not change the duration of a chip.</p>
<p id="p-0029" num="0028">According to the method of the present invention, it may be preferred that N chips of said at least first and second spread data symbol stream are contained in a frame, respectively, and wherein N is the least common multiple of the number of chips of said first code and the number of chips of said second code. Selecting the lengths of the codes in a way that said at least first and second spread data symbol streams can be organized in frames that comprise the same number of chips allows for frame synchronization between said at least first and second spread data symbol streams.</p>
<p id="p-0030" num="0029">According to the method of the present invention, it may be preferred that said first code and second code are software codes and/or pseudo-random-noise codes. Said codes may for instance be systematically generated, such as for instance Gold codes, or randomly generated. In both cases, the codes may appear like random noise, they may for instance be zero-mean.</p>
<p id="p-0031" num="0030">According to the method of the present invention, it may be preferred that said first code and second code are taken from the same basic code and only differ in the number of chips. Said first and second codes are then obtained from said basic code by simple copying, for instance the first code copies the first 1023 chips, and the second code copies the first 1022 chips from said basic code. The method then can be considered as an independent medium access technique (Vary Length Multiple Access, VLMA), because concurrent access to a shared transmission medium is not achieved by assigning pseudo-orthogonal codes to each transmitter, but by assigning each transmitter the same code and only varying the length of each transmitters code to some extent. It is advantageous in VLMA to combine at least two portions of said CCF in order to enhance the auto-correlation peaks and to reduce the impact of cross-correlation peaks that quite naturally arise because all assigned codes are basically equal.</p>
<p id="p-0032" num="0031">According to the method of the present invention, it may be preferred that said signal further comprises a third spread data symbol stream that is obtained by spreading a third data symbol stream with a third code, wherein said third code is composed of chips and wherein the number of chips of said third code is equal to the number of chips of said first code or to the number of chips of said second code. It is thus not required that each data symbol stream is spread with a code that has a different length compared to the length of the codes with which the other data symbol streams are spread. Two codes may thus have the same length, a principle that may be denoted as “code length reuse”. It may be preferred that the codes that have the same length are not separated via VLMA, i.e. are not copied from the same basic code.</p>
<p id="p-0033" num="0032">According to the method of the present invention, it may be preferred that said first and second code are time-invariant. Then for the transmission of all spread data symbol streams, always the same first and second codes are used, i.e. the sequence of chips within each code and the length of each code does not change. This omits the required amount of signaling encountered when codes would be changed.</p>
<p id="p-0034" num="0033">According to the method of the present invention, it may be preferred that said first and second code are changed in certain intervals. It may be advantageous to change the sequence of chips within each code or the length of each code between subsequent transmissions of spread data symbol streams, i.e. there may exist spread data symbol streams originating from one transmitter that have been spread with different codes. This technique represents a powerful means against jamming.</p>
<p id="p-0035" num="0034">According to the method of the present invention, it may be preferred that said first and second code are periodically changed so that the average number of chips in said respective first and second code is equal. When the chip rate of all codes is equal, but at least two codes have different numbers of chips, at least the two data symbol streams that are spread with the at least two codes that have different numbers of chips have to have different data symbol rates. If on the average, constant data symbol rates are desired for all data symbol streams, the codes themselves or only the length of the codes may be periodically changed at least for the two data streams that have different data symbol rates. E.g. for the transmission of a first data symbol stream, a first code of 1023 chips is used for a limited time, and then a code of 1022 chips is used for a further limited time. Concurrently, for the transmission of a second data symbol stream, a second code of 1022 chips is used for said limited time, and then a code of 1023 chips is used for said further limited time. Then the average symbol rates of both data symbol streams is equal, although in both limited time periods, different code lengths have been used. This concept may be denoted as “code length hopping”. In effect, then the chip rate and the average data symbol rate of all spread data symbol streams is equal, which is highly desirable.</p>
<p id="p-0036" num="0035">According to the method of the present invention, it may be preferred that said signal is a receive signal comprising the superposed spread data symbol streams that have been transmitted by satellite transmitters and received at a receiver with respective propagation delays, and wherein said propagation delays are indicative of the distance between said receiver and said respective satellite transmitters. Said satellites may transmit navigation messages of low bit rate that indicate correction information, for instance correction information concerning the ephemeris of the satellite or the propagation model, which are spread with a C/A code of higher chip rate. The spread navigation messages are then transmitted by the satellite, propagate through the channel between the satellite and a receiver and are accordingly delayed. Said delay is basically proportional to the distance between the satellite and the receiver, apart from non-linear influences of the propagation channel. From the estimation of distances to at least three satellites, the receiver is enabled to determine its position via triangulation, the distance towards a fourth satellite may be required to synchronize the local clock of the receiver to the universal time of the satellites.</p>
<p id="p-0037" num="0036">According to the method of the present invention, it may be preferred that said satellite transmitters are satellite transmitters of a Global Navigation Satellite System (GNSS). Said system may for instance be the Global Positioning System (GPS) or the European Galileo system.</p>
<p id="p-0038" num="0037">It is proposed that a computer program comprises instructions operable to cause a processor to perform the above mentioned method steps. Said computer program may be loaded into the internal memory of a processor that is integrated in a receiver.</p>
<p id="p-0039" num="0038">It is proposed that a computer program product comprises a computer program with instructions operable to cause a processor to perform the above-mentioned method steps.</p>
<p id="p-0040" num="0039">It is proposed that a device for determining a delay of a spread data symbol stream comprises means for at least partially correlating a signal, which comprises at least first and second spread data symbol streams that are obtained by spreading at least a first and second data symbol stream with a respective first and second code, with said first code to obtain at least two portions of a Cross-Correlation Function (CCF) between said signal and said first code, and means for combining said at least two portions of said CCF to obtain a combined CCF portion, from which a first delay of said first spread data symbol stream is determined, wherein said first code and said second code are composed of chips and wherein the number of chips of said first code is different from the number of chips of said second code. Said device may be part of a GNSS receiver or may be part of a control station that performs the determination of the delay and offers said delay information to GNSS receivers or the satellites themselves.</p>
<p id="p-0041" num="0040">It is proposed that a system comprises at least a first and a second transmitter, which transmit respective first and second spread data symbol streams that are obtained by spreading at least a respective first and second data symbol stream with a respective first and second code, wherein said first code and said second code are composed of chips and wherein the number of chips of said first code is different from the number of chips of said second code, and at least one receiver, wherein said receiver receives a signal comprising at least said respective first and second spread data symbol streams, wherein said receiver at least partially correlates said signal with said first code to obtain at least two portions of a Cross-Correlation Function (CCF) between said signal and said first code, and wherein said receiver combines said at least two portions of said CCF to obtain a combined CCF portion, from which a delay of said first spread data symbol stream is determined.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE FIGURES</heading>
<p id="p-0042" num="0041">These and other aspects of the invention will be apparent from and elucidated with reference to the embodiments described hereinafter. In the figures show:</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 1</figref>: a schematic illustration of the synthesis of a Cross-Correlation Function (CCF) in a single-transmitter GNSS system according to the prior art;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 2</figref>: a schematic illustration of the synthesis of a Cross-Correlation Function (CCF) in a multi-transmitter GNSS system according to the prior art;</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 3</figref>: a schematic illustration of the synthesis of a Cross-Correlation Function (CCF) in a multi-transmitter GNSS system according to the present invention;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 4</figref>: an illustration of the process of combining portions of a CCF into a combined CCF portion according to the present invention;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 5</figref>: an illustration of the process of combining portions of a CCF into a combined CCF portion according to the Vary Length Multiple Access (VLMA) technique according to the present invention;</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 6</figref>: a comparison of the achievable reduction of the cross-correlation as a function of the code length according to the prior art and according to different parameterizations of the present invention;</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 7</figref>: a flow chart depicting the relevant method steps of the present invention; and</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 8</figref>: a schematic illustration of a device according to the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 3</figref> schematically illustrates the synthesis of a Cross-Correlation Function (CCF) in a multi-transmitter GNSS system according to the present invention. The first row of <figref idref="DRAWINGS">FIG. 3</figref> shows a first received Spread Data Symbol Stream (SDSS) <b>300</b> that basically represents a delayed version of a first transmitted SDSS. Said first transmitted SDSS <b>300</b> is obtained by spreading a data symbol stream with a first code <b>302</b>. In the first row of <figref idref="DRAWINGS">FIG. 3</figref>, only three repetitions of the code <b>302</b> of duration T each are depicted, wherein it is assumed that each repetition of the code spreads one data symbol. BPSK modulation is assumed, so that the symbol alphabet of the SDSS is {−1,1}. However, modulation is not mandatory. The SDSS then may be subject to pulse shaping and modulation on a carrier frequency, such as for instance the L1 carrier of a GPS system, and then is transmitted to a receiver over a channel that causes a first propagation delay τ<sub>1</sub>. Similarly, a second SDSS is transmitted by a second transmitter and delayed by a second delay τ<sub>2</sub>, as shown in the second row of <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0052" num="0051">However, in contrast to the scenario of <figref idref="DRAWINGS">FIG. 2</figref>, the number of chips of the first code that is used to spread the first data symbol stream is different from the number of chips of the second code that is used to spread the second data symbol stream, as can be seen from the comparison of the first and second row of <figref idref="DRAWINGS">FIG. 3</figref>. The first code has a length of T and comprises 16 chips, wherein the second code has a length of T′=¾T and comprises only 12 chips. The chip rate of both codes equals the reciprocal value of the chip duration T<sub>c </sub>and is equal for both the first and second code. However, to allow for frame synchronization between the frames of the first and second transmitter, the number of chips of the first and second code were chosen so that the number of chips per frame is the least common multiple of the number of chips of the first and second code. In the present example, a frame comprises 64 chips, corresponding to three repetitions of the first code of length 16 chips and four repetitions of the second code of length 12 chips. Correspondingly, three data symbols of the first data symbol stream are contained in said frame, whereas four data symbols of the second data symbol stream are contained said frame. The data symbol rate of said first data symbol stream is thus by a factor ¾ smaller than the data symbol rate of the second data symbol stream.</p>
<p id="p-0053" num="0052">At the receiver, said two received SDSS <b>300</b>, <b>301</b> as depicted in the first and second row of <figref idref="DRAWINGS">FIG. 3</figref> contribute to one receive signal that may be demodulated (if they were modulated before), filtered with a pulse-shape matched filter and sampled at the receiver. Furthermore, signal amplification and equalization may be performed to combat the attenuation and distortion of the channel. Said receive signal is correlated with a replica of said first code <b>302</b> as shown in the third row of <figref idref="DRAWINGS">FIG. 3</figref>. The code replica <b>302</b> is generated by the receiver at a time instance at which the first transmitter is known to transmit the first SDSS. Said correlation produces the CCF <b>303</b> as depicted in the lowermost row of <figref idref="DRAWINGS">FIG. 3</figref>. As in <figref idref="DRAWINGS">FIGS. 1 and 2</figref>, this CCF is to be understood in an illustrative way and does not represent the actually calculated CCF. The auto-correlation peaks <b>303</b><i>a</i>-<b>1</b>, . . . , <b>303</b><i>a</i>-<b>3</b> of the first code <b>302</b>, stemming from the correlation of the first code <b>302</b> with the first received SDSS <b>300</b>, are the same as in <figref idref="DRAWINGS">FIG. 2</figref>, i.e. occur τ<sub>1</sub>+i·T, with i=0, . . . , 2. However, the cross-correlation peaks <b>303</b><i>b</i>-<b>1</b>, . . . , <b>303</b><i>b</i>-<b>4</b> appear periodically, but now with a period of T′=¾T (this is at least true when disregarding transient effects of the CCF <b>303</b>). The effect of the change of this period T′ of the cross-correlation peaks, as compared to the period T of the cross-correlation peaks in <figref idref="DRAWINGS">FIG. 2</figref>, is that when now portions <b>303</b>-<b>1</b>, <b>303</b>-<b>2</b> of the CCF <b>303</b>, for instance the portion <b>303</b>-<b>1</b> of the CCF <b>303</b> starting at time instance τ=0 to time instance τ=T and the portion <b>303</b>-<b>2</b> of the CCF <b>303</b> starting at time instance τ=T to time instance τ=2T are combined by integration, the relative position of the auto-correlation peak <b>303</b><i>a</i>-<b>1</b> in the first portion and the relative position of the auto-correlation peak <b>303</b><i>a</i>-<b>2</b> in the second portion is the same, i.e. both auto-correlation peaks are to be found at a distance τ<sub>1 </sub>from the left border of the respective portion <b>303</b>-<b>1</b>, <b>303</b>-<b>2</b>, so that the amplitude of the auto-correlation peak is effectively doubled when integrating said both portions <b>303</b>-<b>1</b>, <b>303</b>-<b>2</b> of the CCF <b>303</b>. However, the relative position of the cross-correlation peak <b>303</b><i>b</i>-<b>1</b> within the first portion <b>303</b>-<b>1</b> and the relative positions of the cross-correlation peaks <b>303</b><i>b</i>-<b>2</b> and <b>303</b><i>b</i>-<b>3</b> within the second portion <b>303</b>-<b>2</b> of the CCF <b>303</b> are not the same, so that when integrating both portions <b>303</b>-<b>1</b>, <b>303</b>-<b>2</b> of the CCF <b>303</b>, the cross-correlation peaks are not enhanced. Thus by integration of said two portions of the CCF <b>303</b> in combination with the use of different numbers of chips in the first and second code, which causes the auto-correlation peaks and the cross-correlation peaks within the CCF <b>303</b> to have different periods, the ratio between the amplitude of the auto-correlation peak to the maximum amplitude that is achieved by any of the correlation peaks is vastly increased, which may be interpreted as an increase in the signal-to-interference ratio. This increased signal-to-interference ratio allows for a more robust and precise determination of the propagation delay τ<sub>1 </sub>from the combined CCF portion.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 4</figref> is an illustration of the process of combining different portions S<b>1</b>, S<b>2</b> and S<b>3</b> of a CCF into a combined CCF according to the present invention. In the first three rows of <figref idref="DRAWINGS">FIG. 4</figref>, a respective portion S<b>1</b>, S<b>2</b> and S<b>3</b> of a CCF similar to the portions of the CCF <b>303</b> in the last row of <figref idref="DRAWINGS">FIG. 3</figref> is depicted, respectively, wherein the CCF in <figref idref="DRAWINGS">FIG. 4</figref> is computed between a receive signal that comprises the received SDSSs of a first and a second transmitter, and a first code, wherein said first code is used by the first transmitter and comprises N<sub>1</sub>=64 chips, and wherein the second code is used by the second transmitter and comprises N<sub>2</sub>=62 chips. The solid line <b>400</b> represents the auto-correlation peaks, and the dashed line <b>401</b> represents the cross-correlation peaks.</p>
<p id="p-0055" num="0054">As can be seen from the first three rows of <figref idref="DRAWINGS">FIG. 4</figref>, the auto-correlation peaks <b>400</b> remain at their positions within the portions of the CCF, whereas the cross-correlation peaks <b>401</b> are moving due to the different number of chips in the first and second code.</p>
<p id="p-0056" num="0055">The last row of <figref idref="DRAWINGS">FIG. 4</figref> shows the combined CCF portion that is yield by integrating the CCF portions S<b>1</b>, S<b>2</b> and S<b>3</b> in the three rows above, whereas the ordinate scale in the last row of <figref idref="DRAWINGS">FIG. 4</figref> is different as compared to the three rows above: Apparently, the auto-correlation peaks <b>400</b> have been enhanced, whereas the cross-correlation peaks <b>401</b> are barely visible in the changed scale.</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 5</figref> is an illustration of the process of combining portions S<b>1</b>-S<b>4</b> of a CCF into a combined CCF according to the Vary Length Multiple Access (VLMA) technique according to the present invention. A first transmitter uses a first code of length N<sub>1</sub>=64 chips, and a second transmitter uses exactly the same code, but with the last two chips cut off, so that the second code only comprises N<sub>2</sub>=62 chips. A portion S<b>1</b> from the CCF between the receive signal and the first code is depicted in the left column of <figref idref="DRAWINGS">FIG. 5</figref>, whereas a portion S<b>1</b> from a CCF between the same receive signal and the second code is depicted in the right column of <figref idref="DRAWINGS">FIG. 5</figref>. In the left column plots, the auto-correlation peaks <b>500</b> are given in solid lines and the cross-correlation peaks <b>501</b> are given in dashed lines, whereas in the right column, the auto-correlation peaks <b>502</b> are given in dashed lines and the cross-correlation peaks <b>503</b> are given in solid lines. The second row of <figref idref="DRAWINGS">FIG. 5</figref> shows the respective results of integrating over two portions S<b>1</b> and S<b>2</b> of the respective CCFs, the third row shows the result of the integration over three portions S<b>1</b>-S<b>3</b> of the respective CCF, and so forth.</p>
<p id="p-0058" num="0057">As can be spotted from the first row of <figref idref="DRAWINGS">FIG. 5</figref>, when only considering one portion of the CCF and using merely the same code for both transmitters according to the VLMA principle, the auto-correlation peaks and the cross-correlation peaks reach approximately the same amplitudes. Proper detection of a transmission delay, or, as it is desired in VLMA, separation of the data symbol streams of two transmitters, is not possible. However, as can be seen from the second to the fourth row of <figref idref="DRAWINGS">FIG. 5</figref>, with increasing numbers of portions of the CCFs that are integrated, the amplitudes of the respective cross-correlation peaks decrease as compared to the amplitudes of the auto-correlation peaks. After only two integrations, cf. the second row of <figref idref="DRAWINGS">FIG. 5</figref>, already proper detection of the first and second propagation delays and separation of the signals data symbol streams of the first and second transmitter is possible.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 6</figref> presents a comparison of the achievable reduction of the cross-correlation in dB as function of the code length N according to the prior art and according to different parameterizations of the present invention.</p>
<p id="p-0060" num="0059">The curve <b>600</b> represents a state-of-the-art CDMA system with pseudo-random spreading codes of length N, wherein the codes of both transmitters have the same length. Curve <b>601</b> represents a system according to the present invention with a first code of length N and a second code of length N−1, wherein 5 different portions of the CCF are integrated. For curves <b>602</b> and <b>603</b>, 10 and 20 integrations have been performed, respectively.</p>
<p id="p-0061" num="0060">It can be readily seen that performance improves from curves <b>600</b> to <b>603</b>. In particular, as can be seen when comparing the operating points A (−19.3 dB) and B (−29.9 dB), a gain of 10·log<sub>10</sub>(M)=10 dB in cross-correlation can be achieved when replacing a state-of-the-art CDMA system by a system according to the present invention and performing M=10 integrations therein. Furthermore, it can be seen that the increase of the length of the codes reduces the cross-correlation encountered in all four considered systems. However, when comparing operating points B (−29.9 dB) and C (−28.0 dB), is becomes evident that when using the system according to the present invention with 10 integrations and a code length of N=1000 chips (for the first code, and 999 chips for the second code), the cross-correlation is still nearly 2 dB lower as in the state-of-the-art system with a code length of 10000 chips. The present invention, by using computationally cheap 10-fold integration, thus performs even better that a system that uses 10 times longer codes, which is of particular relevance when noting that the computational complexity increases exponentially with the code length. The additional computational complexity required to perform the 10-fold integration can be neglected compared to the computational complexity encountered when increasing the length of the codes by a factor 10.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 7</figref> depicts a flow chart of the method according to the present invention. In a first step <b>700</b>, the delayed SDSS as transmitted by a plurality of transmitters are received as a superposition. Then the code index is set to i=1 (step <b>701</b>), and a replica of the first code is generated in a step <b>702</b>, wherein said replica is synchronized with the transmission instance of the transmitted that uses said first code. In step <b>703</b>, the superposition of the received SDSS is correlated with said first code in order to obtain a complete first CCF or portions thereof. In a step <b>704</b>, portions of said complete first CCF or of said portions of said CCF are selected for combination, and actually combined in step <b>705</b> by means of integration or averaging, yielding a first combined CCF portion. In step <b>706</b>, the propagation delay associated with the received SDSS that was spread with said first code and transmitted by a first transmitter is determined from the position of the auto-correlation peak within said first combined CCF portion. Afterwards, in a step <b>707</b>, the code index i is increased by one, and the steps <b>702</b> to <b>707</b> are repeated in order to determine the delays associated with the received SDSS that was spread with a second code, and so forth.</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 8</figref> finally is a schematic illustration of a device according to the present invention. Said device comprises a signal reception instance <b>800</b>, wherein amplification, demodulation (if necessary), pulse-shape matched filtering, equalization and sampling may be performed. The signal reception instance <b>800</b> outputs a signal that comprises a couple of received SDSS to a correlator <b>801</b>. The correlator is fed with code replicas by a code replica generator <b>802</b>, which is triggered by a clock <b>803</b>, which in turn is controlled by a synchronization unit <b>804</b>. The synchronization unit <b>804</b> ensures that the clock <b>803</b> of the device is synchronized with the universal time that is used by the transmitters. The correlator <b>801</b> correlates said signal with a code replica from said code replica generator <b>802</b> and outputs a CCF or portions thereof to a portion selection unit <b>805</b>. In this unit, portions of the CCF that are suited for combination are selected or determined and then fed into a portion combination unit <b>806</b>. In this unit, the actual combination of at least two portions of a CCF is performed by means of averaging or integrating. The resulting combined CCF portion then is handed to a delay detection unit that determines the delay on the delay axis of the combined CCF portion for which an auto-correlation peak is encountered. This delay may be forwarded to a signal processing instance <b>808</b>, which may as well receive said signal comprising a couple of received SDSS from the signal reception instance <b>800</b> and process the actual information of the data symbol stream. Both said information and the delay may be further processed by said signal processing unit for determining the position of the device.</p>
<p id="p-0064" num="0063">The invention has been described above by means of preferred embodiments. It should be noted that there are alternative ways and variations which are obvious to a skilled person in the art and can be implemented without deviating from the scope and spirit of the appended claims. In particular, the present invention is by no means restricted to a GNSS such as GPS or Galileo, but is applicable in any CDMA system, for instance in CDMA mobile communication systems. The combination of several portions of the CCF does not necessarily have to be performed in a receiver, but can also be performed in an outside network. The results may then be forwarded to the receiver or to the transmitters to increase the accuracy of the system. It should be noted that the difference between the number of chips of two codes does not necessarily have to be an integer number of chips, also fractional numbers of chips are possible. Furthermore, apart from the fact that phase modulation of the spread data symbol streams may not be mandatory at all, further types of modulation techniques such as frequency or amplitude modulation may be applied.</p>
<p id="p-0065" num="0064">The invention as presented in this specification allows for a fast and computationally efficient acquisition as compared to prior art systems. The reduction of the cross-correlation is even larger as in a system that uses longer codes. The reduction in coding or spreading gain that results from the reduction of the length of the code by a couple of chips (for instance in the order of some tens, if one length for each satellite is desired) is insignificant as compared to the overall code length, which is of the order 1000 in a GPS system and of the order 10000 in the Galileo system. Frame synchronization between the transmitted frames of several transmitters can be made feasible by choosing the codes so that the frame length in chips equals the least common multiple of all code lengths in the system. Code length reuse is possible, e.g. for satellites that are known to be on opposite sites of the orbit. To allow for a constant data symbol rate and to combat jamming, periodic changing of the codes is possible. The method according to the present invention breaks the limitation of a communication system that the length of all codes has to be equal and thus contributes to rendering the deployed communication signals similar to noise signals. According to Shannon's information theory, the method according to the present invention thus may contribute to further approach Shannon's channel capacity limit.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298780-20071120-M00001.NB">
<img id="EMI-M00001" he="8.81mm" wi="76.20mm" file="US07298780-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for determining a delay of a spread data symbol stream, comprising the steps of:
<claim-text>at least partially correlating a signal, which comprises at least first and second spread data symbol streams that are obtained by spreading at least a first and second data symbol stream with a respective first and second code, with said first code to obtain at least two portions of a cross-correlation function between said signal and said first code, and</claim-text>
<claim-text>combining said at least two portions of said cross-correlation function to obtain a combined cross-correlation function portion from which a first delay of said first spread data symbol stream is determined,</claim-text>
</claim-text>
<claim-text>wherein said first code and said second code are composed of chips and wherein the number of chips of said first code is different from the number of chips of said second code,</claim-text>
<claim-text>wherein said signal is a receive signal comprising the superposed spread data symbol streams that have been transmitted by satellite transmitters and received at a receiver with respective propagation delays, wherein said propagation delays are indicative of the distance between said receiver and said respective satellite transmitters, and wherein said determined first delay is one of said propagation delays.</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said step of combining said at least two portions of said cross-correlation function comprises the step of averaging said at least two portions of said cross-correlation function or integrating said at least two portions of said cross-correlation function.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the number of chips of said first code and the number of chips of said second code are not multiples of each other.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the chip rates of said at least first and second spread data symbol streams are equal.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein N chips of said at least first and second spread data symbol stream are contained in a frame, respectively, and wherein N is the least common multiple of the number of chips of said first code and the number of chips of said second code.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said first code and second code are software codes and/or pseudo-random noise codes.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said first code and second code are taken from the same basic code and only differ in the number of chips.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said signal further comprises a third spread data symbol stream that is obtained by spreading a third data symbol stream with a third code, wherein said third code is composed of chips and wherein the number of chips of said third code is equal to the number of chips of said first code or to the number of chips of said second code.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said first and second codes are time-invariant.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said first and second codes are changed in certain intervals.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein said first and second codes are periodically changed so that the average number of chips in said respective first and second code is equal.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said satellite transmitters are satellite transmitters of a Global Navigation Satellite System (GNSS).</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A computer program product comprising a computer program with instructions stored in a readable memory, the instructions operable to cause a processor to perform the method steps of <claim-ref idref="CLM-00001">claim 1</claim-ref>.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A device for determining a delay of a spread data symbol stream, comprising:
<claim-text>means for at least partially correlating a signal, which comprises at least first and second spread data symbol streams that are obtained by spreading at least a first and second data symbol stream, with a respective first and second code with said first code to obtain at least two portions of a cross-correlation function between said signal and said first code, and</claim-text>
<claim-text>means for combining said at least two portions of said cross-correlation function to obtain a combined cross-correlation function portion from which a first delay of said first spread data symbol stream is determined, wherein said first code and said second code are composed of chips and wherein the number of chips of said first code is different from the number of chips of said second code.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A system, comprising:
<claim-text>at least a first and a second transmitter, for transmitting respective first and second spread data symbol streams that are obtained by spreading at least a respective first and second data symbol stream with a respective first and second code, wherein said first code and said second code are composed of chips and wherein the number of chips of said first code is different from the number of chips of said second code, and</claim-text>
<claim-text>at least one receiver for receiving a signal comprising at least said respective first and second spread data symbol streams, wherein said data streams are received at the at least one receiver with respective propagation delays, wherein said propagation delays are indicative of the distance between said at least one receiver and said first and second transmitters, wherein said receiver at least partially correlates said signal with said first code to obtain at least two portions of a cross-correlation function between said signal and said first code, and wherein said receiver combines said at least two portions of said cross-correlation function to obtain a combined cross-correlation function portion from which a first delay of said first spread data symbol stream is determined, wherein said first delay is one of said propagation delays.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A device for determining a delay of a spread data symbol stream, comprising:
<claim-text>a correlator for at least partially correlating a signal, which comprises at least first and second spread data symbol streams that are obtained by spreading at least a first and second data symbol stream, with a respective first and second code with said first code to obtain at least two portions of a cross-correlation function between said signal and said first code, and</claim-text>
<claim-text>a combination unit for combining said at least two portions of said cross-correlation function to obtain a combined cross-correlation function portion from which a first delay of said first spread data symbol stream is determined,</claim-text>
</claim-text>
<claim-text>wherein said first code and said second code are composed of chips and wherein the number of chips of said first code is different from the number of chips of said second code.</claim-text>
</claim>
</claims>
</us-patent-grant>
