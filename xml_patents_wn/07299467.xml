<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299467-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299467</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10328440</doc-number>
<date>20021223</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>758</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>9</main-group>
<subgroup>46</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>16</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>167</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>173</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>76</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>9</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>718104</main-classification>
<further-classification>718102</further-classification>
<further-classification>718103</further-classification>
<further-classification>709201</further-classification>
<further-classification>709216</further-classification>
<further-classification>709217</further-classification>
<further-classification>709223</further-classification>
<further-classification>709226</further-classification>
<further-classification>712 28</further-classification>
<further-classification>713  1</further-classification>
<further-classification>713  2</further-classification>
<further-classification>713100</further-classification>
</classification-national>
<invention-title id="d0e53">Method and system for minimizing memory access latency in a computer system</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4914570</doc-number>
<kind>A</kind>
<name>Peacock</name>
<date>19900400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>718106</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5442771</doc-number>
<kind>A</kind>
<name>Filepp et al.</name>
<date>19950800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709219</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5517662</doc-number>
<kind>A</kind>
<name>Coleman et al.</name>
<date>19960500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5574944</doc-number>
<kind>A</kind>
<name>Stager</name>
<date>19961100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5594910</doc-number>
<kind>A</kind>
<name>Filepp et al.</name>
<date>19970100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>712 28</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5687370</doc-number>
<kind>A</kind>
<name>Garst et al.</name>
<date>19971100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5758072</doc-number>
<kind>A</kind>
<name>Filepp et al.</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709220</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5924116</doc-number>
<kind>A</kind>
<name>Aggarwal et al.</name>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711122</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5940621</doc-number>
<kind>A</kind>
<name>Caldwell</name>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717156</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6026415</doc-number>
<kind>A</kind>
<name>Garst et al.</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6065058</doc-number>
<kind>A</kind>
<name>Hailpern et al.</name>
<date>20000500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709231</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6085193</doc-number>
<kind>A</kind>
<name>Malkin et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707 10</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6088758</doc-number>
<kind>A</kind>
<name>Kaufman et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>6092098</doc-number>
<kind>A</kind>
<name>Araki et al.</name>
<date>20000700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>6182123</doc-number>
<kind>B1</kind>
<name>Filepp et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709217</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>6304884</doc-number>
<kind>B1</kind>
<name>Garst et al.</name>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>6421713</doc-number>
<kind>B1</kind>
<name>Lamparter</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709216</main-classification></classification-national>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>6651141</doc-number>
<kind>B2</kind>
<name>Adrangi</name>
<date>20031100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711118</main-classification></classification-national>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>6779030</doc-number>
<kind>B1</kind>
<name>Dugan et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709223</main-classification></classification-national>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>7024450</doc-number>
<kind>B1</kind>
<name>Deo et al.</name>
<date>20060400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709203</main-classification></classification-national>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>7054900</doc-number>
<kind>B1</kind>
<name>Goldston</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709203</main-classification></classification-national>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>2002/0073167</doc-number>
<kind>A1</kind>
<name>Powell et al.</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709217</main-classification></classification-national>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>2002/0091763</doc-number>
<kind>A1</kind>
<name>Shah et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709203</main-classification></classification-national>
</citation>
<citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>2002/0133537</doc-number>
<kind>A1</kind>
<name>Lau et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709203</main-classification></classification-national>
</citation>
<citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>2002/0165939</doc-number>
<kind>A1</kind>
<name>Terribile</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709218</main-classification></classification-national>
</citation>
<citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>2003/0018960</doc-number>
<kind>A1</kind>
<name>Hacking et al.</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717158</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00027">
<othercit>Kopp, Carlo, “Proxies and Performance,” Dec. 2000, Carlo Kopp's Systems Publications, pp. 1-8.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
</references-cited>
<number-of-claims>21</number-of-claims>
<us-exemplary-claim>10</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>718102-104</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709201</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709216</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709223</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709226</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709217</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>712 28</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>710 36</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>710 37</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>702179</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713  1-  2</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713100</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>1</number-of-drawing-sheets>
<number-of-figures>3</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040123301</doc-number>
<kind>A1</kind>
<date>20040624</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Collins</last-name>
<first-name>David L.</first-name>
<address>
<city>Magnolia</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Dupree</last-name>
<first-name>Steven R.</first-name>
<address>
<city>The Woodlands</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Hewlett-Packard Development Company, L.P.</orgname>
<role>02</role>
<address>
<city>Houston</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Thomson</last-name>
<first-name>William</first-name>
<department>2194</department>
</primary-examiner>
<assistant-examiner>
<last-name>Wu</last-name>
<first-name>Qing-Yuan</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A computer system includes a plurality of nodes coupled together wherein each node may comprise a processor and memory. The system may also include a plurality of software objects usable by any of the nodes. Each object may be provided to, and stored in, the memory of the node that most frequently uses the object.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="50.38mm" wi="63.92mm" file="US07299467-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="238.17mm" wi="165.18mm" file="US07299467-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention generally relates to a computer system and more particularly to a multi-node computer system in which software objects are distributed across the various nodes according to their frequency of use.</p>
<p id="p-0004" num="0003">2. Background Information</p>
<p id="p-0005" num="0004">An operating system comprises executable code that provides an infrastructure on which application programs may run. Operating systems generally provide a variety of resources which application programs may access. Such resources may include memory allocation resources, graphics drivers, etc., and may generally be referred to as the operating system “kernel.”</p>
<p id="p-0006" num="0005">Part of the process of launching an operating system during system initialization involves loading the kernel in memory. For some operating systems, the kernel is loaded into a predetermined area of memory. That is, a pre-designated portion of memory is allocated for the operating system kernel. For such operating systems, that portion of memory allocated for the kernel is not relocatable and is the same region of memory each time the operating system is launched. Such an operating system may be referred to as being “zero-based, memory dependent.”</p>
<p id="p-0007" num="0006">Some computer system architectures include a plurality of inter-coupled “nodes” with each node comprising a processor, memory and possibly other devices. Each processor may access its own “local” memory (i.e., the memory contained in the processor's node) as well as the memory of other nodes in the system. The processor-memory combination in each node may be referred to as being “tightly coupled” in that it is much easier and faster for a processor to access its own local memory than the memory of other nodes. Accessing remote memory involves submitting a request through the network between nodes for the desired data, whereas accessing local memory does not require use of network communication resources and the associated latencies.</p>
<p id="p-0008" num="0007">In a zero-based, memory dependent operating system in which the operating system kernel must be loaded in a pre-designated portion of the memory space, the kernel may be loaded into the local memory of a single node. The node containing the kernel thus has easy, rapid access to the kernel resources. Other nodes in the system also have access to the kernel, but not necessarily as rapidly as the node in which the kernel physically resides. Some nodes may be coupled directly to the node containing the kernel, while other nodes may not couple to the kernel's node via other intervening nodes. This latter type of node, which does not have a direct connection to the node containing the kernel, may be granted access to the kernel, but such requests and accesses flow through the nodes intercoupling the node needing the kernel and the node containing the kernel. Moreover, the latency associated with kernel accesses is exacerbated as the number of intervening nodes increases between the requesting node and the node containing the kernel. It is desirable to reduce latency in this regard.</p>
<heading id="h-0002" level="1">BRIEF SUMMARY OF EMBODIMENTS OF THE INVENTION</heading>
<p id="p-0009" num="0008">One or more of the problems noted above may be addressed by a computer system that includes a plurality of nodes coupled together wherein each node may comprise a processor and memory. The system may also include a plurality of software objects usable by any of the nodes. Each object may be provided to, and stored in, the memory of the node that most frequently uses the object. Without limitation, various embodiments of the invention may comprise a single node that performs the functionality described herein, a computer system having a plurality of nodes, and an associated method.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009">For a detailed description of the preferred embodiments of the invention, reference will now be made to the accompanying drawings in which:</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> shows a system diagram of a multi-node processor system in accordance with embodiments of the invention;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a memory map in which an operating system kernel may be mapped; and</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> shows an exemplary method of reducing latency in accordance with embodiments of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">NOTATION AND NOMENCLATURE</heading>
<p id="p-0014" num="0013">Certain terms are used throughout the following description and claims to refer to particular system components. As one skilled in the art will appreciate, computer companies may refer to a component by different names. This document does not intend to distinguish between components that differ in name but not function. In the following discussion and in the claims, the terms “including” and “comprising” are used in an open-ended fashion, and thus should be interpreted to mean “including, but not limited to . . .”. Also, the term “couple” or “couples” is intended to mean either an indirect or direct electrical connection. Thus, if a first device couples to a second device, that connection may be through a direct electrical connection, or through an indirect electrical connection via other devices and connections.</p>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION</heading>
<p id="p-0015" num="0014">The following discussion is directed to various embodiments of the invention. Although one or more of these embodiments may be preferred, the embodiments disclosed should not be interpreted or otherwise used as limiting the scope of the disclosure, including the claims, unless otherwise specified. In addition, one skilled in the art will understand that the following description has broad application, and the discussion of any embodiment is meant only to be exemplary, and not intended to intimate that the scope of the disclosure, including the claims, is limited to these embodiments.</p>
<p id="p-0016" num="0015">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, a computer system <b>100</b> is shown in accordance with embodiments of the invention. The system <b>100</b> may include a plurality of nodes <b>102</b>, <b>104</b>, <b>106</b> and <b>108</b>. Although four nodes <b>102</b>-<b>108</b> are shown in <figref idref="DRAWINGS">FIG. 1</figref>, any number of nodes may be included. As shown, each node couples to two adjacent nodes. Thus, node <b>102</b> couples to nodes <b>104</b> and <b>108</b>, node <b>104</b> couples to nodes <b>102</b> and <b>106</b>, node <b>106</b> couples to nodes <b>104</b> and <b>108</b>, and node <b>108</b> couples to nodes <b>102</b> and <b>106</b>. Other configurations are possible as well and included within the scope of this disclosure.</p>
<p id="p-0017" num="0016">Each node <b>102</b>-<b>108</b> may include one or processors <b>120</b>, labeled as “P<sub>0</sub>”-“P<sub>3</sub>” as shown. Each node may also include local memory <b>124</b> that is coupled to the processor contained in that node. The local memory <b>124</b> of each node is accessible by that node's processor and the processors of other nodes. Thus, each processor <b>120</b> may access the memory of all other nodes in the system. Each processor <b>120</b> may execute one or more applications. Each node may run the same or different applications as are run on other nodes.</p>
<p id="p-0018" num="0017">The system <b>100</b> may include other devices as well. For example, node <b>102</b> may couple to bridge device <b>130</b> which provides a bus <b>132</b> to which other devices may couple. Such other devices may include, for example, a keyboard controller <b>134</b> coupled to a keyboard <b>136</b> and a floppy disk controller <b>138</b>. Other and/or different devices may be coupled to the system <b>100</b> via bus <b>132</b> and bridge <b>130</b>. Although the bridge <b>130</b> is shown coupled to node <b>102</b>, the bridge may be coupled to another node if desired.</p>
<p id="p-0019" num="0018">The system may also include an input/output (“I/O”) controller <b>140</b> which provides a bus <b>142</b> to which one or more I/O devices may be coupled. Examples of such I/O devices may include a small computer system interface (“SCSI”) controller <b>144</b> and a network interface card “NIC”) <b>146</b>. Other and/or different I/O devices may be coupled to the system <b>100</b> via bus <b>142</b> and I/O controller <b>140</b>.</p>
<p id="p-0020" num="0019">Referring now to <figref idref="DRAWINGS">FIG. 2</figref>, a memory map <b>200</b> is shown. In general, the memory map <b>200</b> includes the all of the local memories <b>124</b> in the system <b>100</b> and address ranges assigned to the local memories so that preferably no two memory locations have the same memory address. As explained previously, the operating system kernel may include various resources <b>202</b>, labeled in <figref idref="DRAWINGS">FIG. 2</figref> as RESOURCE <b>1</b>, RESOURCE <b>2</b>, . . . , RESOURCE n, which are mapped to a non-relocatable and pre-designated portion <b>204</b> of memory.</p>
<p id="p-0021" num="0020">Referring to <figref idref="DRAWINGS">FIGS. 1 and 2</figref> and in accordance with various embodiments of the invention, the resources comprising operating system kernel may be distributed across two or more nodes <b>102</b>-<b>108</b> in a way so as to reduce the latency associated with inter-node kernel accesses. A variety of embodiments may be possible for accomplishing this result. One exemplary embodiment involves allocating the kernel's resources <b>202</b> to the nodes that typically have a greater need for such resources. For example, one node out of the plurality of nodes <b>102</b>-<b>108</b> may run an application that uses a particular kernel resource <b>202</b> more often than the other nodes. That being the case, that particular resource <b>202</b> may be provided to the node most often needing the resource for storage in that node's memory <b>124</b>. Further, each resource may be assigned to the node that history as shown most frequently needs the resource. The memory map <b>200</b> may remain the same as in conventional systems. That is, the memory map <b>200</b> will still list the kernel resources <b>202</b> as being located in the pre-designated region of memory <b>204</b>. However, the kernel resources <b>202</b> identified in the memory map <b>200</b> may be distributed among the various nodes <b>102</b>-<b>108</b> in a manner that takes advantage of the frequency of use of such resources among the various applications that run on the nodes <b>102</b>-<b>108</b>.</p>
<p id="p-0022" num="0021">Referring now to <figref idref="DRAWINGS">FIG. 3</figref>, a method of implementing this feature may include blocks <b>250</b> and <b>252</b>. In block <b>250</b>, a profile of use of the kernel resources <b>202</b> is generated. This profiling act may include tracking the frequency of use of each kernel resource by each of the various applications running on the various nodes in the system <b>100</b>. This act can be accomplished by any suitable technique such as statistical sampling software (i.e., VTUNE-Intel). In some embodiments, a boot strap processor (“BSP”) node may perform the act of profiling. In general, the boot strap processor node may be responsible for initializing the system <b>100</b> and launching the operating system, as well as profiling kernel resource usage in accordance with the preferred embodiment. In general, any node, such as node <b>102</b>, may function as the BSP, but typically one node is predetermined to be the BSP, or a BSP selection algorithm may be implemented during initialization. Profiling may occur continuously during run-time or at predetermined discrete times. The profiling results generally may include a frequency of use distribution of the various resources with the various applications that may run on the nodes <b>102</b>-<b>108</b>. The results of the act of profiling kernel resource usage may be stored in a file in non-volatile memory <b>125</b> on the boot strap processor node, which may be node <b>102</b> as shown. The non-volatile memory <b>125</b> may be coupled to the processor <b>120</b> and may comprise a suitable type of read only memory (“ROM”), such as electrically erasable read only memory (“EEPROM”), battery backed-up random access memory (“RAM”), or other suitable type of storage medium. Further, the non-volatile memory <b>125</b> may be pre-loaded with a default profile data file. Then, during normal system operation, the default profile data file may be updated with new profiling results according to the particular operation of the system <b>100</b>.</p>
<p id="p-0023" num="0022">Referring to <figref idref="DRAWINGS">FIGS. 1 and 2</figref> and in accordance with various embodiments of the invention, the resources associated with the operating system kernel may be distributed across two or more nodes <b>102</b>-<b>108</b> in a way so as to reduce the latency associated with inter-node kernel accesses. A variety of embodiments may be possible for accomplishing this result. One exemplary embodiment involves allocating the kernel's resources <b>202</b> to the nodes that typically have a greater need for such resources. For example, one node out of the plurality of nodes <b>102</b>-<b>108</b> may run an application that uses a particular kernel resource <b>202</b> more often than the other nodes. That being the case, that particular resource <b>202</b> may be provided to the node most often needing the resource for storage in that node's memory <b>124</b>. Further, each resource may be assigned to the node that history as shown most frequently needs the resource. The memory map <b>200</b> may remain the same as in conventional systems. That is, the memory map <b>200</b> will still list the kernel resources <b>202</b> as being located in the pre-designated region of memory <b>204</b>. However, the kernel resources <b>202</b> identified in the memory map <b>200</b> may be distributed among the various nodes <b>102</b>-<b>108</b> in a manner that takes advantage of the frequency of use of such resources among the various applications that run on the nodes <b>102</b>-<b>108</b>.</p>
<p id="p-0024" num="0023">It is possible that an application that runs on two or more of the nodes <b>102</b>-<b>108</b> may have an approximately equal frequency of use of a particular kernel resource. In this case, the resource may be loaded on any of such nodes. The frequency of use of other nodes may also be considered. For example, two nodes may run applications that result in an approximately equal frequency of use of a particular kernel resource. While both nodes may have an approximately equal use of a particular resource, a third node may have a substantial (albeit lower) need for the same resource. With regard to <figref idref="DRAWINGS">FIG. 1</figref>, for example, nodes <b>106</b> and <b>108</b> may have an approximately equal frequency of use of a particular resource <b>202</b>, and node <b>104</b> may require the same resource, but less often. In this case, the resource may be provided to node <b>106</b>, rather than node <b>108</b>. In that way, node <b>104</b> need only incur a one node “hop” to node <b>106</b> to acquire the necessary resource. If, instead, the resource <b>202</b> had been provided to node <b>108</b>, node <b>104</b> would have had to incur a two node hop through node <b>106</b> to acquire the resource from node <b>108</b>.</p>
<p id="p-0025" num="0024">The preferred embodiments permit a more efficient distribution of operating system kernel resources in a multi-node computer system, thereby advantageously reducing latency. The above discussion is meant to be illustrative of the principles and various embodiments of the present invention. Numerous variations and modifications will become apparent to those skilled in the art once the above disclosure is fully appreciated. For example, although the resources comprising the operating system kernel are described as being distributed across the various nodes, in general, any type of memory-based object may be distributed as described above. Without limitation, such objects may include statically located system environment variables. It is intended that the following claims be interpreted to embrace all such variations and modifications.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A computer system, comprising:
<claim-text>a plurality of nodes coupled together, each node comprising a processor and memory; and</claim-text>
<claim-text>a plurality of software objects usable by any of the nodes;</claim-text>
<claim-text>wherein one of the plurality of nodes determines which of the plurality of nodes most frequently uses each object;</claim-text>
<claim-text>wherein, based on said determination, each object is provided to and stored in the memory of a single node that most frequently uses the object so that all other nodes when needing said object access said single node in whose memory the object is stored;</claim-text>
<claim-text>wherein each software object is stored in only one of said plurality of nodes at a time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The computer system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein one of said nodes comprises a boot strap processor that determines to which node to provide and store each software object.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The computer system of <claim-ref idref="CLM-00002">claim 2</claim-ref> including a plurality of applications that run on the nodes, each application capable of running on one or more nodes, and the boot strap processor includes profile data that is indicative of a frequency of use of each software object by the plurality of applications, and wherein the boot strap processor determines to which node to provide and store each software object by retrieving and examining said profile data.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The computer system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein a software object may be used equally by first and second nodes and to a lesser degree by a third node that is connected to one of said first or second nodes, and said object is provided to the one of said first and second nodes that is connected to said third node.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The computer system of <claim-ref idref="CLM-00001">claim 1</claim-ref> including a plurality of applications that run on the nodes, each application capable of running on one or more nodes, and at least one of said nodes includes profile data that is indicative of a frequency of use of each software object by the plurality of applications.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The computer system of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein said profile data is generated during run-time of said computer system.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The computer system of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein said profile data comprises a predetermined data set.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The computer system of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein said profile data comprises a plurality of software objects and a frequency of use of each object with an application that runs on one or more nodes.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The computer system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said software objects comprise operating system kernel resources.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A computer node operable in a system comprising a plurality of computer nodes and a plurality of operating system kernel resources, said computer node comprising:
<claim-text>a processor;</claim-text>
<claim-text>memory coupled to said processor and containing profile data that identifies which computer node most frequently uses each operating system kernel resource;</claim-text>
<claim-text>wherein said processor, for each operating system kernel resource and based on said profile data, provides said kernel resource to a single computer node that most frequently uses said kernel resource so that all other computer nodes, when needing said operating system kernel resource, access said single computer node to which the operating system kernel resource is provided;</claim-text>
<claim-text>wherein each kernel resource is stored in only one of said plurality of computer nodes at a time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The computer node of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said node comprises a boot strap processor that determines to which node to provide and store each operating system kernel resource.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The computer node of <claim-ref idref="CLM-00011">claim 11</claim-ref> further comprising a boot strap processor.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The computer node of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein an operating system kernel resource may be used equally by first and second nodes and to a lesser degree by a third node that is connected to one of said first or second nodes, and said processor provides said resource to the one of said first and second nodes that is connected to said third node.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The computer node of <claim-ref idref="CLM-00010">claim 10</claim-ref> wherein said system includes a plurality of applications that run in the system, each application capable of running on one or more nodes, and said profile data is indicative of the frequency of use of each operating system kernel resource by the plurality of applications.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The computer node of <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein said profile data is generated during run-time.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The computer node of <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein said profile data comprises a predetermined data set.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The computer node of <claim-ref idref="CLM-00014">claim 14</claim-ref> wherein said profile data comprises a plurality of operating system kernel resources and a frequency of use of each resource with an application that runs on one or more nodes.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A method, comprising:
<claim-text>(a) obtaining profile data that identifies, for each of a plurality of software objects, a node from among a plurality of nodes that most frequently uses each such software object;</claim-text>
<claim-text>(b) determining which node runs an application that uses a particular software object more frequently than another node from said plurality of nodes that runs said application;</claim-text>
<claim-text>(c) based on said determination, copying the software object to a single node that runs the application that uses the software object more frequently than said another node so that said another node accesses said software object from the single node to which the software object was copied; and</claim-text>
<claim-text>(d) repeating (b) and (c) for additional software objects;
<claim-text>wherein each software object is stored in only one of said plurality of nodes at a time.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref> further including generating said profile data and storing said profile data in a node in the multi-node system.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00019">claim 19</claim-ref> wherein (b) includes determining a plurality of nodes that use the particular software object equally and (c) includes copying the software object to one of said plurality of nodes that use the particular software object equally.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The method of <claim-ref idref="CLM-00020">claim 20</claim-ref> wherein (c) includes copying the software object to one of said plurality of nodes that use the particular software object equally and that connects to a different node from said plurality of nodes that uses the software object, albeit less frequently than said plurality of nodes that use the particular software object equally.</claim-text>
</claim>
</claims>
</us-patent-grant>
