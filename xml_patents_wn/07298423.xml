<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298423-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298423</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10998386</doc-number>
<date>20041129</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>529</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>9</main-group>
<subgroup>66</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>D</subclass>
<main-group>3</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>348639</main-classification>
<further-classification>348727</further-classification>
<further-classification>329343</further-classification>
</classification-national>
<invention-title id="d0e53">Time based digital FM demodulator</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4570126</doc-number>
<kind>A</kind>
<name>Demmer et al.</name>
<date>19860200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>329327</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4963381</doc-number>
<kind>A</kind>
<name>Girard et al.</name>
<date>19901000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>426490</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5117441</doc-number>
<kind>A</kind>
<name>Weigand</name>
<date>19920500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375336</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5260800</doc-number>
<kind>A</kind>
<name>Sturm et al.</name>
<date>19931100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>386  2</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5548343</doc-number>
<kind>A</kind>
<name>Paquier et al.</name>
<date>19960800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348691</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5585761</doc-number>
<kind>A</kind>
<name>Lamberg et al.</name>
<date>19961200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>329304</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5757858</doc-number>
<kind>A</kind>
<name>Black et al.</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375295</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6922555</doc-number>
<kind>B1</kind>
<name>Mohindra</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455314</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>7065162</doc-number>
<kind>B1</kind>
<name>Sorrells et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375343</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>22</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>348638</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348639</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348726</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348727</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>329341</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>329343</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455214</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375324</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375328</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375340</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Gudmondson</last-name>
<first-name>Daniel</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Wong, Cabello, Lutsch, Rutherford &amp; Brucculeri, LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Cirrus Logic, Inc.</orgname>
<role>02</role>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Kostak</last-name>
<first-name>Victor R.</first-name>
<department>2622</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A time-based, digital FM demodulator circuit receives a stream of digital samples corresponding to an analog FM waveform. The samples are provided to a zero crossing detector, which allows a counter to determine a number of clock cycles between zero crossings. The resolution of this coarse period determination is further refined by an intercept calculation, which further localizes the zero crossing of the FM waveform based on interpolation between samples on either side of the zero crossing. Accuracy of the period determination may be further enhanced by use of a sinusoidal correction filter, which minimizes error caused by the linear interpolation performed on the sinusoidal waveform. Although the FM demodulator circuit is particularly suitable for demodulation of the chroma component of a SECAM video signal, it may advantageously be applied in a wide variety of FM demodulation applications.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="238.84mm" wi="122.09mm" file="US07298423-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="219.46mm" wi="158.50mm" orientation="landscape" file="US07298423-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="244.43mm" wi="126.83mm" orientation="landscape" file="US07298423-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="235.46mm" wi="171.53mm" orientation="landscape" file="US07298423-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="240.88mm" wi="147.57mm" file="US07298423-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="128.44mm" wi="147.24mm" file="US07298423-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention:</p>
<p id="p-0003" num="0002">The invention generally relates to video decoders and more specifically to composite video decoders and FM demodulators for use in decoding the color information of a SECAM (Sequential Couleur Avec Mémoire) composite video signal.</p>
<p id="p-0004" num="0003">2. Description of Related Art</p>
<p id="p-0005" num="0004">There is a large surge in the use of digital video devices today. Examples include: digital televisions, LCD (Liquid Crystal Display) TVs (televisions) and monitors, DVD (digital versatile disk) recorders, personal video recorders, PC (personal computer) video cards, video capture and streaming applications, and video conferencing. In many cases, these units need to receive an analog video signal, which may be one of the composite signals, such as NTSC (National Television Standards Committee), PAL (Phase Alternating Line) or SECAM; S-video; component video or RGB (Red-Green-Blue). It is then desirable to produce the proper digital output, such as eight or ten bit ITU-R (International Telecommunications Union-Radio Communication) BT (Broadcast Television) 656. It is preferred that all the video decoding be done in a single chip for all of these formats. The decoder not only has to handle composite signals, which means it must be able to determine the chroma and luma values, but it also must handle vertical blanking interval (VBI) data and handle VCRs (video cassette recorders), which frequently have unstable timing signals.</p>
<p id="p-0006" num="0005">Although a number of such systems have been developed, it is always desirable to improve the output and capabilities of the particular video decoder. For example, it is desirable to support as many video formats as possible while maintaining a certain level of circuit simplicity, both for cost and reliability purposes. Unlike NTSC and PAL composite video, SECAM video includes color information that is frequency modulated. Thus to be able to decode SECAM video, a video decoder must include an FM demodulator. Historically, phase locked loops (PLLs) have been used for FM demodulation. However, these components are susceptible to various forms of electrical noise, and further add to the cost and complexity of the video decoder circuits.</p>
<p id="p-0007" num="0006">Therefore a need exists in the art for a means of performing time-based FM demodulation to eliminate the need for the PLL. It would be further advantageous to perform the demodulation in the digital domain, so as to reduce the susceptibility of the circuitry to various forms of noise and error.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0008" num="0007">The present invention is directed to a time-based, digital FM demodulator circuit. The FM demodulator receives a stream of digital samples corresponding to an analog FM waveform. These samples are provided to a zero crossing detector, which allows a counter to determine a number of clock cycles between zero crossings. The resolution of this coarse period determination is further refined by an intercept calculation, which further localizes the zero crossing of the FM waveform based on interpolation between samples on either side of the zero crossing. Accuracy of the period determination may be further enhanced by use of a sinusoidal correction filter, which minimizes error caused by the linear interpolation performed on the sinusoidal waveform. Although the FM demodulator circuit is particularly suitable for demodulation of the chroma component of a SECAM video signal, it may advantageously be applied in a wide variety of FM demodulation applications.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE FIGURES</heading>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> displays a block diagram of an exemplary personal video recorder using an analog video decoder according to the present invention.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of an analog video decoder according to the present invention.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram depicting a composite decoder portion of an analog video decoder according to the present invention.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a prior art analog time-based FM demodulator.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5</figref> illustrates a digital time-based FM demodulator according to the present invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 6</figref> illustrates a frequency modulated waveform and a digitally sampled version of the FM waveform to better understand certain teachings of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0015" num="0014">Referring now to <figref idref="DRAWINGS">FIG. 1</figref>, an exemplary personal video recorder (PVR) <b>100</b> is shown. PVR <b>100</b> is an exemplary use of analog video decoder <b>102</b>, and it is understood that the analog video decoder can be used in multiple applications including digital televisions, LCD TVs, DVD recorders, video capture situations, and the like. A radio frequency (RF) or broadcast signal is provided to a tuner <b>104</b>. The tuner <b>104</b> provides both video and audio outputs. The video output from the tuner <b>104</b> or a video signal from an external connection is provided to analog video decoder <b>102</b>. The audio signal from the tuner <b>104</b> or an external audio signal is provided to an audio decoder <b>106</b>. The output in the analog video decoder <b>102</b> is preferably an ITU-R BT 656 format digital signal, which may be either an eight or ten bit signal. This digital signal from analog video decoder <b>102</b> is provided to an MPEG (Motion Picture Experts Group) codec (coder-decoder) <b>108</b> to perform video compression in the digital domain. Similarly, the audio decoder <b>102</b> provides a PCM (Pulse Code Modulated) signal to the MPEG codec <b>108</b> to allow MPEG codec <b>108</b> to perform compression of the digital audio signal. The MPEG codec <b>108</b> in output mode provides an ITU-R BT 656 digital stream to an analog video encoder <b>110</b>, which in turn produces an analog video signal output. Similarly, the MPEG codec <b>108</b> provides a PCM digital signal stream to an audio encoder <b>112</b>, which provides an analog audio signal output.</p>
<p id="p-0016" num="0015">The MPEG codec <b>108</b> is connected to a host bus <b>114</b> of a host CPU (Central Processing Unit) <b>116</b>. The host CPU <b>116</b> performs processing operations and controls the various devices located in the PVR <b>100</b>. The host CPU <b>116</b> is connected to flash memory <b>118</b> to hold its program and RAM (Random Access Memory) <b>120</b> for data storage. The host CPU <b>116</b> also interfaces with a front panel <b>122</b>. A hard drive interface <b>124</b> is also connected to the host bus <b>114</b>, with a hard drive <b>126</b> connected to the hard drive interface. The various decoders <b>102</b> and <b>106</b> and encoders <b>110</b> and <b>112</b> are also connected to the host bus <b>114</b> to allow control and setup by the host CPU <b>116</b>.</p>
<p id="p-0017" num="0016">In operation, audio and video signals are provided to the analog video decoder <b>102</b> and the audio decoder <b>106</b>, which then provide their digital streams to the MPEG codec <b>108</b>. The host CPU <b>116</b> programs the MPEG codec <b>108</b> to transfer data to the hard drive interface <b>124</b>, and thus to the hard drive <b>126</b>, for storage. The host CPU <b>116</b> could at a later time direct data to be transferred from the hard drive <b>126</b> to the MPEG codec <b>108</b> for playback. Thus an analog video decoder <b>102</b> is an important part of such analog-to-digital video devices.</p>
<p id="p-0018" num="0017">A block diagram of an exemplary analog video decoder <b>202</b> is shown in <figref idref="DRAWINGS">FIG. 2</figref>. The video signal is provided to an external capacitor <b>202</b>, and is then provided to a clamp, buffer, automatic gain control (AGC) and sample and hold (S/H) block <b>204</b>. Block <b>204</b> provides clamping of the video signal to ensure that the video signal does not exceed limits, impedance buffering and line driving, and automatic gain control and sample and hold. The output is then utilized by an analog-to-digital converter (ADC) <b>206</b> which does the actual analog-to-digital conversion of the video rate signals. The ADC <b>206</b> is preferably operated on a sample clock, which is a free running sample clock and is not locked to the source video in the preferred embodiment. In alternate embodiments, a source locked clock signal could be used. The output of the ADC <b>206</b> is provided to an anti-aliasing/decimation filter <b>208</b> because preferably, the ADC <b>206</b> oversamples the video signal for increased accuracy. The anti-aliasing portion is a low pass filter used to remove sampling alias effects. The decimation filter then reduces the effective sample rate down to the desired rate, such as 27 MHz. The output of the anti-aliasing/decimation filter <b>208</b> is provided to a composite decoder <b>210</b> in the case of a composite video signal such as NTSC, PAL or SECAM. The composite decoder <b>210</b> separates the luma and chroma signals and provides these signals to a digital output formatter <b>212</b>, which produces a 4:2:2, eight or ten bit signal according to the ITU-R BT 656 standard.</p>
<p id="p-0019" num="0018">The output of the analog-to-digital converter <b>206</b> is also provided to a low pass filter <b>214</b> which removes any of the video content, leaving the sync signals. The output of the filter <b>214</b> is then provided to a sync detector <b>216</b>, having outputs that are horizontal and vertical sync signals. The low pass filter <b>214</b> output is also connected to a clock generator <b>218</b>, which is effectively a PLL and produces a source locked clock used by other devices, if appropriate.</p>
<p id="p-0020" num="0019">One portion of video decoder <b>102</b> is composite decoder <b>210</b>. One advantageous aspect of a composite decoder is the ability to demodulate SECAM signals. SECAM (Sequential Couleur Avec Mémoire) is a composite video standard generally used in France, some French-speaking countries, as well as Russia and some former Soviet republics. Details of SECAM and other composite video systems are generally known to those skilled in the art, and thus aspects not critical in the context of the present invention are not repeated here.</p>
<p id="p-0021" num="0020">SECAM is similar to the PAL standard used in most countries other than the United States and Japan. In SECAM video, the line, field, and frame timing is identical to the PAL standard. However, unlike PAL, SECAM chroma (color) information is frequency modulated (FM) rather than phase modulated (PM). An FM modulated signal is simply a signal that will change in frequency by the rate of the modulating signal.</p>
<p id="p-0022" num="0021">All color video signals comprise three color components: red, green, and blue. These colors are the three primary colors of light, and any color can be made by some combination of these three colors. SECAM brightness (luma) signal Y is simply a weighted sum of the red, green, and blue components. The luma signal alone can be displayed as a monochrome image, i.e., black and white television. SECAM color information comprises two color difference signals Dr and Db. The Dr signal is a scaled difference between the red signal and the luma signal. The Db signal is a scaled difference between the blue signal and the luma signal. Thus the original red, green, and blue components can be readily derived from the luma signal Y and the color difference signals Dr and Db.</p>
<p id="p-0023" num="0022">The color difference signals Dr and Db are FM modulated on a 4.43 MHz center carrier ±approximately 200 kHz. Thus to provide for demodulation of SECAM signals, an FM demodulator is required. Furthermore, it is advantageous to provide the capability to perform FM demodulation without the addition of substantial additional circuitry and/or logic to a video decoder.</p>
<p id="p-0024" num="0023">One technique for accomplishing this objective is to use the time-based FM demodulation apparatus and technique of the present invention. In the case of SECAM video signals, the bandwidth of the Dr and Db signals is limited to approximately 1.2 MHz. This relatively limited bandwidth means that adequate samples of the carrier are available to compute the zero crossing change of the carrier (and hence FM demodulate). This advantageously allows FM demodulation to be performed using the time base correction module that is already present in a video decoder. Although described in terms of demodulating SECAM video signals, the present invention is not so limited, and may advantageously be used to demodulate any FM signal.</p>
<p id="p-0025" num="0024">The SECAM composite video signal is composed of luma information “Y” (brightness) and chroma information “C” (color). With reference to <figref idref="DRAWINGS">FIG. 3</figref>, a sampled (digitized) version of the SECAM composite video signal <b>301</b> is input into composite decoder <b>210</b>. Specifically, the signal is input into YC separator <b>302</b>, which subtracts the luma information from the composite signal. This luma signal Y is one output of composite decoder <b>210</b>. The color signal C, which remains after the luma signal is separated, is passed into chroma demodulator <b>303</b>. Chroma demodulator <b>303</b> will separate the chroma signal C into its two components Dr and Db. Alternating lines of the SECAM signal will include either the Dr or Db signal. Thus a first line will be encoded, for example, with the Dr color information, and a next line will be encoded with the Db color information.</p>
<p id="p-0026" num="0025">Chroma demodulator <b>303</b> is essentially an FM demodulator, with a commutation switch so that the demodulated color difference signal can be output to the correct Dr or Db line depending on which color difference signal is present for the current line. A typical prior art time-based FM demodulator used in many DSP applications is illustrated in <figref idref="DRAWINGS">FIG. 4</figref>. An FM modulated signal <b>401</b> is input into a high gain amplifier <b>402</b>. The output of high gain amplifier <b>402</b> saturates from virtually any input, creating a square wave <b>403</b> at its output, with the square wave having a period, i.e., time between zero crossings, identical to the FM modulated signal <b>401</b>.</p>
<p id="p-0027" num="0026">This square wave <b>403</b> serves as the input to counter <b>404</b>. Counter <b>404</b> also has as an input high frequency clock <b>410</b>. Typically high frequency clock <b>410</b> is about 128 times faster than period of the square wave. The number of counts output from counter <b>404</b> are used to determine the period of the square wave by period calculator <b>405</b>. This calculated period is inverted by period inverter <b>406</b> to determine a frequency. The determined frequency is input into summing module <b>407</b>, which subtracts the carrier frequency f<sub>s</sub>. The determined frequency minus the carrier frequency is the demodulated signal <b>409</b>.</p>
<p id="p-0028" num="0027">A time-based FM demodulator according to the present invention is illustrated in <figref idref="DRAWINGS">FIG. 5</figref>. The digital samples of the FM signal <b>501</b> are input into a zero crossing detector <b>502</b>. Zero crossing detector <b>502</b> creates a signal that will change state when the digital sampled data passes through zero (i.e., changes sign). The zero crossing “trigger” signal is input to counter <b>506</b>, which is driven by clock <b>507</b>. For purposes of the video demodulation application described herein, the clock is driven at 27 MHz; however, the clock may be driven at any appropriate frequency for other applications. In any case, the clock signal and zero crossing pulses input into counter <b>506</b> allow the counter to determine the number of clock cycles between zero crossings, and thus coarsely determine the frequency. The frequency is only coarsely determined because the resolution is limited to the resolution of clock <b>507</b>. However, the present invention further provides for additional resolution enhancement of the frequency determination.</p>
<p id="p-0029" num="0028">The digital samples of FM signal <b>501</b> are also input along path <b>503</b> to intercept calculator <b>504</b>. The zero crossing trigger signal generated by zero crossing detector <b>502</b> is also input into intercept calculator <b>504</b>, causing it to store the sample value prior to the zero crossing and the sample value post zero crossing. This operation may be further understood with reference to <figref idref="DRAWINGS">FIG. 6</figref>. The analog FM modulated sine wave <b>601</b> is represented as a series of digital samples, indicated by waveform <b>602</b>. The sampled values are input into the zero crossing detector <b>502</b>. When zero crossing detector <b>502</b> detects the sign change between sample <b>603</b> (a positive value) and sample <b>604</b> (a negative value), the output signal of the zero crossing detector <b>502</b> causes the intercept calculator to retain the sample values <b>603</b> and <b>604</b> for further processing.</p>
<p id="p-0030" num="0029">Intercept calculator <b>504</b> performs an interpolation between the samples <b>603</b> and <b>604</b> to approximate the actual intercept <b>605</b> of the FM waveform. The calculated intercept indicates what fraction of a cycle of the demodulation clock <b>507</b> should be subtracted from the count determined by counter <b>506</b> to further refine the demodulated frequency. By calculating the intercept, and reducing the integer clock count by this fractional value, the effective resolution to signal period is significantly enhanced. Furthermore, this enhanced resolution is achieved without the need to increase the sample frequency as typically done in prior art time-based FM demodulators.</p>
<p id="p-0031" num="0030">In a preferred embodiment, the calculated intercept determined by interpolation by intercept calculator <b>504</b> may be further refined by sin(x) corrector <b>505</b>. As noted above, intercept calculator <b>504</b> determines the location of intercept <b>605</b> by linear interpolation between samples <b>603</b> and <b>604</b>. However, the actual analog signal is a sine wave, not a linear function. The deviation between the linear function used in the interpolation and the actual value of the intercept of the sine wave may impose additional error on the order of several percent, which introduces noise into the signal. Therefore sin(x) corrector <b>505</b> takes advantage of the edge rates and pre-emphasis of SECAM signaling to reduce the error of intercept calculation and reduce the noise in the signal. In a preferred embodiment, this correction is performed by a lookup table arrangement, although other techniques will be apparent to those skilled in the art.</p>
<p id="p-0032" num="0031">The total period (and thus frequency) of the FM waveform is then determined at <b>508</b> by taking the number of clock pulses counted by counter <b>506</b> and subtracting the fraction of a clock pulse indicated by the intercept calculation and optional sin(x) refinement. Because video data is continuous, it is necessary to determine the moving period of the FM signal, which is performed by operational block <b>509</b>. At this point, the FM demodulation is substantially complete. However, additional post processing based on known characteristics of the SECAM video signal may be applied to further reduce noise. For example, limiter <b>510</b> may be applied to limit the data ranges and reject spurious frequencies by checking the computed period based on expected signal profiles of SECAM signaling. The limiter will reject unexpected values (based on SECAM signal profiles) further reducing noise and decode errors. Additionally, infinite impulse response (IIR) low pass filter <b>511</b> may be used to de-emphasize certain parts of the signal that are emphasized as part of standard SECAM signaling. This filter <b>511</b> may also be used to integrate the FM signal, which further reduces noise in the system.</p>
<p id="p-0033" num="0032">Thus by providing a mechanism for digital time-based demodulation of the chroma component of a SECAM composite video signal, the error/noise performance of a video decoder may be substantially enhanced while reducing the cost and complexity of the video decoder. While illustrative embodiments of the invention have been illustrated and described, it will be appreciated that various changes can be made therein without departing from the spirit and scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of demodulating a frequency modulated signal comprising:
<claim-text>sampling the frequency modulated signal to produce a digital representation of the frequency modulated signal;</claim-text>
<claim-text>detecting a plurality of zero crossings of the digital representation;</claim-text>
<claim-text>determining a number of fixed time periods between the plurality of zero crossings;</claim-text>
<claim-text>calculating an intercept for each of the plurality of zero crossings, wherein the intercept is calculated by interpolation between a sample prior to the zero crossing and a sample subsequent to the zero crossing; and</claim-text>
<claim-text>determining a frequency of the frequency modulated signal from the number of fixed time periods and the calculated intercept.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein determining the period of the signal from the number of fixed time periods comprises reducing a sum of the number of fixed time periods by a fraction of the fixed time period determined by the interpolation.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref> further comprising:
<claim-text>correcting the calculated intercept to account for non-linearity of the frequency modulated signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>correcting the calculated intercept to account for non-linearity of the frequency modulated signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the frequency modulated signal comprises chroma information from a SECAM composite video signal obtained by passing the SECAM composite video signal through a luma-chroma separator.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref> further comprising filtering the determined frequency to eliminate spurious frequencies inconsistent with a SECAM chroma signal.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref> further comprising passing the determined frequency through a de-emphasis filter to eliminate effects of pre-emphasis on the signal.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A digital time-based FM demodulation circuit comprising:
<claim-text>a zero crossing detector configured to receive samples of a frequency modulated signal and output a zero crossing indicating signal;</claim-text>
<claim-text>a counter configured to receive a clock signal and the zero crossing indicating signal and to output a number of clock pulses between zero crossings; and</claim-text>
<claim-text>an intercept calculator configured to receive the samples of the frequency modulated signal and the zero crossing indicating signal and calculate an intercept of the frequency modulated signal by interpolation between a sample prior to a detected zero crossing and a sample subsequent to the detected zero crossing;</claim-text>
<claim-text>whereby a frequency of the frequency modulated signal may be determined from a time corresponding to the number of clock pulses between zero crossings determined by the counter minus a time corresponding to a fraction of a clock pulse determined by the intercept calculator.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The digital time-based FM demodulation circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref> further comprising:
<claim-text>a filter configured to receive the output of the intercept calculator and correct an error introduced by the interpolation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The digital time-based FM demodulation circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein the frequency modulated signal comprises chroma information from a SECAM composite video signal obtained by passing the SECAM composite video signal through a luma-chroma separator.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The digital time-based FM demodulation circuit of <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising a filter configured to receive the frequency and eliminate spurious frequencies inconsistent with a SECAM chroma signal.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The digital time-based FM demodulation circuit of <claim-ref idref="CLM-00010">claim 10</claim-ref> further comprising a de-emphasis filter to eliminate effects of pre-emphasis on the frequency modulated chroma signal according to a SECAM video standard.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A composite decoder for use in an analog video decoder, the composite decoder comprising:
<claim-text>a luma-chroma separator configured to receive a composite video signal and to output a luma component of the composite video signal separately from a chroma component of the composite video signal;</claim-text>
<claim-text>a chroma demodulator configured to receive the chroma component and to demodulate the frequency modulated color difference components of the composite video signal, wherein the chroma demodulator comprises:
<claim-text>a zero crossing detector configured to receive samples of a frequency modulated signal and output a zero crossing indicating signal;</claim-text>
<claim-text>a counter configured to receive a clock signal and the zero crossing indicating signal and to output a number of clock pulses between zero crossings; and</claim-text>
<claim-text>an intercept calculator configured to receive the samples of the frequency modulated signal and the zero crossing indicating signal and calculate an intercept of the frequency modulated signal by interpolation between a sample prior to a detected zero crossing and a sample subsequent to the detected zero crossing;</claim-text>
<claim-text>whereby a frequency of the frequency modulated signal may be determined from a time corresponding number of clock pulses determined by the counter minus a time corresponding to a fraction of a clock pulse determined by the intercept calculator.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The composite decoder of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the chroma demodulator further comprises a filter configured to receive the output of the intercept calculator and correct an error introduced by the interpolation performed on the frequency modulated signal.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The composite decoder of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the frequency modulated signal comprises chroma information from a SECAM composite video signal obtained by passing the SECAM composite video signal through the luma-chroma separator.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The composite decoder of <claim-ref idref="CLM-00015">claim 15</claim-ref> further comprising a filter configured to receive the frequency and eliminate spurious frequencies inconsistent with a SECAM chroma signal.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The composite decoder of <claim-ref idref="CLM-00015">claim 15</claim-ref> further comprising a de-emphasis filter to eliminate effects of pre-emphasis on the frequency modulated chroma signal according to a SECAM video standard.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A video decoder comprising:
<claim-text>an input module comprising circuits for performing one or more operations selected from the group consisting of: clamping, buffering, automatic gain control, and sampling and holding;</claim-text>
<claim-text>an analog-to-digital converter having an input coupled to the output of the input module and providing an analog-to-digital converter output;</claim-text>
<claim-text>a composite decoder having a composite decoder input coupled to the analog-to-digital converter output and providing a composite decoder output;</claim-text>
<claim-text>a digital formatter having a digital formatter input coupled to said composite decoder output and providing a digital video signal output;</claim-text>
<claim-text>a sync detector circuit having a sync detector input configured to receive the digital video signal output and provide horizontal and vertical sync outputs; and</claim-text>
<claim-text>a clock generator having a clock generator input configured to receive the digital video signal output and provide a source locked clock output;</claim-text>
<claim-text>wherein the composite decoder comprises a luma-chroma separator configured to receive a composite video signal and to output a luma component of the composite video signal separately from a chroma component of the composite video signal and a chroma demodulator configured to receive the chroma component and to demodulate frequency modulated color difference components of the composite video signal, wherein the chroma demodulator comprises:
<claim-text>a zero crossing detector configured to receive samples of a frequency modulated signal and output a zero crossing indicating signal;</claim-text>
<claim-text>a counter configured to receive a clock signal and the zero crossing indicating signal and to output a number of clock pulses between zero crossings; and</claim-text>
<claim-text>an intercept calculator configured to receive the samples of the frequency modulated signal and the zero crossing indicating signal and calculate an intercept of the frequency modulated signal by interpolation between a sample prior to a detected zero crossing and a sample subsequent to the detected zero crossing;</claim-text>
<claim-text>whereby a frequency of the frequency modulated signal may be determined from a time corresponding to the number of clock pulses determined by the counter minus a time corresponding to a fraction of a clock pulse determined by the intercept calculator.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The video decoder of <claim-ref idref="CLM-00018">claim 18</claim-ref> wherein the chroma demodulator further comprises:
<claim-text>a filter configured to receive the output of the intercept calculator and correct an error introduced by the interpolation performed on the frequency modulated signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The video decoder of <claim-ref idref="CLM-00018">claim 18</claim-ref> wherein the frequency modulated signal comprises chroma information from the composite video signal obtained by passing the composite video signal through the luma-chroma separator.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The video decoder of <claim-ref idref="CLM-00020">claim 20</claim-ref> further comprising a filter configured to receive the frequency and eliminate spurious frequencies inconsistent with a SECAM chroma signal.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The video decoder of <claim-ref idref="CLM-00020">claim 20</claim-ref> further comprising a de-emphasis filter to eliminate effects of pre-emphasis on the frequency modulated chroma signal according to a SECAM video standard.</claim-text>
</claim>
</claims>
</us-patent-grant>
