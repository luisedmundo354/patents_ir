<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298808-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298808</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10424718</doc-number>
<date>20030429</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>829</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>25</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>375372</main-classification>
<further-classification>375373</further-classification>
<further-classification>375343</further-classification>
</classification-national>
<invention-title id="d0e53">Cascaded jitter frequency shifting Δ-Σ modulated signal synchronization mapper</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4791652</doc-number>
<kind>A</kind>
<name>McEachern et al.</name>
<date>19881200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4845711</doc-number>
<kind>A</kind>
<name>LeFort et al.</name>
<date>19890700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370242</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5067126</doc-number>
<kind>A</kind>
<name>Moore</name>
<date>19911100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5268936</doc-number>
<kind>A</kind>
<name>Bernardy</name>
<date>19931200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5274375</doc-number>
<kind>A</kind>
<name>Thompson</name>
<date>19931200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341143</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5337315</doc-number>
<kind>A</kind>
<name>Ehrlich</name>
<date>19940800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5563891</doc-number>
<kind>A</kind>
<name>Wang</name>
<date>19961000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5619506</doc-number>
<kind>A</kind>
<name>Burch et al.</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5751777</doc-number>
<kind>A</kind>
<name>Zampetti</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375376</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>5910753</doc-number>
<kind>A</kind>
<name>Bogdan</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>5910960</doc-number>
<kind>A</kind>
<name>Claydon et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714784</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6819725</doc-number>
<kind>B1</kind>
<name>Oliver et al.</name>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375371</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>RE39216</doc-number>
<kind>E</kind>
<name>Worsley et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>37039553</main-classification></classification-national>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2004/0062278</doc-number>
<kind>A1</kind>
<name>Hadzic et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370503</main-classification></classification-national>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2004/0071251</doc-number>
<kind>A1</kind>
<name>Sutioso et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375373</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>CA</country>
<doc-number>2316443</doc-number>
<date>20020200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00017">
<othercit>Tom A.D. Riley, Miles A. Copeland and Tad A. Kwasniewski, “Delta-Sigma Modulation in Fractional-N Frequency Synthesis,” IEEE Journal of Solid-State Circuits Vol. 28, No. 5, May 1993, pp. 553-559.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>3</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>375326</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375327</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375356</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375359</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375362</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375371</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375375</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375376</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Rey</last-name>
<first-name>Claudio Gustavo</first-name>
<address>
<city>Stittsville</city>
<country>CA</country>
</address>
</addressbook>
<nationality>
<country>CA</country>
</nationality>
<residence>
<country>CA</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Oyen Wiggs Green &amp; Mutala LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>PMC-Sierra, Inc.</orgname>
<role>02</role>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Fan</last-name>
<first-name>Chieh M.</first-name>
<department>2611</department>
</primary-examiner>
<assistant-examiner>
<last-name>Ghulamali</last-name>
<first-name>Qutub</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The invention provides a synchronizer incorporating a Δ-Σ modulator (i.e. a bit stuffing command generator), coupled in series with a frequency offset measurement block and a frequency-locked loop, to synchronize the data rate of an output data stream to that of an input data stream such that jitter energy is shifted up in frequency, simplifying attenuation of the jitter energy when the output data stream is desynchronized (demapped). Placement of the Δ-Σ modulator outside the frequency-locked loop allows selectable adjustment of the frequency offset measurement block's frequency. A mapper incorporating the Δ-Σ modulator interprets the pulse train output by the Δ-Σ modulator as stuff/null/de-stuff commands.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="182.80mm" wi="258.32mm" file="US07298808-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="276.10mm" wi="140.97mm" orientation="landscape" file="US07298808-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="258.49mm" wi="185.84mm" orientation="landscape" file="US07298808-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="233.68mm" wi="118.53mm" file="US07298808-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="245.96mm" wi="162.22mm" orientation="landscape" file="US07298808-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="253.41mm" wi="147.40mm" orientation="landscape" file="US07298808-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">This invention pertains to minimization of low frequency jitter during bit stuff mapping of plesiochronous data signals into synchronized data signals.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">“Bit stuffing” is a well known technique used in synchronizing data signals by “mapping” such signals from one data rate to a different data rate. For example, as shown in <figref idref="DRAWINGS">FIG. 1</figref>, plesiochronous signals, such as DS-1, DS-2 or DS-3 signals respectively characterized by 1.544 Mb/s, 6.312 Mb/s or 44.736 Mb/s clock rates, are commonly mapped from a plesiochronous link <b>10</b> to a SONET/SDH link <b>12</b> having a different characteristic clock rate, such as the 1.728 Mb/s rate of the SONET VT1.5 signal. An electronic device known as a “mapper” <b>14</b> performs the mapping operation. After transmission over SONET/SDN link <b>12</b>, the signal is desynchronized (demapped) by “demapper” <b>16</b> which reconverts the SONET/SDH signal to a plesiochronous signal for transmission over another plesiochronous link <b>18</b>.</p>
<p id="p-0004" num="0003">The bit stuffing technique involves insertion (“stuffing”) of positive or negative bits into the data stream during the mapping operation. If these bit “stuffs” are performed in a regular and efficient manner they impose unacceptable low frequency jitter on the mapped data stream. It is very difficult to remove such low frequency jitter when the data stream is desynchronized (demapped), particularly in older “legacy” systems utilizing 40 Hz jitter filters. Consequently, the prior art has evolved various bit stuffing techniques for minimizing low frequency jitter by translating jitter energy to higher frequencies at which it is more easily removed.</p>
<p id="p-0005" num="0004">One prior art technique utilizes phase lock loops (PLLs) incorporating voltage controlled oscillators (VCOs) having frequency characteristics governed by the level of a FIFO buffer (sometimes called an “elastic store”) through which the data stream is processed. However, VCO-based PLL techniques involve comparatively expensive analog circuitry.</p>
<p id="p-0006" num="0005">In another prior art technique known as “threshold modulation” the sawtooth-like characteristic of the FIFO buffer fill level is monitored and used to perform dithering of the bit stuffing operation. This requires monitoring of the FIFO buffer depth, and access to the FIFO buffer pointers. Moreover, the frequency of the aforementioned sawtooth characteristic affects the higher frequency band into which the jitter energy is translated, constraining circuit design if the sawtooth frequency is fixed. Stuff requests are produced on the basis of phase comparisons relative to a threshold level which is cyclically varied or modulated with a waveform having the same period as the stuffing “superframe.” The phase comparison is governed by the elastic store write and read address pointers.</p>
<p id="p-0007" num="0006">U.S. patent application Ser. No. 09/641,980 filed 21 Aug. 2000 and assigned to the assignee of the present invention (the '980 application), discloses a jitter frequency shifting “delta-sigma” (Δ-Σ) modulated signal synchronization mapper which utilizes a deltasigma synchronizer (DSS) containing a Δ-Σ modulator that functions as a notional voltage controlled oscillator (VCO) to synchronize the data rate of an output data stream to that of an input data stream such that jitter energy is shifted up in frequency, thereby simplifying attenuation of the jitter energy when the data stream is desynchronized (demapped). The '980 application's Δ-Σ modulator is integrally coupled within a frequency-locked loop (FLL)—a leading lowpass filter and the Δ-Σ modulator form a coupled loop control circuit.</p>
<p id="p-0008" num="0007">The '980 application's DSS is constrained in that the Δ-Σ modulator is inside the loop of the PLL. This does not allow flexibility in selecting the frequency offset measurement frequency. This may present a problem in systems that employ a relatively slow bit-stuffing clock, as the waiting time jitter generated by the phase detector (frequency offset measurement block) could become significantly large.</p>
<p id="p-0009" num="0008">This invention seeks to address or at least ameliorate the foregoing problems. Unlike the aforementioned threshold modulation technique, this invention (like that described in the '980 application) utilizes direct measurement of the frequency offset between a recovered line clock and a system clock, with no threshold modulation based on generation of bit stuff commands.</p>
<heading id="h-0003" level="1">SUMMARY OF INVENTION</heading>
<p id="p-0010" num="0009">In a broad form, the invention utilizes a synchronizer which includes a Δ-Σ modulator (i.e. a stuffing generator), coupled in series with a frequency offset measurement block and a measurement low pass filter, to synchronize the data rate of an output data stream to that of an input data stream such that jitter energy is shifted up in frequency, simplifying attenuation of the jitter energy when the output data stream is desynchronized (demapped). Frequency offset is measured by counting the number of excess or missing line clock edges within a measurement period. The measured frequency offset is then filtered by a digital frequency-locked loop (DFLL), which attenuates jitter. More particularly, the Δ-Σ modulator produces stuff/null/de-stuff commands based on the DFLL's output. Pulse-stuffing/waiting time jitter (caused by quantization introduced by the frequency offset measurement) is attenuated by the DFLL, which functions as a measurement filter.</p>
<p id="p-0011" num="0010">In a preferred form of the invention the Δ-Σ modulator is not part of any FLL, thereby allowing greater design flexibility. The Δ-Σ modulator (i.e. stuffing generator) generates an accurate pulse train which a mapper incorporating the Δ-Σ modulator interprets as stuff/null/de-stuff commands.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 1</figref> schematically depicts prior art mapping of signals from a plesiochronous link for transmission on a SONET/SDH link and subsequent demapping of the signals on the SONET/SDH link for transmission on another plesiochronous link.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram representation of a mapper incorporating a synchronizer in accordance with the invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3</figref> graphically depicts an example of the pulse stuffing/waiting time jitter. The solid line represents the phase ramp; the dotted line represents quantization of the phase ramp; and, the dashed-dotted line represents the quantization error as a function of time.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4</figref> graphically depicts an exemplary input quantization power spectrum for the invention, showing the amplitude of the quantization jitter (dB) as a function of frequency (Hz) in a linear vs. logarithmic plot.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram representation of the measurement low pass filter of the synchronizer in accordance with the invention.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram representation of the Δ-Σ modulator (i.e. stuffing generator) of the synchronizer in accordance with the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DESCRIPTION</heading>
<p id="p-0018" num="0017">Throughout the following description, specific details are set forth in order to provide a more thorough understanding of the invention. However, the invention may be practiced without these particulars. In other instances, well known elements have not been shown or described in detail to avoid unnecessarily obscuring the invention. Accordingly, the specification and drawings are to be regarded in an illustrative, rather than a restrictive, sense. In the Figures, incorporated to illustrate features of the present invention, like reference numerals are used to identify like parts throughout.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 2</figref> depicts the architecture of mapper <b>20</b> in block diagram form. Mapper <b>20</b> incorporates a novel Δ-Σ synchronizer (DSS) <b>21</b> for controlling the level of FIFO buffer <b>22</b>.</p>
<p id="p-0020" num="0019">DSS <b>21</b> in turn incorporates frequency offset measurement block (FOMB) <b>23</b>, measurement low pass filter <b>24</b> (i.e. a digital frequency-locked loop—DFLL) and Δ-Σ modulator <b>25</b> (i.e. bit stuffing command generator) in a series arrangement. FOMB <b>23</b> measures the relative difference (frequency offset) between the frequency of measurement (i.e reference) clock <b>26</b> and the frequency of the clock signal derived by clock recovery circuit <b>29</b> from the signal input on line <b>28</b>. The quantizing nature of FOMB <b>23</b>'s frequency offset measurement necessarily introduces jitter, which is reduced by measurement low-pass filter <b>24</b>. Filter <b>24</b> also prevents aliasing when the frequency offset measurement is translated into stuffing commands. Δ-Σ modulator <b>25</b> compensates for the frequency offset between the system (i.e. reference) and recovered clocks, as well as for any other frequency offset caused by the mapping operation. Δ-Σ modulator <b>25</b> quantizes its commands to produce valid stuffing integers without any bias in roundoff error. FIFO buffer adjuster <b>32</b> forces correction of DSS <b>21</b>'s accounting as FIFO buffer <b>22</b> approaches its full (or empty) level. Such correction is unnecessary if DSS <b>21</b> is operating within a pre-determined tracking range, but may be useful to attain fast synchronization in an extreme case, if DSS <b>21</b> loses its frequency lock. Measurement clock <b>26</b> and stuffing clock <b>27</b> are derived from the same network system clock and hence are synchronized.</p>
<p id="p-0021" num="0020">Plesiochronous input data line <b>28</b> is coupled to FIFO buffer <b>22</b>. Clock recovery circuit <b>29</b> derives a recovered clock signal representative of the frequency of the signal input on line <b>28</b>, as previously explained. The recovered clock signal is passed to write address generator <b>30</b> and to FOMB <b>23</b>. Write address generator <b>30</b> and read address generator <b>31</b> are coupled to FIFO buffer <b>22</b> and to FIFO adjuster <b>32</b>. The output of FIFO adjuster <b>32</b> is applied to adder <b>33</b>, which also receives the output signal produced by FOMB <b>23</b>. DSS <b>21</b> outputs stuff/null/destuff commands to timing controller <b>34</b>, based on the signal output by DFLL <b>24</b>. Timing controller <b>34</b> forwards the commands to read address generator <b>31</b> and to framer <b>35</b>. Data is read out of FIFO buffer <b>22</b> and passed to framer <b>35</b>, which outputs synchronized data <b>36</b>.</p>
<p id="p-0022" num="0021">Adder <b>33</b> normally outputs <b>0</b>. But, if DSS <b>21</b> is unable to track the frequency offset between the recovered and reference clocks, adder <b>33</b> outputs a value representative of the offset between the read and write pointers, which may be substantial. The FIFO level is thus controlled so that it neither rises above nor drops below pre-defined thresholds. If the FIFO level is not within those thresholds (which is unusual), FIFO adjuster <b>32</b> outputs a number which is added to DFLL <b>24</b>'s internal integrator (formed by adder <b>52</b> and delay element <b>53</b> shown in <figref idref="DRAWINGS">FIG. 5</figref>) in order to reflect the FIFO fill level.</p>
<p id="p-0023" num="0022">FOMB <b>23</b> measures the input frequency offset by counting the number of excess or missing line clock edges within a measurement period. A simple interval counter can be used to perform this function. The measured frequency offset is then filtered by DFLL <b>24</b>, to attenuate jitter as aforesaid. Note that unlike the invention described in the '980 application, which places the Δ-Σ modulator inside a phase-locked loop, this invention cascades Δ-Σ modulator <b>25</b> after the DFLL loop.</p>
<p id="p-0024" num="0023">Quantization error introduced by FOMB <b>23</b> (i.e. pulse stuffing/waiting time jitter) has a sawtooth characteristic, represented by the dashed-dotted line in <figref idref="DRAWINGS">FIG. 3</figref>. More particularly, pulse stuffing/waiting time jitter is caused by the quantization error of a phase ramp measured in Units Intervals (UIs) of the sampling clock. The phase ramp (solid line in <figref idref="DRAWINGS">FIG. 3</figref>) is a consequence of the frequency offsets between the recovered and reference clocks. The pulse stuffing/waiting time jitter constitutes the subtraction of the phase ramp from its quantized version (dotted line in <figref idref="DRAWINGS">FIG. 3</figref>). The jitter signal's sawtooth characteristic can be described in terms of a Fourier series having a fundamental frequency dependant on the frequency offset and the line clock rate f<sub>1</sub>. DSS <b>21</b> samples the sawtooth signal at FOMB <b>23</b>'s sampling rate f<sub>s</sub>. A frequency offset measured in parts-per-million (ppm) produces a sawtooth signal with a fundamental period T given by:</p>
<p id="p-0025" num="0024">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>T</mi>
        <mo>=</mo>
        <mfrac>
          <msup>
            <mn>10</mn>
            <mn>6</mn>
          </msup>
          <mrow>
            <mi>ppm</mi>
            <mo>·</mo>
            <msub>
              <mi>f</mi>
              <mn>1</mn>
            </msub>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0026" num="0025">A sawtooth waveform saw<sub>1</sub>(t) can be represented in continuous time as a Fourier series:</p>
<p id="p-0027" num="0026">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>saw</mi>
            <mn>1</mn>
          </msub>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>t</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>-</mo>
            <mfrac>
              <mn>1</mn>
              <mi>π</mi>
            </mfrac>
          </mrow>
          <mo>⁢</mo>
          <mrow>
            <munderover>
              <mo>∑</mo>
              <mrow>
                <mi>n</mi>
                <mo>=</mo>
                <mn>1</mn>
              </mrow>
              <mi>∞</mi>
            </munderover>
            <mo>⁢</mo>
            <mrow>
              <mfrac>
                <msup>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mo>-</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mi>n</mi>
                </msup>
                <mi>n</mi>
              </mfrac>
              <mo>⁢</mo>
              <mrow>
                <mi>sin</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mrow>
                      <mn>2</mn>
                      <mo>⁢</mo>
                      <mi>n</mi>
                      <mo>⁢</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>⁢</mo>
                      <mi>π</mi>
                      <mo>⁢</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>⁢</mo>
                      <mi>t</mi>
                    </mrow>
                    <mi>T</mi>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
having an amplitude measured in UIs where one UI=1/f<sub>1 </sub>seconds.
</p>
<p id="p-0028" num="0027">The sawtooth pattern spectrum decays slowly as the frequency increases. Since the sawtooth waveform is sampled at a rate determined by FOMB <b>23</b>, which is not related to the fundamental frequency, the decay of the Fourier series will alias “in band” as shown in <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0029" num="0028">The quantization jitter (also known as “pulse stuffing” or “waiting time” jitter) spectrum shown in <figref idref="DRAWINGS">FIG. 4</figref> is for a 50 ppm frequency offset with a sampling rate of 1.44 MHz. Equation (1) thus yields a fundamental frequency of 15.5 kHz. Note the 20 dB-per-decade decay of the spectrum and the aliasing back of the jitter spectrum.</p>
<p id="p-0030" num="0029">To minimize the aliased spectrum, the measurement frequency should be as high as possible. The approach taken in the '980 application is to equate the measurement frequency to that of the stuffing command generator (Δ-Σ modulator). In some applications, the frequency of stuffing clock <b>27</b> is sufficiently high that the resultant waiting time jitter is small. This invention allows the frequency of FOMB <b>23</b> to be selectably increased, which is advantageous.</p>
<p id="p-0031" num="0030">As previously explained, DFLL <b>24</b> filters (attenuates) pulse-stuffing/waiting time jitter caused by FOMB <b>23</b>'s quantizing frequency offset measurement. The effectiveness of DFLL <b>24</b>'s filtration depends on the ppm offset. Very small offsets are not filtered out well, especially if the fundamental falls between the cutoff frequency of the DFLLs in mapper <b>20</b> and the corresponding demapper (not shown).</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIGS. 5 and 6</figref> respectively depict in greater detail a DFLL <b>24</b> and a second order Δ-Σ modulator <b>25</b> (i.e. bit stuffing command generator) suitable for use in DSS <b>21</b>.</p>
<p id="p-0033" num="0032">DFLL <b>24</b> shown in <figref idref="DRAWINGS">FIG. 5</figref> receives as input from FOMB <b>23</b> a frequency offset signal <b>50</b> that is input to adder <b>51</b>. A feedback signal produced by delay element <b>58</b> is also input to adder <b>51</b>, as illustrated, forming a first feedback loop. Adder <b>52</b> and delay element <b>53</b> together form an accumulator (i.e. integrator) the output of which reflects the FIFO fill level. The output signal produced by adder <b>52</b> is input to delay element <b>53</b>, forming a second feedback loop. Adder <b>52</b>'s output signal is also input to scaler (i.e. amplifier) <b>54</b>. The output signal produced by scaler <b>54</b> is input to downsampler register <b>55</b>, which is triggered by downsampler timer <b>56</b>—a simple wrapping timer. A measurement low pass filter output signal <b>57</b> is produced at the output of DFLL <b>24</b>. Output signal <b>57</b> is fed back to delay element <b>58</b>, which in turn sends its output signal to adder <b>51</b> as aforesaid.</p>
<p id="p-0034" num="0033">DFLL <b>24</b> shown in <figref idref="DRAWINGS">FIG. 5</figref> filters low-frequency jitter caused by FOMB <b>23</b>'s quantization operation, as aforesaid. Downsampler register <b>55</b> removes any biasing due to round-off errors caused by fixed-point processing. A limiter (not shown) within downsampler register <b>55</b> prevents application to the input of Δ-Σ modulator <b>25</b> of values exceeding the Δ-Σ parameter M (explained below). Such excess values could drive Δ-Σ modulator <b>25</b> outside its desired mode of operation.</p>
<p id="p-0035" num="0034">The downsampler formed by downsampler register <b>55</b> and downsampler timer <b>56</b> synchronizes DFLL <b>24</b> and Δ-Σ modulator <b>25</b>, taking into account the fact that DFLL <b>24</b>'s timing signal is supplied by measurement clock <b>26</b> whereas Δ-Σ modulator <b>25</b>'s timing signal is supplied by stuffing clock <b>27</b>. These two clocks output different clock signals, although they are both synchronized with the system reference clock (not shown). For example, if the signal output by measurement clock <b>26</b> is 8 times higher than that output by stuffing clock <b>27</b> then downsampler register <b>55</b> selects every 8th signal output of scaler <b>54</b> in accordance with to a value determined by timer <b>56</b>.</p>
<p id="p-0036" num="0035">DFLL <b>24</b>'s transfer function H(z), and the cutoff frequency f<sub>cutoff </sub>of DSS <b>21</b> are given by:</p>
<p id="p-0037" num="0036">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>H</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>z</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mi>K</mi>
          </mfrac>
          <mo>*</mo>
          <mfrac>
            <mi>z</mi>
            <mrow>
              <mi>z</mi>
              <mo>-</mo>
              <mfrac>
                <mi>K</mi>
                <mrow>
                  <mi>K</mi>
                  <mo>-</mo>
                  <mn>1</mn>
                </mrow>
              </mfrac>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>f</mi>
          <mi>cutoff</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>f</mi>
              <mi>s</mi>
            </msub>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mi>π</mi>
            </mrow>
          </mfrac>
          <mo>*</mo>
          <mfrac>
            <mn>1</mn>
            <mi>K</mi>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where f<sub>s </sub>is the measurement clock frequency, and the gain, G, of scaler (i.e. amplifier) <b>54</b> is G=1/K.
</p>
<p id="p-0038" num="0037">Referring now to <figref idref="DRAWINGS">FIG. 6</figref>, Δ-Σ modulator <b>25</b> incorporates subtracter <b>60</b>; adders <b>61</b>, <b>62</b>, <b>63</b>; delay elements <b>64</b>, <b>65</b>, <b>66</b>; quantizer <b>67</b> and multiplier <b>68</b>. Multiplier <b>68</b> multiplies Δ-Σ modulator <b>25</b>'s output signal <b>69</b> by a factor M. The resultant M-multiplied signal is applied to the “−” input of subtracter <b>60</b> to establish the interval over which subtracter <b>60</b> integrates the input signal <b>70</b> output by DFLL <b>24</b>, resulting in output of a signal val by subtracter <b>60</b>. Adder <b>61</b> adds the val signal output by subtracter <b>60</b> to the A0 signal output by delay element <b>64</b>, resulting in output of a signal A<b>0</b>+val by adder <b>61</b>. Adder <b>62</b> adds the A0+val signal output by adder <b>61</b> to the A1 signal output by delay element <b>65</b>, resulting in output of a signal A<b>0</b>+A<b>1</b>+val by adder <b>62</b>. Adder <b>63</b> adds the A0+A1+val signal output by adder <b>62</b> to the A0+val signal output by adder <b>61</b>, resulting in output of a signal <b>2</b>A<b>0</b>+A<b>1</b>+<b>2</b>val by adder <b>63</b>. Quantizer <b>67</b> outputs −1, 0, or +1 depending on whether the signal <b>2</b>A<b>0</b>+A<b>1</b>+<b>2</b>val output by adder <b>63</b> is respectively less than, between, or greater than the quantizer's threshold values ±[(M/2)+K<sub>s</sub>], where M, K<sub>s </sub>are constants as hereinafter explained.</p>
<p id="p-0039" num="0038">In a preferred embodiment K<sub>s</sub>=36 and M=4,094. Therefore, ±[(M/2)+K<sub>s</sub>]=±2,083. If the value output by adder <b>63</b> (i.e. 2A0+A1+2val) exceeds 2,083 then quantizer <b>67</b> outputs the value +1. If (2A0+A1+2val)&lt;−2,083 then quantizer <b>67</b> outputs the value −1. If −2,083≦(2A0+A1+2val)≦2,083 then quantizer <b>67</b> outputs the value 0. See Riley et al “Delta-Sigma Modulation in Fractional-N Frequency Synthesis”, <i>IEEE Journal of Solid</i>-<i>State Circuits </i>Vol. 28, No. 5, May 1993, pp. 553-559 for further details of (Δ-Σ) modulators, particularly factors affecting stability and overflow characteristics thereof.</p>
<p id="p-0040" num="0039">The −1, 0, or +1 signals output by quantizer <b>67</b> are processed by delay element <b>66</b> which in turn outputs either a phase increment (pll_inc) command signal to insert a stuff bit into the mapped VC-11 or VC-12 in the output SONET/SDH data stream; or, a phase decrement (pll_dec) command signal to remove a stuff bit from the output data stream. Only one or the other of pll_inc or pll_dec can be asserted at one time to either speed up or slow down the output data stream. If neither pll_inc nor pll_dec are asserted then a null operation is performed, such that the output data stream's rate remains unaffected.</p>
<p id="p-0041" num="0040">As will be apparent to those skilled in the art in the light of the foregoing disclosure, many alterations and modifications are possible in the practice of this invention without departing from the spirit or scope thereof. For example, different DFLLs and Δ-Σ modulators blocks may be used in substitution for those of <figref idref="DRAWINGS">FIGS. 5 and 6</figref>. As a further example, the foregoing description assumes a protocol which allows only one bit to be “stuffed” during each bit stuff/destuff opportunity. The invention is readily adapted to use with protocols allowing a plurality of bits to be stuffed during each bit stuff/destuff opportunity. This can be accomplished by replacing tri-level quantizer <b>67</b> with a multi-level quantizer, since stability and accuracy issues affecting the operation of multi-level quantizers in Δ-Σ modulators affect only analog implementations. The scope of the invention is to be construed in accordance with the substance defined by the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298808-20071120-M00001.NB">
<img id="EMI-M00001" he="7.45mm" wi="76.20mm" file="US07298808-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US07298808-20071120-M00002.NB">
<img id="EMI-M00002" he="8.47mm" wi="76.20mm" file="US07298808-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US07298808-20071120-M00003.NB">
<img id="EMI-M00003" he="17.27mm" wi="76.20mm" file="US07298808-20071120-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A signal synchronization mapper, for mapping an input data stream characterized by a first frequency into an output data stream characterized by a second frequency, said mapper comprising:
<claim-text>(a) a frequency offset measurement block for producing a frequency offset output signal representative of frequency offset between:
<claim-text>(i) a recovered clock signal representative of the frequency of said input data stream;</claim-text>
<claim-text>(ii) a reference clock signal;</claim-text>
</claim-text>
<claim-text>(b) a frequency-locked loop coupled to receive and reduce jitter in said frequency offset output signal, and for producing a jitter-reduced output signal; and,</claim-text>
<claim-text>(c) a Δ-Σ modulator external to and series-connected to said frequency-locked loop to receive and quantize said jitter-reduced output signal and for producing one of a preselected number of bit stuffing signals;</claim-text>
<claim-text>(d) a FIFO buffer coupled between said input and output data streams; and</claim-text>
<claim-text>(e) a FIFO adjuster coupled between said FIFO buffer and said frequency-locked loop, said FIFO adjuster for synchronizing said frequency-locked loop with said FIFO buffer;</claim-text>
<claim-text>wherein:</claim-text>
<claim-text>(f) said frequency offset measurement block operates at a measurement frequency;</claim-text>
<claim-text>(g) said Δ-Σ modulator operates at a stuffing frequency; and,</claim-text>
<claim-text>(h) said measurement frequency is not equal to said stuffing frequency.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A signal synchronization mapper as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said measurement frequency is greater than said stuffing frequency.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A signal synchronization mapper for mapping an input data stream characterized by a first frequency into an output data stream characterized by a second frequency, said mapper comprising:
<claim-text>(a) a frequency offset measurement block for producing a frequency offset output signal representative of frequency offset between:
<claim-text>(i) a recovered clock signal representative of the frequency of said input data stream;</claim-text>
<claim-text>(ii) a reference clock signal;</claim-text>
</claim-text>
<claim-text>(b) a frequency-locked loop coupled to receive and reduce jitter in said frequency offset output signal, and for producing a jitter-reduced output signal; and,</claim-text>
<claim-text>(c) a Δ-Σ modulator external to and series-connected to said frequency-locked loop to receive and quantize said jitter-reduced output signal and for producing one of a preselected number of bit stuffing signals;</claim-text>
<claim-text>(d) a FIFO buffer coupled between said input and output data streams;</claim-text>
<claim-text>(e) a FIFO adjuster coupled between said FIFO buffer and said frequency-locked loop, said FIFO adjuster for synchronizing said frequency-locked loop with said FIFO buffer;</claim-text>
<claim-text>(f) an adder having:
<claim-text>(i) a first input coupled to receive said frequency offset measurement block output signal;</claim-text>
<claim-text>(ii) a second input coupled to receive an output signal produced by said FIFO adjuster;</claim-text>
<claim-text>(iii) an output coupled to an input of said frequency-locked loop;</claim-text>
</claim-text>
<claim-text>(g) said frequency-locked loop having an output coupled to an input of said Δ-Σ modulator; and,</claim-text>
<claim-text>(h) said Δ-Σ modulator having an output coupled to a timing controller for producing stuff, null or destuff commands corresponding to said respective bit stuffing signals.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A signal synchronization mapper as defined in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein said Δ-Σ modulator further comprises a multiplier having a multiplication factor M, said multiplier coupled between said Δ-Σ modulator input and said Δ-Σ modulator output.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A signal synchronization mapper as defined in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein;
<claim-text>(a) said Δ-Σ modulator further comprises a tri-level quantizer for producing said bit stuffing signals; and,</claim-text>
<claim-text>(b) said bit stuffing signals each further comprise a single bit stuff/destuff indicator for each bit stuff/destuff opportunity defined by a protocol characterizing data communication via said input and output data streams.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A signal synchronization mapper as defined in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein:
<claim-text>(a) said quantizer has a threshold characteristic ±[(M/2)+K<sub>s</sub>], where K<sub>s </sub>is a pre-defined constant;</claim-text>
<claim-text>(b) said bit stuff/destuff indicator further comprises:</claim-text>
<claim-text>(1) −1 when signals input to said quantizer are less than −[(M/2)+K<sub>s</sub>];
<claim-text>(ii) 0 when signals input to said quantizer are between −[(M/2)+K<sub>s</sub>] and +[(M/2)+K<sub>s</sub>]; and,</claim-text>
<claim-text>(iii) +1 when signals input to said quantizer are greater than +[(M/2)+K<sub>s</sub>].</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A signal synchronization mapper as defined in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein:
<claim-text>(a) said Δ-Σ modulator further comprises a multi-level quantizer for producing said bit stuffing signals; and,</claim-text>
<claim-text>(b) said bit stuffing signals further comprise a plurality of bit stuff/destuff indicators for each stuff/destuff opportunity defined by a protocol characterizing data communication via said input and output data streams.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A signal synchronization mapper for mapping an input data stream characterized by a first frequency into an output data stream characterized by a second frequency, said mapper comprising:
<claim-text>(a) a frequency offset measurement block for producing a frequency offset output signal representative of frequency offset between:
<claim-text>(i) a recovered clock signal representative of the frequency of said input data stream;</claim-text>
<claim-text>(ii) a reference clock signal;</claim-text>
</claim-text>
<claim-text>(b) a frequency-locked loop coupled to receive and reduce jitter in said frequency offset output signal, and for producing a jitter-reduced output signal; and,</claim-text>
<claim-text>(c) a Δ-Σ modulator external to and series-connected to said frequency-locked loop to receive and quantize said jitter-reduced output signal and for producing one of a preselected number of bit stuffing signals;</claim-text>
<claim-text>(d) a FIFO buffer coupled between said input and output data streams;</claim-text>
<claim-text>(e) a FIFO adjuster coupled between said FIFO buffer and said frequency-locked loop, said FIFO adjuster for synchronizing said frequency-locked loop with said FIFO buffer;</claim-text>
<claim-text>said frequency-locked loop further comprising:</claim-text>
<claim-text>(f) a first adder for adding a first feedback signal to said frequency offset output signal to produce a first adder output signal;</claim-text>
<claim-text>(g) a second adder for adding a second feedback signal to said first adder output signal to produce a second adder output signal;</claim-text>
<claim-text>(h) an amplifier for amplifying said second adder output signal;</claim-text>
<claim-text>(i) a downsampler for synchronizing said frequency-locked loop and said Δ-Σ modulator;</claim-text>
<claim-text>(j) a first delay element coupled between an output of said downsampler and an input of said first adder, said first delay element for producing said first feedback signal; and,</claim-text>
<claim-text>(k) a second delay element coupled between an output of said second adder and an input of said second adder, said second delay element for producing said second feedback signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A signal synchronization mapper for mapping an input data stream characterized by a first frequency into an output data stream characterized by a second frequency said mapper comprising:
<claim-text>(a) a frequency offset measurement block for producing a frequency offset output signal representative of frequency offset between:
<claim-text>(i) a recovered clock signal representative of the frequency of said input data stream;</claim-text>
<claim-text>(ii) a reference clock signal;</claim-text>
</claim-text>
<claim-text>(b) a frequency-locked loop coupled to receive and reduce jitter in said frequency offset output signal, and for producing a jitter-reduced output signal; and,</claim-text>
<claim-text>(c) a Δ-Σ modulator external to and series-connected to said frequency-locked loop to receive and quantize said jitter-reduced output signal and for producing one of a preselected number of bit stuffing signals;</claim-text>
<claim-text>(d) a FIFO buffer coupled between said input and output data streams;</claim-text>
<claim-text>(e) a FIFO adjuster coupled between said FIFO buffer and said frequency-locked loop, said FIFO adjuster for synchronizing said frequency-locked loop with said FIFO buffer:</claim-text>
<claim-text>said Δ-Σ modulator further comprising:</claim-text>
<claim-text>(f) a subtracter for subtracting a first feedback signal from said jitter-reduced output signal to produce a val output signal;</claim-text>
<claim-text>(g) a first adder for adding said val output signal to an A0 feedback signal to produce a val+A0 output signal;</claim-text>
<claim-text>(h) a second adder for adding said val+A0 output signal to an A1 feedback signal to produce a val+A0+A1 output signal;</claim-text>
<claim-text>(i) a third adder for adding said val+A0 output signal to said val+A0+A1 output signal to produce a 2val+2A0+A1 output signal;</claim-text>
<claim-text>(j) a first delay element coupled between an output of said first adder and an input of said first adder, said first delay element for producing said A0 feedback signal;</claim-text>
<claim-text>(k) a second delay element coupled between an output of said second adder and an input of said second adder, said second delay element for producing said A1 feedback signal;</claim-text>
<claim-text>(l) a quantizer coupled to receive said 2val+2A0+A1 output signal, said quantizer for producing said bit stuffing signals;</claim-text>
<claim-text>(m) a third delay element coupled to an output of said quantizer, said third delay element for producing phase increment and phase decrement signals corresponding to said bit stuffing signals; and,</claim-text>
<claim-text>(n) a multiplier coupled between an output of said third delay element and an input of said subtracter, said multiplied for multiplying said phase increment and phase decrement signals by a factor M.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
