<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299006-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299006</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>09695715</doc-number>
<date>20001023</date>
</document-id>
</application-reference>
<us-application-series-code>09</us-application-series-code>
<us-term-of-grant>
<us-term-extension>970</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>7</main-group>
<subgroup>14</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>455 20</main-classification>
<further-classification>455118</further-classification>
<further-classification>455 85</further-classification>
<further-classification>4551803</further-classification>
<further-classification>455 78</further-classification>
<further-classification>455323</further-classification>
<further-classification>4551901</further-classification>
<further-classification>327237</further-classification>
<further-classification>327117</further-classification>
<further-classification>323283</further-classification>
<further-classification>323267</further-classification>
<further-classification>331 37</further-classification>
<further-classification>331 39</further-classification>
</classification-national>
<invention-title id="d0e53">Adaptive radio transceiver</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>3932814</doc-number>
<kind>A</kind>
<name>Niki</name>
<date>19760100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4129832</doc-number>
<kind>A</kind>
<name>Neal et al.</name>
<date>19781200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>4429416</doc-number>
<kind>A</kind>
<name>Hooper</name>
<date>19840100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>4460872</doc-number>
<kind>A</kind>
<name>Mattisson</name>
<date>19840700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>4499435</doc-number>
<kind>A</kind>
<name>Thomson et al.</name>
<date>19850200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>4580289</doc-number>
<kind>A</kind>
<name>Enderby</name>
<date>19860400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>4581593</doc-number>
<kind>A</kind>
<name>Okanobu</name>
<date>19860400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>4710970</doc-number>
<kind>A</kind>
<name>Wu et al.</name>
<date>19871200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455113</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>4723318</doc-number>
<kind>A</kind>
<name>Marshall</name>
<date>19880200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>4816769</doc-number>
<kind>A</kind>
<name>Ma et al.</name>
<date>19890300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>329315</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>4893316</doc-number>
<kind>A</kind>
<name>Janc et al.</name>
<date>19900100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>4914408</doc-number>
<kind>A</kind>
<name>Voorman</name>
<date>19900400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>5014021</doc-number>
<kind>A</kind>
<name>Robertson, Jr. et al.</name>
<date>19910500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>5108334</doc-number>
<kind>A</kind>
<name>Eschenbach et al.</name>
<date>19920400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>5146186</doc-number>
<kind>A</kind>
<name>Vella</name>
<date>19920900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>5155452</doc-number>
<kind>A</kind>
<name>Ueda et al.</name>
<date>19921000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>5177450</doc-number>
<kind>A</kind>
<name>Lee et al.</name>
<date>19930100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>5179725</doc-number>
<kind>A</kind>
<name>Camp, Jr. et al.</name>
<date>19930100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>5212459</doc-number>
<kind>A</kind>
<name>Ueda et al.</name>
<date>19930500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>5235335</doc-number>
<kind>A</kind>
<name>Hester et al.</name>
<date>19930800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>5243302</doc-number>
<kind>A</kind>
<name>Camp, Jr. et al.</name>
<date>19930900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>5281924</doc-number>
<kind>A</kind>
<name>Maloberti et al.</name>
<date>19940100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>5341110</doc-number>
<kind>A</kind>
<name>Nardi</name>
<date>19940800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>331 17</main-classification></classification-national>
</citation>
<citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>5374903</doc-number>
<kind>A</kind>
<name>Blanton</name>
<date>19941200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00025">
<document-id>
<country>US</country>
<doc-number>5434569</doc-number>
<kind>A</kind>
<name>Yung et al.</name>
<date>19950700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00026">
<document-id>
<country>US</country>
<doc-number>5451910</doc-number>
<kind>A</kind>
<name>Guthrie</name>
<date>19950900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00027">
<document-id>
<country>US</country>
<doc-number>5457716</doc-number>
<kind>A</kind>
<name>Ang et al.</name>
<date>19951000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375344</main-classification></classification-national>
</citation>
<citation>
<patcit num="00028">
<document-id>
<country>US</country>
<doc-number>5465414</doc-number>
<kind>A</kind>
<name>Moskaluk et al.</name>
<date>19951100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00029">
<document-id>
<country>US</country>
<doc-number>5537459</doc-number>
<kind>A</kind>
<name>Price et al.</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00030">
<document-id>
<country>US</country>
<doc-number>5559473</doc-number>
<kind>A</kind>
<name>Anderson et al.</name>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00031">
<document-id>
<country>US</country>
<doc-number>5600283</doc-number>
<kind>A</kind>
<name>Sauer</name>
<date>19970200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00032">
<document-id>
<country>US</country>
<doc-number>5614864</doc-number>
<kind>A</kind>
<name>Stubbe et al.</name>
<date>19970300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00033">
<document-id>
<country>US</country>
<doc-number>5631606</doc-number>
<kind>A</kind>
<name>Tran</name>
<date>19970500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00034">
<document-id>
<country>US</country>
<doc-number>5636213</doc-number>
<kind>A</kind>
<name>Eastmond et al.</name>
<date>19970600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00035">
<document-id>
<country>US</country>
<doc-number>5654708</doc-number>
<kind>A</kind>
<name>Boehl et al.</name>
<date>19970800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00036">
<document-id>
<country>US</country>
<doc-number>5694386</doc-number>
<kind>A</kind>
<name>Hirajima et al.</name>
<date>19971200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>369 4725</main-classification></classification-national>
</citation>
<citation>
<patcit num="00037">
<document-id>
<country>US</country>
<doc-number>5703525</doc-number>
<kind>A</kind>
<name>Winterer</name>
<date>19971200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00038">
<document-id>
<country>US</country>
<doc-number>5715529</doc-number>
<kind>A</kind>
<name>Kianush et al.</name>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00039">
<document-id>
<country>US</country>
<doc-number>5724001</doc-number>
<kind>A</kind>
<name>Chang</name>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00040">
<document-id>
<country>US</country>
<doc-number>5793359</doc-number>
<kind>A</kind>
<name>Ushikubo</name>
<date>19980800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00041">
<document-id>
<country>US</country>
<doc-number>5805017</doc-number>
<kind>A</kind>
<name>Razzell</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00042">
<document-id>
<country>US</country>
<doc-number>5808509</doc-number>
<kind>A</kind>
<name>Baltus et al.</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00043">
<document-id>
<country>US</country>
<doc-number>5818830</doc-number>
<kind>A</kind>
<name>Daane et al.</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00044">
<document-id>
<country>US</country>
<doc-number>5872810</doc-number>
<kind>A</kind>
<name>Philips et al.</name>
<date>19990200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00045">
<document-id>
<country>US</country>
<doc-number>5890051</doc-number>
<kind>A</kind>
<name>Schlang et al.</name>
<date>19990300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 76</main-classification></classification-national>
</citation>
<citation>
<patcit num="00046">
<document-id>
<country>US</country>
<doc-number>5892409</doc-number>
<kind>A</kind>
<name>Boerstler</name>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00047">
<document-id>
<country>US</country>
<doc-number>5905398</doc-number>
<kind>A</kind>
<name>Todsen et al.</name>
<date>19990500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00048">
<document-id>
<country>US</country>
<doc-number>5909463</doc-number>
<kind>A</kind>
<name>Johnson et al.</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00049">
<document-id>
<country>US</country>
<doc-number>5940456</doc-number>
<kind>A</kind>
<name>Chen et al.</name>
<date>19990800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00050">
<document-id>
<country>US</country>
<doc-number>5953640</doc-number>
<kind>A</kind>
<name>Meador et al.</name>
<date>19990900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455 73</main-classification></classification-national>
</citation>
<citation>
<patcit num="00051">
<document-id>
<country>US</country>
<doc-number>6018305</doc-number>
<kind>A</kind>
<name>Kikuchi et al.</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341100</main-classification></classification-national>
</citation>
<citation>
<patcit num="00052">
<document-id>
<country>US</country>
<doc-number>6018553</doc-number>
<kind>A</kind>
<name>Sanielevici et al.</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375334</main-classification></classification-national>
</citation>
<citation>
<patcit num="00053">
<document-id>
<country>US</country>
<doc-number>6055420</doc-number>
<kind>A</kind>
<name>Veranth</name>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>4551931</main-classification></classification-national>
</citation>
<citation>
<patcit num="00054">
<document-id>
<country>US</country>
<doc-number>6072994</doc-number>
<kind>A</kind>
<name>Phillips et al.</name>
<date>20000600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00055">
<document-id>
<country>US</country>
<doc-number>6134453</doc-number>
<kind>A</kind>
<name>Sainton et al.</name>
<date>20001000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00056">
<document-id>
<country>US</country>
<doc-number>6161004</doc-number>
<kind>A</kind>
<name>Galal et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455302</main-classification></classification-national>
</citation>
<citation>
<patcit num="00057">
<document-id>
<country>US</country>
<doc-number>6167246</doc-number>
<kind>A</kind>
<name>Elder et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455313</main-classification></classification-national>
</citation>
<citation>
<patcit num="00058">
<document-id>
<country>US</country>
<doc-number>6175279</doc-number>
<kind>B1</kind>
<name>Ciccarelli et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330296</main-classification></classification-national>
</citation>
<citation>
<patcit num="00059">
<document-id>
<country>US</country>
<doc-number>6184747</doc-number>
<kind>B1</kind>
<name>Helgeson et al.</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327552</main-classification></classification-national>
</citation>
<citation>
<patcit num="00060">
<document-id>
<country>US</country>
<doc-number>6185418</doc-number>
<kind>B1</kind>
<name>MacLellan et al.</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00061">
<document-id>
<country>US</country>
<doc-number>6343207</doc-number>
<kind>B1</kind>
<name>Hessel et al.</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00062">
<document-id>
<country>US</country>
<doc-number>6370365</doc-number>
<kind>B1</kind>
<name>Callaway et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455130</main-classification></classification-national>
</citation>
<citation>
<patcit num="00063">
<document-id>
<country>US</country>
<doc-number>6377608</doc-number>
<kind>B1</kind>
<name>Zyren</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00064">
<document-id>
<country>US</country>
<doc-number>6385442</doc-number>
<kind>B1</kind>
<name>Vu et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455318</main-classification></classification-national>
</citation>
<citation>
<patcit num="00065">
<document-id>
<country>US</country>
<doc-number>6429733</doc-number>
<kind>B1</kind>
<name>Pagliolo et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327552</main-classification></classification-national>
</citation>
<citation>
<patcit num="00066">
<document-id>
<country>US</country>
<doc-number>6526034</doc-number>
<kind>B1</kind>
<name>Gorsuch</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00067">
<document-id>
<country>US</country>
<doc-number>6633550</doc-number>
<kind>B1</kind>
<name>Gardenfors et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370280</main-classification></classification-national>
</citation>
<citation>
<patcit num="00068">
<document-id>
<country>US</country>
<doc-number>6738601</doc-number>
<kind>B1</kind>
<name>Rofougaran et al.</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00069">
<document-id>
<country>EP</country>
<doc-number>0 803 997</doc-number>
<kind>A2</kind>
<date>19971000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00070">
<othercit>Chan, P.Y., “A Highly Linear 1-GHz CMOS Downconversion Mixer,” Integrated Circuits &amp; Systems Laboratory, University of California, Los Angeles, CA; presented at the European Solid State Circuits Conference, Seville, Spain, Sep. 22-24, 1993, 4 pages.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00071">
<othercit>Lee, J., et al., “Design of Spiral Inductors on Silicon Substrates With a Fast Simulator,” Electrical Engineering Department, University of California, Los Angeles, CA, 4 pages, Sep. 22-24. 1998.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00072">
<othercit>Rofougaran, Ahmadreza, “A Single-Chip Spread-Spectrum Wireless Transceiver in CMOS,” Final Report, Integrated Circuits &amp; Systems Laboratory Electrical Engineering Department, University of California, Los Angeles, CA, 1999, 339 pages, (Dec. 1998).</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>150</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>455 20</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 23</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 86</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 87</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 85</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455118</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 73</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 8486</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455 84</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455323</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>69</number-of-drawing-sheets>
<number-of-figures>85</number-of-figures>
</figures>
<us-related-documents>
<continuation-in-part>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>09634552</doc-number>
<kind>00</kind>
<date>20000808</date>
</document-id>
<parent-status>PENDING</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>09695715</doc-number>
</document-id>
</child-doc>
</relation>
</continuation-in-part>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60202997</doc-number>
<kind>00</kind>
<date>20000510</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60201335</doc-number>
<kind>00</kind>
<date>20000502</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60201179</doc-number>
<kind>00</kind>
<date>20000502</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60201157</doc-number>
<kind>00</kind>
<date>20000502</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60172348</doc-number>
<kind>00</kind>
<date>19991216</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60165356</doc-number>
<kind>00</kind>
<date>19991112</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60165355</doc-number>
<kind>00</kind>
<date>19991112</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60165239</doc-number>
<kind>00</kind>
<date>19991111</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60165234</doc-number>
<kind>00</kind>
<date>19991111</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60164987</doc-number>
<kind>00</kind>
<date>19991111</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60164446</doc-number>
<kind>00</kind>
<date>19991109</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60163487</doc-number>
<kind>00</kind>
<date>19991104</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60164314</doc-number>
<kind>00</kind>
<date>19991109</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60164194</doc-number>
<kind>00</kind>
<date>19991109</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60163780</doc-number>
<kind>00</kind>
<date>19991105</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60163488</doc-number>
<kind>00</kind>
<date>19991104</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60163487</doc-number>
<kind>00</kind>
<date>19991104</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60163398</doc-number>
<kind>00</kind>
<date>19991104</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60160839</doc-number>
<kind>00</kind>
<date>19991021</date>
</document-id>
</us-provisional-application>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60160806</doc-number>
<kind>00</kind>
<date>19991021</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Rofougaran</last-name>
<first-name>Ahmadreza</first-name>
<address>
<city>Marina del Rey</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Rofougaran</last-name>
<first-name>Maryam</first-name>
<address>
<city>Marina del Rey</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Pan</last-name>
<first-name>Meng-An</first-name>
<address>
<city>Los Angeles</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Chien</last-name>
<first-name>Hung-Ming</first-name>
<address>
<city>Los Angeles</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="005" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Khorram</last-name>
<first-name>Shahla</first-name>
<address>
<city>Los Angeles</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="006" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Colleran</last-name>
<first-name>William T.</first-name>
<address>
<city>Manhattan Beach</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="007" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Rael</last-name>
<first-name>Jacob</first-name>
<address>
<city>Los Angeles</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="008" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Syed</last-name>
<first-name>Masood</first-name>
<address>
<city>Los Angeles</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="009" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Ibrahim</last-name>
<first-name>Brima</first-name>
<address>
<city>Los Angeles</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="010" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Wu</last-name>
<first-name>Stephen</first-name>
<address>
<city>Los Angeles</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="011" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Moloudi</last-name>
<first-name>Shervin</first-name>
<address>
<city>Los Angeles</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>McAndrews, Held &amp; Malloy, Ltd.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Broadcom Corporation</orgname>
<role>02</role>
<address>
<city>Irvine</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Milord</last-name>
<first-name>Marceau</first-name>
<department>2618</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An exemplary embodiment of the present invention described and shown in the specification and drawings is a transceiver with a receiver, a transmitter, a local oscillator (LO) generator, a controller, and a self-testing unit. All of these components can be packaged for integration into a single IC including components such as filters and inductors. The controller for adaptive programming and calibration of the receiver, transmitter and LO generator. The self-testing unit generates is used to determine the gain, frequency characteristics, selectivity, noise floor, and distortion behavior of the receiver, transmitter and LO generator. It is emphasized that this abstract is provided to comply with the rules requiring an abstract which will allow a searcher or other reader to quickly ascertain the subject matter of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or the meaning of the claims.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="115.23mm" wi="196.77mm" file="US07299006-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="234.95mm" wi="153.16mm" orientation="landscape" file="US07299006-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="191.01mm" wi="158.24mm" orientation="landscape" file="US07299006-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="182.96mm" wi="143.09mm" orientation="landscape" file="US07299006-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="184.49mm" wi="103.12mm" file="US07299006-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="195.24mm" wi="159.26mm" file="US07299006-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="205.23mm" wi="137.24mm" orientation="landscape" file="US07299006-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="177.04mm" wi="100.84mm" file="US07299006-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="184.83mm" wi="100.84mm" file="US07299006-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="169.08mm" wi="128.35mm" file="US07299006-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="184.74mm" wi="113.28mm" file="US07299006-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="191.35mm" wi="113.54mm" file="US07299006-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="179.15mm" wi="122.51mm" file="US07299006-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="198.04mm" wi="151.64mm" file="US07299006-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="202.27mm" wi="147.07mm" orientation="landscape" file="US07299006-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="189.06mm" wi="88.98mm" file="US07299006-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="183.22mm" wi="90.51mm" file="US07299006-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="186.01mm" wi="109.98mm" file="US07299006-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="290.75mm" wi="192.36mm" file="US07299006-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="180.26mm" wi="134.45mm" file="US07299006-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="209.04mm" wi="129.96mm" orientation="landscape" file="US07299006-20071120-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="198.63mm" wi="132.00mm" orientation="landscape" file="US07299006-20071120-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="191.09mm" wi="133.94mm" orientation="landscape" file="US07299006-20071120-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="195.16mm" wi="133.43mm" orientation="landscape" file="US07299006-20071120-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="198.80mm" wi="153.92mm" file="US07299006-20071120-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="211.92mm" wi="141.05mm" orientation="landscape" file="US07299006-20071120-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="184.23mm" wi="129.54mm" file="US07299006-20071120-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00027" num="00027">
<img id="EMI-D00027" he="210.65mm" wi="142.16mm" file="US07299006-20071120-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00028" num="00028">
<img id="EMI-D00028" he="186.01mm" wi="146.90mm" orientation="landscape" file="US07299006-20071120-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00029" num="00029">
<img id="EMI-D00029" he="184.49mm" wi="145.37mm" orientation="landscape" file="US07299006-20071120-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00030" num="00030">
<img id="EMI-D00030" he="192.96mm" wi="125.48mm" orientation="landscape" file="US07299006-20071120-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00031" num="00031">
<img id="EMI-D00031" he="163.58mm" wi="98.30mm" file="US07299006-20071120-D00031.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00032" num="00032">
<img id="EMI-D00032" he="196.00mm" wi="149.61mm" file="US07299006-20071120-D00032.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00033" num="00033">
<img id="EMI-D00033" he="205.99mm" wi="119.97mm" file="US07299006-20071120-D00033.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00034" num="00034">
<img id="EMI-D00034" he="184.83mm" wi="155.11mm" file="US07299006-20071120-D00034.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00035" num="00035">
<img id="EMI-D00035" he="209.38mm" wi="144.27mm" orientation="landscape" file="US07299006-20071120-D00035.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00036" num="00036">
<img id="EMI-D00036" he="215.73mm" wi="149.01mm" orientation="landscape" file="US07299006-20071120-D00036.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00037" num="00037">
<img id="EMI-D00037" he="266.36mm" wi="175.34mm" orientation="landscape" file="US07299006-20071120-D00037.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00038" num="00038">
<img id="EMI-D00038" he="216.07mm" wi="138.51mm" orientation="landscape" file="US07299006-20071120-D00038.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00039" num="00039">
<img id="EMI-D00039" he="216.66mm" wi="146.39mm" orientation="landscape" file="US07299006-20071120-D00039.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00040" num="00040">
<img id="EMI-D00040" he="190.58mm" wi="155.19mm" orientation="landscape" file="US07299006-20071120-D00040.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00041" num="00041">
<img id="EMI-D00041" he="206.50mm" wi="133.43mm" orientation="landscape" file="US07299006-20071120-D00041.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00042" num="00042">
<img id="EMI-D00042" he="203.20mm" wi="153.67mm" orientation="landscape" file="US07299006-20071120-D00042.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00043" num="00043">
<img id="EMI-D00043" he="203.45mm" wi="141.31mm" orientation="landscape" file="US07299006-20071120-D00043.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00044" num="00044">
<img id="EMI-D00044" he="282.87mm" wi="211.41mm" orientation="landscape" file="US07299006-20071120-D00044.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00045" num="00045">
<img id="EMI-D00045" he="321.56mm" wi="209.47mm" orientation="landscape" file="US07299006-20071120-D00045.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00046" num="00046">
<img id="EMI-D00046" he="182.20mm" wi="114.81mm" orientation="landscape" file="US07299006-20071120-D00046.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00047" num="00047">
<img id="EMI-D00047" he="182.71mm" wi="108.80mm" file="US07299006-20071120-D00047.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00048" num="00048">
<img id="EMI-D00048" he="171.87mm" wi="143.59mm" orientation="landscape" file="US07299006-20071120-D00048.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00049" num="00049">
<img id="EMI-D00049" he="182.96mm" wi="138.01mm" file="US07299006-20071120-D00049.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00050" num="00050">
<img id="EMI-D00050" he="194.23mm" wi="152.99mm" file="US07299006-20071120-D00050.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00051" num="00051">
<img id="EMI-D00051" he="187.20mm" wi="138.18mm" file="US07299006-20071120-D00051.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00052" num="00052">
<img id="EMI-D00052" he="186.77mm" wi="117.09mm" orientation="landscape" file="US07299006-20071120-D00052.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00053" num="00053">
<img id="EMI-D00053" he="178.99mm" wi="136.91mm" file="US07299006-20071120-D00053.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00054" num="00054">
<img id="EMI-D00054" he="209.80mm" wi="159.94mm" file="US07299006-20071120-D00054.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00055" num="00055">
<img id="EMI-D00055" he="194.99mm" wi="148.17mm" file="US07299006-20071120-D00055.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00056" num="00056">
<img id="EMI-D00056" he="185.34mm" wi="136.31mm" file="US07299006-20071120-D00056.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00057" num="00057">
<img id="EMI-D00057" he="172.30mm" wi="104.56mm" file="US07299006-20071120-D00057.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00058" num="00058">
<img id="EMI-D00058" he="192.62mm" wi="123.87mm" file="US07299006-20071120-D00058.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00059" num="00059">
<img id="EMI-D00059" he="165.78mm" wi="129.88mm" file="US07299006-20071120-D00059.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00060" num="00060">
<img id="EMI-D00060" he="165.52mm" wi="110.66mm" file="US07299006-20071120-D00060.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00061" num="00061">
<img id="EMI-D00061" he="175.60mm" wi="115.40mm" file="US07299006-20071120-D00061.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00062" num="00062">
<img id="EMI-D00062" he="181.53mm" wi="132.42mm" orientation="landscape" file="US07299006-20071120-D00062.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00063" num="00063">
<img id="EMI-D00063" he="173.57mm" wi="141.14mm" file="US07299006-20071120-D00063.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00064" num="00064">
<img id="EMI-D00064" he="208.28mm" wi="130.22mm" orientation="landscape" file="US07299006-20071120-D00064.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00065" num="00065">
<img id="EMI-D00065" he="201.17mm" wi="152.40mm" orientation="landscape" file="US07299006-20071120-D00065.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00066" num="00066">
<img id="EMI-D00066" he="190.08mm" wi="158.16mm" orientation="landscape" file="US07299006-20071120-D00066.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00067" num="00067">
<img id="EMI-D00067" he="197.19mm" wi="152.91mm" orientation="landscape" file="US07299006-20071120-D00067.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00068" num="00068">
<img id="EMI-D00068" he="218.10mm" wi="150.62mm" orientation="landscape" file="US07299006-20071120-D00068.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00069" num="00069">
<img id="EMI-D00069" he="192.62mm" wi="151.13mm" orientation="landscape" file="US07299006-20071120-D00069.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">The present application is a continuation-in-part of Application No. 09/634,552; filed Aug. 8, 2000, which claims priority to provisional Application No. 60/160,806, filed Oct. 21, 1999; Application No. 60/163,487, filed Nov. 4, 1999; Application No. 60/163,398, filed Nov. 4, 1999; Application No. 60/164,442, filed Nov. 9, 1999; Application No. 60/164,194, filed Nov. 9, 1999; Application No. 60/164,314, filed Nov. 9, 1999; Application No. 60/165,234, filed Nov. 11, 1999; Application No. 60/165,239, filed Nov. 11, 1999; Application No. 60/165,356; filed Nov. 12, 1999; Application No. 60/165,355, filed Nov. 12, 1999; Application No. 60/172,348, filed Dec. 16, 1999; Application No. 60/201,335, filed May 2, 2000; Application No. 60/201,157, filed May 2, 2000; Application No. 60/201,179, filed May 2, 2000; Application No. 60/202,997, filed May 10, 2000. The priority of these applications is hereby claimed under 35 U.S.C. §§119(e), 120. The present application also claims priority under 35 U.S.C. §119(e) to provisional Application No. 60/160,839, filed Oct. 21, 1999; Application No. 60/163,488, filed Nov. 4, 1999; Application No. 60/163,780, filed Nov. 5, 1999; Application No. 60/164,446, filed Nov. 9, 1999; and Application No. 60/164,987, filed Nov. 11, 1999. All these applications are expressly incorporated herein by referenced as though fully set forth in full.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<heading id="h-0003" level="1">Field of the Invention</heading>
<p id="p-0003" num="0002">The present invention relates to telecommunication systems, and in particular to, radio transceiver systems and techniques.</p>
<p id="p-0004" num="0003">Transceivers are used in wireless communications to transmit and receive electromagnetic waves in free space. In general, a transceiver comprises three main components: a transmitter, a receiver, and an LO generator or frequency synthesizer. The function of the transmitter is to modulate, upconvert, and amplify signals for transmission into free space. The function of the receiver is to detect signals in the presence of noise and interference, and provide amplification, downconversion and demodulation of the detected the signal such that it can be displayed or used in a data processor. The LO generator provides a reference signal to both the transmitter for upconversion and the receiver for downconversion.</p>
<p id="p-0005" num="0004">Transceivers have a wide variety of applications ranging from the low data rate wireless applications (such as mouse and keyboard) to medium data rate Bluetooth and high data rate wireless LAN 802.11 standards. However, due to the high cost, size and power consumption of currently available transceivers, numerous applications are not being fully commercialized. A simplified architecture would make a transceiver more economically viable for wider applications and integration with other systems. The integration of the transceiver into a single integrated circuit (IC) would be an attractive approach. However, heretofore, the integration of the transceiver into a single IC has been difficult due to process variations and mismatches. Accordingly, there is a need for an innovative transceiver architecture that could be implemented on a single IC, or alternatively, with a minimum number of discrete off-chip components that compensate for process variations and mismatches.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0006" num="0005">In one aspect of the present invention, a method of wireless communications using a transceiver having a receiver and transmitter includes programming one of the receiver and the transmitter, receiving a first signal at the receiver from a wireless source, and transmitting a second signal from the transmitter into space.</p>
<p id="p-0007" num="0006">In another aspect of the present invention, a method of wireless communications using a transceiver having a receiver, transmitter and local oscillator includes programming a frequency of a clock in the local oscillator, receiving a first signal at the receiver from a wireless source, downconverting the received first signal with the clock, upconverting a second signal with the clock, and transmitting the upconverted second signal from a transmitter into space.</p>
<p id="p-0008" num="0007">In yet another aspect of the present invention, an adaptive transceiver includes a receiver having programmable component, a transmitter coupled to the receiver and having a programmable component, and a controller to program one of the receiver and transmitter components.</p>
<p id="p-0009" num="0008">In a further aspect of the present invention, an adaptive transceiver includes means for receiving a first signal from an external wireless source, means for transmitting a second signal into space, and means for programming one of the receiving means and transmitting means.</p>
<p id="p-0010" num="0009">In yet a further aspect of the present invention, an adaptive transceiver includes means for receiving a first signal from a wireless source, means for downconverting the received first signal with a clock, means for upconverting a second signal with the clock, means for transmitting the upconverted second signal into space, and means for programming a frequency of the clock.</p>
<p id="p-0011" num="0010">In still yet a further aspect of the present invention, an integrated circuit includes a receiver having programmable component, a transmitter having a programmable component, and a controller to program one of the receiver and transmitter components.</p>
<p id="p-0012" num="0011">It is understood that other embodiments of the present invention will become readily apparent to those skilled in the art from the following detailed description, wherein it is shown and described only embodiments of the invention by way of illustration of the best modes contemplated for carrying out the invention. As will be realized, the invention is capable of other and different embodiments and its several details are capable of modification in various other respects, all without departing from the spirit and scope of the present invention. Accordingly, the drawings and detailed description are to be regarded as illustrative in nature and not as restrictive.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0013" num="0012">These and other features, aspects, and advantages of the present invention will become better understood with regard to the following description, appended claims, and accompanying drawings where:</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a transceiver in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of the transceiver blocks including a receiver, transmitter and local oscillator in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of a mixer in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 4</figref> is an electrical diagram of a low noise amplifier in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 4(</figref><i>a</i>) is an electrical diagram of a low noise amplifier in accordance with an another exemplary embodiment of the present invention;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram of a four-stage biquad complex bandpass filter in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 6</figref> is an electrical diagram of one biquad stage of the complex bandpass filter in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 7</figref> is a graphical depiction of the frequency response on the biquad stage of <figref idref="DRAWINGS">FIG. 6</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 8</figref> is an electrical diagram of one possible input circuit for the biquad stage in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 9</figref> is an electrical diagram of another possible input circuit for the biquad stage in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 10</figref> is an electrical diagram of a modified a modified biquad stage of <figref idref="DRAWINGS">FIG. 6</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 11</figref> is a graphical depiction of the frequency response of the modified biquad stage of <figref idref="DRAWINGS">FIG. 10</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 12(</figref><i>a</i>) is an electrical diagram of a tunable array of capacitors in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 12(</figref><i>b</i>) is an electrical diagram of ta tunable array of resistors in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram of a complex bandpass filter using polyphase in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 14</figref> is a block diagram of a programmable multiple stage amplifier in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 15</figref> is a block diagram of an input and/or output stage for the programmable multiple stage amplifier of <figref idref="DRAWINGS">FIG. 14</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 16(</figref><i>a</i>) is a block diagram of one core amplifier stage of the programmable multiple stage amplifier of <figref idref="DRAWINGS">FIG. 14</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 16(</figref><i>b</i>) is a block diagram of a full-wave rectifier of the of the programmable multiple stage amplifier of <figref idref="DRAWINGS">FIG. 14</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 17(</figref><i>a</i>) is an IF mixer in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 17(</figref><i>b</i>) is a graphical depiction of a frequency spectrum for the limited IF clocks into the mixer of FIG <b>17</b>(<i>a</i>) in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 17(</figref><i>c</i>) is a graphical depiction of a frequency spectrum for the IF input into the mixer of <figref idref="DRAWINGS">FIG. 17(</figref><i>a</i>) in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 17(</figref><i>d</i>) is a graphical depiction of a frequency spectrum for the output of the mixer of <figref idref="DRAWINGS">FIG. 17(</figref><i>a</i>) in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 18</figref> is a clock generator in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 19(</figref><i>a</i>) is a graphical depiction of a clock signal spectrum input into the clock generator of <figref idref="DRAWINGS">FIG. 18</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 19(</figref><i>b</i>) is a graphical depiction of a signal spectrum at the output of a two second stage polyphase filter of the clock generator of <figref idref="DRAWINGS">FIG. 18</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 19(</figref><i>c</i>) is a graphical depiction of the signal spectrum output from a low pass filter of the clock generator of <figref idref="DRAWINGS">FIG. 18</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 19</figref><i>d </i>is a block diagram of an exemplary polyphase filter;</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 19</figref><i>e </i>is a block diagram of a polyphase filter including a two-stage polyphase filter;</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 19</figref><i>f </i>is a schematic of an exemplary embodiment of a polyphase structure;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 19</figref><i>g </i>is a schematic of a branch of the RC network of <figref idref="DRAWINGS">FIG. 19</figref><i>f </i></p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 20(</figref><i>a</i>) is a graphical depiction of a signal spectrum at the input to a polyphase filter in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 20(</figref><i>b</i>) is a graphical depiction of a signal spectrum at the output of the polyphase filter in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 20(</figref><i>c</i>) is a graphical depiction of the signal spectrum output from a low pass filter of the polyphase filter in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 21</figref> is a block diagram of a demodulator in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 22</figref> is a block diagram of a differentiator of the demodulator of <figref idref="DRAWINGS">FIG. 21</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 23</figref> is a block diagram of a multiplier of the demodulator of <figref idref="DRAWINGS">FIG. 21</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 24</figref> is a block diagram of a peak detector/slicer of the demodulator of <figref idref="DRAWINGS">FIG. 21</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 25</figref> is a block diagram of a differential power amplifier in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 26(</figref><i>a</i>) is a electrical diagram of one bias circuit to the input and/or output stage of the differential power amplifier of <figref idref="DRAWINGS">FIG. 25</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 26(</figref><i>b</i>) is an electrical diagram of another bias circuit to the input and/or output stage of the differential power amplifier of <figref idref="DRAWINGS">FIG. 25</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 27</figref> is an electrical diagram of a bias circuit for a the current source of the differential power amplifier of <figref idref="DRAWINGS">FIG. 25</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 28</figref> is an electrical diagram of a power control circuit for the differential power amplifier of <figref idref="DRAWINGS">FIG. 25</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0057" num="0056">FIG, <b>29</b> is an electrical diagram of a single-ended differential power amplifier in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 30(</figref><i>a</i>) is an electrical diagram of digitally programmable CMOS power amplifier in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 30(</figref><i>b</i>) is a block diagram of an alternative embodiment of the transmitter and local oscillator generator of FIG <b>2</b>;</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 30(</figref><i>c</i>) is a block diagram of a CMOS offset PLL;</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 30(</figref><i>d</i>) is a block diagram of an offset PLL architecture utilizing a subsampling mixer;</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 30(</figref><i>e</i>) is a block diagram illustrating frequency conversion and an I/Q mixer circuit;</p>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 30(</figref><i>f</i>) illustrates a typical mixing process;</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 30(</figref><i>g</i>) illustrates a frequency conversion scheme that tends to minimize the adverse effects due to frequency pulling and additionally tends to provide the benefit of reduced power consumption;</p>
<p id="p-0065" num="0064"><figref idref="DRAWINGS">FIG. 30(</figref><i>h</i>) is a block diagram of a first embodiment of a subsampling mixer for high frequencies;</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIG. 30(</figref><i>i</i>) is a schematic diagram of the differential pair amplifier;</p>
<p id="p-0067" num="0066"><figref idref="DRAWINGS">FIG. 30(</figref><i>j</i>) is a schematic diagram of the first and second track and hold subsampling mixer circuits;</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. 30(</figref><i>k</i>) is a schematic of a current combining circuit;</p>
<p id="p-0069" num="0068">FIG <b>30</b>(<i>l</i>) is a block diagram of a second embodiment of a Subsampling Mixer for high frequencies;</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 30(</figref><i>m</i>) is a schematic diagram of a track and hold circuit;</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 30(</figref><i>n</i>) is a schematic diagram of the sample and hold and current combining circuit;</p>
<p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. 31(</figref><i>a</i>) is a block diagram of a local oscillator (LO) architecture in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0073" num="0072"><figref idref="DRAWINGS">FIG. 31(</figref><i>b</i>) is a block diagram of an LO architecture in accordance with another exemplary embodiment of the present invention;</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 32</figref> is a block diagram of a LO architecture in accordance with an alternative exemplary embodiment of the present invention;</p>
<p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. 33(</figref><i>a</i>) is a block diagram of a LO architecture in accordance with an yet another exemplary embodiment of the present invention;</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. 33(</figref><i>b</i>) is a block diagram of a limiting buffer for the LO architecture of <figref idref="DRAWINGS">FIG. 33</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. 34</figref> is a block diagram of a wide tuning range voltage controlled oscillator (VCO) in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. 35</figref> is an electrical diagram of the wide tuning range VCO of <figref idref="DRAWINGS">FIG. 34</figref> in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 36(</figref><i>a</i>) is a graphical depiction showing a typical VCO tuning curve;</p>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 36(</figref><i>b</i>) is a graphical depiction of a segmented VCO tuning curve in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0081" num="0080"><figref idref="DRAWINGS">FIG. 37</figref> (<i>a</i>) is a block diagram of a cross-coupled VCO in combination with a frequency divider in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0082" num="0081"><figref idref="DRAWINGS">FIG. 37</figref> (<i>b</i>) is a block diagram of a VCO in combination with a divider and polyphase circuit in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0083" num="0082"><figref idref="DRAWINGS">FIG. 38</figref> is a block diagram of a controller in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0084" num="0083"><figref idref="DRAWINGS">FIG. 39</figref> is an electrical diagram of an RC calibration circuit in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0085" num="0084"><figref idref="DRAWINGS">FIG. 40</figref> is a block diagram of an RC calibration circuit using polyphase in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0086" num="0085"><figref idref="DRAWINGS">FIG. 41</figref> is an electrical diagram of a capacitor array in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0087" num="0086"><figref idref="DRAWINGS">FIG. 42</figref> is an electrical diagram of a bandgap calibration circuit in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. 43</figref> is a block diagram of bandgap circuit in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0089" num="0088"><figref idref="DRAWINGS">FIG. 44</figref> is a electrical diagram of a resistor array in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0090" num="0089"><figref idref="DRAWINGS">FIG. 45</figref> is a block diagram of a floating MOS capacitor in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0091" num="0090"><figref idref="DRAWINGS">FIG. 46</figref> is an electrical diagram of a duplexing circuit with the power amplifier on and the low noise amplifier off in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. 47</figref> is an electrical diagram of a duplexing circuit with the low noise amplifier on and the power amplifier off in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0093" num="0092"><figref idref="DRAWINGS">FIG. 48</figref><i>a </i>is a block diagram illustrating typical noise coupling paths present on integrated circuit substrate incorporating digital, analog and RF circuitry;</p>
<p id="p-0094" num="0093"><figref idref="DRAWINGS">FIG. 48</figref><i>b </i>is a block diagram of a fully balanced circuit utilizing common mode averaging;</p>
<p id="p-0095" num="0094"><figref idref="DRAWINGS">FIG. 48</figref><i>c </i>and <b>48</b><i>d </i>are block diagrams of a fully balanced circuit having a common mode inductive load;</p>
<p id="p-0096" num="0095"><figref idref="DRAWINGS">FIG. 48</figref><i>e </i>is a block diagram of a fully balanced architecture having an AC coupled tail current source coupled to ground; and</p>
<p id="p-0097" num="0096"><figref idref="DRAWINGS">FIG. 48</figref><i>f </i>is a block diagram of a differential logic circuit utilizing the noise reduction scheme of <figref idref="DRAWINGS">FIG. 48</figref><i>b. </i></p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<heading id="h-0007" level="1">Exemplary Embodiments of a Transceiver</heading>
<p id="p-0098" num="0097">In accordance with an exemplary embodiment of the present invention, a transceiver utilizes a combination of frequency planning, circuit design, layout and implementation, differential signal paths, dynamic calibration, and self-tuning to achieve robust performance over process variation and interference. This approach allows for the full integration of the transceiver onto a single IC for a low cost, low power, reliable and more compact solution. This can be achieved by (1) moving external bulky and expensive image reject filters, channel select filters, and baluns onto the RF chip; (2) reducing the number of off-chip passive elements such as capacitors, inductors, and resistors by moving them onto the chip; and (3) integrating all the remaining components onto the chip. As those skilled in the art will appreciate, the described exemplary embodiments of the transceiver do not require integration into a single IC and may be implemented in a variety of ways including discrete hardware components.</p>
<p id="p-0099" num="0098">As shown in <figref idref="DRAWINGS">FIG. 1</figref>, a described exemplary embodiment of the transceiver includes an antenna <b>8</b>, a switch <b>9</b>, a receiver <b>10</b>, a transmitter <b>12</b>, a local oscillator (LO) generator (also called a synthesizer) <b>14</b>, a controller <b>16</b>, and a self-testing unit <b>18</b>. All of these components can be packaged for integration into a single IC including components such as filters and inductors.</p>
<p id="p-0100" num="0099">The transceiver can operate in either a transmit or receive mode. In the transmit mode, the transmitter <b>12</b> is coupled to the antenna <b>8</b> through the switch <b>9</b>. The switch <b>9</b> provides sufficient isolation to prevent transmitter leakage from desensitizing or damaging the receiver <b>10</b>. In the receive mode, the switch <b>9</b> directs signal transmissions from the antenna <b>8</b> to the receiver <b>10</b>. The position of the switch <b>9</b> can be controlled by an external device (not shown) such as a computer or any other processing device known in the art.</p>
<p id="p-0101" num="0100">The receiver <b>10</b> provides detection of desired signals in the presence of noise ad interference. It should be able extract the desired signals and amplify it to a level where information contained in the received transmission can be processed. In the described exemplary embodiment, the receiver <b>10</b> is based on a heterodyne complex (I–Q) architecture with a programmable intermediate frequency (IF). The LO generator <b>14</b> provides a reference signal to the receiver <b>10</b> to downconvert the received transmission to the programmed IF.</p>
<p id="p-0102" num="0101">A low IF heterodyne architecture is chosen over a direct conversion receiver because of the DC offset problem in direct conversion architectures. DC offset in direct conversion architectures arises from a number of sources including impedance mismatches, variations in threshold voltages due to process variations, and leakage from the LO generator to the receiver. With a low IF architecture, AC coupling between the IF stages can be used to remove the DC offset.</p>
<p id="p-0103" num="0102">The transmitter <b>12</b> modulates incoming data onto a carrier frequency. The modulated carrier is upconverted by the reference signal from the LO generator <b>14</b> and amplified to a sufficient power level for radiation into free space through the antenna <b>8</b>. The transmitter uses a direct conversion architecture. With this approach only one step of upconversion is required This leads to a reduction in both circuit complexity and power consumption.</p>
<p id="p-0104" num="0103">The controller <b>16</b> performs two functions. The first function provides for adaptive programming of the receiver <b>10</b>, transmitter <b>14</b> and LO generator <b>16</b>. By way of example, the transceiver can be programmed to handle various communication standards for local area networks (LAN) and personal area networks (PAN) including HomeRF, IEEE 802.11, Bluetooth, or any other wireless standard known in the art. This entails programming the transceiver to handle different modulation schemes and data rates. The described exemplary embodiment of the transceiver can support modulation schemes such as Binary Phase Shift Keying (BPSK), Quadrature Phase Shift Keying (QPSK), offset quadrature phase shift keying (OQPSK), Multiple frequency modulations such as M level frequency shift keying (FSK), Continuous Phase Frequency Shift Keying modulation (CFSK), Minimum Shift Keying modulation (MSK), Gaussian filtered FSK modulation (GFSK), and Gaussian filtered Minimum Shift Keying (GMSK), Phase/Amplitude modulation (such as Quadrature Amplitude Modulation (QAM)), orthogonal frequency modulation (such as Orthogonal Frequency Division Multiplexing (OFDM)), direct sequence spread spectrum systems, and frequency hopped spread spectrum systems and numerous other modulation schemes known in the art. Dynamic programming of the transceiver can also be used to provide optimal operation in the presence of noise and interference. By way of example, the IF can be programmed to avoid interference from an external source.</p>
<p id="p-0105" num="0104">The second function provides for adaptive calibration of the receiver <b>10</b>, transmitter <b>14</b> and LO generator <b>16</b>. The calibration functionality controls the parameters of the transceiver to account for process and temperature variations that impact performance. By way of example, resistors can be calibrated within exacting tolerances despite process variations in the chip fabrication process. These exacting tolerances can be maintained in the presence of temperature changes by adaptively fine tuning the calibration of the resistors.</p>
<p id="p-0106" num="0105">The controller <b>16</b> can be controlled externally by a central processing unit (CPU), a microprocessor, a digital signal processor (DSP), a computer, or any other processing device known in the art. In the described exemplary embodiment, a control bus <b>17</b> provides two way communication between the controller <b>16</b> and the external processing device (not shown). This communication link can be used to externally program the transceiver parameters for different modulation schemes, data rates and IF operating frequencies. The output of the controller <b>16</b> is used to adjust the parameters of the transceiver to achieve optimal performance in the presence of process and temperature variations for the selected modulation scheme, data rate and IF.</p>
<p id="p-0107" num="0106">The self-testing unit <b>18</b> generates test signals with different amplitudes and frequency ranges. The test signals are coupled to the receiver <b>10</b>, transmitter <b>12</b> and LO generator <b>14</b> where they are processed and returned to the self-testing unit <b>18</b>. The return signals are used to determine the gain, frequency characteristics, selectivity, noise floor, and distortion behavior of the receiver <b>10</b>, transmitter <b>12</b> and LO generator <b>14</b>. This is accomplished by measuring the strength of the signals output from the self-testing unit <b>18</b> against the returned signals over the tested frequency ranges. In an exemplary embodiment of the self-testing unit <b>18</b>, these measurements can be made with different transceiver parameters by sweeping the output of the controller <b>16</b> through its entire calibrating digital range, or alternatively making measurements with the controller output set to a selected few points, by way of example, at the opposite ends of the digital range.</p>
<p id="p-0108" num="0107">In the described exemplary embodiment, the self-testing unit <b>18</b> is in communication with the external processing device (not shown) via the control bus <b>17</b>. During the self-test, the external processing device provides programming data to both the controller <b>16</b> and the self-testing unit <b>18</b>. The self-testing unit <b>18</b> utilizes the programming data used by the controller <b>16</b> to set the parameters of the transceiver to determine the gain, frequency characteristics, selectivity, noise floor, and distortion behavior of the receiver <b>10</b>, transmitter <b>12</b> and LO generator <b>14</b>.</p>
<p id="p-0109" num="0108"><figref idref="DRAWINGS">FIG. 2</figref> shows a block diagram of the transceiver in accordance with an embodiment of the invention. The described exemplary embodiment is integrated into a single IC. For ease of understanding, each component coupled to the controller is shown with a “program” designation or a “calibration” designation. These designations indicate whether the component is programmed by the controller or calibrated by the controller. In practice, in accordance with the described exemplary embodiment of the present invention, the components that are programmed receive the MSBs and the components that are calibrated receive the LSBs. The components requiring both programming and calibration receive the entire digital output from the controller. As those skilled in the art will appreciate, any number of methodologies may be used to deliver programming and calibration information to the individual components. By way of example, a single controller bus could be used having the programming and or calibration data with the appropriate component addresses.</p>
<p id="p-0110" num="0109">The receiver <b>10</b> front end includes a low noise amplifier (LNA) <b>22</b> which provides high gain with good noise figure performance. Preferably, the gain of the LNA <b>22</b> can be set by the controller (not shown) through a “select gain” input to maximize the receivers dynamic range. The desirability of dynamic gain control arises from the effect of blockers or interferers which can desensitize the LNA. Conventional filter designs at the input of the LNA <b>22</b> may serve to sufficiently attenuate undesired signals below a certain power level, however, for higher power blockers or interferers, the LNA <b>22</b> should be operated with low gain.</p>
<p id="p-0111" num="0110">The output of the LNA <b>22</b> is downconverted to a low IF frequency by the combination of complex IF mixers <b>24</b> and a complex bandpass filter <b>26</b>. More particularly, the output of the LNA <b>22</b> is coupled to the complex IF mixers <b>24</b> which generate a spectrum of frequencies based upon the sum and difference of the received signal and the RF clocks from the LO generator. The complex bandpass filter passes the complex IF signal while rejecting the image of the received signal. The image rejection capability of the complex IF mixers <b>24</b> in cooperation with the complex bandpass filter <b>26</b> eliminates the need for the costly and power consuming preselect-filter typically required at the input of the LNA for conventional low IF architectures.</p>
<p id="p-0112" num="0111">The output of the complex bandpass filter <b>26</b> is coupled to a programmable multiple gain stage amplifier <b>28</b>. The amplifier <b>28</b> can be designed to be programmable to select between a limiter and an automatic gain control (AGC) feature, depending on the modulation scheme used in the transceiver. The limiting amplifier can be selected if the transceiver uses a constant envelope modulation such as FSK. AGC can be selected if the modulation is not a constant envelope, such as QAM. In addition, the bandwidth of the amplifier <b>28</b> can be changed by the controller to accommodate various data rates and modulation schemes.</p>
<p id="p-0113" num="0112">The output of the amplifier <b>28</b> is coupled to a second set of complex IF mixers <b>30</b> where it is mixed with the IF clocks from the LO generator for the purpose of downconverting the complex IF signal to baseband. The complex IF mixers <b>30</b> not only reject the image of the complex IF signal, but also reduces some of the unwanted cross modulation spurious signals thereby relaxing the filtering requirements.</p>
<p id="p-0114" num="0113">The complex baseband signal from the mixers <b>30</b> is coupled to a programmable passive polyphase filter within a programmable low pass filter <b>32</b>. The programmable low pass filter <b>32</b> further filters out higher order cross modulation products. The polyphase filter can be centered at four times the IF frequency to notch out one of the major cross modulation products which results from the multiplication of the third harmonic of the IF signal with the IF clock. After the complex baseband signal is filtered, it either is passed through an analog-to-digital (A/D) converter <b>34</b> to be digitized or is passed to an analog demodulator <b>36</b>. The analog demodulator <b>36</b> can be implemented to handle any number of different modulation schemes by way of example FSK. Embodiments of the present invention with an FSK demodulator uses the A/D converter <b>36</b> to sample baseband data with other modulation schemes for digital demodulation in a digital signal processor (not shown).</p>
<p id="p-0115" num="0114">The LO generator <b>14</b> provides the infrastructure for frequency planning. The LO generator <b>14</b> includes an IF clock generator <b>44</b> and an RF clock generator <b>47</b>. The IF clock generator includes an oscillator <b>38</b> operating at a ratio of the RF signal (f<sub>OCS</sub>). High stability and accuracy can be achieved in a number of ways including the use of a crystal oscillator.</p>
<p id="p-0116" num="0115">The reference frequency output from the oscillator <b>38</b> is coupled to a divider <b>40</b>. The divider <b>40</b> divides the reference signal f<sub>OSC </sub>by a number L to generate the IF clocks for downconverting the complex IF signal in the receiver to baseband. A clock generator <b>41</b> is positioned at the output of the divider <b>40</b> to generate a quadrature sinusoidal signal from the square wave output of the divider <b>40</b>. Alternatively, the clock generator <b>41</b> can be located in the receiver. The divider <b>40</b> may be programmed by through the program input. This feature allows changes in the IF frequency to avoid interference from an external source.</p>
<p id="p-0117" num="0116">The output of the divider <b>40</b> is coupled to the RF clock generator <b>47</b> where it is further divided by a number n by a second divider <b>42</b>. The output of the second divider <b>42</b> provides a reference frequency to a phase lock loop (PLL) <b>43</b>. The PLL includes a phase detector <b>45</b>, a divide by M circuit <b>46</b> and a voltage controlled oscillator (VCO) <b>48</b>. The output of the VCO <b>48</b> is fed back through the divide by M circuit <b>46</b> to the phase detector <b>45</b> where it is compared with the reference frequency. The phase detector <b>45</b> generates an error signal representative of the phase difference between the reference frequency and the output of the divide by M circuit <b>46</b>. The error signal is fed back to the control input of the VCO <b>48</b> to adjust its output frequency f<sub>VCO </sub>until the VCO <b>48</b> locks to a frequency which is a multiple of the reference frequency. The VCO <b>48</b> may be programmed by setting M via the controller through the program input to the divide by M circuit <b>46</b>. The programmability resolution of the VCO frequency f<sub>VCO </sub>is set by the reference frequency which also may be programmed by the controller through the program input of the divider <b>42</b>.</p>
<p id="p-0118" num="0117">In the described exemplary embodiment, the VCO frequency is sufficiently separated (in frequency) from the RF frequency generated by the transmitter <b>12</b> to prevent VCO pulling and injection lock of the VCO. Transmitter leakage can pull the VCO frequency toward the RF frequency and actually cause the VCO to lock the RF signal if their frequencies are close to each other. The problem is exasperated if the gain and tuning range of the VCO is large. If the frequency of the RF clocks is f<sub>LO</sub>, then the VCO frequency can be defined as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i><sub>VCO</sub><i>=Nf</i><sub>LO</sub>/(<i>N+</i>1).<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
This methodology is implemented with a divide by N circuit <b>50</b> coupled to the output of the VCO <b>48</b> in the PLL <b>43</b>. The output of the VCO <b>48</b> and the output of the divide by N circuit <b>50</b> are coupled to a complex mixer <b>52</b> where they are multiplied together to generate the RF clocks. A filter <b>53</b> can be positioned at the output of the complex mixer to remove the harmonics and any residual mixing images of the RF clocks. The divide by N circuit can be programmable via the controller through the select input. For example, if N=2, then
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i><sub>VCO</sub>=(2/3)<i>f</i><sub>LO</sub>,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and, if N=3, then
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i><sub>VCO</sub>=(3/4)<i>f</i><sub>LO</sub>.<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0119" num="0118">A VCO frequency set at ⅔ the frequency of the RF clocks works well in the described exemplary embodiment because the transmitter output is sufficiently separated (in frequency) from the VCO frequency. In addition, the frequency of the RF clocks is high enough so that its harmonics and any residual mixing images such as f<sub>VCO</sub>×1−(1/N), 3f<sub>VCO</sub>×1+(1/N), and 3f<sub>VCO</sub>×1−(1/N) are sufficiently separated (in frequency) from the transmitter output to relax the filtering requirements of the RF clocks. The filtering requirements do not have to be sharp because the filter can better distinguish between the harmonics and the residual images when they are separated in frequency. Programming the divide by N circuit <b>50</b> also provides for the quadrature outputs of the divide by N circuit. Otherwise, with an odd number programmed, the outputs of the divide by N circuit <b>50</b> would not be quadrature. For an odd number, the divider <b>50</b> outputs will be differential, but will not be 90 degrees out of phase, i.e., will not be I–Q signals.</p>
<p id="p-0120" num="0119">In the described exemplary embodiment, the RF clocks are generated in the in the LO generator <b>14</b>. This can be accomplished in various fashions including, by way of example, either generating the RF clocks in the VCO or using a polyphase circuit to generate the RF clocks. Regardless of the manner in which the RF clocks are generated, the mixer <b>52</b> will produce a spectrum of frequencies including the sum and difference frequencies, specifically, f<sub>VCO</sub>×(1+(1/N)) and its image f<sub>VCO</sub>×(1−(1/N). To reject the image, the mixer <b>52</b> can be configured as a double quadrature mixer as depicted in <figref idref="DRAWINGS">FIG. 3</figref>. The double quadrature mixer includes on pair of mixers <b>55</b>, <b>57</b> to generate the Q-clock and a second pair of mixers <b>59</b>, <b>61</b> to generate the I-clock. The Q-clock mixers utilize a first mixer <b>55</b> to mix the I output of the VCO <b>48</b> (see <figref idref="DRAWINGS">FIG. 2</figref>) with the Q output of the divider <b>40</b> and a second mixer <b>57</b> to mix the Q output of the VCO with the I output of the divider. The outputs of the first and second mixers are connected together to generate the Q-clock. Similarly, the I-clock mixers utilizes a first mixer <b>59</b> to mix the I output of the divider with the Q output of the VCO and a second mixer <b>61</b> to mix the Q output of the divider with the I output of the VCO. The outputs of the first and second mixers are connected together to generate the I-clock. This technique provides very accurate I–Q clocks by combination of quadrature VCO and filtering. Because of the quadrature mixing, the accuracy of the I–Q clocks is not affected by the VCO inaccuracy, provided that the divide by N circuit generates quadrature outputs. This happens for even divide ratios, such as N=2.</p>
<p id="p-0121" num="0120">Optimized performance is achieved through frequency planning and implemented by programmable dividers in the LO generator to select different ratios. Based on <figref idref="DRAWINGS">FIG. 2</figref>, all the dependencies of the frequencies are shown by the following equation:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i><sub>LO</sub><i>=f</i><sub>RF</sub>−(<i>M×f</i><sub>OSC</sub><i>/nL</i>)(1+1<i>/N</i>)=<i>f</i><sub>OSC</sub><i>/L </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where f<sub>RF </sub>is frequency of the transmitter output.
</p>
<p id="p-0122" num="0121">Turning back to <figref idref="DRAWINGS">FIG. 2</figref>, the transmitter <b>12</b> includes a complex buffer <b>54</b> for coupling incoming I–Q modulated baseband signals to a programmable low-pass filter <b>56</b>. The low-pass filter <b>56</b> can be programmed by the controller through the select input. The output of the low-pass filter <b>56</b> is coupled to complex mixers <b>58</b>. The complex mixers <b>58</b> mixes the I–Q modulated baseband signals with the RF clocks from the LO generator to directly upconvert the baseband signals to the transmitting frequency. The upconverted signal is then coupled to an amplifier <b>60</b> and eventually a power amplifier (PA) <b>62</b> for transmission into free space through the antenna. A bandpass filter (not shown) may be disposed after the PA <b>62</b> to filter out unwanted frequencies before transmission through the antenna.</p>
<p id="p-0123" num="0122">In the described exemplary embodiment, the transmitter can be configured to minimize spurious transmissions. Spurious transmissions in a direct conversion transmitters are generated mainly because of the nonlinearity of the complex mixers and the DC offsets at the input to the complex mixers. Accordingly, the complex mixers can be designed to meet a specified IIP3 (Input Intercept Point for the 3<sup>rd </sup>Harmonic) for the maximum allowable spurs over the frequency spectrum of the communications standard. The DC offsets at the input to the complex mixers can be controlled by the physical size of the transistors.</p>
<p id="p-0124" num="0123">In addition, the transmitter can be designed to minimize spurious transmission outside the frequency spectrum of the communications standard set by the FCC. There are two sources for these spurs: the LO generator and the transmitter. These spurs can be are suppressed by multiple filtering stages in the LO generator and transmitter. Specifically, in the LO generator, due to the complex mixing of the VCO signal with the output of the divide by N circuit, all the spurs are at least f<sub>VCO</sub>/N away from the RF clocks. By setting N to 2, by way of example, these unwanted spurs will be sufficiently separated (in frequency) from the transmitted signal and are easily removed by conventional filters in the LO generator and transmitter. Thus, the spurs will be mainly limited to the harmonics of the transmitted signal, which are also sufficiently separated (in frequency) from the transmitted signal, and therefore, can be rejected with conventional filtering techniques. For further reduction in spurs, a dielectric filter may be placed after the PA in the transmitter.</p>
<heading id="h-0008" level="1">1. RECEIVER</heading>
<heading id="h-0009" level="1">1.1 Differential Amplifier</heading>
<p id="p-0125" num="0124">In exemplary embodiments of the present invention, a differential amplifier can be used to provide good noise immunity in low noise applications. Although the differential amplifiers are described in the context of a low noise amplifier (LNA) for a transceiver, those skilled in the art will appreciate that the techniques described are likewise suitable for various applications requiring good noise immunity. Accordingly, the described exemplary embodiments of an LNA for a transceiver is by way of example only and not by way of limitation.</p>
<heading id="h-0010" level="1">1.1.1 Single-to-Differential LNA</heading>
<p id="p-0126" num="0125">The described LNA can be integrated into a single chip transceiver or used in other low noise applications. In the case of transceiver chip integration, the LNA should be relatively insensitive to the substrate noise or coupling noise from other transceiver circuits. This can be achieved with a single-to-differential LNA. The single-ended input provides an interface with an off-chip single-ended antenna. The differential output provides good noise immunity due to its common mode rejection.</p>
<p id="p-0127" num="0126"><figref idref="DRAWINGS">FIG. 4</figref> shows a schematic of a single-to-differential amplifier having two identical cascode stages that are driven by the same single-ended input <b>64</b>. The input <b>64</b> is coupled to a T-network having two series capacitors <b>82</b>, <b>84</b> and a shunt inductor <b>72</b>. The first stage includes a pair of transistors <b>74</b>, <b>78</b> connected between the shunt inductor <b>72</b> and a DC power source via an inductor <b>68</b>. The second stage includes a complimentary pair of transistors <b>76</b>, <b>80</b> connected between ground and the DC power source via an inductor <b>70</b>. The gate of the one of the transistors <b>80</b> in the second stage is connected to the output of the T-network at the capacitor <b>84</b>. A bias current is applied to the gate of each transistor.</p>
<p id="p-0128" num="0127">This configuration provides an input that is well matched with the antenna because the parallel connection of the T-network with the source of the transistor <b>78</b> transforms the 1/gm (transconductance) of the transistor to a resistance (preferably 50 ohms to match the antenna). By adjusting the values of T-network components, the matching circuit can be tuned for different frequencies and source impedances. The input capacitor <b>82</b> of the T-network further provides decoupling between the antenna and the amplifier.</p>
<p id="p-0129" num="0128">For DC biasing purposes, the shunt inductor <b>72</b> provides a short circuit to ground allowing both stages of the amplifier to operate at the same DC drain current. The output capacitor <b>84</b> provides DC isolation between the gate bias applied to the transistor <b>80</b> of the second stage and the source <b>82</b> of the transistor <b>78</b> in the first stage.</p>
<p id="p-0130" num="0129">In operation, a signal applied to the input of the amplifier is coupled to both the source <b>82</b> of the transistor <b>78</b> of the first stage and the gate <b>83</b> of the transistor <b>80</b> of the second stage. This causes the gain of each stage to vary inversely to one another. As a result, the signal voltage applied to the input of the amplifier is converted to a signal current with the signal current in the first stage being inverted from the signal current in the second stage. Moreover, the two stages will generate the same gain because the gm of the transistors should be the same, and therefore, the total gain of the amplifier is twice as much as conventional single-to-differential amplifiers.</p>
<heading id="h-0011" level="1">1.1.2 Differential LNA</heading>
<p id="p-0131" num="0130">A differential LNA can also be used to provide good noise immunity in low noise applications, such as the described exemplary embodiment of the transceiver. In <figref idref="DRAWINGS">FIG. 4(</figref><i>a</i>), an exemplary differential LNA is shown having a cascode differential pair with inductive degeneration. In the described exemplary embodiment, the differential LNA can be integrated into a single chip transceiver or used in other similar applications.</p>
<p id="p-0132" num="0131">In the case of transceiver chip integration, an off chip coupled (not shown) can be used to split the single-ended output from the antenna into a differential output with each output being 180° out of phase. The LNA input can be matched to the coupler, i.e., a 50 ohm source, by LC circuits. A shunt capacitor <b>463</b> in combination with a series inductor <b>465</b> provides a matching circuit for one output of the coupler, and a shunt capacitor <b>467</b> in combination with a series inductor <b>469</b> provides a matching circuit for the other output of the coupler. At 2.4 GHz, each LC circuit may be replaced by a shunt capacitor and transmission line. In the described exemplary embodiment, the LC circuits are off-chip for improved noise figure performance. Alternatively, the LC circuits could be integrated on chip. However, due to the high loss of on chip inductors, the noise figure, as well as gain, could suffer.</p>
<p id="p-0133" num="0132">The differential output of the coupler is connected to a differential input of the LNA via the LC matching circuits. The differential input includes a pair of input FET transistors <b>471</b>,<b>473</b> with inductive degeneration. This is achieved with an on chip source inductor <b>475</b> connected between the input transistor <b>471</b> and ground, and a second on chip source inductor <b>479</b> connected between the input transistor <b>473</b> and ground. The on chip inductive degeneration provides a predominantly resistive input impedance. In addition, the FET noise contribution at the operating frequency is reduced.</p>
<p id="p-0134" num="0133">The outputs of the input transistors <b>471</b>, <b>473</b> are coupled to a cascode stage implemented with a pair of transistors <b>481</b>, <b>486</b>, respectively. The cascode stage provides isolation between the LNA input and its output. This methodology improves stability, and reduces the effect of the output load on the LNA input matching circuits. The gages of the cascode transistors <b>481</b>, <b>486</b> are biased at the supply voltage by a resistor <b>488</b>. The resistor <b>488</b> reduces instability that might otherwise be caused by parasitic inductances at the gates of the cascoded transistors <b>481</b>, <b>486</b>. Since the described exemplary embodiment of the LNA uses a differential architecture, the resistor does not contribute noise to the LNA output.</p>
<p id="p-0135" num="0134">The output of cascoded transistor <b>481</b> is coupled to the supply voltage through a first inductor <b>490</b>. The output of the cascoded transistor <b>486</b> is coupled to the supply voltage through a second inductor <b>492</b>. The LNA is tuned to the operating frequency by the output inductors <b>490</b>, <b>492</b>. More particularly, these inductors <b>490</b>, <b>492</b> resonate with the LNA output parasitic capacitance, and the input capacitance of the next stage (not shown). Embodiments of the present invention integrated into a single integrated circuit do not require a matching network at the LNA output.</p>
<p id="p-0136" num="0135">The gain of the LNA can be digitally controlled. This is achieved by introducing a switchable resistor in parallel with each of the output inductors. In the described exemplary embodiment, a series resistor <b>494</b> and switch <b>496</b> is connected in parallel with the output inductor <b>490</b>, and a second series resistor <b>498</b> and switch <b>500</b> is connected in parallel with the output inductor <b>492</b>. The switches can be FET transistors or any other similar switching devices known in the art. In the low gain mode, each resistor <b>494</b>, <b>498</b> is connected in parallel with its respective output inductor <b>490</b>, <b>492</b>, which in turn, reduces the quality factor of each output inductor, and as a consequence the LNA gain. In the high gain mode, the resistors <b>494</b>, <b>498</b> are switched out of the LNA output circuit by their respective switches <b>496</b>, <b>500</b>.</p>
<heading id="h-0012" level="1">1.2 A Complex Filter</heading>
<p id="p-0137" num="0136">In an exemplary embodiment of the present invention, a programmable/tunable complex filter is used to provide frequency planning, agility, and noise immunity. This is achieved with variable components to adjust the frequency characteristics of the complex filter. Although the complex filter is described in the context of a transceiver, those skilled in the art will appreciate that the techniques described are likewise suitable for various application requiring frequency agility or good noise immunity. Accordingly, the described exemplary embodiment for a complex filter in a transceiver is by way of example only and not by way of limitation.</p>
<p id="p-0138" num="0137">The described complex filter can be integrated into a single chip transceiver or used in other low noise applications. In the case of transceiver chip integration, the off-chip filters used for image rejection and channel selection can be eliminated. A low-IF receiver architecture enables the channel-selected feature to be integrated into the on-chip filter. However if the IF lies within the bandwidth of the received signal, e.g. less than 80 MHz in the Bluetooth standard, the on-chip filter should be a complex filter (which in combination with the complex mixers) can suppress the image signal. Thus, either a passive or an active complex filter with channel select capability should be used. Although a passive complex filter does not dissipate any power by itself, it is lossy, and loads the previous stage significantly. Thus, an active complex filter with channel select capability is preferred. The channel select feature of the active complex filter can achieve comparable performance to conventional band-pass channel-select filters in terms of noise figure, linearity, and power consumption.</p>
<p id="p-0139" num="0138">The described exemplary embodiment of the complex filter accommodates several functions in the receiver signal path; it selects the desired channel, rejects the image signal which lies inside the data band of the received signal due to its asymmetric frequency response, and serves as a programmable gain amplifier (PGA). Moreover, the complex filter center frequency and its bandwidth can be programmed and tuned. These capabilities facilitate a robust receiver in a wireless environment, where large interferers may saturate the receiver or degrade the signal-to-noise ratio at the demodulator input. The attenuation of the received signal at certain frequencies can also be enhanced by introducing zeros in the complex filter.</p>
<heading id="h-0013" level="1">1.2.1 Cascaded Biquads</heading>
<p id="p-0140" num="0139">An exemplary embodiment of the complex filter includes a cascade of biquads. Each biquad comprises a 2'nd order bandpass filter. The total order of the filter is the sum of orders of the cascaded biquads. The order of the filter can be programmable. By way of example, four cascaded biquads <b>83</b>, <b>85</b>, <b>87</b>, <b>89</b> can be used with each of the cascaded biquads having an individually controlled bypass switch. Referring to <figref idref="DRAWINGS">FIG. 5</figref>, a bypass switch <b>91</b> is connected across the input stage biquad <b>83</b>. Similarly, a bypass switch <b>93</b> is connected across the second stage biquad <b>85</b>, a bypass switch <b>95</b> is connected across the third stage biquad <b>87</b>, and a bypass switch <b>97</b> is connected across the output stage biquad. With this configuration, the order of the filter can be programmed by bypassing one or more biquads. A biquad that is bypassed contributes a zero order to the filter.</p>
<p id="p-0141" num="0140">In the described exemplary embodiment, the bypass switches are operated in accordance with the output from the controller <b>16</b> (see <figref idref="DRAWINGS">FIG. 2</figref>). An 8'th order filter can be constructed by opening the bypass switches <b>91</b>, <b>93</b>, <b>95</b>, <b>97</b> via the digital signal from the controller output. The complex filter can be reduced to a 6'th order filter by closing the bypass switch <b>97</b> to effectively remove the output stage biquad from the complex filter. Similarly, the complex filter can be reduced to a 4'th order filter by closing bypass switches <b>95</b>, <b>97</b> effectively removing the third stage biquad and output stage biquad. A 2'nd order filter can be created by closing bypass switches <b>93</b>, <b>95</b>, <b>97</b> effectively removing all biquads with the exception of the input stage from the circuit.</p>
<heading id="h-0014" level="1">1.2.1.1 The Poles of a Biquad Stage</heading>
<p id="p-0142" num="0141"><figref idref="DRAWINGS">FIG. 6</figref> shows an exemplary embodiment of a biquad stage of the complex filter. The biquad stage includes two first order resistor-capacitor (RC) filters each being configured with a differential operational amplifier <b>94</b>, <b>96</b>, respectively. The first differential operational amplifier <b>94</b> includes two negative feedback loops, one between each differential output and its respective differential input. Each feedback loop includes a parallel RC circuit (<b>98</b>, <b>106</b>), (<b>108</b>, <b>100</b>), respectively. Similarly, the second differential operational amplifier <b>96</b> includes two negative feedback loops, one between each differential output and its respective differential input. Each feedback loop includes a parallel RC circuit (<b>102</b>–<b>110</b>), (<b>112</b>–<b>104</b>), respectively. This topology is highly linear, and therefore, should not degrade the overall IIP3 of the receiver. The RC values determine the pole of the biquad stage.</p>
<p id="p-0143" num="0142">The differential inputs of the biquad stage are coupled to their respective differential operational amplifiers through input resistors <b>114</b>, <b>116</b>, <b>118</b>, <b>120</b>. The input resistors in combination with their respective feedback resistors set the gain of the biquad stage.</p>
<p id="p-0144" num="0143">Preferably, some or all of the resistors and capacitors values can programmable and can be changed dynamically by the controller. This methodology provides a frequency agile biquad stage.</p>
<p id="p-0145" num="0144">The two first order RC filters are cross coupled by resistors <b>86</b>, <b>88</b>, <b>90</b>, <b>92</b>. By cross-coupling between the two filters, a complex response can be achieved, that is, the frequency response at the negative and positive frequencies will be different. This is in contrast to a real-domain filter, which requires the response to be symmetric at both positive and the negative frequencies. This feature is useful because the negative frequency response corresponds to the image signal. Thus, the biquad stage selects the desired channel, whereas the image signal, which lies at the negative frequency is attenuated.</p>
<p id="p-0146" num="0145">For the resistor values shown in <figref idref="DRAWINGS">FIG. 6</figref>, the biquad stage outputs are:</p>
<p id="p-0147" num="0146">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mi>OI</mi>
        </msub>
        <mo>⁢</mo>
        <mi>A</mi>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mn>1</mn>
                <mo>⁢</mo>
                <mi>j</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mi>RC</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mi>ω</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>⁢</mo>
            <msub>
              <mi>V</mi>
              <mi>II</mi>
            </msub>
            <mo>⁢</mo>
            <mn>2</mn>
            <mo>⁢</mo>
            <msub>
              <mi>QV</mi>
              <mi>IQ</mi>
            </msub>
          </mrow>
          <mrow>
            <msup>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mn>1</mn>
                  <mo>⁢</mo>
                  <mi>j</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>RC</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>ω</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mn>2</mn>
            </msup>
            <mo>⁢</mo>
            <mn>4</mn>
            <mo>⁢</mo>
            <msup>
              <mi>Q</mi>
              <mn>2</mn>
            </msup>
          </mrow>
        </mfrac>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>and</mi>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mi>OQ</mi>
        </msub>
        <mo>⁢</mo>
        <mi>A</mi>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mn>2</mn>
            <mo>⁢</mo>
            <mrow>
              <msub>
                <mi>QV</mi>
                <mi>II</mi>
              </msub>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mn>1</mn>
                  <mo>⁢</mo>
                  <mi>j</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>RC</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>ω</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>⁢</mo>
            <msub>
              <mi>V</mi>
              <mi>IQ</mi>
            </msub>
          </mrow>
          <mrow>
            <msup>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mn>1</mn>
                  <mo>⁢</mo>
                  <mi>j</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>RC</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>ω</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mn>2</mn>
            </msup>
            <mo>⁢</mo>
            <mn>4</mn>
            <mo>⁢</mo>
            <msup>
              <mi>Q</mi>
              <mn>2</mn>
            </msup>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0148" num="0147"><figref idref="DRAWINGS">FIG. 7</figref> shows the frequency response for the complex biquad filter.</p>
<p id="p-0149" num="0148">After the received signal is downconverted, the desired channel in the I path lags the one in the Q path, that is, V<sub>II</sub>=−jV<sub>IQ</sub>, and therefore:</p>
<p id="p-0150" num="0149">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>H</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>jω</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>⁢</mo>
        <mfrac>
          <msub>
            <mi>V</mi>
            <mi>o</mi>
          </msub>
          <msub>
            <mi>V</mi>
            <mi>l</mi>
          </msub>
        </mfrac>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mi>jω</mi>
          <mo>)</mo>
        </mrow>
        <mo>⁢</mo>
        <mfrac>
          <mi>A</mi>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mi>j</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>RC</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>ωj</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mn>2</mn>
            <mo>⁢</mo>
            <mi>Q</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0151" num="0150">This shows a passband gain of A 122 at a center frequency of 2Q/RC 124, with a 3-dB bandwidth of 2RC 126. Thus, the quality factor of the second-order stage will be Q. For the image signal however, the signal at the I branch leads, and as a result:</p>
<p id="p-0152" num="0151">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>H</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>jω</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>⁢</mo>
        <mfrac>
          <mi>A</mi>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mi>j</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>RC</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>ωj2</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>Q</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
which shows that the image located at 2Q/RC is rejected by
</p>
<p id="p-0153" num="0152">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mrow>
  <mfrac>
    <mn>1</mn>
    <msqrt>
      <mrow>
        <mo>(</mo>
        <mrow>
          <mn>1</mn>
          <mo>+</mo>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mn>4</mn>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mi>Q</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>⁢</mo>
            <mn>2</mn>
          </mrow>
        </mrow>
      </mrow>
    </msqrt>
  </mfrac>
  <mo>.</mo>
</mrow>
</math>
</maths>
<br/>
Therefore, the biquad stage has an asymmetric frequency response, that is, the desired signal may be assigned to positive frequencies, whereas the image is attributed to negative frequencies. In general, the frequency response of the biquad stage is obtained by applying the following complex-domain transformation to a normalized real-domain lowpass filter:
</p>
<p id="p-0154" num="0153">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>j</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>ω</mi>
        </mrow>
        <mo>→</mo>
        <mfrac>
          <mrow>
            <mi>j</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>ω</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>⁢</mo>
                <msub>
                  <mi>ω</mi>
                  <mn>0</mn>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>BW</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>5</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where ω<sub>0 </sub>is the bandpass (BP) center frequency, and BW is the lowpass (LP) equivalent bandwidth, equal to half of the bandpass filter bandwidth. For instance, for a second-order biquad stage (as shown in <figref idref="DRAWINGS">FIG. 6</figref>), ω<sub>0</sub>=2Q/RC, and BW=I/RC. The biquad stage is designed by finding its LP equivalent frequency response using equation (5). Once the LP poles are known, the BP poles are calculated based on equation (5). Assume that the LP equivalent has n poles, and
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i><sub>i,LP</sub><i>=αi+jβ, </i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
is the ith pole. From equation (5), the BP pole will be:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>P</i><sub>i,HP</sub><i>BW·P</i><sub>iJP</sub><i>jω</i><sub>0</sub><i>α</i><sub>i</sub><i>·BW j</i>(ω<sub>0</sub>β<sub>i</sub><i>·BW</i>)  (6)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0155" num="0154">The complex filter is realized by cascading n biquad stages. Therefore, similar to real-domain bandpass filters, an nth order complex filter uses 2×n integrators. Based on equation (3), each biquad stage has a pole equal to −1/RC+j2Q/RC. Thus:</p>
<p id="p-0156" num="0155">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>α</mi>
            <mi>i</mi>
          </msub>
          <mo>·</mo>
          <mi>BW</mi>
        </mrow>
        <mo>⁢</mo>
        <mfrac>
          <mn>1</mn>
          <mi>RC</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mi>and</mi>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>o</mi>
        </msub>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <msub>
            <mi>β</mi>
            <mi>i</mi>
          </msub>
          <mo>·</mo>
          <mi>BW</mi>
        </mrow>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mn>2</mn>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>Q</mi>
          </mrow>
          <mi>RC</mi>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>8</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0157" num="0156">Since the LP equivalent poles are located in the left-half plane, a<sub>i </sub>is always negative. The above equations set the value of Q and RC in each stage. The gain of each biquad stage can be adjusted based on the desired gain in the complex filter, and noise-linearity trade-off: increasing the gain of one biquad stage lowers the noise contributed by the following biquad stages, but it also degrades the linearity of the complex filter.</p>
<p id="p-0158" num="0157">In addition to image rejection, the complex frequency transformation of the biquad stage (equation (5)) provides for its frequency response to be symmetric around its center frequency as shown in <figref idref="DRAWINGS">FIG. 7</figref>. This is in contrast to regular bandpass filters which use the following real-domain transformation:</p>
<p id="p-0159" num="0158">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>j</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>ω</mi>
        </mrow>
        <mo>→</mo>
        <mfrac>
          <mrow>
            <mi>j</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msup>
                  <mi>ω</mi>
                  <mn>2</mn>
                </msup>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>⁢</mo>
                <msubsup>
                  <mi>ω</mi>
                  <mn>0</mn>
                  <mn>2</mn>
                </msubsup>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mrow>
            <mi>BW</mi>
            <mo>·</mo>
            <mi>ω</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0160" num="0159">This symmetric response in the biquad stage ensures a uniform group delay across the data band.</p>
<heading id="h-0015" level="1">1.2.1.2 The Zeros of a Biquad Stage</heading>
<p id="p-0161" num="0160">The described exemplary embodiment of the biquad stage can be modified to obtain a sharper rejection or notch at an undesired signal at a specific frequency. This can be achieved in the biquad stage by adding zeros. Assume that the input resistors at the biquad input (R, <b>114</b> in <figref idref="DRAWINGS">FIG. 6</figref>) is replaced with an admittance Y<sub>i</sub>. For the received signal, the frequency response of the biquad stage will be equal to:</p>
<p id="p-0162" num="0161">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>H</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mrow>
              <mi>j</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>ω</mi>
            </mrow>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mi>R</mi>
            <mo>·</mo>
            <msub>
              <mi>Y</mi>
              <mi>i</mi>
            </msub>
          </mrow>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>jRCω</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>j</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mn>2</mn>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>Q</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>10</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0163" num="0162"><figref idref="DRAWINGS">FIG. 8</figref> shows Yi having resistor R<sub>z </sub><b>128</b> and capacitor C<sub>z </sub><b>130</b>.</p>
<p id="p-0164" num="0163">In order to have a zero located at jω axis in the frequency response, Y<sub>i </sub>should contain a terms such as I−ω/ω<sub>z</sub>. If Y<sub>i </sub>is simply made of a resistor R<sub>z </sub>in parallel with a capacitor C<sub>z</sub>, then the input admittance will be equal to:</p>
<p id="p-0165" num="0164">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>Y</mi>
          <mi>i</mi>
        </msub>
        <mo>⁢</mo>
        <mfrac>
          <mn>1</mn>
          <msub>
            <mi>R</mi>
            <mi>z</mi>
          </msub>
        </mfrac>
        <mo>⁢</mo>
        <msub>
          <mi>jωC</mi>
          <mi>z</mi>
        </msub>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>11</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
which is not desirable, since the zero will be in the left-half plane, rather than the j ω axis.
</p>
<p id="p-0166" num="0165"><figref idref="DRAWINGS">FIG. 9</figref> shows Yi with the capacitor C<sub>z </sub><b>132</b> connected to the Q input <b>134</b> and the resistor R<sub>z </sub>connected to the I input <b>136</b>. Now the current I will be equal to:</p>
<p id="p-0167" num="0166">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>l</mi>
        <mo>⁢</mo>
        <mfrac>
          <mi>V</mi>
          <msub>
            <mi>R</mi>
            <mi>z</mi>
          </msub>
        </mfrac>
        <mo>⁢</mo>
        <msub>
          <mi>jC</mi>
          <mi>z</mi>
        </msub>
        <mo>⁢</mo>
        <mrow>
          <mi>ω</mi>
          <mo>·</mo>
          <mrow>
            <mo>(</mo>
            <mi>jV</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>12</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0168" num="0167">Therefore, the input admittance will be equal to:</p>
<p id="p-0169" num="0168">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>Y</mi>
          <mi>i</mi>
        </msub>
        <mo>⁢</mo>
        <mfrac>
          <mn>1</mn>
          <mi>V</mi>
        </mfrac>
        <mo>⁢</mo>
        <mfrac>
          <mn>1</mn>
          <msub>
            <mi>R</mi>
            <mi>z</mi>
          </msub>
        </mfrac>
        <mo>⁢</mo>
        <msub>
          <mi>C</mi>
          <mi>z</mi>
        </msub>
        <mo>⁢</mo>
        <mi>ω</mi>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>13</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
which indicates that the filter will have a zero equal to 1/R<sub>z</sub>C<sub>z </sub>at the jω axis.
</p>
<p id="p-0170" num="0169"><figref idref="DRAWINGS">FIG. 10</figref> shows a single biquad stage modified to have a zero at the jω axis. The biquad stage includes capacitors <b>138</b>, <b>140</b>, <b>142</b>, <b>144</b>. The combination of capacitors <b>138</b>, <b>140</b>, <b>142</b>, <b>148</b> and resistors <b>116</b>, <b>118</b> determines a complex zero with respect to the center frequency. The transfer function for the received signal will be:</p>
<p id="p-0171" num="0170">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>H</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>jω</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>A</mi>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mfrac>
              <msub>
                <mi>RC</mi>
                <mi>z</mi>
              </msub>
              <mi>A</mi>
            </mfrac>
            <mo>⁢</mo>
            <mi>ω</mi>
          </mrow>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>jRCω</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>j2Q</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>14</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0172" num="0171">Equation (14) is analogous to equation (3), with the difference that now a zero at A/RC<sub>z </sub>is added to the biquad stage of the complex filter. By knowing the LP equivalent characteristics of the biquad stage, the poles are calculated based on equation (6). The values of Q and RC in each biquad stage is designed by using equation (7) and equation (8). If the normalized LP zeros are at ±ω<sub>z,LP</sub>, then the biquad stage should be realized with two biquad stages cascoded, and the frequency of zeros in the biquad stages will be (equation (5)):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>ω<sub>±1,2</sub>ω<sub>0</sub>±ω<sub>±z.I.P</sub><i>·BW</i>  (15)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0173" num="0172">If the differential I and Q input connected to the zero capacitors are switched, the biquad stage will have zeros at negative frequencies (image response). This property may be exploited to notch the image signal.</p>
<heading id="h-0016" level="1">1.2.1.3 Tunability and Programmability</heading>
<p id="p-0174" num="0173">In addition to channel selection and image rejection, the described exemplary embodiment of the complex filter can provide variable gain, bandwidth, and center frequency. In addition, an automatic tuning loop can be implemented to adjust the center frequency. These features result in a high quality receiver which can dynamically support different communication standards, modulation schemes and data rates.</p>
<p id="p-0175" num="0174">By changing the gain of the biquad stages, the complex filter can perform as a PGA in the signal path of the receiver. This assures that the output swing of the complex filter remains constant when the receiver input signal changes. Moreover, adaptivity is achieved through dynamic programming of the bandwidth and center frequency. By way of example, when the receive environment is less noisy, the transmitter may switch to a higher data rate, and the bandwidth of the complex filter should increase proportionally. The center frequency, on the other hand, may be changed to increase the receiver immunity to blockers and other interferers.</p>
<p id="p-0176" num="0175">The center frequency of each biquad stage is equal to 2Q/RC. The quality factor, Q, is precisely set, since it is determined by the ratio of two resistors (R<sub>f </sub>and R<sub>e </sub>in <figref idref="DRAWINGS">FIG. 10</figref>), which can be accurately established when the resistors are implemented on-chip. However, the RC product varies by temperature and process variations, and therefore, may be compensated by automatic tuning methods.</p>
<p id="p-0177" num="0176">Referring to <figref idref="DRAWINGS">FIG. 12(</figref><i>a</i>), each capacitor can be implemented with a capacitor <b>148</b> connected in parallel with a number of switchable capacitors <b>150</b>, <b>152</b>, <b>154</b>, <b>156</b>. The capacitance, and thereby the center frequency of the complex filter, can be varied by selectively switching in or out the capacitors based on a four-bit binary code. Each bit is used to switch one of the parallel capacitors from the circuit. In the described exemplary embodiment, the capacitor <b>148</b> provides a capacitance of C<sub>u</sub>/2. Capacitor <b>150</b> provides a capacitance of C<sub>u</sub>/2. Capacitor <b>152</b> provides a capacitance of C<sub>u</sub>/4. Capacitor <b>154</b> provides a capacitance of C<sub>u</sub>/8. Capacitor <b>156</b> provides a capacitance of C<sub>u</sub>/16. This provides ±50% tuning range with ±3% tuning accuracy. Due to discrete nature of the tuning scheme, there may be some error in the center frequency (±1/(2×2<sup>n</sup>) for n-bit array). This inaccuracy can be tolerated with proper design.</p>
<p id="p-0178" num="0177">Referring to <figref idref="DRAWINGS">FIG. 12(</figref><i>b</i>), each resistor can be implemented with a series of switchable resistors <b>158</b>, <b>160</b>, <b>162</b>, <b>164</b>, <b>166</b>. Resistor <b>166</b> provides a resistance of R<sub>u</sub>. Resistor <b>164</b> provides a resistance of 2 R<sub>u</sub>. Resistor <b>162</b> provides a resistance of 4R<sub>u</sub>. Resistor <b>160</b> provides a resistance of 8 R<sub>u</sub>. Resistor <b>158</b> provides a resistance of 16 R<sub>u</sub>. In the described exemplary embodiment, the resistance can be varied between R<sub>u </sub>and 31×R<sub>u </sub>in incremental steps equal to R<sub>u </sub>by selectively bypassing the resistor based on a five-bit binary code.</p>
<p id="p-0179" num="0178">The center frequency of the complex filter can be adjusted by setting 1/R<sub>u</sub>C<sub>u </sub>equal to a reference frequency generated, by way of example, the crystal oscillator in the controller. The filter is automatically tuned by monotonic successive approximation as described in detail in Section 4.0 herein. Once the value of R<sub>u</sub>C<sub>u </sub>is set, the complex filter characteristics depends only on four-bit code for the capacitors and the four-bit code for the resistors. For example, assume that the value of the resistors in the biquad stage of <figref idref="DRAWINGS">FIG. 6</figref> is as following: R<sub>i</sub>=n<sub>A</sub>R<sub>u</sub>, R<sub>f</sub>=n<sub>Q</sub>R<sub>u</sub>, and Rc=n<sub>Q</sub>R<sub>u</sub>. Likewise, assume that C=n<sub>C</sub>C<sub>u</sub>, where n<sub>C </sub>is a constant, and that 1/R<sub>u</sub>C<sub>u</sub>=ω<sub>u</sub>. The value of ω<sub>u </sub>is set to a reference crystal by a successive approximation feedback loop. The filter frequency response for the received signal will be:</p>
<p id="p-0180" num="0179">
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>H</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>jω</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>⁢</mo>
        <mfrac>
          <mfrac>
            <msub>
              <mi>n</mi>
              <mi>F</mi>
            </msub>
            <msub>
              <mi>n</mi>
              <mi>A</mi>
            </msub>
          </mfrac>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <msub>
              <mi>jn</mi>
              <mi>c</mi>
            </msub>
            <mo>⁢</mo>
            <msub>
              <mi>n</mi>
              <mi>F</mi>
            </msub>
            <mo>⁢</mo>
            <msub>
              <mi>R</mi>
              <mi>u</mi>
            </msub>
            <mo>⁢</mo>
            <msub>
              <mi>C</mi>
              <mi>u</mi>
            </msub>
            <mo>⁢</mo>
            <mi>ω</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>j</mi>
            <mo>⁢</mo>
            <mfrac>
              <msub>
                <mi>n</mi>
                <mi>F</mi>
              </msub>
              <msub>
                <mi>n</mi>
                <mi>Q</mi>
              </msub>
            </mfrac>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>16</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0181" num="0180">Therefore, the biquad stage gain (A), center frequency (ω<sub>0</sub>), and bandwidth (BW) will be equal to:</p>
<p id="p-0182" num="0181">
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>A</mi>
        <mo>⁢</mo>
        <mfrac>
          <msub>
            <mi>n</mi>
            <mi>F</mi>
          </msub>
          <msub>
            <mi>n</mi>
            <mi>A</mi>
          </msub>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>17</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mn>0</mn>
        </msub>
        <mo>⁢</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <msub>
                <mi>n</mi>
                <mi>C</mi>
              </msub>
              <mo>⁢</mo>
              <msub>
                <mi>n</mi>
                <mi>Q</mi>
              </msub>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>ω</mi>
            <mi>u</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>18</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>BW</mi>
        <mo>⁢</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <msub>
                <mi>n</mi>
                <mi>C</mi>
              </msub>
              <mo>⁢</mo>
              <msub>
                <mi>n</mi>
                <mi>F</mi>
              </msub>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>ω</mi>
            <mi>u</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>19</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0183" num="0182">The above equations show that the characteristics of the biquad stage is independently programmed by varying n<sub>A</sub>, n<sub>F</sub>, and n<sub>Q</sub>. For instance, by setting n<sub>F</sub>, the gain of the biquad stage changes from n<sub>F</sub>/31 to n<sub>F </sub>by changing n<sub>A </sub>from 1 to 31.</p>
<heading id="h-0017" level="1">1.2.2 I–Q Monolithic Bandpass Filter</heading>
<p id="p-0184" num="0183">Alternatively, a low power I–Q bandpass filter can be used for the complex filter of the described exemplary embodiment of the present invention. The I–Q monolithic bandpass filter is useful for short-range communication applications. It also provides low power monolithic bandpass filtering for high data rates such as Bluetooth and HomeRF applications. The I–Q monolithic bandpass filter can be fully incorporated in monolithic channel select filters for 1-MHz data rates.</p>
<p id="p-0185" num="0184"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram of the I–Q monolithic bandpass filter in accordance with an embodiment of the present invention. The I–Q monolithic bandpass filter includes a cascode of selectively intertwined biquads <b>168</b> and polyphase circuits <b>170</b>. The biquads can be the same as the biquads described in Section 1.2.1 herein, or any other biquads known in the art. Similarly, the polyphase circuits can also be any conventional polyphase circuits known in the art. The biquad circuits can be 2'nd order lowpass filters, which in conjunction with the polyphase circuits, exhibit a 1-MHz bandwidth bandpass filter with more than 45 dB rejection for all frequencies beyond 2 MHz away from the center of the band. The number of biquads determines the order of the I–Q monolithic bandpass filter. The polyphase filters are for wider bandwidth and image rejection. The number of polyphase filters determines the number of zeros in the frequency response of the I–Q monolithic bandpass filter.</p>
<p id="p-0186" num="0185">In the described embodiment, an 8'th order Butterworth filter is implemented in conjunction with selective side band filtering of polyphase circuits to create a low IF I–Q monolithic bandpass filter. The described embodiment of the I–Q monolithic bandpass filter does not suffer excessive group delay despite large bandwidth. The input IP3 can be better than 5 dBm with a gain of more than 20 dB and the noise figure can be less than 40 dB. In fully integrated embodiments of the present invention, the I–Q monolithic bandpass filter can have on chip tuning capability to adjust for process, temperature and frequency variations.</p>
<heading id="h-0018" level="1">1.3 Programmable Multiple Gain Amplifier</heading>
<p id="p-0187" num="0186">In one exemplary embodiment of the present invention, a programmable multiple gain amplifier is used in the receiver path between the complex filter and the complex IF mixer (see <figref idref="DRAWINGS">FIG. 2</figref>). The programmable multiple gain amplifier can be designed to be programmable to select between a limiter and an AGC feature. The programmable multiple gain amplifier, when operating as a limiter provides a maximum gain for frequency modulation applications. The programmable multiple gain amplifier, operating as an AGC, can be used for applications utilizing amplitude modulation.</p>
<p id="p-0188" num="0187"><figref idref="DRAWINGS">FIG. 14</figref> shows a block diagram of an exemplary embodiment of the programmable multiple gain amplifier with an RSSI output. The RSSI output provides an indication of the strength of the IF signal. The programmable multiple gain amplifier includes three types of amplifiers. The input buffer is shown as a type I amplifier <b>900</b> and the type II amplifier <b>904</b> serves as the output buffer. The core amplifier is shown as a direct-coupled cascade of seven differential amplifiers <b>930</b>, <b>931</b>, <b>932</b>, <b>933</b>, <b>934</b>, <b>935</b>, <b>936</b>. The core amplifier includes seven bypass switches <b>930</b>′, <b>931</b>′, <b>932</b>′, <b>933</b>′, <b>934</b>′, <b>935</b>′, <b>936</b>′, one bypass switch connected across each differential amplifier. The bypass switches provide programmable gain under control of the controller (see <figref idref="DRAWINGS">FIG. 2</figref>).</p>
<p id="p-0189" num="0188">When the programmable gain amplifier is operating as a limiter, all the bypass switches will be opened by the controller. Conversely, when the programmable gain amplifier is operating in the AGC mode, the output gain of the core amplifier will be varied by controlling the bypass switch positions to prevent saturation of the core amplifier by large signals. In the described exemplary embodiment, the RSSI signal is fed back to control the bypass switch positions through a digital AGC loop in the external processing device. The AGC loop provides information to the controller <b>16</b> via the control bus <b>17</b> regarding the optimum gain reduction (see <figref idref="DRAWINGS">FIG. 2</figref>). The controller translates the information from the external processing device into a digital signal for controlling the bypass switch positions of the core amplifier accordingly. The larger the RSSI signal, the greater the gain reduction of the core amplifier will be and the more bypass switches that will be closed by the controller.</p>
<p id="p-0190" num="0189">In one embodiment of the programmable gain amplifier, the type I and type III amplifiers can be the same. <figref idref="DRAWINGS">FIG. 15</figref> shows one possible construction of these amplifiers. In this configuration, transistors <b>952</b>, <b>954</b> provide amplification of the differential input signal. The differential input signal is fed to the gates of the transistor amplifiers <b>952</b>, <b>954</b>, and the amplified differential output signal is taken from the drains. The gain of the transistor amplifiers <b>952</b>, <b>954</b> is set by load resistors <b>956</b>, <b>958</b>. Transistors <b>960</b>, <b>962</b> provide a constant current source for the transistor amplifiers <b>952</b>, <b>954</b>. The load resistors <b>956</b>, <b>958</b>, connected between the drain of their respective transistor amplifiers <b>952</b>, <b>954</b> and a common gate connection of transistors <b>960</b>, <b>962</b>, provides a bias current source to common mode feedback.</p>
<p id="p-0191" num="0190">Turning back to <figref idref="DRAWINGS">FIG. 14</figref>, the type II core amplifier <b>902</b> includes a direct-coupled cascade of seven differential amplifiers <b>930</b>, <b>931</b>, <b>932</b>, <b>933</b>, <b>934</b>, <b>935</b>, <b>936</b>, each with a voltage gain, by way of example, 12 dB. The voltage at the output of each differential amplifier <b>930</b>, <b>931</b>, <b>932</b>, <b>933</b>, <b>934</b>, <b>935</b>, <b>936</b> is coupled to a rectifier <b>937</b>, <b>938</b>, <b>939</b>, <b>940</b>, <b>941</b>, <b>942</b>, <b>943</b>, <b>944</b>, respectively. The outputs of the rectifiers are connected to ground through a common resistor <b>945</b>. The summation of the currents from each of the rectifiers flowing through the common resistor provides a successive logarithmic approximation of the input IF voltage. With a 12 dB gain per each differential amplifier, a total cascaded gain of 84 dB is obtained. As those skilled in the art will appreciate, any number of differential amplifiers, each with the same or different gain, may be employed.</p>
<p id="p-0192" num="0191">The input dynamic range of an RSSI is explained using the following derivation. Throughout this section, assume each rectifier has an ideal square law characteristic and its transfer function is:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>yβ</i><sup>2</sup><i>V</i><sub>in </sub><sup>2</sup>  (20)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0193" num="0192">Now, assume that S is the maximum input range of one differential amplifier and rectifier combination, whichever is smaller. This is determined with the lowest of the two values V<sub>i </sub>and V<sub>L </sub>that are the maximum input range of each differential amplifier, and the maximum input range of the rectifier, respectively.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>S</i>min(<i>V</i><sub>i</sub><i>,V</i><sub>L</sub>)  (21)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0194" num="0193">Therefore, the RSSI maximum input level is S, and the ideal RSSI minimum input level is S/A<sup>n</sup>, where A is the gain of each differential amplifier and n is the number of the differential amplifiers. Thus, the ideal dynamic range is calculated as follows:</p>
<p id="p-0195" num="0194">
<maths id="MATH-US-00015" num="00015">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>Ideal</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>Dynamic</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>Range</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mn>20</mn>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>log</mi>
        <mo>⁢</mo>
        <mfrac>
          <mi>S</mi>
          <mfrac>
            <mi>S</mi>
            <msup>
              <mi>A</mi>
              <mi>n</mi>
            </msup>
          </mfrac>
        </mfrac>
        <mo>⁢</mo>
        <mn>20</mn>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>log</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>⁢</mo>
        <msup>
          <mi>A</mi>
          <mi>n</mi>
        </msup>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mn>20</mn>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mi>n</mi>
          <mo>)</mo>
        </mrow>
        <mo>⁢</mo>
        <mi>log</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>A</mi>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>22</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0196" num="0195">However, in the case of a large amount of gain, the input level will be limited with the input noise and the dynamic range will also be limited to:</p>
<p id="p-0197" num="0196">
<maths id="MATH-US-00016" num="00016">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>Dynamic</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>Range</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mn>20</mn>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>log</mi>
        <mo>⁢</mo>
        <mfrac>
          <mi>S</mi>
          <msqrt>
            <msub>
              <mi>σ</mi>
              <mi>n</mi>
            </msub>
          </msqrt>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>23</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msqrt>
          <msub>
            <mi>σ</mi>
            <mi>n</mi>
          </msub>
        </msqrt>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>total</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>noise</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>rms</mi>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>σ</mi>
          <mi>n</mi>
        </msub>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mi>BW</mi>
          <mo>)</mo>
        </mrow>
        <mo>×</mo>
        <mi>Noise</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>Factor</mi>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0198" num="0197">If each differential amplifier has the same input dynamic range V<sub>L </sub>and each full-wave rectifier has similar input dynamic range V<sub>i</sub>, then the dynamic range of the logarithmic differential amplifier and the total RSSI circuitry are the same.</p>
<p id="p-0199" num="0198">The logarithmic approximations are provided by piecewise linear summation of the rectified output of each differential amplifier. This is done by segmentation of the input voltage by the power of 1/A. Successively, each differential amplifier will reach the limiting point as the input signal grows by the power of A. Assuming each rectifier is modeled as shown in equation (20), the logarithmic approximation is modeled as following:</p>
<p id="p-0200" num="0199">For an input being in the following range:</p>
<p id="p-0201" num="0200">
<maths id="MATH-US-00017" num="00017">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mi>S</mi>
          <msup>
            <mi>A</mi>
            <mrow>
              <mi>n</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>m</mi>
            </mrow>
          </msup>
        </mfrac>
        <mo>&lt;</mo>
        <msub>
          <mi>V</mi>
          <mi>in</mi>
        </msub>
        <mo>&lt;</mo>
        <mfrac>
          <mi>A</mi>
          <msup>
            <mi>A</mi>
            <mrow>
              <mi>n</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>m</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>l</mi>
            </mrow>
          </msup>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>24</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
up to the last m stages of the differential amplifier are all being limited and the rest of the differential amplifiers are in the linear gain region. Therefore, the RSSI is shown to be:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>A</i><sup>2</sup>β<sup>2</sup><i>v</i><sub>in</sub><sup>2</sup><i>A</i><sup>4</sup>β<sup>4</sup><i>v</i><sub>in</sub><sup>4</sup><i>. . . A</i><sup>2(n m)</sup>β<sup>2(n m)</sup><i>v</i><sub>in</sub><sup>2(n m)</sup><i>mβ</i><sup>2</sup><i>S</i><sup>2 </sup>RSSI  (25)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0202" num="0201">This is further simplified to:</p>
<p id="p-0203" num="0202">
<maths id="MATH-US-00018" num="00018">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>RSSI</mi>
        <mo>⁢</mo>
        <mfrac>
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>A</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mi>β</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
          <mrow>
            <msup>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>A</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>β</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mn>2</mn>
            </msup>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mn>1</mn>
          </mrow>
        </mfrac>
        <mo>⁢</mo>
        <mrow>
          <msubsup>
            <mi>V</mi>
            <mi>in</mi>
            <mn>2</mn>
          </msubsup>
          <mo>⁡</mo>
          <mrow>
            <mo>[</mo>
            <msup>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>A</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>β</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>n</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mi>m</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.8em" height="0.8ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mi>l</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </msup>
            <mo>]</mo>
          </mrow>
        </mrow>
        <mo>⁢</mo>
        <mi>m</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>⁢</mo>
        <msup>
          <mi>β</mi>
          <mn>2</mn>
        </msup>
        <mo>⁢</mo>
        <msup>
          <mi>S</mi>
          <mn>2</mn>
        </msup>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>26</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>RSSI</mi>
        <mo>≈</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <msup>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>A</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mi>β</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mn>2</mn>
              </msup>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.8em" height="0.8ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mn>1</mn>
            </mrow>
          </mfrac>
          <mo>⁢</mo>
          <msup>
            <mrow>
              <msubsup>
                <mi>V</mi>
                <mi>in</mi>
                <mn>2</mn>
              </msubsup>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>A</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>β</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>n</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.8em" height="0.8ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>m</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </msup>
          <mo>⁢</mo>
          <mi>m</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msup>
            <mi>β</mi>
            <mn>2</mn>
          </msup>
          <mo>⁢</mo>
          <msup>
            <mi>S</mi>
            <mn>2</mn>
          </msup>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>27</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0204" num="0203">The above equation is a first order approximation to the logarithmic function shown in equation (28) according to the first two terms of the Taylor expansion at a given operating point.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Ideal RSSI <i>C </i>log<i>V</i><sub>in</sub><sup>2</sup>  (28)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0205" num="0204">The following calculates the constant C from the maximum and minimum of the RSSI:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Max RSSI Min RSSI <i>C</i>log<i>A</i><sup>2n</sup>  (29)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>ΔRSSI <i>C</i>log<i>A</i><sup>2n</sup>  (30)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0206" num="0205">
<maths id="MATH-US-00019" num="00019">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>C</mi>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mi>Δ</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>RSSI</mi>
          </mrow>
          <mrow>
            <mn>2</mn>
            <mo>⁢</mo>
            <mi>n</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>log</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>A</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>31</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mi>Ideal</mi>
          <mo>)</mo>
        </mrow>
        <mo>⁢</mo>
        <mi>RSSI</mi>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mi>Δ</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>RSSI</mi>
          </mrow>
          <mrow>
            <mn>2</mn>
            <mo>⁢</mo>
            <mi>n</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>log</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>A</mi>
          </mrow>
        </mfrac>
        <mo>⁢</mo>
        <mi>log</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <msubsup>
            <mi>V</mi>
            <mi>in</mi>
            <mn>2</mn>
          </msubsup>
          <mo>.</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>32</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0207" num="0206">To find the relation between the gain of a differential amplifier, the gain of a rectifier, and the maximum input range of the combined differential amplifier and the rectifier, the RSSI will be calculated for the two consecutive differential amplifier and rectifier combinations (see equation (33) and (34)) for both ideal RSSI equations (32) and approximated RSSI equation (27):</p>
<p id="p-0208" num="0207">
<maths id="MATH-US-00020" num="00020">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mrow>
            <mi>in</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>⁢</mo>
        <mfrac>
          <mi>S</mi>
          <msup>
            <mrow>
              <mo>(</mo>
              <mi>A</mi>
              <mo>)</mo>
            </mrow>
            <mi>nm</mi>
          </msup>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>33</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mrow>
            <mi>in</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mn>2</mn>
          </mrow>
        </msub>
        <mo>⁢</mo>
        <mfrac>
          <mi>S</mi>
          <msup>
            <mrow>
              <mo>(</mo>
              <mi>A</mi>
              <mo>)</mo>
            </mrow>
            <mrow>
              <mi>nm</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mn>1</mn>
            </mrow>
          </msup>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>34</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>(Ideal) RSSI<sub>2 </sub>RSSI<sub>1 </sub>log(<i>A</i>)<sup>2</sup>  (35)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>(Approximated) RSSI<sub>2 </sub>RSSI<sub>1 </sub>β<sup>2</sup><i>S</i><sup>2</sup>  (36)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0209" num="0208">Therefore,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>C</i>log(<i>A</i>)<sup>2 </sup>β<sup>2</sup><i>S</i><sup>62</sup>  (37)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0210" num="0209">Using equations (18) and (12), the following expression is achieved:</p>
<p id="p-0211" num="0210">
<maths id="MATH-US-00021" num="00021">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <mi>Δ</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>RSSI</mi>
          </mrow>
          <mi>n</mi>
        </mfrac>
        <mo>⁢</mo>
        <msup>
          <mi>β</mi>
          <mn>2</mn>
        </msup>
        <mo>⁢</mo>
        <msup>
          <mi>S</mi>
          <mn>2</mn>
        </msup>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>38</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0212" num="0211">Plugging equation (19) into (8) results in the following:</p>
<p id="p-0213" num="0212">
<maths id="MATH-US-00022" num="00022">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>RSSI</mi>
          <mo>⁢</mo>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <msup>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>A</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mi>β</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mn>2</mn>
              </msup>
              <mo>⁢</mo>
              <mn>1</mn>
            </mrow>
          </mfrac>
          <mo>⁢</mo>
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>A</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mi>β</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mrow>
                <mo>(</mo>
                <mi>nm</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
          </msup>
          <mo>⁢</mo>
          <msubsup>
            <mi>V</mi>
            <mi>in</mi>
            <mn>2</mn>
          </msubsup>
          <mo>⁢</mo>
          <mi>m</mi>
          <mo>⁢</mo>
          <mfrac>
            <mrow>
              <mi>Δ</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>RSSI</mi>
            </mrow>
            <mi>n</mi>
          </mfrac>
        </mrow>
        <mo>;</mo>
        <mrow>
          <mfrac>
            <mi>S</mi>
            <msup>
              <mi>A</mi>
              <mi>nm</mi>
            </msup>
          </mfrac>
          <mo>&lt;</mo>
          <msub>
            <mi>V</mi>
            <mi>in</mi>
          </msub>
          <mo>&lt;</mo>
          <mfrac>
            <mi>S</mi>
            <msup>
              <mi>A</mi>
              <mrow>
                <mi>nm</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mn>1</mn>
              </mrow>
            </msup>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>39</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0214" num="0213"><figref idref="DRAWINGS">FIG. 16(</figref><i>a</i>) shows a schematic diagram for an exemplary embodiment of the differential amplifier used in the type II core amplifier. The differential input signal is fed to the gates of transistor amplifiers <b>955</b>, <b>957</b>. The amplified differential output signal is provided at the drains of the transistor amplifiers <b>955</b>, <b>957</b>. The gain of the transistor amplifiers is set by load transistors <b>958</b>, <b>860</b>, each connected between the drain of one of the transistor amplifiers and a power source. More particularly, the gain of the differential amplifier is determined by the ratio of the square root of transistor amplifiers-to-load transistors.</p>
<p id="p-0215" num="0214">
<maths id="MATH-US-00023" num="00023">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Gain</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>A</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>⁢</mo>
        <mtable>
          <mtr>
            <mtd>
              <msqrt>
                <mfrac>
                  <msub>
                    <mi>w</mi>
                    <mi>in</mi>
                  </msub>
                  <msub>
                    <mi>w</mi>
                    <mi>in</mi>
                  </msub>
                </mfrac>
              </msqrt>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <msqrt>
                <mrow>
                  <mfrac>
                    <mn>200</mn>
                    <mn>6</mn>
                  </mfrac>
                  <mo>=</mo>
                  <mn>5.8</mn>
                </mrow>
              </msqrt>
            </mtd>
          </mtr>
        </mtable>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>40</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The sources of the transistor amplifiers <b>955</b>, <b>957</b> are connected in common and coupled to a constant current source transistor <b>952</b>. In the described exemplary embodiment, the controller provides the bias to the gate of the transistor <b>952</b> to set the current.
</p>
<p id="p-0216" num="0215">An exemplary embodiment of the full-wave rectifier with two unbalanced source-coupled pairs cross-coupled is shown in <figref idref="DRAWINGS">FIG. 16(</figref><i>b</i>). In this embodiment, the differential input signal is fed to an unbalanced pair of transistors. One of the differential input pairs is fed to the gates of the unbalanced transistor pair <b>968</b>, <b>966</b> and the other differential input pair is fed to the gates of the other unbalanced transistor pair <b>964</b>, <b>962</b>. The drains of transistors <b>968</b>, <b>962</b> are connected in common and provide one of the differential output pairs. The drains of transistors <b>964</b>, <b>966</b> are connected in common and provide the other differential output pair. Transistors <b>968</b>, <b>964</b> are connected in a common source configuration and coupled to a constant current source transistor <b>965</b>. Transistors <b>962</b>, <b>966</b> are also connected in a common source configuration with the common source connected to a current source transistor <b>967</b>. The gates of the current sources <b>965</b>, <b>967</b> are connected together. In the described exemplary embodiment, the controller provides the bias to the common gate connection to set the current.</p>
<p id="p-0217" num="0216">Transistors <b>970</b> and <b>971</b> provide a current-mirror load to cross-coupled transistors <b>968</b>, <b>962</b>. Similarly, transistors <b>972</b>, <b>973</b> provide a current-mirror load to cross-coupled transistors <b>962</b>, <b>964</b>. The current through the cross-coupled transistors <b>962</b>, <b>964</b> is the sum of the current through the load transistor <b>972</b> and the current through the load transistor <b>971</b> which is mirrored from the load transistor <b>970</b>. The current through the cross-coupled transistors <b>962</b>, <b>962</b> is also mirrored to load transistor <b>973</b> for the RSSI output.</p>
<p id="p-0218" num="0217">When the transistors <b>962</b>, <b>964</b>, <b>966</b>, and <b>968</b> are operating in the saturation region, the following equations are shown for the differential output current DI<sub>SQB1 </sub>where k is the ratio of the two unbalanced source-coupled transistors:</p>
<p id="p-0219" num="0218">
<maths id="MATH-US-00024" num="00024">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>if</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mi>Δ</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.3em" height="0.3ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <msub>
            <mi>I</mi>
            <mi>SQM1</mi>
          </msub>
          <mo>(</mo>
          <mrow>
            <mtable>
              <mtr>
                <mtd>
                  <msub>
                    <mi>I</mi>
                    <mi>D1</mi>
                  </msub>
                </mtd>
                <mtd>
                  <mrow>
                    <mrow>
                      <msub>
                        <mi>I</mi>
                        <mi>D4</mi>
                      </msub>
                      <mo>)</mo>
                    </mrow>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mrow>
                      <mo>(</mo>
                      <mtable>
                        <mtr>
                          <mtd>
                            <msub>
                              <mi>I</mi>
                              <mi>D2</mi>
                            </msub>
                          </mtd>
                          <mtd>
                            <mrow>
                              <msub>
                                <mi>I</mi>
                                <mi>D3</mi>
                              </msub>
                              <mo>)</mo>
                            </mrow>
                          </mtd>
                        </mtr>
                      </mtable>
                    </mrow>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
            <mo>⁢</mo>
            <mn>2</mn>
            <mo>⁢</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mtable>
                  <mtr>
                    <mtd>
                      <msub>
                        <mi>I</mi>
                        <mi>DC</mi>
                      </msub>
                    </mtd>
                    <mtd>
                      <mrow>
                        <msub>
                          <mi>I</mi>
                          <mi>SQ</mi>
                        </msub>
                        <mo>)</mo>
                      </mrow>
                    </mtd>
                  </mtr>
                </mtable>
                <mo>⁢</mo>
                <mn>2</mn>
                <mo>⁢</mo>
                <mfrac>
                  <mtable>
                    <mtr>
                      <mtd>
                        <mi>k</mi>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                  <mtable>
                    <mtr>
                      <mtd>
                        <mi>k</mi>
                      </mtd>
                      <mtd>
                        <mn>1</mn>
                      </mtd>
                    </mtr>
                  </mtable>
                </mfrac>
                <mo>⁢</mo>
                <msub>
                  <mi>I</mi>
                  <mi>o</mi>
                </msub>
                <mo>⁢</mo>
                <mn>4</mn>
                <mo>⁢</mo>
                <mfrac>
                  <mrow>
                    <mrow>
                      <mi>k</mi>
                      <mo>⁡</mo>
                      <mrow>
                        <mo>(</mo>
                        <mtable>
                          <mtr>
                            <mtd>
                              <mi>k</mi>
                            </mtd>
                            <mtd>
                              <mn>1</mn>
                            </mtd>
                          </mtr>
                        </mtable>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                    <mo>⁢</mo>
                    <msub>
                      <mi>β</mi>
                      <mi>N</mi>
                    </msub>
                  </mrow>
                  <msup>
                    <mrow>
                      <mo>(</mo>
                      <mtable>
                        <mtr>
                          <mtd>
                            <mi>k</mi>
                          </mtd>
                          <mtd>
                            <mn>1</mn>
                          </mtd>
                        </mtr>
                      </mtable>
                      <mo>)</mo>
                    </mrow>
                    <mn>2</mn>
                  </msup>
                </mfrac>
                <mo>⁢</mo>
                <msubsup>
                  <mi>V</mi>
                  <mi>i</mi>
                  <mn>2</mn>
                </msubsup>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>41</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0220" num="0219">The input dynamic range of the full rectifier is then:</p>
<p id="p-0221" num="0220">
<maths id="MATH-US-00025" num="00025">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>if</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>Δ</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>I</mi>
            <mi>SQM1</mi>
          </msub>
          <mo>⁢</mo>
          <mi>O</mi>
        </mrow>
        <mo>,</mo>
        <mrow>
          <msub>
            <mi>V</mi>
            <mi>i</mi>
          </msub>
          <mo>±</mo>
          <mrow>
            <mfrac>
              <msqrt>
                <msub>
                  <mi>I</mi>
                  <mi>o</mi>
                </msub>
              </msqrt>
              <msub>
                <mi>β</mi>
                <mi>N</mi>
              </msub>
            </mfrac>
            <mo>⁢</mo>
            <mfrac>
              <msqrt>
                <mtable>
                  <mtr>
                    <mtd>
                      <mi>k</mi>
                    </mtd>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
              </msqrt>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mi>k</mi>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>42</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0222" num="0221">The full-wave rectifier includes two unbalanced differential pairs with a unidirectional current output. One rectifier <b>976</b> taps each differential pair and sums their currents into a 10 kW resistor R<sub>L</sub>.</p>
<p id="p-0223" num="0222">The square law portion of equation (41) multiplied by the resistance provides the β<sup>2</sup>S<sup>2 </sup>of equation (42):</p>
<p id="p-0224" num="0223">
<maths id="MATH-US-00026" num="00026">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msup>
          <mi>β</mi>
          <mn>2</mn>
        </msup>
        <mo>⁢</mo>
        <msup>
          <mi>S</mi>
          <mn>2</mn>
        </msup>
        <mo>⁢</mo>
        <mn>4</mn>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mrow>
              <mi>k</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mtable>
                  <mtr>
                    <mtd>
                      <mi>k</mi>
                    </mtd>
                    <mtd>
                      <mn>1</mn>
                    </mtd>
                  </mtr>
                </mtable>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>⁢</mo>
            <msub>
              <mi>β</mi>
              <mi>N</mi>
            </msub>
          </mrow>
          <msup>
            <mrow>
              <mo>(</mo>
              <mtable>
                <mtr>
                  <mtd>
                    <mi>k</mi>
                  </mtd>
                  <mtd>
                    <mn>1</mn>
                  </mtd>
                </mtr>
              </mtable>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
        </mfrac>
        <mo>⁢</mo>
        <msubsup>
          <mi>V</mi>
          <mi>i</mi>
          <mn>2</mn>
        </msubsup>
        <mo>⁢</mo>
        <msub>
          <mi>R</mi>
          <mi>L</mi>
        </msub>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>43</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0225" num="0224">By plugging the V<sub>i </sub>from equation (42) and replacing β<sup>2</sup>S<sup>2 </sup>from equation (38), the following relation is obtained:</p>
<p id="p-0226" num="0225">
<maths id="MATH-US-00027" num="00027">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <mi>Δ</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>RSSI</mi>
          </mrow>
          <mi>n</mi>
        </mfrac>
        <mo>⁢</mo>
        <mn>2</mn>
        <mo>⁢</mo>
        <mfrac>
          <mtable>
            <mtr>
              <mtd>
                <mi>k</mi>
              </mtd>
              <mtd>
                <mn>1</mn>
              </mtd>
            </mtr>
          </mtable>
          <mtable>
            <mtr>
              <mtd>
                <mi>k</mi>
              </mtd>
              <mtd>
                <mn>1</mn>
              </mtd>
            </mtr>
          </mtable>
        </mfrac>
        <mo>⁢</mo>
        <msub>
          <mi>I</mi>
          <mi>o</mi>
        </msub>
        <mo>⁢</mo>
        <msub>
          <mi>R</mi>
          <mi>L</mi>
        </msub>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>44</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0227" num="0226">For ΔRSSI=1V, n=7 stages, R<sub>L</sub>=10000Ω, and k=4, from the above equation I<sub>o </sub>is calculated to be 12 mA. Therefore, each rectifier will be biased with two 12 mA current sources (one 12 ma current source for the I signal and a second 12 ma current source for the Q channel). This results in an approximately logarithmic voltage, which indicates the received signal-strength (RSSI).</p>
<heading id="h-0019" level="1">1.4 Complex IF Mixers</heading>
<p id="p-0228" num="0227">The IF down conversion to baseband signal can be implemented using four fully balanced quadrature mixers as shown in <figref idref="DRAWINGS">FIG. 17(</figref><i>a</i>). This mixer configuration includes both quadratures inputs from the programmable multiple stage amplifier and quadrature IF clock from the LO generator. This configuration produces single sideband, quadrature baseband signals, with minimum number of spurs at the output. These characteristics aid in relaxing the baseband filtering as well as simplifying the demodulator architecture. An IF mixer buffer <b>352</b> buffers the IF clock (Clk_I, Clk_Q as shown in <figref idref="DRAWINGS">FIG. 17(</figref><i>a</i>)).</p>
<p id="p-0229" num="0228">The outputs of the limiters are coupled to the quadrature clocks of the IF mixers (I_in for mixer <b>322</b>, I_in for mixer <b>323</b>, Q_in for mixer <b>324</b>, Q_in for mixer <b>325</b>) and the IF clocks are coupled to the data input of the IF mixers. This configuration minimizes spurs at the output of the IF mixers because the signal being mixed is the IF clocks which is a clean sine wave, and therefore, has minimal harmonics. The limiting action of the programmable multiple stage amplifier on the I and Q data will have essentially no effect on the spurs at the output of the IF mixers. <figref idref="DRAWINGS">FIG. 17</figref><i>b </i>shows the IF mixer clock signal spectrum which contains only odd harmonics. The IF signals do not have even harmonics in embodiments of the present invention using a fully differential configuration. The bandwidth of the m'th(=2n+1) harmonic is directly proportional to mfs, whereas its amplitude is inversely proportional to mfs. <figref idref="DRAWINGS">FIG. 17</figref><i>c </i>shows the sinusoidal input spectrum of the IF clocks. <figref idref="DRAWINGS">FIG. 17</figref><i>d </i>shows the IF mixer output spectrum.</p>
<heading id="h-0020" level="1">1.5 Clock Generator</heading>
<p id="p-0230" num="0229">A clock generator can be used to generate the quadrature IF clocks (see <figref idref="DRAWINGS">FIG. 17(</figref><i>c</i>)) for use in the complex mixer described above. The clock generator can be located in the receiver, or alternatively the LO Generator, and provides a clean sinusoidal IF from the square wave output of the divider in the LO Generator for downconverting the IF signal in the receiver path to baseband. <figref idref="DRAWINGS">FIG. 18</figref> shows a block diagram and signal spectrum of a clock generator. A sinusoidal signal is generated from a square-wave using cascaded polyphase. <figref idref="DRAWINGS">FIG. 18</figref> shows a clock generator block diagram. The clock generator outputs clk_I and clk_Q for the IF mixer buffer (see <figref idref="DRAWINGS">FIG. 17(</figref><i>c</i>)). The clock generator includes a polyphase filter at <b>3</b>fs <b>360</b>, a polyphase filter at 5 fs <b>362</b>, and a low pass filter <b>364</b>. <figref idref="DRAWINGS">FIG. 19</figref><i>a </i>shows the IF clock signal spectrum from the divider output. <figref idref="DRAWINGS">FIG. 19</figref><i>b </i>shows the spectrum after the 3 fs <b>366</b> and 5 fs <b>368</b> polyphase filters. <figref idref="DRAWINGS">FIG. 19</figref><i>c </i>shows the sinusoidal signal generation after the low pass filter <b>364</b>.</p>
<p id="p-0231" num="0230">In fully integrated embodiments of the present invention, the controller can provide self calibration to generate precise signal levels with negligible dependency on the process variations. The two polyphase filters <b>360</b>, <b>362</b> with RC calibration can be used to remove the first two odd harmonics of the signal. The remaining harmonics can be filtered with an on chip tunable low pass filter. The output of the clock generator block is a quadrature sinusoidal signal with controlled signal level. This spectrally clean signal is used at the input of complex IF mixers to downconvert the IF signal to baseband.</p>
<heading id="h-0021" level="1">1.5.1 Polyphase Filter</heading>
<p id="p-0232" num="0231">An exemplary polyphase filter is shown in <figref idref="DRAWINGS">FIG. 19</figref><i>d</i>. The polyphase filter is differential having a differential I input <b>328</b> and a differential Q input <b>329</b>. In the described exemplary embodiment, the differential I signals <b>326</b> are coupled to the differential I inputs <b>328</b>, but that differential Q signals <b>327</b> are coupled to their respective inverted Q inputs <b>329</b>. In particular, the I signal is coupled to the I input, the I* signal is coupled to the I* input, the Q signal is coupled to the Q* input, and the Q* signal is coupled to the Q input. The inverse connection of the Q signal results in a notch frequency at the output at the zero of the polyphase filter. The same result can be achieved by inversely connecting the I signals to the I inputs while the Q signals maintain the same polarity relative to the Q inputs to the polyphase filter.</p>
<p id="p-0233" num="0232">The notch frequency can be programmed by the controller by shifting the zero of the polyphase filter. Referring back to <figref idref="DRAWINGS">FIG. 18</figref>, the controller programs the zero of first stage polyphase filter <b>360</b> to notch the 3 fs frequency at the I and Q output. The I and Q output of the first stage polyphase filter <b>360</b> is coupled to the second stage polyphase filter <b>362</b> with the Q outputs of the first stage polyphase filter inversely connected to the Q inputs of the second stage polyphase filter. With this configuration, the controller can program the zero of the second stage polyphase filter to notch the 5 fs frequency of the I and Q output from the second stage polyphase filter. The low pass filter <b>364</b> can then be used to remove unwanted signals at frequencies above 5 fs.</p>
<p id="p-0234" num="0233">Although the exemplary polyphase filter has been described in the context of a transceiver system using quadrature signals, the illustrated concepts are by no means limited to such systems. The polyphase filter can be used to notch undesired frequencies or spurious signals in various other system such systems utilizing differential signals that are not quadrature. In such systems, the polyphase filter includes a two-stage polyphase filter <b>332</b> as shown in <figref idref="DRAWINGS">FIG. 19</figref><i>e</i>. The first stage polyphase filter <b>333</b> generates a quadrature signal from a differential input signal at the zero of the polyphase filter. The second stage polyphase filter <b>334</b>, with the Q signals inversely connected, has a notch frequency programmed to reject the quadrature signal output from the first stage.</p>
<p id="p-0235" num="0234">In the described exemplary system without quadrature signals, the differential input signal has one signal connected to both the I and Q* input of the first stage polyphase filter and the other signal connected to the I* and Q input of the first stage polyphase filter. The output of the first stage polyphase filter, which has been converted to a differential quadrature output at the zero of the polyphase, can now be connected to the second stage polyphase filter in the same manner as the polyphase filter described in connection with the transceiver using quadrature signals. That is, the polarity of the I outputs of the first stage can be maintained with respect to the I inputs to the second stage while the Q outputs of the first stage are inversely connected to the Q inputs of the second stage.</p>
<p id="p-0236" num="0235"><figref idref="DRAWINGS">FIG. 19</figref><i>f </i>is an exemplary embodiment of a polyphase structure. The polyphase structure <b>335</b> shows the differential signals as coupled from the previously described embodiments and is a passive RC structure. RC components are used in low and high pass filtering. They are also used them to shift the phase of the signals and, as described above, sometimes to generate quadrature signals.</p>
<p id="p-0237" num="0236"><figref idref="DRAWINGS">FIG. 19</figref><i>g </i>is a branch of the RC network of <figref idref="DRAWINGS">FIG. 19</figref><i>f</i>. Polyphase function is analyzed by looking at only one branch of the RC network as shown in with parasitic capacitance C<sub>p</sub>. For the purposes of analysis, a differential input with a first signal at V<sub>1 </sub>and a second signal at V<sub>2 </sub>will be considered. The combined output V<sub>OUT </sub>of the polyphase is described by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>out</sub><i>=V</i><sub>1</sub>(<i>R</i>(<i>C</i><sub>p</sub><i>+C</i>)<i>s+</i>1)<sup>−1</sup>+(<i>V</i><sub>2</sub><i>RCs</i>)(<i>R</i>(<i>C</i><sub>p</sub><i>+C</i>)<i>s+</i>1)<sup>−1</sup><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The RC values can be selected for the desired poles and zeros by the following equations:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>ω<sub>p</sub>=(<i>R</i>(<i>C</i><sub>p</sub><i>+C</i>))<sup>−1</sup><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>ω<sub>0=</sub>(<i>RC</i>)<sup>−1</sup><?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<heading id="h-0022" level="1">1.6 Programmable Low Pass Filter</heading>
<p id="p-0238" num="0237">The first major spurs out of downconversion process is at 4 times the IF frequency. A self calibrated 4 fs polyphase filter as described above can be used after the complex FI mixers to reduce the spurious and improve the linearity of the demodulator.</p>
<p id="p-0239" num="0238">Following the polyphase filter, a quadrature lowpass filter can be used to remove unwanted spurs. The lowpass filter can be programmable and designed to minimize group delay distortion without sacrificing high frequency filter characteristics.</p>
<p id="p-0240" num="0239">In fully integrated embodiments of the present invention, the controller can provide on chip RC calibration to minimize any process variation. The programmability of the polyphase filter and the low pass filter adds a new degree of flexibility to the system; it can be used to accommodate different data bandwidths.</p>
<p id="p-0241" num="0240"><figref idref="DRAWINGS">FIG. 20</figref> shows a baseband spectrum filtering before the discriminator. <figref idref="DRAWINGS">FIG. 20(</figref><i>a</i>) shows the signal spectrum at polyphase input, i.e., the frequency spectrum of the polyphase filter. <figref idref="DRAWINGS">FIG. 20(</figref><i>b</i>) shows the signal spectrum at polyphase output, i.e. the frequency spectrum of the low pass filter. <figref idref="DRAWINGS">FIG. 20(</figref><i>c</i>) shows the signal spectrum at the low pass filter output.</p>
<heading id="h-0023" level="1">1.7 High Data Rate Frequency Demodulator</heading>
<p id="p-0242" num="0241">The demodulator may take on various forms to accommodate different modulation schemes. One embodiment of the demodulation used in connection with the present invention includes a low power, monolithic demodulator for high data rates in frequency modulated systems. This demodulator can provide data recovery for well over 1-MHz data rates.</p>
<p id="p-0243" num="0242">The demodulator can be FSK or GMSK demodulator. FSK is digital frequency modulation. GMSK is a specific type of FSK. GMSK stands for Gaussian filtered FSK modulation, which means that GMSK has gaussian filtering at the output of frequency modulation. GMSK has more stringent requirements than FSK. The data rate is higher for GMSK and the modulation index is low for GMSK relative to FSK.</p>
<p id="p-0244" num="0243">The described embodiment of the demodulator is a low power, fully integrated FSK/GMSK demodulator for high data rates and low modulation index. The FSK operates with the programmable gain stage amplifier as a limiter, and therefore, does not require oversampling clocks or complex AGC blocks.</p>
<p id="p-0245" num="0244"><figref idref="DRAWINGS">FIG. 21</figref> is a block diagram of an exemplary high data rate frequency demodulator in accordance with the present invention. The demodulator performs a balanced quadrature demodulation. Differentiators <b>329</b>, <b>330</b> convert the baseband signal to a signal having an amplitude proportional to the baseband signal frequency. One differentiator <b>329</b> converts the I signal and the other differentiator <b>330</b> converts the Q signal. The I signal output of the differentiator <b>329</b> is coupled to a multiplier <b>331</b> where it is multiplied by the Q signal input into the demodulator. The Q signal output of the differentiator <b>330</b> is coupled to a multiplier <b>332</b> where it is multiplied by the I signal input into the demodulator. The multipliers <b>331</b>, <b>332</b> produce a single ended DC signal. The DC signals are summed together by summation circuit <b>333</b>. A peak detector/slicer <b>334</b> digitizes the DC signal from the summation circuit, thereby producing discrete zeros and ones.</p>
<p id="p-0246" num="0245">The frequency discrimination can be performed using a differentiator as shown in <figref idref="DRAWINGS">FIG. 22</figref>. A differential input signal is coupled to the input of an amplifier <b>340</b> through capacitors <b>341</b>, <b>342</b>. A feedback resistor <b>343</b>, <b>344</b> is coupled between each differential output. Its operation is based on generating an output signal level linearly proportional to the incoming signal frequency. In other words, the higher the incoming frequency, the larger signal amplitude output by the differentiator. Therefore, it is desirable to have a spur free signal at the input of this stage. High frequency spurs can degrade the performance of the differentiator. By using the polyphase filter in conjunction with the lowpass filter (see <figref idref="DRAWINGS">FIG. 2</figref>) before the demodulator, a nearly ideal baseband signal is input to the differentiator. The capacitors <b>341</b>, <b>342</b> in the signal path with the resistive feedback operation of the amplifier is proportional to the time derivative of the input. For a sinusoidal input,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i>(in)=<i>A.</i>sin)ωt),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
the output will be V(out):
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>d/dt</i>(<i>V</i>(in))=to.A.cos(ωt).<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Thus, the magnitude of the output increases linearly with increasing frequency.
</p>
<p id="p-0247" num="0246">The controller provides RC calibration to keep the differentiation gain process invariant. In order to reduce the effect of any high frequency coupling to the differentiator input, the differentiator gain is flattened out for frequencies beyond the band of interest. In addition to frequency discrimination, the differentiation process adds a 90 degrees phase shift to the incoming signal. This phase shift is inherent to differentiation process. Since the output is in quadrature phase with the input (except for differing amplitude), cross multiplication of the input and output results in frequency information.</p>
<p id="p-0248" num="0247"><figref idref="DRAWINGS">FIG. 23</figref> shows an exemplary analog multiplier <b>331</b>, <b>332</b> with zero higher harmonics in accordance with the present invention. Buffers one <b>334</b> and two <b>335</b> are added to a Gilbert cell to linearize the voltage levels. Buffers one <b>334</b> and two <b>335</b> convert the two inputs into two voltage levels for true analog multiplication using a Gilbert cell. The Gilbert cell is comprised of transistors <b>336</b>, <b>338</b>, resistors <b>340</b>, <b>342</b> and cross-coupled pairs of transistors <b>344</b>, <b>346</b> and transistors <b>348</b>, <b>350</b>.</p>
<p id="p-0249" num="0248">By cross multiplying the input and the output signals to the differentiator, the amplitude information is generated. Since the signals are at baseband, it can be difficult to filter out any spurs resulting from the multiplication process. Linearized buffers can be used to minimize spurs by providing a near ideal analog multiplier. On chip calibration can also be used to control the multiplication gain and to minimize process variation dependency. In order to accommodate high data rates such as 1 MHz and beyond, all the stages should have low phase delays. In addition, matching all the delays in quadrature signals can be advantageous.</p>
<p id="p-0250" num="0249">The output of the multiplier is a single ended DC signal which is a linear function of the frequency. This analog output can represent multilevel FSK with arbitrary modulation index. The minimal modulation index is only limited by wireless communication fundamentals.</p>
<p id="p-0251" num="0250">An exemplary peak detector/slicer for frequency data detection is shown in <figref idref="DRAWINGS">FIG. 24</figref>. The differential input signal is coupled to a peak detector <b>346</b> which detects the high peak. The differential input signal is also coupled to a second peak <b>347</b> detector which detects the low valley of the signal. The outputs of the peak detectors are coupled to a resistor divider network <b>348</b>, <b>349</b> to obtain the average of the output signal. The average signal output from the resistor divider network is used as the calibrated zero frequency to obviate frequency offset problems due to the frequency translation process from IF to baseband.</p>
<p id="p-0252" num="0251">A differential amplifier <b>345</b> is used to digitize the frequency information by comparing the differential input signal with the calibrated zero frequency. The output of the amplifier is a logic “1” if the baseband frequency is greater than the calibrated zero frequency and a logic “0” if the baseband frequency is less than the calibrated zero frequency. The output is amplified through several inverters <b>350</b> which in turn generate digital rail to rail output.</p>
<heading id="h-0024" level="1">2.0 TRANSMITTER</heading>
<heading id="h-0025" level="1">2.1 Differential Power Amplifier</heading>
<p id="p-0253" num="0252">In an exemplary embodiment of the invention, the PA is a differential PA as shown in <figref idref="DRAWINGS">FIG. 25</figref>. The symmetry of the differential PA in conjunction with other features supports implementation in a variety of technologies including CMOS. The described embodiment of the differential PA can be a fully integrated class A PA. A balun <b>610</b> is used to connect the PA to an antenna or a duplexer. The balun converts the differential signal to a single-ended output.</p>
<p id="p-0254" num="0253">The described embodiments of the differential PA is a two stage device. The two stages minimize backward leakage of the output signal to the input stage. As those skilled in the art will appreciate, any number of stages can be implemented depending on the particular application and operating environment. Equal distribution of gain between the two stages helps prevents oscillation by avoiding excess accumulation of gain in one stage. A cascode architecture may be incorporated into the PA to provide good stability and insulation.</p>
<p id="p-0255" num="0254">The input stage or pre-amplifier of the power amplifier includes an input differential pair comprising amplifying transistors <b>612</b>, <b>614</b>. Transistor <b>616</b> is a current source that biases the input differential pair. The presence of a current source provides may positive aspects including common mode rejection. The current is controlled by the voltage applied to the gaTe of transistor <b>616</b>. The gate voltage should be chosen to prevent the transistor <b>616</b> from operating in the triode region. Triode operation of transistor <b>616</b> has a number of drawbacks. Primarily, since transistor <b>616</b> is supposed to act as a current source, its operation in the triode region can cause distortion in the current flowing into the transistor <b>612</b> and the transistor <b>614</b>, and consequently gives rise to nonlinearity in the signal. Secondly, the triode behavior of transistor <b>616</b> will depend on temperature and process variations. Therefore, the circuit operation will vary over different process and temperature corners.</p>
<p id="p-0256" num="0255">Cascode transistors <b>618</b>, <b>620</b> provide stability by isolating the output from the input. As a result, no change in the input impedance occurs over frequency. The gates of the cascode transistors <b>618</b>, <b>620</b> devices are biased through a bond wire. A resistor <b>622</b> in series with the gates of the cascode transistors prevents the inductance associated with the bonding from resonating with the input capacitive of the transistors, thereby improving stability. The resistor <b>622</b> in combination with the gates of transistors <b>618</b>, <b>620</b> also improves common mode rejection and makes the transistor input act like a virtual ground at RF. Resistor <b>623</b> isolates the power supply from the PA and provides common mode rejection by increasing the symmetry of the differential PA. Inductors <b>624</b>, <b>626</b> tune out the capacitance at the drains of the transistors <b>618</b>, <b>620</b>. At the tuning frequency, the impedance seen at the drains of the transistors <b>618</b>, <b>620</b> is high, which provides the high gain at the tuning frequency.</p>
<p id="p-0257" num="0256">The differential output of the input stage is provided at the drains of the cascode transistors <b>618</b>, <b>620</b> to AC coupling capacitors <b>628</b>, <b>630</b>. Capacitor <b>628</b> couples the drain of transistor <b>618</b> with the gate of transistor <b>632</b>. Capacitor <b>630</b> couples the drain of transistor <b>620</b> with the gate of transistor <b>634</b>. The transistors <b>632</b>, <b>634</b> provide amplification for the second stage of the PA. Resistors <b>636</b>, <b>638</b> are biasing resistors for biasing the transistors <b>632</b>, <b>634</b>.</p>
<p id="p-0258" num="0257">In the output stage of the PA, the current level is higher and the size of the current source should be increased to maintain the same bias situation. However, large tail devices can lower the common mode rejection. Accordingly, instead of a current source, an inductor <b>640</b> can be used to improve the headroom. The inductor <b>640</b> is a good substitute for a current source. The inductor <b>640</b> is almost a short circuit at low frequencies and provides up to 1 Kohm of impedance at RF. By way of example, a 15 nH inductor with proper shielding (to increase the Q) and a self-resonance frequency close to 4.5 GHz can be used for optimum high frequency impedance and sufficient self-resonance.</p>
<p id="p-0259" num="0258">Inductors <b>622</b>, <b>624</b> tune out the capacitance at the drains of transistors <b>632</b>, <b>634</b>. Capacitors <b>642</b>, <b>644</b> are AC coupling capacitors. Inductors <b>646</b> and capacitor <b>648</b> match the output impedance of the PA to the antenna, by way of example, 50 Ω. Similarly, inductors <b>650</b> and capacitor <b>652</b> match the output impedance of the PA to the antenna. Balun <b>610</b> is a differential to single-ended voltage converter. Resistance <b>654</b> is representative of the load resistance.</p>
<p id="p-0260" num="0259">Capacitances associated with bias resistors may also be addressed. Consider a typical distributed model for a polysilicon (“poly” for short) resistor. Around 4 fF to substrate can be associated with every kilo-ohm of resistance in a poly resistor. This means that, for example in a 20 Kohm resistor, around 80 fF of distributed capacitance to the substrate exists. This can contribute to power loss because part of the power will be drained into the substrate. One way of biasing the input stage and the output stage is through a resistive voltage divider as shown in <figref idref="DRAWINGS">FIG. 26(</figref><i>a</i>). The biasing of the input stage is shown for the transistor <b>616</b> in <figref idref="DRAWINGS">FIG. 25</figref>, however, those skilled in the art will readily appreciate that the same biasing circuit can be used for the transistor <b>614</b> (<figref idref="DRAWINGS">FIG. 25)</figref>. One drawback from this approach, however, is that the gate of the transistor will see the capacitance from the two resistors <b>658</b>, <b>660</b> of the voltage divider. Capacitor <b>662</b> is a coupling capacitance, which couples the previous stage to the voltage divider. Switch <b>664</b> is for powering down the stage of the power amplifier that is connected to the voltage divider. The switch <b>664</b> is on in normal operation and is off in power down mode.</p>
<p id="p-0261" num="0260"><figref idref="DRAWINGS">FIG. 26(</figref><i>b</i>) is similar to <figref idref="DRAWINGS">FIG. 26(</figref><i>a</i>), except that <figref idref="DRAWINGS">FIG. 26(</figref><i>b</i>) includes resistor <b>666</b>. DC-wise the <figref idref="DRAWINGS">FIG. 26(</figref><i>a</i>) and <figref idref="DRAWINGS">FIG. 26(</figref><i>b</i>) circuits are the same. However, in AC, not only is the resistance seen from the gates of transistors <b>634</b>, <b>632</b> towards the resistive bias network bigger, but the capacitance is smaller because the capacitance is caused by resistor <b>666</b> and not resistors <b>660</b>, <b>658</b>. Since there is less capacitance, there is less loss of the signal. From <figref idref="DRAWINGS">FIG. 25</figref>, transistors <b>618</b>, <b>620</b> in the input stage and transistors <b>632</b>, <b>634</b> in the output stage can be biased by the resistive voltage divider shown in <figref idref="DRAWINGS">FIG. 26(</figref><i>b</i>).</p>
<p id="p-0262" num="0261"><figref idref="DRAWINGS">FIG. 27</figref> shows an exemplary bias circuit for the current source transistor <b>616</b> of <figref idref="DRAWINGS">FIG. 25</figref>. To fix the bias current of the circuit over temperature and process variation, a diode-connected switch transistor <b>672</b> may be used with a well-regulated current <b>670</b>. The voltage generated across the diode-connected transistor <b>672</b> is applied to the gate of the current source transistor <b>616</b>. Because of the mirroring effect of this connection and since all transistors move in the same direction over temperature and process corners, the mirrored current will be almost constant. The reference current is obtained by calibration of a resistor by the controller. The calibrated resistor can be isolated from the rest of the PA to prevent high frequency coupling through the resistor to other transceiver circuits. As those skilled in the art will appreciate, the exemplary bias circuit is not limited to the current source transistor of the PA and may be applied to other transistors requiring accurate biasing currents.</p>
<p id="p-0263" num="0262"><figref idref="DRAWINGS">FIG. 28</figref> shows an exemplary power control circuit. The power control circuit can provide current scaling. The power control circuit changes power digitally by controlling the bias of the current source transistor <b>616</b> of the first differential pair <b>612</b>, <b>614</b> in the PA (<figref idref="DRAWINGS">FIG. 25</figref>). The power control circuit can be used in any application requiring different power levels. The power control is done by applying different voltage levels to the gate of the current source in the first stage (input stage or preamplifier) of the PA. A combination of current adjustment in both stages (input stage and output stage) of the PA can also be done. Different voltage levels are generated corresponding to different power levels. In one embodiment of the invention, the power control circuit has four stages as shown in <figref idref="DRAWINGS">FIG. 28</figref>. Alternatively, the power control circuit can have any number of stages corresponding to the number of power levels needed in an application.</p>
<p id="p-0264" num="0263">The power control circuit includes transistor pairs in parallel. Transistors <b>674</b>, <b>676</b>, <b>678</b>, <b>680</b> are switch transistors and are coupled to diode-connected transistors <b>682</b>, <b>684</b>, <b>686</b>, <b>688</b>, respectively. The switch transistors <b>674</b>, <b>676</b>, <b>678</b>, <b>680</b> are coupled to a current source <b>670</b>. Each diode-connected transistor <b>682</b>, <b>684</b>, <b>686</b>, <b>688</b> can be switched into the parallel combination of by turning its respective switching transistor on. Conversely, any diode-connected transistor can be removed from the parallel combination by turning its respective switch transistor off. The current from the current source <b>670</b> is injected into a parallel combination of switch transistors <b>674</b>, <b>676</b>, <b>678</b>, <b>680</b>. The power level can be incremented or decremented by switching one or more switch transistors into the parallel combination. By way of example, a decrease in the power level can be realized by switching a switch transistor into the parallel combination. This is equivalent to less voltage drop across the parallel combination, which in turn corresponds to a lower power level. A variety of stages are comprehended in alternative embodiments of the invention depending on the number of power levels needed for a given application. A thermometer code from the controller can be applied to the power control circuit according to which the power level is adjusted.</p>
<p id="p-0265" num="0264">As described above, the output of the PA can be independently matched to a 50 ohm load. The matching circuit (inductors <b>646</b>, <b>650</b> and capacitors <b>648</b>, <b>652</b>) is connected to the balun. Any non-ideality of the balun, bond wire impedance, pin/PCB capacitance, and other parasitics can be absorbed by the matching circuits. High-Q inductors can be used where possible. The loss in efficiency may also be tolerable with low power applications.</p>
<heading id="h-0026" level="1">2.2 Single-Ended Differential Power Amplifier</heading>
<p id="p-0266" num="0265">In another embodiment of the present invention, the balun can be eliminated by a single-ended to differential PA. <figref idref="DRAWINGS">FIG. 29</figref> shows the output stage of a single-ended to differential PA. The output stage includes resistors <b>690</b>, <b>692</b>, inductors <b>694</b>, <b>696</b>, <b>698</b>, and transistors <b>700</b>, <b>702</b>. Coupling capacitor <b>704</b> couples the output stage to an LC circuit, the LC circuit including inductor <b>706</b> and capacitor <b>708</b>. Coupling capacitor <b>710</b> couples the second stage to a CL circuit, the CL circuit comprising capacitor <b>712</b> and inductor <b>714</b>. The transistors <b>700</b>, <b>702</b> provide amplification of the differential signal applied to the output stage of the PA. The output of the amplifying transistors <b>700</b>, <b>702</b> produces two signals 180 degrees out of phase. The LC circuit is used to match the first output to a 100 ohm load <b>718</b> and to shift the phase of the signal by 90 degrees. The CL circuit is deployed to match the second output to a 100 ohm load <b>720</b>, and to shift the phase of the signal in the opposite direction by 90 degrees. Since the two outputs were out of phase by 180 degrees at the beginning and each underwent an additional 90 degrees of shift (in opposite directions) the two signals appearing across the two 100 ohm loads will be in phase. In an ideal situation, they will also be of similar amplitudes. This means that the two nodes can be connected together to realize a single-ended signal matched for a 50 ohm load <b>716</b>.</p>
<p id="p-0267" num="0266">Unlike the differential PA, the differential to single-ended configuration does not enjoy the symmetry of a fully differential path. Accordingly, with respect to embodiments of the present invention integrated into a single IC, the effect of bond wires should be considered. Because of stability and matching issues, a separate ground (bond wire) for the matching circuit should be used. The bond wires should be small and the matching should be tweaked to cancel their effect.</p>
<p id="p-0268" num="0267">The bias current to the amplifying transistors <b>700</b>, <b>702</b> for embodiment of the present invention integrated into a single IC can be set in a number of ways, including by way of example, the bias circuit shown in <figref idref="DRAWINGS">FIG. 27</figref>. The voltage generated across the diode-connected transistor <b>672</b> is applied to the gate of the amplifying transistor <b>700</b>. A similar bias circuit can be used for biasing the amplifying transistor <b>702</b>.</p>
<p id="p-0269" num="0268">Alternatively, the bias circuit of the amplifying transistors <b>700</b>, <b>702</b> for single IC embodiments can be set with a power control circuit as shown in <figref idref="DRAWINGS">FIG. 28</figref>. The current source is connected directly the amplifying transistor <b>700</b>. By incrementally switching the diode-connected transistors <b>682</b>, <b>684</b>, <b>686</b>, <b>688</b> into the parallel combination, the voltage applied to the gate of the amplifying transistor <b>700</b> is incrementally pulled down toward ground. Conversely, by incrementally switching the diode-connected transistors <b>682</b>, <b>684</b>, <b>686</b>, <b>688</b> out of the parallel combination, the voltage applied to the gate of the amplifying transistor <b>700</b> is incrementally pulled up toward the source voltage (not shown). A similar power control circuit can be used with the amplifying transistor <b>702</b>.</p>
<heading id="h-0027" level="1">2.3 Digitally Programmable CMOS PA With On-Chip Matching</heading>
<p id="p-0270" num="0269">In another embodiment of the present invention, a PA is integrated into a single IC with digitally programmable circuitry and on-chip matching to an external antenna, antenna switch, or similar device. <figref idref="DRAWINGS">FIG. 30</figref> shows an exemplary PA with digital power control. This circuit comprises two stages. The input stage provides initial amplification and acts as a buffer to isolate the output stage form the VCO. The output stage is comprised of a switchable differential pair to steer the current towards the load. The output stage also provides the necessary drive for the antenna. The power level of the output stage can be set by individually turning on and off current sources connected to each differential pair.</p>
<p id="p-0271" num="0270">Transistors <b>722</b>, <b>724</b> provide initial amplification. Transistor <b>726</b> is the current source that biases the transistors <b>722</b>, <b>724</b>. Inductors <b>728</b>, <b>730</b> tune out the capacitance at the drains of the transistors <b>722</b>, <b>724</b>. At the tuning frequency, the impedance seen at the drains is high, which provides high gain at the tuning frequency.</p>
<p id="p-0272" num="0271">Capacitors <b>732</b>, <b>736</b> are AC coupling capacitors. Capacitor <b>732</b> couples the drain of transistor <b>724</b> with the gate of transistor <b>734</b>. Capacitor <b>736</b> couples the drain of transistor <b>722</b> with the gate of transistor <b>738</b>. Resistors <b>740</b>, <b>742</b> are biasing resistors for biasing the gates of the transistors <b>734</b>, <b>738</b>. Transistors <b>734</b>, <b>738</b> are amplifying transistors in the output stage of the PA. Transistor pairs <b>744</b>, <b>746</b>, transistor pairs <b>748</b>, <b>750</b>, and transistor pairs <b>752</b>, <b>754</b> each provide additional gain for the signal. Each pair can be switched in or out depending on whether a high or low gain is needed. For maximum gain each transistor pair in the output stage of the PA will be switched on. The gain can be incrementally decreased by switching out individual transistor pairs. The PA may have more or less transistor pairs depending on the maximum gain and resolution of incremental changes in the gain that is desired.</p>
<p id="p-0273" num="0272">Transistor <b>756</b> has two purposes. First, it is a current source that biases transistors <b>734</b>, <b>738</b>. Second, it provides a means for switching transistors <b>734</b>, <b>738</b> in and out of the circuit to alter the gain of the output stage amplifier. Each transistors <b>758</b>, <b>760</b>, <b>762</b> serves the same purpose for its respective transistor pair. A digital control, word from the controller can be applied to the gates of the transistors <b>756</b>, <b>758</b>, <b>760</b>, <b>762</b> to digitally set the power level. This approach provides the flexibility to apply ramp up and ramp down periods to the PA, in addition to the possibility of digitally controlling the power level. The drains of the transistors <b>756</b>, <b>758</b>, <b>760</b>, <b>762</b> are connected to a circuit that serves a twofold purpose: 1) it converts the differential output to single ended output, and 2) it matches the stage to external 50 ohm antenna to provide maximum transferable gain.</p>
<p id="p-0274" num="0273">Inductors <b>764</b>, <b>766</b> tune out the capacitance at the drains of transistors <b>752</b>, <b>754</b>. Capacitor <b>768</b> couples the PA to the load <b>770</b>. Inductor <b>772</b> is a matching and phase-shift element, which advances the phase of the signal by 90°. Capacitor <b>794</b> is a matching and phase-shift element, which retards the phase of the signal by 90°. Capacitor <b>796</b> is the pad capacitance. The bonding wire <b>798</b> bonds the PA to the load resistance <b>770</b> (e.g., the antenna).</p>
<heading id="h-0028" level="1">2.4 Phase Lock Loop</heading>
<p id="p-0275" num="0274">Although a direct conversion transmitter has been primarily described thus far, many of the concepts disclosed herein are equally applicable to transmitters utilizing an IF architecture. In one embodiment of the present invention, an offset phase lock loop (PLL) is employed with such an architecture.</p>
<p id="p-0276" num="0275"><figref idref="DRAWINGS">FIG. 30B</figref> is a block diagram of a transmitter and local oscillator generator having an IF architecture. The transmitter comprises base band input I and Q signals coupled to a complex mixer <b>57</b> having IF outputs coupled to a low pass filter <b>49</b>. Outputs of the low pass filter are coupled to an offset PLL <b>373</b>. RF outputs of the offset PLL are coupled to a programmable gain amplifier <b>60</b>. The output of the programmable gain amplifier <b>60</b> is coupled to a power amplifier <b>62</b>. The output of the power amplifier <b>62</b> is coupled to an antenna switch and in turn to an antenna.</p>
<p id="p-0277" num="0276">Complex mixer <b>57</b> requires Iclk and Qclk local oscillator signals. An alternative lock oscillator generator <b>14</b> provides these signals from a polyphase circuit <b>59</b>. The polyphase receives its input from a clock generator circuit <b>41</b>. VCO <b>48</b> is coupled to the CMOS offset PLL.</p>
<p id="p-0278" num="0277">Offset PLL's advantageously tend to provide out of band filtering through the presence of the PLL loop. Thus, out of band noise in the transmitter tends to be reduced with an offset PLL. Typical offset PLL's require off-chip VCO's. When integrated on a CMOS substrate the previously described on-chip VCO may be utilized to provide an offset PLL completely integrated onto a single IC. The offset PLL is typically configured with a VCO running at a high frequency. The signal is typically a high level signal and tends to pull other on chip VCO's running in close frequencies. To eliminate pulling, down conversion mixers with lower clock frequencies than the VCO are utilized.</p>
<p id="p-0279" num="0278"><figref idref="DRAWINGS">FIG. 30C</figref> is a block diagram of an offset PLL. A transmitter IF input is coupled to a first input of a phase detector <b>371</b> which is in turn coupled to a charge pump <b>370</b>. The charge pump <b>370</b> is coupled to a loop filter <b>369</b> which is in turn coupled to a 2.4 gigahertz I/Q VCO, <b>376</b>. The output of the 2.4 gigahertz I/Q VCO is simultaneously coupled to a transmitter preamp <b>365</b> and a mixer <b>373</b>.</p>
<p id="p-0280" num="0279">The transmitter pre-amp output forms a transmitter RF output. Returning to the mixer <b>372</b>, the output of the mixer is coupled to the input of a bandpass filter <b>361</b>. The output of the bandpass filter is coupled to a second phase detector input. The circuit is integrated onto a CMOS semiconductor substrate. In an alternative offset PLL embodiment, the mixer <b>372</b> is replaced by a subsampling mixer, and is suitable for use on, or off a CMOS substrate.</p>
<p id="p-0281" num="0280"><figref idref="DRAWINGS">FIG. 30D</figref> is a block diagram of an offset PLL architecture utilizing a subsampling mixer <b>373</b>. All other components are interconnected as previously described in <figref idref="DRAWINGS">FIG. 30C</figref>. An offset PLL transmitter utilizes subsampling in the PLL loop to translate the RF frequency of the VCO to an IF frequency. The subsampling mixer is used in order to allow the loop to work properly at very high frequency while decreasing power consumption. The subsampling PLL's VCO runs at a frequency of F<sub>OUT</sub>/N (N=3,5, . . . ). Proper operation is maintained if the VCO <b>367</b> covers a wide range of frequencies of approximately 1 gigahertz bandwidth.</p>
<heading id="h-0029" level="1">2.4.1 Subsampling Mixer</heading>
<p id="p-0282" num="0281"><figref idref="DRAWINGS">FIG. 30</figref><i>e </i>is a block diagram illustrating frequency conversion and an I/Q mixer circuit <b>24</b>. Typically, such a mixer circuit is utilized to mix down a high frequency signal f<sub>RF </sub>to a lower intermediate frequency f<sub>IF-Q</sub>, f<sub>IF-I</sub>. To accomplish the complex mixing, I/Q mixer <b>24</b> includes conventionally constructed mixer circuits <b>29</b> and <b>31</b>. The RF signal f<sub>RF </sub>is split and simultaneously fed to the RF inputs of mixer circuits <b>29</b> and <b>31</b>.</p>
<p id="p-0283" num="0282">Local oscillator signals I and Q are at the same frequency and in quadrature relation to each other. Quadrature signals are typically generated as shown by taking a local oscillator signal f<sub>LO </sub>and introducing a ninety degree phase shift as shown in block <b>25</b>. Thus, as shown, signal f<sub>LO </sub>is coupled to the I port of mixer <b>31</b>, and signal f<sub>LO </sub>with a ninety degree phase shift introduced by phase shifter <b>25</b> is coupled to the Q port of mixer <b>29</b>. The signal f<sub>LO </sub>is typically generated by a voltage controlled oscillator (VCO) <b>27</b> that produces a variable frequency output f<sub>LO </sub>in proportion to a variable control voltage V<sub>control</sub>. I/Q mixer <b>24</b> thus produces a pair of intermediate frequency outputs at a lower frequency than the input RF signal f<sub>RF </sub>that are in quadrature relation to each other f<sub>IF-Q</sub>, f<sub>IF-I</sub>.</p>
<p id="p-0284" num="0283"><figref idref="DRAWINGS">FIG. 30</figref><i>f </i>illustrates a typical mixing process. Typically to mix a radio frequency f<sub>RF </sub>to an intermediate frequency f<sub>IF-I </sub>a local oscillator frequency f<sub>LO </sub>is chosen such that the mixing process will produce an intermediate frequency at a difference frequency of the RF frequency f<sub>RF </sub>minus the local oscillator frequency f<sub>LO</sub>.</p>
<p id="p-0285" num="0284">It is often desirable to utilize a low IF frequency. To create a low IF frequency, the LO and RF signals are nearly equal in frequency. Running a VCO that produces the local oscillator frequency close to the radio frequency causes a problem known as VCO pulling. In VCO pulling, the VCO frequency changes with variations in output power.</p>
<p id="p-0286" num="0285"><figref idref="DRAWINGS">FIG. 30</figref><i>g </i>illustrates a frequency conversion scheme that tends to minimize the adverse effects due to frequency pulling and additionally tends to provide the benefit of reduced power consumption. The technique is referred to as subsampling and utilizes harmonics of the local oscillator to translate the RF frequency to an intermediate frequency. Utilizing subsampling techniques in a subsampling mixer tends to lower circuit power consumption by running a VCO at a lower frequency. In the subsampling technique, a VCO outputs a local oscillator signal at a fundamental frequency f<sub>LO </sub>that typically includes harmonics at integral multiples of the fundamental frequency f<sub>LO</sub>. These frequencies are denoted (2)f<sub>LO</sub>, (3)f<sub>LO </sub>and so on. The VCO is adjusted such that one of the harmonics falls close to the radio frequency, f<sub>RF</sub>, such that the desired intermediate frequency is produced. The second harmonic is shown as being utilized for mixing with the RF signals. However, those skilled in the art will appreciate that other higher order harmonics may equivalently be utilized to mix the radio frequency signal down to a desired intermediate frequency.</p>
<p id="p-0287" num="0286">Two embodiments of subsampling mixers are described in the following paragraphs. The first embodiment utilizing a track and hold is shown in <figref idref="DRAWINGS">FIG. 30</figref><i>h</i>. In the first embodiment a high frequency buffer amplifier <b>101</b> drives the subsampling switches contained in the track and hold subsampling mixers <b>103</b>, <b>105</b>, and finally the outputs of the track and hold subsampling mixers are combined and amplified in an IF, or current combining, buffer <b>107</b>. The current combining buffer is designed to reject local oscillator feed-through and alias images around the local oscillator frequency.</p>
<p id="p-0288" num="0287">The second embodiment is a subsampling architecture utilizing a sample and hold as shown in <figref idref="DRAWINGS">FIG. 30</figref><i>k</i>. In the embodiment of <figref idref="DRAWINGS">FIG. 30</figref><i>k </i>two amplifiers <b>113</b>, <b>115</b> are periodically switched on and off. The differential outputs of the local oscillator <b>109</b> control the switching. A complete sampling function is provided through two track and hold stages having opposite clocks in block <b>113</b>. Subsampling takes place in RF amplifiers and a subsequent IF buffer <b>115</b>. In the second embodiment LO feed-through tends to be reduced as well as aliased images around the local oscillator frequency. The second embodiment also provides low pass filtering through application of a sampling function.</p>
<p id="p-0289" num="0288"><figref idref="DRAWINGS">FIG. 30</figref><i>h </i>is a block diagram of a first embodiment of a subsampling mixer for high frequencies. A differential RF input +IN, −IN is applied to a differential pair amplifier <b>101</b>. The differential pair amplifier produces two output A OUT, B OUT. Differential pair amplifier outputs A OUT is applied to a track and hold subsampling mixer <b>103</b>. Also applied to the track and hold subsampling mixer <b>103</b> is a differential local oscillator signal +LO, −LO. The track and hold subsampling mixer <b>103</b> produces two outputs OUT <b>1</b> and OUT <b>2</b>.</p>
<p id="p-0290" num="0289">Differential pair amplifier <b>101</b> outputs B OUT is applied to a second track and hold subsampling mixer <b>105</b>. Also applied to the second track and hold subsampling mixer <b>105</b> is the differential local oscillator <b>109</b> output +LO and −LO. The second track and hold subsampling mixer has two outputs OUT <b>3</b> and OUT <b>4</b>.</p>
<p id="p-0291" num="0290">The four outputs OUT <b>1</b>, OUT <b>2</b>, OUT <b>3</b>, and OUT <b>4</b> are applied to a current combining buffer <b>107</b>. Current combining buffer <b>107</b> produces a differential IF output +OUT −OUT.</p>
<p id="p-0292" num="0291"><figref idref="DRAWINGS">FIG. 30</figref><i>i </i>is a schematic diagram of the differential pair amplifier <b>101</b>. The differential pair amplifier converts a differential voltage input +IN, −IN to a current output signal A OUT, B OUT. Differential pair amplifier <b>101</b> provides signal gain and tends to prevent loading in subsequent stages.</p>
<p id="p-0293" num="0292">A supply voltage V<sub>DD </sub>is coupled to the drain of PMOS transistor M<b>15</b>. The gate of PMOS transistor M<b>15</b> is coupled to its source. The source of M<b>15</b> is also coupled to a first terminal of inductor L<b>2</b> and a first terminal of inductor L<b>1</b>. The second terminal of inductor L<b>2</b> defines the output connection A OUT.</p>
<p id="p-0294" num="0293">The second terminal of inductor L<b>2</b> is also coupled to the drain of transistor M<b>2</b>. The gate of transistor M<b>2</b> defines input terminal +IN. The source of M<b>2</b> is coupled to a first terminal of an inductor L<b>3</b>. The second terminal of inductor L<b>3</b> is coupled to a ground reference.</p>
<p id="p-0295" num="0294">The second terminal of inductor L<b>1</b> defines the output terminal B OUT. The second terminal of inductor L<b>1</b> is also coupled to the drain of FET M<b>3</b>. The gate of FET M<b>3</b> defines the input connection −IN. The source of M<b>3</b> is coupled to the first terminal of inductor L<b>3</b>.</p>
<p id="p-0296" num="0295">Transistor M<b>15</b> is configured as a conventional level shifting diode. Accordingly, other means known to those skilled din the art of shifting a voltage level may be provided in place of transistor M<b>15</b>.</p>
<p id="p-0297" num="0296">Equivalently, other types of differential pair amplifiers that provide a gain and buffering effect may be substituted for the differential pair amplifier <b>101</b> as previously described. For example, bipolar transistors or other types of field effect transistors may be substituted for transistors M<b>2</b> and M<b>3</b> depending upon the type of integrated circuit substrate being utilized when integrating buffer amplifier <b>101</b> on a single integrated circuit.</p>
<p id="p-0298" num="0297">Inductors L<b>1</b> and L<b>2</b> tend to provide a more truly differential distribution of currents and voltages in the buffer amplifier <b>101</b>. In an embodiment the self-resonant frequency of inductors L<b>1</b> and L<b>2</b> is chosen to be the same as the frequency of operation of the circuit.</p>
<p id="p-0299" num="0298"><figref idref="DRAWINGS">FIG. 30</figref><i>j </i>is a schematic diagram of the first and second track and hold subsampling mixer circuits <b>103</b>, <b>105</b>. The frequency conversion is achieved in the track and hold subsampling mixers. The track and hold subsampling mixers <b>103</b> and <b>105</b> are identically constructed. The operation of the track and hold subsampling mixer will be explained in terms of track and hold subsampling mixer <b>103</b>. The connections for track and hold subsampling mixer <b>105</b> are indicated in the figure the connections for track and hold subsampling mixer <b>103</b> are indicated in parenthesis.</p>
<p id="p-0300" num="0299">Local oscillator signals +LO and −LO are utilized to activate transistor switches M<b>4</b> and M<b>5</b>. Capacitor C<b>4</b> and C<b>5</b> are charged to a voltage that is representative of a wave-form being sampled. A OUT, when either switch M<b>4</b> or M<b>5</b> allows a sample of the wave-form to pass through it. Operation of switches M<b>4</b> and M<b>5</b> are complimentary. Thus, when switch M<b>4</b> if on the “on” state, switch M<b>5</b> is on the “off” state and vice versa.</p>
<p id="p-0301" num="0300">Input signal A OUT (B OUT) is simultaneously coupled to the sources of transistors M<b>4</b> and M<b>5</b>. The gate of transistor M<b>4</b> is coupled to differential local oscillator signal +LO. The gate of transistor M<b>5</b> is coupled to differential local oscillator signal −LO. The drain of M<b>4</b> is coupled to a first terminal of capacitor C<b>4</b>, and forms output OUT <b>1</b> (OUT <b>3</b>). The second terminal of capacitor C<b>4</b> is coupled to ground. The drain of transistor M<b>5</b> is coupled to a first terminal of capacitor C<b>5</b> and forms output signal OUT <b>2</b> (OUt <b>4</b>). The second terminal of capacitor C<b>5</b> is coupled to ground.</p>
<p id="p-0302" num="0301">When transistors M<b>4</b> and M<b>5</b> are in the “on” state, a series resonant circuit is formed between capacitor C<b>4</b> coupled through the “on” state resistance of transistor M<b>4</b> to inductor L<b>2</b> of <figref idref="DRAWINGS">FIG. 30</figref><i>i</i>. Capacitor C<b>5</b> of <figref idref="DRAWINGS">FIG. 30</figref><i>j </i>is coupled through the “on” resistance of FET M<b>5</b> to inductor L<b>1</b> of <figref idref="DRAWINGS">FIG. 30</figref><i>i</i>. The selection of switching transistors M<b>4</b> and M<b>5</b> a short channel-length having as wide a channel width as possible tends to be desirable to maintain a low impedance. A resistance in series with L<b>1</b> and C<b>4</b>, for example, tends to undesirably degrade the circuit Q. Improved performance tends to be achieved when inductor L<b>1</b> and capacitor C<b>4</b> are selected to have a resonant frequency the same as the frequency of operation of the circuit. The previous discussion also applies to switching transistor M<b>5</b> and capacitor C<b>5</b>.</p>
<p id="p-0303" num="0302"><figref idref="DRAWINGS">FIG. 30</figref><i>k </i>is a schematic of the current combining buffer <b>107</b>. In the current combining buffer four voltage signals OUT <b>1</b>, OUT <b>2</b>, OUT <b>3</b>, and OUT <b>4</b> are converted to current signals and combined to form a differential IF output +OUT, −OUT. In producing the desired currents, signals OUT <b>1</b> and OUT <b>3</b> are paired together as are signals OUT <b>2</b> and OUT <b>4</b>. Signals having differing phases are paired together (OUT <b>1</b>, OUT <b>3</b>) (OUT <b>2</b>, OUT <b>4</b>).</p>
<p id="p-0304" num="0303">A voltage source V<sub>DD </sub>is coupled to a first terminal of resistor R<b>6</b> and a first terminal of resistor R<b>7</b>. A second terminal of resistor R<b>6</b> forms IF output −OUT. A second terminal of resistor R<b>7</b> forms IF output +OUT. The second terminal of R<b>6</b> is also coupled to the drain of field effect transistor M<b>6</b>. The gate of transistor M<b>6</b> forms input OUT <b>1</b>. The second terminal of resistor R<b>6</b> is also coupled to the drain of field effect transistor M<b>8</b>. The gate of transistor M<b>8</b> defines input, OUT <b>2</b>. The second terminal of resistor R<b>7</b> is coupled to the drain of field effect transistor M<b>7</b>. The gate of transistor M<b>7</b> defines the input signal, OUT <b>3</b>. The second terminal of resistor R<b>7</b> is also coupled to the drain of field effect transistor M<b>9</b>. The gate of transistor M<b>9</b> defines input, OUT <b>4</b>. The source of M<b>6</b> is coupled to the source of M<b>7</b> through resistor R<b>8</b>. The source of M<b>8</b> is coupled to the source of M<b>9</b> through resistor R<b>9</b>.</p>
<p id="p-0305" num="0304">In addition, the source of M<b>6</b> is coupled to a first terminal of conventionally constructed current source <b>11</b>. The second terminal of current source <b>11</b> is coupled to ground. The source of transistor M<b>7</b> is coupled to a first terminal of a conventionally constructed current source <b>12</b>. The second terminal of current source <b>12</b> is coupled to ground. The source of transistor M<b>8</b> is coupled to a first terminal of conventionally constructed current source <b>13</b>. The second terminal of <b>13</b> is coupled to ground. The source of transistor M<b>9</b> is coupled to a first terminal of conventionally constructed current source <b>14</b>. The second terminal of current source <b>14</b> is coupled to ground.</p>
<p id="p-0306" num="0305"><figref idref="DRAWINGS">FIG. 30</figref><i>l </i>is a block diagram of a second embodiment of a Subsampling Mixer for high frequencies. An RF input +IN, −IN is coupled to a track and hold circuit <b>113</b>. The track and hold circuit includes three outputs OUT <b>1</b>, OUT <b>2</b>, OUT <b>3</b>, and OUT <b>4</b>. Track and hold outputs OUT <b>1</b> through OUT <b>4</b> are applied to a sample and hold and current combining circuit <b>115</b>. The sample and hold and current combining circuit provides IF outputs +OUT and −OUT.</p>
<p id="p-0307" num="0306">The conventionally constructed local oscillator providing differential outputs +LO and −LO is used to clock track and hold circuit <b>113</b> and the sample and hold and current combining circuit <b>115</b>. Differential signals +LO and −LO are simultaneously applied to the track and hold circuit <b>113</b> and the sample hold and current combining circuit <b>115</b>.</p>
<p id="p-0308" num="0307">The linearity of the first embodiment tends to be improved over that of the second embodiment. However, the sample and hold <b>115</b> of the second embodiment when analyzed in the frequency domain pushes all of the distortion products to a low frequency where they may be filtered out. The second embodiment also tends to provide a stronger signal than the first. A strong signal makes the second embodiment desirable for use in a PLL circuit over the first embodiment.</p>
<p id="p-0309" num="0308"><figref idref="DRAWINGS">FIG. 30</figref><i>m </i>is a schematic diagram of a track and hold circuit <b>113</b>. In the track and hold circuit a buffer amplifier has been incorporated in the design. Field effect transistor differential pairs M<b>16</b>, M<b>17</b> and M<b>18</b>, M<b>19</b> are included in the buffer circuit. Field effect transistor pairs M<b>10</b>, M<b>11</b> and M<b>12</b>, M<b>13</b> are utilized in the sample hold circuit. One sample and hold pair of transistors is activated while the other pair is deactivated. Activation or deactivation of a sample and hold circuit is achieved through transistor switches M<b>20</b> and M<b>21</b>. Field effect transistor switches M<b>20</b> and M<b>21</b> are gated by +LO and −LO respectively. Local oscillator signals +LO and −LO are running at a low frequency. Thus, each sample and hold circuit will sample for a relatively long period of time while it is activated.</p>
<p id="p-0310" num="0309">Voltage source V<sub>DD </sub>is coupled to the first terminals of inductors L<b>3</b>, L<b>4</b>, L<b>5</b>, and L<b>6</b>. The drains of field effect transistors M<b>10</b>, M<b>11</b>, M<b>12</b>, and M<b>13</b> are coupled to the second terminals of L<b>3</b>, L<b>4</b>, L<b>5</b>, and L<b>6</b> respectively. The gates of transistors M<b>10</b> and M<b>11</b> are simultaneously driven by local oscillator signal +LO. The gates of transistors M<b>12</b> and M<b>13</b> are simultaneously driven by local oscillator signal −LO. The sources of transistors M<b>10</b>, M<b>11</b>, M<b>12</b>, and M<b>13</b> define circuit outputs OUT <b>1</b>, OUT <b>3</b>, OUT <b>2</b>, and OUT <b>4</b> respectively. The sources of transistors M<b>10</b>, M<b>11</b>, M<b>12</b>, and M<b>13</b> are also coupled to the drains of field effect transistors M<b>16</b>, M<b>17</b>, M<b>18</b>, and M<b>19</b> respectively.</p>
<p id="p-0311" num="0310">RF input +IN is simultaneously coupled to the gates of M<b>16</b> and M<b>19</b>. RF input −IN is simultaneously coupled to the gates of transistors M<b>17</b> and M<b>18</b>. The sources of transistor M<b>16</b> and M<b>17</b> are coupled together and to a drain of field effect transistor M<b>20</b>. The sources of transistors M<b>18</b> and M<b>19</b> are coupled together and to the drain of field effect transistor M<b>21</b>. The gate of transistor M<b>20</b> is coupled to local oscillator signal +LO. The gate of transistor M<b>21</b> is coupled to local oscillator signal −LO. The sources of M<b>20</b> and M<b>21</b> are coupled together and to the drain of a field effect transistor M<b>14</b> configured as a conventional current source. The gate of M<b>14</b> is driven by a conventional bias control circuit and the source of M<b>14</b> is coupled to ground.</p>
<p id="p-0312" num="0311"><figref idref="DRAWINGS">FIG. 30</figref><i>n </i>is a schematic diagram of the sample and hold and current combining circuit <b>115</b>. Field effect transitters M<b>22</b> and M<b>23</b> are configured in a conventional common mode feedback circuit incorporating resisters <b>410</b> and <b>411</b>. As previously described local oscillator signals −LO and +LO are used to gate the sample and hold circuit.</p>
<p id="p-0313" num="0312">Voltage source V<sub>DD </sub>is coupled to the drains of transistor M<b>22</b> and M<b>23</b>. The gate of transistor M<b>22</b> is coupled to the gate of transistor M<b>23</b>, and a first terminal on resistor R<b>10</b> and a first terminal of resister R<b>11</b>. The second terminal of resister R<b>10</b> is coupled to the source of transistor M<b>22</b>. The second terminal of resister R<b>11</b> is coupled to the source of M<b>23</b>. The source of M<b>22</b> defines the IF output, −OUT. The source of transistor M<b>23</b> defines the IF output +OUT. The source of M<b>22</b> is coupled to the drain of field effect transistor M<b>24</b>, and also the drain of field effect transistor M<b>26</b>. The source of transistor M<b>23</b> is coupled to the drain of field effect transistor M<b>27</b>, and to the drain of field effect transistor M<b>25</b>. The gate of transistor M<b>24</b> is coupled to the input signal OUT <b>1</b>. The gate of transistor M<b>25</b> is coupled to the input signal OUT <b>3</b>. The gate of transistor M<b>26</b> is coupled to the input signal OUT <b>2</b>. The gate of transistor M<b>27</b> is coupled to the input signal OUT <b>4</b>. The source of M<b>24</b> is coupled to the source of M<b>25</b> and to the drain of field effect transistor M<b>28</b>. The source of transistor M<b>26</b> is coupled to the source of transistor M<b>27</b>, and to the drain of field effect transistor M<b>29</b>. The gate of transistor M<b>28</b> is coupled to local oscillator signal −LO. The gate of transistor M<b>29</b> is coupled to the local oscillator signal +LO. The source of M<b>28</b> is coupled to the source of M<b>29</b> and to ground.</p>
<heading id="h-0030" level="1">3.0 LOCAL OSCILLATOR</heading>
<p id="p-0314" num="0313">In embodiments of the present invention utilizing a low-IF or direct conversion architecture, techniques are implemented to deal with the potential disturbance of the local oscillator by the PA. Since the LO generator has a frequency which coincides with the RF signal at the transmitter output, the large modulated signal at the PA output may pull the VCO frequency. The potential for this disturbance can be reduced by setting the VCO frequency far from the PA output frequency. To this end, an exemplary embodiment of the LO generator produces RF clocks whose frequency is close to the PA output frequency, as required in a low-IF or direct-conversion architectures, with a VCO operating at a frequency far from that of the RF clocks. One way of doing so is to use two VCO <b>864</b>, <b>866</b>, with frequencies of f<sub>1 </sub>and f<sub>2 </sub>respectively, and mix <b>868</b> their output to generate a clock at a higher frequency of f<sub>1</sub>+f<sub>2 </sub>as shown in <figref idref="DRAWINGS">FIG. 31(</figref><i>a</i>). With this approach, the VCO frequency will be away from the PA output frequency with an offset equal to f<sub>1 </sub>(or f<sub>2</sub>). A bandpass filter <b>876</b> after the mixer can be used to reject the undesired signal at f<sub>1</sub>−f<sub>2</sub>. The maximum offset can be achieved when f<sub>1 </sub>is close to f<sub>2</sub>.</p>
<p id="p-0315" num="0314">An alternative embodiment for generating RF clocks far away in frequency from the VCO is to generate f<sub>2 </sub>by dividing the VCO output by N as shown in <figref idref="DRAWINGS">FIG. 31(</figref><i>b</i>). The output of the VCO <b>864</b> (at f<sub>1</sub>) is coupled to a divider <b>872</b>. The output of te divider <b>872</b> (at f<sub>2</sub>) is mixed with the VCO at mixer <b>868</b> to produce an RF clock frequency equal to:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i><sub>LO</sub><i>=f</i><sub>1</sub>′(1+1/N),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where f<sub>1 </sub>is the VCO frequency. A bandpass filter <b>874</b> at the mixer output can be used to reject the lower sideband located at f<sub>1</sub>−f<sub>1</sub>/N.
</p>
<p id="p-0316" num="0315">In another embodiment of the present invention, a single sideband mixing scheme is used for the LO generator. <figref idref="DRAWINGS">FIG. 32</figref> shows a single sideband mixing scheme. This approach generates I and Q signals at the VCO <b>864</b> output. The output of the VCO <b>864</b> is coupled to a quadrature frequency divider <b>876</b> should be able to deliver quadrature outputs. Quadrature outputs will be realized if the divide ratio (N) is equal to two to the power of an integer (N=2<sup>n</sup>). The I signal output of the divider <b>876</b> is mixed with the I signal output of the VCO <b>864</b> by a mixer <b>878</b>. Similarly, the Q signal output of the divider <b>876</b> is mixed with the Q signal output of the VCO <b>864</b> by a mixer <b>880</b>.</p>
<p id="p-0317" num="0316">Although a single sideband structure uses two mixers, this should not double the mixer power consumption, since the gain of the single sideband mixer will be twice as much. By utilizing a Gilbert cell (i.e., a current communicating mixer) for each mixer <b>878</b>, <b>880</b>, the addition or subtraction required in a single sideband mixer can be done by connecting the two mixers <b>878</b>, <b>880</b> outputs and sharing a common load (e.g., an LC circuit). The current from the mixers is added or subtracted, depending on the polarity of the inputs, and then converted to a voltage by an LC load (not shown) resonating at the desired frequency.</p>
<p id="p-0318" num="0317"><figref idref="DRAWINGS">FIG. 33</figref> shows an LO generator architecture in accordance with an embodiment of the present invention. This architecture is similar to the architecture shown in <figref idref="DRAWINGS">FIG. 32</figref>, except that the LO generator architecture in <figref idref="DRAWINGS">FIG. 33</figref> generates I–Q data. In a low-IF system, a quadrature LO is desirable for image rejection. In the described embodiment, the I and Q outputs of the VCO can be applied to a pair of single sideband mixer to generate quadrature LO signals. A quadrature VCO <b>48</b> produces I and Q signals at its output. Buffers are included to provide isolation between the VCO output and the LO generator output. The buffer <b>884</b> buffers the I output of the VCO <b>48</b>. The buffer <b>886</b> buffers the Q output of the VCO <b>48</b>. The buffer <b>888</b> combines the I and Q output of the buffers <b>884</b>, <b>886</b>. The signal from the buffer <b>888</b> is coupled to a frequency divider <b>890</b> where it is divided by N and separated into I and Q signals. The I–Q outputs of the divider <b>890</b> are buffered by buffer <b>892</b> and buffer <b>894</b>. The I output of the divider <b>890</b> is coupled to a buffer <b>892</b> and the Q signal output of the divider <b>890</b> is coupled to a buffer <b>894</b>. A first mixer <b>896</b> mixes the I signal output of the buffer <b>892</b> with the I signal output of the buffer <b>884</b>. A second mixer <b>897</b> mixes the Q signal output from the buffer <b>894</b> with Q signal output from the buffer <b>886</b>. A third mixer <b>898</b> mixes the Q signal output of the buffer <b>894</b> with the I signal output of the buffer <b>884</b>. A fourth mixer <b>899</b> mixes the I signal output from the buffer <b>892</b> with the Q signal output from the buffer <b>886</b>. The outputs of the first and second mixers <b>896</b>, <b>897</b> are combined and coupled to buffer <b>900</b>. The outputs of the third and fourth mixers <b>898</b>, <b>899</b> are combined and coupled to buffer <b>902</b>. LC circuits (not shown) can be positioned at the output of each buffer <b>900</b>, <b>902</b> to provide a second-order filter which rejects the spurs and harmonics produced due to the mixing action in the LO generator.</p>
<p id="p-0319" num="0318">Embodiments of the present invention which are integrated into a single IC may employ buffers configured as differential pairs with a current source to set the bias. With this configuration, if the amplitude of the buffer input is large enough, the signal amplitude at the output will be rather independent of the process parameters. This reduces the sensitivity of the design to temperature or process variation.</p>
<p id="p-0320" num="0319">The lower sideband signal is ideally rejected with the described embodiment of the LO generator because of the quadrature mixing. However, in practice, because of the phase and amplitude inaccuracy at the VCO and divider outputs, a finite rejection is obtained. In single IC fully integrated embodiments of the present invention, the rejection is mainly limited to the matching between the devices on chip, and is typically about 30–40 dB. Since the lower sideband signal is 2×f<sub>1</sub>/N away in frequency from the desired signal, by proper choice of N, it can be further attenuated with on-chip filtering.</p>
<p id="p-0321" num="0320">Because of the hard switching action of the buffers, the mixers will effectively be switched by a square-wave signal. Thus, the divider output will be upconverted by the main harmonic of VCO (f<sub>1</sub>), as well as its odd harmonics (n×f<sub>1</sub>), with a conversion gain of 1/n. In addition, at the input of the mixer, because of the nonlinearity of the mixers, and the buffers preceding the mixers, all the odd harmonics of the input signals to the mixers will exist. Even harmonics, both at the LO and the input of the mixers can be neglected if a fully balanced configuration is used. Therefore, all the harmonics of VCO (n×f<sub>1</sub>) will mix with all the harmonics of input (m×f<sub>2</sub>), where f<sub>2 </sub>is equal to f<sub>1</sub>/N. Because of the quadrature mixing, at each upconversion only one sideband appears at the mixer output. Upper or lower sideband rejection depends on the phase of the input and LO at each harmonic. For instance, for the main harmonics mixed with each other, the lower sideband is rejected, whereas when the main harmonic of the VCO mixes with the third harmonic of the divider output signal, the upper sideband is rejected. Table 1 gives a summary of the cross-modulation products up to the 5<sup>th </sup>harmonic of the VCO and input. In each product, only one sideband is considered, since the other one is attenuated due to quadrature mixing, and is negligible.</p>
<p id="p-0322" num="0321">All the spurs are at least 2×f<sub>1</sub>/N away from the main signal located at f<sub>1</sub>×(1+1/N). The VCO frequency will be f<sub>1</sub>/N away from the PA output. Thus, by choosing a smaller N better filtering can be obtained. In addition, the VCO frequency will be further away from the PA output frequency. The value of N, and the quality factor (Q) of the resonators (not shown) posiitoned at the output of each component determined how much each spur will be attenuated. The resonator quality factor is usually set by the inductor Q, and that depends merely on the IC technology. Higher Q provides better filtering and lower power consumption.</p>
<p id="p-0323" num="0322">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Cross-Modulation Products at the LO Generator Output</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="offset" colwidth="42pt" align="left"/>
<colspec colname="1" colwidth="70pt" align="center"/>
<colspec colname="2" colwidth="42pt" align="center"/>
<colspec colname="3" colwidth="63pt" align="center"/>
<tbody valign="top">
<row>
<entry/>
<entry>1<sup>st</sup>: f<sub>1</sub>/N</entry>
<entry>3<sup>rd</sup>: 3f<sub>1</sub>/N</entry>
<entry>5<sup>th</sup>: 5f<sub>1</sub>/N</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="3" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="offset" colwidth="14pt" align="left"/>
<colspec colname="1" colwidth="28pt" align="center"/>
<colspec colname="2" colwidth="70pt" align="center"/>
<colspec colname="3" colwidth="42pt" align="center"/>
<colspec colname="4" colwidth="63pt" align="center"/>
<tbody valign="top">
<row>
<entry/>
<entry>1<sup>st</sup>: f<sub>1</sub></entry>
<entry>f<sub>1 </sub>x(1 + 1/N)</entry>
<entry>f<sub>1 </sub>x(1 − 3/N)</entry>
<entry>f<sub>1 </sub>x(1 + 5/N)</entry>
</row>
<row>
<entry/>
<entry>3<sup>rd</sup>: 3f<sub>1</sub></entry>
<entry>f<sub>1 </sub>x(3 − 1/N)</entry>
<entry>f<sub>1 </sub>x(3 + 3/N)</entry>
<entry>f<sub>1 </sub>x(3 − 5/N)</entry>
</row>
<row>
<entry/>
<entry>5<sup>th</sup>: 5f<sub>1</sub></entry>
<entry>f<sub>1 </sub>x(5 + 1/N)</entry>
<entry>f<sub>1 </sub>x(5 − 3/N)</entry>
<entry>f<sub>1 </sub>x(5 + 5/N)</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="4" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0324" num="0323">The maximum filtering is obtained by choosing N=1. Moreover, in this case, the frequency divider is eliminated. This lowers the power consumption and reduces the system complexity of the LO generator. However, the choice of N=1 may not be practical for certain embodiments of the present invention employing a low-IF receiver architecture with quadrature LO signals. The problem arises from the fact that the third harmonic of the VCO (at 3f<sub>1</sub>) mixed with the divider output (at f<sub>1</sub>) also produces a signal at 2f<sub>1 </sub>which has the same frequency as the main component of the RF clock output from the LO generator. With the configuration shown in <figref idref="DRAWINGS">FIG. 33</figref>, the following relations hold for the main harmonics:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Cos(ω<sub>1</sub><i>t</i>)·Cos(ω<sub>1</sub><i>t</i>)−Sin(ω<sub>1</sub><i>t</i>)·Sin(ω<sub>1</sub><i>t</i>)→Cos(2ω<sub>1</sub><i>t</i>)  (45)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Cos(ω<sub>1</sub><i>t</i>)·Sin(ω<sub>1</sub><i>t</i>)+Sin(ω<sub>1</sub><i>t</i>)·Cos(ω<sub>1</sub><i>t</i>)→Sin(2ω<sub>1</sub><i>t</i>)  (46)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
which show that at the output of the mixers, quadrature signals at twice the VCO frequency exist. For the VCO third harmonic mixed with the divider output, however, the following relations hold:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>−Cos(ω<sub>1</sub><i>t</i>)·1/3Cos(3ω<sub>1</sub><i>t</i>)·Sin(ω<sub>1</sub><i>t</i>) ·1/3Sin(3ω<sub>1</sub><i>t</i>)→−1/3Cos(2ω<sub>1</sub><i>t</i>)  (47)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Cos(ω<sub>1</sub><i>t</i>)·1/3Sin(3ω<sub>1</sub><i>t</i>)−Sin(ω<sub>1</sub><i>t</i>)·1/3Cos(3ω<sub>1</sub><i>t</i>)→−1/3Sin(2ω<sub>1</sub><i>t</i>)  (48)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The factor 1/3 appears in the above equations because the third harmonic of a square-wave has an amplitude which is one third of the main harmonic. Comparing equation (46) with equation (48), the two products are added in equation (46), while they are subtracted in equation (47) The reason is that for the main harmonic of the VCO, quadrature outputs have phases of 0 and 90°, whereas for the third harmonic, the phases are 0 and 270°. The same holds true for equation (45) and equation (47). The two cosines in equation (45) and equation (47), when added, give a cosine at 2ω<sub>1 </sub>with an amplitude of 2/3, yet the two sinewaves in equation (46) and equation (48) when added, give a component at 2ω<sub>1 </sub>with an amplitude of 4/3. Therefore, a significant amplitude imbalance exists at the I and Q outputs of the mixers. When these signals pass through the nonlinear buffer at the mixers output, the amplitude imbalance will be reduced. However, because of the AM to PM conversion, some phase inaccuracy will be introduced. The accuracy can be improved with a quadrature generator, such as a polyphase filter, after the mixers. A polyphase filter, however, is lossy, especially at high frequency, and it can load its previous stage considerably. This increases the LO generator power consumption significantly, and renders the choice of N=1 unattractive for embodiments of the present invention employing a low-IF receiver architecture with quadrature LO signals.
</p>
<p id="p-0325" num="0324">For N=2, the LO generator output will have a frequency of 1.5f<sub>1</sub>, and the closest spurs will be located ±f<sub>1 </sub>away from the output. These spurs can be rejected by positioning LC filters (not shown) at the output of each circuit in the LO generator. A second-order LC filter tuned to f<sub>0</sub>, with a quality factor Q, rejects a signal at a frequency of f as given in the following equation:</p>
<p id="p-0326" num="0325">
<maths id="MATH-US-00028" num="00028">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo></mo>
          <mrow>
            <mi>H</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>f</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo></mo>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mfrac>
            <mi>f</mi>
            <msub>
              <mi>Qf</mi>
              <mn>0</mn>
            </msub>
          </mfrac>
          <msqrt>
            <mrow>
              <msup>
                <mrow>
                  <mo>[</mo>
                  <mrow>
                    <mn>1</mn>
                    <mo>-</mo>
                    <msup>
                      <mrow>
                        <mo>(</mo>
                        <mfrac>
                          <mi>f</mi>
                          <msub>
                            <mi>f</mi>
                            <mn>0</mn>
                          </msub>
                        </mfrac>
                        <mo>)</mo>
                      </mrow>
                      <mn>2</mn>
                    </msup>
                  </mrow>
                  <mo>]</mo>
                </mrow>
                <mn>2</mn>
              </msup>
              <mo>+</mo>
              <msup>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mi>f</mi>
                    <msub>
                      <mi>Qf</mi>
                      <mn>0</mn>
                    </msub>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
                <mn>2</mn>
              </msup>
            </mrow>
          </msqrt>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>49</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0327" num="0326">The following discussion changes based on the Q value. Considering a Q of about 5 for the inductor, with f<sub>0</sub>=1.5f<sub>1</sub>, the spur located at 2.5f<sub>1 </sub>is rejected by about 15 dB by each LC circuit. This spur is produced at the LO generator output due to the mixing of the VCO third harmonic (at 3f<sub>1</sub>) with the divider output (at 0.5f<sub>1</sub>). This signal is attenuated by 10 dB since the third harmonic of a square-wave is one third of the main harmonic, 15 dB at the LC resonator at the mixers output tuned to 1.5f<sub>1</sub>, and another 15 dB at the output of the buffers (<b>900</b>, <b>902</b> in <figref idref="DRAWINGS">FIG. 33</figref>). This gives a total rejection of 40 dB. When applied to the mixers in the transmitter, this LO generator output will upconvert the baseband data to 2.5f<sub>1</sub>. With LC filters (not shown) positioned at the upconversion mixers and PA output in the transmitter, another 15+15=30 dB rejection is obtained (<figref idref="DRAWINGS">FIG. 33</figref>).</p>
<p id="p-0328" num="0327">The spur located at 0.5f<sub>1 </sub>is produced because of the third harmonic of the divider output (at 1.5f<sub>1</sub>) is mixed with the VCO output (at f<sub>1</sub>). Because of the hard switching action at the divider output, the third harmonic is about 10 dB lower than the main harmonic at 0.5f<sub>1</sub>. The buffer at the divider output tuned to 0.5f<sub>1 </sub>(<b>892</b>, <b>8943</b> in <figref idref="DRAWINGS">FIG. 33</figref>), rejects this signal by about 22 dB (equation (24)). This spur can be further attenuated by LC circuits at the mixer and its buffer output by (2)(22)=44 dB. The total rejection is 76 dB.</p>
<p id="p-0329" num="0328"><figref idref="DRAWINGS">FIG. 33(</figref><i>a</i>) shows a signal passing through a limiting buffer <b>910</b> (such as the buffers implemented in the LO generator). When a large signal at a frequency of f accompanied with a small interferer at a frequency of Δf902 away pass through a limiting buffer, at the limiter output the interferer produces two tones ±Δf914, 916 away from the main signal, each with 6 dB lower amplitude. Therefore, the spur at 2.5f<sub>1 </sub>will actually be 10+15+15+6=46 dB attenuated when it passes through the buffer, instead of the 40 dB calculated above. It will also produce an image at 0.5f<sub>1 </sub>which is 10+15+22+6=53 dB lower than the main signal. This will dominate the spur at 0.5f<sub>1 </sub>because of the third harmonic of the divider mixed with the VCO signal, which is more than 75 dB lower than the main signal.</p>
<p id="p-0330" num="0329">Since the buffer is nonlinear, another major spur at the LO generator output is the third harmonic of the main signal located at 3×1.5f<sub>1</sub>. This signal will be 10+22=32 dB lower than the main harmonic. The 22 dB rejection results from an LC circuit (not shown) turned to 1155f<sub>1 </sub>(equation (49)) in the buffer. This undesired signal will not degrade the LO generator performance, since even if a perfect sinewave is applied to upconversion (or downconversion) mixers, due to hard switching action of the buffer, the mixer is actually switched by a square-wave whose third harmonic is only 10 dB lower. Thus, if a non linear PA is used in the transmitter, even with a perfect input to the PA, the third harmonic at the transmitter output will be 10+22+10=42 dB lower. The first 10 dB is because the third harmonic of a square-wave is one third of the main one, the 22 dB is due to the LC filter at the PA output, and the last 10 dB is because the data is spread in the frequency domain by three times. Any DC offset at the mixer input in the transmitter is upconverted by the LO, and produces a spur at f<sub>1</sub>. This spur can be attenuated by 13 dB for each LC circuit used (equation (49)),. In addition, the signal at the mixer input in the transmitter is considerably larger (about 10–20 times) that the DC offset. Thus the spur at f<sub>1 </sub>will be about 13+13+26=52 dB lower than the main signal. All other spurs given in Table 1 are more than 55 dB lower at the LO generator output. The dominant spur is the one at 2.5f<sub>1 </sub>which is about 46 dB lower than the main signal.</p>
<p id="p-0331" num="0330">Choosing N&gt;2 may not provide much benefit for single IC embodiments of the present invention with the possible exception that the on-chip filtering requirements may be relaxed. When using an odd number for N, further disadvantages may be realized because the divider output will not be in quadrature thereby preventing single sideband mixing. In addition, for N&gt;2 the divider becomes more complex and the power consumption increases. Nevertheless, in certain applications, N=4 may be selected over N=2 so that the divider quadrature accuracy will not depend on the duty cycle of the input signal.</p>
<p id="p-0332" num="0331">When choosing N equal to 2<sup>n</sup>, such as N=2, quadrature signals are readily available at the divider output despite quadrature phase inaccuracies at the output of the VCO. Assume that the VCO outputs have phase of 0 and 90°+q, where q is ideally 0, and that the divider produces perfect quadrature outputs. At the LO generator outputs the following signals exist:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>out</sub><sub><sub2>—</sub2></sub><sub>I</sub>=Cos(ω<sub>2</sub><i>t</i>)·Cos(ω<sub>1</sub><i>t+θ)−Sin(ω</i><sub>2</sub><i>t</i>)·Sin(ω<sub>1</sub><i>t</i>)  (50)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V</i><sub>OUT</sub><sub><sub2>—</sub2></sub><sub>Q</sub>=Cos(ω<sub>2</sub><i>t</i>)·Sin(ω<sub>1</sub><i>t</i>)+Sin(ω<sub>2</sub><i>t</i>)·Cos(ω<sub>1</sub><i>t+θ)</i>  (51)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where ω<sub>1 </sub>is the VCO radian frequency, and ω<sub>2 </sub>is the divider radian frequency, equal to 0.5ω<sub>1</sub>. By simplifying equation (25) and equation (26), the signals at the output of mixers will be:
</p>
<p id="p-0333" num="0332">
<maths id="MATH-US-00029" num="00029">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mi>out_I</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mrow>
                <mi>Sin</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mi>θ</mi>
                    <mn>2</mn>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>·</mo>
            <mrow>
              <mi>Sin</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>ω</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mo>⁢</mo>
                    <mi>t</mi>
                  </mrow>
                  <mo>+</mo>
                  <mfrac>
                    <mi>θ</mi>
                    <mn>2</mn>
                  </mfrac>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mrow>
              <mrow>
                <mi>Cos</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mi>θ</mi>
                    <mn>2</mn>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>·</mo>
              <mrow>
                <mi>Cos</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>ω</mi>
                            <mn>1</mn>
                          </msub>
                          <mo>+</mo>
                          <msub>
                            <mi>ω</mi>
                            <mn>2</mn>
                          </msub>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>⁢</mo>
                      <mi>t</mi>
                    </mrow>
                    <mo>+</mo>
                    <mfrac>
                      <mi>θ</mi>
                      <mn>2</mn>
                    </mfrac>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>and</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>52</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mi>out_Q</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mrow>
                <mi>Sin</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mi>θ</mi>
                    <mn>2</mn>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>·</mo>
            <mrow>
              <mi>Cos</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>ω</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mo>⁢</mo>
                    <mi>t</mi>
                  </mrow>
                  <mo>+</mo>
                  <mfrac>
                    <mi>θ</mi>
                    <mn>2</mn>
                  </mfrac>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mrow>
              <mi>Cos</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mfrac>
                  <mi>θ</mi>
                  <mn>2</mn>
                </mfrac>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>·</mo>
            <mrow>
              <mi>Sin</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>+</mo>
                        <msub>
                          <mi>ω</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mo>⁢</mo>
                    <mi>t</mi>
                  </mrow>
                  <mo>+</mo>
                  <mfrac>
                    <mi>θ</mi>
                    <mn>2</mn>
                  </mfrac>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>53</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0334" num="0333">The above equations show that regardless of the value of θ, the outputs are always in quadrature. However, other effects should be evaluated. First, a spur at
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>ω<sub>1</sub>−ω<sub>2</sub>=0.5ω<sub>1 </sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
is produced at the output. This spur can be attenuated by
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>2×22=44 dB<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
by the LC filters at the mixer and its buffer outputs. Thus, for 60 dB rejection, the single sideband mixers need to provide an additional 16 dB of rejection (about 0.158). Based on equation (53), tan(θ/2)=0.158, or θ=18°, phase accuracy of better than 18° can generally be achieved. Second, phase error at the VCO output lowers the mixer gain (term Cos(θ/2) in equation (52) or (53)). For a phase error of 18°, the gain reduction is, however, only 0.1 dB, which is negligible. For θ=90° (a single-phase VCO), both sidebands are equally upconverted at the mixer output. However the LC filters reject the lower sideband by about 44 dB. The mixer gain will also be 3 dB lower. This will slightly increase the power consumption of the LO generator. If θ=180° (the VCO I and Q outputs are switched), the lower sideband is selected, and the desired sideband is completely rejected.
</p>
<p id="p-0335" num="0334">Similarly, the LO generator will not be sensitive to the phase imbalance of the divider outputs if the VCO is ideal. However, if there is some phase inaccuracy at both the divider and VCO outputs, the LO generator outputs will no long be in quadrature. In fact, if the VCO output has a phase error of q<sub>1 </sub>and the divider output has a phase error of q<sub>2</sub>, the LO generator outputs will be:</p>
<p id="p-0336" num="0335">
<maths id="MATH-US-00030" num="00030">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mi>out_I</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mrow>
                <mi>Sin</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>θ</mi>
                        <mn>1</mn>
                      </msub>
                      <mo>-</mo>
                      <msub>
                        <mi>θ</mi>
                        <mn>2</mn>
                      </msub>
                    </mrow>
                    <mn>2</mn>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>·</mo>
            <mrow>
              <mi>Sin</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>ω</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mo>⁢</mo>
                    <mi>t</mi>
                  </mrow>
                  <mo>+</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>θ</mi>
                        <mn>1</mn>
                      </msub>
                      <mo>-</mo>
                      <msub>
                        <mi>θ</mi>
                        <mn>2</mn>
                      </msub>
                    </mrow>
                    <mn>2</mn>
                  </mfrac>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mrow>
              <mrow>
                <mi>Cos</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>θ</mi>
                        <mn>1</mn>
                      </msub>
                      <mo>+</mo>
                      <msub>
                        <mi>θ</mi>
                        <mn>2</mn>
                      </msub>
                    </mrow>
                    <mn>2</mn>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>·</mo>
              <mrow>
                <mi>Cos</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>ω</mi>
                            <mn>1</mn>
                          </msub>
                          <mo>+</mo>
                          <msub>
                            <mi>ω</mi>
                            <mn>2</mn>
                          </msub>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>⁢</mo>
                      <mi>t</mi>
                    </mrow>
                    <mo>+</mo>
                    <mfrac>
                      <mrow>
                        <msub>
                          <mi>θ</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>+</mo>
                        <msub>
                          <mi>θ</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mn>2</mn>
                    </mfrac>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>and</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>54</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mi>out_Q</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mrow>
                <mi>Sin</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>θ</mi>
                        <mn>1</mn>
                      </msub>
                      <mo>+</mo>
                      <msub>
                        <mi>θ</mi>
                        <mn>2</mn>
                      </msub>
                    </mrow>
                    <mn>2</mn>
                  </mfrac>
                  <mo>)</mo>
                </mrow>
              </mrow>
            </mrow>
            <mo>·</mo>
            <mrow>
              <mi>Cos</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>ω</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mo>⁢</mo>
                    <mi>t</mi>
                  </mrow>
                  <mo>+</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>θ</mi>
                        <mn>1</mn>
                      </msub>
                      <mo>-</mo>
                      <msub>
                        <mi>θ</mi>
                        <mn>2</mn>
                      </msub>
                    </mrow>
                    <mn>2</mn>
                  </mfrac>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mrow>
              <mi>Cos</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>θ</mi>
                      <mn>1</mn>
                    </msub>
                    <mo>-</mo>
                    <msub>
                      <mi>θ</mi>
                      <mn>2</mn>
                    </msub>
                  </mrow>
                  <mn>2</mn>
                </mfrac>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>·</mo>
            <mrow>
              <mi>Sin</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mrow>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>+</mo>
                        <msub>
                          <mi>ω</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mo>⁢</mo>
                    <mi>t</mi>
                  </mrow>
                  <mo>+</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>θ</mi>
                        <mn>1</mn>
                      </msub>
                      <mo>+</mo>
                      <msub>
                        <mi>θ</mi>
                        <mn>2</mn>
                      </msub>
                    </mrow>
                    <mn>2</mn>
                  </mfrac>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>55</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0337" num="0336">This shows that the outputs still have phases of 0 and 90°, but their amplitudes are not equal. The amplitude imbalance is equal to:</p>
<p id="p-0338" num="0337">
<maths id="MATH-US-00031" num="00031">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <mi>Δ</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>A</mi>
          </mrow>
          <mi>A</mi>
        </mfrac>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mn>2</mn>
            <mo>⁢</mo>
            <mfrac>
              <mrow>
                <mrow>
                  <mi>Cos</mi>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mfrac>
                      <mrow>
                        <msub>
                          <mi>θ</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>+</mo>
                        <msub>
                          <mi>θ</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mn>2</mn>
                    </mfrac>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>-</mo>
                <mrow>
                  <mi>Cos</mi>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mfrac>
                      <mrow>
                        <msub>
                          <mi>θ</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>θ</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mn>2</mn>
                    </mfrac>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mrow>
                <mrow>
                  <mi>Cos</mi>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mfrac>
                      <mrow>
                        <msub>
                          <mi>θ</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>+</mo>
                        <msub>
                          <mi>θ</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mn>2</mn>
                    </mfrac>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mi>Cos</mi>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mfrac>
                      <mrow>
                        <msub>
                          <mi>θ</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>θ</mi>
                          <mn>2</mn>
                        </msub>
                      </mrow>
                      <mn>2</mn>
                    </mfrac>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mfrac>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mn>2</mn>
            <mo>⁢</mo>
            <mrow>
              <mi>tan</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mfrac>
                  <msub>
                    <mi>θ</mi>
                    <mn>1</mn>
                  </msub>
                  <mn>2</mn>
                </mfrac>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>×</mo>
            <mrow>
              <mi>tan</mi>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mfrac>
                  <msub>
                    <mi>θ</mi>
                    <mn>2</mn>
                  </msub>
                  <mn>2</mn>
                </mfrac>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>56</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0339" num="0338">If θ<sub>1 </sub>and θ<sub>2 </sub>are small and have an equal standard deviation, that is, the phase errors in the VCO and divider are the same in nature, then the output amplitude standard deviation will be:</p>
<p id="p-0340" num="0339">
<maths id="MATH-US-00032" num="00032">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>σ</mi>
          <mi>A</mi>
        </msub>
        <mo>≈</mo>
        <mfrac>
          <msup>
            <mrow>
              <mo>(</mo>
              <msub>
                <mi>σ</mi>
                <mi>θ</mi>
              </msub>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
          <mn>2</mn>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>57</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where σ<sub>A </sub>is the standard deviation of the output amplitude, and σ<sub>θ</sub> is the phase standard deviation in radians. Equation (57) denotes that the phase inaccuracy in the VCO and divider has a second order effect on the LO generator. For instance, if θ<sub>1 </sub>and θ<sub>2 </sub>are on the same order and about 10°, the amplitude imbalance of the output signals will be only about 1.5%. In this case, the lower sideband will be about 15 dB rejected by the mixers, which will lead to a total attenuation of about 22+22+15=59 dB. This shows that the LO generator is robust to phase errors at the VCO or divider outputs, since typically phase errors of less than 5° can be obtained on chip.
</p>
<p id="p-0341" num="0340">Phase errors in the divider can originate from the mismatch at its output. Moreover, for N=2, if the input of the divider does not have a 50% duty cycle, the outputs will not be in quadrature. Again, the deviation from a 50% duty cycle in the divider input signal may be caused due to mismatch. Typically, with a careful layout, this mismatch is minimized to a few percent. The latter problem can also be alleviated by improving the common-mode rejection of the buffer preceding the divider (<b>888</b> in <figref idref="DRAWINGS">FIG. 33</figref>). One possible way of doing so is to add a small resistor at the common tail of the inductors in the buffer. For a differential output, this resistor does not load the resonator at the buffer output, since the inductors common tail is at AC ground. A common-mode signal at the output is suppressed however, since this resistor degrades the LC circuit quality factor. The value of the resistor should be chosen appropriately so as not to produce a headroom problem in the buffer.</p>
<p id="p-0342" num="0341">Embodiments of the present invention that are fully integrated onto a single IC can be implemented with a wide tuning range VCO with constant gain. In a typical IC process, the capacitance can vary by 20%. This translates to a 10% variation in the center frequency of the oscillator. A wide tuning range can be used to compensate for variation. Variations in temperature and supply voltage can also shift the center frequency. To generate a wide tuning range, two identical oscillators can be coupled together as shown in <figref idref="DRAWINGS">FIG. 34</figref>. This approach forces the oscillation to be dependent on the amount of coupling between the two oscillators.</p>
<p id="p-0343" num="0342">In the described exemplary embodiment of the VCO shown in <figref idref="DRAWINGS">FIG. 34</figref>, the tuning curve is divided into segments with each segment digitally selected. This approach ensures a sufficient amount of coupling between the two oscillators for injection lock. In addition, good phase noise performance is also obtained. The narrow frequency segment prevents the gain of the VCO from saturating. The segmentation lowers the VCO gain by the number of segments, and finally by scaling the individual segments, a piecewise linear version of the tuning curve is made resulting in a constant gain VCO.</p>
<p id="p-0344" num="0343"><figref idref="DRAWINGS">FIG. 34</figref> shows a block diagram of the wide tuning range VCO comprising two coupled oscillators where the amount of coupling transconductance is variable. The wide tuning range VCO comprises two resonators <b>800</b>, <b>802</b> and four transconductance cells, g<sub>m </sub>cells <b>804</b>, <b>806</b>, <b>808</b>, <b>810</b>. The transconductance cells are driver that converts voltage to current. The transconductance cells used to couple the oscillators together have a variable gain. The first VCO <b>800</b> provides the I signal and the second VCO provides the Q signal. The output of the first VCO <b>800</b> and the output of the second VCO <b>802</b> are coupled to transconductance cells <b>806</b>, <b>807</b>, respectively, combined, and fed back to the first VCO <b>800</b>. The transconductance cell <b>807</b> used for feeding back the output of the second VCO to the first VCO is a programmable variable gain cell. Similarly, the output of the second VCO <b>802</b> and the output of the first VCO <b>800</b> are coupled to transconductance cells <b>805</b>, <b>804</b>, respectively, combined, and fed back to the second VCO <b>802</b>. The transconductance cell <b>804</b> used for feeding back the output of the first VCO to the second VCO is programmable variable gain cell. The gain of the programmable variable gain transconductance cells <b>804</b>, <b>807</b> can be digitally controlled from the controller.</p>
<p id="p-0345" num="0344"><figref idref="DRAWINGS">FIG. 35</figref> shows a schematic block diagram of the wide-tuning range VCO described in connection with <figref idref="DRAWINGS">FIG. 34</figref>. The wide-tuning range VCO includes individual current sources <b>810</b>, <b>812</b>, <b>814</b>, <b>816</b>, cross-coupled transistors <b>818</b>, <b>820</b> with resonating inductors <b>826</b>, <b>828</b>, and cross-coupled transistors <b>822</b>, <b>824</b> with resonating inductors <b>830</b>, <b>832</b>. Two differential pairs couple the two sets of oscillators. Differential pair <b>834</b>, <b>836</b> are coupled to the drains of transistors <b>824</b>, <b>822</b>, respectively. Differential pair <b>838</b>, <b>840</b> are coupled to the drains of transistors <b>818</b>, <b>820</b>. Tank #1 comprises inductors <b>826</b> and <b>828</b>. Tank #2 comprises inductors <b>830</b> and <b>832</b>.</p>
<p id="p-0346" num="0345">Transistors <b>818</b> and <b>820</b> form a cross-coupled pair that injects a current into tank#1 that is exactly 180 degrees out of phase with V<b>1</b>. Likewise, transistors <b>822</b> and <b>824</b> form a cross-coupled pair that injects a current into tank #2 that is exactly 180 degrees out of phase with V<b>2</b>. The first set of coupling devices <b>834</b>, <b>836</b> injects a current into tank #2 that is in-phase with V<b>1</b>. The second set of coupling devices <b>838</b>, <b>840</b> injects a current into tank #1 that is in phase with V<b>2</b>. The tank impedances causes a frequency dependent phase shift. By varying the amplitude of the coupled signals, the frequency of oscillation changes until the phase shift through the tanks results in a steady-state solution. Varying the bias of the current source controls the gm of the coupling devices. Current sources <b>812</b>, <b>816</b> provide control of VCO tuning. Current sources <b>810</b>, <b>814</b> provide segmentation of the VCO tuning range.</p>
<p id="p-0347" num="0346"><figref idref="DRAWINGS">FIG. 36(</figref><i>a</i>) shows the typical tuning curve of the wide tuning range VCO before and after segmentation. The horizontal axis is voltage. The vertical axis is frequency. <figref idref="DRAWINGS">FIG. 36(</figref><i>b</i>) shows how segmentation is used to divide the tuning range and linearize the tuning curve. The linear tuning curves correspond to different VCO segments. The slope of the linear tuning curves is a result control of VCO tuning. The horizontal axis is voltage. The vertical axis is frequency.</p>
<p id="p-0348" num="0347"><figref idref="DRAWINGS">FIG. 37(</figref><i>a</i>) shows how the VCO of <figref idref="DRAWINGS">FIG. 34</figref> can be connected to the divider before being upconverted to the RF clock frequency in the LO generator. The I output signal of the VCO is coupled to buffer <b>884</b> and the Q output signal of the VCO is coupled to buffer <b>886</b>. Buffer <b>888</b> combines the I–Q data from the buffer <b>884</b> and the buffer <b>886</b> to obtain a larger signal. The large signal is coupled to a divider <b>50</b> where it is divided in frequency by N to get quadrature signals.</p>
<p id="p-0349" num="0348">In another embodiment of the present invention, a polyphase filter <b>892</b> follows a single-phase VCO as shown in <figref idref="DRAWINGS">FIG. 37(</figref><i>b</i>). This approach uses a single phase VCO <b>48</b> with a polyphase filter <b>892</b> to get quadrature signals. The output of the VCO <b>48</b> is coupled to a buffer <b>888</b>. The buffer provides sufficient drive for the polyphase filter <b>892</b>.</p>
<p id="p-0350" num="0349">A multiple stage polyphase filter can be used to obtain better phase accuracy at a certain frequency range. Embodiments of the present invention that are fully integrated into a single IC, the required frequency range is mainly set by the process variation on the chip and the system bandwidth.</p>
<p id="p-0351" num="0350">Any amplitude imbalance in the signals at the VCO and divider output will only cause a second order mismatch in the amplitude of the LO generator signals, and the output phase will remain 0 and 90°. If the standard deviation of the amplitude imbalance at the VCO and divider are the same and equal to σ<sub>a</sub>, then the standard deviation of the LO generator output amplitude imbalance (σ<sub>A</sub>) will be:</p>
<p id="p-0352" num="0351">
<maths id="MATH-US-00033" num="00033">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>σ</mi>
          <mi>A</mi>
        </msub>
        <mo>⁢</mo>
        <mfrac>
          <msup>
            <mrow>
              <mo>(</mo>
              <msub>
                <mi>σ</mi>
                <mi>α</mi>
              </msub>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
          <mn>2</mn>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>58</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0353" num="0352">The reason phase inaccuracy is more emphasized here is that because of the limiting stages in the LO generator and the hard switching at the mixers lO input, most of the errors will be in phase, rather than amplitude.</p>
<p id="p-0354" num="0353">Although the phase or amplitude inaccuracy at the mixers input or LO has only a second order effect on the LO generator, any mismatch at the mixers outputs or the following stages will directly cause phase and amplitude imbalance in the LO generator outputs. This mismatch will typically be a few percent, and will not adversely impact the transceiver performance, since in a low-IF or direct conversion architectures the required image rejection is usually relaxed.</p>
<heading id="h-0031" level="1">4.0 CONTROLLER</heading>
<p id="p-0355" num="0354">The controller performs adaptive programming and calibration of the receiver, transmitter and LO generator (see <figref idref="DRAWINGS">FIG. 2</figref>). An exemplary embodiment of the controller in accordance with one aspect of the present invention is shown in <figref idref="DRAWINGS">FIG. 38</figref>. A control bus <b>17</b> provides two way communication between the control and the external processing device (not shown). This communication link can be used to externally program the transceiver parameters for different modulation schemes, data rates and IF operating frequencies. In the described exemplary embodiment, the external processing device transmits data across the control bus <b>17</b> to a bank of addressable registers <b>900</b>–<b>908</b> in the controller. Each addressable register <b>900</b>–<b>908</b> is configured to latch data for programming one of the components in the transmitter, receiver LO generator. By way of example, the power amplifier register <b>900</b> is used to program the gain of the power amplifier <b>62</b> in the transmitter (see <figref idref="DRAWINGS">FIG. 2</figref>). The LO register <b>902</b> is used to program the IF frequency in the LO generator. The demodulator register <b>903</b> is used to program the demodulator for FSK demodulation, or alternatively in the described exemplary embodiment, program the A/D converter to handle different modulation schemes. The AGC register <b>905</b> programs the gain of the programmable multiple stage amplifier when in the AGC mode. The filter registers <b>901</b>, <b>904</b>, <b>906</b> program the frequency and bandwidth of their respective filters.</p>
<p id="p-0356" num="0355">The transmission of data between the external processing device and the controller can take on various forms including, by way of example, a serial data stream parsed into an umber of data packets. Each data packet includes programming data for one of the transceiver components accompanied by a register address. Each register <b>900</b>–<b>908</b> in the controller is assigned a different address and is configured to latch the programming data in the each data packet where the register address in that data packet matches its assigned address.</p>
<p id="p-0357" num="0356">The controller also may include various calibration circuits. In the described exemplary embodiment, the controller is equipped with an RC calibration circuit <b>907</b> and a bandgap calibration circuit <b>908</b>. The RC calibration circuit <b>907</b> can compensate an integrated circuit transceiver for process, temperature, and power supply variations. The bandgap calibration circuit can be used by the receiver, transmitter, and LO generator to set amplifier gains and voltage swings.</p>
<p id="p-0358" num="0357">The programming data from the addressable registers <b>900</b>–<b>908</b> and the calibration data from the RC calibration circuit <b>907</b> and the bandgap calibration circuit <b>908</b> are coupled to an output register <b>909</b>. The output register <b>909</b> formats the programmability and calibration data into a data packets. Each data packet includes a header or preamble which addresses the appropriate transceiver component. The data packets are then transmitted serially over a controller bus <b>910</b> to their final destination. By way of example, the output register <b>909</b> packages the programming data from the power amplifier register <b>900</b> with the header or preamble for the power amplifier and outputs the packaged data as the first data packet to the controller bus <b>910</b>.</p>
<p id="p-0359" num="0358">The second data packet generated by the output register <b>909</b> is for the programmable low pass filter in the transmitter. The second data packet includes two data segments each with its own header or preamble. The first segment consists of both programmability and calibration data. Because the programmability feature requires a large dynamic ranges as far as programing the programmable low pass filter to handle different frequency bands, and the calibration feature is more of a fine tuning function of the programmable low pass filter once tuned requiring a much smaller dynamic range, a single digital word containing both programming and calibration information can be used with the most significant bits (MSB) having the programming information and the least significant bits (LSB) having he calibration information. To this end, the output register <b>909</b> combines the output of the low pass filter register <b>901</b> with the output of the RC calibration circuit <b>907</b> with the low pass filter register output constituting the MSBs and the RC calibration circuit output constituting the LSBs. A header or preamble is attached to the combined outputs identifying the data packet for RC calibration of the programmable low pass filter in the transmitter. Similarly, the second segment of the second data packet is generated by combining the low pass filter register output (as the MSBs) with the bandgap calibration circuit output (as the LSBs) and attaching a header or preamble identifying the data packets for bandgap calibration of the programmable low pas filter.</p>
<p id="p-0360" num="0359">The third data packet generated and transmitted by the output register <b>909</b> can program the dividers in the LO generator to produce different IF frequencies in response to a frequency-hopping algorithm executed by the external processing device (not shown) to avoid IF frequencies where spurious noise signals are present. By way of example, the external processing device can cause the transceiver to sweep various IF frequencies by transmitting various data sets across the control bus <b>17</b> to the LO generator register <b>902</b>, the complex BFP register <b>904</b> and the polyphase filter register <b>906</b>. Portions of each data set will be loaded into the appropriate registers, packaged accordingly, and coupled to the output register <b>909</b>. More particularly, the LO generator register <b>902</b> will generate the third data packet, the complex BFP register <b>904</b> will generate the fifth data packet, and the polyphase register <b>906</b> will generate the seventh data packet. These data packets will be delivered to the output register <b>909</b> where they can be transmitted to the appropriate transceiver components for programming. For each data set that is programmed into the respective transceiver component, a new IF frequency can be established.</p>
<p id="p-0361" num="0360">This approach provides a methodology for the external processing device to learn and optimize its if frequency selection to avoid spurs, harmonics and digital noise. For each IF frequency programmed into the transceiver components, the external processing device can measure the strength of the spurious signals. The external processing device can then make a decision about which IF to use and program the transceiver components to the one with the minimum noise signal strength.</p>
<p id="p-0362" num="0361">The external processing device can employ a variety of algorithms during the frequency-hopping mode. By way of example, two transceivers in communication with each other is one approach. A first transceiver acts as a master and a second transceiver acts as a slave. The master transceiver receives a slave's response to a previously transmitted signal. The external processing device for the master examines the bit error measurement and subsequently programs the IF to provide the best performance.</p>
<p id="p-0363" num="0362">The third data packet can be a single segment of data with a header or preamble identifying the LO generator for programming each divider. Alternatively, the third data packet can include any number of data segments with, in one embodiment, different programming data for each divider in the LO generator. Each data segment would include a header or preamble identifying a specific divider in the LO generator.</p>
<p id="p-0364" num="0363">The fourth data packet generated and transmitted by the output register <b>909</b> could include the programming data output from the demodulator register <b>904</b> with the appropriate header or preamble.</p>
<p id="p-0365" num="0364">The output of the complex bandpass filter register <b>904</b> can be combined with the output from the RC calibration circuit <b>907</b> to form the first segment of the fifth data packet. The output of the complex bandpass filter register <b>904</b> can also be combined with the output of the bandgap calibration circuit <b>908</b> to form the second segment of the fifth data packet. Each segment can have its own header or preamble indicating the type of calibration data for the complex bandpass filter.</p>
<p id="p-0366" num="0365">The sixth data packet generated and transmitted by the output register <b>909</b> can be the output data from the AGC register <b>905</b> accompanied by a header or preamble identifying the data packet for the programmable multiple stage amplifier in the receiver.</p>
<p id="p-0367" num="0366">The output of the polyphase filter register <b>906</b> can be combined with the output from the RC calibration circuit <b>907</b> to form the first segment of the seventh data packet. The output of the polyphase filter register <b>906</b> can also be combined with the output of the bandgap calibration circuit <b>908</b> to form the second segment of the seventh data packet. Each segment can have its own header or preamble indicating the type of calibration data for the polyphase filter.</p>
<p id="p-0368" num="0367">Finally, the output register <b>907</b> can configure additional data packets from the output of the RC calibration circuit <b>907</b> and, in separate data packets, the output of the bandgap calibration circuit <b>908</b> with appropriate headers or preambles.</p>
<p id="p-0369" num="0368">As those skilled in the art will appreciate, other data transmission schemes can be used. By way of example, the separate output registers for each transceiver component could be used. In this embodiment, each output register would be directly connected to one or more transceiver components.</p>
<heading id="h-0032" level="1">4.1 RC Calibration Circuit</heading>
<p id="p-0370" num="0369">RC calibration circuits can provide increased accuracy for improved performance. Embodiments of the present invention that are integrated into a single IC can utilize RC calibration to compensate for process, temperature, and power supply variation. For example, variations in the absolute value of the RC circuit in a complex filter can limit the amount of rejection that the filter can provide. In the described exemplary embodiments of the present invention, an RC calibration circuit in the controller can provide dynamic calibration of every RC circuit by providing a control word to the transmitter, receiver and LO generator.</p>
<p id="p-0371" num="0370"><figref idref="DRAWINGS">FIG. 39</figref> shows an exemplary RC calibration circuit in accordance with an embodiment of the present invention. The calibration circuit uses the reference clock from the LO generator to generate a 4-bit control word using a compare-and-increment loop until an optimum value is obtained. The 4-bit control provides an efficient technique for calibrating the RC circuits of the transceiver with a maximum deviation from its optimal value of only 5%.</p>
<p id="p-0372" num="0371">Transistors <b>172</b>, <b>174</b>, <b>176</b>, <b>178</b>, <b>180</b>, <b>182</b> form a cascode current source with a reference current I<sub>REF </sub><b>184</b>. With the gates of the transistors <b>172</b> and <b>178</b> tied to their respective sources, a fixed reference current I<sub>REF </sub><b>184</b> can be established. By tying the gates of the transistors <b>174</b>, <b>180</b> to the gates of the transistors <b>172</b>, <b>178</b>, respectively, the current through resistor R<sub>C </sub><b>186</b> can be mirrored to I<sub>REF </sub><b>184</b>. Similarly, by tying the gates of the transistors <b>176</b>, <b>182</b> to the gates of the transistors <b>174</b>, <b>180</b>, respectively, the current through resistor R<sub>C </sub><b>186</b> can be mirrored to a tunable capacitor C<sub>C </sub><b>188</b>. The calibration circuit tunes the absolute value of the RC to a desired frequency by using this cascode-current source to provide identical currents to the on-chip reference resistor R<sub>C </sub><b>186</b> and to the tunable capacitor C<sub>C </sub><b>188</b> generating the voltages V<sub>RES </sub><b>190</b> and V<sub>CAP </sub><b>192</b>, respectively. Embodiments of the present invention that are integrated into a single IC can use an off-chip reference resistor R<sub>c </sub>to obtain greater calibration accuracy. The current through the tunable capacitor is controlled by a logic control block <b>195</b> via switch S<sub>2 </sub><b>193</b>. During the charging phase, switch S<sub>2 </sub><b>193</b> is closed and switch S<sub>1 </sub>is open to charge the tunable capacitor C<sub>C </sub><b>188</b> to V<sub>CAP</sub>. The voltage held on the tunable capacitor <b>188</b> V<sub>CAP </sub>is then compared, using a latched comparator <b>198</b>, to a voltage generated across the reference resistor <b>186</b>. The value of the tunable capacitor C<sub>c </sub><b>188</b> is incremented in successive steps by the logic control block <b>195</b> until the voltage held by the tunable capacitor C<sub>C </sub>matches the voltage across the reference resistor <b>186</b>, at which point the 4-bit control word for optimal calibration of the RC circuits for the transmitter, receiver, and LO generator is obtained. More particularly, one the voltage V<sub>CAP </sub>reaches the voltage V<sub>RES</sub>, the output of the comparator output <b>198</b> switches. The switched comparator output is detected by the control logic <b>195</b>. The control logic <b>195</b> opens switch S<sub>2 </sub><b>193</b> and closes switch S<sub>1 </sub><b>194</b> causing the tunable capacitor <b>188</b> C<sub>C </sub>to discharge. The resultant 4-bit control word is latched by the control logic <b>195</b> and coupled to the transceiver, receiver, and LO generator.</p>
<p id="p-0373" num="0372">C<sub>P </sub><b>200</b> compensates for the parasitic capacitance loading of the capacitive branch. By choosing C<sub>c </sub><b>188</b> to be much larger than C<sub>p </sub><b>200</b>, the voltage error at node V<sub>CAP </sub><b>192</b> caused by charging the parasitic capacitance becomes negligible.</p>
<p id="p-0374" num="0373">The clock signals used by the calibration circuit are generated by first dividing the reference clock down in frequency, and then converting the result into different phases for the charging, comparison, increment, and discharging phases of calibration. Embodiments of the present invention that are integrated onto a single IC can obtain an accurate RC value because capacitor scaling and matching on the same integrated circuit can be well-controlled with proper layout technique. The described RC calibration circuit provides an RC-tuning range of approximately +40%, which is sufficient to cover the range of process variation typical in semiconductor fabrication.</p>
<heading id="h-0033" level="1">4.2 RC Calibration Circuit Using Polyphase Filtering</heading>
<p id="p-0375" num="0374">An RC calibration circuit using polyphase filtering is an alternative method for calibrating RC circuits in the transmitter, receiver, and LO generator. The RC calibration using polyphase filtering circuit includes an auto-calibration algorithm in which the capacitors or the RC circuits in the transceiver, receiver and LO generator can be calibrated with a control word generated by comparing the signal attenuation across two tunable polyphase filters. The calibrated RC value obtained as a result of this algorithm is accurate to within ±5% of its optimal value.</p>
<p id="p-0376" num="0375"><figref idref="DRAWINGS">FIG. 40</figref> shows an exemplary embodiment of the RC calibration circuit using polyphase filtering. The RC calibration circuit uses the reference clock from the LO generator to adjust the RC value in two polyphase filters <b>280</b>, <b>282</b> in successive steps until an optimum value has been selected. In this process, the two polyphase filters <b>280</b>, <b>282</b> provide signal rejection that is dependent upon the value of ω=(RC)<sup>−1 </sup>to which they are tuned by control logic <b>286</b>. Initially, the first filter (Polyphase A) <b>280</b> is tuned to a frequency less than the frequency of the reference clock (reference frequency), and the second filter (Polyphase B) <b>282</b> is tuned to a frequency greater than the reference frequency by control logic <b>286</b>. The signals at the outputs of the polyphase filters are detected with a received-signal-strength-indicator (RSSI) block <b>284</b>, <b>285</b> in each path. A filter is coupled to RSSI block <b>284</b> and the polyphase B filter is coupled to RSSI block <b>285</b>.</p>
<p id="p-0377" num="0376">With an input dynamic range of 50 dB, the RSSI circuit is designed to detect the levels of rejection provided by the polyphase filtering. The outputs of RSSI block <b>284</b> and RSSI block <b>285</b> are coupled to a comparator <b>280</b> where the level of signal rejection of each polyphase filter is compared by comparator <b>280</b>. The outputs of the RSSI blocks are also coupled to the control logic <b>286</b>. The control logic <b>286</b> determines from the RSSI outputs which polyphase filter has a lower amount of signal suppression. Then, the control logic <b>286</b> adjusts the frequency tuning of that filter in an incremental step via the control logic <b>286</b>. This is done by either increasing the tuned frequency of the first filter (polyphase A) filter <b>280</b>, or by decreasing the tuned frequency of the second filter (polyphase B) <b>282</b> by changing the appropriate 4-bit control word. This process continues in successive steps until the 4-bit control word in each branch are identical, at which point, the RC values of the two polyphase filters are equal. This results in a change of state of the comparator <b>288</b> output. The change in state of the comparator output disables the control logic <b>286</b> locking up the 4-bit control word for optimum calibration of the RC circuits in the transmitter, receiver and LO generator. The 4-bit control word provides a maximum deviation of only ±5%.</p>
<p id="p-0378" num="0377">In the described exemplary embodiment, the frequency of the input signal X<sub>IN </sub>is derived from the reference frequency and is chosen to be, by way of example, 2 MHz. This input signal X<sub>IN </sub>is obtained by initially dividing the reference clock down in frequency, followed by a conversion into quadrature phases at the control logic <b>286</b>. By dividing the reference clock by a factor greater than two with digital flip-flops (not shown), the input signal at X<sub>IN </sub>is known to be differential with well-defined quadrature phases.</p>
<p id="p-0379" num="0378">Two branches of polyphase filtering are used in this algorithm. Two 4-bit control words are used to control the value of the capacitances in each polyphase filter. The initial control words set the capacitance in the first filter (Polyphase A) to its maximum value and the capacitance in the second filter (Polyphase B) to its minimum value. This provides an initial condition in which the filters have maximum signal suppression set at frequencies (ω<sub>low </sub>and ω<sub>high</sub>) that are approximately ±40% of the frequency of the input signal X<sub>IN </sub>for the case of nominal process variation. For a sinusoidal input X<sub>IN</sub>, the calibration circuit depicted in <figref idref="DRAWINGS">FIG. 40</figref> would require only a single-stage polyphase filter in each branch. The single-stage filters would attenuate the sinusoid input signal, generating outputs at X<sub>A </sub>and X<sub>B </sub>with the dominant one still at the same frequency as the input signal. However, the reference clock from the LO generator is a digital rail-to-rail clock. Because the input is not a pure sinusoid, multiple-stage filters may provide greater calibration accuracy. In the case of a single-stage filter with a digital clock, the filter would suppress the fundamental frequency component at ω<sub>in </sub>to a significant degree but the harmonics would pass through relatively unaffected. The RSSI block would then detect and limit the third harmonic component of the input signal at 3ω<sub>in</sub>, as it becomes the dominant frequency component after the fundamental is suppressed. This could result in an inaccurate calibration code.</p>
<p id="p-0380" num="0379">A three-stage polyphase filter can be used in each branch to suppress the fundamental frequency component of X<sub>IN </sub>as well as the 3rd and 5th harmonics. The first stage of the polyphase filter can provide rejection of the fundamental frequency component. The second stage can provide rejection of the 3rd harmonic. The third stage can provide rejection of the 5th harmonic. At the same time, the higher harmonics of the input signal X<sub>IN </sub>can be suppressed with an RC lowpass filter in a buffer (not shown) preceding the polyphase filters. As a result, the dominant frequency component of the signals X<sub>A </sub>and X<sub>B </sub>remains at the input frequency ω<sub>in</sub>, which is then properly detected by the RSSI blocks.</p>
<p id="p-0381" num="0380">A calibration clock used for the control logic runs at a frequency of 250 kHz. The reference clock can be divided down inside the controller, or alternatively in the control logic. This clock frequency has been selected to allow the RSSI outputs to settle after the capacitance value in one of the polyphase filters has been incremented or decremented. For a clock frequency of 250 kHz and a 4-bit control word generating 2<sup>4 </sup>possible capacitance values, the calibration is completed within (250 kHz)<sup>−1</sup>(2<sup>4</sup>−1)=60 μs. During the calibration process the calibration circuitry draws 4 mA from a 3-V supply, and the RC calibration circuitry can be powered down when the optimal RC value has been selected to reduce power consumption.</p>
<heading id="h-0034" level="1">4.3 The Capacitor Array</heading>
<p id="p-0382" num="0381">In the transmitter, receiver and LO generator, metal-insulator-metal (MIM) capacitors can be used as the calibration component for the RC circuits. As those skilled in the art will appreciate, other capacitor technologies may be used. The MIM capacitors are generally characterized by a low bottom-plate parasitic capacitance to substrate of 1%.</p>
<p id="p-0383" num="0382">A parallel capacitor array can be used in calibrating each RC circuit as shown in <figref idref="DRAWINGS">FIG. 41</figref>. The parallel array is much smaller in area than a series array for the same capacitor value.</p>
<p id="p-0384" num="0383">Complementary MOS switches or other switches known in the art, can be used in the capacitor array. The capacitor array can include any number of capacitors. In the exemplary embodiment, the capacitor array capacitors <b>290</b>, <b>292</b>, <b>294</b>, <b>296</b>, <b>298</b> are connected in parallel. Switches <b>300</b>, <b>302</b>, <b>304</b>, <b>306</b> are used to switch the capacitors <b>292</b>, <b>294</b>, <b>296</b>, <b>298</b>, respectively, in and out of the capacitor array. In the described embodiment, capacitor <b>290</b> is a 2.4 pF, capacitor <b>292</b> is 2.4 pF, capacitor <b>294</b> is 1.2 pF, capacitor <b>296</b> is 0.6 pF, capacitor <b>298</b> is 0.3 pF. The switch positions are nominally selected to produce an equivalent capacitance equal to 4.8 pF. A code of “0111” means that capacitors <b>294</b>, <b>296</b>, <b>298</b> are switched out of the capacitor array and capacitors <b>290</b>, <b>292</b> are in parallel.</p>
<p id="p-0385" num="0384">The switches can be binary-weighted in size and the switch sizes can be chosen according to tradeoffs regarding parasitic capacitances and frequency limitations based on the on-resistance of the CMOS switches. The capacitive error resulting from the parasitic capacitance in each capacitive array does not result in frequency error between the three polyphase stages of the RC calibration circuit in the controller. This is because by using same capacitor array in each filter, and by scaling the resistance accordingly in each case. Scaling resistances, relative to those in the fundamental polyphase filter, by factors of 1/3 and 1/5 in the 3<sup>rd </sup>and 5<sup>th </sup>harmonic filters respectively, are achieved with a high degree of accuracy with proper layout. Similarly, RC tuning in all other blocks utilizing the calibrated code is optimized when an identical capacitive array is used, scaling only the resistance value in tuning to the desired frequency. The capacitors in the capacitive arrays are laid out in 100 fF increments to improve the matching and parasitic fringing effects.</p>
<heading id="h-0035" level="1">4.4 Bandgap Calibration Circuit For Accurate Bandgap Reference Current</heading>
<p id="p-0386" num="0385">In accordance with an exemplary embodiment of the present invention, a bandgap reference current is generated by a bandgap calibration circuit. The bandgap reference current is used by the receiver, transmitter, and LO generator to set amplifier gains and voltage swings. The bandgap calibration circuit generates an accurate voltage and resistance. An accurate bandgap reference current results from dividing the accurate voltage by the an accurate resistance.</p>
<p id="p-0387" num="0386">Bandgap calibration circuits can provide increase accuracy for improved performance. Embodiments of the present invention that are integrated onto a single IC can utilize bandgap calibration circuits to compensate for process, temperature, and power supply variations. For example, variations in the absolute value of the resistance in a bandgap reference may result in deviations from optimal performance in sensitive circuitry that rely on accurate biasing conditions. In the described exemplary embodiment of the transceiver, a bandgap calibration circuit in the controller <b>16</b> provides an effective technique for self-calibration of resistance values in the transmitter, receiver and LO generator. The calibrated resistance values obtained as a result of the algorithm employed in the bandgap calibration circuit generate a bias current that varies by only ±2% over typical process, temperature, and supply variation.</p>
<p id="p-0388" num="0387">Embodiments of the present invention which are integrated into a signal IC can use the described bandgap calibration circuit to provide accurate on-chip resistors by comparing the on-chip resistances to an off-chip reference resistor with a low tolerance of 1%. Using this method, trimming of on-chip resistance values with a total tolerance of 2% can be achieved.</p>
<p id="p-0389" num="0388"><figref idref="DRAWINGS">FIG. 42</figref> shows an exemplary embodiment of the bandgap calibration circuit. The bandgap calibration circuit uses the reference clock provided from the LO generator and a reference resistor R<sub>REF </sub><b>236</b> to adjust a tunable resistance value R<sub>POLY </sub><b>238</b> in a compare-and-increment loop until an optimum value is obtained. In embodiments of the present invention which are integrated into a single IC, the reference resistor R<sub>REF </sub><b>236</b> can be off-chip to provide improved calibration accuracy. A 4-bit control word is output to accurately calibrate the resistors in the transmitter, receiver and LO generator within ±2%. Transistors <b>227</b>, <b>226</b>, <b>228</b>, <b>230</b>, <b>232</b>, <b>234</b> form a cascode current with a reference current I<sub>REF</sub>. The transistors <b>224</b>, <b>230</b> each have their gates tied to their respective sources to set up the reference current I<sub>REF</sub>. By tying the gates of the transistors <b>224</b>, <b>230</b>, respectively to the gates of the transistors <b>226</b>, <b>232</b>, the reference current I<sub>REF </sub>is mirrored to the reference resistor R<sub>REF 236</sub>. Similarly, by tying the gates of the transistors <b>228</b>, <b>234</b>, respectively to the gates of the transistors, the reference current I<sub>REF </sub>is also mirrored to the tunable resistor R<sub>POLY </sub><b>238</b>. The voltage generated across the tunable resistor R<sub>POLY </sub><b>238</b> is compared, using a latched comparator <b>240</b>, to the voltage generated across the reference resistor R<sub>REF </sub><b>236</b>. The value of the tunable resistor R<sub>POLY </sub><b>236</b> is incremented in successive steps, preferably, every 0.5 μs, through the utilization of control logic <b>242</b> that is clocked, by way of example, at 2 MHz. This process continues until the voltage V<sub>POLY </sub>across the tunable resistor R<sub>POLY </sub><b>238</b> matches the voltage V<sub>REF </sub>across the off-chip reference resistor R<sub>REF </sub><b>236</b> causing the output of the comparator to change states and disable the control logic <b>242</b>. Once the control logic is disabled, the 4-bit control word can be used to accurately calibrate the resistors in the transmitter, receiver and LO generator.</p>
<p id="p-0390" num="0389">The clock signals used by the calibration circuit are generated by first dividing the reference clock input into the controller from the LO generator down in frequency, and then converting the result into different phases for the comparison and increment phases of calibration. This bandgap calibration circuit provides accurate resistance values for use in various on-chip circuit implementations because resistor scaling and matching on the same integrated circuit can be well controlled with proper layout techniques. The bandgap calibration circuit provides a resistor tuning range of approximately +30%, which is sufficient to cover the range of process variation typical in semiconductor fabrication. With a 4-bit control word generating 24 possible resistance values, the calibration is completed within
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>(2 MHz)−1(24−1)=7.5 ms.<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The calibration circuit can be powered down when the optimal resistance value has been obtained.
</p>
<p id="p-0391" num="0390">The bandgap calibration circuit can be used for numerous applications. By way of example, <figref idref="DRAWINGS">FIG. 43</figref> shows a bandgap calibration circuit <b>244</b> used in an application for calibrating a bandgap reference current that is independent of temperature. The 4-bit control word from the bandgap calibration circuit is coupled, by way of illustration, to the receiver. The 4-bit control word is used to calibrate resistances in a proportional-to-absolute-temperature (PTAT) bias circuit <b>246</b>, and also in a V<sub>BE </sub>(negative temperature coefficient) bias circuit <b>248</b>. The outputs of these blocks are two bias voltages, V<sub>P </sub><b>250</b> and V<sub>N</sub>, <b>252</b> that generate currents exhibiting a positive temperature coefficient, and a negative temperature coefficient, respectively. When these currents are summed together using the cascode current mirror formed by transistors <b>254</b>, <b>256</b>, <b>258</b>, <b>260</b>, the result is a current I<sub>OUT </sub>displays a (ideally) zero temperature coefficient.</p>
<heading id="h-0036" level="1">4.5 Resistor Array</heading>
<p id="p-0392" num="0391">In the transmitter, receiver and LO generator non-silicided polysilicon resistors can be used. As those skilled in the art will appreciate, other resistor technologies can also be used. Non-silicided polysilicon resistors have a high sheet resistance of 200-Ω/square along with desirable matching properties. A switching resistor array as shown in <figref idref="DRAWINGS">FIG. 44</figref> can be used to calibrate a resistor. The array includes serial connected resistors <b>208</b>, <b>210</b>, <b>212</b>, <b>214</b>, <b>216</b>, which, by way of example, have resistances of 2200Ω, 1100Ω, 550Ω, 275Ω, and 137Ω, respectively. The resistors <b>210</b>, <b>212</b>, <b>214</b>, <b>216</b> include a bypass switch for switching the resistors in and out of the array. The switch positions are nominally selected to produce an equivalent of 3025 Ω. This resistance value has been chosen as a convenience to match the value used in generating an accurate bandgap reference current. A 4-bit calibration code <b>206</b> is used to control the total resistance in this array. As seen in <figref idref="DRAWINGS">FIG. 44</figref>, the resistances are binary-weighted in value and the accurate scaling of each incremental resistance results by placing the largest resistor (2200 Ω) <b>208</b> in series to generate each value. In the described embodiment, the incremental resistances shown in <figref idref="DRAWINGS">FIG. 44</figref> are chosen so that the total resistance in the array covers a range 30% above and below its nominal value, with a maximum resistance error of +2% determined by the incremental resistance switched by the LSB. The range of resistance covered by the array is sufficient to cover typical process variations in a semiconductor process. A series resistive array may be desirable opposed to a parallel resistive array because of the smaller area occupied on the wafer.</p>
<p id="p-0393" num="0392">CMOS switches are one of several different types of switch technology that can be used. The sizing of the switches entails a tradeoff between the on-resistance of each switch and the frequency limitations that result from the parasitic capacitances associated with each switch. For calibration resistors in the bandgap reference circuits, large switches are used to minimize the effect of the on-resistance of each switch, as frequency limitations are not a concern for this application.</p>
<heading id="h-0037" level="1">5.0 FLOATING MOSFET CAPACITORS</heading>
<p id="p-0394" num="0393">Embodiments of the present invention that are integrated into a single IC can be implemented with a variety of technologies including, by way of example, CMOS technology. Heretofore, CMOS capacitors between two nodes with similar voltages (i.e., floating capacitors) have been problematic. In the described exemplary embodiment of the present invention, a MOS capacitor is used between two nodes having similar voltages for signals with no DC information. The capacitor is made of two MOS capacitors in series with a large resistor in between to ground for biasing.</p>
<p id="p-0395" num="0394"><figref idref="DRAWINGS">FIG. 45</figref> is a block diagram of the Floating MOS capacitor in accordance with an embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 45</figref>, the capacitor comprises two similar devices <b>858</b>, <b>860</b> in series. Each MOS transistor has its source and drain connected together. The connected drain-source terminal of the MOS transistor <b>858</b> constitutes the input of the CMOS capacitor and the connected drain-source terminal of the MOS transistor <b>860</b> constitutes the output of the CMOS capacitor. The gates of each MOS transistor are connected through a common resistor <b>862</b> to a bias source (not shown).</p>
<heading id="h-0038" level="1">6.0 DUPLEXING</heading>
<p id="p-0396" num="0395">In an alternative embodiment of the present invention, an integrated matching circuit can be used to connect the LNA in the receiver to the PA in the transmitter. As the level of integration in radio communication circuits tend to grow, more functions are embodied on the same chip and off-chip components are used less than ever. Presence of external components not only augments the manufacturing costs, but also increases the pin count on the main chip. The antenna switch is an example of such components. This switch is used to connect the receiver to antenna in reception mode and the transmitter to antenna in transmission mode. In the described exemplary embodiment of the present invention, the antenna switch can be eliminated, and the input of the receiver can be tied to the output of the transmitter. This approach has various applications including, but not limited to, single chip integration.</p>
<p id="p-0397" num="0396">Since the antenna is usually single-ended, differential applications generally require a mechanism to convert the antenna signal from single-ended to differential for connection to the differential low noise amplifier (LNA) or the differential PA. The circuit implementation for a single-ended to differential LNA is shown in <figref idref="DRAWINGS">FIGS. 46 and 47</figref>. LC circuit, <b>646</b>, <b>648</b> and the CL circuit <b>652</b>, <b>650</b> matches the PA to the antenna when the PA is on and the LNA is off (as shown in <figref idref="DRAWINGS">FIG. 46</figref>), and matches the LNA to the antenna when the LNA is on and the PA is off (as shown in <figref idref="DRAWINGS">FIG. 47</figref>). Since the LNA is off and it only introduces a capacitive loading to the PA. The matching circuit can be designed to compensate for this additional capacitance.</p>
<p id="p-0398" num="0397">In operation, during the transmit mode, a differential voltage across the drains of the PA transistors <b>634</b>, <b>632</b> is generated. The two drains assert 180-degree out of phase voltages and they are combined through the LC and CL matching circuits to yield a single-ended voltage at the output. The LC circuit shifts the phase of the output signal from the transistor <b>634</b> by 90 degrees. The CL circuit shifts the phase of the signal output from the transistor <b>632</b> by 90 degrees in the opposite direction. Consequently, both signals are in-phase when combined at the output of the matching circuits.</p>
<heading id="h-0039" level="1">7.0 AN INTEGRATED CIRCUIT TRANSCEIVER </heading>
<p id="p-0399" num="0398">As those skilled in the art will appreciate, the exemplary embodiments described thus far can be integrated into a singe IC, implemented with discrete hardware components, or be any combination of the two. However, due to the high cost, size and power consumption of currently available transceivers, embodiments of the present invention incorporated into a single integrated circuit provides an economically viable approach. For these integrated circuit applications, a number of techniques can be employed to suppress noise coupling.</p>
<p id="p-0400" num="0399"><figref idref="DRAWINGS">FIG. 48</figref><i>a </i>is a block diagram illustrating typical noise coupling paths <b>2</b> present on integrated circuit substrate <b>1</b> incorporating digital, analog and RF circuitry. A single chip <b>1</b> integration of analog <b>5</b> digital <b>6</b> and radio frequency <b>3</b>, <b>4</b> functions on a single integrated circuit <b>1</b> is desirable in applications such as a fully integrated transceiver circuit. In the fully integrated embodiments of the present invention, a silicon substrate <b>1</b> includes an integrated transceiver (as shown in <figref idref="DRAWINGS">FIG. 1</figref><i>a</i>) typically incorporating circuit functions <b>3</b>,<b>4</b>,<b>5</b>,<b>6</b>,<b>7</b> shown in <figref idref="DRAWINGS">FIG. 48</figref><i>a</i>. Circuit function are often classified according to the types of signals present in performing a given function. A transceiver typically processes and generates digital, analog and radio frequency signals. As shown in <figref idref="DRAWINGS">FIG. 48</figref><i>a</i>, radiation and conduction mechanisms <b>2</b> tend to create a cross-talk coupling mechanism that allows unwanted signals to be injected at various undesired locations on the integrated circuit <b>1</b>. It is desirable to utilize a method of integrated circuit construction that tends to eliminate cross-talk and the coupling paths associated with it.</p>
<p id="p-0401" num="0400">Circuit design techniques that tend to reduce noise coupling include separating the power supply and ground circuits associated with various functional blocks of the integrated circuit, use of a guard ring, including dedicated ground pins that isolate circuit blocks from each other, and the use of differential circuits throughout the chip to increase noise rejection throughout the integrated circuit. Implementation of these methods is achieved by utilizing circuit design techniques known to those skilled in the art. Additional techniques that are the subject of this patent application may be utilized alone or in conjunction with the above-mentioned techniques in order to provide an integrated circuit that tends to have reduced noise and cross-coupling.</p>
<p id="p-0402" num="0401">Three types of noise tend to contribute to the cross-coupling related noise and distortion present on an integrated circuit. The first type of noise includes periodic signals generated by a clock circuit, such as a crystal oscillator, local oscillator, ADC, DAC, or digital circuitry clocks. The second type of noise signal includes non-periodic signals that tend to be caused by data being transmitted at low frequencies and is generated by the introduction of indirect noise. The third type of noise signal is spurious noise, which tends to be generated by clock signals, including local oscillators, and tends to be located at the same frequency as the clock signal and at the harmonics of that clock signal.</p>
<p id="p-0403" num="0402">A spurious noise signal tends to occur in a narrow bandwidth, and possesses a high amplitude. Spurious noise signals tend to be consistently positioned at one or more frequencies, thus making their location predictable. Non-periodic noise signals, generated by data, tend to occur over a broader bandwidth and thus tend to be harder to predict. Indirect noise tends to occur when multiple periodic signals are coupled to a non-linear system. Periodic signals tend to intermodulate causing this intermodulation distortion to interfere with the desired frequency of operation.</p>
<p id="p-0404" num="0403">Frequency planning is a method utilized to minimize spurious noise generation. Careful selection of digital clock frequencies and intermediate frequencies in an Rf circuit tend to reduce spurious noise generation in a desired frequency range. An embodiment of this method includes choosing an intermediate frequency in a radio frequency circuit that is lower than the digital clock frequency present. In an alternate embodiment, the digital clock frequency is set higher than the IF frequency. Utilization of this method tends to ensure that the digital clock signal and its associated harmonics are at a higher frequency than the intermediate frequency preventing the generation of spurious noise through mechanisms known to those skilled in the art.</p>
<p id="p-0405" num="0404">A fully balanced circuit architecture utilizing common mode averaging is another method that tends to minimize spurious noise generation. Periodic clock signals having a large voltage swing, and non-periodic digital data tend to generate spurious noise. A method of reducing spurious noise generated by these signals includes elimination or reduction of sharp current spikes, cause by these signals, from reaching power supply and ground circuitry. By combining a differential circuit architecture with circuitry providing a common mode averaging, spurious noise generated by large swing periodic clocks and non-periodic digital data tends to be reduced. Differential architectures are effective at frequencies where phase relation between a plus and a minus input that comprise a differential input is maintained at 180°. A phase difference that varies negligibly from 180° at a fundamental frequency is magnified at one or more harmonic frequencies in relation to a harmonic index, or order. Thus, the harmonic signals generated are often no longer differential in nature. A circuit having a differential architecture and common mode averaging circuitry tends to reduce these non-differential harmonic effects.</p>
<p id="p-0406" num="0405"><figref idref="DRAWINGS">FIG. 48</figref><i>b </i>is a block diagram of a fully balanced circuit utilizing common mode averaging. A circuit incorporating noise rejection mechanisms as shown includes two identical logic gates connected to the power supply V<sub>DD </sub>and ground through two resistors R<b>1</b> and R<b>2</b>. In this circuit configuration, a conventionally constructed differential circuit is coupled between a power supply V<sub>DD </sub>and ground.</p>
<p id="p-0407" num="0406">The differential circuit is conventionally constructed and includes a plus input and a minus input, including signals of substantially equal amplitudes and substantially 180° out of phase relation from each other. The +INPUT signal comprises a voltage +V<sub>IN </sub>and a positive current +I<sub>IN</sub>. The −INPUT includes a negative voltage −V<sub>IN </sub>and a negative current −I<sub>N</sub>. The differential output, OUTPUT, includes a positive output +OUTPUT and a negative output −OUTPUT. The +OUTPUT signal includes a positive output voltage +V<sub>OUT </sub>and a positive output current +I<sub>OUT</sub>. The −OUTPUT includes a negative voltage −V<sub>OUT </sub>and a negative output current −I<sub>OUT</sub>.</p>
<p id="p-0408" num="0407">The differential circuit includes a positive voltage terminal +V and a ground terminal GND indicated by node <b>9</b>. Resistor R<b>1</b> is coupled from the +V terminal of the differential circuit to the supply voltage V<sub>DD</sub>. A second resistor R<b>2</b> is coupled from the ground terminal GND of the differential circuit indicated by node <b>9</b> to a ground connection as indicated at node <b>8</b>. A capacitor C<b>1</b> is coupled across the differential circuit from the differential circuit terminals +V to GND.</p>
<p id="p-0409" num="0408">Capacitor C<b>1</b> is an averaging capacitor selected such that during an input transistor at the plus and minus input terminals, the charge will circulate through the capacitor (charge swapping), and not pull the voltages of the power supply and ground rails. The averaging capacitor is charged such that its voltage is maintained at V<sub>DD </sub>and it thus acts as a battery that maintains a fixed voltage difference between the plus output and the minus output terminals.</p>
<p id="p-0410" num="0409">During the charge swapping described in the previous paragraph, charge lost from capacitor C<b>1</b> is compensated for through a recharging mechanism. Recharge of capacitor C<b>1</b> is controlled by the time constant for the circuit. The time constant is
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>T=</i>(<i>R</i>1)×(<i>R</i>2)×(<i>C</i>1).<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
In the embodiment shown, resistor R<b>2</b> is equal in value to R<b>1</b>. In alternative embodiments, resistors of different values may be utilized. Resistors R<b>1</b>, R<b>2</b> and capacitor C<b>1</b> are chosen such that the time constant, T, of these components is an order of magnitude smaller than half a period of any clock or data signal having a period t (t/2&gt;(R<b>1</b>×R<b>2</b>×C<b>1</b>)).
</p>
<p id="p-0411" num="0410">By utilizing the fully balanced architecture with common mode averaging, movement in the voltage level of the power supply and reference ground is minimized by using capacitor C<b>1</b> for charge storage. Upon transition of circuit state, charge is drawn from capacitor C<b>1</b> rather than instantaneously drawing charge from the supply voltage rail and dumping it to ground.</p>
<p id="p-0412" num="0411"><figref idref="DRAWINGS">FIGS. 48</figref><i>c </i>and <b>48</b><i>d </i>are block diagrams of a fully balanced circuit having a common mode inductive load. High frequency noise is generated typically in an RF local oscillator or from other high amplitude RF signals. Noise from these RF sources tends to be reduced by utilizing a differential circuit as shown in <figref idref="DRAWINGS">FIGS. 48</figref><i>c </i>and <b>48</b><i>d </i>coupled to one or more power supplies through a common mode inductor.</p>
<p id="p-0413" num="0412">The impedance of the added common mode inductor tends to isolate RF local oscillator (LO) injection into the differential circuit through the power supply. Utilization of the inductors in the power supply and ground leads provides a symmetric circuit that tends to eliminate common mode RF signals from being capacitively coupled to one or more previous circuit stages. Elimination of common mode RF signals is desirable to prevent their mixing with other RF signals that tend to be present. Mixing occurs between the spurious RF signals, and desired signals, that are present in non-linear devices such as mixers.</p>
<p id="p-0414" num="0413">In <figref idref="DRAWINGS">FIG. 48</figref><i>c</i>, a conventionally constructed differential circuit, as previously described, is coupled between a power supply V<sub>DD </sub>and ground. Reactances X<b>1</b> and X<b>2</b> are providing in the embodiment shown by inductors. In alternative embodiments, reactances X<b>1</b> and X<b>2</b> are provided by resistors. A positive voltage terminal of the differential circuit +V, is coupled to a first terminal of reactance X<b>1</b>. The second terminal of reactance X<b>1</b> is coupled to power supply V<sub>DD</sub>. The ground terminal of the differential circuit is defined as node <b>9</b> and is coupled to a first terminal of reactance X<b>2</b>. A second terminal reactance X<b>2</b> is coupled to ground at node <b>8</b>.</p>
<p id="p-0415" num="0414"><figref idref="DRAWINGS">FIG. 48</figref><i>d </i>is a block diagram of an alternative embodiment of a fully balanced architecture with a common mode inductive load. In the embodiment shown, a single inductive reactance X<b>3</b> is utilized to improve common mode rejection. A conventionally constructed differential circuit, as previously described, is coupled between power supply V<sub>DD </sub>and ground. The input voltage terminal +V of the differential circuit is coupled to a first terminal of reactance X<b>3</b>. A second terminal of reactance X<b>3</b> is coupled to the supply voltage V<sub>DD</sub>. Ground terminal GND of the differential circuit is coupled to ground.</p>
<p id="p-0416" num="0415">Design techniques that slow the transition edges of digital signals while changing state tends to reduce distortion present in the circuit. This technique is useful in all digital circuits, and especially in digital I/O buffers. Slowing transition edges is achieved by damping the rate at which capacitors associated with the circuitry are charged or discharged. Slowing the rise time of the digital signals and clocks reduces the number of harmonic related spurs that would otherwise tend to be coupled to the substrate or power supply. The method described of slowing transition edges applied to both periodic and non-periodic signals.</p>
<p id="p-0417" num="0416">The reduction of noise generation, as previously described, tends to make the integrated circuit more immune to the pick-up of noise signals. A second family of techniques involves reducing the sensitivity of analog and RF circuitry to spurious noise.</p>
<p id="p-0418" num="0417">Returning to <figref idref="DRAWINGS">FIGS. 48</figref><i>c </i>and <b>48</b><i>d </i>of a fully balanced architecture having common mode inductive load, the use of these circuits in minimizing the sensitivity of analog and RF circuits to spurious noise is described. Circuit inputs and output are typically single-ended. Conventionally constructed fully balanced circuits are used in the embodiment of a transceiver shown to avoid the pickup of spurious noise signals. In the embodiment of the invention, having single-ended external connections available to an input, output or both, a conventional single-ended to differential circuit is added at each single-ended to differential interface.</p>
<p id="p-0419" num="0418">By converting the single-ended signal to a balanced signal throughout its routing on the transceiver chip, a high immunity to power supply and common mode ground noise is maintained. As shown in <figref idref="DRAWINGS">FIGS. 48</figref><i>c </i>and <b>48</b><i>d</i>, the differential circuits embodiments utilize an inductive common mode loads X<b>1</b>, X<b>3</b> at the power supply and ground connections. Inductive loads minimize noise pickup from the power supply.</p>
<p id="p-0420" num="0419">The inductive common mode loads also tend to reduce noise present in the power supply leads. Suppression of common mode noise is important because common mode noise tends to mix with differential signals present in the circuit through non-linear mechanisms as known to those skilled in the art. The mixing process causes the creation of differential spurious signals. For example, common mode differential noise coupling from an RF transmitter to an RF local oscillator may result in oscillator pulling. Pulling will occur if the common mode noise is mixed with the oscillator frequency, generating spurious noise close to the oscillator frequency.</p>
<p id="p-0421" num="0420"><figref idref="DRAWINGS">FIG. 48</figref><i>e </i>is a block diagram of a full balanced architecture having an AC coupled tail current source coupled to ground. Transistor M<b>1</b> forms a tail current source having its gate AC coupled to ground by capacitor C<b>2</b>. AC coupling the gate to ground eliminates common mode low impedance paths from the ground to the output. Noise is picked up typically through the ground as the ground reference potential varies from noise spikes. Any change in the potential of the ground is transferred to the gate of current source M<b>1</b>. Coupling the gate and source of M<b>1</b> causes their potential to track each other, tending to prevent the transmission of noise through common mode noise pickup from the ground. Common mode signal rejection is important since common mode signals injected into the differential circuit tend to mix with other differential signals in non-linear devices typically present in the differential circuit. The mixing generates end-band differential spurious signals that are undesirable.</p>
<p id="p-0422" num="0421">Resistor R<b>3</b> and capacitor C<b>2</b> act in cooperation to filter high frequency noise that tends to be produced by the bias generator circuit. Additionally, high frequency modulated signals emanating from the differential circuit are coupled to ground via capacitor C<b>2</b>, preventing them from interfering with the operation of the bias generator.</p>
<p id="p-0423" num="0422">The fully balanced differential circuit having an AC coupled tail current source includes a resistor R<b>4</b> coupled between a voltage source V<sub>DD </sub>and differential circuit power supply terminal +V. A ground terminal GND of the differential circuit is coupled to the drain of a field effect (FET) transistor M<b>1</b>. The source of M<b>1</b> is coupled to ground at node <b>8</b>. The gate of M<b>1</b> is coupled to a first terminal of resistor R<b>3</b> and a first terminal of capacitor C<b>2</b>. A second terminal of capacitor C<b>2</b> is coupled to ground node <b>8</b>. A second terminal of resistor R<b>3</b> is coupled to a conventionally constructed bias generator circuit.</p>
<p id="p-0424" num="0423"><figref idref="DRAWINGS">FIG. 48</figref><i>f </i>is a block diagram of a differential logic circuit utilizing the noise reduction scheme of <figref idref="DRAWINGS">FIG. 48</figref><i>b</i>. Dual inverter logic circuits are coupled between +V and −V connections in the differential circuit. Capacitor C<b>1</b> is coupled from the +V and −V terminals. Resistor R<b>1</b> is coupled between the +V terminal and a power supply terminal V<sub>DD</sub>. Resistor R<b>2</b> is coupled between the −V terminal and the −V<sub>DD </sub>power supply.</p>
<p id="p-0425" num="0424">A fully balanced differential circuit is conventionally constructed as known by those skilled in the art to achieve a desired circuit function. The input and the circuitry in the differential circuit operate fully differentially having an output that is converted internally inside of the differential circuit into a single-ended output. In alternative embodiments, the output is maintained as a differential signal.</p>
<p id="p-0426" num="0425">Utilization of distributed filtering and amplification tends to minimize noise pickup. Once a signal is down-converted by one or more mixers to an IF frequency, a typical first circuit element encountered in an IF frequency strip of circuitry is a bandpass filter. A bandpass filter typically eliminates out-of-band noise signals that tend to interfere with signal processing in the IF strip. Alternatively, circuitry in the IF strip often has a designed bandwidth that tends to eliminate interference outside of the IF frequency band. Once a signal has been converted to an intermediate frequency (IF), the intermediate frequency should be maintained at a high level so it may be easily distinguished from the noise floor of the receiver.</p>
<p id="p-0427" num="0426">In the embodiment, one or more active filter stages are provided to filter out unwanted spurious signals and to amplify the intermediate frequency signal in multiple stages. Alternatively, filtering is provided by one ore more cascaded LC filters operating in cooperation with one or more cascaded amplifier circuits. Cascaded filters improve the selectivity with each active filter added to the IF strip. In the described embodiment, a signal-to-noise ratio of typically 30 to 40 dB is achieved.</p>
<p id="p-0428" num="0427">Often a spurious signal will fall within the band of IF frequencies being amplified. The IF strip typically includes circuitry having high gain. The spurious signal will typically intermodulate with the intermediate frequency, causing a high amplitude intermodulation distortion product to be formed that has the effect of reducing overall receiver sensitivity. The utilization of multiple stages of active filters distributes the gain over the several stages and thus reducing the non-linearity of the active filter stages. Distribution gain stages and filtering will thus tend to reduce and remove spurious signals generated through intermodulation.</p>
<p id="p-0429" num="0428">Although a preferred embodiment of the present invention has been described, it should not be construed to limit the scope of the appended claims, For example, the present invention can be into a single integrated circuit, can be constructed from discrete components, or can include one or more integrated circuits supported by discrete components. Those skilled in the art will understand that various modifications may be made to the described embodiments. Moreover, to those skilled in the various arts, the invention itself herein will suggest solutions to other tasks and adaptations for other applications. It is therefore desired that the present embodiments be considered in all respects as illustrative and not restrictive, reference being made to the appended claims rather than the foregoing description to indicate the scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07299006-20071120-M00001.NB">
<img id="EMI-M00001" he="15.92mm" wi="76.20mm" file="US07299006-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US07299006-20071120-M00002.NB">
<img id="EMI-M00002" he="7.03mm" wi="76.20mm" file="US07299006-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US07299006-20071120-M00003.NB">
<img id="EMI-M00003" he="7.03mm" wi="76.20mm" file="US07299006-20071120-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US07299006-20071120-M00004.NB">
<img id="EMI-M00004" he="7.03mm" wi="76.20mm" file="US07299006-20071120-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US07299006-20071120-M00005.NB">
<img id="EMI-M00005" he="6.35mm" wi="76.20mm" file="US07299006-20071120-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US07299006-20071120-M00006.NB">
<img id="EMI-M00006" he="19.05mm" wi="76.20mm" file="US07299006-20071120-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US07299006-20071120-M00007.NB">
<img id="EMI-M00007" he="6.69mm" wi="76.20mm" file="US07299006-20071120-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US07299006-20071120-M00008.NB">
<img id="EMI-M00008" he="6.69mm" wi="76.20mm" file="US07299006-20071120-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US07299006-20071120-M00009.NB">
<img id="EMI-M00009" he="6.69mm" wi="76.20mm" file="US07299006-20071120-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US07299006-20071120-M00010.NB">
<img id="EMI-M00010" he="6.69mm" wi="76.20mm" file="US07299006-20071120-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US07299006-20071120-M00011.NB">
<img id="EMI-M00011" he="6.69mm" wi="76.20mm" file="US07299006-20071120-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US07299006-20071120-M00012.NB">
<img id="EMI-M00012" he="9.57mm" wi="76.20mm" file="US07299006-20071120-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US07299006-20071120-M00013.NB">
<img id="EMI-M00013" he="12.70mm" wi="76.20mm" file="US07299006-20071120-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014" nb-file="US07299006-20071120-M00014.NB">
<img id="EMI-M00014" he="22.94mm" wi="76.20mm" file="US07299006-20071120-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00015" nb-file="US07299006-20071120-M00015.NB">
<img id="EMI-M00015" he="9.91mm" wi="76.20mm" file="US07299006-20071120-M00015.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00016" nb-file="US07299006-20071120-M00016.NB">
<img id="EMI-M00016" he="18.03mm" wi="76.20mm" file="US07299006-20071120-M00016.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00017" nb-file="US07299006-20071120-M00017.NB">
<img id="EMI-M00017" he="6.35mm" wi="76.20mm" file="US07299006-20071120-M00017.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00018" nb-file="US07299006-20071120-M00018.NB">
<img id="EMI-M00018" he="15.92mm" wi="76.20mm" file="US07299006-20071120-M00018.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00019" nb-file="US07299006-20071120-M00019.NB">
<img id="EMI-M00019" he="15.49mm" wi="76.20mm" file="US07299006-20071120-M00019.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00020" nb-file="US07299006-20071120-M00020.NB">
<img id="EMI-M00020" he="15.16mm" wi="76.20mm" file="US07299006-20071120-M00020.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00021" nb-file="US07299006-20071120-M00021.NB">
<img id="EMI-M00021" he="6.35mm" wi="76.20mm" file="US07299006-20071120-M00021.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00022" nb-file="US07299006-20071120-M00022.NB">
<img id="EMI-M00022" he="7.03mm" wi="76.20mm" file="US07299006-20071120-M00022.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00023" nb-file="US07299006-20071120-M00023.NB">
<img id="EMI-M00023" he="17.27mm" wi="76.20mm" file="US07299006-20071120-M00023.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00024" nb-file="US07299006-20071120-M00024.NB">
<img id="EMI-M00024" he="7.45mm" wi="76.20mm" file="US07299006-20071120-M00024.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00025" nb-file="US07299006-20071120-M00025.NB">
<img id="EMI-M00025" he="8.47mm" wi="76.20mm" file="US07299006-20071120-M00025.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00026" nb-file="US07299006-20071120-M00026.NB">
<img id="EMI-M00026" he="7.45mm" wi="76.20mm" file="US07299006-20071120-M00026.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00027" nb-file="US07299006-20071120-M00027.NB">
<img id="EMI-M00027" he="7.03mm" wi="76.20mm" file="US07299006-20071120-M00027.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00028" nb-file="US07299006-20071120-M00028.NB">
<img id="EMI-M00028" he="15.16mm" wi="76.20mm" file="US07299006-20071120-M00028.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00029" nb-file="US07299006-20071120-M00029.NB">
<img id="EMI-M00029" he="22.61mm" wi="76.20mm" file="US07299006-20071120-M00029.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00030" nb-file="US07299006-20071120-M00030.NB">
<img id="EMI-M00030" he="27.52mm" wi="76.20mm" file="US07299006-20071120-M00030.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00031" nb-file="US07299006-20071120-M00031.NB">
<img id="EMI-M00031" he="12.36mm" wi="76.20mm" file="US07299006-20071120-M00031.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00032" nb-file="US07299006-20071120-M00032.NB">
<img id="EMI-M00032" he="6.69mm" wi="76.20mm" file="US07299006-20071120-M00032.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00033" nb-file="US07299006-20071120-M00033.NB">
<img id="EMI-M00033" he="6.69mm" wi="76.20mm" file="US07299006-20071120-M00033.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A complementary metal oxide semiconductor (CMOS) transmitter system, comprising:
<claim-text>first oscillator means for generating a first signal having a tunable frequency, the first oscillating means comprising tuning means for tuning the frequency of the first signal;</claim-text>
<claim-text>mixer means for mixing the first signal with a second signal to produce a mixed signal;</claim-text>
<claim-text>detector means for detecting a phase difference between the mixed signal and an input signal, and generating an error signal which is a function of the phase difference, the tuning means being responsive to the error signal; and</claim-text>
<claim-text>second oscillator means for generating the second signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The CMOS transmitter system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first oscillator means comprises a voltage controlled oscillator, the tuning means being responsive to a voltage of the error signal.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The CMOS transmitter system of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising filter means for filtering the mixed signal before being applied to the detector means, the filtered mixed signal comprising a difference frequency between the tuned frequency of the first signal and a frequency of the second signal.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The CMOS transmitter system of <claim-ref idref="CLM-00003">claim 3</claim-ref> further comprising means for limiting the filtered mixed signal from the filter means before being applied to the detector means.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The CMOS transmitter system of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising means for sourcing current to the tuning means responsive to the error signal.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The CMOS transmitter system of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising means for filtering the error signal from the detecting means before being applied to the tuning means.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The CMOS transmitter system of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the first oscillator means comprises a voltage controlled oscillator, the tuning means being responsive to a voltage of the error signal, the CMOS transmitter system further comprising filter means for filtering the mixed signal before being applied to the detector means, the filtered mixed signal comprising a difference frequency between the tuned frequency of the first signal and a frequency of the second stage, means for limiting the filtered mixed signal from the filter means before being applied to the detector means, current means for sourcing current to the tuning means responsive to the error signal, and means for filtering the current sourced error signal from the current means before being applied to the tuning means.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The CMOS integrated circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the mixer means comprises a subsampling mixer.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The CMOS integrated circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein the subsampling mixer comprises track and hold means for tracking and holding the first signal in response to the second signal, and limiting means for limiting the response of the track and hold means to a frequency band, the first signal being within the frequency band.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The CMOS integrated circuit of <claim-ref idref="CLM-00009">claim 9</claim-ref> further comprising means for buffering first signal before being applied to the track and hold means.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The CMOS integrated circuit of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein the limiting means comprises an inductor and capacitor each being coupled to the track and hold means.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The CMOS integrated circuit of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein the track and hold means comprises a switch in a path of the first signal, the switch being controlled by the second signal.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The CMOS transmitter system according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the CMOS transmitter system is part of a wireless communications device.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The CMOS transmitter system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the wireless communications device comprises a radio frequency (RF) wireless communications device.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The CMOS transmitter system according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The CMOS transmitter system according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the RF wireless communications device performs direct sequence spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The CMOS transmitter system according to <claim-ref idref="CLM-00016">claim 16</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The CMOS transmitter system according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the RF wireless communications device performs frequency hopping.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The CMOS transmitter system according to <claim-ref idref="CLM-00018">claim 18</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The CMOS transmitter system according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the wireless communications device comprises an RE spread spectrum wireless communications device.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The CMOS transmitter system according to <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein the CMOS transmitter system is part of a single integrated circuit chip.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The CMOS transmitter system according to <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the single integrated circuit chip comprises a receiver of the wireless communications device.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. A transmitter system, comprising:
<claim-text>first oscillator means for generating a first signal having a tunable frequency, the first oscillating means comprising tuning means for tuning the frequency of the first signal;</claim-text>
<claim-text>mixer means for mixing the first signal with a second signal to produce a mixed signal;</claim-text>
<claim-text>filter means for filtering the mixed signal to generate a difference signal between the frequency of the first signal and a harmonic of the second signal; and</claim-text>
<claim-text>detector means for detecting a phase difference between the filtered mixed signal and an input signal, and generating an error signal which is a function of the phase difference, the tuning means being responsive to the error signal; and</claim-text>
<claim-text>second oscillator means for generating the second signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The transmitter system of <claim-ref idref="CLM-00023">claim 23</claim-ref> wherein the first oscillator means comprises a voltage controlled oscillator, the tuning means being responsive to a voltage of the error signal.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The transmitter system of <claim-ref idref="CLM-00023">claim 23</claim-ref> wherein the second signal comprises a frequency different from the frequency of the first oscillator means.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The transmitter system of <claim-ref idref="CLM-00023">claim 23</claim-ref> further comprising means for limiting the filtered mixed signal from the filter means before being applied to the detector means.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The transmitter system of <claim-ref idref="CLM-00023">claim 23</claim-ref> further comprising means for sourcing current to the tuning means responsive to the error signal.</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The transmitter system of <claim-ref idref="CLM-00023">claim 23</claim-ref> further comprising means for filtering the error signal from the detecting means before being applied to the tuning means.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. The transmitter system of <claim-ref idref="CLM-00023">claim 23</claim-ref> wherein the first oscillator means comprises a voltage controlled oscillator, the tuning means being responsive to a voltage of the error signal, and the second signal comprises a frequency different from the frequency of the first oscillator means, the transmitter system further comprising means for limiting the filtered mixed signal from the filter means before being applied to the detector means, current means for sourcing current to the tuning means responsive to the error signal, and means for filtering the current sourced error signal from the current means before being applied to the tuning means.</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The transmitter system of <claim-ref idref="CLM-00023">claim 23</claim-ref> wherein the mixer comprises track and hold means for tracking and holding the first signal in response to the second signal, and limiting means for limiting the response of the track and hold means to a frequency band, the first signal being within the frequency band.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The transmitter system of <claim-ref idref="CLM-00030">claim 30</claim-ref> further comprising means for buffering first signal before being applied to the track and hold means.</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. The transmitter system of <claim-ref idref="CLM-00030">claim 30</claim-ref> wherein the limiting means comprises an inductor and capacitor each being coupled to the track and hold means.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. The transmitter system of <claim-ref idref="CLM-00030">claim 30</claim-ref> wherein the track and hold means comprises a switch in a path of the first signal, the switch being controlled by the second signal.</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. The transmitter system according to <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the transmitter system is part of a wireless communications device.</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. The transmitter system according to <claim-ref idref="CLM-00034">claim 34</claim-ref>, wherein the wireless communications device comprises a radio frequency (RF) wireless communications device.</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. The transmitter system according to <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. The transmitter system according to <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein the RF wireless communications device performs direct sequence spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00038" num="00038">
<claim-text>38. The transmitter system according to <claim-ref idref="CLM-00037">claim 37</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00039" num="00039">
<claim-text>39. The transmitter system according to <claim-ref idref="CLM-00035">claim 35</claim-ref>, wherein the RF wireless communications device performs frequency hopping.</claim-text>
</claim>
<claim id="CLM-00040" num="00040">
<claim-text>40. The transmitter system according to <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00041" num="00041">
<claim-text>41. The transmitter system according to <claim-ref idref="CLM-00035">claim 35</claim-ref>,
<claim-text>wherein the transmitter system employs complementary metal oxide semiconductor (CMOS) technology, and</claim-text>
<claim-text>wherein the first oscillator means, the mixer means, the filter means, the detector means and the second oscillator means are part of a single integrated circuit chip.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00042" num="00042">
<claim-text>42. The transmitter system according to <claim-ref idref="CLM-00041">claim 41</claim-ref>, wherein the single integrated circuit chip comprises a receiver of the wireless communications device.</claim-text>
</claim>
<claim id="CLM-00043" num="00043">
<claim-text>43. The transmitter system according to <claim-ref idref="CLM-00034">claim 34</claim-ref>, wherein the wireless communications device comprises an RF spread spectrum wireless communications device.</claim-text>
</claim>
<claim id="CLM-00044" num="00044">
<claim-text>44. A spread spectrum wireless communications device, comprising:
<claim-text>an integrated circuit that employs complementary metal oxide semiconductor (CMOS) technology, the integrated circuit comprising a local oscillator and a transmitter,</claim-text>
<claim-text>wherein the transmitter comprises a tunable oscillator, a mixer and a phase detector,</claim-text>
<claim-text>wherein the tunable oscillator comprises a tuning input,</claim-text>
<claim-text>wherein the mixer comprises a first input, a second input and an output, the first input of the mixer being operatively coupled to the tunable oscillator,</claim-text>
<claim-text>wherein the phase detector comprises a first input, a second input and an output, the first input of the phase detector being operatively coupled to the output of the mixer, the output of the phase detector being operatively coupled to the tuning input, and</claim-text>
<claim-text>wherein the local oscillator is operatively coupled to the second input of the mixer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00045" num="00045">
<claim-text>45. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the integrated circuit is part of a single integrated circuit chip.</claim-text>
</claim>
<claim id="CLM-00046" num="00046">
<claim-text>46. The spread spectrum communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the spread spectrum communications device comprises a radio frequency (RF) wireless communications device.</claim-text>
</claim>
<claim id="CLM-00047" num="00047">
<claim-text>47. The spread spectrum communications device according to <claim-ref idref="CLM-00046">claim 46</claim-ref>, wherein the RF wireless communications device performs spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00048" num="00048">
<claim-text>48. The spread spectrum communications device according to <claim-ref idref="CLM-00046">claim 46</claim-ref>, wherein the RF wireless communications device performs direct sequence spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00049" num="00049">
<claim-text>49. The spread spectrum communications device according to <claim-ref idref="CLM-00048">claim 48</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division modulation.</claim-text>
</claim>
<claim id="CLM-00050" num="00050">
<claim-text>50. The spread spectrum communications device according to <claim-ref idref="CLM-00046">claim 46</claim-ref>, wherein the RF wireless communications device performs frequency hopping.</claim-text>
</claim>
<claim id="CLM-00051" num="00051">
<claim-text>51. The spread spectrum communications device according to <claim-ref idref="CLM-00050">claim 50</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division modulation.</claim-text>
</claim>
<claim id="CLM-00052" num="00052">
<claim-text>52. The spread spectrum communications device according to <claim-ref idref="CLM-00046">claim 46</claim-ref>, wherein the RF wireless communications device supports a plurality of spread spectrum modulation techniques.</claim-text>
</claim>
<claim id="CLM-00053" num="00053">
<claim-text>53. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00046">claim 46</claim-ref>, wherein the integrated circuit is part of a single integrated circuit chip.</claim-text>
</claim>
<claim id="CLM-00054" num="00054">
<claim-text>54. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00053">claim 53</claim-ref>, wherein the single integrated circuit chip comprises a receiver of the spread spectrum wireless communications device.</claim-text>
</claim>
<claim id="CLM-00055" num="00055">
<claim-text>55. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the spread spectrum wireless communications device performs frequency hopping.</claim-text>
</claim>
<claim id="CLM-00056" num="00056">
<claim-text>56. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the spread spectrum wireless communications device performs direct sequence spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00057" num="00057">
<claim-text>57. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the spread spectrum wireless communications device supports a plurality of different wireless spread spectrum modulation techniques.</claim-text>
</claim>
<claim id="CLM-00058" num="00058">
<claim-text>58. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the spread spectrum wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00059" num="00059">
<claim-text>59. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the spread spectrum wireless communications device supports communications using direct sequence spread spectrum modulation and communications using orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00060" num="00060">
<claim-text>60. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the spread spectrum wireless communications device supports communications using frequency hopping and communications using orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00061" num="00061">
<claim-text>61. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the tunable oscillator comprises a voltage controlled oscillator.</claim-text>
</claim>
<claim id="CLM-00062" num="00062">
<claim-text>62. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the transmitter comprises a bandpass filter that is operatively coupled between the output of the mixer and the first input of the phase detector.</claim-text>
</claim>
<claim id="CLM-00063" num="00063">
<claim-text>63. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00062">claim 62</claim-ref>, wherein the transmitter comprises a limiter that is operatively coupled between the bandpass filter and the first input of the phase detector.</claim-text>
</claim>
<claim id="CLM-00064" num="00064">
<claim-text>64. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the transmitter comprises a charge pump that is operatively coupled between the output of the phase detector and the tuning input.</claim-text>
</claim>
<claim id="CLM-00065" num="00065">
<claim-text>65. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the transmitter comprises a loop filter that is operatively coupled between the output of the phase detector and the tuning input.</claim-text>
</claim>
<claim id="CLM-00066" num="00066">
<claim-text>66. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>,
<claim-text>wherein the tunable oscillator comprises a voltage controlled oscillator,</claim-text>
<claim-text>wherein the integrated circuit comprises a bandpass filter, a limiter, a charge pump and a loop filter,</claim-text>
<claim-text>wherein the bandpass filter is operatively coupled to the mixer,</claim-text>
<claim-text>wherein the limiter is operatively coupled between the bandpass filter and the first input of the phase detector,</claim-text>
<claim-text>wherein the charge pump is operatively coupled to the phase detector output, and</claim-text>
<claim-text>wherein the loop filter is operatively coupled between the charge pump and the tuning input.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00067" num="00067">
<claim-text>67. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00044">claim 44</claim-ref>, wherein the mixer comprises a subsampling mixer.</claim-text>
</claim>
<claim id="CLM-00068" num="00068">
<claim-text>68. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00067">claim 67</claim-ref>,
<claim-text>wherein the mixer comprises a track and hold circuit and a bandpass circuit,</claim-text>
<claim-text>wherein the track and hold circuit is operatively coupled to the first input of the mixer, the second input of the mixer and the output of the mixer, and</claim-text>
<claim-text>wherein the bandpass circuit is operatively coupled to the first input of the mixer and the output of the mixer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00069" num="00069">
<claim-text>69. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00068">claim 68</claim-ref>, wherein the mixer comprises an input circuit that is disposed between the first input of the mixer and the track and hold circuit.</claim-text>
</claim>
<claim id="CLM-00070" num="00070">
<claim-text>70. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00068">claim 68</claim-ref>, wherein the mixer comprises a buffer that is disposed between the track and hold circuit and the output of the mixer.</claim-text>
</claim>
<claim id="CLM-00071" num="00071">
<claim-text>71. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00068">claim 68</claim-ref>,
<claim-text>wherein the bandpass circuit comprises an inductor and a capacitor,</claim-text>
<claim-text>wherein the inductor is operatively coupled to the first input of the mixer, and</claim-text>
<claim-text>wherein the capacitor is operatively coupled to the output of the mixer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00072" num="00072">
<claim-text>72. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00068">claim 68</claim-ref>,
<claim-text>wherein the track and hold circuit comprises a switch that is disposed between the first input of the mixer and the output of the mixer, and</claim-text>
<claim-text>wherein the switch is controlled by a signal that is applied to the second input of the mixer from the local oscillator.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00073" num="00073">
<claim-text>73. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00072">claim 72</claim-ref>,
<claim-text>wherein the switch comprises a transistor having a gate, a source and a drain,</claim-text>
<claim-text>wherein the gate is operatively coupled to the second input of the mixer,</claim-text>
<claim-text>wherein the source is operatively coupled to the first input of the mixer,</claim-text>
<claim-text>wherein the bandpass circuit comprises a capacitor and an inductor,</claim-text>
<claim-text>wherein the capacitor is operatively coupled to the drain, and</claim-text>
<claim-text>wherein the inductor is operatively coupled to the source.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00074" num="00074">
<claim-text>74. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00073">claim 73</claim-ref>, wherein the capacitor and the inductor cooperate to provide a time constant that is related to a signal frequency that is applied to the first input of the mixer from the tunable oscillator.</claim-text>
</claim>
<claim id="CLM-00075" num="00075">
<claim-text>75. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00068">claim 68</claim-ref>,
<claim-text>wherein the track and hold circuit comprises a transistor and a current source,</claim-text>
<claim-text>wherein the transistor includes an input node and an output node,</claim-text>
<claim-text>wherein the input node of the transistor is operatively coupled to the first input of the mixer,</claim-text>
<claim-text>wherein the output node of the transistor is operatively coupled to the output of the mixer,</claim-text>
<claim-text>wherein the current source is operatively coupled to the output of the mixer, and</claim-text>
<claim-text>wherein the current source is controlled by a signal that is applied to the second input of the mixer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00076" num="00076">
<claim-text>76. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00075">claim 75</claim-ref>,
<claim-text>wherein the current source comprises a second transistor having a gate, a drain and a source,</claim-text>
<claim-text>wherein the gate is operatively coupled to the first input of the mixer,</claim-text>
<claim-text>wherein the drain is operatively coupled to the output of the mixer,</claim-text>
<claim-text>wherein the bandpass circuit comprises a capacitor and an inductor,</claim-text>
<claim-text>wherein the capacitor is operatively coupled to the output of the mixer, and</claim-text>
<claim-text>wherein the inductor is operatively coupled to the drain of the second transistor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00077" num="00077">
<claim-text>77. The spread spectrum wireless communications device according to <claim-ref idref="CLM-00076">claim 76</claim-ref>, wherein the capacitor and the inductor cooperate to provide a time constant that is related to a signal frequency that is applied to the first input of the mixer from the tunable oscillator.</claim-text>
</claim>
<claim id="CLM-00078" num="00078">
<claim-text>78. A complementary metal oxide semiconductor (CMOS) integrated circuit, comprising:
<claim-text>a transmitter comprising a tunable oscillator having a tuning input, a mixer having a first input coupled the tunable oscillator, a second input, and an output, and a phase detector having a first input coupled to the mixer output, a second input, and an output coupled to the tuning input; and</claim-text>
<claim-text>a local oscillator coupled to the second input of the mixer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00079" num="00079">
<claim-text>79. The CMOS integrated circuit of <claim-ref idref="CLM-00078">claim 78</claim-ref> wherein the tunable oscillator comprises a voltage controlled oscillator.</claim-text>
</claim>
<claim id="CLM-00080" num="00080">
<claim-text>80. The CMOS integrated circuit of <claim-ref idref="CLM-00078">claim 78</claim-ref> wherein the transmitter further comprises a bandpass filter coupled between the mixer output and the first input of the phase detector.</claim-text>
</claim>
<claim id="CLM-00081" num="00081">
<claim-text>81. The CMOS integrated circuit of <claim-ref idref="CLM-00080">claim 80</claim-ref> wherein the transmitter further comprises a limiter coupled between the bandpass filter and the first input of the phase detector.</claim-text>
</claim>
<claim id="CLM-00082" num="00082">
<claim-text>82. The CMOS integrated circuit of <claim-ref idref="CLM-00078">claim 78</claim-ref> wherein the transmitter further comprises a charge pump coupled between the phase detector output and the tuning input.</claim-text>
</claim>
<claim id="CLM-00083" num="00083">
<claim-text>83. The CMOS integrated circuit of <claim-ref idref="CLM-00078">claim 78</claim-ref> wherein the transmitter further comprises a loop filter coupled between the phase detector output and the tuning input.</claim-text>
</claim>
<claim id="CLM-00084" num="00084">
<claim-text>84. The CMOS integrated circuit of <claim-ref idref="CLM-00078">claim 78</claim-ref> wherein the tunable oscillator comprises a voltage controlled oscillator, the CMOS integrated circuit further comprising a bandpass filter coupled to the mixer, a limiter coupled between the bandpass filter and the first input of the phase detector, a charge pump coupled to the phase detector output, and a loop filter coupled between the charge pump and the tuning input.</claim-text>
</claim>
<claim id="CLM-00085" num="00085">
<claim-text>85. The CMOS integrated circuit of <claim-ref idref="CLM-00078">claim 78</claim-ref> wherein the mixer comprises a subsampling mixer.</claim-text>
</claim>
<claim id="CLM-00086" num="00086">
<claim-text>86. The CMOS integrated circuit of <claim-ref idref="CLM-00085">claim 85</claim-ref> wherein the mixer comprises a track and hold circuit coupled to the inputs of the mixer and the output of the mixer, and a bandpass circuit coupled to the first input of the mixer and the output of the mixer.</claim-text>
</claim>
<claim id="CLM-00087" num="00087">
<claim-text>87. The CMOS integrated circuit of <claim-ref idref="CLM-00086">claim 86</claim-ref> wherein the mixer further comprises an input circuit disposed between the first input of the mixer and the track and hold circuit.</claim-text>
</claim>
<claim id="CLM-00088" num="00088">
<claim-text>88. The CMOS integrated circuit of <claim-ref idref="CLM-00086">claim 86</claim-ref> wherein the mixer further comprises a buffer disposed between the track and hold circuit and the output of the mixer.</claim-text>
</claim>
<claim id="CLM-00089" num="00089">
<claim-text>89. The CMOS integrated circuit of <claim-ref idref="CLM-00086">claim 86</claim-ref> wherein the bandpass circuit comprises an inductor coupled to the first input of the mixer and a capacitor coupled to the output of the mixer.</claim-text>
</claim>
<claim id="CLM-00090" num="00090">
<claim-text>90. The CMOS integrated circuit of <claim-ref idref="CLM-00086">claim 86</claim-ref> wherein the track and hold circuit comprises a switch between the first input of the mixer and the output of the mixer, the switch being adapted for control by a signal applied to the second input of the mixer from the local oscillator.</claim-text>
</claim>
<claim id="CLM-00091" num="00091">
<claim-text>91. The CMOS integrated circuit of <claim-ref idref="CLM-00090">claim 90</claim-ref> wherein the switch comprises a transistor having a gate coupled to the second input of the mixer, a source coupled to the first input of the mixer, and a drain, and wherein the bandpass circuit comprises a capacitor coupled to the drain, and an inductor coupled to the source.</claim-text>
</claim>
<claim id="CLM-00092" num="00092">
<claim-text>92. The CMOS integrated circuit of <claim-ref idref="CLM-00091">claim 91</claim-ref> wherein the capacitor and inductor cooperate to provide a time constant related to a signal frequency applied to the first input of the mixer for the tunable oscillator.</claim-text>
</claim>
<claim id="CLM-00093" num="00093">
<claim-text>93. The CMOS integrated circuit of <claim-ref idref="CLM-00086">claim 86</claim-ref> wherein the track and hold circuit comprises a transistor having an input node coupled to the first input of the mixer and an output node coupled to the output of the mixer, and a current source coupled to the output of the mixer, the current source being adapted for control by a signal applied to the second input of the mixer.</claim-text>
</claim>
<claim id="CLM-00094" num="00094">
<claim-text>94. The CMOS integrated circuit of <claim-ref idref="CLM-00093">claim 93</claim-ref> wherein the current source comprises a second transistor having a gate coupled to the first input of the mixer, a drain coupled to the output of the mixer, and a source, and wherein the bandpass circuit comprises a capacitor coupled to the output of the mixer and an inductor coupled to the drain of the second transistor.</claim-text>
</claim>
<claim id="CLM-00095" num="00095">
<claim-text>95. The CMOS integrated circuit of <claim-ref idref="CLM-00094">claim 94</claim-ref> wherein the capacitor and inductor cooperate to provide a time constant related to a signal frequency applied to the first input of the mixer from the tunable oscillator.</claim-text>
</claim>
<claim id="CLM-00096" num="00096">
<claim-text>96. The transmission system of <claim-ref idref="CLM-00085">claim 85</claim-ref> wherein the mixer comprises a track and hold circuit coupled to the inputs of the mixer and the output of the mixer, and a bandpass circuit coupled to the first input of the mixer and the output of the mixer.</claim-text>
</claim>
<claim id="CLM-00097" num="00097">
<claim-text>97. The transmission system of <claim-ref idref="CLM-00096">claim 96</claim-ref> wherein the mixer further comprises an input circuit disposed between the first input of the mixer and the track and hold circuit.</claim-text>
</claim>
<claim id="CLM-00098" num="00098">
<claim-text>98. The transmission system of <claim-ref idref="CLM-00096">claim 96</claim-ref> wherein the mixer further comprises a buffer disposed between the track and hold circuit and the output of the mixer.</claim-text>
</claim>
<claim id="CLM-00099" num="00099">
<claim-text>99. The transmission system of <claim-ref idref="CLM-00096">claim 96</claim-ref> wherein the bandpass circuit comprises an inductor coupled to the first input of the mixer and a capacitor coupled to the output of the mixer.</claim-text>
</claim>
<claim id="CLM-00100" num="00100">
<claim-text>100. The transmission system of <claim-ref idref="CLM-00096">claim 96</claim-ref> wherein the track and hold circuit comprises a switch between the first input of the mixer and the output of the mixer, the switch being adapted for control by a signal applied to the second input of the mixer from the local oscillator.</claim-text>
</claim>
<claim id="CLM-00101" num="00101">
<claim-text>101. The transmission system of <claim-ref idref="CLM-00100">claim 100</claim-ref> wherein the switch comprises a transistor having a gate coupled to the second input of the mixer, a source coupled to the first input of the mixer, and a drain, and wherein the bandpass circuit comprises a capacitor coupled to the drain, and an inductor coupled to the source.</claim-text>
</claim>
<claim id="CLM-00102" num="00102">
<claim-text>102. The transmission system of <claim-ref idref="CLM-00101">claim 101</claim-ref> wherein the capacitor and induction cooperate to provide a time constant related to a signal frequency applied to the first input of the mixer from the tunable oscillator.</claim-text>
</claim>
<claim id="CLM-00103" num="00103">
<claim-text>103. The transmission system of <claim-ref idref="CLM-00096">claim 96</claim-ref> wherein the track and hold circuit comprises a transistor having an input mode coupled to the first input of the mixer and an output node coupled to the output of the mixer, and a current source coupled to the output of the mixer, the current source being adapted for control by a signal applied to the second input of the mixer.</claim-text>
</claim>
<claim id="CLM-00104" num="00104">
<claim-text>104. The transmission system of <claim-ref idref="CLM-00103">claim 103</claim-ref> wherein the current source comprises a second transistor having a gate coupled to the first input of the mixer, a drain coupled to the output of the mixer, and a source, and wherein the bandpass circuit comprises a capacitor coupled to the output of the mixer and an inductor coupled to the drain of the second transistor.</claim-text>
</claim>
<claim id="CLM-00105" num="00105">
<claim-text>105. The transmission system of <claim-ref idref="CLM-00104">claim 104</claim-ref> wherein the capacitor and inductor cooperate to provide a time constant related to a signal frequency applied to the first input of the mixer from the tunable oscillator.</claim-text>
</claim>
<claim id="CLM-00106" num="00106">
<claim-text>106. The CMOS integrated circuit according to <claim-ref idref="CLM-00078">claim 78</claim-ref>, wherein the transmitter is part of a wireless communications device.</claim-text>
</claim>
<claim id="CLM-00107" num="00107">
<claim-text>107. The CMOS integrated circuit according to <claim-ref idref="CLM-00106">claim 106</claim-ref>, wherein the wireless communications device comprises a radio frequency (RF) wireless communications device.</claim-text>
</claim>
<claim id="CLM-00108" num="00108">
<claim-text>108. The CMOS integrated circuit according to <claim-ref idref="CLM-00107">claim 107</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00109" num="00109">
<claim-text>109. The CMOS integrated circuit according to <claim-ref idref="CLM-00107">claim 107</claim-ref>, wherein the RF wireless communications device performs direct sequence spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00110" num="00110">
<claim-text>110. The CMOS integrated circuit according to <claim-ref idref="CLM-00109">claim 109</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00111" num="00111">
<claim-text>111. The CMOS integrated circuit according to <claim-ref idref="CLM-00107">claim 107</claim-ref>, wherein the RF wireless communications device performs frequency hopping.</claim-text>
</claim>
<claim id="CLM-00112" num="00112">
<claim-text>112. The CMOS integrated circuit according to <claim-ref idref="CLM-00111">claim 111</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00113" num="00113">
<claim-text>113. The CMOS integrated circuit according to <claim-ref idref="CLM-00106">claim 106</claim-ref>, wherein the wireless communications device comprises an RF spread spectrum wireless communications device.</claim-text>
</claim>
<claim id="CLM-00114" num="00114">
<claim-text>114. The CMOS integrated circuit according to <claim-ref idref="CLM-00106">claim 106</claim-ref>, wherein the CMOS integrated circuit is part of a single integrated circuit chip.</claim-text>
</claim>
<claim id="CLM-00115" num="00115">
<claim-text>115. The CMOS integrated circuit according to <claim-ref idref="CLM-00114">claim 114</claim-ref>, wherein the single integrated circuit chip comprises a receiver.</claim-text>
</claim>
<claim id="CLM-00116" num="00116">
<claim-text>116. A transmission system, comprising:
<claim-text>a transmitter comprising a tunable oscillator having a tuning input, a subsampling mixer having a first input coupled the tunable oscillator, a second input, and an output, and a phase detector having a first input coupled to the mixer output, a second input, and an output coupled to the tuning input; and</claim-text>
<claim-text>a local oscillator coupled to the second input of the mixer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00117" num="00117">
<claim-text>117. The transmission system of <claim-ref idref="CLM-00116">claim 116</claim-ref> wherein the oscillator comprises a voltage controlled oscillator.</claim-text>
</claim>
<claim id="CLM-00118" num="00118">
<claim-text>118. The transmission system of <claim-ref idref="CLM-00116">claim 116</claim-ref> wherein the transmitter further comprises a bandpass filter coupled between the subsampling mixer output and the first input of the phase detector.</claim-text>
</claim>
<claim id="CLM-00119" num="00119">
<claim-text>119. The transmission system of <claim-ref idref="CLM-00118">claim 118</claim-ref> wherein the transmitter further comprises a limiter coupled between the bandpass filter and the first input of the phase detector.</claim-text>
</claim>
<claim id="CLM-00120" num="00120">
<claim-text>120. The transmission system of <claim-ref idref="CLM-00116">claim 116</claim-ref> wherein the transmitter further comprises a charge pump coupled between the phase detector output and the tuning input.</claim-text>
</claim>
<claim id="CLM-00121" num="00121">
<claim-text>121. The transmission system of <claim-ref idref="CLM-00116">claim 116</claim-ref> wherein the transmitter further comprises a loop filter coupled between the phase detector output and the tuning input.</claim-text>
</claim>
<claim id="CLM-00122" num="00122">
<claim-text>122. The transmission system of <claim-ref idref="CLM-00116">claim 116</claim-ref> wherein the tunable oscillator comprises a voltage controlled oscillator, the transmission system further comprising a bandpass filter coupled to the mixer output, a limiter coupled between the bandpass filter and the first input of the phase detector, a charge pump coupled to the phase detector output, and a loop filter coupled between the charge pump and the tuning input.</claim-text>
</claim>
<claim id="CLM-00123" num="00123">
<claim-text>123. The transmission system according to <claim-ref idref="CLM-00116">claim 116</claim-ref>, wherein the transmitter is part of a wireless communications device.</claim-text>
</claim>
<claim id="CLM-00124" num="00124">
<claim-text>124. The transmission system according to <claim-ref idref="CLM-00123">claim 123</claim-ref>, wherein the wireless communications device comprises a radio frequency (RF) wireless communications device.</claim-text>
</claim>
<claim id="CLM-00125" num="00125">
<claim-text>125. The transmission system according to <claim-ref idref="CLM-00124">claim 124</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00126" num="00126">
<claim-text>126. The transmission system according to <claim-ref idref="CLM-00124">claim 124</claim-ref>, wherein the RF wireless communications device performs direct sequence spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00127" num="00127">
<claim-text>127. The transmission system according to <claim-ref idref="CLM-00126">claim 126</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00128" num="00128">
<claim-text>128. The transmission system according to <claim-ref idref="CLM-00124">claim 124</claim-ref>, wherein the RF wireless communications device performs frequency hopping.</claim-text>
</claim>
<claim id="CLM-00129" num="00129">
<claim-text>129. The transmission system according to <claim-ref idref="CLM-00128">claim 128</claim-ref>, wherein the RF wireless communications device performs orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00130" num="00130">
<claim-text>130. The transmission system according to <claim-ref idref="CLM-00124">claim 124</claim-ref>, wherein the transmitter is part of a single integrated circuit chip.</claim-text>
</claim>
<claim id="CLM-00131" num="00131">
<claim-text>131. The transmission system according to <claim-ref idref="CLM-00130">claim 130</claim-ref>, wherein the single integrated circuit chip comprises a receiver of the wireless communications device.</claim-text>
</claim>
<claim id="CLM-00132" num="00132">
<claim-text>132. The transmission system according to <claim-ref idref="CLM-00123">claim 123</claim-ref>, wherein the wireless communications device comprises an RF spread spectrum wireless communications device.</claim-text>
</claim>
<claim id="CLM-00133" num="00133">
<claim-text>133. The transmission system according to <claim-ref idref="CLM-00123">claim 123</claim-ref>,
<claim-text>wherein the wireless communications device comprises a spread spectrum wireless communications device,</claim-text>
<claim-text>wherein the transmitter is part of a single integrated circuit chip, and</claim-text>
<claim-text>wherein the single integrated circuit chip is part of the spread spectrum wireless communications device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00134" num="00134">
<claim-text>134. The transmission system according to <claim-ref idref="CLM-00133">claim 133</claim-ref>, wherein the single integrated circuit chip comprises a receiver of the spread spectrum wireless communications device.</claim-text>
</claim>
<claim id="CLM-00135" num="00135">
<claim-text>135. A spread spectrum wireless communications transceiver on a single integrated circuit chip that employs complementary metal oxide semiconductor (CMOS) technology, comprising:
<claim-text>a local oscillator;</claim-text>
<claim-text>a tunable oscillator;</claim-text>
<claim-text>a mixer; and</claim-text>
<claim-text>a phase detector,</claim-text>
<claim-text>wherein the tunable oscillator comprises a tuning input,</claim-text>
<claim-text>wherein the mixer comprises a first input, a second input and an output, the first input of the mixer being operatively coupled to the tunable oscillator,</claim-text>
<claim-text>wherein the phase detector comprises a first input, a second input and an output, the first input of the phase detector being operatively coupled to the output of the mixer, the output of the phase detector being operatively coupled to the tuning input, and</claim-text>
<claim-text>wherein the local oscillator is operatively coupled to the second input of the mixer.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00136" num="00136">
<claim-text>136. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum communications device comprises a radio frequency (RF) wireless communications transceiver.</claim-text>
</claim>
<claim id="CLM-00137" num="00137">
<claim-text>137. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications transceiver performs spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00138" num="00138">
<claim-text>138. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00137">claim 137</claim-ref>, wherein the spread spectrum wireless communications transceiver performs direct sequence spread spectrum modulation.</claim-text>
</claim>
<claim id="CLM-00139" num="00139">
<claim-text>139. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications transceiver performs orthogonal frequency division modulation.</claim-text>
</claim>
<claim id="CLM-00140" num="00140">
<claim-text>140. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications transceiver performs frequency hopping.</claim-text>
</claim>
<claim id="CLM-00141" num="00141">
<claim-text>141. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications transceiver supports communications over a wireless local area network.</claim-text>
</claim>
<claim id="CLM-00142" num="00142">
<claim-text>142. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications transceiver supports communications over a personal area network.</claim-text>
</claim>
<claim id="CLM-00143" num="00143">
<claim-text>143. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications transceiver supports communications using phase shift keying.</claim-text>
</claim>
<claim id="CLM-00144" num="00144">
<claim-text>144. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00143">claim 143</claim-ref>, wherein the phase shift keying comprises binary phase shift keying.</claim-text>
</claim>
<claim id="CLM-00145" num="00145">
<claim-text>145. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00143">claim 143</claim-ref>, wherein the phase shift keying comprises quadrature phase shift keying.</claim-text>
</claim>
<claim id="CLM-00146" num="00146">
<claim-text>146. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00143">claim 143</claim-ref>, wherein the phase shift keying comprises offset quadrature phase shift keying.</claim-text>
</claim>
<claim id="CLM-00147" num="00147">
<claim-text>147. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications transceiver supports a plurality of spread spectrum modulation techniques.</claim-text>
</claim>
<claim id="CLM-00148" num="00148">
<claim-text>148. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications transceiver supports communications using direct sequence spread spectrum modulation and communications using orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00149" num="00149">
<claim-text>149. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, wherein the spread spectrum wireless communications device supports communications using frequency hopping and communications using orthogonal frequency division multiplexing.</claim-text>
</claim>
<claim id="CLM-00150" num="00150">
<claim-text>150. The spread spectrum wireless communications transceiver according to <claim-ref idref="CLM-00135">claim 135</claim-ref>, comprising a receiver.</claim-text>
</claim>
</claims>
</us-patent-grant>
