<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298661-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298661</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11460299</doc-number>
<date>20060727</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>C</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>365222</main-classification>
<further-classification>365149</further-classification>
</classification-national>
<invention-title id="d0e43">Semiconductor memory device</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5619470</doc-number>
<kind>A</kind>
<name>Fukumoto</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365228</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6449685</doc-number>
<kind>B1</kind>
<name>Leung</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711106</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2006/0039220</doc-number>
<kind>A1</kind>
<name>Takahashi et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365222</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>JP</country>
<doc-number>2003-187575</doc-number>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>JP</country>
<doc-number>2004-319053</doc-number>
<date>20041100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>13</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>365222</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>365149</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>36523001</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20070053235</doc-number>
<kind>A1</kind>
<date>20070308</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Miyatake</last-name>
<first-name>Hisatada</first-name>
<address>
<city>Ohlsu</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Harding</last-name>
<first-name>W. Riyon</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>International Business Machines Corporation</orgname>
<role>02</role>
<address>
<city>Armonk</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Le</last-name>
<first-name>Vu A.</first-name>
<department>2824</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Pseudo SRAM capable of arbitrating refresh requests with external access requests is provided. An access waiting circuit <b>20</b> for generating an access waiting signal /ECP in response to an external access request signal /CE or the like, an access activating circuit <b>21</b> for generating an access activating signal /AE in response to L level of the access waiting signal /ECP and H level of a busy signal /BUSY, a refresh waiting circuit <b>22</b> for generating a refresh waiting signal /REFP in response to a refresh request signal /REFT, and a refresh activating circuit <b>23</b> for generating a refresh activating signal /REFE in response to H level of the access waiting signal /ECP, L level of the refresh waiting signal /REFP, and H level of the busy signal /BUSY are provided. An array control circuit <b>12</b> performs an access operation in response to the access activating signal /AE, and performs the refresh operation in response to the refresh activating signal /REFE.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="159.51mm" wi="227.92mm" file="US07298661-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="230.89mm" wi="172.55mm" orientation="landscape" file="US07298661-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="195.75mm" wi="100.84mm" orientation="landscape" file="US07298661-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="186.10mm" wi="102.62mm" orientation="landscape" file="US07298661-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="192.02mm" wi="95.17mm" orientation="landscape" file="US07298661-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="192.87mm" wi="106.17mm" orientation="landscape" file="US07298661-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="211.92mm" wi="148.93mm" orientation="landscape" file="US07298661-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="231.65mm" wi="162.14mm" orientation="landscape" file="US07298661-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="206.08mm" wi="149.69mm" orientation="landscape" file="US07298661-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED PUBLICATIONS</heading>
<p id="p-0002" num="0001">This patent application claims priority to Japanese Patent Application No. 2005-254878 filed Sep. 2, 2005.</p>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to a semiconductor memory device, and more specifically, it relates to pseudo SRAM (PSRAM; Pseudo Static Random Accesses Memory) and DRAM (Dynamic Random Accesses Memory), both of which require refresh operations.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">Conventionally, SRAM (Static Random Accesses Memory) and DRAM have been widely used as rewritable semiconductor memory devices.</p>
<p id="p-0005" num="0004">SRAM uses static memory cells and a static memory cell usually consists of six transistors. Since static memory cells have driving capability and restoring capability, SRAM is mainly used for high-speed applications.</p>
<p id="p-0006" num="0005">On the other hand, DRAM uses dynamic memory cells and a dynamic memory cell usually consists of one transistor and one capacitor. Since dynamic memory cells are small in size, DRAM is mainly used for applications that require large memory capacity. However, since dynamic memory cells have neither driving capability nor restoring capability, DRAMs need to perform refresh operations to read data and write the same data back within a specified refresh period in order to prevent memory loss due to leakage current and so forth.</p>
<p id="p-0007" num="0006">In order to simplify the control of refresh operations, DRAMs having a self-refresh function have also been provided. DRAMs of this type have therein a refresh timer for measuring time against a predetermined time, and a refresh address counter for sequentially and internally generating addresses to be refreshed. DRAMs of this type enter into a self-refresh mode in response to an instruction supplied externally, and in that mode automatically perform refresh operations. Hence, it is an external memory controller that controls the refresh operations so that they may not compete with normal access operations.</p>
<p id="p-0008" num="0007">In portable devices as represented by cell phones, SRAMs have been used in many cases since SRAMs can be easily used and the memory capacity required is not so large. In recent years, however, in order to support a utilization mode that requires a large amount of data, such as images, pseudo SRAMs have been increasingly used. Pseudo SRAMs are semiconductor memory devices, which use the same dynamic memory cells as those of DRAMs, and for which external interfaces and control methods from external devices are the same or almost the same as those of SRAMs, and Pseudo SRAM is referred to also as VSRAM (Virtual Static Random Accesses Memory).</p>
<p id="p-0009" num="0008">Pseudo SRAMs require refresh operations, but in general they are constructed such that refresh instructions from external devices are not required. In this case, since refresh operations may possibly compete with normal read operations or write operations, refresh operations need to be controlled so that refresh operations may not prevent read instructions or write instructions sent from external devices. That is, pseudo SRAMs need to appropriately perform generation of a refresh activating signal and control of a refresh address counter, and so forth, which are required for internal refresh operations, while arbitrating the refresh operations with external accesses.</p>
<p id="p-0010" num="0009">As one method of implementing such control, Japanese Unexamined Patent Publication (Kokai) No. 2003-187575 discloses a refresh control method of semiconductor memory device. According to this method, the number of occurrences of requests of starting refresh operations is monitored during the operation period of external access operations executed preferentially to refresh operations, and internal operations for refresh operations are controlled according to the number of occurrences. According to this method, refresh operations are prohibited during execution of external accesses. For this period, internal operations for the refresh operation for the first request of starting refresh operations are controlled, but internal operations for the second and subsequent requests for starting refresh operations is prohibited. Even if a plurality of requestsfor starting refresh operations are submitted while external access operations are being performed.</p>
<p id="p-0011" num="0010">As another implementation method, Japanese Unexamined Patent Publication (Kokai) No. 2004-319053 discloses a semiconductor memory device in which long cycle limits can be relaxed. This semiconductor memory device is provided with a refresh controller for executing refresh operations. The refresh controller is provided with a refresh timing signal generating unit, a refresh request signal generating unit, and a refresh execution signal generating unit. The refresh request signal generating unit is provided with a first counter for counting the number of occurrences of the refresh timing signal, and a second counter for counting the number of occurrences of the refresh execution signal, and generates refresh request signal when the difference between two numbers of occurrences is one or more. When the difference is two or more, the refresh execution signal generating unit can generate the refresh execution signal two times or more during one cycle of the refresh timing signal.</p>
<p id="p-0012" num="0011">In any of the aforementioned methods, the control is complicated, and thus the circuits are complicated. Moreover, in any of the methods, since operations are controlled only by arbitration between external accesses and internally generated refresh requests, refresh cannot be performed immediately when refresh becomes possible. For that reason, efficiency of refresh is low. This is a bar to maximizing efficiency of external accesses in applications in which data transmission speeds are maximized.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0013" num="0012">It is an object of the present invention to provide a semiconductor memory device capable of arbitrating refresh requests and external access requests.</p>
<p id="p-0014" num="0013">A semiconductor memory device in accordance with the present invention is provided with at least one memory cell array, an array control circuit, an access control circuit, and a refresh control circuit. The memory cell array includes dynamic memory cells. The array control circuit accesses the memory cell array or arrays according to an external address signal, and refreshes the memory cell array according to a refresh address signal. The access control circuit allows the access by the array control circuit, in the case where an access is externally requested and when the array control circuit is not in operation. The refresh control circuit allows the refresh by the array control circuit, in the case where a refresh is requested and when the access is not externally requested and the array control circuit is not in operation.</p>
<p id="p-0015" num="0014">In this semiconductor memory device, when an external access is requested, and if the array control circuit itself is not in operation, the array control circuit accesses the memory cell array according to the external address signal. On the other hand, when the refresh is requested, and if the external access is not requested and the array control circuit itself is not in operation, the array control circuit refreshes the memory cell array according to the refresh address signal. In this manner, the semiconductor memory device can arbitrate between the external access request and the refresh request.</p>
<p id="p-0016" num="0015">Preferably, the array control circuit generates a busy signal during the access operation or the refresh operation for the memory cell array. The access control circuit includes an access waiting circuit. The access waiting circuit generates an access waiting signal in response to an access request signal externally supplied. The refresh control circuit includes a refresh waiting circuit and a refresh activating circuit. The refresh waiting circuit generates a refresh waiting signal in response to a refresh request signal. The refresh activating circuit generates a refresh activating signal in response to inactive state of the access waiting signal, active state of the refresh waiting signal, and inactive state of the busy signal. The array control circuit performs the refresh operation in response to the refresh activating signal.</p>
<p id="p-0017" num="0016">In this case, the refresh is immediately performed while giving priority to the external access, based on the states of the busy signal indicating that the array control circuit is in operation, the access waiting signal indicating that the external access is requested, and the refresh waiting signal indicating that the refresh is requested, and thus the efficiency of the external access and the refresh can be increased.</p>
<p id="p-0018" num="0017">Preferably, the semiconductor memory device includes an address counter. The address counter generates the refresh address signal in response to the refresh activating signal.</p>
<p id="p-0019" num="0018">In this case, the control of the address counter becomes simple, compared with the previously described prior art.</p>
<p id="p-0020" num="0019">Preferably, the semiconductor memory device includes a refresh timer. The refresh timer generates the refresh request signal.</p>
<p id="p-0021" num="0020">In this case, the semiconductor memory device may function as pseudo SRAM, since it is not necessary to externally supply either the refresh request or the refresh address signal.</p>
<p id="p-0022" num="0021">Preferably, the refresh timer keeps activating the refresh request signal until the address counter finishes continuously generating a predetermined number of refresh address signals.</p>
<p id="p-0023" num="0022">In this case, the array control circuit performs burst refresh, and if the external access is requested during burst refresh, it can interrupt the burst refresh to give priority to the external access request.</p>
<p id="p-0024" num="0023">A refresh control method, according to the present invention, in a semiconductor memory device provided with at least one memory cell array including dynamic memory cells, includes the steps of: generating a busy signal during the access operation or the refresh operation for the memory cell array; generating an access waiting signal in response to an externally supplied access request signal; generating a refresh waiting signal in response to a refresh request signal; generating a refresh activating signal when the access waiting signal is in the inactive state the refresh waiting signal is in the active state, and the busy signal is in the inactive state; and performing the refresh operation in response to the refresh activating signal.</p>
<p id="p-0025" num="0024">According to the refresh control method, the refresh is immediately performed while giving priority to the external access, based on the states of the busy signal for indicating that the array control circuit is in operation, the access waiting signal for indicating that the external access is requested, and the refresh waiting signal for indicating that the refresh is requested. Thus the efficiency of the external access and the refresh can be increased.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> is a functional block diagram illustrating a configuration of pseudo SRAM according to a first embodiment of the present invention;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 2</figref> is a circuit diagram illustrating the configuration of the access waiting circuit in <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 3</figref> is a circuit diagram illustrating the configuration of the access activating circuit in <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 4</figref> is a circuit diagram illustrating the configuration of the refresh waiting circuit in <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 5</figref> is a circuit diagram illustrating the configuration of the refresh activating circuit in <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 6</figref> is a timing chart illustrating distributed refresh operations of pseudo SRAM shown in <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 7</figref> is a functional block diagram illustrating the configuration of pseudo SRAM according to a second embodiment of the present invention; and</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 8</figref> is a timing chart illustrating burst refresh operations of pseudo SRAM shown in <figref idref="DRAWINGS">FIG. 7</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0034" num="0033">Hereafter, preferred embodiments of the present invention will be described in detail, referring to the drawings. The same reference numerals are given to the same or corresponding parts throughout the drawings, and the description will not be repeated. It should be noted that a symbol of “/” (slash) attached in front of a signal indicates that the signal is active at a logic low level. Hereafter, a logic low will be described as “L”, and a logic high will be described as “H”.</p>
<heading id="h-0007" level="1">FIRST EMBODIMENT</heading>
<p id="p-0035" num="0034">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, pseudo SRAM <b>10</b> according to a first embodiment of the present invention includes a memory cell array <b>11</b>, an array control circuit <b>12</b>, input/output circuits <b>13</b>, an access control circuit <b>14</b>, a refresh timer <b>15</b>, a refresh control circuit <b>16</b>, a refresh address counter <b>17</b>, and a power-on reset circuit <b>18</b>.</p>
<p id="p-0036" num="0035">The memory cell array <b>11</b> includes a plurality of dynamic memory cells <b>19</b> arranged in matrix form. Each dynamic memory cell <b>19</b> consists of a transistor (not shown) and a capacitor (not shown), and stores 1 bit data by charging electric charge in the capacitor. The memory cell array <b>11</b> further includes a plurality of word lines (not shown) arranged in rows, and a plurality of bit line pairs (not shown) arranged in columns. The dynamic memory cells <b>19</b> are arranged at positions corresponding to intersections of word lines and bit line pairs.</p>
<p id="p-0037" num="0036">The array control circuit <b>12</b> accesses the memory cell array <b>11</b> according to external address signal A<b>1</b>-An of n bit, which are externally supplied. Specifically, the array control circuit <b>12</b> writes data D<b>1</b>-Dm in the memory cell array <b>11</b>, and reads data D<b>1</b>-Dm from the memory cell array <b>11</b>. The array control circuit <b>12</b> also refreshes the memory cell array <b>11</b> according to refresh address signal RA<b>1</b>-RAn of n bit supplied from the refresh address counter <b>17</b>. Specifically, the array control circuit <b>12</b> reads data from the memory cell array <b>11</b>, and writes the same data in the memory cell array <b>11</b> back. The array control circuit <b>12</b> also generates a busy signal /BUSY during its operation.</p>
<p id="p-0038" num="0037">The array control circuit <b>12</b> is not illustrated with figures here because it has a well-known configuration, but specifically, it consists of predecoders, row decoders, column decoders, column selecting gates, sense amplifiers, control circuits for the decoders and the sense amplifiers, and so on.</p>
<p id="p-0039" num="0038">The input/output circuits <b>13</b> perform input and output of data D<b>1</b>-Dm, input of external address signals A<b>1</b>-An, and input of control signals, and so on. The control signals include access request signals, such as a chip enable signal /CE, a write enable signal /WE, and an output enable signal /OE.</p>
<p id="p-0040" num="0039">The access control circuit <b>14</b> enables the array control circuit <b>12</b> to access to the memory cell array <b>11</b>, in the case where an access is externally requested and when the array control circuit <b>12</b> is not in operation. The access control circuit <b>14</b> includes an access waiting circuit <b>20</b> for keeping an externally requested access waiting, and an access activating circuit <b>21</b> for activating access operations of the array control circuit <b>12</b>. The access waiting circuit <b>20</b> generates an access waiting signal /ECP in response to the chip enable signal /CE, the write enable signal /WE, or the output enable signal /OE. The access activating circuit <b>21</b> generates an access activating signal /AE in response to active state (L level) of the access waiting signal /ECP, and inactive state (H level) of the busy signal /BUSY. The array control circuit <b>12</b> performs access operations in response to the access activating signal /AE.</p>
<p id="p-0041" num="0040">The refresh timer <b>15</b> requests refreshes to the refresh control circuit <b>16</b>. Specifically, the refresh timer <b>15</b> generates a refresh request signal /REFT at a specified refresh period.</p>
<p id="p-0042" num="0041">The refresh control circuit <b>16</b> enables the array control circuit <b>12</b> to refresh the memory cell array <b>11</b>, in the case where the refresh is requested and when the access is not externally requested and the array control circuit <b>12</b> is not in operation. The refresh control circuit <b>16</b> includes a refresh waiting circuit <b>22</b> for keeping the refresh requested by the refresh timer <b>15</b> waiting, and a refresh activating circuit <b>23</b> for activating refresh operations of the array control circuit <b>12</b>. The refresh waiting circuit <b>22</b> generates a refresh waiting signal /REFP in response to the refresh request signal /REFT. The refresh activating circuit <b>23</b> generates a refresh activating signal /REFE in response to inactive state (H level) of the access waiting signal /ECP, active state (L level) of the refresh waiting signal /REFP, and inactive state (H level) of the busy signal /BUSY. The array control circuit <b>12</b> performs refresh operations in response to the refresh activating signal /REFE.</p>
<p id="p-0043" num="0042">The refresh address counter <b>17</b> generates refresh address signal RA<b>1</b>-RAn, when the refresh control circuit <b>16</b> enables the refresh, i.e., in response to the refresh activating signal /REFE.</p>
<p id="p-0044" num="0043">The power-on reset circuit <b>18</b> generates a power-on reset signal /RESET immediately after the power is turned on. The power-on reset signal /RESET is supplied to the access waiting circuit <b>20</b>, the access activating circuit <b>21</b>, the refresh waiting circuit <b>22</b>, the refresh activating circuit <b>23</b>, and so on.</p>
<p id="p-0045" num="0044">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, the access waiting circuit <b>20</b> includes a one-shot multivibrator <b>24</b>, an RS flip-flop circuit <b>25</b>, and an inverter <b>26</b>. The RS flip-flop circuit <b>25</b> includes NAND circuits <b>27</b> and <b>28</b>. The one-shot multivibrator <b>24</b> generates a pulse signal /PLS with a specified width by using a falling edge of the chip enable signal /CE as a trigger. The RS flip-flop circuit <b>25</b> is set when the pulse signal /PLS is at L level, and is reset when the access activating signal /AE is at L level. The RS flip-flop circuit <b>25</b> is also reset when the power-on reset signal /RESET is at L level. When the RS flip-flop circuit <b>25</b> is set, the access waiting signal /ECP becomes L level, and when the RS flip-flop circuit <b>25</b> is reset, the access waiting signal /ECP becomes H level.</p>
<p id="p-0046" num="0045">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, the access activating circuit <b>21</b> includes an inverter <b>29</b>, a NAND circuit <b>30</b>, an RS flip-flop circuit <b>31</b>, and an inverter <b>32</b>. The RS flip-flop circuit <b>31</b> includes NAND circuits <b>33</b> and <b>34</b>. The RS flip-flop circuit <b>31</b> is set when the busy signal /BUSY is at H level and the access waiting signal /ECP is at L level, and is reset when the busy signal /BUSY is at L level. The RS flip-flop circuit <b>31</b> is also reset when the power-on reset signal /RESET is at L level. When the RS flip-flop circuit <b>31</b> is set, the access activating signal /AE becomes L level, and when the RS flip-flop circuit <b>31</b> is reset, the access activating signal /AE becomes H level.</p>
<p id="p-0047" num="0046">Referring to <figref idref="DRAWINGS">FIG. 4</figref>, the refresh waiting circuit <b>22</b> includes an inverter <b>35</b>, a NAND circuit <b>36</b>, an RS flip-flop circuit <b>37</b>, and an inverter <b>38</b>. The RS flip-flop circuit <b>37</b> includes NAND circuits <b>39</b> and <b>40</b>. The RS flip-flop circuit <b>37</b> is set when the refresh request signal /REFT is at L level, and is reset when the refresh request signal /REFT is at H level and the refresh activating signal /REFE is at L level. The RS flip-flop circuit <b>37</b> is also reset when the power-on reset signal /RESET is at L level. When the RS flip-flop circuit <b>37</b> is set, the refresh waiting signal /REFP becomes L level, and when the RS flip-flop circuit <b>37</b> is reset, the refresh waiting signal /REFP becomes H level.</p>
<p id="p-0048" num="0047">Referring to <figref idref="DRAWINGS">FIG. 5</figref>, the refresh activating circuit <b>23</b> includes an inverter <b>41</b>, a NAND circuit <b>42</b>, an RS flip-flop circuit <b>43</b>, and an inverter <b>44</b>. The RS flip-flop circuit <b>43</b> includes NAND circuits <b>45</b> and <b>46</b>. The RS flip-flop circuit <b>43</b> is set when the busy signal /BUSY is at H level, the access waiting signal /ECP is at H level, and the refresh waiting signal /REFP is at L level, and is reset when the busy signal /BUSY is at L level. The RS flip-flop circuit <b>43</b> is also reset when the power-on reset signal /RESET is at L level. When the RS flip-flop circuit <b>43</b> is set, the refresh activating signal /REFE becomes L level, and when the RS flip-flop circuit <b>43</b> is reset, the refresh activating signal /REFE becomes H level.</p>
<p id="p-0049" num="0048">Next, distributed refresh operations of the aforementioned pseudo SRAM <b>10</b> will be described.</p>
<p id="p-0050" num="0049">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, and in particular, part (a) of <figref idref="DRAWINGS">FIG. 6</figref>, when the refresh timer <b>15</b> brings the refresh request signal /REFT to L level, the refresh waiting circuit <b>22</b> brings the refresh waiting signal /REFP to L level. In the case where the busy signal /BUSY is at H level and the access waiting signal /ECP is at H level, when the refresh waiting signal /REFP is set to L level, the refresh activating circuit <b>23</b> brings the refresh activating signal /REFE to L level.</p>
<p id="p-0051" num="0050">When the refresh activating signal /REFE is set to L level, the refresh waiting circuit <b>22</b> resets the refresh waiting signal /REFP to H level, and the array control circuit <b>12</b> takes in and holds the refresh address signal RA<b>1</b>-RAn currently outputted from the refresh address counter <b>17</b>, to thereby refresh the memory cell array <b>11</b> according to the refresh address signal RA<b>1</b>-RAn, and also brings the busy signal /BUSY to L level. When the busy signal /BUSY is set to L level, the refresh activating circuit <b>23</b> resets the refresh activating signal /REFE to H level.</p>
<p id="p-0052" num="0051">When the refresh activating signal /REFE is set to H level, the refresh address counter <b>17</b> updates and holds the refresh address signal RA<b>1</b>-RAn in preparation for the next refresh cycle. When the refresh is completed, the array control circuit <b>12</b> resets the busy signal /BUSY to H level.</p>
<p id="p-0053" num="0052">While it is not shown, when the refresh activating signal /REFE is again set to L level at the next refresh cycle, the array control circuit <b>12</b> takes in and holds the refresh address signal RA<b>1</b>-RAn that the refresh address counter <b>17</b> is holding and outputting, to thereby refresh the memory cell array <b>11</b> according to the refresh address signal RA<b>1</b>-RAn.</p>
<p id="p-0054" num="0053">Referring to part (b) of <figref idref="DRAWINGS">FIG. 6</figref>, differently from the above description, here, the access waiting circuit <b>20</b> brings the access waiting signal /ECP to L level in response to the chip enable signal /CE of L level, and the array control circuit <b>12</b> holds the busy signal /BUSY at L level.</p>
<p id="p-0055" num="0054">During this period, when the refresh timer <b>15</b> brings the refresh request signal /REFT to L level, the refresh waiting circuit <b>22</b> brings the refresh waiting signal /REFP to L level in a manner similar to that described above. However, since the busy signal /BUSY and the access waiting signal /ECP are in L level, even if the refresh waiting signal /REFP is set to L level, the refresh activating circuit <b>23</b> does not bring the refresh activating signal /REFE to L level, but keeps it at H level.</p>
<p id="p-0056" num="0055">Subsequently, when the busy signal /BUSY is reset to H level, the access activating circuit <b>21</b> brings the access activating signal /AE to L level. When the access activating signal /AE is set to L level, the access waiting circuit <b>20</b> resets the access waiting signal /ECP to H level, and the array control circuit <b>12</b> brings the busy signal /BUSY to L level.</p>
<p id="p-0057" num="0056">After completing the access operations, the array control circuit <b>12</b> resets the busy signal /BUSY to H level. At this time, since the access waiting signal /ECP is at H level and the refresh waiting signal /REFP is at L level, the refresh activating circuit <b>23</b> brings the refresh activating signal /REFE to L level.</p>
<p id="p-0058" num="0057">When the refresh activating signal /REFE is set to L level, the refresh waiting circuit <b>22</b> resets the refresh waiting signal /REFP to H level, and the array control circuit <b>12</b> brings the busy signal /BUSY to L level. When the busy signal /BUSY is set to L level, the refresh activating circuit <b>23</b> resets the refresh activating signal /REFE to H level.</p>
<p id="p-0059" num="0058">The refresh address counter <b>17</b> generates the refresh address signal RA<b>1</b>-RAn in response to the refresh activating signal /REFE. The array control circuit <b>12</b> refreshes the memory cell array <b>11</b> according to the refresh address signal RA<b>1</b>-RAn.</p>
<p id="p-0060" num="0059">In this manner, during the period after receiving the external access request and before the array control circuit <b>12</b> completes its operations, even if the refresh timer <b>15</b> requests the refresh, the refresh request is left pending, and the array control circuit <b>12</b> does not perform the refresh operations, but it performs the refresh operations immediately after completing the external access operations.</p>
<p id="p-0061" num="0060">Incidentally, in this configuration, there is a possibility that the refresh operation may be kept waiting if the external access requests successively occur, but if the shortest external cycle time is set slightly longer than the internal cycle time, it is possible to securely perform the refresh operations within the specified refresh period. The shortest cycle time specified by the specification of the pseudo SRAM <b>10</b> is called the “shortest external cycle time”. Additionally, the time for the access and the time for the refresh are almost the same, and this time is called “internal cycle time”. Since the details thereof are disclosed in Japanese Patent Application No. 2003-365168, it is incorporated herein by reference.</p>
<p id="p-0062" num="0061">As described above, according to the first embodiment of the present invention, when the chip enable signal /CE is set to L level and the external access is requested, and if the array control circuit itself is not in operation, the array control circuit <b>12</b> accesses the memory cell array <b>11</b> according to the external address signal A<b>1</b>-An. On the other hand, when the refresh timer <b>15</b> brings the refresh request signal /REFT to L level to request the refresh, and if the external access is not requested and the array control circuit itself is not in operation, the array control circuit <b>12</b> refreshes the memory cell array <b>11</b> according to the refresh address signal RA<b>1</b>-RAn. The pseudo SRAM <b>10</b> can arbitrate between the external access request and the refresh request in a manner described above.</p>
<p id="p-0063" num="0062">Moreover, by monitoring three kinds of signals, such as the busy signal /BUSY, the access waiting signal /ECP, and the refresh waiting signal /REFP, operations are quickly changed in the priority order of (1) the operation currently being executed, (2) the external access operation, (3) the refresh operation, while the operations are arbitrated, so the efficiency of the external access and the refresh can be increased. Namely, the access activating circuit <b>21</b> and the array control circuit <b>12</b> perform a handshake, and the refresh activating circuit <b>23</b> and the array control circuit <b>12</b> perform a handshake, thus making it possible to efficiently perform the external access operation and the refresh operation.</p>
<p id="p-0064" num="0063">Specifically, the refresh operation is kept waiting while the external access is requested. In that case it is not necessary to perform a special control for the refresh address counter <b>17</b>. In other words, the refresh address counter <b>17</b> is not controlled by the refresh request signal /REFT but controlled by the refresh activating signal /REFE. Moreover, if the array control circuit <b>12</b> is available to accept the next operation and the external access is not kept waiting, the refresh operation is immediately performed, so the time is not wasted, thus making it possible to support high speed data transfer.</p>
<p id="p-0065" num="0064">Moreover, since the access activating signal /AE and the refresh activating signal /REFE are generated separately, the array control circuit <b>12</b> performs appropriate operations according to respective signals, thus allowing the power consumption to be suppressed. In other words, since it is not necessary to operate the circuits of the column system and the data system during the refresh operation, the power consumption in connection with the column system and the data system can be suppressed, by stopping the operations of the circuits of the column system and the data system when instructions of the refresh operation are inputted.</p>
<p id="p-0066" num="0065">Moreover, it is sufficient to provide four kinds of comparatively simple logical circuits, such as the access waiting circuit <b>20</b>, the access activating circuit <b>21</b>, the refresh waiting circuit <b>22</b>, and the refresh activating circuit <b>23</b>, and it is not necessary to provide large-scale and complicated circuits, such as a counter for counting the number of occurrences of the refresh request, or a counter for counting the number of the refresh operations executed (employed in the prior art previously described). In other words, by dividing the refresh control into three stages of the refresh request, the refresh wait, and the refresh activation, it is possible to efficiently perform the whole control with a simpler configuration.</p>
<heading id="h-0008" level="1">SECOND EMBODIMENT</heading>
<p id="p-0067" num="0066">Referring to <figref idref="DRAWINGS">FIG. 7</figref>, in the second embodiment of the present invention, unlike the aforementioned first embodiment, the refresh address counter <b>17</b> generates a refresh completion signal /MAX, when it finishes generating the last refresh address signal RA<b>1</b>-RAn. The refresh timer <b>15</b> keeps the refresh request signal /REFT at L level until the refresh completion signal /MAX is set to L level.</p>
<p id="p-0068" num="0067">Next, burst refresh operation according to the second embodiment will be described.</p>
<p id="p-0069" num="0068">Referring to <figref idref="DRAWINGS">FIG. 8</figref>, and in particular, part (a) of <figref idref="DRAWINGS">FIG. 8</figref>, when the refresh timer <b>15</b> brings the refresh request signal /REFT to L level, the refresh waiting circuit <b>22</b> will bring the refresh waiting signal /REFP to L level. Unlike the aforementioned first embodiment, the refresh timer <b>15</b> keeps the refresh request signal /REFT at L level until the refresh completion signal /MAX is set to L level. Therefore, when the refresh activating signal /REFE is set to L level, the RS flip-flop circuit <b>37</b> of the refresh waiting circuit <b>22</b> is not reset. As a result, the refresh waiting circuit <b>22</b> keeps the refresh waiting signal /REFP at L level.</p>
<p id="p-0070" num="0069">When the array control circuit <b>12</b> completes the refresh according to the first refresh address signal RA<b>1</b>-RAn, the array control circuit <b>12</b> resets the busy signal /BUSY to H level. At this time, since the access waiting signal /ECP is in H level, and the refresh waiting signal /REFP still stays at L level, the refresh activating circuit <b>23</b> brings the refresh activating signal /REFE to L level. Hence, the array control circuit <b>12</b> performs the refresh in response to the next refresh address signal RA<b>1</b>-RAn generated by the refresh address counter <b>17</b>.</p>
<p id="p-0071" num="0070">Referring to part (b) of <figref idref="DRAWINGS">FIG. 8</figref>, while the refresh waiting signal /REFP is kept at L level, namely, during the burst refresh, and when the chip enable signal /CE is set to L level and so that access is externally requested, the access waiting signal /ECP is brought to L level.</p>
<p id="p-0072" num="0071">Subsequently, when the array control circuit <b>12</b> completes the refresh of the designated address and resets the busy signal /BUSY to H level, the access activating circuit <b>21</b> brings the access activating signal /AE to L level since the access waiting signal /ECP has been in L level. As a result, the array control circuit <b>12</b> performs the normal access operations.</p>
<p id="p-0073" num="0072">Referring to part (c) of <figref idref="DRAWINGS">FIG. 8</figref>, the refresh address counter <b>17</b> generates the last refresh address signal RA<b>1</b>-RAn in preparation for the last refresh cycle, and further brings the refresh completion signal /MAX to L level. When the refresh completion signal /MAX is set to L level, the refresh timer <b>15</b> resets the refresh request signal /REFT to H level. Note herein that, since the refresh activating signal /REFE is in H level, the refresh waiting circuit <b>22</b> keeps the refresh waiting signal /REFP at L level.</p>
<p id="p-0074" num="0073">Subsequently, when the array control circuit <b>12</b> completes the refresh of the second last address and resets the busy signal /BUSY to H level, the refresh activating circuit <b>23</b> brings the refresh activating signal /REFE to L level since the access waiting signal /ECP is in H level, and the refresh waiting signal /REFP still stays at L level. In response to this, the array control circuit <b>12</b> refreshes the memory cell array according to the last refresh address signal RA<b>1</b>-RAn generated in the previous refresh cycle.</p>
<p id="p-0075" num="0074">At this time, since the refresh request signal /REFT has been reset to H level, the refresh waiting circuit <b>22</b> resets the refresh waiting signal /REFP to H level when the refresh activating signal /REFE is set to L level.</p>
<p id="p-0076" num="0075">When the array control circuit <b>12</b> brings the busy signal /BUSY to L level and thus the refresh activating circuit <b>23</b> resets the refresh activating signal /REFE to H level, the refresh address counter <b>17</b> generates the first refresh address signal RA<b>1</b>-RAn for the next burst refresh in response to the rising edge of the refresh activating signal /REFE.</p>
<p id="p-0077" num="0076">As described above, according to the second embodiment of the present invention, although the array control circuit <b>12</b> performs the burst refresh, it can interrupt the burst refresh to give priority to the external access request, if the external access is requested during the burst refresh.</p>
<p id="p-0078" num="0077">The aforementioned embodiments are the pseudo SRAMs <b>10</b>, which have the refresh timer <b>15</b> provided therein, but the refresh timer <b>15</b> may be omitted. In this case, the refresh request signal /REFT or a signal corresponding to this signal may be externally supplied. Moreover, the refresh address counter <b>17</b> may be omitted, either. The refresh address signals RA<b>1</b>-RAn are externally supplied in this case. The present invention is therefore applicable not only to pseudo SRAMs but also to DRAMs.</p>
<p id="p-0079" num="0078">In the aforementioned embodiments, the access waiting circuit <b>20</b> for generating the access waiting signal /ECP in response to the chip enable signal /CE as an external access request signal, has been exemplified, but circuits for generating the access waiting signal in response to other external access request signals, such as the write enable signal /WE, the output enable signal /OE, and so on may be configured in a manner similar to the access waiting circuit <b>20</b>.</p>
<p id="p-0080" num="0079">As described above, the embodiments of the present invention have been described, but the aforementioned embodiments are only exemplifications for carrying out the present invention. Therefore, the present invention is not limited to the embodiments described above, and accordingly, the aforementioned embodiments can be appropriately modified and implemented without departing from the scope of the subject of the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A semiconductor memory device, comprising:
<claim-text>a memory cell array including a plurality of dynamic memory cells;</claim-text>
<claim-text>an array control circuit for accessing the memory cell array in response to an external address signal, and refreshing the memory cell array in response to a refresh address signal;</claim-text>
<claim-text>an access control circuit for allowing access by the array control circuit, if access is externally requested and the array control circuit is not in operation; and</claim-text>
<claim-text>a refresh control circuit for allowing the refresh by the array control circuit, if a refresh is requested, access is not externally requested and the array control circuit is not in operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The semiconductor memory device according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein
<claim-text>the array control circuit generates a busy signal during an access operation or a refresh operation for the memory cell array;</claim-text>
<claim-text>the access control circuit includes an access waiting circuit for generating an access waiting signal in response to an access request signal externally supplied;</claim-text>
<claim-text>the refresh control circuit includes a refresh waiting circuit for generating a refresh waiting signal in response to a refresh request signal, and a refresh activating circuit for generating a refresh activating signal in response to the access waiting signal, the refresh waiting signal, and the busy signal; and</claim-text>
<claim-text>the array control circuit performs the refresh operation in response to the refresh activating signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The semiconductor memory device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the refresh waiting circuit includes a first flip-flop circuit which sets in response to the refresh request signal, and resets in response to the refresh activating signal.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The semiconductor memory device according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising a power-on reset circuit for generating a power-on reset signal immediately after power is turned on, the first flip-flop circuit being reset in response to active state of the power-on reset signal.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The semiconductor memory device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the refresh activating circuit includes a second flip-flop circuit which sets in response to the access waiting signal, the refresh waiting signal, and the busy signal; and resets when the busy signal is active.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The semiconductor memory device according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, further comprising a power-on reset circuit for generating a power-on reset signal immediately after a power-on, the second flip-flop circuit being reset in response to active state of the power-on reset signal.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The semiconductor memory device according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, further comprising an address counter for generating the refresh address signal in response to the refresh activating signal.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The semiconductor memory device according to <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising a refresh timer for generating the refresh request signal.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The semiconductor memory device according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the refresh timer activates the refresh request signal until the address counter generates a predetermined number of refresh address signals.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A refresh control method in a semiconductor memory device comprising a memory cell array including a plurality of dynamic memory cells, the method comprising the steps of:
<claim-text>generating a busy signal during an access operation or a refresh operation for the memory cell array;</claim-text>
<claim-text>generating an access waiting signal in response to an access request signal externally supplied;</claim-text>
<claim-text>generating a refresh waiting signal in response to a refresh request signal;</claim-text>
<claim-text>generating a refresh activating signal in response to the inactive state of the access waiting signal, the active state of the refresh waiting signal, and the inactive state of the busy signal; and</claim-text>
<claim-text>performing the refresh operation in response to the refresh activating signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The refresh control method in the semiconductor memory device according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising the step of generating a refresh address signal in response to the refresh activating signal.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The refresh control method in the semiconductor memory device according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising the step of generating the refresh request signal.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The refresh control method in the semiconductor memory device according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising the steps of:
<claim-text>activating the refresh request signal until a predetermined number of refresh address signals has been generated.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
