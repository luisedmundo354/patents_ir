<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298317-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298317</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11280510</doc-number>
<date>20051116</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>203</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>S</subclass>
<main-group>7</main-group>
<subgroup>40</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>342174</main-classification>
<further-classification>342195</further-classification>
<further-classification>342 91</further-classification>
<further-classification>342 92</further-classification>
<further-classification>342194</further-classification>
</classification-national>
<invention-title id="d0e53">Gain compensation in an ultra-wideband transceiver</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5073782</doc-number>
<kind>A</kind>
<name>Huguenin et al.</name>
<date>19911200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>342179</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5455590</doc-number>
<kind>A</kind>
<name>Collins et al.</name>
<date>19951000</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>342179</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5557283</doc-number>
<kind>A</kind>
<name>Sheen et al.</name>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>342179</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5573012</doc-number>
<kind>A</kind>
<name>McEwan</name>
<date>19961100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>128782</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5859609</doc-number>
<kind>A</kind>
<name>Sheen et al.</name>
<date>19990100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>342179</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6507309</doc-number>
<kind>B2</kind>
<name>McMakin et al.</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>342 22</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6665577</doc-number>
<kind>B2</kind>
<name>Onyshkevych et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>700130</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2007/0003078</doc-number>
<kind>A1</kind>
<name>Escott et al.</name>
<date>20070100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>381107</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2007/0047621</doc-number>
<kind>A1</kind>
<name>Barnes et al.</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375130</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2007/0049234</doc-number>
<kind>A1</kind>
<name>McCorkle et al.</name>
<date>20070300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455313</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2007/0076818</doc-number>
<kind>A1</kind>
<name>Barnes et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375316</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2007/0109180</doc-number>
<kind>A1</kind>
<name>Charpentier et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>342174</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00013">
<othercit>“A 0.1-23-GHz SiGe BiCMOS analog multiplier and mixer based on attenuation-compensation technique”, Ming-Da Tsai; Chin-Shen Lin; Chi-Hsueh Wang; Chun-Hsien Lien; Huei Wang Radio Frequency Integrated Circuits (RFIC) Symposium, 2004. Digest of Papers. IEEE Jun. 6-8, 2004 Ps: 417-420.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00014">
<othercit>“3-D Holographic Body Scanner for Better Airport Security”,<i>Energy Science News</i>, www.pml.gov/energyscience/01-02/art1.htm, 4 pages.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>22</number-of-claims>
<us-exemplary-claim>21</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>342165</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>342173</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>342174</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>342194</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>342195</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>342 91- 94</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20070109180</doc-number>
<kind>A1</kind>
<date>20070517</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Charpentier</last-name>
<first-name>Albert J.</first-name>
<address>
<city>Malvern</city>
<state>PA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Bhat</last-name>
<first-name>Gopalakrishna K.</first-name>
<address>
<city>North Wales</city>
<state>PA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Woodcock Washburn LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Schaefer</last-name>
<first-name>Jerome G.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Intellifit Corporation</orgname>
<role>02</role>
<address>
<city>Horsham</city>
<state>PA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Sotomayor</last-name>
<first-name>John B</first-name>
<department>3662</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A circuit for providing gain compensation to a swept frequency response in an ultra-wideband system includes using a variable amplitude IF signal into a gigahertz mixer to control the amplitude of a ultra-wideband transmitter. The variable amplitude IF signal is generated by a multiplier receiving a fixed-level intermediate frequency (IF) signal and a gain control input. The gain control input being provided by an digital-to-analog converter controlled by gain control values in a look-up table. The values of the look-up table are generated by inverting, normalizing, and scaling the uncompensated gain response of the ultra-wideband system. The gain compensated system produces a substantially flat amplitude response at the output of a quadrature receiver.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="124.21mm" wi="190.44mm" file="US07298317-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="234.87mm" wi="152.15mm" orientation="landscape" file="US07298317-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="251.63mm" wi="178.90mm" orientation="landscape" file="US07298317-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="217.00mm" wi="169.59mm" orientation="landscape" file="US07298317-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="168.91mm" wi="153.50mm" orientation="landscape" file="US07298317-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="166.54mm" wi="151.72mm" orientation="landscape" file="US07298317-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="225.13mm" wi="188.64mm" file="US07298317-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="214.71mm" wi="175.01mm" file="US07298317-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">This invention relates to gain compensation in ultra-wideband transceivers. Specifically, this invention relates to a method to compensate for non-uniform frequency response in a transmitter/receiver system where a substantially uniform signal return level is desirable.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Some scanning systems which determine dimensional and topographical information from a clothed individual use ultra-wideband electromagnetic radiation. These systems can non-intrusively determine the physical measurements of an individual and render a display image. U.S. Pat. No. 6,507,309 entitled Interrogation of an Object for Dimensional and Topographical Information discloses a method of determining the dimensions of a human body using electromagnetic radiation in the frequency range of about 200 Megahertz (MHz) to about 1 Terahertz (THz). In a most preferred form, this reference discloses a range of about 5 Gigahertz (GHz) to about 110 GHz.</p>
<p id="p-0004" num="0003">Scanning systems such as this transmit signals to a human target only a few feet away from a an array of transmitting and receiving elements. Accordingly, signal levels are very low to avoid unhealthy radiation exposure. An ultra-wide frequency scan is desirable to obtain target topography definition that is unavailable at lower bandwidths. Operation of such systems is also designed to be swift such that the human target does not have to remain motionless for an extended period of time. Thus, scan times generally need to be under a minute in length for comfort of the human target. Accordingly, a continuous and rapid sweep of the ultra-wide bandwidth frequency set is needed as the array of transmitting and receiving elements are moved around the individual being scanned. Such ultra-wideband scanning transceivers generally exhibit a non-uniform gain in the frequency response characteristics across the frequency band of interest.</p>
<p id="p-0005" num="0004">In typical communication systems, narrow band transmission techniques are used which can avoid excessive frequency response non-uniformity. For example, in narrow band systems requiring only a few MHz in bandwidth, it is relatively easy to tune the high frequency components to achieve optimum linearity performance. There, the required bandwidth allows operation across a frequency range where the frequency response of the transmitter or receiver components are more closely related and component tolerances are controllable. However in an ultra-wideband system (e.g. 5 GHz or more) tuning the frequency response of the system to be optimal is a much more challenging task because of the inherent variation of the system components over the ultra-wide frequency range. All components show some amount of gain variation when used over a wide bandwidth. But, in the ultra-wide bandwidth systems, the gain variation in the components over the frequency range can be severe. For example, the semiconductor components, cabling and antennas that are used in the total system can have gain variation in excess of 20 dB. This variation reflects directly on the signal to noise quality of the system. Not only is the gain variation substantial, it can occur in a relatively small region of the overall bandwidth of the system. For example, component and connection gain variations as much as 20 dB can easily be encountered in measured bandwidths as small as 0.2 GHz.</p>
<p id="p-0006" num="0005">A system of cascaded narrow band transceivers multiplexed into the transceiver elements could be used to address the ultra-wideband gain uniformity issues addressed above. But, the solution is undesirable in terms of cost and complexity in transceiver equipment and the difficulty in mapping different bandwidth variations into useable acquisition results for post-processing of data. Accordingly, a gain compensation mechanism is desirable to allow the use of a single transceiver to system to sweep an ultra-wideband system across its full frequency range while maintaining a reasonable and predictable transmit and receive signal level across the entire spectrum of interest.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0007" num="0006">This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used to limit the scope of the claimed subject matter.</p>
<p id="p-0008" num="0007">According to an aspect of the invention, a gain compensation system is used in a multi-Gigahertz bandwidth system which measures parameters of a human individual. The gain compensation scheme involves a circuit that controls the output a gigahertz mixer by controlling the level of the intermediate frequency (IF) input amplitude of the gigahertz mixer. In one embodiment, the amplitude level of the IF input to the gigahertz mixer is the result of an analog multiplier. One input of the analog multiplier receives a fixed level IF signal and the other multiplier input receives a gain control signal. The circuit operates by sending gain values stored in a memory to a digital-to-analog (D/A) converter. The analog output of the D/A converter is the gain control signal sent to the analog multiplier.</p>
<p id="p-0009" num="0008">The gain control values are obtained by measuring the uncompensated frequency response of the ultra-wideband transceiver when a flat, stationary target is presented to the combination transmit/receive antenna array. The overall system frequency response is obtained from transmitter through to the final receiver and mixer down to the baseband output of a quadrature receiver. A table of this complete frequency response is created representing the amplitude response of the uncompensated system. A corresponding inverse and scaled table is then generated representing the gain compensated values. These values may be stored in the gain table. When utilized, the gain table dramatically improves the flatness of the system response over the desired bandwidth of the system. Other features of the invention will be evident from the following detailed description of the preferred embodiments.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1</figref> is a functional block diagram of an example ultra-wideband system used for measuring the form of an individual;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 2</figref> is block diagram of an example ultra-wideband system transceiver;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram of a circuit embodiment having aspects of the invention;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 4</figref><i>a </i>graphically depicts the frequency response of an uncompensated system;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref><i>b </i>graphically depicts the frequency response of a compensated system;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram of a method having aspects of the invention; and,</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref> is a flow diagram of a method which controls an ultra-wideband system.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS</heading>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> depicts an example ultra-wideband system <b>100</b>. Although many applications of an ultra-wideband system are possible, <figref idref="DRAWINGS">FIG. 1</figref> depicts a system for the measurement of physical characteristics of an individual. This specific example system <b>100</b> acquires data representative of reflections of electromotive (EM) energy from an individuals' body. The system includes an area <b>120</b> where an individual <b>110</b> would stand while low level EM energy is transmitted, reflected off the individuals body, and received. However, it will be noted that aspects of the invention may be used in any suitable ultra-wideband system.</p>
<p id="p-0018" num="0017">In one aspect of the invention, a frequency and gain control function <b>102</b> is used to control the level of RF energy used to feed the transmission equipment <b>104</b>. The function of the frequency and gain control is to provide gain compensation over the wide bandwidth of the ultra-wideband system <b>100</b>. Without such a gain compensation function, the amplitude of the transmit antenna array and other components <b>108</b> would fall off sharply as the frequency of the ultra-wideband sweep increased. The system <b>100</b> operates by transmitting across an ultra-wideband of frequencies in a multiple sweeps or “chirps”. The chirps or sweeps are performed periodically as the array is moved over the stationary individual. An antenna multiplexer <b>106</b> selects a transmit and receive antenna pair that transmits and receives the sweep of frequencies within the chirp.</p>
<p id="p-0019" num="0018">Variations in the received signal correspond to the distance of the “reflective” portions of the individuals body from the antenna array <b>108</b>. Reflected signals are received by the receive portion of the antenna array <b>108</b>, are demultiplexed <b>106</b> and processed by the RF receiver equipment <b>112</b>. Variations in the received signals are then processed, either in real-time or by post processing <b>114</b> to derive a three dimensional image of the individual <b>110</b>.</p>
<p id="p-0020" num="0019">In one example embodiment, a sweep may occur over the frequency range of 9.5 to 17.5 GHz. This sweep is chirped in a burst in less than 30 microseconds and is repeated continuously as the array is moved around the individuals body to map the reflections of the individual as seen in a 360 degree rotation.</p>
<p id="p-0021" num="0020">If the gain of the transmit chirp is not naturally gain-uniform because the frequency response or tuning of the system components is not linear over the entire chirp frequency range. The decreasing amplitude response of the system as the each chirp reaches higher frequencies would result in loss of reflected signal from the individuals body, thus resulting in reflective data loss at higher frequencies. Thus, gain compensation of the ultra-wideband system <b>100</b> is most desirable.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of an example ultra-wideband system <b>200</b> configured to accommodate the gain compensation needs of <figref idref="DRAWINGS">FIG. 1</figref>. Briefly the system <b>200</b> controls the gain of the intermediate frequency (IF) signal input to mixer <b>212</b> to control the gain of a the transmit signal across the ultra-wideband frequency range of each chirp produced by the system.</p>
<p id="p-0023" num="0022">The transmission portion of the system <b>200</b> includes a look up table (LUT) <b>202</b> to control a digital to analog (D/A) converter <b>204</b> which exercises a voltage controlled oscillator (VCO) <b>206</b>. The VCO <b>206</b> is used to generate the sweep of frequencies needed for the ultra-wideband system chirp. Voltage controlled oscillators have analog inputs and may be nonlinear in their voltage to frequency conversion. Accordingly, swept frequencies are controlled by varying the analog input. In the example system <b>200</b>, the linearity of the VCO <b>206</b> may be controlled by the look up table supplying digital control values to the D/A converter <b>204</b> corresponding to the frequency ramp desired. In one embodiment of the system <b>200</b>, the VCO <b>206</b> may be controlled by the D/A converter to produce a frequency range of 4.75 GHz to 8.75 GHz. Accordingly, a frequency doubler <b>208</b> is used to bring up the chirp frequency sweep up to 9.5 GHz to 17.5 GHz. The sweep of frequencies enters a power splitter <b>210</b> to feed a mixer <b>212</b> and a feedback delay line <b>244</b>.</p>
<p id="p-0024" num="0023">The mixer <b>212</b> combines an IF signal and the sweep of frequencies emerging from the frequency doubler <b>208</b> via the splitter <b>210</b>. In one aspect of the invention, the analog level of the IF input to the mixer <b>212</b> is varied to accommodate the falloff of frequency response of the RF elements of the system <b>200</b> as frequencies increase within a chirp. In one embodiment of the system <b>200</b>, an IF frequency of 68 MHz is used as a local oscillator (LO) <b>242</b>. The LO is used by both the transmitter portion of the transceiver system <b>200</b> and the receiver portion via a power splitter <b>240</b>.</p>
<p id="p-0025" num="0024">Considering the LO signal that feeds the transmitting portion of the transceiver system <b>200</b>, the LO signal <b>241</b> is used to feed a multiplier <b>238</b>. In one aspect of the invention, the IF signal amplitude is varied by controlling a second input to the multiplier <b>238</b>. This second input is a control voltage input varied by a look up table <b>234</b> providing digital input values for a D/A converter. Here, values of the look up table <b>234</b> are programmed to vary the magnitude of the control voltage input of the multiplier <b>238</b>. The D/A converter <b>236</b> essentially provides a gain control input for the fixed-level 68 MHz LO. The output of the multiplier <b>241</b> is an IF signal whose magnitude is controlled via the look up table <b>234</b>. The look up table is programmed to compensate for the high frequency drop in magnitude of the chirp signal. The output of the mixer <b>212</b> is a ultra-wideband frequency swept output with an output signal level which compensates for the non-uniform gain characteristic in the frequency response of the RF components of the transceiver system <b>200</b>.</p>
<p id="p-0026" num="0025">The ultra-wideband signal at the output of the mixer <b>212</b> is amplified <b>214</b> and routed via an element mux <b>216</b> to a transmit element in the transmit array <b>218</b>. In operation, as depicted in <figref idref="DRAWINGS">FIG. 1</figref>, the ultra-wideband transmit wavefront is reflected off of the individual's body <b>110</b> and sensed by a selected receive element in the receive array. Returning to <figref idref="DRAWINGS">FIG. 2</figref>, a receive element in the receive array <b>218</b> collects the reflected signals. The collected signals are routed via mux <b>220</b> to an low noise amplifier <b>222</b> and are presented for downconversion. Mixer <b>224</b> combines the received signal from the low noise amplifier <b>222</b> and a copy of the ultra-wideband signal from amplifier <b>246</b> and produces an IF result. The copy of the ultra-wideband signal was obtained from the output of the frequency doubler via a power splitter <b>210</b>. A delay line <b>244</b> is inserted in the system <b>200</b> so as to accommodate the travel time and distance that the ultra-wideband signal traverses to get to the mixer <b>224</b>.</p>
<p id="p-0027" num="0026">In one embodiment, the delay line provides an equivalent of 17 feet of signal delay so that a phase correlated downconversion of the received reflection signal may occur. A 70 MHz bandpass filter <b>226</b> is employed to filter out the unwanted mixer products and the result is amplified <b>228</b> before being provided to a 70 MHz quadrature receiver <b>230</b>. I and Q channels may be extracted and provided to an A/D converter <b>232</b> so that the digitized data can be processed.</p>
<p id="p-0028" num="0027">In one aspect of the invention, a calibration of the gain of the ultra-wideband signal over the frequency range of one chirp is made. In one embodiment, a system calibration is performed after the initial build and prior to use as a human body profiler. The calibration data may be provided into RAM memory which drives the D/A converter <b>236</b> used to modulate the gain of the IF multiplier <b>238</b>. In brief, the calibration includes supplying the gain curve with a flat (DC) table of approximated 25% of full RF power. The overall system response is obtained, from the transmitter <b>214</b> through to the final receiver and mixer down to the baseband I and Q signal output of the 70 MHz quadrature receiver <b>230</b>. The complete response of the system over the ultra-wide bandwidth is characterized and a table is created representing the amplitude response of the system. An inverse table of the amplitude information is then stored in the look up table <b>234</b> that drives the D/A converter <b>236</b>. The gain calibration compensates for the falloff of gain at the high frequencies of the chirp and dramatically improves the flatness of the system response over the entire desired bandwidth of the system.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 3</figref> is an example embodiment of the gain compensation mechanism <b>300</b> of the present invention. A digital counter <b>310</b> is driven by a clock oscillator <b>324</b> to provide a ramp of digital counts useful as an address for memory. RAM <b>312</b> is used as a look up table corresponding to the LUT <b>202</b> of <figref idref="DRAWINGS">FIG. 2</figref>. RAM <b>312</b> provides the linearity compensation for the voltage controlled oscillator <b>316</b> which drive the frequency doubler <b>208</b>. The counter simultaneously provides an address reference to RAM <b>318</b> which contains the gain compensation look up table. The RAM <b>318</b> drives the D/A converter <b>320</b> to provide an analog input to the four quadrant multiplier <b>322</b>. This analog multiplier also inputs the fixed-level LO frequency so that the output of the multiplier is a controlled level LO output to drive the ultra-wideband mixer previously discussed. In one embodiment, the single synchronous counter can provide the same address information to control the responses of both the voltage controlled oscillator <b>316</b> as well as the analog multiplier <b>322</b>. Thus, the swept frequency and the gain compensation are synchronized. A CPU and control logic <b>326</b> provides the overall timing and event control for the gain compensation circuitry <b>300</b> as well as the rest of the system <b>200</b>.</p>
<p id="p-0030" num="0029">In one aspect of the invention, the gain compensation mechanism accommodates normal variations in the build of the ultra-wideband system that affects frequency response. The goal is to obtain an ultra-wideband transmission signal that has a nearly uniform or flat gain characteristic across the entire frequency sweep of the chirp. The flatness or improved uniformity of the gain characteristic in the frequency response of the system components may be measured by examining the I and/or Q channels of the 70 MHz quadrature receiver. During such a frequency response measurement, the human target is replaced with a flat panel reflector. Using a flat, known reflectivity target removes signal length, attenuation variation, and shape variations from affecting both the amplitude and phase response of the system.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 4</figref><i>a </i>is an example depiction of a frequency response of the system after VCO <b>316</b> calibration but before gain compensation. The <figref idref="DRAWINGS">FIG. 4</figref><i>a </i>response is indicative of the frequency response of the system viewing a single chirp against a flat and stationary calibration target. The I channel response <b>410</b> indicates that there is a notable amplitude fall-off as frequency increases in the chirp sweep. The Q channel response <b>420</b> would be similar but have a 90 degree phase shift. Thus, the non-uniform gain characteristic of the uncompensated system make it more difficult to extract useful reflection information from all frequency portions of the chirp. The uncompensated power level <b>430</b> is calculated as SQRT (I<sup>2</sup>+Q<sup>2</sup>).</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 4</figref><i>b </i>depicts the same system configuration after gain compensation. Here, RAM <b>318</b> was loaded with values commensurate with an increased gain across the frequency sweep of the chirp. The I channel result <b>450</b> after compensation indicates a more uniform gain response across the frequency sweep of a single chirp. The corresponding Q channel result <b>460</b> is similar with a 90 degree phase shift. The compensated power level <b>470</b> is calculated as SQRT (I<sup>2</sup>+Q<sup>2</sup>). The more stable and flat the frequency response, the easier it is to extract frequency and amplitude variations which correspond to contours of the target.</p>
<p id="p-0033" num="0032">Although the <figref idref="DRAWINGS">FIG. 4</figref><i>b </i>response is only an example of the calibration results, an ideal compensation would result in a fixed frequency of perfectly uniform amplitude across the entire sweep of the chirp. In the case of a flat and stationary calibration target, the frequency of the <figref idref="DRAWINGS">FIG. 4</figref><i>b </i>I channel results <b>450</b> would ideally be fixed corresponding to the difference in frequency between the transmit wavefront and the receive wavefront as received at the mixer in the receiver chain. Ideally, the <figref idref="DRAWINGS">FIG. 4</figref><i>b </i>response should also have perfectly uniform amplitude because there should be no difference in attenuation of the calibrated system over the full frequency sweep within the chirp. However, the empirical results shown in <figref idref="DRAWINGS">FIG. 4</figref><i>b </i>of the gain compensation mechanism are a dramatic and valuable improvement in gain flatness over the uncompensated response of <figref idref="DRAWINGS">FIG. 4</figref><i>a. </i>This improvement in flatness of the gain characteristic, producing a substantially uniform gain over the sweep, enables post-processing of all of the frequency portions of the sweep, including the normally lower high frequency portions.</p>
<p id="p-0034" num="0033">Generation of the gain compensation tables may be generated using a computer running software for processing data received from an uncompensated frequency response of the ultra-wideband system. <figref idref="DRAWINGS">FIG. 5</figref> is a flow diagram of an example method of generating gain compensation values for the present invention. Initially, an ultra-wideband system is built and a flat stationary target is placed in front of the transmit and receive antenna element array. The gain compensation table or gains compensation values are set to a constant level (step <b>505</b>). The transmitter is swept across the multiple gigahertz bandwidth (step <b>510</b>). The transmitter is swept using a first transmit and receiver element pair. During the sweep, in-phase (I) and quadrature phase (Q) responses are sampled and recorded (step <b>515</b>). In one embodiment, 128 samples across the bandwidth are measured for each chirp or frequency sweep of the system.</p>
<p id="p-0035" num="0034">If all of the antenna elements have not been swept (step <b>520</b>) then steps <b>510</b> and <b>515</b> are repeated after selecting a next transmit and receive antenna element pair until all transmit and receive element pairs have been exercised. In one embodiment, <b>192</b> elements pairs are sampled. If all elements have been exercised, then the average amplitude value at each frequency point is calculated for all elements (step <b>525</b>). In one embodiment, the I and Q channel sample values are each squared and added to determine the effective power of the detected reflection signal. The average value for each frequency point is then inverted to compute the rough gain compensation value (step <b>530</b>). The rough gain compensation values are normalized to produce a uniform set of gain compensation values (step <b>535</b>). The normalized gain values are then scaled to fit the D/A converter dynamic range (step <b>540</b>). In one embodiment, the dynamic range may be 8 bits. The normalized and scaled gain values may then be loaded into the gain compensation tables (step <b>545</b>). The ultra-wideband transceiver can now operate in a gain compensated mode. As a result, the I, Q, or power combination of both channels appears to be substantially uniform over the frequency range of the sweep or chirp.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 6</figref> is a flow diagram showing a method <b>600</b> having aspects of the current invention. The method <b>600</b> controls an ultra-wideband system for the measurement of an individual using a gain compensated ultra-wideband frequency transmission scheme. Initially, a first transmit and receive antenna array having a plurality of element pairs is selected (step <b>605</b>). A sweep of a gain compensated ultra-wideband frequency band is initiated (step <b>610</b>). Simultaneous with the sweep, a reflected signal of the gain compensated ultra-wideband frequency band signal is received and downconverted (step <b>615</b>). The downconverted signal is demodulated (step <b>620</b>).</p>
<p id="p-0037" num="0036">The process may end (step <b>625</b>) if only one sweep of the system is needed. However, in operation, some systems will require multiple sweeps and post processing of the results. For example, if a sweep of each antenna element receive and transmit pair is desired, then the process determines if all of the antenna elements have been sampled (step <b>630</b>). If not, then steps <b>605</b>-<b>620</b> are repeated for the next antenna element pair. If all antenna elements have been sampled, then post-processing of the gain compensated demodulated data may be accomplished (step <b>635</b>). This post processing includes extracting measurements of an individuals body from the demodulated data.</p>
<p id="p-0038" num="0037">It will be apparent to those skilled in the art that various modifications and variations may be made in the apparatus and method of the present invention without departing from the spirit or scope of the invention. For example, the gain compensation scheme may be implemented in any multi-gigahertz transceiver. Thus, it is intended that the present invention encompass modifications and variations of this scheme provided those modifications and variations come within the scope of the appended claims and equivalents thereof.</p>
<p id="p-0039" num="0038">Although the subject matter has been described in language specific to structural features and/or methodological acts, it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather, the specific features and acts described above are disclosed as example forms of implementing the claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A circuit for providing gain compensation of a swept frequency response in an ultra-wideband system, the circuit comprising:
<claim-text>a multiplier receiving a first input signal comprising a fixed-level intermediate frequency (IF) signal and a second input signal comprising a gain control signal, the multiplier providing a variable amplitude IF signal output;</claim-text>
<claim-text>a mixer coupled to the multiplier signal output, the mixer producing a variable amplitude ultra-wideband output signal derived from the variable amplitude IF signal and a swept frequency signal;</claim-text>
<claim-text>a digital-to-analog converter providing the gain control signal to the multiplier; and</claim-text>
<claim-text>a memory containing gain values, the gain values controlling the digital-to-analog converter, wherein the gain values compensate for amplitude variations of a swept frequency response of the ultra-wideband system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the ultra-wideband system has a bandwidth of about 5 GHz or greater.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a voltage controlled oscillator (VCO) providing the swept frequency signal;</claim-text>
<claim-text>a second digital-to-analog converter coupled to the VCO providing frequency control for the VCO; and</claim-text>
<claim-text>a memory containing frequency control values, the frequency control values controlling the second digital-to-analog converter, wherein the frequency control values compensate for frequency variations of the swept frequency signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising:
<claim-text>a counter coupled to the memory containing gain values and the memory containing frequency control values wherein the swept frequency signal produced by the VCO and the variable amplitude IF signal are synchronized.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a counter, driven by control logic, that changes addresses to the memory containing gain values such that a gain compensation value corresponds to each change in frequency in the swept frequency signal.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, where the multiplier is a four quadrant analog multiplier, and the mixer accommodates a swept frequency signal of 5 GHz or greater.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the swept frequency signal comprises a chirp of about 5 GHz or greater.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A system for scanning an individual using an ultra-wideband transceiver, the system comprising:
<claim-text>a transmit and receive antenna array, the antenna array emitting a gain compensated ultra-wideband sweep signal from a transmit element and receiving a reflected signal on a corresponding receive element;</claim-text>
<claim-text>an ultra-wideband transmitter chain comprising an ultra-wideband frequency source, a controllable amplitude intermediate frequency (IF) source, and a mixer which outputs the gain compensated ultra-wideband sweep signal;</claim-text>
<claim-text>an ultra-wideband receiver chain, the receiver chain comprising a low noise amplifier, a downconverter, and a quadrature receiver;</claim-text>
<claim-text>wherein the gain compensated ultra-wideband sweep signal is derived by varying the controllable amplitude IF source into the mixer, and wherein the gain compensated ultra-wideband sweep signal compensates for frequency response amplitude variations across a frequency sweep of the system such that a substantially uniform amplitude signal at an output of the quadrature receiver is acquired if a flat target is presented to the antenna array.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the ultra-wideband frequency source produces a chirp of about 5 GHz or greater.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising an antenna selection mechanism which selects transmit and receive element pairs for each ultra-wideband frequency sweep.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the controllable amplitude IF source comprises:
<claim-text>a multiplier receiving a first input signal comprising a fixed-level IF signal and a second input signal comprising a gain control signal, the multiplier producing a variable amplitude IF signal output;</claim-text>
<claim-text>a digital-to-analog converter providing the gain control signal to the multiplier; and</claim-text>
<claim-text>a memory containing gain values, the gain values controlling the digital-to-analog converter.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The system of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the gain values are acquired by inverting, normalizing, and scaling samples of a sweep of an uncompensated transceiver acquired when the flat target is presented to the antenna array.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the downconverter comprises:
<claim-text>a mixer receiving a signal reflected from the flat target and a delayed signal copy of the ultra-wideband frequency source, the mixer producing an intermediate frequency signal product; and</claim-text>
<claim-text>an intermediate bandpass filter to pass the intermediate signal product.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The system of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the quadrature receiver output comprises at least one of an in-phase (I) channel and a quadrature-phase (Q) channel.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. A method of controlling an ultra-wideband transceiver in a system which determines physical measurements of an individual, the method comprising:
<claim-text>selecting a transmit and receive element pair of the antenna array;</claim-text>
<claim-text>initiating a frequency sweep of an individual via a transmit antenna array, the sweep comprising emission of a gain compensated ultra-wideband transmit signal generated using a variable amplitude intermediate frequency (IF) signal mixed with a fixed amplitude ultra-wideband sweep signal;</claim-text>
<claim-text>receiving and downconverting a signal reflected off of the individual;</claim-text>
<claim-text>demodulating the downconverted signal;</claim-text>
<claim-text>wherein the gain compensated ultra-wideband transmit signal compensates for frequency response amplitude variations across the frequency sweep of the system such that a substantially uniform amplitude signal measured at the demodulated signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein selecting a transmit and receive element pair of the antenna array comprises selecting a multiplexer coupled to the antenna array which routes transmit energy to a transmit element and selects reflected energy received on a receive element.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein initiating a frequency sweep further comprises activating a counter mechanism to provide addresses to a first memory, the first memory storing gain compensation values useful to control a digital-to-analog converter generating the variable amplitude IF signal.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the gain compensation values are obtained by inverting, normalizing, and scaling an uncompensated frequency response of the system when presented with a flat reference target.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the counter further provides addresses to a second memory, the second memory storing frequency compensation values useful to control a digital-to-analog converter generating the frequency sweep via a voltage controlled oscillator.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein downconverting a signal reflected off of the individual comprises using a mixer and a delayed version of a signal comprising the frequency sweep with the reflected signal to produce an intermediate frequency reflected signal.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. A method of calibrating an ultra-wideband transceiver for a uniform gain response in a system which determines physical measurements of an individual, the method comprising:
<claim-text>setting a gain control table to a fixed value, wherein the gain control table is used to control the gain of an intermediate frequency signal into a mixer whose output generates an ultra-wideband frequency sweep;</claim-text>
<claim-text>transmitting the ultra-wideband frequency sweep through the system, the system having a flat target;</claim-text>
<claim-text>measuring and recording demodulated output signal levels over the sweep, wherein a plurality of sweeps are transmitted, measured and recorded;</claim-text>
<claim-text>averaging the demodulated output signal levels for a plurality of frequencies over the plurality of sweeps to obtain average values for each of the plurality of frequencies;</claim-text>
<claim-text>inverting the average values to compute gain control values;</claim-text>
<claim-text>normalizing the gain control values; and</claim-text>
<claim-text>loading the normalized values in the gain control table, wherein the normalized values provide gain compensation to the intermediate frequency signal into the mixer, whereby a gain compensated ultra-wideband sweep signal is produced.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The method of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein normalizing the gain control values further comprises scaling the normalized values to accommodate a dynamic range of the system.</claim-text>
</claim>
</claims>
</us-patent-grant>
