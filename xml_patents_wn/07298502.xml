<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298502-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298502</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11148650</doc-number>
<date>20050609</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>11-342691</doc-number>
<date>19991202</date>
</priority-claim>
<priority-claim sequence="02" kind="national">
<country>JP</country>
<doc-number>2000-360830</doc-number>
<date>20001128</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>398</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>15</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>358  112</main-classification>
<further-classification>399299</further-classification>
<further-classification>399300</further-classification>
</classification-national>
<invention-title id="d0e89">Image forming apparatus</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5241400</doc-number>
<kind>A</kind>
<name>Itagaki</name>
<date>19930800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358401</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6236827</doc-number>
<kind>B1</kind>
<name>Hada</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>399301</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>358  11</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  13</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  14</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  17</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  18</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  112</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399299-301</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399394</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399396</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>14</number-of-drawing-sheets>
<number-of-figures>19</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>09726463</doc-number>
<kind>00</kind>
<date>20001129</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>6930786</doc-number>
<kind>A </kind>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11148650</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050237374</doc-number>
<kind>A1</kind>
<date>20051027</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kataoka</last-name>
<first-name>Tatsuhito</first-name>
<address>
<city>Numazu</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kodama</last-name>
<first-name>Hirokazu</first-name>
<address>
<city>Shizuoka-ken</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Cowan, Liebowitz &amp; Latman, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Douglas Q.</first-name>
<department>2625</department>
</primary-examiner>
<assistant-examiner>
<last-name>Park</last-name>
<first-name>Chan S.</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An image forming apparatus includes a plurality of image forming stations each having an image carrier and forming an image on the image carrier; a mark detecting unit for detecting a plurality of registration correction marks formed on a recording medium by the plurality of image forming stations; a correction mechanism for correcting a position difference between images formed by the plurality of image forming stations in accordance with a detection result by the mark detecting unit; and a controller for independently controlling an image forming operation of each of the plurality of the image forming stations so that the image density of each of the registration correction marks formed by the plurality of image forming units has a different predetermined image density.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="150.37mm" wi="222.50mm" file="US07298502-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="222.50mm" wi="150.54mm" orientation="landscape" file="US07298502-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="243.84mm" wi="168.83mm" orientation="landscape" file="US07298502-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="239.18mm" wi="170.77mm" orientation="landscape" file="US07298502-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="217.00mm" wi="154.77mm" orientation="landscape" file="US07298502-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="224.03mm" wi="166.45mm" orientation="landscape" file="US07298502-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="241.13mm" wi="166.54mm" orientation="landscape" file="US07298502-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="252.05mm" wi="170.77mm" orientation="landscape" file="US07298502-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="228.68mm" wi="158.33mm" orientation="landscape" file="US07298502-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="239.18mm" wi="167.22mm" orientation="landscape" file="US07298502-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="152.06mm" wi="158.67mm" file="US07298502-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="248.07mm" wi="175.01mm" file="US07298502-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="250.87mm" wi="170.35mm" orientation="landscape" file="US07298502-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="243.08mm" wi="178.90mm" file="US07298502-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="167.30mm" wi="113.96mm" file="US07298502-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a divisional of application Ser. No. 09/726,463, filed Nov. 29, 2000 now U.S. Pat. No. 6,930,786, the entire disclosure of which is hereby incorporated by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to an image forming apparatus, and more particularly to techniques for correcting position difference among a plurality of images.</p>
<p id="p-0005" num="0004">2. Related Background Art</p>
<p id="p-0006" num="0005">A color image forming apparatus is known which has a plurality of record units each applying a laser beam modulated by record data to a photosensitive drum, developing an electrostatic latent image on a photosensitive member by an electronic photographing process and transferring the image to a transfer sheet to form a color image by sequentially transporting the transfer sheet by a transfer belt to each record unit and superposing each color image on the transfer sheet.</p>
<p id="p-0007" num="0006">With the color image forming apparatus of this type, each electrostatic latent image on each photosensitive drum is developed and transferred to a transfer sheet on a transfer belt. In this case, registration of each color image is shifted if there is a mechanical mount error of each photosensitive drum, or an optical path length error or an optical path change of each laser beam.</p>
<p id="p-0008" num="0007">In order to solve this problem, so-called registration correction techniques have been proposed. According to the techniques, a registration correction pattern image formed on a transfer belt is read with a CCD sensor or the like to detect a registration shift of each color photosensitive drum. In accordance with this registration shift, electrical correction of image signals to be recorded is performed and mechanical correction of the optical path length or optical path is performed by driving each reflection mirror disposed in the intermediate optical path of each laser beam.</p>
<p id="p-0009" num="0008">The image forming apparatus of this type is, however, associated with some problem in registration correction that the read level of each registration correction pattern may become different and hence the detection level of each registration correction pattern may become different. This problem results from a different image density of each registration correction pattern recorded by the record unit, i.e., a different composition of coloring transfer material and the like.</p>
<p id="p-0010" num="0009">If electrical correction of image signals to be recorded is performed and mechanical correction of the optical path length or optical path is performed by driving each reflection mirror disposed in the intermediate optical path of each laser beam, in accordance with the registration shift amount obtained by detecting each registration correction mark recorded by the record unit, then high precision adjustment is difficult because the detected registration shift amount itself may contain some error.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0011" num="0010">It is an object of the invention to solve the above-described problem.</p>
<p id="p-0012" num="0011">It is another object of the invention to provide high precision registration correction.</p>
<p id="p-0013" num="0012">In order to achieve the above object, according to one aspect of the present invention, there is provided an image forming apparatus comprising: a plurality of image forming means each having an image carrier and forming an image on the image carrier; mark detecting means for detecting a plurality of registration correction marks formed on a recording medium by the plurality of the image forming means; correcting means for correcting a position difference between images formed by the plurality of the image forming means in accordance with a detection result by the mark detecting means; and controlling means for independently controlling an image forming operation of each of the plurality of the image forming means so that an image density of each of the registration correction marks formed by the plurality of the image forming means has a different predetermined image density.</p>
<p id="p-0014" num="0013">Other objects and features of the present invention will become apparent from the following detailed description of embodiments when read in conjunction with the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram showing the structure of an image forming apparatus according to an embodiment of the invention.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 2A and 2B</figref> are diagrams showing the structure of a laser scan optical system of the image forming apparatus shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIGS. 3A and 3B</figref> are timing charts showing pattern image write timings of the image forming apparatus shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic diagram showing pattern images formed on a transfer belt in response to each enable signal shown in <figref idref="DRAWINGS">FIGS. 3A and 3B</figref>.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram showing the structure of an image processing station and interface shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram showing a control unit shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 7</figref> is a diagram showing the main-structure of a video controller in the image processing station shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 8</figref> is a diagram showing the main structure of a registration controller shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 9</figref> is a timing chart illustrating the operation timings of the registration controller shown in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 10</figref> is a histogram of an image on the transfer belt shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 11</figref> is a flow chart illustrating a registration correction process to be executed by the image forming apparatus shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 12</figref> is a diagram showing another example of the structure of the video controller in the image processing station shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 13</figref> is a diagram showing the main structure of a laser driver shown in <figref idref="DRAWINGS">FIG. 12</figref>.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIGS. 14A</figref>, <b>14</b>B and <b>14</b>C are timing charts showing the operation timings of a circuit shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 15</figref> is a memory map of a storage medium for storing various data processing programs which can be read by the image forming apparatus of this invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0030" num="0029">Embodiments of the invention will be described.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram showing the structure of an image forming apparatus according to an embodiment of the invention.</p>
<p id="p-0032" num="0031">Referring to <figref idref="DRAWINGS">FIG. 1</figref>, a transfer belt <b>1</b> is moved in the direction indicated by an arrow Z shown in the central area in <figref idref="DRAWINGS">FIG. 1</figref>, as a pulse motor M<b>15</b> is driven and its rotation force is transmitted to a drive roller <b>42</b>. Reference numerals <b>2</b> to <b>5</b> represent magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk) photosensitive drums, respectively disposed in this order. Semiconductor lasers <b>39</b>Ma, <b>39</b>Cy, <b>39</b>Ye and <b>39</b>Bk of respective colors are driven by laser drivers <b>38</b>Ma, <b>38</b>Cy, <b>38</b>Ye and <b>38</b>Bk and emit laser beams L<b>1</b> and L<b>1</b>′; L<b>2</b> and L<b>2</b>′; L<b>3</b> and L<b>3</b>′; and L<b>4</b> and L<b>4</b>′ to scan the photosensitive drums <b>2</b> to <b>5</b> and form electrostatic latent images on the photosensitive drums <b>2</b> to <b>5</b>. Drum motors M<b>11</b> to M<b>14</b> rotate the photosensitive drums <b>2</b> to <b>5</b> by predetermined rotation amounts.</p>
<p id="p-0033" num="0032">Image stations ST<b>1</b> to ST<b>4</b> for magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk) colors respectively disposed in this order mechanically correct a shift of the magnification factor and inclination of registration by using reflection mirrors <b>1000</b>Ma, <b>1000</b>Cy, <b>1000</b>Ye and <b>1000</b>Bk which are driven by pulse motors M<b>1</b> to M<b>8</b>.</p>
<p id="p-0034" num="0033">A reader unit <b>10</b> includes illumination lamps <b>6</b><i>a </i>and <b>6</b><i>b</i>, illumination lamps <b>7</b><i>a </i>and <b>7</b><i>b</i>, converging lenses <b>8</b><i>a </i>and <b>8</b><i>b</i>, reflection mirrors <b>9</b><i>a </i>and <b>9</b><i>b</i>, CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>and the like. A pair of front and back patterns (e.g., cross marks having a predetermined width) formed on the transfer belt <b>1</b> moved by the pulse motor <b>15</b> is illuminated and its reflection light is focussed upon the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>to read the patterns. In this embodiment, infrared emission lamps are used as the illumination lamps <b>6</b><i>a </i>and <b>6</b><i>b</i>; and <b>7</b><i>a </i>and <b>7</b><i>b</i>. This is because the reflection light amount of each color pattern is intended to be made as constant as possible in view of the fact that the reflection light amount of each color toner does not depend too much upon the coloring components of toner.</p>
<p id="p-0035" num="0034">In accordance with pattern data read with the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b</i>, a control unit <b>51</b> collectively controls the formation of images, including predetermined data processing and mirror control for magnification and inclination adjustments, by communicating with an image processing station <b>52</b> via a CPU bus β<b>500</b>. The image processing station <b>52</b> executes the predetermined data processing and mirror control for magnification and inclination adjustments, and communicates with an interface (I/F) <b>53</b>. The interface (I/F) <b>53</b> can communicate with the image processing station <b>52</b> via a bus β<b>501</b> and with an external bus via a bus β<b>502</b>.</p>
<p id="p-0036" num="0035">The operation of each constituent element will be described.</p>
<p id="p-0037" num="0036">First, an image forming operation will be described.</p>
<p id="p-0038" num="0037">The photosensitive drums <b>2</b> to <b>5</b> corresponding to magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk) are rotated by the drum motors M<b>11</b> to M<b>14</b> and uniformly charged by a charge unit (not shown). The photosensitive drums <b>2</b> to <b>5</b> corresponding to magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk) are exposed by the laser beams L<b>1</b> and L<b>1</b>′; L<b>2</b> and L<b>2</b>′; L<b>3</b> and L<b>3</b>′; and L<b>4</b> and L<b>4</b>′ optically modulated with video signals to form electrostatic latent images which are developed by a developing unit (not shown) to form visible images.</p>
<p id="p-0039" num="0038">The electrostatic latent images formed on the photosensitive drums <b>2</b> to <b>5</b> are transferred at predetermined timings to a transfer sheet fed from a paper feed unit (not shown) and electrostatically absorbed on the transfer belt <b>1</b>. The transfer sheet is transported in the arrow direction by the pulse motor M<b>15</b>, fixed by a fixing unit and then ejected.</p>
<p id="p-0040" num="0039">Next, an operation of reading a registration correction pattern image will be described.</p>
<p id="p-0041" num="0040">Pattern images on the photosensitive drums <b>2</b> to <b>5</b> visualized by a registration correction pattern image forming circuit are transferred to the transfer belt <b>1</b> at timings shown in <figref idref="DRAWINGS">FIG. 3</figref> to be described later, and transported in the arrow direction. The transported pattern images are sequentially read by the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>with an optical system constituted of the illumination lamps <b>6</b><i>a </i>and <b>6</b><i>b</i>, illumination lamps <b>7</b><i>a </i>and <b>7</b><i>b</i>, converging lenses <b>8</b><i>a </i>and <b>8</b><i>b</i>, and reflection mirrors <b>9</b><i>a </i>and <b>9</b><i>b. </i></p>
<p id="p-0042" num="0041">In this embodiment, in order to realize a high speed apparatus, a two-beam laser scan method is incorporated as the laser optical system. This two-beam laser scanning will be described with reference to <figref idref="DRAWINGS">FIGS. 2A and 2B</figref>.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIGS. 2A and 2B</figref> are schematic diagrams showing the structure of a laser scan optical system of the image forming apparatus shown in <figref idref="DRAWINGS">FIG. 1</figref>. <figref idref="DRAWINGS">FIG. 2A</figref> shows the structure of a polygon scanner <b>40</b> and semiconductor lasers <b>39</b>Ma, <b>39</b>Cy, <b>39</b>Ye and <b>39</b>Bk, and <figref idref="DRAWINGS">FIG. 2B</figref> is a schematic diagram showing a laser radiation state.</p>
<p id="p-0044" num="0043">As shown in <figref idref="DRAWINGS">FIG. 2A</figref>, eight laser beams in total are radiated, including the laser beams L<b>1</b> and L<b>1</b>′; L<b>2</b> and L<b>2</b>′; L<b>3</b> and L<b>3</b>′; and L<b>4</b> and L<b>4</b>′ corresponding to magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk). A latent image of each color is formed on the photosensitive drum by using two laser beams of L<b>1</b> and L<b>1</b>′; L<b>2</b> and L<b>2</b>′; L<b>3</b> and L<b>3</b>′; or L<b>4</b> and L<b>4</b>′.</p>
<p id="p-0045" num="0044">Referring to <figref idref="DRAWINGS">FIG. 2B</figref>, P (shown as a circle) represents a pixel formed by laser scanning, ZP represents a main scanning line pitch, and W represents a main scanning width. The laser beams L<b>1</b>(LM) and L<b>1</b>′(LM′); L<b>2</b>(LC) and L<b>2</b>′(LC′); L<b>3</b>(LY) and L<b>3</b>′(LY′); or L<b>4</b>(LBK) and L<b>4</b>′(LBK′) are scanned at the main scanning line pitch ZP. The motion direction of the transfer belt <b>1</b> is indicated by an arrow Z. With such a two-beam laser scan method, even if the transport speed of a transfer member (traveling speed of a belt) is set to a high speed, the time taken to form an image on the transfer member or belt is halved. Therefore, restrictions on the rotation of a polygon scanner, the laser drive frequency and the like can be reduced considerably.</p>
<p id="p-0046" num="0045">For example, in an image forming apparatus having an image forming performance of 30 images per one minute, if the two-beam laser scan method is adopted, the image forming performance is doubled to 60 images per one minute without modifying the apparatus.</p>
<p id="p-0047" num="0046">A pattern forming means of this invention corresponds to a means for reading predetermined registration correction pattern data stored in an unrepresented ROM, forming pattern latent image pairs on the photosensitive drums <b>2</b> to <b>5</b> at predetermined positions different in the axial direction by scanning each pair of the laser beams LM and LM′; LC and LC′; LY and LY′; and LBK and LBK′, developing the latent image pairs with color toners of magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk), and transferring the image pairs to the transfer belt <b>1</b>. In this embodiment, a pair of pattern images is formed at predetermined positions in the width direction perpendicular to the transport direction of the transfer belt <b>1</b>.</p>
<p id="p-0048" num="0047">The reader unit <b>10</b> includes the illumination lamps <b>6</b><i>a </i>and <b>6</b><i>b</i>, illumination lamps <b>7</b><i>a </i>and <b>7</b><i>b</i>, converging lenses <b>8</b><i>a </i>and <b>8</b><i>b</i>, reflection mirrors <b>9</b><i>a </i>and <b>9</b><i>b</i>, CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>and the like. A pair of patterns (e.g., cross marks having a predetermined width) formed on the transfer belt <b>1</b> moved by the pulse motor <b>15</b> is illuminated and its reflection light is focussed upon the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>to read the patterns.</p>
<p id="p-0049" num="0048">In this embodiment, infrared emission lamps are used as the illumination lamps <b>6</b><i>a </i>and <b>6</b><i>b</i>; and <b>7</b><i>a </i>and <b>7</b><i>b</i>. This is because the reflection light amount of each color pattern is intended to be made as constant as possible in view of the fact that the reflection light amount of each color toner does not depend too much upon the coloring components of toner.</p>
<p id="p-0050" num="0049">In accordance with pattern data read with the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b</i>, the control unit <b>51</b> collectively controls the formation of images, including predetermined data processing and mirror control for magnification and inclination adjustments, by communicating with the image processing station <b>52</b> in which a CPU <b>52</b><i>c </i>(in <figref idref="DRAWINGS">FIG. 5</figref> to be described later) executes a control program stored in a ROM or the like.</p>
<p id="p-0051" num="0050">In the image forming apparatus constructed as above, a video controller <b>52</b><i>a </i>(in <figref idref="DRAWINGS">FIG. 5</figref> to be described later) of the image processing station <b>52</b> controls in such a manner that when each image forming means forms a registration correction pattern on a transport member (transfer belt <b>1</b>) at a predetermined timing, the reader unit <b>10</b> starts reading the registration correction mark transferred to the transport member (transfer belt <b>1</b>). A registration controller <b>20</b> (in <figref idref="DRAWINGS">FIG. 6</figref> to be described later) of the control unit <b>51</b> executes a predetermined calculation of the read data, and stores the calculated results of each color in RAMs <b>603</b> and <b>604</b> (in <figref idref="DRAWINGS">FIG. 8</figref> to be described later) of the registration controller <b>20</b>. CPU <b>52</b><i>c </i>(in <figref idref="DRAWINGS">FIG. 5</figref> to be described later) of the image processing station <b>20</b> analyzes the stored calculation results to mechanically or electrically correct each image station (ST<b>1</b> to ST<b>4</b>).</p>
<p id="p-0052" num="0051">In this embodiment, registration of each drum is made coincident as in the following. A shift of the magnification and inclination of registration is mechanically corrected by moving the reflection mirrors <b>1000</b>Ma, <b>1000</b>Cy, <b>1000</b>Ye and <b>1000</b>Bk of the optical scan system (provided for each drum) by the pulse motors M<b>1</b> to M<b>8</b>, and a beam scan timing is electrically corrected by a video memory controller <b>52</b><i>d </i>which controls the timing of reading image data from a video memory <b>52</b><i>b. </i></p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIGS. 3A and 3B</figref> are timing charts showing pattern image write timings of the image forming apparatus shown in <figref idref="DRAWINGS">FIG. 1</figref>. <figref idref="DRAWINGS">FIG. 3A</figref> is a timing chart showing pattern image write timings of respective colors, and <figref idref="DRAWINGS">FIG. 3B</figref> is an enlarged view showing the waveform of enable signals.</p>
<p id="p-0054" num="0053">In <figref idref="DRAWINGS">FIGS. 3A and 3B</figref>, since the two-beam laser scan method is used as described earlier, two enable signals for registration correction patterns of each color are output as shown in the enlarged view of <figref idref="DRAWINGS">FIG. 3B</figref> showing an area indicated by *. Two enable signals each having the same pulse width and space ZP of one line, such as the signals S<b>2</b> and S<b>2</b>′; S<b>3</b> and S<b>3</b>′; S<b>4</b> and S<b>4</b>′; and S<b>5</b> and S<b>5</b>′, can be output. By using eight enable signals of four colors×2 beams, registration correction pattern images of respective colors are formed. Similar enable signals are also generated for a usual image forming operation. The Ye laser enable signals S<b>4</b> and S<b>4</b>′ are Ye patch drawing enable signals for Bk pattern images.</p>
<p id="p-0055" num="0054">By using such enable signals, pattern images such as shown in <figref idref="DRAWINGS">FIG. 4</figref> are formed.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic diagram showing pattern images formed on the transfer belt <b>1</b> by using the enable signals shown in <figref idref="DRAWINGS">FIGS. 3A and 3B</figref>.</p>
<p id="p-0057" num="0056">In <figref idref="DRAWINGS">FIG. 4</figref>, A<b>1</b> represents a first pattern image read area. First laser patterns LP<b>1</b>Ma, LP<b>1</b>Cy, LP<b>1</b>Ye and LP<b>1</b>Bk and second laser patterns LP<b>1</b>Ma′, LP<b>1</b>Cy′, LP<b>1</b>Ye′ and LP<b>1</b>Bk′ formed on the transfer belt <b>1</b> are read with the CCD sensor <b>10</b><i>a </i>shown in <figref idref="DRAWINGS">FIG. 1</figref> when they pass through the first pattern image read area A<b>1</b>. A<b>2</b> represents a second pattern image read area. First laser patterns LP<b>2</b>Ma, LP<b>2</b>Cy, LP<b>2</b>Ye and LP<b>2</b>Bk and second laser patterns LP<b>2</b>Ma′, LP<b>2</b>Cy′, LP<b>2</b>Ye′ and LP<b>2</b>Bk′ formed on the transfer belt <b>1</b> are read with the CCD sensor <b>10</b><i>b </i>shown in <figref idref="DRAWINGS">FIG. 1</figref> when they pass through the second pattern image read area A<b>2</b>.</p>
<p id="p-0058" num="0057">First laser patch enable signals PH<b>1</b>Ye and PH<b>2</b>Ye and second laser patch enable signals PH<b>1</b>Ye′ and PH<b>2</b>Ye′ are Ye patch enable signals for first laser patterns LP<b>1</b>Bk and LP<b>2</b>Bk and second laser patterns LP<b>1</b>Bk′ and LP<b>2</b>Bk′.</p>
<p id="p-0059" num="0058">With reference to <figref idref="DRAWINGS">FIG. 5</figref>, the structures of the image processing station <b>52</b> and interface (I/F) <b>53</b> shown in <figref idref="DRAWINGS">FIG. 1</figref> will be described. The image processing station <b>52</b> and interface <b>53</b> constitute a circuit for driving laser beams in accordance with input image data and forming images.</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram showing the structures of the image processing station <b>52</b> and interface (I/F) <b>53</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>. Similar constituent elements to those shown in <figref idref="DRAWINGS">FIG. 1</figref> are represented by using identical reference numerals.</p>
<p id="p-0061" num="0060">The video controller <b>52</b><i>a </i>of the image processing station <b>52</b> transmits the registration correction patterns and video signals for usual image data read from the video memory <b>52</b><i>b </i>via busses β<b>521</b><i>a </i>to each laser driver, synchronously with a BD signal β<b>528</b> and an ITOP signal β<b>529</b>. The video memory <b>52</b><i>b </i>stores therein registration correction pattern data and image data such as conventional image data. The video memory controller <b>52</b><i>d </i>controls the image data read timing from the video memory <b>52</b><i>b </i>by using a control signal β<b>509</b> to thereby electrically correct the scan timing of each laser beam.</p>
<p id="p-0062" num="0061">CPU <b>52</b><i>c </i>has inner RAM, ROM and the like. CPU <b>52</b><i>c </i>executes the control program stored in ROM to perform predetermined data processing and mirror control for magnification and inclination adjustments. Therefore, the optical path length and optical path of each laser beam are mechanically corrected and the scan timing of each laser beam is electrically corrected to make the registration of each drum be coincident. CPU <b>52</b><i>c </i>also controls the control unit <b>51</b>, video controller <b>52</b><i>a</i>, video memory controller <b>52</b><i>d </i>and interface <b>53</b>, respectively via buses β<b>500</b>, β<b>503</b>, β<b>504</b> and β<b>501</b><i>a. </i></p>
<p id="p-0063" num="0062">An interface controller <b>53</b><i>b </i>of the interface (I/F) <b>53</b> controls an external interface <b>53</b><i>a </i>via a bus β<b>510</b>. The external interface <b>53</b><i>a </i>can transmit the data externally received via the bus β<b>502</b> directly to the video memory <b>52</b><i>b </i>via a data bus β<b>501</b><i>b. </i></p>
<p id="p-0064" num="0063">The operation of each constituent element will be described.</p>
<p id="p-0065" num="0064">As shown in <figref idref="DRAWINGS">FIG. 5</figref>, video signals for forming an image are supplied via the external bus β<b>502</b> (for an external interface, a general interface such as the general purpose interface bus (GPIB) may be used) to the external interface <b>53</b><i>a </i>and stored in the video memory <b>52</b><i>b </i>of the image processing station <b>52</b> via the bus β<b>501</b><i>b. </i></p>
<p id="p-0066" num="0065">In this case, CPU <b>52</b><i>c </i>activates the interface controller <b>53</b><i>b </i>via the CPU interface bus β<b>501</b><i>a </i>to control the operation of the external interface <b>53</b><i>a </i>via a control bus β<b>510</b>.</p>
<p id="p-0067" num="0066">The video memory controller <b>52</b><i>d </i>executes the address control and read/write control of the video memory <b>52</b><i>b </i>to read/write video data and form an image.</p>
<p id="p-0068" num="0067">In this case, the video memory controller <b>52</b><i>d </i>is controlled by CPU <b>52</b><i>c </i>via the control bus β<b>504</b>. The video memory <b>52</b><i>b </i>sends the video data to the video controller <b>52</b><i>a </i>so that the PWM modulated laser beams L<b>1</b> and L<b>1</b>′; L<b>2</b> and L<b>2</b>′; L<b>3</b> and L<b>3</b>′; and L<b>4</b> and L<b>4</b>′; described earlier are generated and latent images are formed on the photosensitive drums.</p>
<p id="p-0069" num="0068">CPU <b>52</b><i>c </i>is connected to the control unit <b>51</b> via the CPU bus β<b>500</b> to receive registration shift data and supply electrical and mechanical registration correction target data to the control unit <b>51</b>. In this manner, CPU <b>52</b><i>c </i>collectively controls the registration correction of this invention.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram showing the structure of the control unit <b>51</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>. Similar constituent elements to those shown in <figref idref="DRAWINGS">FIG. 1</figref> are represented by using identical reference numerals.</p>
<p id="p-0071" num="0070">In <figref idref="DRAWINGS">FIG. 6</figref>, CCD drivers <b>18</b> and <b>19</b> generate clocks (such as transfer pulse, reset pulse and shift pulse) β<b>591</b> and β<b>592</b> necessary for driving the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>in accordance with original oscillation clocks β<b>507</b> and β<b>508</b> supplied from a registration controller <b>20</b>, and supplies them to the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b. </i></p>
<p id="p-0072" num="0071">The CCD drivers <b>18</b> and <b>19</b> execute processes such as amplification and A/D conversion of pattern image signals β<b>593</b> and β<b>594</b> read by the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b</i>, and supply the digital pattern image signals β<b>505</b> and β<b>506</b> to the registration controller <b>20</b>.</p>
<p id="p-0073" num="0072">The registration controller <b>20</b> executes a registration correction pattern recognition process for the digital image signals β<b>505</b> and β<b>506</b> supplied from the CCD drivers <b>18</b> and <b>19</b>, stores a plurality of pattern recognition data sets in a memory (not shown). These data sets are sent to CPU <b>52</b><i>c </i>of the image processing station <b>52</b> via the CPU bus β<b>500</b>. CPU <b>52</b><i>c </i>calculates a position difference of each color pattern, and in accordance with the calculation results, the write timings of the main and sub-scanning are controlled.</p>
<p id="p-0074" num="0073">A mirror motor controller <b>21</b> sets a pulse motor drive pulse value (motor drive control signal) β<b>511</b> to a mirror motor driver <b>22</b> in accordance with the drive pulse data supplied from CPU <b>52</b><i>c</i>. The mirror motor driver <b>22</b> drives each motor in accordance with each set of drive pulses β<b>512</b><i>a </i>to β<b>515</b><i>a</i>, and β<b>512</b><i>b </i>to β<b>515</b><i>b </i>corresponding to the pulse motor drive values. In this manner, the positioning control for the reflection mirrors <b>1000</b>Ma, <b>1000</b>Cy, <b>1000</b>Ye and <b>1000</b>Bk is performed to correct the optical path length and optical path of each laser beam and correct a shift of the magnification and inclination of registration of each color.</p>
<p id="p-0075" num="0074">The operation of each constituent element will be described.</p>
<p id="p-0076" num="0075">The CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>read the pattern images of respective colors formed as shown in <figref idref="DRAWINGS">FIG. 4</figref> on the front and back sides relative to the transport direction of the transfer belt <b>1</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>. The original oscillation clocks β<b>507</b> and β<b>508</b> are supplied from the registration controller <b>20</b> to the CCD drivers <b>18</b> and <b>19</b>, and the generated clocks (transfer pulse, reset pulse, shift pulse and the like) β<b>591</b> and β<b>592</b> necessary for driving the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>are supplied to the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b. </i></p>
<p id="p-0077" num="0076">The pattern image signals read by the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>are subjected to processes such as amplification and A/D conversion by the CCD drivers <b>18</b> and <b>19</b>. The converted digital pattern image signals β<b>505</b> and β<b>506</b> are supplied to the registration controller <b>20</b>.</p>
<p id="p-0078" num="0077">The pattern image signals of respective colors received by the registration controller <b>20</b> are subjected to the registration correction pattern recognition process. A plurality of pattern recognition data sets are stored in a temporary memory and then supplied to CPU <b>52</b><i>c </i>via the CPU bus β<b>500</b>. By using the position of a pattern image of a predetermined color as a reference, CPU <b>52</b><i>a </i>calculates a position shift of the pattern image of each of the other colors. In accordance with this calculation results, the video controller <b>52</b><i>a </i>controls the memory read timing of the registration correction pattern image and the video memory controller <b>52</b><i>d </i>controls the memory read timing of a conventional image, to thereby correct the color shift of each color.</p>
<p id="p-0079" num="0078">In order to correct the optical path length and optical path of each laser beam and correct the magnification and inclination of registration of each color, CPU <b>52</b><i>c </i>sends the drive pulse data to the mirror motor controller <b>21</b> to control the inclination correction pulse motors M<b>5</b> to M<b>8</b> and magnification correction pulse motors M<b>1</b> to M<b>4</b>, which motors drive the reflection mirrors <b>1000</b>Ma, <b>1000</b>Cy, <b>1000</b>Ye and <b>1000</b>Bk disposed in the optical path. In accordance with this drive pulse data, the mirror motor controller <b>21</b> sets the pulse motor drive pulse signal β<b>511</b> to the mirror motor driver <b>22</b> to drive the motors by the drive pulses β<b>512</b><i>a </i>to β<b>515</b><i>a</i>, and β<b>512</b><i>b </i>to β<b>515</b><i>b</i>. In this manner, the positioning control for the reflection mirrors <b>1000</b>Ma, <b>1000</b>Cy, <b>1000</b>Ye and <b>1000</b>Bk is performed.</p>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 7</figref> is a circuit block diagram showing the main structure of the video controller <b>52</b><i>a </i>of the image processing station <b>52</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0081" num="0080">In <figref idref="DRAWINGS">FIG. 7</figref>, an enable signal generation circuit (H enable signal generation circuit) <b>27</b> generates H enable signals β<b>516</b><i>a </i>and β<b>516</b><i>b </i>for two laser beams for the registration correction pattern image signals, in response to a beam detect signal (BD) β<b>528</b> which is a sync signal for the main scanning signal obtained when the laser beam scans an area outside of a record area, and supplies the H enable signals to NAND gates <b>36</b><i>a </i>and <b>36</b><i>b</i>. In this case, one of the detection signals of the two beams or a synthesized signal of the detection signals of the two beams is used as BD β<b>528</b>.</p>
<p id="p-0082" num="0081">An enable signal generation circuit (V enable signal generation circuit) <b>28</b> for the sub-scanning direction generates independently V enable signals β<b>517</b><i>a </i>and β<b>517</b><i>b </i>for two laser beams for the registration correction pattern image signals of each color, in response to an input activation signal (ITOP) β<b>529</b> to be used for registration correction pattern images, and supplies the V enable signals to NAND gates <b>36</b><i>b </i>and <b>36</b><i>a. </i></p>
<p id="p-0083" num="0082">In accordance with the V enable signals β<b>517</b><i>a </i>and β<b>517</b><i>b </i>supplied from the V enable signal generation circuit <b>28</b>, an address counter <b>29</b> generates address signals β<b>531</b><i>a </i>and β<b>531</b><i>b </i>of pattern RAMs <b>30</b><i>a </i>and <b>30</b><i>b </i>for the next registration correction images. In accordance with these address signals, pattern images β<b>518</b><i>a </i>and β<b>518</b><i>b </i>(in this embodiment, cross patterns) are read from the pattern RAMs <b>30</b><i>a </i>and <b>30</b><i>b</i>. A patch register <b>31</b> stores patch data input via the video controller bus β<b>503</b> (and formed in accordance with the registration correction pattern images).</p>
<p id="p-0084" num="0083">Under control of CPU <b>52</b><i>c</i>, a register <b>35</b> outputs a selection signal β<b>526</b> supplied from the video controller bus β<b>503</b> to selectors <b>32</b><i>a </i>and <b>32</b><i>b</i>. The selection signal β<b>526</b> is used for selecting either the pattern image signal β<b>518</b><i>a </i>read from the pattern RAM <b>30</b><i>a </i>or the patch data (patch register signal) <b>519</b> read from the patch register <b>31</b>, and for selecting either the pattern image signal β<b>518</b><i>b </i>read from the pattern RAM <b>30</b><i>b </i>or the patch data <b>519</b>.</p>
<p id="p-0085" num="0084">Under control of CPU <b>52</b><i>c</i>, a register <b>35</b> outputs a selection signal β<b>527</b> to selectors <b>33</b><i>a </i>and <b>33</b><i>b</i>. The selection signal β<b>527</b> is used for selecting either the image signal β<b>520</b><i>a </i>selected by the selector <b>32</b><i>a </i>or an image signal (video signal) β<b>521</b><i>a </i>input from a first video line, and for selecting either the pattern image signal β<b>520</b><i>b </i>selected by the selector <b>32</b><i>b </i>or an image signal (video signal) β<b>521</b><i>b </i>input from a second video line.</p>
<p id="p-0086" num="0085">γRAMs <b>34</b><i>a </i>and <b>34</b><i>b </i>receive the image signals β<b>522</b><i>a </i>and β<b>522</b><i>b </i>selected by the selectors <b>33</b><i>a </i>and <b>33</b><i>b</i>, and output γ-transformed image data β<b>523</b><i>a </i>and β<b>523</b><i>b </i>to the laser drivers <b>38</b><i>a </i>and <b>38</b><i>b </i>via gate circuits <b>37</b><i>a </i>and <b>37</b><i>b </i>as video signals β<b>525</b><i>a </i>and β<b>525</b><i>b</i>. Namely, the image density can be changed by rewriting tables in γRAMS <b>34</b><i>a </i>and <b>34</b><i>b</i>. Gate signals β<b>524</b><i>a </i>and β<b>524</b><i>b </i>are supplied to the gate circuits <b>37</b><i>a </i>and <b>37</b><i>b </i>via NAND gates <b>36</b><i>a </i>and <b>36</b><i>b. </i></p>
<p id="p-0087" num="0086">In accordance with the input video signals β<b>525</b><i>a </i>and β<b>525</b><i>b</i>, the laser drivers <b>38</b><i>a </i>and <b>38</b><i>b </i>turn on and off the semiconductor lasers <b>39</b><i>a </i>and <b>39</b><i>b </i>to form latent images on the photosensitive drums <b>2</b> to <b>5</b> by using the optical scan system including the polygon scanner and reflection mirrors.</p>
<p id="p-0088" num="0087">In this embodiment, as described above, the laser drivers of the two-beam laser scan structure are used. Therefore, two systems for forming pattern image data and patch data are used to drive the semiconductor lasers.</p>
<p id="p-0089" num="0088">In this embodiment, the video controller <b>52</b><i>a </i>is constituted of four sets of the circuit shown in <figref idref="DRAWINGS">FIG. 7</figref> respectively of magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk) to form an image of each color. The image density of each of the four colors, magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk), can therefore be adjusted independently.</p>
<p id="p-0090" num="0089">The operation of the circuit for one of Ma, Cy, Ye and Bk will be described.</p>
<p id="p-0091" num="0090">The beam detect signal (BD) β<b>528</b>, which is obtained when the laser beam scans the area outside of the record area and which is used as the sync signal for the main scanning signal, is supplied to the enable signal generation circuit (H enable signal generation circuit) <b>27</b> which in turn generates the H enable signals β<b>516</b><i>a </i>and β<b>516</b><i>b </i>for the two laser beams of the registration correction pattern image signals. In this case, one of the detection signals of the two beams or a synthesized signal of the detection signals of the two beams is used as BD β<b>528</b>. The input activation signal (ITOP) β<b>529</b> for registration correction pattern images is supplied to the enable signal generation circuit (V enable signal generation circuit) <b>28</b> for the sub-scanning direction which in turn generates the V enable signals β<b>517</b><i>a </i>and β<b>517</b><i>b </i>for two laser beams of the registration correction pattern image signals of each color.</p>
<p id="p-0092" num="0091">The H enable signals β<b>516</b><i>a </i>and β<b>516</b><i>b </i>and V enable signals β<b>517</b><i>a </i>and β<b>517</b><i>b </i>are supplied to the address counter <b>29</b> which in turn generates the address signals β<b>531</b><i>a </i>and β<b>531</b><i>b </i>of the pattern RAMs <b>30</b><i>a </i>and <b>30</b><i>b </i>for the next registration correction images. In accordance with these address signals, the pattern image signals β<b>518</b><i>a </i>and β<b>518</b><i>b </i>(in this embodiment, cross patterns) are read from the pattern RAMs <b>30</b><i>a </i>and <b>30</b><i>b. </i></p>
<p id="p-0093" num="0092">The patch register <b>31</b> stores patch data input via the video controller bus β<b>503</b> and formed in accordance with the registration correction pattern images. This patch data signal β<b>519</b> and pattern image signals β<b>518</b><i>a </i>and β<b>518</b><i>b </i>for the two laser beams are input to the selectors <b>32</b><i>a </i>and <b>32</b><i>b</i>. The select signal β<b>526</b> is input to the selectors <b>32</b><i>a </i>and <b>32</b><i>b </i>so that the pattern image signals β<b>518</b> are output for magenta (Ma), cyan (Cy), and black (Bk).</p>
<p id="p-0094" num="0093">For the pattern image of yellow (Ye), under control of the select signal β<b>526</b> supplied via the video controller bus β<b>503</b>, the signals β<b>520</b><i>a </i>and β<b>520</b><i>b </i>of switching between the pattern image data for the two laser beams and patch data are supplied to the selectors <b>33</b><i>a </i>and <b>33</b><i>b </i>at predetermined timings shown in the timing chart of <figref idref="DRAWINGS">FIGS. 3A and 3B</figref>. Video signals β<b>521</b><i>a </i>and β<b>521</b><i>b </i>are input to the selectors <b>33</b><i>a </i>and <b>33</b><i>b. </i></p>
<p id="p-0095" num="0094">If toner of a carbon black type is used as the black toner, the pattern image cannot be read because the reflection optical system using the carbon black absorbs light.</p>
<p id="p-0096" num="0095">To solve this problem, at a predetermined time before one of the registration correction pattern images of color which reflects other colors (magenta, cyan and yellow) is formed (in this embodiment, yellow), a yellow solid pattern (patch) is formed on the transfer belt <b>1</b>, and then the registration correction pattern image of black is formed on the yellow patch.</p>
<p id="p-0097" num="0096">In this mode of forming the pattern images and patch, the select signal β<b>527</b> is used for selecting the pattern images and patch. The selected pattern image data β<b>522</b><i>a </i>and β<b>522</b><i>b </i>are supplied to γRAMs <b>34</b><i>a </i>and <b>34</b><i>b</i>. The γ-transformed image data β<b>523</b><i>a </i>and β<b>523</b><i>b </i>are supplied to the laser drivers <b>38</b><i>a </i>and <b>38</b><i>b </i>via the gate circuits <b>37</b><i>a </i>and <b>37</b><i>b </i>as the video signals β<b>525</b><i>a </i>and β<b>525</b><i>b</i>. The γRAMS <b>34</b><i>a </i>and <b>34</b><i>b </i>have the γ-tables whose contents can be rewritten in response to an input of a γ setting signal (γ rewrite signal) β<b>530</b> supplied from the register <b>35</b>.</p>
<p id="p-0098" num="0097">By utilizing this rewrite function, the contents of the γ-tables are partially rewritten so that the densities of the registration correction pattern images and patch can be changed in the registration correction mode. For example, if the pattern images and patch use 8-bit data and the data in the pattern RAMs <b>30</b><i>a </i>and <b>30</b><i>b </i>to be used for forming the pattern images and patch is FFh, then the data in the γ-tables at the highest address is changed so that the pattern images can be formed at an optimum image density.</p>
<p id="p-0099" num="0098">The gate signals β<b>524</b><i>a </i>and β<b>524</b><i>b </i>are supplied to the gate circuits <b>37</b><i>a </i>and <b>37</b><i>b </i>via NAND gates <b>36</b><i>a </i>and <b>36</b><i>b</i>. In accordance with the input video signals β<b>525</b><i>a </i>and β<b>525</b><i>b </i>input to the laser drivers <b>38</b><i>a </i>and <b>38</b><i>b</i>, the laser drivers <b>38</b><i>a </i>and <b>38</b><i>b </i>change the duty ratio of ON/OFF to perform PWM modulation and turn on and off the semiconductor lasers <b>39</b><i>a </i>and <b>39</b><i>b </i>to form latent images on the photosensitive drums <b>2</b> to <b>5</b> by using the optical scan system including the polygon scanner and reflection mirrors.</p>
<p id="p-0100" num="0099">In this embodiment, as described earlier, the laser drivers of the two-beam laser scan structure are used. Therefore, two systems for forming image data and patch data are used to drive the semiconductor lasers.</p>
<p id="p-0101" num="0100">In this embodiment, under control of CPU <b>52</b><i>c</i>, the enable signals for the main and sub-scanning are controlled via the video controller bus β<b>503</b> to thereby control the write position of each registration correction pattern image. For the write position control of usual image data, the video data address generation signal to be generated by the video memory controller <b>52</b><i>d </i>is controlled under CPU <b>52</b><i>c </i>via the video memory controller bus β<b>504</b> in accordance with the BD signal β<b>528</b> and ITOP signal β<b>529</b> so that the timing of reading video data from the video memory <b>52</b><i>b </i>via the video memory control bus β<b>509</b> can be controlled.</p>
<p id="p-0102" num="0101">Image data of four colors supplied from the external video data bus β<b>501</b><i>b </i>via the external interface <b>53</b><i>a </i>is stored beforehand in the video memory <b>52</b><i>b</i>. The external interface <b>53</b><i>a </i>is controlled by the interface controller <b>53</b><i>b </i>which is controlled by CPU <b>52</b><i>c </i>via the interface bus β<b>501</b><i>a</i>, so that data write into the video memory <b>52</b><i>b </i>is controlled by the control bus β<b>510</b>.</p>
<p id="p-0103" num="0102">The video data stored in the video memory <b>52</b><i>b </i>is read at the timings allowing images of respective colors to be superposed correctly, in accordance with the color shift correction amounts calculated as described previously. The image is therefore formed precisely on a transfer sheet.</p>
<p id="p-0104" num="0103">In this embodiment, although the pattern generation circuit is provided for each color, the pattern RAMs <b>30</b><i>a </i>and <b>30</b><i>b </i>and the like may be used in common for all colors.</p>
<p id="p-0105" num="0104">With reference to <figref idref="DRAWINGS">FIGS. 8 to 10</figref>, a process of calculating the position and shape of a pattern image of each color will be described.</p>
<p id="p-0106" num="0105"><figref idref="DRAWINGS">FIG. 8</figref> is a block diagram showing the structure of the registration controller <b>20</b> shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0107" num="0106">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, D-type flip-flops DF<b>1</b> and DF<b>2</b> receive pattern data of one sub-scanning line output from the CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b </i>via a line L<b>505</b>, and output the pattern data to adders <b>601</b> and <b>602</b> synchronously with VCLK. The adders <b>601</b> and <b>602</b> add the CCD data supplied from the flip-flops DF<b>1</b> and DF<b>2</b> to DB outputs from RAMS <b>603</b> and <b>604</b> to be described later. This data of one line is supplied to D-type flip-flops DF<b>3</b> and DF<b>4</b>.</p>
<p id="p-0108" num="0107">A bus/timing controller <b>607</b> transfers CPU data <b>16</b>, CPU addresses <b>17</b> and the like to and from CPU <b>52</b><i>c </i>via the CPU bus β<b>500</b>, and outputs various timing signals such as RAMWR<b>1</b>, RAMWR<b>2</b> and EN, a bank select signal BANKSEL and an address signal ADR.</p>
<p id="p-0109" num="0108">In accordance with a main scanning enable signal LEN output at a timing shown in <figref idref="DRAWINGS">FIG. 9</figref> to be described later, the flip-flops DF<b>3</b> and DF<b>4</b> write the data of one line in RAMs <b>603</b> and <b>604</b> at the addresses determined by address counters <b>605</b> and <b>606</b>, synchronously with the write signals RAMWR<b>1</b> and RAMWR<b>2</b>.</p>
<p id="p-0110" num="0109">The memories are enabled while the sub-scanning enable signal is output.</p>
<p id="p-0111" num="0110">In this embodiment, the pattern recognition is performed in accordance with the accumulated pattern data of pixels of one line, which data is read in order to calculate the position and shape of the pattern image of each color in the main and sub-scanning directions.</p>
<p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. 9</figref> is a timing chart illustrating the operation of the pattern recognition process to be executed by the registration controller <b>20</b> shown in <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0113" num="0112"><figref idref="DRAWINGS">FIG. 10</figref> is a histogram obtained from a pattern image transferred to the transfer belt <b>1</b> shown in FIG. <b>1</b>.</p>
<p id="p-0114" num="0113">The pattern recognition process to be executed by the registration controller shown in <figref idref="DRAWINGS">FIG. 8</figref> will be described.</p>
<p id="p-0115" num="0114">The accumulated data of the sub-scanning direction is formed as in the following. Pattern data of one sub-scanning line output from, e.g., the CCD sensor <b>10</b><i>a</i>, is initialized in response to a reset signal RES<b>1</b>. Thereafter, data of one line is obtained through addition by the adder <b>602</b>. In response to the main scanning enable signal LEN output at the timing shown in <figref idref="DRAWINGS">FIG. 9</figref>, the data of one line is written in RAM <b>604</b> at the address determined by the address counter <b>606</b>, synchronously with the write signal RAMWR<b>2</b>. The memories are enabled while the sub-scanning enable signal is output.</p>
<p id="p-0116" num="0115">The accumulated data of the main scanning direction is formed as in the following. Pattern data of one main scanning line is initialized in response to a reset signal RES<b>2</b>. In accordance with the write signal RAMWR<b>1</b> and a data direction switching signal RAMDIR, a read-modify-write operation is repeated for each pixel. The accumulated data of each pixel of each main scanning line in the adder <b>601</b> is stored in RAM <b>603</b>.</p>
<p id="p-0117" num="0116">Therefore, as shown in <figref idref="DRAWINGS">FIG. 10</figref>, the accumulated data of each color in the main scanning and sub-scanning directions of a pattern image of each color is stored in RAMs <b>603</b> and <b>604</b>. Two circuits for this pattern recognition process are provided in the registration controller <b>20</b> in correspondence to two CCD sensors <b>10</b><i>a </i>and <b>10</b><i>b. </i></p>
<p id="p-0118" num="0117">The memory space is used separately by setting each color bank and each set bank to the RAM upper addresses by using a bank select signal BANKSEL.</p>
<p id="p-0119" num="0118">As described earlier, for the pattern image of each of yellow (Ye), magenta (Ma), cyan (Cy) and black (Bk) (however, since the image of Bk is formed on the Ye patch, it has an inverse pattern of the pattern shown in <figref idref="DRAWINGS">FIG. 9</figref>), the accumulated data HD and VD both in the main and sub-scanning directions shown in <figref idref="DRAWINGS">FIG. 10</figref> is stored in RAMs <b>603</b> and <b>604</b>. In accordance with the accumulated data HD and VD stored in RAMs <b>603</b> and <b>604</b>, the center of peak of the accumulated data is calculated by CPU <b>52</b><i>c </i>by accessing the RAMs <b>603</b> and <b>604</b>.</p>
<p id="p-0120" num="0119">The calculated center position in the main and sub-scanning directions of each color is made coincident with the center position of the pattern image of other colors. To this end, the write positions in the main and sub-scanning directions are controlled and at the same time, the positions of the reflection mirrors <b>1000</b>Ma, <b>1000</b>Cy, <b>1000</b>Ye and <b>1000</b>Bk are controlled by the mirror motor controller <b>21</b> which controls the mirror driver <b>22</b> to drive the magnification (variable optical path length) correction motors M<b>1</b> to M<b>4</b> and inclination (variable optical path) correction motors M<b>5</b> to M<b>8</b>. The motors are controlled by CPU <b>52</b><i>c </i>via the bus β<b>500</b>.</p>
<p id="p-0121" num="0120">With reference to the flow chart of <figref idref="DRAWINGS">FIG. 11</figref>, the details of the registration correction process of this invention will be given.</p>
<p id="p-0122" num="0121">It is generally known that the infrared reflectivities of magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk) toners are different because of the influence of coloring material components. The magnitudes of the reflectivities are defined by the relation of “Ma&gt;Cy&gt;Ye&gt;Bk”.</p>
<p id="p-0123" num="0122">However, this relation cannot be defined definitely because the reflectivity difference is not so large and is influenced by coloring material components.</p>
<p id="p-0124" num="0123">Although the reflectivity difference is not so larger, there is some difference. It is known that this difference adversely affects the read precision of a registration correction pattern. Namely, the reflectivity difference results in a difference of the read peak level and read pattern of each color, which generates an error of pattern position calculation so that there is a large possibility of a registration shift even after the registration correction.</p>
<p id="p-0125" num="0124">In this embodiment, therefore, the image density of a registration pattern of each color is adjusted.</p>
<p id="p-0126" num="0125"><figref idref="DRAWINGS">FIG. 11</figref> is a flow chart illustrating an example of a first control program to be executed by the image forming apparatus of this embodiment. The flow chart includes Steps S<b>101</b> to S<b>118</b>.</p>
<p id="p-0127" num="0126">First at Step S<b>101</b>, the magenta (Ma) image density is set. Specifically, the register <b>35</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> is used for rewriting the contents of the magenta tables of the γRAMs <b>34</b><i>a </i>and <b>34</b><i>b</i>. In this embodiment, the video data of 8-bit is used so that each of the γRAMs has 256 tables. The pattern data is stored at “FFh” so that the highest value in γRAM is rewritten. In accordance with the infrared reflectivities described above, the highest value in the magenta γ-table is rewritten as “A0h”.</p>
<p id="p-0128" num="0127">Next at Step S<b>102</b>, of the laser beams, two beams for each color, the first laser beam L<b>1</b> among the laser beams L<b>1</b> to L<b>4</b> arranged in this order from the front side along the belt transport direction is made active, and the other laser beam L<b>1</b>′ is set to an off-state or a state that a laser beam intensity is weak such as a bias turn-on state. Then, the magenta (Ma) registration correction patterns are formed on the transfer belt. The formed patterns are patterns such as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Next, at Step S<b>103</b>, contrary to Step S<b>102</b>, the laser beam L<b>1</b>′ is made active and the laser beam L<b>1</b> is set to an off-state or a state that a laser beam intensity is weak such as a bias turn-on state. Then, the magenta (Ma) registration correction patterns for the second laser beam are formed on the transfer belt.</p>
<p id="p-0129" num="0128">Similar to forming the magenta (Ma) patterns at Steps S<b>101</b> to S<b>103</b>, cyan (Cy) patterns are formed at Steps S<b>104</b> to S<b>106</b>, yellow (Ye) patterns are formed at Steps S<b>107</b> to S<b>109</b> and black (Bk) patterns are formed at Steps S<b>110</b> to S<b>112</b>, respectively on the transfer belt <b>1</b>.</p>
<p id="p-0130" num="0129">In setting the image density of each color, the cyan (Cy) image density is set to “C0h”, and the yellow (Ye) image density is set to “F0h”. Since the carbon black is used as the black (Bk) toner, the pattern image is formed on the yellow (Ye) patch. Therefore, the black image density is set to “FFh” as having the largest infrared absorption value.</p>
<p id="p-0131" num="0130">More specifically, at Step S<b>104</b>, the cyan (Cy) image density is set. The register <b>35</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> is used for rewriting the contents of the cyan tables of the γRAMs <b>34</b><i>a </i>and <b>34</b><i>b </i>to “C0h”.</p>
<p id="p-0132" num="0131">Next at Step S<b>105</b>, the first laser beam L<b>2</b> is made active, and the other laser beam L<b>2</b>′ is set to an off-state or a state that a laser beam intensity is weak such as a bias turn-on state. Then, the cyan (Cy) registration correction patterns are formed on the transfer belt <b>1</b>. The formed patterns are patterns such as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Next, at Step S<b>106</b>, contrary to Step S<b>105</b>, the laser beam L<b>2</b>′ is made active and the laser beam L<b>2</b> is set to an off-state or a state that a laser beam intensity is weak such as a bias turn-on state. Then, the cyan (Cy) registration correction patterns for the second laser beam are formed on the transfer belt <b>1</b>.</p>
<p id="p-0133" num="0132">Next, at Step S<b>107</b>, the yellow (Ye) image density is set. The register <b>35</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> is used for rewriting the contents of the yellow tables of the γRAMs <b>34</b><i>a </i>and <b>34</b><i>b </i>to “F0h”.</p>
<p id="p-0134" num="0133">Next at Step S<b>108</b>, the first laser beam L<b>3</b> is made active, and the other laser beam L<b>3</b>′ is set to an off-state or a state that a laser beam intensity is weak such as a bias turn-on state. Then, the yellow (Ye) registration correction patterns are formed on the transfer belt <b>1</b>. The formed patterns are patterns such as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Next, at Step S<b>109</b>, contrary to Step S<b>108</b>, the laser beam L<b>3</b>′ is made active and the laser beam L<b>3</b> is set to an off-state or a state that a laser beam intensity is weak such as a bias turn-on state. Then, the yellow (Ye) registration correction patterns for the second laser beam are formed on the transfer belt <b>1</b>.</p>
<p id="p-0135" num="0134">Next, at Step S<b>110</b>, the black (Bk) image density is set. The register <b>35</b> shown in <figref idref="DRAWINGS">FIG. 7</figref> is used for rewriting the contents of the yellow tables of the γRAMs <b>34</b><i>a </i>and <b>34</b><i>b </i>to “FFh”.</p>
<p id="p-0136" num="0135">Next at Step S<b>111</b>, the first laser beam L<b>4</b> is made active, and the other laser beam L<b>4</b>′ is set to an off-state or a state that a laser beam intensity is weak such as a bias turn-on state. Then, the black (Bk) registration correction patterns are formed on the transfer belt <b>1</b>. The formed patterns are patterns such as shown in <figref idref="DRAWINGS">FIG. 4</figref>. Next, at Step S<b>112</b>, contrary to Step S<b>111</b>, the laser beam L<b>4</b>′ is made active and the laser beam L<b>4</b> is set to an off-state or a state that a laser beam intensity is weak such as a bias turn-on state. Then, the black (Bk) registration correction patterns for the second laser beam are formed on the transfer belt <b>1</b>.</p>
<p id="p-0137" num="0136">In the above-described manner, the registration correction pattern forming operation is repeated eight times to form eight registration correction patterns by the first laser beams and eight registration correction patterns by the second laser beams on the transfer belt <b>1</b>, totalling in sixteen patterns (i.e., eight sets). A plurality of registration correction patterns are formed in order to suppress a correction miss to be caused by defective pattern formation and improve the registration correction level.</p>
<p id="p-0138" num="0137">Next, it is checked at Step S<b>113</b> whether eight sets have been completed. If completed, at Step S<b>114</b> the registration correction patterns of 8×2 formed on the transfer belt are sequentially read to form histogram data which is stored in RAMS <b>603</b> and <b>604</b> of the registration controller <b>20</b>.</p>
<p id="p-0139" num="0138">Next at Step S<b>115</b>, the position data of each color registration pattern is calculated. CPU <b>52</b><i>c </i>accesses the registration correction pattern image data stored in RAMS <b>603</b> and <b>604</b> and calculates the peak of the histogram data of each color in the main and sub-scanning directions to obtain the position of each color pattern. Since eight sets of pattern position data are obtained, an average of pattern position data is used as the final pattern position data.</p>
<p id="p-0140" num="0139">Each color pattern is read along the belt transport direction at a constant timing corresponding to a twofold of the size of the registration pattern. Each color pattern is also formed at the same timing. Therefore, a shift of the center position of histogram data of each color corresponds to a relative shift amount of the registration pattern of each color.</p>
<p id="p-0141" num="0140">At Step S<b>116</b>, relative to the reference color (in this embodiment, cyan (Cy)) of the first laser beam, a registration shift amount of each of other patterns formed by the first and second laser beams is calculated.</p>
<p id="p-0142" num="0141">In this embodiment, position read precisions of each color in the main and sub-scanning directions are set to “256/256” steps. One step has a resolution of “18 μm” which corresponds to the precision of the registration pattern reading sensor. The belt transport direction is the sub-scanning direction, and the direction perpendicular to the transport direction is the main scanning direction.</p>
<p id="p-0143" num="0142">It is assumed herein that the cyan (Cy) registration pattern formed by the first laser beam on the right side along the belt transport direction is at the position “128/128” in the main and sub-scanning directions and that on the left side is at the position “128/128”. In this case, if the magenta (Mg) registration pattern formed by the first laser beam on the right side is at the position “136/120” and that on the left side is at the position “120/120”, then it is concluded that the magnification of the magenta (Ma) pattern relative to the cyan (Cy) pattern formed by the first laser beams advances by 16 steps (288 μm) in the main scanning direction and that the pattern write position advances by 8 steps (144 μm) in the sub-scanning direction.</p>
<p id="p-0144" num="0143">In accordance with the shift amount of each of the other colors relative to the cyan (Cy) registration pattern by the first laser beam calculated in the above manner, registration correction data of the registration patterns by the first and second laser beams other than the cyan (Cy) registration patterns by the first laser beam are calculated at Step S<b>117</b>.</p>
<p id="p-0145" num="0144">In the above-described example, the registration correction data is used for adjusting the write position of the magenta (Mg) first laser beam relative to the cyan (Cy) first laser beam to effect a delay of “144 μm” in the sub-scanning direction and for adjusting the magnification of the reflection mirror <b>1000</b>Ma of the laser scan optical system corresponding to “288 μm” by driving the magnification correction motor M<b>1</b>.</p>
<p id="p-0146" num="0145">At Step S<b>118</b>, in accordance with the registration correction data calculated at Step S<b>117</b>, electrical correction for the write position of the registration pattern of each color and/or mechanical correction for the laser optical path, respectively in the main and sub-scanning directions, is executed.</p>
<p id="p-0147" num="0146">In this example, since the inclination is not shifted, the inclination correction motor is not driven. However, if there is any shift of the inclination, the inclination correction is executed similar to the magnification correction.</p>
<p id="p-0148" num="0147">The first and second laser beams of each color are applied to the photosensitive drum via the common optical system. Therefore, for example, after the magnification of the magenta (Ma) first laser beam is adjusted, the magnification of the second laser beam is not necessary. Namely, after the registration correction (optical path correction and write position correction for inclination/magnification adjustment) by the first laser beams of the colors other than the first laser beam of cyan (Cy), only the write position adjustment by the second laser beams of the other colors Ma, Cy, Ye and Bk is executed for the registration correction.</p>
<p id="p-0149" num="0148">As described above, in the registration correction mode of this embodiment, the first and second laser beams of each color are adjusted at the same time, and the image density of each color is set independently for each color. The image registration correction can therefore be made at a good precision by radiating eight laser beams.</p>
<p id="p-0150" num="0149">In the usual image forming mode, after the position shift of each color is corrected, the register <b>35</b> controls the γRAMs <b>34</b><i>a </i>and <b>34</b><i>b </i>to set the common density value for each color, without rewriting the γ-tables to set the predetermined density to each color.</p>
<p id="p-0151" num="0150">Also in this embodiment, although the Cy first laser beam is used as the reference color, the other colors such as Ma, Ye and Bk of the first laser beam other than Cy, and Cy, Ma, Ye and Bk of the second laser beam, may also be used with similar expected advantages.</p>
<p id="p-0152" num="0151">Alto in this embodiment, an image is formed by PWM modulating the laser beam with video signals. The power of the laser beam may also be modulated with similar expected advantages.</p>
<p id="p-0153" num="0152">In this embodiment, the image density of magenta (Ma) is set to “A0h”, the image density of cyan (Cy) is set to “C0h”, the image density of yellow (Ye) is set to “F0h”, and the image density of black (Bk) is set to “FFh”. The image densities for magenta (Ma), cyan (Cy), yellow (Ye) and black (Bk) are not limited to the above values, but they may be determined beforehand in accordance with the reflectivities of coloring material components and stored beforehand in ROM or the like.</p>
<p id="p-0154" num="0153">In this embodiment, although the registration correction mark is formed on the transfer belt, it may be formed on, for example, a recording sheet. If an apparatus is used which transfers an image on a recording sheet via an intermediate transfer member (belt/drum), the registration correction mark may be formed on the intermediate transfer member, with similar expected advantages.</p>
<p id="p-0155" num="0154">As above, the image density of the registration correction mark formed by each image station is set independently for each color. Therefore, a difference of detection levels between registration correction patterns can be eliminated, which might be caused by a difference of image densities of the patterns formed by the image stations, i.e., a difference of developments, coloring material components and the like. Therefore, in accordance with the registration shift amount obtained by detecting each registration correction mark formed by each image station, the electrical correction for record image signals and/or mechanical correction for the optical path length and optical path by driving the reflection mirror disposed along the optical path of the laser beam can be executed at high precision.</p>
<p id="p-0156" num="0155">In this embodiment, the image density of the registration correction pattern of each color is changed by changing the contents of the γ-table of each color in the position shift correction mode. The image density of the registration correction pattern may be changed by changing the power of each laser beam.</p>
<p id="p-0157" num="0156"><figref idref="DRAWINGS">FIG. 12</figref> is a block diagram showing the main structure of the video controller <b>52</b><i>a </i>of the image processing station <b>52</b> which changes the image density of the registration correction pattern by changing the power of each laser beam. In <figref idref="DRAWINGS">FIG. 12</figref>, similar constituent elements to those shown in <figref idref="DRAWINGS">FIG. 7</figref> are represented by using identical reference numerals and the description thereof is omitted.</p>
<p id="p-0158" num="0157">Also in the circuit shown in <figref idref="DRAWINGS">FIG. 12</figref>, in the position shift correction mode, i.e., in the mode of forming registration correction patterns and a patch, the pattern image and patch are selected by the selectors <b>32</b><i>a </i>and <b>32</b><i>b </i>in response to the select signal β<b>527</b>, the selected image data β<b>522</b><i>a </i>and β<b>522</b><i>b </i>are supplied to the γRAMs <b>34</b><i>a </i>and <b>34</b><i>b</i>, and the γ-transformed image data β<b>523</b><i>a </i>and β<b>523</b><i>b </i>is output to the laser drivers <b>38</b><i>a </i>and <b>38</b><i>b </i>via gate circuits <b>37</b><i>a </i>and <b>37</b><i>b </i>as the video signals β<b>525</b><i>a </i>and β<b>525</b><i>b. </i></p>
<p id="p-0159" num="0158">In this embodiment, the powers of laser beams driven by the laser drivers <b>38</b><i>a </i>and <b>38</b><i>b </i>can be changed by a control signal β<b>532</b> supplied from the register <b>35</b>. In the position shift correction mode, the powers of laser beams of each color are changed by the control signal β<b>532</b> when the registration correction patterns are formed. It is therefore possible to change the image density of the registration correction pattern of each color.</p>
<p id="p-0160" num="0159"><figref idref="DRAWINGS">FIG. 13</figref> is a diagram showing the details of the laser drivers <b>38</b><i>a </i>and <b>38</b><i>b. </i></p>
<p id="p-0161" num="0160">In this embodiment, as described previously, in order to correct the position shift, registration patterns are formed on the transfer belt and the images of these registration correction patterns are read with the CCD sensors. Since the white/black CCD sensor is used, the registration correction pattern formed by color toner is read as an ND image. The read data has therefore a large level difference between colors.</p>
<p id="p-0162" num="0161">When the registration correction pattern is read in the visual range, the color level of the transfer belt is also read. Therefore, the dynamic range of the read level of each registration pattern becomes small and the influence by external disturbance becomes very large. Even if the registration correction pattern is read in the infrared range, the read level of each color is difficult to be made equal because the toners in the infrared range have different reflectivities.</p>
<p id="p-0163" num="0162">The registration correction pattern formed on the Ye patch is read for the color Bk. It is therefore necessary to increase the image densities of both Ye and Bk, to increase the infrared reflectivity of the Ye patch, and to increase the infrared absorption amount of the Bk pattern.</p>
<p id="p-0164" num="0163">In this embodiment, separately from the usual image forming mode, only in the position shift correction mode, the power of each laser beam is controlled to control the image density of each registration correction pattern independently for each color.</p>
<p id="p-0165" num="0164">A PWM generation circuit <b>381</b> shown in <figref idref="DRAWINGS">FIG. 13</figref> generates a PWM signal in accordance with the video signals β<b>525</b><i>a </i>and β<b>525</b><i>b </i>output from the gate circuits <b>37</b><i>a </i>and <b>37</b><i>b </i>shown in <figref idref="DRAWINGS">FIG. 12</figref> and video clocks β<b>530</b><i>a </i>and β<b>530</b><i>b </i>synchronizing with the video signals.</p>
<p id="p-0166" num="0165">Specifically, the PWM generation circuit <b>381</b> generates a reference triangular wave shown in <figref idref="DRAWINGS">FIG. 14A</figref> in accordance with the video clock β<b>530</b>, and compares the reference triangular wave with the D/A converted video signal β<b>525</b>.</p>
<p id="p-0167" num="0166">If the level of the video signal is large (near to FFh), the high level period of the PWM signal becomes long, and in the opposite case, the high level period becomes short. Therefore, the gradation of an image is controlled by controlling the turn-on period of a laser beam during one video clock period in accordance with the level of the video signal. The image density can therefore be controlled by adjusting the laser beam turn-on period in accordance with the video signal level.</p>
<p id="p-0168" num="0167">The level of the video signal may be controlled to adjust the image density of the registration correction pattern. However, if the image density of the registration correction pattern is changed by controlling the turn-on period of the laser beam, the area of each pixel in the registration correction pattern changes with the set image density, which may pose a problem in reading the registration correction image.</p>
<p id="p-0169" num="0168">In order to solve this problem, in this embodiment, in the position shift correction mode, the resister <b>35</b> controls the γ-tables <b>34</b><i>a </i>and <b>34</b><i>b </i>to fix the level of an output video signal to “FFh”. In addition, the laser control signal β<b>532</b> output from the register <b>35</b> makes the illumination light amount of a laser beam variable to thereby control the image density of the registration correction pattern. As the laser light amount increases, the latent image on the photosensitive drum becomes deep so that the amount of developed toner increases and the thickness of a developed image becomes large without changing the width of the image. Namely, the toner amount per unit area increases and the reflection light amount increases.</p>
<p id="p-0170" num="0169">More specifically, in the position shift correction mode, laser output setting values β<b>531</b><i>a </i>and β<b>531</b><i>b </i>set by the register <b>35</b> are converted by a D/A converter <b>382</b> into analog laser output setting values β<b>532</b><i>a </i>and β<b>532</b><i>b</i>. A laser drive unit <b>383</b> has a constant current source for driving the laser which is turned on and off by a PWM signal under a constant current. Only in the position shift correction mode, the set value of this constant current source is adjusted for each color to change the emission light amount of the laser.</p>
<p id="p-0171" num="0170">In this embodiment, a laser chip of about 10 mW is used, and the constant current value is made adjustable in the range of 60·mA to 80 mA as shown in <figref idref="DRAWINGS">FIG. 14C</figref>.</p>
<p id="p-0172" num="0171">In this embodiment, in accordance with the reflectivities of toners in the infrared range, the image densities are set so as to satisfy Bk&gt;Ye&gt;(≧) Cy&gt;(≧) Ma. In the usual image forming mode, the laser emission amount is set equal for all colors, and only when registration correction patterns are formed, the laser emission amount is changed for each color.</p>
<p id="p-0173" num="0172">The reflectivity of each toner does not change greatly with time and temperature. Therefore, a predetermined laser output setting value corresponding to each reflectivity is read from the register <b>35</b> to set the image density. The color Bk has a largest difference of the reflectivity relative to the other colors. In this connection, a Bk registration correction pattern may be formed at a first image density, and the registration correction patterns of other three colors excepting Bk may be formed at a second image density.</p>
<p id="p-0174" num="0173">In the embodiment shown in <figref idref="DRAWINGS">FIGS. 12</figref> to <figref idref="DRAWINGS">FIGS. 14A</figref>, <b>14</b>B and <b>14</b>C, in the position shift correction mode, the emission amount of a laser beam of each color is controlled to change the image density of each color when the registration correction patterns are formed. It is possible to make the reflection light amount of each color equal, to improve a read precision of the registration correction pattern, and to correct the position shift with a high precision.</p>
<p id="p-0175" num="0174">The structure of data processing programs readable by the image forming apparatus of this invention will be described with reference to a memory map shown in <figref idref="DRAWINGS">FIG. 15</figref>.</p>
<p id="p-0176" num="0175"><figref idref="DRAWINGS">FIG. 15</figref> is a memory map of a storage medium storing various data processing programs readable by the image forming apparatus of this invention.</p>
<p id="p-0177" num="0176">Although not shown in <figref idref="DRAWINGS">FIG. 15</figref>, other data may be stored in the storage medium. Such data includes management data for programs stored in the storage medium such as version information and programmer names, and data dependent on OS reading a program such as icons for discriminating programs.</p>
<p id="p-0178" num="0177">Data used by each of various programs is also managed by the directory shown in <figref idref="DRAWINGS">FIG. 15</figref>. If programs and data to be installed are being compressed, a decompressing program and the like may also be stored.</p>
<p id="p-0179" num="0178">A host computer running on an externally installed program may realize the functions of the embodiment illustrated in <figref idref="DRAWINGS">FIG. 11</figref>. In this case, the invention is applicable to the case wherein a data set including the program is supplied to an output apparatus by using a storage medium such as a CD-ROM, a flash memory and an floppy disc or an external storage medium via a network.</p>
<p id="p-0180" num="0179">It is obvious that the objects of the invention can be achieved by supplying a storage medium storing software program codes realizing the functions of each embodiment described above to a system or an apparatus whose computer (CPU or MPU) reads and executes the program codes stored in the storage medium.</p>
<p id="p-0181" num="0180">In this case, the software program codes themselves realize the novel functions of the invention. Therefore, the storage medium storing the program codes constitutes the present invention.</p>
<p id="p-0182" num="0181">The storage medium for storing such program codes may be a floppy disk, a hard disk, an optical disk, a magnetooptical disk, a CD-ROM, a CD-R, a DVD-ROM, a magnetic tape, a nonvolatile memory card, a ROM, an EEPROM, a silicon disc or the like.</p>
<p id="p-0183" num="0182">It is obvious that the scope of the invention contains not only the case wherein the functions of the embodiment are realized by a CPU reading and executing the program codes but also the case wherein the functions of the embodiment are realized by an OS (operating system) or the like running on a computer and executing a portion or the whole of actual processes in accordance with the program codes.</p>
<p id="p-0184" num="0183">It is obvious that the scope of the invention also contains the case wherein the functions of each embodiment can be realized by writing the program codes into a memory of a function expansion board inserted into a computer or of a function expansion unit connected to the computer, and thereafter by executing a portion or the whole of actual processes by a CPU of the function expansion board or function expansion unit.</p>
<p id="p-0185" num="0184">The invention is also applicable to a system having a plurality of apparatuses or to a single apparatus. It is obvious that the invention is applicable to the case wherein the embodiment functions are realized by supplying programs to the system or apparatus. In this case, the system or apparatus can receive the advantageous effects of the invention by reading the storage medium storing the software programs realizing the embodiment functions.</p>
<p id="p-0186" num="0185">The system or apparatus can receive the advantageous effects of the invention by downloading the software program codes realizing the embodiment functions from a database on a network by using a communication program and reading the software program codes.</p>
<p id="p-0187" num="0186">Many widely different embodiments of the present invention may be constructed without departing from the spirit and scope of the present invention. It should be understood that the present invention is not limited to the specific embodiments described in the specification, except as defined in the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image forming apparatus comprising:
<claim-text>a plurality of image forming means for forming an image on a recording medium;</claim-text>
<claim-text>mark detecting means for detecting a plurality of registration correction marks formed on the recording medium by the plurality of said image forming means;</claim-text>
<claim-text>correcting means for correcting a position difference between images formed by the plurality of said image forming means in accordance with a detection result by said mark detecting means; and</claim-text>
<claim-text>controlling means for independently controlling an image forming operation of each of the plurality of said image forming means to cause image density settings of the plurality of registration correction marks to be formed by said plurality of image forming means to differ from each other so that each of the registration correction marks formed by the plurality of said image forming means has a different image density.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. An apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the plurality of said image forming apparatus includes γ-converting means for γ-converting an input video signal in accordance with a γ-table and writing means for writing an image corresponding to the γ-converted video signal on the image carrier, and said controlling means independently changes the γ-table of each of the plurality of said image forming means.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. An apparatus according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein said controlling means sets a common value to the γ-table of each of the plurality of said image forming means in an usual image forming mode.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. An apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the plurality of said image forming means includes writing means for writing an image by irradiating a laser beam to the image carrier, and said controlling means independently controls a light amount of the laser beam to be irradiated by each of the plurality of said image forming means.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. An apparatus according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein said controlling means outputs video signals having a same signal level corresponding to each of the registration correction marks to the plurality of said image forming means respectively.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. An apparatus according to <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein said writing means includes PWM signal generating means for generating a PWM signal in accordance with the video signal, and generates the laser beam in accordance with the PWM signal.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the apparatus has a usual image forming mode and a position shift correction mode, and said controlling means controls a density of an image to be formed by each of the plurality of said image forming means to have a common value.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. An apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the recording medium includes a motion member which moves in order to transfer an image formed on the image carrier by each of the plurality of said image forming means at a transfer position.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the recording medium includes a transfer belt which moves in order to transfer an image formed on the image carrier by each of the plurality of said image forming means to a transfer member at a transfer position.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. An apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said mark detecting means includes illuminating means for irradiating infrared light to the recording medium and a sensor for detecting a reflection light of the infrared light from the registration correction mark on the recording medium.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. An image forming apparatus comprising:
<claim-text>a plurality of image forming means each having an image carrier and forming an image of a different color on a recording medium;</claim-text>
<claim-text>mark detecting means for detecting a plurality of registration correction marks of different colors formed on the recording medium by the plurality of said image forming means;</claim-text>
<claim-text>correcting means for correcting a position difference between color images formed by the plurality of said image forming means in accordance with a detection result by said mark detecting means; and</claim-text>
<claim-text>controlling means for independently controlling an image forming operation of each of the plurality of said image forming means so that the registration correction mark of first color is formed at a first density and the registration correction marks of colors different from the first color are formed at a second density different from the first density.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. An apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein each of the plurality of said image forming apparatus includes γ-converting means for γ-converting an input video signal in accordance with a γ-table and writing means for writing an image corresponding to the γ-converted video signal on the image carrier, and said controlling means independently changes the γ-table of each of the plurality of said image forming means.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. An apparatus according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said controlling means sets a common value to the γ-table of each of the plurality of said image forming means in an usual image forming mode.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. An apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein each of the plurality of said image forming means includes writing means for writing an image by irradiating a laser beam to the image carrier, and said controlling means independently controls a light amount of the laser beam to be irradiated by each of the plurality of said image forming means.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. An apparatus according to <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein said controlling means outputs video signals having a same signal level corresponding to each of the registration correction marks to the plurality of said image forming means respectively.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. An apparatus according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein said writing means includes PWM signal generating means for generating a PWM signal in accordance with the video signal, and generates the laser beam in accordance with the PWM signal.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. An apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the apparatus has a usual image forming mode and a position shift correction mode, and said controlling means controls a density of an image to be formed by each of the plurality of said image forming means to have a common value.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. An apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the recording medium includes a motion member which moves in order to transfer an image formed on the image carrier by each of the plurality of said image forming means at a transfer position.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. An apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the recording medium includes a transfer belt which moves in order to transfer an image formed on the image carrier by each of the plurality of said image forming means to transfer member at a transfer position.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. An apparatus according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein said mark detecting means includes illuminating means for irradiating infrared light to the recording medium and a sensor for detecting a reflection light of the infrared light from the registration correction mark on the recording medium.</claim-text>
</claim>
</claims>
</us-patent-grant>
