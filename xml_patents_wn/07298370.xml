<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298370-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298370</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11107328</doc-number>
<date>20050416</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>142</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>T</subclass>
<main-group>15</main-group>
<subgroup>40</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>T</subclass>
<main-group>11</main-group>
<subgroup>20</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>345421</main-classification>
<further-classification>345440</further-classification>
</classification-national>
<invention-title id="d0e53">Depth ordering of planes and displaying interconnects having an appearance indicating data characteristics</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6018348</doc-number>
<kind>A</kind>
<name>Sprague</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345421</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6169550</doc-number>
<kind>B1</kind>
<name>Jain</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345421</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00003">
<othercit>Foley, James D., “The z-Buffer Algorithm”, “List-Priority Algorithms, and The Depth-Sort-Algorithm”, (BOOK)—Computer Graphics Principles and Practice, 2nd Edition in C, (1997) pp. 668-675.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
</references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>26</number-of-drawing-sheets>
<number-of-figures>29</number-of-figures>
</figures>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Middler</last-name>
<first-name>Mitchell Scott</first-name>
<address>
<city>Hermosa Beach</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Brinkmann</last-name>
<first-name>Ron</first-name>
<address>
<city>Hermosa Beach</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Warner</last-name>
<first-name>Peter</first-name>
<address>
<city>Paris</city>
<country>FR</country>
</address>
</addressbook>
<nationality>
<country>FR</country>
</nationality>
<residence>
<country>FR</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Adeli Law Group PLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Apple Inc.</orgname>
<role>02</role>
<address>
<city>Cupertino</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Zimmerman</last-name>
<first-name>Mark</first-name>
<department>2628</department>
</primary-examiner>
<assistant-examiner>
<last-name>Tseng</last-name>
<first-name>Gene</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method for determining a depth ordering between two planes in a 3D workspace of an application is provided. The method includes projecting vectors from a reference position through points of interest on the planes, determining corresponding points on the other plane, determining a number of points of interest on a first plane having a depth lower than its corresponding point and a number of points of interest on a second plane having a depth lower than its corresponding point, and setting the depth ordering based on these numbers. A method for displaying interconnects between nodes of a tree displayed in an application is provided. A node represents a multimedia item or a function and an interconnect represents data passed between two nodes. The method includes displaying an interconnect in the tree having an appearance indicating at least one characteristic of the data being passed between two nodes.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="161.29mm" wi="169.33mm" file="US07298370-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="224.62mm" wi="179.32mm" file="US07298370-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="226.65mm" wi="168.15mm" file="US07298370-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="246.30mm" wi="186.69mm" orientation="landscape" file="US07298370-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="244.35mm" wi="145.12mm" orientation="landscape" file="US07298370-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="189.06mm" wi="137.08mm" file="US07298370-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="241.81mm" wi="167.05mm" file="US07298370-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="257.39mm" wi="190.92mm" orientation="landscape" file="US07298370-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="258.23mm" wi="183.56mm" orientation="landscape" file="US07298370-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="253.66mm" wi="184.74mm" orientation="landscape" file="US07298370-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="252.48mm" wi="182.03mm" orientation="landscape" file="US07298370-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="254.00mm" wi="181.61mm" orientation="landscape" file="US07298370-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="254.34mm" wi="182.88mm" orientation="landscape" file="US07298370-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="247.14mm" wi="173.48mm" file="US07298370-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="238.42mm" wi="181.53mm" file="US07298370-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="219.46mm" wi="170.10mm" file="US07298370-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="263.57mm" wi="188.98mm" orientation="landscape" file="US07298370-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="253.15mm" wi="180.17mm" orientation="landscape" file="US07298370-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="218.95mm" wi="179.66mm" file="US07298370-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="240.96mm" wi="192.45mm" file="US07298370-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="211.07mm" wi="172.38mm" file="US07298370-20071120-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="250.53mm" wi="165.52mm" file="US07298370-20071120-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="242.23mm" wi="197.78mm" file="US07298370-20071120-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="240.03mm" wi="190.58mm" file="US07298370-20071120-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="255.95mm" wi="185.08mm" orientation="landscape" file="US07298370-20071120-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="254.34mm" wi="187.11mm" orientation="landscape" file="US07298370-20071120-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="232.75mm" wi="177.72mm" orientation="landscape" file="US07298370-20071120-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The invention relates to depth ordering of planes and displaying interconnects having an appearance indicating data characteristics.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">Compositing and effects applications (such as Shake® by Apple Computer, Inc.) receive and process multimedia items (e.g., text, image, video, audio, etc.) to produce a multi-layered composited output. Such applications can import and composite multimedia items and allow transformations of multimedia items that change characteristics (e.g., position, size, shape, and rotation) using transformations such as pan/move, rotate, scale, etc. A graphical user interface (GUI) used in these applications display multimedia items in a three dimensional (3D) workspace and allows a user to select and manipulate the displayed multimedia items. Keyboards or cursor controlling devices (e.g., computer mouse) are used to interact with the GUI to select and manipulate multimedia items in the 3D workspace.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0004" num="0003">In some embodiments, a method for determining a depth ordering between first and second planes in a three dimensional workspace of a compositing application is provided where the depth ordering is in relation to a reference position (e.g., virtual camera) in the workspace. The method includes projecting vectors from the reference position through predetermined points of interest on the first and second planes, determining, for each point of interest on a particular plane, a corresponding point on the other plane that is intersected by the vector intersecting the point of interest on the particular plane, determining a first number comprising the number of points of interest on the first plane having a depth coordinate lower than its corresponding point on the second plane and a second number comprising the number of points of interest on the second plane having a depth coordinate lower than its corresponding point on the first plane, and setting the depth ordering to reflect that the first plane is closer to the reference position if the first number is greater than the second number and setting the depth ordering to reflect that the first plane is farther from the reference position if the first number is less than the second number.</p>
<p id="p-0005" num="0004">In some embodiments, the points of interest comprise corner and center points of the planes. In some embodiments, the method further includes determining a first distance comprising the distance between the center point of the first plane and its corresponding point on the second plane and a second distance comprising the distance between the center point of the second plane and its corresponding point on the first plane; and setting the depth ordering to reflect that the first plane is closer to the reference position if the first distance is greater than the second distance and setting the depth ordering to reflect that the first plane is farther from the reference position if the first distance is less than the second distance.</p>
<p id="p-0006" num="0005">In some embodiments, a method for displaying interconnects that connect nodes of a process tree displayed in a multimedia application is provided. A node represents a multimedia item or a function being performed on at least one multimedia item and an interconnect represents data being passed between a pair of nodes that the interconnect connects. The method includes displaying at least a first interconnect in the process tree having an appearance that indicates at least one characteristic of the data being passed between a pair of nodes that the first interconnect connects.</p>
<p id="p-0007" num="0006">In some embodiments, color of the first interconnect, the line patterning of the first interconnect, or both, are used to indicate the at least one characteristic of the data. In some embodiments, the data is image data and the appearance of the first interconnect indicates the color bit depth or channel configuration of the image data. In some embodiments, the appearance of the first interconnect and the data characteristics that the appearance indicate are user configurable.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007">The novel features of the invention are set forth in the appended claims. However, for purpose of explanation, several embodiments of the invention are set forth in the following figures.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an example of a process tree comprising a set of nodes and a set of interconnects between the nodes.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 2</figref> illustrates an example of a process tree having multi-plane nodes.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3</figref> shows an example of a multi-pane interface of a multi-plane node having four panes.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref> shows an example of onscreen controls revealed for performing a rotation transform around the X, Y, or Z axis of a selected plane.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5</figref> shows an example of global and local sets of onscreen controls revealed for performing a move/pan transform along the X, Y, or Z axis of a selected plane.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 6</figref> illustrates an example of a set of control guidelines used in some embodiments.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart of a method for processing an item presented in a graphical user interface (GUI) of a multimedia application.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 8A-D</figref> are screenshots of a GUI of a multimedia application that illustrate a scale transform example of the method of <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIGS. 9A-B</figref> are screenshots of a GUI of a multimedia application that illustrate a rotate transform example of the method of <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart of a method for determining a Z-depth ordering between first and second planes in a 3D workspace.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIGS. 11A-B</figref> that conceptually illustrate examples of the steps of the method of <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIGS. 12A-B</figref> are screenshots of a display of a multimedia application that illustrate steps of the method of <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 13</figref> shows an example of a portion of a process tree having a plurality of nodes connected by a plurality of interconnects having different appearances that indicate different data characteristics.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 14</figref> shows a screenshot of an interface of a multimedia application having interfaces for customizing the appearance of interconnects.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 15</figref> is a flowchart of a method for displaying interconnects that connect nodes of a process tree.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 16</figref> is a flowchart of a method for transforming a cursor movement in a screen space coordinate system to a cursor movement in a non-screen space coordinate system in a workspace of a multimedia application.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIGS. 17A-D</figref> illustrate examples of the steps of the method of <figref idref="DRAWINGS">FIG. 16</figref>.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIGS. 18A-B</figref> are screenshots of a screen space showing a workspace of a multimedia application and illustrate steps of <figref idref="DRAWINGS">FIG. 16</figref>.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 19</figref> presents a computer system with which some embodiments are implemented.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0028" num="0027">In the following description, numerous details are set forth for purpose of explanation. However, one of ordinary skill in the art will realize that the invention may be practiced without the use of these specific details. In other instances, well-known structures and devices are shown in block diagram form in order not to obscure the description of the invention with unnecessary detail.</p>
<p id="p-0029" num="0028">Several embodiments are described below by reference to compositing applications. The descriptions relating to compositing applications, however, are for illustrative purposes only and one of ordinary skill in the art will realize and that the processes of the below embodiments can be applied to any multimedia application.</p>
<p id="p-0030" num="0029">As used herein, a multimedia item is sometimes referred to as a layer or plane. As used herein, a transform is sometimes referred to as a function, operation, or process that is performed on a multimedia item. As used herein, a workspace is a virtual 3D layout where a user can import and manipulate one or more two dimensional (2D) planes. In the workspace, the user can also manipulate a virtual camera that provides a view of the workspace, the view being used to composite and render the planes of the workspace.</p>
<p id="h-0006" num="0000">I. Compositing Multimedia Items</p>
<p id="h-0007" num="0000">Process Tree and Multi-Plane Nodes</p>
<p id="p-0031" num="0030">In some embodiments, multimedia items are composited by multimedia applications that represent the compositing process using a process tree. In these embodiments, the process tree that represents various multimedia items, transforms performed on the multimedia items, and the relationships between the items and transforms. The process tree offers an intuitive, nonlinear process that makes building and modifying complex composites fast and easy. The process tree gives users access to any part of the composite at any time and allows users to make creative and technical decisions at any point in the production process. In this way, contextual viewing is always available, allowing users to adjust background elements while monitoring the entire composite. This provides a schematic method for creating and modifying effects, with all stages intact and accessible at any time. This tree-based method has a significant advantage over layer-based methods because changes can be made at any stage in the tree.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an example of a process tree <b>100</b> comprising a set of nodes and a set of interconnects <b>110</b> between the nodes. Leaf nodes <b>115</b> (i.e., nodes not receiving inputs from other nodes) comprise multimedia items (e.g., text, image, video, audio, etc.). and non-leaf nodes <b>120</b> comprise functions/transforms performed on one or more multimedia items. Non-leaf nodes receive one or more inputs from other nodes and outputs to another node (except for a root node). A root node <b>125</b> (i.e., a node that has no output) receives, directly or indirectly, an output from each of the other nodes of the process tree <b>100</b> and is the final composited output of the process tree.</p>
<p id="p-0033" num="0032">In some embodiments, the process tree includes the use of novel multi-plane/multi-layer nodes that can each receive one or more plane inputs (up to an infinite number of plane inputs). <figref idref="DRAWINGS">FIG. 2</figref> illustrates an example of a process tree <b>200</b> having novel multi-plane nodes <b>205</b>. The process tree <b>200</b> is equivalent to the process tree <b>100</b> shown in <figref idref="DRAWINGS">FIG. 1</figref> but is simplified by use of the multi-plane nodes <b>205</b>. The multi-plane node provides a compositing environment for positioning two dimensional (2D) items/planes within the 3D workspace. Using the multi-plane node, a user, for example, can arrange multiple items/planes within the 3D workspace for easy simulation of perspective, parallax, and other depth effects.</p>
<p id="h-0008" num="0000">Multi-Pane Interface</p>
<p id="p-0034" num="0033">In some embodiments, a multi-plane node is displayed in a novel multi-pane display interface. Each pane of the multi-pane interface can be set to display a particular view of the workspace. Different views provide different viewing angles of the workspace to assist a user in positioning items/planes within the 3D workspace (having XYZ coordinate axes comprising a 3D coordinate system). For example, a front view provides a front angle to the workspace and is useful for transforming a plane's X and Y pan, angle, and scale parameters; a top view provides a top angle to the workspace and is useful for transforming a plane's X and Z pan, angle, and scale parameters; and a side view provides a side angle to the workspace and is useful for transforming a plane's Y and Z pan, angle, and scale parameters.</p>
<p id="p-0035" num="0034">In some embodiments, a perspective view of the workspace is also available. The perspective view is useful for transforming a plane's X, Y, and Z pan, angle, scale, and rotation parameters. The perspective view provides a 3D simulation effect by graphically approximating on a 2D planar surface the images of the multimedia items so as to approximate 3D visual perception. In perspective view, items that are closer to the virtual camera (having lower Z coordinate values) are shown to be larger than items of the same size that are farther from the virtual camera (having higher Z coordinate values). As such, the dimensions of items in the perspective view may not be equal to the dimensions of the same items in non-perspective views and may appear “distorted” in the perspective view relative to the non-perspective views. As used herein, a non-perspective view is a view that does not provide the 3D simulation effect of a perspective view. Examples of non-perspective views are views that are orthographic, such as the front, side, and top views.</p>
<p id="p-0036" num="0035">The different views also assist a user in positioning a virtual camera within the 3D workspace. The virtual camera controls the scope of the final output of the multi-plane node. In some embodiments, the distance from the virtual camera determines the Z coordinates of an item in the workspace where lower Z coordinate values indicate that the item is closer to the virtual camera than higher Z coordinate values. In some embodiments, the view of the virtual camera is also provided as an available view in the multi-pane interface and is referred to as the “Camera1” view. The 3D workspace as shown through the “Camera1” view represents the final composited output of the multi-plane node and as such, provides a perspective view of the workspace.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 3</figref> shows an example of a multi-pane interface <b>300</b> of a multi-plane node having four panes. A first pane <b>305</b> displays a side view, a second pane <b>310</b> displays a perspective view, a third pane <b>315</b> displays a top view, and a fourth pane <b>320</b> displays a “Camera1” view of the 3D workspace. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, the multi-pane interface <b>300</b> also displays a node graph <b>330</b> showing the various nodes from which the multi-plane node receives inputs.</p>
<p id="p-0038" num="0037">The multi-pane interface <b>300</b> also displays a plane ordering interface <b>340</b> that allows a user to specify the Z-depth ordering of the planes in the 3D workspace (i.e., the distance from the virtual camera). In some embodiments, the Z-depth ordering of the planes specified in the plane ordering interface <b>340</b> is used to help determine whether one plane is in front of another (as discussed below). The Z-depth ordering of the planes affects the rendering of the planes in the final output as a first plane may be occluded (visually blocked) by a second plane considered to be in front of the first plane.</p>
<p id="h-0009" num="0000">Transforms and Controls</p>
<p id="p-0039" num="0038">Through interaction with a view shown in the multi-pane interface, a user can select any plane shown in the view (e.g., through use of a cursor controlling device) and specify 3D transforms (i.e., functions or processes) to be performed on the selected plane. Such transformations occur within the actual 3D workspace and can occur along any specified axis (X, Y, or Z) of the workspace. Numerically, all transformations occur relative to the origin point (0,0,0) of a global coordinate space (discussed below) of the workspace. Such transforms include, for example, moving/panning, rotating, scaling, etc.</p>
<p id="p-0040" num="0039">In some embodiments, upon selecting a plane in a view, particular onscreen transform controls for the plane are revealed and superimposed over the plane. <figref idref="DRAWINGS">FIG. 4</figref> shows an example of onscreen controls <b>405</b> that may be revealed for performing a rotation transform around the X, Y, or Z axis of a selected plane. In some embodiments, the rotation onscreen controls <b>405</b> are different colored ellipses superimposed over a selected plane, wherein each axis is represented by a different colored ellipse.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 5</figref> shows an example of two sets of onscreen controls that may be revealed for performing a move/pan transform along the X, Y, or Z axis of a selected plane. The first set of pan onscreen controls <b>505</b> (the set of inside arrows) allow panning of the selected plane in relation to a global coordinate system of the 3D workspace. The second set of pan onscreen controls <b>510</b> (the set of outside triangles) allow panning of the selected plane in relation to a local coordinate system of the selected plane.</p>
<p id="h-0010" num="0000">II. Hot Key Selection of Transforms and Activation of Onscreen Control Guidelines</p>
<p id="p-0042" num="0041">After revealing particular onscreen controls of an item selected through the GUI of a multimedia application, the user can specify a particular transform/function (e.g., global or local pan, rotate, scale, etc.) and the manner of the particular transform/function to be applied to the selected item. As used herein, the manner of a transform/function specifies a particular aspect of the transform/function and the extent/degree of the particular aspect to be applied to the selected item. For example, the manner of a transform may specify along which axis (X, Y, or Z) a transform applies and to what amount the transform will be along the axis.</p>
<p id="p-0043" num="0042">For example, through use of a cursor controlling device, the user can select a triangle corresponding to the Y axis in the set of local pan onscreen controls <b>510</b> to select a local pan transform along the Y axis and then move the selected triangle a particular distance to specify the extent of the local pan transform along the Y axis to be applied to the selected item. However, after selection of an item through the GUI of the multimedia application, it can be difficult for the user to specify the type and manner of a transform to be applied to the selected item when the item is small or is in a crowded area of the GUI.</p>
<p id="p-0044" num="0043">In some embodiments, an easier method for specifying a transform/function to be applied to a selected item and the manner of the transform is provided. In some embodiments, hot keys (keyboard inputs) are used to select transforms and activate a set of onscreen control guidelines. Each hot key is associated with a particular transform (e.g., pan, rotate, scale, etc.) and input of the hot key selects the transform associated with the hot key. Each hot key is also associated with a particular set of control guidelines and input of the hot key also activates the set of control guidelines associated with the hot key (i.e., causes the associated set of control guidelines to be displayed in the GUI). In some embodiments, different sets of control guidelines associated with different hot keys have different graphical appearances. In other embodiments, different sets of control guidelines associated with different hot keys have the same graphical appearance.</p>
<p id="p-0045" num="0044">The set of control guidelines help the user specify, through use of a cursor controlling device, the manner of the selected transform to be applied to the item (i.e., an aspect of the selected transform and the extent of the aspect to be applied to the item). In some embodiments, a particular aspect of a selected transform is specified by a particular movement of a cursor (controlled by the cursor controlling device) in the GUI where the extent of the particular aspect is specified by the distance of the movement of the cursor. In some embodiments, each guideline in the set of control guidelines corresponds to a particular aspect of a selected transform. In some embodiments, each guideline in the set of control guidelines visually/graphically indicates a particular movement of the cursor needed to specify/select the particular aspect that corresponds to the guideline. In some embodiments, each guideline in the set of control guidelines has a different appearance (e.g., in terms of color, line pattern, etc.) and/or orientation.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 6</figref> illustrates an example of a set of control guidelines <b>600</b> used in some embodiments. The set of control guidelines <b>600</b> comprises a set of three guidelines each having a different appearance and orientation in relation to the other guidelines in the set. A first guideline <b>605</b> corresponds to an X-axis aspect, a second guideline <b>610</b> corresponds to a Y-axis aspect, and a third guideline <b>615</b> corresponds to a Z-axis aspect of a selected transform. As shown in <figref idref="DRAWINGS">FIG. 6</figref>, each guideline graphically indicates a particular direction of cursor movement needed to specify the particular aspect that corresponds to the guideline. As such, the first guideline <b>605</b> graphically indicates that a horizontal cursor movement is needed to specify the X-axis aspect, the second guideline <b>610</b> graphically indicates that a vertical cursor movement is needed to specify the Y-axis aspect, and the third guideline <b>615</b> graphically indicates that a diagonal cursor movement is needed to specify the Z-axis aspect of a selected transform.</p>
<p id="p-0047" num="0046">In some embodiments, after receiving an initial movement of the cursor (of a predetermined distance) in accordance with a cursor movement indicated by a particular guideline, the other guidelines in the set of control guidelines are no longer displayed so that only the particular guideline is shown. For example, in <figref idref="DRAWINGS">FIG. 6</figref>, after an initial horizontal cursor movement is received in accordance with the cursor movement indicated by the first guideline <b>605</b> (thus indicating a selection of the X-axis aspect), the second and third guidelines <b>610</b> and <b>615</b> would no longer be displayed.</p>
<p id="p-0048" num="0047">In further embodiments, an initial cursor movement in accordance with a cursor movement indicated by a particular guideline selects the aspect of the transform corresponding to the particular guideline wherein later movements of the cursor can not deselect the aspect. For example, in <figref idref="DRAWINGS">FIG. 6</figref>, after an initial horizontal cursor movement is received, the X-axis aspect of the transform is selected so that, even if the cursor later moves in vertical or diagonal directions, the X-axis aspect is not deselected.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 7</figref> is a flowchart of a method <b>700</b> for processing an item presented in a graphical user interface (GUI) of a multimedia application. In some embodiments, the method is implemented by software or hardware configured to process multimedia items. The method <b>700</b> begins when it receives (at <b>705</b>) a selection of an item in the GUI by a user, for example, through use of a keyboard or cursor controlling device. The method then receives (at <b>710</b>) a keyboard input (hot key input) from the user, the keyboard input being associated with a particular transform/function, wherein receiving the keyboard input selects/specifies the associated transform to be applied to the selected item.</p>
<p id="p-0050" num="0049">Upon receiving the keyboard input, the method then displays (at <b>715</b>) a set of control guidelines associated with the keyboard input. In some embodiments, each guideline in the set of control guidelines corresponds to a particular aspect of the selected transform and graphically indicates a particular movement of a cursor needed to specify the particular aspect. As used herein, the cursor movements that specify aspects of the selected transform are referred to as a set of specifying cursor movements.</p>
<p id="p-0051" num="0050">The method then receives (at <b>720</b>) a cursor movement input (through the GUI from a cursor controlling device) having a direction and distance that specifies the manner in which the selected transform is to be applied to the selected item. In some embodiments, the cursor input comprises a particular cursor movement in the set of specifying cursor movements that specifies a particular aspect of the selected transform to be applied to the selected item. Optionally, after receiving an initial cursor movement (of a predetermined distance) in accordance with a cursor movement indicated by a particular guideline, the method removes from display the other guidelines in the set of control guidelines so that only the particular guideline is shown. As a further option, an initial cursor movement (of a predetermined distance) in accordance with a cursor movement indicated by a particular guideline selects the aspect of the transform corresponding to the particular guideline wherein later movements of the cursor can not deselect the aspect. The distance of the cursor movement input in the GUI received at step <b>720</b> specifies the extent of the aspect of the selected transform to be applied to the selected item.</p>
<p id="p-0052" num="0051">The method then processes (at <b>725</b>) the item in accordance with the selected transform and the specified manner (aspect and extent) of which the selected transform is to be applied to the selected item. The method <b>700</b> then ends.</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIGS. 8A-D</figref> and <b>9</b>A-B are screenshots of a GUI of a multimedia application that illustrate steps of the method <b>700</b>. These figures are described in relation to an upper right pane showing a perspective view of a 3D workspace. <figref idref="DRAWINGS">FIGS. 8A-D</figref> are screenshots of a GUI of a multimedia application that illustrate a scale transform example of the method <b>700</b>. <figref idref="DRAWINGS">FIG. 8A</figref> shows a screenshot of the GUI displaying a plurality of items including a text plane <b>805</b> (labeled “Text”). <figref idref="DRAWINGS">FIG. 8B</figref> shows the text plane <b>805</b> after it has been selected (as indicated by the appearance of global and local pan controls superimposed on the plane). <figref idref="DRAWINGS">FIG. 8C</figref> shows the GUI after a scaling hot key input corresponding to the scaling transform has been received and a set of control guidelines <b>810</b> (the set of horizontal, vertical, and diagonal arrowed lines to the upper left of the text plane) associated with the scaling hot key has been displayed. And <figref idref="DRAWINGS">FIG. 8D</figref> shows the GUI after the X-axis aspect of the scale transform has been specified by a cursor movement, and therefore, only the guideline <b>815</b> (the horizontal arrowed line) corresponding to the X-axis aspect remains displayed in the GUI while the other guidelines have been removed.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIGS. 9A-B</figref> are screenshots of a GUI of a multimedia application that illustrate a rotate transform example of the method <b>700</b>. <figref idref="DRAWINGS">FIG. 9A</figref> shows a screenshot of the GUI displaying a plurality of items including a plane <b>905</b> with a circle. As shown in <figref idref="DRAWINGS">FIG. 9A</figref>, the circle plane <b>905</b> has been selected (as indicated by the appearance of global and local pan controls superimposed on the plane) and the rotate hot key input corresponding to the rotate transform has been received (as indicated by the set of horizontal, vertical, and diagonal control guidelines <b>910</b> displayed to the left of the plane). <figref idref="DRAWINGS">FIG. 9B</figref> shows the GUI after the X-axis aspect of the rotate transform has been specified by a cursor movement, and therefore, only the guideline <b>915</b> (the horizontal arrowed line) corresponding to the X-axis aspect remains displayed in the GUI while the other guidelines have been removed. <figref idref="DRAWINGS">FIG. 9B</figref> also shows that the circle plane <b>905</b> has thus been rotated along the X-axis.</p>
<p id="h-0011" num="0000">III. Multi-Plane Depth Ordering</p>
<p id="p-0055" num="0054">In a compositing application (such as Shake) that composites and renders two or more planes in a 3D workspace, determinations must be made as to the Z-depth ordering of the planes (e.g., according to the distance Z from a virtual camera) to determine if and how the planes occlude/obscure each other. The Z-depth ordering of planes determine which planes are considered to be in front or behind others. As such, in compositing or rendering two or more planes, a first plane determined to be in front of a second plane may, in some circumstances, occlude all or a portion of the second plane. Thus, the Z-depth ordering of planes can affect the final composited or rendered output.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 10</figref> is a flowchart of a method <b>1000</b> for determining a Z-depth ordering between first and second planes in a 3D workspace in relation to a reference position in the workspace. In the embodiments described below, the reference position is a virtual camera placed in the workspace. In some embodiments, the reference position is something other than a virtual camera. <figref idref="DRAWINGS">FIG. 10</figref> is described in relation to <figref idref="DRAWINGS">FIGS. 11A-B</figref> that conceptually illustrate examples of the steps of the method <b>1000</b>. In some embodiments, the method is implemented by software or hardware configured to process multimedia items.</p>
<p id="p-0057" num="0056">The method <b>1000</b> begins by determining (at <b>1002</b>) if the first and second planes are coplanar (i.e., of the same plane) using conventional methods known in the art. If so, the method proceeds to step <b>1065</b> where the method sets the Z-depth ordering of the planes according to a user input specifying the depth ordering. If not, the method projects (at <b>1004</b>) vectors from the virtual camera through predetermined points of interest on the first and second planes. In some embodiments, these points of interest comprise corner and center points of the planes. The method then determines (at <b>1006</b>), for each point of interest on a particular plane, a corresponding point on the other plane, the corresponding point being a point on the other plane (or a point on a projection of the other plane) that is intersected by the projected vector traveling from the virtual camera through the point of interest on the particular plane.</p>
<p id="p-0058" num="0057">Steps <b>1004</b> and <b>1006</b> are illustrated in <figref idref="DRAWINGS">FIG. 11A</figref> which is a 2D simplification of the 3D Z-depth ordering method <b>1000</b>. As shown in <figref idref="DRAWINGS">FIG. 11A</figref>, vectors <b>1105</b> are projected from a virtual camera <b>1110</b> through each point of interest <b>1125</b> on a first plane <b>1115</b> and a second plane <b>1120</b>. In the 2D simplification of <figref idref="DRAWINGS">FIG. 11A</figref>, only three points of interest (corner and center points) are shown for each plane. As shown in <figref idref="DRAWINGS">FIG. 11A</figref>, a vector travels through a point of interest <b>1125</b> on a particular plane and intersects a corresponding point <b>1130</b> on the other plane, the corresponding point <b>1130</b> being a point on the other plane or a point on a projection <b>1135</b> of the other plane.</p>
<p id="p-0059" num="0058">The method then determines (at <b>1010</b>) the number of points of interest on the first plane that have a Z coordinate that is lower than the Z coordinate of its corresponding point on the second plane (this number being referred to as the first plane number) and determines the number of points of interest on the second plane that have a Z coordinate that is lower than the Z coordinate of its corresponding point on the first plane (this number being referred to as the second plane number). In the example shown in <figref idref="DRAWINGS">FIG. 11A</figref>, the first plane <b>1115</b> has three points of interest that have lower Z coordinates (i.e., are closer to the virtual camera) than the corresponding points on the second plane <b>1120</b>. The second plane <b>1120</b> is shown to have one point of interest that has a lower Z coordinates than its corresponding point on the first plane <b>1115</b>. As such, the Z-depth ordering of the planes is set to indicate that the first plane <b>1115</b> is in front of the second plane <b>1120</b>, as discussed below.</p>
<p id="p-0060" num="0059">The method then determines (at <b>1015</b>) whether the first plane number is greater than the second plane number. If so, the method sets (at <b>1020</b>) the Z-depth ordering of the planes to indicate that the first plane is in front of the second plane and the method <b>1000</b> ends. If not, the method determines (at <b>1025</b>) whether the first plane number is less than the second plane number. If so, the method sets (at <b>1030</b>) the Z-depth ordering of the planes to indicate that the first plane is behind the second plane and the method <b>1000</b> ends. If not, this indicates that the first and second plane numbers are equal and the method proceeds to step <b>1035</b>.</p>
<p id="p-0061" num="0060">At step <b>1035</b>, the method determines the distance between the center point of the first plane and its corresponding point on the second plane along the vector that travels through these points (this distance being referred to as the first plane distance D<b>1</b>) and determines the distance between the center point of the second plane and its corresponding point on the first plane along the vector that travels through these points (this distance being referred to as the second plane distance D<b>2</b>).</p>
<p id="p-0062" num="0061">Steps <b>1035</b> and <b>1040</b> are illustrated in <figref idref="DRAWINGS">FIG. 11B</figref> which is a 2D simplification of the 3D Z-depth ordering method <b>1000</b>. As shown in <figref idref="DRAWINGS">FIG. 11B</figref>, a first plane <b>1150</b> has a first plane number equal to 2 and a second plane <b>1155</b> has a second plane number also equal to 2. As such, the distance D<b>1</b> between the center point of the first plane and its corresponding point on the second plane along the vector that travels through these points is determined. Also, the distance D<b>2</b> between the center point of the second plane and its corresponding point on the first plane along the vector that travels through these points is determined.</p>
<p id="p-0063" num="0062">The method then determines (at <b>1045</b>) whether the first plane distance D<b>1</b> is greater than the second plane distance D<b>2</b>. If so, the method sets (at <b>1050</b>) the Z-depth ordering of the planes to indicate that the first plane is in front of the second plane and the method <b>1000</b> ends. If not, the method then determines (at <b>1055</b>) whether the first plane distance D<b>1</b> is less than the second plane distance D<b>2</b>. If so, the method sets (at <b>1060</b>) the Z-depth ordering of the planes to indicate that the first plane is behind the second plane and the method <b>1000</b> ends. If not, this indicates that the first and second plane distances are equal and the method proceeds to step <b>1065</b>.</p>
<p id="p-0064" num="0063">At step <b>1065</b>, the method sets the Z-depth ordering of the planes according to a user input specifying the depth ordering. For example, the user may specify the depth ordering of the planes through a plane ordering interface <b>340</b> (as shown in <figref idref="DRAWINGS">FIG. 3</figref>). The method <b>1000</b> then ends.</p>
<p id="p-0065" num="0064">Note that even though the first and second planes may intersect, the method sets one plane to be entirely in front or behind the other. As such, in later compositing or rendering of the planes, the plane set to be in front will be shown with no portions of the plane being occluded by the plane set to be in the back, even though portions of the “back” plane may have Z coordinates that are lower than portions of the “front” plane.</p>
<p id="p-0066" num="0065"><figref idref="DRAWINGS">FIGS. 12A-B</figref> are screenshots of a display of a multimedia application that illustrate steps of the method <b>1000</b>. <figref idref="DRAWINGS">FIG. 12A</figref> shows a screenshot of a first text plane <b>1205</b> (labeled “Text”) that intersects a second non-text plane <b>1210</b> in a 3D workspace. The intersection of the planes can be seen in the side view (upper left pane) and top view (lower right pane) of the workspace. <figref idref="DRAWINGS">FIG. 12B</figref> shows the workspace after it has been determined that the first text plane <b>1205</b> is behind the second non-text plane <b>1210</b>. Note that although the first and second planes intersect, the first text plane is specified (for compositing and rendering purposes) to be entirely behind the second non-text plane (as shown in the “Camera1” view of the lower left pane). As such, the second plane will be composited or rendered with no portions of the second plane being occluded by the first plane.</p>
<p id="h-0012" num="0000">IV. Identification of Data Characteristics Through Interconnect Appearance</p>
<p id="p-0067" num="0066">As discussed above in relation to <figref idref="DRAWINGS">FIG. 1</figref>, a process tree <b>100</b> comprises a set of nodes and a set of interconnects <b>110</b> between the nodes where leaf nodes <b>115</b> comprise multimedia items (e.g., text, image, video, audio, etc.) and non-leaf nodes <b>120</b> comprise functions/transforms performed on the multimedia items. An interconnect between two nodes represents the multimedia data (e.g., image data, video data, etc.) being passed between the two nodes. As such, the interconnects of the process tree indicate the flow of data between the nodes and indicates from which node(s) another node receives or sends data. In some embodiments, the graphical appearance of an interconnect between two nodes indicate particular characteristics of the multimedia data being passed (outputted and inputted) between the two nodes. As such, the appearance of interconnects between nodes indicates the characteristics of data being propagated down the process tree at a glance.</p>
<p id="p-0068" num="0067">In some embodiments, the particular color and/or line patterning (stipple patterning) of an interconnect indicates particular data characteristics. In some embodiments, data characteristics indicated by the appearance of an interconnect include color bit depth (e.g., 8, 16, or 32 (floating point) bit, etc.) and/or channel configuration (i.e., the number and type of each channel being propagated). Examples of channel configurations include A, BW, BWA, RGB, RGBA, Z, AZ, BWZ, BWAZ, RGBZ, RGBAZ, etc. In other embodiments, other data characteristics are indicated by the appearance of an interconnect.</p>
<p id="p-0069" num="0068">For example, an interconnect between a first and second node that is blue with a solid line pattern may indicate that image data being output by the first node and received by the second node is 8 bit, RGB image data (e.g., where the solid line pattern indicates that the data has 8 bit color depth and the blue color indicates that the data has an RGB channel configuration). As a further example, an interconnect between a third and fourth node that is red with a dotted line pattern may indicate that image data being output by the third node and received by the fourth node is 16 bit, RGBA image data (e.g., where the dotted line pattern indicates that the data has 16 bit color depth and the red color indicates that the data has an RGBA channel configuration). <figref idref="DRAWINGS">FIG. 13</figref> shows an example of a portion of a process tree having a plurality of nodes <b>1305</b> connected by a plurality of interconnects <b>1310</b> having different appearances in color and/or stippling patterns to indicate different characteristics of data passed between the nodes <b>1305</b>.</p>
<p id="p-0070" num="0069">In some embodiments, the appearance of an interconnect and the data characteristics that the appearance indicate are user configurable. <figref idref="DRAWINGS">FIG. 14</figref> shows a screenshot of an interface of a multimedia application having a first interface section <b>1405</b> and a second interface section <b>1410</b>. The first interface section <b>1405</b> allows a user to specify particular interconnection colors for indicating particular channel configurations. The second interface section <b>1410</b> allows a user to specify among five different interconnection stippling patterns for indicating particular bit depths. (Note that an interconnection is referred to as a “noodle” in <figref idref="DRAWINGS">FIG. 14</figref>.)</p>
<p id="p-0071" num="0070"><figref idref="DRAWINGS">FIG. 15</figref> is a flowchart of a method <b>1500</b> for displaying interconnects that connect nodes of a process tree displayed in a multimedia application. In some embodiments, the method is implemented by software or hardware configured to process multimedia items. The method <b>1500</b> displays (at <b>1505</b>) a set of nodes of the tree, each node representing a multimedia item (e.g., text, image, video, audio, etc.) or a function/transform performed on one or more multimedia items. The method <b>1500</b> then displays (at <b>1510</b>) a set of interconnects connecting the set of nodes. Each displayed interconnect connects a pair of nodes and represents data being passed between the pair of nodes. One or more of the interconnects are displayed to have a particular graphical appearance that indicates one or more characteristics of the data passed between the pair of nodes that an interconnect connects. In some embodiments, the color and/or line patterning of an interconnect is used to indicate the one or more data characteristics. In some embodiments, the data characteristics of bit depth and/or channel configuration are indicated by the appearance of an interconnect. In some embodiments, the appearance of an interconnect and the data characteristics that the appearance indicate are specified by a user. The method <b>1500</b> then ends.</p>
<p id="h-0013" num="0000">V. Transformation of Screen Space Cursor Movements</p>
<p id="p-0072" num="0071">A user typically interacts with a multimedia application through a GUI display using a cursor controlling device. The cursor controlling device is used to move a cursor shown in the GUI display (screen space) to select and manipulate multimedia items in the workspace. The workspace has a global coordinate system (having a set of global coordinate axes) while each item in the workspace has a local coordinate system (having a set of local coordinate axes). The GUI display has a separate screen space coordinate system (having a set of screen space coordinate axes) that may or may not be aligned with the global or local coordinate systems.</p>
<p id="p-0073" num="0072">In presenting multimedia items in the screen space, the dimensions of multimedia items in the workspace are transformed to present a particular view in the screen space. In transforming multimedia items in the screen space to a view in the screen space, the dimensions of the multimedia item may become “distorted” in that they do not represent the actual size of the multimedia item in the workspace.</p>
<p id="p-0074" num="0073">As discussed above, distortion of the dimensions of a multimedia item can occur when transforming an item in the workspace to a perspective view on the screen space (as the perspective view provides a 3D simulation effect to approximate 3D visual perception). To display multimedia items/planes in perspective view, the items are transformed by a perspective view matrix that “distorts” dimensions of the items to achieve the 3D simulation effect provided in perspective view. Perspective view transforms for doing such are typically made according to an established geometric protocol and are well known in the art (and thus are not discussed in detail here).</p>
<p id="p-0075" num="0074">Distortions of the dimensions of a multimedia item can also occur when transforming the item in the workspace to a non-perspective view on the screen space (e.g., front, side, top views). For example, in presenting a side view of an item that is rotated away from the display plane of a screen space (e.g., the plane of a monitor screen that displays the screen space), the length of the item (extending into the monitor) will appear shorter than it actually is in the workspace.</p>
<p id="p-0076" num="0075">As such, in some situations, there is not a one-to-one relationship between the dimensions of an item in the workspace and the dimensions of the item as presented in the screen space. For example, a plane having a length of 50 units in the workspace may be presented in a view of the screen space as 35 units (e.g., if the plane is transformed into perspective view or rotated away from the screen space). As used herein, an item in the screen space not having a one-to-one relationship with its dimensions in the workspace are referred to as distorted items.</p>
<p id="p-0077" num="0076">In transforming an item from the workspace to the screen space, a particular transform matrix is applied (e.g., front, side, perspective, etc.), the transform creating a distorted or non-distorted item in the screen space. To transform the item in the reverse direction (from the screen space to the workspace) an inverse transform matrix is typically applied to the item. Transforms in the reverse direction are needed, for example, when a cursor movement across the screen space is received and the cursor movement in the screen space needs to be transformed to a cursor movement in the workspace. When the screen space is presenting a non-perspective view, application of the appropriate inverse transform matrix is typically used to transform the cursor movement into the workspace.</p>
<p id="p-0078" num="0077">When the screen space is presenting a perspective view in the screen space, however, transforming the cursor movement into the workspace is problematic. This is because, after being transformed by a perspective view matrix, an item is typically not able to be transformed back by applying an inverse-perspective view matrix transform to the item. As such, an inverse-perspective view matrix can not simply be applied to the cursor movement in the screen space to transform it into the workspace.</p>
<p id="p-0079" num="0078"><figref idref="DRAWINGS">FIG. 16</figref> is a flowchart of a method <b>1600</b> for transforming a cursor movement in a screen space coordinate system to a cursor movement in a non-screen space coordinate system (e.g., global or local coordinate systems) in a workspace of a multimedia application. In some embodiments, the screen space is presenting a perspective view of the workspace (whereby a PV transform matrix is applied to items in the workspace to produce the perspective view). In other embodiments, the screen space is presenting a non-perspective view of the workspace (whereby a non-PV transform matrix is applied to items in the workspace to produce the non-perspective view). In some embodiments, the method is implemented by software or hardware configured to process multimedia items.</p>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 16</figref> is described in relation to <figref idref="DRAWINGS">FIGS. 17A-D</figref> that conceptually illustrate examples of the steps of the method <b>1600</b>. In the description below and related Figures, magnitudes in the screen space are represented by symbols (e.g., m) whereas magnitudes in the workspace are represented by symbols having apostrophes (e.g., m′). In some embodiments, the various vectors determined below are conceptual vectors used for transform purposes and are not actually displayed.</p>
<p id="p-0081" num="0080">The method <b>1600</b> begins when it receives (at <b>1602</b>) a selection for an item in the screen space and a specification for a particular transform to be applied to the item. In some embodiments, a global or local pan/move transform is specified. A global pan/move transform requires transform of the cursor movement to the global coordinate system of the workspace, whereas a local pan/move transform requires transform of the cursor movement to the local coordinate system of the selected item. As shown below, specification of a global pan/move transform as opposed to a local pan/move transform can produce different cursor transform results in some circumstances, as discussed below. To apply a transform (e.g., move/pan, rotate, etc.) to an item, a cursor movement can be used to specify a particular aspect of the transform (as specified by the direction of the cursor movement) and the extent/degree (as specified by the magnitude of the cursor movement) of the particular aspect to be applied to the selected item.</p>
<p id="p-0082" num="0081">The method <b>1600</b> then receives (at <b>1605</b>) a cursor movement performed in the screen space, the cursor movement having a particular direction (in relation to the screen space coordinate axes) and magnitude (typically measured in pixels). In some embodiments, the direction of the cursor movement is along a particular axis of the screen space. For example, a received cursor movement can be in the horizontal direction along the X-axis of the screen space coordinate system. In other embodiments, the direction of the cursor/item movement is not along a particular axis of the screen space.</p>
<p id="p-0083" num="0082">The method then determines (at <b>1610</b>) a cursor vector in the screen space having the direction (in relation to its screen space coordinate axes) and magnitude (m) of the cursor movement. This step is illustrated in <figref idref="DRAWINGS">FIG. 17A</figref> that shows a screen space <b>1705</b> (with screen space coordinate axes <b>1707</b>) and a workspace <b>1710</b> (with workspace coordinate axes <b>1712</b>) having a plurality of items (not shown). After a cursor movement has been received in the screen space <b>1705</b>, a cursor vector <b>1715</b> in the screen space <b>1705</b> is determined having a horizontal direction along the X-axis of the screen space coordinate axes and a magnitude of m.</p>
<p id="p-0084" num="0083">The method then determines (at <b>1615</b>) a model vector in the workspace having the same direction of the cursor vector in the screen space (in relation to a non-screen space coordinate system in the workspace) but with a predetermined and known magnitude (pm′). In some embodiments, the predetermined magnitude is a predetermined number of pixels (e.g., 100, 500, etc.).</p>
<p id="p-0085" num="0084">If the cursor movement is being transformed to a global coordinate system of the workspace (e.g., where a global pan/move transform is specified for the selected item) and the global coordinate axes are aligned with the screen space coordinate axes <b>1707</b>, the direction of the model vector is also in the same direction relative to the cursor vector in the screen space. This situation is illustrated in <figref idref="DRAWINGS">FIG. 17B</figref> which shows a model vector <b>1720</b> in the workspace <b>1710</b> having the same direction as the cursor vector <b>1715</b> relative to the global coordinate axes (i.e., both vectors move along the X-axis of their respective coordinate axes) and to the cursor vector <b>1715</b> in the screen space <b>1705</b> (since the respective coordinate axes are aligned). <figref idref="DRAWINGS">FIG. 17B</figref> also shows that the model vector <b>1720</b> has a predetermined magnitude (pm′).</p>
<p id="p-0086" num="0085">However, if the cursor movement is being transformed to a local coordinate system of the selected item (e.g., where a local pan/move transform is specified for the selected item), the direction of the model vector may or may not be in the same direction relative to the cursor vector in the screen space since the local coordinate axes of the item may not be aligned with the screen space coordinate axes. For example, if the local coordinate axes are rotated by r degrees relative to the screen space coordinate axes, the direction of the model vector also varies by r degrees relative to the cursor vector.</p>
<p id="p-0087" num="0086">The method then performs a transform (at <b>1620</b>) on the model vector in the workspace to produce a transformed model vector in the screen space having a transformed predetermined magnitude (pm). The method <b>1600</b> does so using the transform matrix that produces the view presented in the screen space. In some embodiments, the transform is a perspective view transform that provides a 3D simulation effect. In these embodiments, the transformed magnitude (pm) is typically not equal to the original magnitude (pm′) since the perspective view transform may distort dimensions of items that are transformed. In other embodiments, the transform is a non-perspective view transform that does not provide a 3D simulation effect.</p>
<p id="p-0088" num="0087">The method then aligns (at <b>1625</b>) the transformed model vector with the cursor vector in the screen space (e.g., by aligning the starting points of the vectors and overlapping them). Steps <b>1620</b> and <b>1625</b> are illustrated in <figref idref="DRAWINGS">FIG. 17C</figref> which shows a transformed model vector <b>1725</b> in the screen space <b>1705</b> having a transformed predetermined magnitude (pm). The transformed model vector <b>1725</b> is aligned with the cursor vector <b>1715</b> in the screen space <b>1705</b>.</p>
<p id="p-0089" num="0088">The method <b>1600</b> then determines (at <b>1630</b>) the proportion of the magnitude (m) of the cursor vector to the magnitude (pm) of the transformed model vector in the screen space. The method then determines (at <b>1635</b>) a transformed cursor vector in the workspace by multiplying the model vector in the workspace with the determined proportion, the transformed cursor vector having the same direction as the model vector but with a magnitude (m′) equal to the predetermined magnitude (pm′) of the model vector times the determined proportion. The transformed cursor vector comprises the transform of the cursor movement in the screen space coordinate system to a cursor movement in a non-screen space coordinate system (global or local) in the workspace.</p>
<p id="p-0090" num="0089">These steps are illustrated in <figref idref="DRAWINGS">FIG. 17D</figref> which shows that a proportion between the magnitude (m) of the cursor vector <b>1715</b> and the magnitude (pm) of the transformed model vector <b>1725</b> in the screen space <b>1705</b> is, for example, 4/7. <figref idref="DRAWINGS">FIG. 17D</figref> also shows a transformed cursor vector <b>1730</b> in the workspace <b>1710</b> that is determined by multiplying the model vector <b>1720</b> with the determined proportion (e.g., 4/7).</p>
<p id="p-0091" num="0090">The method then applies (at <b>1640</b>) the specified transform to the selected item in the workspace according to the direction and magnitude of the transformed cursor vector in the workspace. For example, if a global pan/move transform is specified, the item is moved in the direction and magnitude of the transformed cursor vector relative to the global coordinate system of the workspace. If a local pan/move transform is specified, the item is moved in the direction and magnitude of the transformed cursor vector relative to its local coordinate system. Note that after the specified transform is applied to the selected item in the workspace, the results of the specified transform in the workspace are then transformed to produce a particular view of the results in the screen space. The method <b>1600</b> then ends.</p>
<p id="p-0092" num="0091"><figref idref="DRAWINGS">FIGS. 18A-B</figref> are screenshots of a screen space showing a workspace of a multimedia application and illustrate steps of the method <b>1600</b>. These figures show a multi-pane interface having four panes. Two of the panes (upper left and lower right panes) show non-perspective views (side and top views, respectively) and two panes (upper right and lower left) show perspective views (perspective and “Camera1” views, respectively). <figref idref="DRAWINGS">FIGS. 18A-B</figref> are screenshots that illustrate a local pan/move transform example of the method <b>1600</b>. <figref idref="DRAWINGS">FIG. 18A</figref> shows a side view <b>1805</b>, a perspective view <b>1810</b>, a top view <b>1815</b>, and a “Camera1” view <b>1820</b> of a plane <b>1825</b>. The plane <b>1825</b> has been selected for an X-axis local pan transform in the screen space presenting the perspective view <b>1810</b> (as indicated by the selection of the X-axis triangle <b>1830</b> in the perspective view <b>1810</b>).</p>
<p id="p-0093" num="0092"><figref idref="DRAWINGS">FIG. 18B</figref> shows that a cursor movement across the screen space presenting the perspective view <b>1810</b> has been received, the cursor movement going to the right along the X-axis of the screen space and local coordinate axes (which are substantially aligned). <figref idref="DRAWINGS">FIG. 18B</figref> shows that the cursor movement in the screen space coordinate system has been transformed to the local coordinate system of the plane <b>1825</b> and a local pan transform has been applied to the plane <b>1825</b> according to the transformed cursor movement. Note that after the local pan transform is applied to the plane <b>1825</b> in the workspace, the results of the transform in the workspace are then transformed to produce a perspective view of the results in the screen space.</p>
<p id="p-0094" num="0093"><figref idref="DRAWINGS">FIG. 19</figref> presents a computer system <b>1900</b> with which some embodiments are implemented. The computer system <b>1900</b> includes a bus <b>1905</b>, a processor <b>1910</b>, a system memory <b>1915</b>, a read-only memory <b>1920</b>, a permanent storage device <b>1925</b>, input devices <b>1930</b>, and output devices <b>1935</b>.</p>
<p id="p-0095" num="0094">The bus <b>1905</b> collectively represents all system, peripheral, and chipset buses that communicatively connect the numerous internal devices of the computer system <b>1900</b>. For instance, the bus <b>1905</b> communicatively connects the processor <b>1910</b> with the read-only memory <b>1920</b>, the system memory <b>1915</b>, and the permanent storage device <b>1925</b>.</p>
<p id="p-0096" num="0095">The read-only-memory (ROM) <b>1920</b> stores static data and instructions that are needed by the processor <b>1910</b> and other modules of the computer system. The permanent storage device <b>1925</b>, on the other hand, is read-and-write memory device. This device is a non-volatile memory unit that stores instruction and data even when the computer system <b>1900</b> is off. Some embodiments use a mass-storage device (such as a magnetic or optical disk and its corresponding disk drive) as the permanent storage device <b>1925</b>. Other embodiments use a removable storage device (such as a floppy disk or zip® disk, and its corresponding disk drive) as the permanent storage device.</p>
<p id="p-0097" num="0096">Like the permanent storage device <b>1925</b>, the system memory <b>1915</b> is a read-and-write memory device. However, unlike storage device <b>1925</b>, the system memory is a volatile read-and-write memory, such as a random access memory (RAM). The system memory stores some of the instructions and data that the processor needs at runtime.</p>
<p id="p-0098" num="0097">Instructions and/or data needed to perform methods of some embodiments are stored in the system memory <b>1915</b>, the permanent storage device <b>1925</b>, the read-only memory <b>1920</b>, or any combination of the three. For example, the various memory units may contain instructions for processing multimedia items in accordance with some embodiments. From these various memory units, the processor <b>1910</b> retrieves instructions to execute and data to process in order to execute the processes of some embodiments.</p>
<p id="p-0099" num="0098">The bus <b>1905</b> also connects to the input and output devices <b>1930</b> and <b>1935</b>. The input devices <b>1930</b> enable a user to communicate information and select commands to the computer system <b>1900</b>. For instance, the input devices <b>1930</b> enable the user to input cursor movements and information to the computer system <b>1900</b>. The input devices <b>1930</b> include alphanumeric keyboards and cursor-controllers. The output devices <b>1935</b> display images generated by the computer system <b>1900</b>. For instance, these devices display a user interface (e.g., graphical user interface) through which the user can interface with the computer system <b>1900</b>. The output devices include printers and display devices, such as cathode ray tubes (CRT) or liquid crystal displays (LCD).</p>
<p id="p-0100" num="0099">Finally, as shown in <figref idref="DRAWINGS">FIG. 19</figref>, the bus <b>1905</b> also couples the computer system <b>1900</b> to a network <b>1965</b> through, for example, a network adapter (not shown). In this manner, the computer system <b>1900</b> can be a part of a network of computers (such as a local area network (“LAN”), a wide area network (“WAN”), or an Intranet) or a network of networks (such as the Internet). Any or all of the components of the computer system <b>1900</b> may be used in conjunction with some embodiments. However, one of ordinary skill in the art would appreciate that any other system configuration may also be used in conjunction with other embodiments.</p>
<p id="p-0101" num="0100">Several embodiments are described below by reference to compositing applications. The descriptions relating to compositing applications, however, are for illustrative purposes only and one of ordinary skill in the art will realize and that the processes of the below embodiments can be applied to any multimedia application.</p>
<p id="p-0102" num="0101">While the invention has been described with reference to numerous specific details, one of ordinary skill in the art will recognize that the invention can be embodied in other specific forms without departing from the spirit of the invention. Thus, one of ordinary skill in the art would understand that the invention is not to be limited by the foregoing illustrative details, but rather is to be defined by the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for determining a depth ordering between first and second planes in a three dimensional workspace of a compositing application, the depth ordering being in relation to a reference position in the workspace, the method comprising:
<claim-text>projecting vectors from the reference position through predetermined points of interest on the first and second planes;</claim-text>
<claim-text>determining, for each point of interest on a particular plane, a corresponding point on the other plane that is intersected by the vector intersecting the point of interest on the particular plane;</claim-text>
<claim-text>determining a first number comprising the number of points of interest on the first plane having a depth coordinate lower than its corresponding point on the second plane and a second number comprising the number of points of interest on the second plane having a depth coordinate lower than its corresponding point on the first plane; and</claim-text>
<claim-text>setting the depth ordering to reflect that the first plane is closer to the reference position if the first number is greater than the second number and setting the depth ordering to reflect that the first plane is farther from the reference position if the first number is less than the second number.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein the points of interest comprise corner and center points of the planes.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein a corresponding point on the other plane further comprises a point on the projection of the other plane that is intersected by the vector intersecting the point of interest on the particular plane.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>if the first and second numbers are equal, determining a first distance comprising the distance between the center point of the first plane and its corresponding point on the second plane and a second distance comprising the distance between the center point of the second plane and its corresponding point on the first plane; and</claim-text>
<claim-text>setting the depth ordering to reflect that the first plane is closer to the reference position if the first distance is greater than the second distance and setting the depth ordering to reflect that the first plane is farther from the reference position if the first distance is less than the second distance.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref> further comprising:
<claim-text>if the first and second distances are equal, setting the depth ordering of the planes according to a user input.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref> further comprising:
<claim-text>before projecting vectors from the reference position, determining whether the first and second planes are coplanar; and</claim-text>
<claim-text>if the first and second planes are determined to be coplanar, setting the depth ordering of the planes according to a user input.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A computer program product having a computer readable medium having computer program instructions recorded thereon that when executed, determine a depth ordering between first and second planes in a three dimensional workspace of a compositing application, the depth ordering being in relation to a reference position in the workspace, the computer program product comprising sets of instructions for:
<claim-text>projecting vectors from the reference position through predetermined points of interest on the first and second planes;</claim-text>
<claim-text>determining, for each point of interest on a particular plane, a corresponding point on the other plane that is intersected by the vector intersecting the point of interest on the particular plane;</claim-text>
<claim-text>determining a first number comprising the number of points of interest on the first plane having a depth coordinate lower than its corresponding point on the second plane and a second number comprising the number of points of interest on the second plane having a depth coordinate lower than its corresponding point on the first plane; and</claim-text>
<claim-text>setting the depth ordering to reflect that the first plane is closer to the reference position if the first number is greater than the second number and setting the depth ordering to reflect that the first plane is farther from the reference position if the first number is less than the second number.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The computer program product of <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein the points of interest comprise corner and center points of the planes.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The computer program product of <claim-ref idref="CLM-00007">claim 7</claim-ref> further comprising sets of instructions for:
<claim-text>if the first and second numbers are equal, determining a first distance comprising the distance between the center point of the first plane and its corresponding point on the second plane and a second distance comprising the distance between the center point of the second plane and its corresponding point on the first plane; and</claim-text>
<claim-text>setting the depth ordering to reflect that the first plane is closer to the reference position if the first distance is greater than the second distance and setting the depth ordering to reflect that the first plane is farther from the reference position if the first distance is less than the second distance.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
