<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299473-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299473</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10411446</doc-number>
<date>20030410</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>719</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>3</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>12</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>719310</main-classification>
<further-classification>711170</further-classification>
</classification-national>
<invention-title id="d0e53">Method and apparatus for reducing library size on a compressed file system</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4426688</doc-number>
<kind>A</kind>
<name>Moxley</name>
<date>19840100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365200</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6102966</doc-number>
<kind>A</kind>
<name>Tyma</name>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717110</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6216213</doc-number>
<kind>B1</kind>
<name>Breternitz et al.</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711170</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6907589</doc-number>
<kind>B2</kind>
<name>Frank et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>716  5</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6907598</doc-number>
<kind>B2</kind>
<name>Fraser</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>717127</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>3</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>719310</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>711170</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>2</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040205763</doc-number>
<kind>A1</kind>
<date>20041014</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Langford</last-name>
<first-name>John Steven</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Yee</last-name>
<first-name>Duke W.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Gerhardt</last-name>
<first-name>Diana R.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Yociss</last-name>
<first-name>Lisa L.B.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>International Business Machines Corporation</orgname>
<role>02</role>
<address>
<city>Armonk</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Thomson</last-name>
<first-name>William</first-name>
<department>2194</department>
</primary-examiner>
<assistant-examiner>
<last-name>Truong</last-name>
<first-name>LeChi</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method, apparatus, and computer instructions for managing a library in a data processing system that supports file compression. Functions in the library that are unrequired on the data processing system are identified to form a set of identified functions. Existing data for the set of identified functions in the library is overwritten with new data that is more compressible than the code, wherein compression of the library by the data processing system results in a library with a smaller size.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="88.31mm" wi="181.19mm" file="US07299473-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="239.10mm" wi="187.03mm" file="US07299473-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="249.43mm" wi="191.18mm" file="US07299473-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Technical Field</p>
<p id="p-0003" num="0002">The present invention relates to an improved data processing system, and in particular to a method, apparatus, and computer instructions for managing libraries. Still more particularly, the present invention provides a method, apparatus, and computer instructions for managing libraries on a compressed file system.</p>
<p id="p-0004" num="0003">2. Description of Related Art</p>
<p id="p-0005" num="0004">Data processing systems come in many different forms. Some data processing systems take the form of web servers and mainframes. On the other end of the spectrum are embedded computer system environments. Embedded systems typically do not take the form of a desktop computer. An embedded system is a combination of hardware and software that performs a specific function. This embedded system may be part of a computer or part of some other system that is not a computer. For example, an embedded system may be present in various devices, such as routers, biomedical appliances, cellular phones, personal digital assistants (PDAs), cameras, and camcorders.</p>
<p id="p-0006" num="0005">In an embedded computer system environment, storage space is very limited. As a result, it is important to reduce the size of programs and data stored on those systems. File systems on embedded systems often use compression to save space. A file system is a mechanism for cataloging files in a computer.</p>
<p id="p-0007" num="0006">One of the major consumers of space is the set of standard libraries, which provide a vast array of generic functions for applications. It is not unusual for these types of libraries to contain thousands of functions. Many of these functions, however, are not applicable, or are simply not used in a specific embedded system. As a result, a large amount of wasted space occurs in using these libraries.</p>
<p id="p-0008" num="0007">Some techniques are currently available to minimize the waste of space with respect to libraries. These existing techniques include creating or rebuilding the library with only the required functions being included in the library. Another technique involves physically removing the unused functions in a library, compacting the library, and then readjusting a symbol table for the library.</p>
<p id="p-0009" num="0008">Although these two techniques reduce the space required for a library, they both have drawbacks. Rebuilding a library requires that the source code for the library functions be available. In many cases, source codes for libraries are not provided or are hard to find. Having the source code available also requires that the library source code be kept under source code control to maintain quality control. Rebuilding also requires additional compilation time. The second technique requires readjustment of the symbol table or tables to accommodate the new locations of the remaining functions. Although such a task can be accomplished, this process is cumbersome, error prone and makes debugging more complex.</p>
<p id="p-0010" num="0009">Therefore, it would be advantageous to have an improved method, apparatus, and computer instructions for managing a library in a manner to reduce the space required to store a library in a data processing system.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0011" num="0010">The present invention provides a method, apparatus, and computer instructions for managing a library in a data processing system that supports file compression. Functions in the library that are unrequired on the data processing system, are identified to form a set of identified functions. Existing data for the set of identified functions in the library is overwritten with new data that is more compressible than the code, wherein compression of the library by the data processing system results in a library with a smaller size.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0012" num="0011">The novel features believed characteristic of the invention are set forth in the appended claims. The invention itself, however, as well as a preferred mode of use, further objectives and advantages thereof, will best be understood by reference to the following detailed description of an illustrative embodiment when read in conjunction with the accompanying drawings, wherein:</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram of an embedded computing system in the form of a personal digital assistant (PDA) in accordance with a preferred embodiment of the present invention;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram of a PDA in accordance with a preferred embodiment of the present invention;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 3</figref> is a diagram illustrating an example library before and after compression;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 4</figref> is a diagram illustrating the use of an existing technique to reduce library size;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram illustrating a technique for reducing library sizes in accordance with a preferred embodiment of the present invention; and</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref> is a flowchart of a process for reducing the size of a library for a compressed file system in accordance with a preferred embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0019" num="0018">With reference now to the figures, and in particular with reference to <figref idref="DRAWINGS">FIG. 1</figref>, a diagram of an embedded computing system in the form of a personal digital assistant (PDA) is depicted in accordance with a preferred embodiment of the present invention. PDA <b>100</b> includes a display <b>102</b> for presenting textual and graphical information. Display <b>102</b> may be a known display device, such as a liquid crystal display (LCD) device. The display may be used to present a map or directions, calendar information, a telephone directory, or an electronic mail message. In these examples, screen <b>102</b> may receive user input using an input device such as, for example, stylus <b>110</b>.</p>
<p id="p-0020" num="0019">PDA <b>100</b> may also include keypad <b>104</b>, speaker <b>106</b>, and antenna <b>108</b>. Keypad <b>104</b> may be used to receive user input in addition to using screen <b>102</b>. Speaker <b>106</b> provides a mechanism for audio output, such as presentation of an audio file. Antenna <b>108</b> provides a mechanism used in establishing a wireless communications link between PDA <b>100</b> and a network.</p>
<p id="p-0021" num="0020">PDA <b>100</b> also preferably includes a graphical user interface that may be implemented by means of systems software residing in computer readable media in operation within PDA <b>100</b>.</p>
<p id="p-0022" num="0021">Turning now to <figref idref="DRAWINGS">FIG. 2</figref>, a block diagram of a PDA is shown in accordance with a preferred embodiment of the present invention. PDA <b>200</b> is an example of a PDA, such as PDA <b>100</b> in <figref idref="DRAWINGS">FIG. 1</figref>, in which code or instructions implementing the processes of the present invention may be located. PDA <b>200</b> includes a bus <b>202</b> to which processor <b>204</b> and main memory <b>206</b> are connected. Display adapter <b>208</b>, keypad adapter <b>210</b>, storage <b>212</b>, and audio adapter <b>214</b> also are connected to bus <b>202</b>. Cradle link <b>216</b> provides a mechanism to connect PDA <b>200</b> to a cradle used in synchronizing data in PDA <b>200</b> with another data processing system. Further, display adapter <b>208</b> also includes a mechanism to receive user input from a stylus when a touch screen display is employed.</p>
<p id="p-0023" num="0022">An operating system runs on processor <b>204</b> and is used to coordinate and provide control of various components within PDA <b>200</b> in <figref idref="DRAWINGS">FIG. 2</figref>. The operating system may be, for example, a commercially available operating system such as Windows CE, which is available from Microsoft Corporation. Instructions for the operating system and applications or programs are located on storage devices, such as storage <b>212</b>, and may be loaded into main memory <b>206</b> for execution by processor <b>204</b>.</p>
<p id="p-0024" num="0023">Those of ordinary skill in the art will appreciate that the hardware in <figref idref="DRAWINGS">FIG. 2</figref> may vary depending on the implementation. Other internal hardware or peripheral devices, such as flash ROM (or equivalent nonvolatile memory) or optical disk drives and the like, may be used in addition to or in place of the hardware depicted in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0025" num="0024">Further, the mechanism of the present invention may be implemented in other types of embedded computing systems, other than PDA <b>200</b>. The illustration of a PDA is made for the purpose of providing an example hardware platform in which the mechanism of the present invention may be implemented. The present invention may be implemented on other embedded computer systems, such as, for example, a cellular phone, a camera, a printer, a router, or a set-top box. Additionally, the mechanism of the present invention may be applied to other data processing systems in which a compressed file system is present.</p>
<p id="p-0026" num="0025">With reference to <figref idref="DRAWINGS">FIG. 3</figref>, a diagram illustrating an example library before and after compression is shown. In this example, library <b>300</b> contains functions A <b>302</b>, B <b>304</b>, C <b>306</b>, and D <b>308</b>. Additionally, library <b>300</b> also includes symbol table <b>310</b>. After compression by the file system, compressed library <b>312</b> is formed, which has a smaller size than library <b>300</b>, as illustrated in <figref idref="DRAWINGS">FIG. 3</figref>. As can be seen, all of the same functions found in library <b>300</b> are still present within compressed library <b>312</b>. The size of library <b>300</b> has been reduced through compression performed by the file system.</p>
<p id="p-0027" num="0026">Turning now to <figref idref="DRAWINGS">FIG. 4</figref>, a diagram illustrating the use of an existing technique to reduce library size is illustrated. Although library <b>300</b> was reduced in size, as shown in <figref idref="DRAWINGS">FIG. 3</figref> through compression, further reductions can be had by removing functions or rebuilding the library. Through rebuilding or removing functions, library <b>400</b> is created, in which library <b>400</b> contains function A <b>302</b> and function C <b>306</b>, along with symbol table <b>310</b>. When library <b>400</b> is compressed, compressed library <b>402</b> is formed, which has a smaller size than library <b>400</b>. As can be seen, gains in the amount of size reduced may be accomplished through rebuilding the library or removing functions. These techniques have the complexity and cumbersomeness as described above.</p>
<p id="p-0028" num="0027">The present invention overcomes the complexity and cumbersomeness of the presently available techniques because rebuilding of the library or removal of the functions do not occur. The present invention takes advantage of compression already used by such a data processing system by replacing unused functions with data that compresses extremely well. For example, a run or a string containing a repetition of a single byte value may be used to replace the data for the unrequired function. For example, a repeating series of binary zeros may be used. A repeating run of a letter “a” may be used depending on the particular implementation. This mechanism does not require readjustment of the symbol table because functions are not removed.</p>
<p id="p-0029" num="0028">Turning now to <figref idref="DRAWINGS">FIG. 5</figref>, a diagram illustrating a technique for reducing library sizes is depicted in accordance with a preferred embodiment of the present invention. In this example, library <b>300</b> is modified to form modified library <b>500</b>. As with library <b>400</b>, function A <b>302</b> and function C <b>306</b> are required functions, while function B <b>304</b> and function D <b>308</b> are unrequired functions in the library. In this example, the data for function B <b>304</b> and function D <b>308</b> are replaced with easily compressible data <b>502</b> and <b>504</b>.</p>
<p id="p-0030" num="0029">In these examples, easily compressible data <b>502</b> and <b>504</b> may take the form of a string or run of a repeating single byte value. For example, binary zeros may be used for easily compressible data <b>502</b> and <b>504</b>. Of course, any consistent value may be employed in these examples. After compression by the file system, compressed library <b>506</b> is formed having a size that is smaller than compressed library <b>312</b>. The normal compression ratio is a little over 3 to 1 with a library that is not modified. When a library is modified according to the present invention, such as with a series of binary zeros the compression ratio reaches a ratio of about 1000 to 1 for those areas in which functions are replaced with the binary zeros. The amount of compression also will depend on the type of compression algorithm used.</p>
<p id="p-0031" num="0030">With reference now to <figref idref="DRAWINGS">FIG. 6</figref>, a flowchart of a process for reducing the size of a library for a compressed file system is depicted in accordance with a preferred embodiment of the present invention. The process illustrated in <figref idref="DRAWINGS">FIG. 6</figref> may be implemented in a data processing system, such as PDA <b>200</b> in <figref idref="DRAWINGS">FIG. 2</figref> or on a data processing system, such as a desk top computer or a work station. Further, this process may be implemented on a data processing system in which file compression does not occur with the modified library being saved to a system on which a compressed file system is present.</p>
<p id="p-0032" num="0031">The process begins by identifying names of functions not required (step <b>600</b>). Thereafter, addresses of identified functions are located (step <b>602</b>). Addresses may be found inside the symbol table. After the addresses have been located, the data for the identified functions are overwritten with new and more compressible data (step <b>604</b>). Thereafter, the library is saved in the compressed file system (step <b>606</b>), with the process terminating thereafter.</p>
<p id="p-0033" num="0032">Thus, the present invention provides a method, apparatus, and computer instructions for library size reduction on a compressed file system. The mechanism of the present invention allows for increased compression of libraries without requiring the cumbersome and complex processes involved with creating or rebuilding a library with only the required functions or with physically removing unused functions within a library. The mechanism of the present invention provides this advantage by replacing the data for unrequired functions with easily compressible data. In this manner, readjustment of the symbol table is not required and by providing data that is easily compressible, the library is reduced in size by taking advantage of the compression system already present for the file system.</p>
<p id="p-0034" num="0033">It is important to note that while the present invention has been described in the context of a fully functioning data processing system, those of ordinary skill in the art will appreciate that the processes of the present invention are capable of being distributed in the form of a computer readable medium of instructions and a variety of forms and that the present invention applies equally regardless of the particular type of signal bearing media actually used to carry out the distribution. Examples of computer readable media include recordable-type media, such as a floppy disk, a hard disk drive, a RAM, CD-ROMs, and DVD-ROMs. The computer readable media may take the form of coded formats that are decoded for actual use in a particular data processing system.</p>
<p id="p-0035" num="0034">The description of the present invention has been presented for purposes of illustration and description, and is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art. The embodiment was chosen and described in order to best explain the principles of the invention, the practical application, and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method in a data processing system for managing a library, the method comprising:
<claim-text>the data processing system being an embedded computer system in the form of one of a personal digital assistant, a cellular phone, a camera, a printer, a router, and a set-top box;</claim-text>
<claim-text>the data processing system including a compressed file system that uses a compression system that exists within the data processing system;</claim-text>
<claim-text>identifying, by the data processing system, names of two or more of a plurality of functions in the library that are unused and not required on the data processing system;</claim-text>
<claim-text>the library including a symbol table;</claim-text>
<claim-text>locating, in the symbol table, an address of each one of the two or more of the plurality of functions</claim-text>
<claim-text>after the address of each one of the two or more of the plurality of functions has been located: transforming, by the data processing system, said library by overwriting existing data in said two or more of said plurality of functions with new data that is more compressible than said existing data to form a transformed library, wherein the transformed library is not compressed;</claim-text>
<claim-text>the existing data and the new data being the same length;</claim-text>
<claim-text>using, as the new data, a string that is a repetition of only the letter “a”;</claim-text>
<claim-text>compressing the transformed library using the existing compression system to form a compressed library;</claim-text>
<claim-text>the compressed library including all of the plurality of functions and the symbol table;</claim-text>
<claim-text>the symbol table not readjusted after the library is transformed to form the transformed library, and not readjusted after the transformed library is compressed to form the compressed library, wherein a new symbol table is not formed; and</claim-text>
<claim-text>storing the compressed library in the data processing system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A data processing system for managing a library, the data processing system comprising:
<claim-text>the data processing system being an embedded computer system in the form of one of a personal digital assistant, a cellular phone, a camera, a printer, a router, and a set-top box;</claim-text>
<claim-text>the data processing system including a compressed file system that uses a compression system that exists within the data processing system;</claim-text>
<claim-text>the data processing system identifying names of two or more of a plurality of functions in the library that are unused and not required on the data processing system;</claim-text>
<claim-text>the library including a symbol table;</claim-text>
<claim-text>the processor executing code for locating, in the symbol table, an address of each one of the two or more of the plurality of functions;</claim-text>
<claim-text>after the address of each one of the two or more of the plurality of functions has been located: the data processing system transforming the library by overwriting existing data in the two or more of the plurality of functions with new data that is more compressible than the existing data to form a transformed library, wherein the transformed library is not compressed;</claim-text>
<claim-text>the existing data and the new data being the same length;</claim-text>
<claim-text>the processor executing code for using, as the new data, a string that is a repetition of only the letter “a”;</claim-text>
<claim-text>the processor executing code for compressing the transformed library using the existing compression system to form a compressed library;</claim-text>
<claim-text>the compressed library including all of the plurality of functions and the symbol table;</claim-text>
<claim-text>the symbol table not readjusted after the library is transformed to form the transformed library, and not readjusted after the transformed library is compressed to form the compressed library, wherein a new symbol table is not formed; and</claim-text>
<claim-text>the processor executing code for storing the compressed library in the data processing system.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A computer program product that is stored in a computer readable storage media for managing a library in a data processing system, the computer program product comprising:
<claim-text>the data processing system being an embedded computer system in the form of one of a personal digital assistant, a cellular phone, a camera, a printer, a router, and a set-top box;</claim-text>
<claim-text>the data processing system including a compressed file system that uses a compression system that exists within the data processing system;</claim-text>
<claim-text>instructions for identifying, by the data processing system, names of two or more of a plurality of functions in the library that are unused and not required on the data processing system;</claim-text>
<claim-text>the library including a symbol table:</claim-text>
<claim-text>instructions for locating, in the symbol table, an address of each one of the two or more of the plurality of functions;</claim-text>
<claim-text>after the address of each one of the two or more of the plurality of functions has been located: instructions for transforming, by the data processing system, the library by overwriting existing data in the two or more of the plurality of functions with new data that is more compressible than the existing data to form a transformed library, wherein the transformed library is not compressed;</claim-text>
<claim-text>the existing data and the new data being the same length:</claim-text>
<claim-text>instructions for using, as the new data, a string that is a repetition of only the letter “a”;</claim-text>
<claim-text>instructions for compressing the transformed library using the existing compression system to form a compressed library;</claim-text>
<claim-text>the compressed library including the plurality of functions and the symbol table;</claim-text>
<claim-text>the symbol table not readjusted after the library is transformed to form the transformed library, and not readjusted after the transformed library is compressed to form the compressed library, wherein a new symbol table is not formed; and</claim-text>
<claim-text>instructions for storing the compressed library in the data processing system.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
