<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298637-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298637</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11459420</doc-number>
<date>20060724</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>CA</country>
<doc-number>2310295</doc-number>
<date>20000531</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>C</subclass>
<main-group>15</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>C</subclass>
<main-group>7</main-group>
<subgroup>10</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>C</subclass>
<main-group>7</main-group>
<subgroup>06</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>13</main-group>
<subgroup>28</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>365 49</main-classification>
<further-classification>36518905</further-classification>
<further-classification>36518907</further-classification>
<further-classification>365191</further-classification>
<further-classification>711108</further-classification>
<further-classification>711128</further-classification>
</classification-national>
<invention-title id="d0e61">Multiple match detection circuit and method</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5428565</doc-number>
<kind>A</kind>
<name>Shaw</name>
<date>19950600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5446686</doc-number>
<kind>A</kind>
<name>Bosnyak et al.</name>
<date>19950800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5598115</doc-number>
<kind>A</kind>
<name>Holst</name>
<date>19970100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6195277</doc-number>
<kind>B1</kind>
<name>Sywyk et al.</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6212106</doc-number>
<kind>B1</kind>
<name>Kurotsu</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>36518907</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6219749</doc-number>
<kind>B1</kind>
<name>Schultz et al.</name>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6253280</doc-number>
<kind>B1</kind>
<name>Voelkel</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6269016</doc-number>
<kind>B1</kind>
<name>Moyer</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365 49</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6307798</doc-number>
<kind>B1</kind>
<name>Ahmed et al.</name>
<date>20011000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6392910</doc-number>
<kind>B1</kind>
<name>Podaima et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6539466</doc-number>
<kind>B1</kind>
<name>Riedlinger</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6667924</doc-number>
<kind>B2</kind>
<name>Ahmed et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6705165</doc-number>
<kind>B2</kind>
<name>Garverick et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>6845024</doc-number>
<kind>B1</kind>
<name>Wanzakhade et al.</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365 49</main-classification></classification-national>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>6987682</doc-number>
<kind>B2</kind>
<name>Ma et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365 49</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2002/0176270</doc-number>
<kind>A1</kind>
<name>Yanagawa</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365 49</main-classification></classification-national>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2003/0161194</doc-number>
<kind>A1</kind>
<name>Ma et al.</name>
<date>20030800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365200</main-classification></classification-national>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2003/0198071</doc-number>
<kind>A1</kind>
<name>Towler et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365 49</main-classification></classification-national>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2005/0063241</doc-number>
<kind>A1</kind>
<name>Pereira et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>JP</country>
<doc-number>07 282586</doc-number>
<date>19951000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>WO</country>
<doc-number>WO 96 29705</doc-number>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>365 49</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>711108</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>711128</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>12</number-of-drawing-sheets>
<number-of-figures>15</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>11285197</doc-number>
<kind>00</kind>
<date>20051123</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7095640</doc-number>
<kind>A </kind>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11459420</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>10296884</doc-number>
<kind>00</kind>
<date>20030922</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>6990001</doc-number>
<kind>A </kind>
<date>20060124</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11285197</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060256601</doc-number>
<kind>A1</kind>
<date>20061116</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Ma</last-name>
<first-name>Stanley Jeh-Chun</first-name>
<address>
<city>Gloucester</city>
<country>CA</country>
</address>
</addressbook>
<nationality>
<country>CA</country>
</nationality>
<residence>
<country>CA</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Ma</last-name>
<first-name>Peter P.</first-name>
<address>
<city>Ottawa</city>
<country>CA</country>
</address>
</addressbook>
<nationality>
<country>CA</country>
</nationality>
<residence>
<country>CA</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Hung</last-name>
<first-name>Shin</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<orgname>Borden Ladner Gervais LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Mosaid Technologies Incorporated</orgname>
<role>03</role>
<address>
<city>Kanata, Ontario</city>
<country>CA</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Pham</last-name>
<first-name>Ly Duy</first-name>
<department>2827</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A multiple matchline sense circuit for detecting a single, more than one, or no match conditions during a search-and-compare operation of a content addressable memory is disclosed. The circuit compares the rising voltage rate of a multiple matchline to the rising voltage rate of a reference multiple matchline in order to generate a multibit result representing one of the three conditions. The circuit generates a self-timed control signal to end the search-and-compare operation, and to set the circuit to a precharge state.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="143.09mm" wi="213.36mm" file="US07298637-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="206.67mm" wi="152.82mm" orientation="landscape" file="US07298637-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="205.74mm" wi="166.54mm" orientation="landscape" file="US07298637-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="183.13mm" wi="118.96mm" orientation="landscape" file="US07298637-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="205.40mm" wi="112.35mm" orientation="landscape" file="US07298637-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="91.02mm" wi="94.83mm" file="US07298637-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="227.08mm" wi="169.08mm" orientation="landscape" file="US07298637-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="221.74mm" wi="124.54mm" orientation="landscape" file="US07298637-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="212.26mm" wi="155.53mm" file="US07298637-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="203.88mm" wi="156.13mm" file="US07298637-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="215.14mm" wi="163.32mm" orientation="landscape" file="US07298637-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="99.74mm" wi="128.44mm" file="US07298637-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="217.42mm" wi="163.07mm" file="US07298637-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application is a Continuation Application of U.S. patent application Ser. No. 11/285,197 filed on Nov. 23, 2005, now U.S. Pat. No. 7,095,640, which is a Continuation of Ser. No. 10/296,884, filed Sep. 22, 2003 now U.S. Pat. No. 6,990,001 issued on Jan. 24, 2006, which is a U.S. National Entry of PCT Patent Application Ser. No. CA01/00797 filed on May 31, 2001, which claims the benefit of priority of Canadian Patent Application No. 2,310,295 filed on May 31, 2000.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to content addressable memory. In particular, the present invention relates to a multiple match detection circuit for detecting a signal on a multiple matchline.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">In many conventional memory systems, such as random access memory, binary digits (bits) are stored in memory cells, and are accessed by a processor that specifies a linear address that is associated with the given cell. This system provides rapid access to any portion of the memory system within certain limitations. To facilitate processor control, each operation that accesses memory must declare, as a part of the instruction, the address of the memory cell/cells required. Standard memory systems are not well designed for a content based search. Content based searches in standard memory require a software based algorithmic search under the control of the microprocessor. Many memory operations are required to perform a search. These searches are neither quick nor efficient in using processor resources.</p>
<p id="p-0005" num="0004">To overcome these inadequacies an associative memory system called Content Addressable Memory (CAM) has been developed. CAM allows cells to be referenced by their contents, so it has first found use in lookup table implementations such as cache memory subsystems and is now rapidly finding use in networking systems. CAM's most valuable feature is its ability to perform a search and compare of multiple locations as a single operation, in which search data is compared with data stored within the CAM. Typically search data is loaded onto search lines and compared with stored words in the CAM. During a search-and-compare operation, a match or mismatch signal associated with each stored word is generated, indicating whether the search word matches a stored word or not.</p>
<p id="p-0006" num="0005">A CAM stores data in a matrix of cells, which are generally either SRAM based cells or DRAM based cells. Until recently, SRAM based CAM cells have been most common because of their simple implementation. However, to provide ternary state CAMs, ie. where the search and compare operation returns a “0”, “1” or “don't care” result, ternary state SRAM based cells typically require many more transistors than a DRAM based cells. As a result, ternary state SRAM based CAMs have a much lower packing density than ternary DRAM cells.</p>
<p id="p-0007" num="0006">To provide the desired search and compare function in a DRAM or SRAM based CAM, matchline sensing circuits are required. Each matchline sensing circuit returns the appropriate state of its matchline, and the outputs of each matchline sensing circuit can be subsequently processed to determine the number of matches.</p>
<p id="p-0008" num="0007">The circuit responsible for determining the existence of a match is the multiple match detection circuit. The multiple match detection circuit receives all the matchline sense circuit outputs as input signals after the search-and-compare operation, and determines one of two states. The first possible state represents the case where the search word does not match with any stored words or matches only one stored word. The second state occurs if the search word has matched with two or more stored words. The second state is significant because only one address of a matching word is returned as the resulting address of the search-and-compare operation. In such a case, if more than one match has resulted from the search-and-compare operation, there is at least one other stored word that matched the search word.</p>
<p id="p-0009" num="0008">A prior art multiple match detection circuit and scheme is disclosed in commonly owned U.S. Pat. No. 6,307,798 titled Circuit and Method for Multiple Match Detection in Content Addressable Memory, filed Apr. 24, 2000, the contents of which are incorporated herein by reference. In the multiple match detection circuit of the prior art, a multiple matchline is precharged to a high voltage level, VDD for example, and subsequently discharged when there is at least one matchline sense circuit which outputs a signal indicating a match condition. There is one discharge transistor for each matchline sensing circuit output, and all discharge transistors are connected to the multiple matchline and in parallel with each other.</p>
<p id="p-0010" num="0009">The multiple match detection circuit of the prior art compares the multiple matchline voltage level to a reference voltage during a sensing period in order to differentiate between the two different states. The reference voltage is fixed to mimic a multiple matchline having only one match, hence the multiple match detection circuit will sense if the multiple matchline voltage level is either above or below the reference voltage to generate the output corresponding to the first and second states respectively. The multiple match detection circuit therefore detects the discharged multiple match line to generate an output representing one of either the first and second states.</p>
<p id="p-0011" num="0010">There are several disadvantages in the multiple match detection circuit and scheme of the prior art. To reduce the silicon area occupied by the multiple match detection circuit, it is desirable to minimize the feature size of the discharge transistors. Since the current strength of a transistor changes directly with its feature size, the capacity of a small discharge transistor to pull a fully precharged matchline to ground is small. This results in very slow discharge of the multiple matchline, and increases the time required for the overall search and compare operation of the CAM. Inherent parasitic capacitance of the multiple matchline compounds this problem, which increases as CAM arrays store more words, and require more discharge transistors.</p>
<p id="p-0012" num="0011">The optimal sensing margin for the multiple match detection circuit should be sufficient for the circuit to easily distinguish if the multiple matchline potential level is above or below the reference voltage. This optimal sensing margin is attained at the time when the multiple matchline voltage level has decreased to a potential level well below the reference voltage. Unfortunately, the poor voltage discharge rate of the multiple matchline previously described only allows accurate sensing to be performed at a relatively prolonged time after the multiple matchline voltage begins to fall.</p>
<p id="p-0013" num="0012">The multiple match detection circuit and scheme of the prior art requires precise timing control between activation of the matchline sense circuits, activation of the reference voltage generator circuit and activation of the sense circuit within the multiple match detection circuit. Each above-mentioned circuit is activated in sequence according to specific, preset time delays, which are determined from the design parameters and simulations. Process variations during fabrication of the CAM chip and different operating conditions may cause slight shifts in the time delays, resulting in a false output from the multiple match detection circuit.</p>
<p id="p-0014" num="0013">There is clearly a need for a multiple match detection circuit capable of consuming very little power and detecting multiple matchline potential levels accurately at high speed.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0015" num="0014">It is an object of the present invention to obviate or mitigate at least one disadvantage of the prior art. In particular, it is an object of the present invention to provide a less complex multiple matchline sensing circuit, a method of using such a circuit, and a content addressable memory using such a sensing circuit, that detects no matches, a single match and two or more matches during a search-and-compare operation of a content addressable memory, quickly and accurately.</p>
<p id="p-0016" num="0015">In a first aspect, the present invention provides a multiple match detection circuit. The multiple match detection circuit includes a reference sense line precharged to a miss voltage, a reference circuit for changing the miss voltage of the reference sense line to a hit voltage level, and enabled at a first time for generating a reference match signal at a second time after the first time in response to the reference sense line reaching the hit voltage level, a sense line precharged to the miss voltage, a match detection circuit for changing the miss voltage of the sense line to the hit voltage level, and enabled at the first time for generating an output signal at one of a third time before the second time, a fourth time after the second time, and at about the second time, in response to the sense line reaching the hit voltage level and a detection circuit for providing a multibit output based on a generation time of the output signal relative to the second time, the detection circuit disabling the reference circuit and the match detection circuit in response to at least one of the output signal and the reference match signal.</p>
<p id="p-0017" num="0016">In a second aspect, the present invention provides a multiple match detection circuit. The multiple match detection circuit includes a reference latch circuit set to provide a reference match signal having a first logic level, the reference latch circuit latching a second logic level in response to a match condition of a corresponding reference sense line, a latch circuit set to provide a match signal having the first logic level, the latch circuit latching the second logic level in response to the match condition of a corresponding sense line, and a detection circuit for latching logic states of the reference match signal and the match signal in response to the second logic level of at least one of the reference match signal and the match signal, the latched logic states of the reference match signal and the match signal being a multibit output.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0018" num="0017">Preferred embodiments of the present invention will now be described, by way of example only, with reference to the attached Figures, wherein:</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> shows a block diagram of a CAM</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> shows a schematic of a DRAM based CAM cell;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> shows a schematic of a matchline sensing circuitry of the prior art;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4</figref> shows a schematic of a multiple matchline detection circuit of the prior art;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5</figref> shows a schematic of the multiple match sense circuit of <figref idref="DRAWINGS">FIG. 4</figref>;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6</figref> shows a plot of sense margin voltage versus time for the schematic of <figref idref="DRAWINGS">FIGS. 4 and 5</figref>;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 7</figref> shows a block diagram of the CAM array and matchline sense circuit block of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 8</figref> shows a schematic of a multiple matchline detection circuit in accordance with a first embodiment of the present invention;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 9</figref> shows a generic schematic of a multiple matchline sense circuit in accordance with a second embodiment of the present invention;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 10</figref> shows a schematic of a multiple matchline sense circuit in accordance with a third embodiment of the present invention;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 11</figref> shows a schematic of a multiple matchline sense circuit in accordance with a fourth embodiment of the present invention;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 12</figref> shows a schematic of a multiple matchline sense circuit in accordance with a fifth embodiment of the present invention;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 13</figref> shows a schematic of a multiple matchline sense circuit in accordance with a sixth embodiment of the present invention;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 14</figref> shows a plot of the multiple matchline voltage versus time for a no match, single match and multiple match conditions; and</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 15</figref> shows a sequence diagram of the CAM multiple match detection operation according to the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0034" num="0033">A typical CAM block diagram is shown in <figref idref="DRAWINGS">FIG. 1</figref>. The CAM <b>10</b> includes a matrix, or array <b>100</b>, of CAM cells <b>101</b> arranged in rows and columns, where, for a ternary CAM, each cell stores one of three states: logic “1”, logic “0” and “don't care”, actually storing 2 bits of data. A predetermined number of CAM cells <b>101</b> in a row store a word of data. In the CAM array <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref>, there are n rows and m columns, where n and m are integer numbers. An address decoder <b>12</b> is used to select any row within the CAM array <b>100</b> to allow data to be written into or read out of the selected row although most commonly, data is written or loaded into the CAM and searched. The bidirectional data access circuitry <b>14</b> transfers data between the CAM array <b>100</b> and the data pins (not shown) of the CAM chip, for access by an external processor. Located adjacent to the CAM array <b>100</b> for each row is matchline sense circuitry block <b>200</b>. Matchline sense circuitry block <b>200</b> comprises n matchline sense circuits and is used during search-and-compare operations for outputting an n-bit result <b>16</b> indicating a successful or unsuccessful match of a search word against the stored word. The matchline sense circuitry block results <b>16</b> for all rows are processed by the priority encoder <b>400</b> to output the address (Match Address) corresponding to the location of a matched word. Since it is possible that more than one row will match the search word, the priority encoder <b>400</b> generates the highest priority address corresponding to a matched word. Acting in parallel with the priority encoder <b>400</b> is a multiple match detection circuit <b>300</b>, which assesses the matchline sense circuit results <b>16</b>, and produces a two bit output Q<b>1</b>, Q<b>0</b> representing the cases where there are no matches, only one match and two matches or more.</p>
<p id="p-0035" num="0034">A typical ternary DRAM type CAM cell <b>101</b> is shown in <figref idref="DRAWINGS">FIG. 2</figref>. Cell <b>101</b> has an n-channel search transistor <b>102</b> connected in series with an n-channel compare transistor <b>104</b> between a matchline ML and a tail line TL. A search line SL<b>1</b> is connected to the gate of search transistor <b>102</b>. N-channel access transistor <b>106</b> has a gate connected to a wordline WL and is connected in series with capacitor <b>108</b> between bitline BL<b>1</b> and cell plate voltage potential VCP. Charge storage node CELL<b>1</b> is connected to the gate of compare transistor <b>104</b> to turn on transistor <b>104</b> if there is charge stored on capacitor <b>108</b> i.e. if CELL<b>1</b> is logic “1”. The remaining transistors and capacitor, replicate transistors <b>102</b>, <b>104</b>, <b>106</b> and capacitor <b>108</b> for the other half of the ternary data bit, and are connected to corresponding lines SL<b>2</b> and BL<b>2</b> and are provided to support ternary data storage. Specifically, the three states are stored by CELL<b>1</b> and CELL<b>2</b> as follows: (etc . . . ) 0/0, 0/1, 1/0, 1/1. Lines SL<b>1</b>, SL<b>2</b>, BL<b>1</b> and BL<b>2</b> are common to all cells of the column, and lines ML, TL and WL are common to all cells of a word in the row. The tail line TL is typically connected to ground and all the transistors are n-channel transistors. The description of the operation of the ternary DRAM cell is covered in the aforementioned reference which has been incorporated by reference. In general, for a match between search and stored data, there must be no conduction path between the matchline and the tail line, whereas for a mis-match, conduction will occur between the matchline and the tail line.</p>
<p id="p-0036" num="0035">A ternary SRAM type CAM cell consists of 2 SRAM cells, to store each half of the ternary bit, and a pair of search transistors and compare transistors which duplicate the function of transistors <b>102</b> and <b>104</b> in <figref idref="DRAWINGS">FIG. 2</figref>. From the point of view of search operations and matchline functionality, the SRAM cell performs identically to the DRAM type CAM.</p>
<p id="p-0037" num="0036">A simplified row schematic from the CAM array <b>100</b> and a corresponding prior art matchline sense circuit <b>202</b> from the matchline sense circuits <b>200</b> are shown in <figref idref="DRAWINGS">FIG. 3</figref>. The access transistors and storage capacitors from <figref idref="DRAWINGS">FIG. 2</figref> are not shown. Multiple search and compare transistors (<b>102</b> and <b>104</b> respectively), having gates connected to their respective search line SLj and cell storage node CELLi, are connected in parallel to the common matchline MLi. A matchline sense circuit <b>202</b> receives MLi and produces a matchline output ML_OUTi for the row. The matchline sense circuit <b>202</b> of the prior art requires control signals MLDCPL, BIAS, MLPRE and SEN for proper operation. For purposes of comparison with the present invention, a general description of a prior art CAM matchline sensing scheme will now follow with reference to <figref idref="DRAWINGS">FIGS. 1 to 4</figref>. After data is written to the cells <b>101</b> of the CAM array <b>100</b> via the bitlines, a search for a specific word of data in the cell array can be done. Every matchline MLi of the CAM array <b>100</b> is first precharged to a positive voltage level, such as VDD, through activation of a pulsed match line precharge MLPRE signal. During precharge of the matchline MLi to VDD, all search lines SLj must be grounded to turn off all search transistors <b>102</b> of every row, isolating the compare transistors <b>104</b> from the matchline MLi, to ensure that the matchlines MLi precharge to the full VDD level once the precharge phase terminates. The combination of precharging match lines to VDD and discharging all search lines to ground on every search operation consumes a lot of power. The search word is then loaded onto the search lines SL<sub>0 </sub>to SLm and each cell of a word compares its stored data with the data on its respective search line. Any cell whose stored data does not match the data on its search lines SLj, called a mis-match condition, will have both transistors <b>102</b> and <b>104</b> turned on to form a current path between the matchline MLi and ground. Any cell whose stored data does match the data on its search lines SLj, called a match condition, will have no affect on the matchline MLi. Hence, if each CAM cell of a row has a match condition, then the matchline MLi for the row will remain at the precharge voltage level of VDD. However, if at least one cell of a row has a mis-match condition, the precharge voltage of the matchline MLi will slowly discharge to ground over time. Since the matchline voltage level is neither stable nor suitable for use in subsequent logic circuits, a matchline sense circuit <b>202</b> will sense and amplify the matchline voltage level to full CMOS voltage levels, for example. The output of the matchline sense circuit <b>202</b>, ML_OUTi, at a high logic level will indicate that the data of the respective row matches the search word. ML_OUTi at a low logic level will indicate that the data of the respective row has not matched in at least one bit.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 4</figref> shows a multiple match detection circuit of the prior art. The circuit includes a multiple matchline MML, with many parallel connected discharge transistors <b>302</b> coupling MML to ground. The gate of each discharge transistor is connected to an output, ML_OUTi, of a matchline sense circuit <b>202</b>. There is one discharge transistor <b>302</b> for each matchline sense circuit <b>202</b> output. The multiple matchline MML is connected to one input of a sense amplifier <b>310</b>. A reference multiple matchline RMML is connected to another input of sense amplifier <b>310</b>, having many parallel connected discharge transistors <b>306</b> coupling RMML to ground. Discharge transistors <b>306</b> are dummy discharge transistors, configured and sized identically to the discharge transistors <b>302</b>, except that their gates are permanently grounded to keep them turned off. Only dummy discharge transistor <b>304</b> can be turned on by control signal MLSEN. The W/L ratio of dummy discharge transistor <b>304</b> is designed to be 1-1.5 times the size of the other normal and dummy discharge transistors <b>302</b> and <b>306</b> in order to distinguish between multiple match, single match or no match conditions. RMML has an equal number of dummy discharge transistors <b>304</b> and <b>306</b> as MML to ensure that voltage or temperature variations will affect MML and RMML equally, and that parasitic capacitance of both lines are matched. During operation, MLSEN turns on discharge transistor <b>304</b>, and the voltage level of RMML will mimic the voltage level of MML when there is one match; ie, when one of ML_OUT<b>0</b>-ML_OUTm is at the high logic level.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 5</figref> shows a detailed circuit schematic of the sense amplifier <b>310</b> of the prior art. N-channel transistors <b>313</b>, <b>314</b>, <b>316</b>, <b>317</b> and <b>318</b>, and p-channel transistors <b>312</b> and <b>315</b>, form a differential amplifier which compares the voltage level of MML received on the gate of transistor <b>314</b> against the voltage level of reference multiple match line RMML received on the gate of transistor <b>317</b>. Weak p-channel transistors <b>311</b> and <b>321</b> have their gates connected to ground, and clamp MML and RMML respectively, to VDD. Transistors <b>312</b> and <b>313</b> form a complementary pair connected between the high voltage supply, VDD, and the drain of transistor <b>314</b>. Transistors <b>315</b> and <b>316</b> also form a complementary pair connected between the high voltage supply, VDD, and the drain of transistor <b>317</b>. Both complementary pairs are connected with each other to form a cross-coupled latch. The common source of transistors <b>314</b> and <b>317</b> are connected to the drain of transistor <b>318</b>. The source of transistor <b>318</b> is connected to ground and its gate is connected to control signal SHL for enabling the differential amplifier. Complementary outputs out and outb from the cross-coupled latch are inverted by inverters <b>323</b> and <b>324</b> respectively to generate latch and latchb. P-channel reset transistors <b>319</b> and <b>320</b> are connected between VDD and outb and out respectively, with their gates connected to control signal SHL. Transmission gate <b>326</b> couples signal latch to the input of latch circuit <b>327</b>. Delay circuit <b>322</b> receives SHL and generates delayed complementary signals SHL_DLY and SHL_DLYb to control transmission gate <b>326</b>. Latch circuit <b>327</b> generates Q<b>0</b>, the output representing the state of MML.</p>
<p id="p-0040" num="0039">A description of the operation of the multiple match detection circuit of the prior art now follows with reference to <figref idref="DRAWINGS">FIGS. 3</figref>, <b>4</b> and <b>5</b>. In the precharge state, all matchline sense circuits <b>202</b> (<figref idref="DRAWINGS">FIG. 3</figref>) are disabled, forcing ML_OUT<b>0</b>-ML_OUTm signals to the low logic level. Therefore, all discharge transistors <b>302</b> from <figref idref="DRAWINGS">FIG. 4</figref> are turned off. Dummy discharge transistor <b>304</b> is also turned off since MLSEN is currently at the low logic level. With all discharge transistors turned off, MML and RMML (<figref idref="DRAWINGS">FIGS. 4 and 5</figref>) are held at the high logic level by clamp transistors <b>311</b> and <b>321</b> respectively. Control signal SHL is at the low logic level, to disable the differential amplifier, and to reset outb and out to the high logic level via transistors <b>319</b> and <b>320</b>. SHL_DLY and SHL_DLYb remain at the low and high logic levels respectively to keep transmission gate <b>326</b> turned off.</p>
<p id="p-0041" num="0040">After search data is applied to search lines SLi-SLn, control signal MLSEN will be driven to the high logic level to simultaneously turn on all matchline sense circuits <b>202</b> and dummy discharge transistor <b>304</b> after a first predetermined amount of time. When a matchline sense circuit <b>202</b> is turned on, the respective matchline MLi voltage level is sensed for immediate generation of either a logic high or logic low ML_OUTi. Therefore, in having MLSEN turn on both the matchline sense circuits <b>202</b> and the dummy discharge transistor <b>304</b> at the same time, both MML (if at least one matchline sense circuit reports a match) and RMML voltage levels will begin to discharge simultaneously.</p>
<p id="p-0042" num="0041">At a subsequent second predetermined time after MLSEN is driven high, control signal SHL will be pulsed high to enable the differential amplifier and to disable reset transistors <b>319</b> and <b>320</b> for the duration of the high pulse. Once enabled, the differential amplifier will compare the voltage level of MML to the voltage level of RMML. Table 1 below lists the different logic levels of various nodes from the multiple match detection circuit of <figref idref="DRAWINGS">FIG. 5</figref> when the voltage level of MML is above and below the voltage level of RMML.</p>
<p id="p-0043" num="0042">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="1" colwidth="49pt" align="center"/>
<colspec colname="2" colwidth="35pt" align="center"/>
<colspec colname="3" colwidth="49pt" align="center"/>
<colspec colname="4" colwidth="35pt" align="center"/>
<colspec colname="5" colwidth="49pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="5" rowsep="1">TABLE 1</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
<row>
<entry>RMML</entry>
<entry>MML</entry>
<entry>out</entry>
<entry>outb</entry>
<entry>Latch</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>VREF</entry>
<entry>&gt;VREF</entry>
<entry>HIGH</entry>
<entry>LOW</entry>
<entry>LOW</entry>
</row>
<row>
<entry>VREF</entry>
<entry>&lt;VREF</entry>
<entry>LOW</entry>
<entry>HIGH</entry>
<entry>HIGH</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0044" num="0043">At a third predetermined time after SHL is pulsed high, signals SHL_DLY and SHL_DLYb pulse high and low respectively to turn on transmission gate <b>326</b> for the duration of the pulse lengths. During the time transmission gate <b>326</b> is turned on, the signal latch is retained in latch circuit <b>327</b> for further output.</p>
<p id="p-0045" num="0044">The prior art circuit of <figref idref="DRAWINGS">FIG. 5</figref> is subject to the previously mentioned disadvantages. The time required by the multiple match detection circuit <b>300</b> (<figref idref="DRAWINGS">FIG. 1</figref>) to sense the MML potential is lengthy. <figref idref="DRAWINGS">FIG. 6</figref> is a plot of the multiple matchline voltage VMML as a function of time in the case where two or more discharge transistors <b>302</b> are turned on (in the multiple match condition). The multiple match detection circuit <b>300</b> (<figref idref="DRAWINGS">FIG. 1</figref>) compares VMML to a reference voltage VREF at a predetermined time, to sense if VMML is above or below VREF. Multiple match detection circuit <b>300</b> (<figref idref="DRAWINGS">FIG. 1</figref>) will generate a low logic level latch if VMML is above VREF, and a high logic level latch if VMML is below VREF. Sensing can be performed at time t<b>1</b>, but the sense margin is very small and a precise VREF voltage generator is required. A better sense margin can be achieved at later time t<b>2</b> without the need for a high precision VREF voltage. The sensing margin for detecting between a multiple and single match case is only 0.5V which is subject to fluctuations due to process and temperature variations. However, the time between the start of VMML falling to t<b>2</b> is wasteful because the CAM remains idle while waiting for the result of the comparison. Contributing to the prolonged sense time is the small feature size of discharge transistors <b>302</b> and <b>304</b> and <b>306</b>. One conducting discharge transistor has a small current capacity, hence the discharge of MML (which begins in a high precharged state) to ground is very slow. Shrinking feature sizes will extend the optimal sense time past t<b>2</b> because the discharge rate of VMML will be further diminished. To improve the sensing margin in the multiple matchline of the prior art, the width of dummy discharge transistor <b>304</b> is set from 1-1.5 times the size of discharge transistors <b>302</b> and <b>306</b>. However, this size must be carefully selected, and the sensing margin remains relatively small.</p>
<p id="p-0046" num="0045">After sensing occurs at time t<b>2</b>, the discharged multiple matchline MML must be precharged back to the VDD voltage supply by an amount of ΔV. Hence, power consumption will be high due to the repeated discharge and precharge of multiple matchline MML in addition to the power consumed by performing the same precharge high action on individual match lines themselves.</p>
<p id="p-0047" num="0046">Sequential activation of the matchline sense circuits <b>200</b>, the dummy discharge transistor <b>304</b> and the multiple match detection circuit is synchronised by the first, second and third predetermined times which are created from delay circuits. Since the start of the second predetermined time is dependent on the end of the first predetermined time, and the start of the third predetermined time is dependent on the end of the second, deviation in the duration of any predetermined time may result in the output of wrong data. As well, if the transient characteristics of the circuits change due to process variations, synchronisation can be lost.</p>
<p id="p-0048" num="0047">Reference will now be made to embodiments of the invention. Generally, the multiple matchline detection circuit of the present invention is a low power sense circuit for fast detection of no matches, a single match or multiple matches in the CAM cell array <b>100</b>. This is achieved by setting a multiple matchline and a reference multiple matchline to a no-hit or miss default voltage level and pulling the multiple matchline to a hit voltage level before, at the same time, or after the reference multiple matchline is pulled to the hit voltage level. The multiple match detection circuit of the present invention employs a detecting circuit for detecting the first of the two multiple matchlines to reach the hit voltage level, and generates a two-bit output representing one of the states where 0, 1 or 2 and more stored words match the search word. The multiple matchline detection circuit is self-timed to disable sensing of the multiple matchline and reference multiple matchline.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 7</figref> depicts a hierarchical view of the CAM array <b>100</b>. CAM cells <b>101</b> of the CAM array <b>100</b> are arranged in rows and columns. CAM cells <b>101</b> of a row are connected to a common matchline MLi, word line WLi and tail line TLi, and CAM cells <b>101</b> of a column are connected to a common pair of search lines SLj and a common pair of bitlines BLj, where i is an integer value between 0 and n, and j is an integer value between 0 and m. Matchlines MLi and tail lines TLi are connected to their respective matchline sense circuits <b>210</b>. The matchline sense circuits <b>210</b> also receive control signals EN<b>1</b>, EN<b>2</b><i>b </i>and BIAS, and produce match signals ML_OUT<b>0</b>-ML_OUTn.</p>
<p id="p-0050" num="0049">A more detailed schematic of the multiple matchline detection circuit is shown in <figref idref="DRAWINGS">FIG. 8</figref> according to a first embodiment of the present invention. The configuration and connections of the discharge transistors <b>302</b> in relation to the multiple matchline MML is the same as described previously for the prior art multiple match detection circuit of <figref idref="DRAWINGS">FIG. 4</figref>. The configuration of the reference multiple matchline circuitry <b>333</b>, and connections of the discharge transistors <b>306</b> in relation to the reference multiple matchline RMML is also the same as described previously for the prior art multiple match detection circuit of <figref idref="DRAWINGS">FIG. 4</figref>, with exception of transistor <b>305</b> which has its gate connected to the high voltage supply VDD. Since transistor <b>305</b> is no longer dependant on a timing signal, the reference circuit is self-timed. Also differing from the prior art is that transistor <b>305</b> is the same size as transistors <b>302</b> and <b>306</b>, hence all discharge transistors <b>305</b> and <b>306</b> connected to RMML are constructed identically as discharge transistors <b>302</b> connected to MML to keep the parasitic capacitance of both multiple matchlines the same. MML and RMML are connected to their respective multiple matchline sense circuits <b>330</b> and <b>331</b>, which receive as inputs, control signals EN<b>1</b>, EN<b>2</b><i>b </i>and BIAS. The multiple matchline sense circuit <b>330</b> connected to MML will sense the voltage level of MML to generate signal MML_OUT, while the reference multiple matchline sense circuit <b>331</b> connected to RMML will sense the voltage level of RMML to generate signal RMML_OUT. A detecting circuit, implemented as a multiple match decoder <b>380</b>, receives MML_OUT and RMML_OUT to generate a two bit, or multibit output Q<b>1</b>, Q<b>0</b> and feedback control signal EN<b>1</b>.</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIGS. 9-12</figref> show different circuit embodiments of the multiple matchline sense circuit <b>330</b> and reference multiple matchline sense circuit <b>331</b>. <figref idref="DRAWINGS">FIG. 9</figref> shows a generic schematic of a multiple matchline sense circuit <b>330</b> in accordance with the present invention. The multiple matchline sense circuit has a current source <b>332</b> connected to a high voltage supply, such as VDD for example, and is connected in series with switch <b>334</b>. Switch <b>336</b> is connected in series between switch <b>334</b> and a low voltage level, such as ground. Signal EN<b>1</b> controls switch <b>334</b>, and is inverted by inverter <b>338</b> to control switch <b>336</b>. The multiple matchline MML is connected to common node <b>335</b> of switches <b>334</b> and <b>336</b>, and is further connected to the gate of n-channel sense transistor <b>342</b>. Sense transistor <b>342</b> is connected in series between precharge switch <b>340</b> and the ground level, where signal EN<b>2</b><i>b </i>controls precharge switch <b>340</b>. The input of inverter <b>344</b> is connected to the drain of sense transistor <b>342</b> and its output is used to generate signal MML_OUT. The circuit combination of switch <b>340</b>, sense transistor <b>342</b> and inverter <b>344</b> acts as a sense amplifier to sense and amplify the state of the multiple matchline MML.</p>
<p id="p-0052" num="0051">The multiple matchline sense circuit operation of <figref idref="DRAWINGS">FIG. 9</figref> will now be described. Switch <b>336</b> is closed, or turned on during a precharge phase, such that the multiple matchline MML is precharged to a low potential level such as ground to turn off sense transistor <b>342</b>. Switch <b>334</b> is open to restrict the application of current to the multiple matchline MML. Also during the precharge phase, switch <b>340</b> is closed and the input to inverter <b>344</b> is charged to the VDD level, or the high logic level. MML_OUT is therefore at the low logic level. During the course of a search and compare operation, in the sensing phase, switches <b>336</b> and <b>340</b> are opened, or turned off, and switch <b>334</b> is closed to turn on the current source <b>332</b>, to apply current to the multiple matchline MML. Application of current to the multiple matchline MML by the current source <b>332</b> will eventually raise its voltage level over time. When the voltage level of MML reaches the threshold voltage (minimum voltage required to turn on a transistor) for the n-channel sense transistor <b>342</b> of about 0.7V, transistor <b>342</b> will turn on to connect the input of inverter <b>344</b> to ground. MML_OUT subsequently becomes a high logic level. To reset the circuit to the precharge phase, control signal EN<b>1</b> will become inactive to turn off switch <b>334</b> and to turn on switch <b>336</b>. The method by which EN<b>1</b> becomes inactive will be discussed in more detail later. In summary, the multiple matchline detection circuit <b>330</b> of <figref idref="DRAWINGS">FIG. 8</figref> will determine the potential level of the multiple matchline MML relative to the threshold potential level of sense transistor <b>342</b>. If this voltage level on MML is detected, then signal MML_OUT becomes a high logic level, which can be used by subsequent logic circuits.</p>
<p id="p-0053" num="0052">The multiple matchline detection circuit of <figref idref="DRAWINGS">FIG. 10</figref> is a practical CMOS implementation of the generic circuit of <figref idref="DRAWINGS">FIG. 9</figref>. Current source <b>332</b> is replaced with p-channel transistors <b>350</b> and <b>352</b>, and switches <b>336</b> and <b>340</b> are replaced with n-channel transistor <b>354</b> and p-channel transistor <b>358</b> respectively. Inverter <b>338</b> can be removed from the circuit since p-channel transistor <b>350</b> and n-channel transistor <b>354</b> form a complementary pair. An analog BIAS voltage is applied to the gate of p-channel transistor <b>352</b> to control the current supplied to the multiple matchline MML.</p>
<p id="p-0054" num="0053">In the operation of the multiple matchline detection circuit of <figref idref="DRAWINGS">FIG. 10</figref>, signal EN<b>1</b> is at a high logic level and EN<b>2</b><i>b </i>is pulsed to a low logic level during a precharge phase to turn on transistors <b>354</b> and <b>358</b> respectively, such that the multiple matchline MML is connected to ground to turn off sense transistor <b>342</b>. To ensure that no current is applied to the multiple matchline MML during the precharge phase, the high logic level EN<b>1</b> will turn off p-channel transistor <b>350</b> of the current source. With the input to inverter <b>344</b> charged to the VDD level, or high logic level, MML_OUT is therefore at the low logic level. In the sensing phase, EN<b>1</b> is at a low logic level to turn on p-channel transistor <b>350</b> and to turn off n-channel transistor <b>354</b>, to allow current source <b>332</b> to apply current to the multiple matchline MML. When the voltage level of MML reaches the threshold voltage for the n-channel sense transistor <b>342</b> of about 0.7V, transistor <b>342</b> will turn on to connect the input of inverter <b>344</b> to ground. MML_OUT subsequently becomes a high logic level. The circuit would then be reset in the precharge phase in a manner similar to way the circuit of <figref idref="DRAWINGS">FIG. 9</figref> is reset.</p>
<p id="p-0055" num="0054">The current source <b>332</b> can also be implemented as a single p-channel transistor with its source connected to VDD, its drain connected to the multiple matchline MML, and its gate connected to EN<b>1</b>, eliminating the requirement for the analog BIAS voltage level. In this case the current will be determined solely by the dimensions of the transistor and the VDD supply level.</p>
<p id="p-0056" num="0055">The floating input of inverter <b>344</b> in the circuit of <figref idref="DRAWINGS">FIG. 10</figref> during the sensing phase before sense transistor <b>342</b> turns on is generally undesirable. If the voltage on the input of inverter <b>344</b> falls below its switching point, inverter <b>344</b> will incorrectly flip and subsequently output a high MML_OUT logic level even though sense transistor <b>342</b> is turned off.</p>
<p id="p-0057" num="0056">To address this potential failure a modified multiple matchline sense circuit of <figref idref="DRAWINGS">FIG. 10</figref> is shown in <figref idref="DRAWINGS">FIG. 11</figref>. The configuration of the circuit of <figref idref="DRAWINGS">FIG. 11</figref> is the same as the circuit of <figref idref="DRAWINGS">FIG. 10</figref>, with the exception of a 2-input NOR gate <b>362</b> which replaces inverter <b>344</b>. NOR gate <b>362</b> has a first input connected to the drain of sense transistor <b>342</b> and a second input connected to EN<b>2</b><i>b</i>. The output MML_OUT from NOR gate <b>362</b> is also fed back to the gate of p-channel precharge transistor <b>364</b>. NOR gate <b>362</b> and p-channel precharge transistor <b>364</b> form a conventional half-latch to hold the drain of sense transistor <b>342</b> at the high potential level. Since both p-channel transistor <b>364</b> and sense transistor <b>342</b> are turned on if the multiple matchline MML reaches the threshold voltage of transistor <b>342</b>, Vt, p-channel transistor <b>364</b> is designed to be weaker than sense transistor <b>342</b>. This allows sense transistor <b>342</b> to override the ‘ON’ state of transistor <b>364</b>. The circuit of <figref idref="DRAWINGS">FIG. 11</figref> functions equivalently to the circuit of <figref idref="DRAWINGS">FIG. 10</figref> during the precharge and sense phases. It should be noted that the half-latch circuit of <figref idref="DRAWINGS">FIG. 11</figref> is not capable of latching a low logic level on the first input of NOR gate <b>362</b> during the sensing phase.</p>
<p id="p-0058" num="0057">A modified multiple matchline sense circuit of <figref idref="DRAWINGS">FIG. 11</figref> is shown in <figref idref="DRAWINGS">FIG. 12</figref>. The configuration of the circuit of <figref idref="DRAWINGS">FIG. 12</figref> is the same as the circuit of <figref idref="DRAWINGS">FIG. 11</figref>, except a full-latch circuit that replaces the half-latch circuit of <figref idref="DRAWINGS">FIG. 11</figref>. Inverter <b>360</b> replaces p-channel transistor <b>364</b> from <figref idref="DRAWINGS">FIG. 11</figref>, allowing the full-latch circuit to latch both low and high logic levels on the first input of NOR gate <b>362</b>. The circuit of <figref idref="DRAWINGS">FIG. 12</figref> functions equivalently to the circuit of <figref idref="DRAWINGS">FIG. 11</figref> during the precharge and sense phases.</p>
<p id="p-0059" num="0058">A multiple matchline detection circuit in accordance with an embodiment of the present invention is shown in <figref idref="DRAWINGS">FIG. 13</figref>. The circuit of <figref idref="DRAWINGS">FIG. 13</figref> is similar to the multiple matchline circuit of <figref idref="DRAWINGS">FIG. 8</figref>, but includes circuit diagrams for multiple match sense circuit <b>330</b>, reference for multiple match sense circuit <b>331</b> and multiple match decoder <b>380</b>. The multiple match sense circuits <b>330</b> and reference multiple match sense circuit <b>331</b> are implemented with multiple match sense circuit of <figref idref="DRAWINGS">FIG. 12</figref>. Multiple match decoder circuit <b>380</b> includes OR gate <b>382</b> and two D-type flip-flops (DFF) <b>384</b> and <b>385</b>. Signal MML_OUT is connected to the data input of DFF <b>384</b> and one input of OR gate <b>382</b>, while RMML_OUT is connected to the data input of DFF <b>385</b> and the other input of OR gate <b>382</b>. OR gate <b>382</b> generates feedback control signal EN<b>1</b>, which is connected to the clock inputs of DFF <b>384</b> and DFF <b>385</b>, DFF <b>384</b> and DFF <b>385</b> output Q<b>1</b> and Q<b>0</b> respectively. Edge triggered D-type flip-flops are well known in the art, and function to pass data appearing on its D input to its Q output when there is a transition from a low level to a high level on its clock input.</p>
<p id="p-0060" num="0059">A description of the multiple matchline sensing operation in accordance with the present invention will now follow with reference to <figref idref="DRAWINGS">FIGS. 7</figref>, <b>13</b> and <b>14</b>. It should be assumed that one or both of MML_OUT and RMML_OUT have been driven to the high logic level from the previous search-and-compare operation. The circuit of <figref idref="DRAWINGS">FIG. 13</figref> will compare the rising voltage rate of the multiple matchline MML to a reference multiple matchline RMML, where the voltage level of MML will rise at a faster, slower or equal rate as the voltage level of RMML. The circuit will then output a two bit result representing one of the three states of MML. After the matchline sense circuits <b>210</b> (<figref idref="DRAWINGS">FIG. 7</figref>) have completed their comparison of the search word against their respective stored words, none, one or more ML_OUTi (MLOUT<b>0</b>-ML_OUTn) signals will be driven to the high logic level to indicate the occurrence of a match. Hence, any logic high ML_OUTi will immediately turn on its respective discharge transistor <b>302</b> from the multiple match detection circuit of <figref idref="DRAWINGS">FIG. 13</figref>. This will have no effect on MML because the multiple match sense circuit <b>330</b> is in the precharge phase in which the current source <b>332</b> is turned off and precharge transistor <b>354</b> is turned on via signal EN<b>1</b> at the high logic level to hold MML to low logic level. The multiple match sense circuit <b>331</b> connected to RMML is also in the precharge phase due to the high logic level of EN<b>1</b>. Current is then applied to the multiple matchline MML and the reference multiple matchline RMML during the sensing phase when EN<b>1</b> is set to the low logic level. OR gate <b>382</b> generates a low logic level EN<b>1</b> signal as long as both MML_OUT and RMML_OUT remain at the low logic level. This will occur when EN<b>2</b><i>b </i>pulses high at the input to NOR gate <b>362</b> of multiple match sense circuit <b>330</b> and at the input to NOR gate <b>362</b> of multiple match sense circuit <b>331</b> to start the active phase. The low logic levels of MML_OUT and RMML_OUT are latched via feedback inverters <b>360</b>, and will remain so until either one of MML and RMML rises to the threshold voltage of its respective sense transistor <b>342</b> during the search-and-compare operation. In the case of no matches, no current path is formed between MML and ground, thus allowing the voltage of MML to rise quickly over time. In the case of a single match, where one current path is formed between MML and ground through a single discharge transistor <b>302</b>, the rate at which the voltage of MML rises over time is slower because a small amount of charge is continually discharged from the multiple matchline MML by the single current path to ground. Therefore the rising rate of the multiple matchline MML voltage over time in the case of a single match is slower than the rising rate in the case where there are no matches. This rising rate becomes even slower due to the existence of multiple parallel current paths between the multiple matchline MML and ground in the case where two or more discharge transistors are turned on, since the current source <b>332</b> must overcome multiple pull down paths. The voltage level of RMML will rise at a rate consistent with MML having exactly one discharge transistor <b>302</b> turned on. In the present embodiment, only the gate of one discharge transistor <b>305</b> is connected to VDD, and the remaining discharge transistors <b>306</b> connected to RMML have their gates connected to ground. Therefore the voltage level of RMML will always rise at a rate corresponding to the single match condition.</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 14</figref> shows a plot of MML voltage versus time for the zero match case, the single match case and more than one match case. From the plot of <figref idref="DRAWINGS">FIG. 14</figref>, the time of interest is at t<b>1</b>, when the zero match case MML voltage ramps up to a threshold voltage Vt to turn on sense transistor <b>342</b> from the multiple matchline sense circuit <b>330</b> of <figref idref="DRAWINGS">FIG. 13</figref>. Although for the single match and the more than one match cases, MML does not reach the Vt level at t<b>1</b>, they will reach Vt some time after t<b>1</b> at times t<b>2</b> and t<b>3</b> respectively, to turn on sense transistor <b>342</b>. Although a linear relationship between the MML voltage and time is shown, the rising rate of MML with respect to time does not necessarily have to be linear. In other words, using this process according to the invention, the voltage of the multiple matchline will begin to rise when current is provided, but depending on the state of the multiple matchline, (i.e. containing no matches, one match or more than one match) the multiple matchline will rise at one of the three rates shown in <figref idref="DRAWINGS">FIG. 14</figref>. The multiple match circuit of the present embodiment will therefore decide the state of MML based on its delay (negative or positive) in reaching the Vt threshold voltage level relative to the single match state.</p>
<p id="p-0062" num="0061">In <figref idref="DRAWINGS">FIG. 13</figref>, DFF <b>384</b> and <b>385</b> will receive, latch and pass the high or low logic levels appearing on their respective D inputs to their Q outputs when clocked by EN<b>1</b> signal going high. When one or both MML_OUT and RMML_OUT are driven and latched to the high logic level from their precharged low logic levels by multiple match sense circuits <b>330</b> and <b>331</b>, OR gate <b>382</b> will immediately generate an active or high logic level EN<b>1</b> signal. EN<b>1</b> transitioning to the high logic level will set DFF <b>384</b> and <b>385</b> into the latch mode, preventing any further changes in the logic levels of either MML_OUT and RMML_OUT from changing the outputs Q<b>1</b> and Q<b>0</b>. Occurring simultaneously, current sources <b>332</b> from multiple match sense circuits <b>330</b> and <b>331</b> are turned off by the high logic level EN<b>1</b> to prevent further charging of MML and RMML for conserving power. Thus the multiple matchline detection circuit re-enters the precharge phase in preparation for the next search-and-compare operation. In summary, EN<b>1</b> falls to the low logic level from the precharge high logic level, in response to the high logic level pulse of signal EN<b>2</b><i>b </i>to start the active phase, and remains at the low logic level for a self timed duration. This self timed duration is approximately the time required by the faster of either MML or RMML to rise between ground and the sense transistor threshold voltage potential, because once sense transistor <b>342</b> turns on, NOR gate <b>362</b> generates a high logic level signal to begin start the precharge phase. Table 2 below defines the states represented by the different logic level combinations of outputs Q<b>1</b> and Q<b>0</b> in relation to MML_OUT and RMML_OUT.</p>
<p id="p-0063" num="0062">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="5">
<colspec colname="1" colwidth="49pt" align="center"/>
<colspec colname="2" colwidth="49pt" align="center"/>
<colspec colname="3" colwidth="28pt" align="center"/>
<colspec colname="4" colwidth="28pt" align="center"/>
<colspec colname="5" colwidth="63pt" align="left"/>
<thead>
<row>
<entry namest="1" nameend="5" rowsep="1">TABLE 2</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
<row>
<entry>MML_OUT</entry>
<entry>RMML_OUT</entry>
<entry>Q1</entry>
<entry>Q0</entry>
<entry>State</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>LOW</entry>
<entry>LOW</entry>
<entry>LOW</entry>
<entry>LOW</entry>
<entry>Reset</entry>
</row>
<row>
<entry>HIGH</entry>
<entry>LOW</entry>
<entry>HIGH</entry>
<entry>LOW</entry>
<entry>No matches</entry>
</row>
<row>
<entry>HIGH</entry>
<entry>HIGH</entry>
<entry>HIGH</entry>
<entry>HIGH</entry>
<entry>1 match</entry>
</row>
<row>
<entry>LOW</entry>
<entry>HIGH</entry>
<entry>LOW</entry>
<entry>HIGH</entry>
<entry>2 matches or more</entry>
</row>
<row>
<entry namest="1" nameend="5" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0064" num="0063">An example of the multiple matchline detection circuit operation will now be discussed in detail with reference to <figref idref="DRAWINGS">FIGS. 13 and 15</figref>. The sequence diagram shown in <figref idref="DRAWINGS">FIG. 15</figref> illustrates the logical level transitions in the output of multiple matchlines MML_OUT and RMML_OUT, as they are affected by their respective multiple matchlines MML and RMML and control signals EN<b>2</b><i>b </i>and EN<b>1</b>. The beginning of an arrow indicates the signal transition that causes an event, and the end of an arrow indicates the effect of the signal transition on another signal. D<b>0</b> and D<b>1</b> represent the D inputs for DFF <b>384</b> and <b>385</b> respectively. Hatched lines represent “don't care” states. In this example, all ML_OUTi signals are at the low logic level, keeping all discharge transistors <b>302</b> connected to MML turned off.</p>
<p id="p-0065" num="0064">It should be assumed that one or both of MML_OUT and RMML_OUT remains at the high logic level from a previous search-and-compare cycle to maintain signal EN<b>1</b> at the high logic level for keeping MML and RMML at the precharged low level via precharge transistors <b>354</b>.</p>
<p id="p-0066" num="0065">First transition arrow <b>500</b> indicates the beginning of the EN<b>2</b><i>b </i>precharge pulse which simultaneously drives and latches MML_OUT and RMML_OUT to the low logic level. Accordingly, D<b>1</b> and D<b>0</b> follow the logic levels of MML_OUT and RMML_OUT respectively as indicated by second and third transition arrows <b>502</b> and <b>504</b>. When both MML_OUT and RMML_OUT are at the low logic level, OR gate <b>382</b> generates a low logic level EN<b>1</b> to turn on current sources <b>332</b> from multiple match sense circuits <b>330</b> and <b>331</b>, as shown by fourth and fifth transition arrows <b>506</b> and <b>508</b>. EN<b>1</b> at the low logic level will end the precharge phase and start the sense phase as shown by sixth transition arrow <b>510</b>. By enabling the current sources <b>332</b> of the multiple matchline sense circuit <b>330</b> and reference multiple matchline sense circuit <b>331</b>, the voltage levels of MML and RMML will begin to rise. The voltage level of MML will reach the Vt voltage to turn on sense transistor <b>342</b> of multiple matchline sense circuit <b>330</b> before the voltage level of RMML reaches the Vt voltage level. At seventh transition arrow <b>512</b>, MML_OUT is subsequently latched at the high logic level. The high logic level of MML_OUT is reflected in the transition of D<b>1</b> to the high logic level. At this time, outputs Q<b>0</b> and Q<b>1</b> follow the D<b>0</b> and D<b>1</b> logic levels. Because RMML has not reached the voltage of Vt, RMML_OUT will remain at the precharged low logic level. The high logic level of MML_OUT will cause OR gate <b>382</b> to drive EN<b>1</b> to the high logic level at the eighth transition arrow <b>514</b>. Two events occur simultaneously as a result of EN<b>1</b> being driven to the high logic level. First, at ninth transition arrow <b>518</b>, DFF <b>384</b> and <b>385</b> latch their respective D inputs (D<b>1</b> and D<b>0</b>) from signals MML_OUT and RMML_OUT in response to the transition of EN<b>1</b> to the high logic level. Since Q<b>0</b> and Q<b>1</b> have latched the low and high logic levels respectively, any further changes to the logic levels of MML_OUT and RMML_OUT will have no effect on Q<b>0</b> and Q<b>1</b>. Note according to Table 2 above, the high logic level Q<b>1</b> and the low logic level Q<b>0</b> represents the no match output state of the multiple match detection circuit, which correctly corresponds to this situation in which all ML_OUTi signals are at the low logic level. This is an advantageous feature of the present invention because RMML_OUT changes to the high logic level shortly after MML_OUT when RMML reaches the Vt voltage level, but is prevented from changing Q<b>0</b> to the high logic level and changing the output state of the multiple match detection circuit. The second event caused by EN<b>1</b> takes place at transition arrow <b>520</b>. EN<b>1</b> will turn off all current sources <b>332</b> via transistor <b>350</b>, and turn on all precharge transistors <b>354</b> to quickly pull down multiple matchlines MML and RMML to ground. The multiple matchline sense circuits <b>330</b> and <b>331</b> are now reset to the precharge phase and ready to perform another sense operation.</p>
<p id="p-0067" num="0066">In the case of a single match, both RMML and MML would rise to the Vt voltage level at the same time to generate a Q<b>1</b>, Q<b>0</b> output of HIGH,HIGH. In the case of multiple matches, RMML will rise to the Vt voltage level before MML to generate a Q<b>1</b>, Q<b>0</b> output of LOW,HIGH. Since the low logic level duration of EN<b>1</b> is determined by the first multiple matchline (MML or RMML) to reach the Vt voltage level from the precharged ground level, the multiple matchline detection circuit becomes self-timed without the requirement of control signals generated externally from the circuit.</p>
<p id="p-0068" num="0067">The multiple matchline detection circuit of the present invention has the following advantages. The multiple matchline detection circuit independently distinguishes the no match, single match and multiple match states. The circuit also provides an output corresponding to one of the three states.</p>
<p id="p-0069" num="0068">Lower power is consumed because multiple matchlines MML and RMML only rise to a Vt and not to a full VDD level before being fully discharged to ground. Since the sensing phase ends after either MML or RMML reaches the Vt level, the sense operation is fast.</p>
<p id="p-0070" num="0069">There is no requirement for preset timed control signals generated by artificial delays, for activating the matchline sense circuits and multiple matchline detection circuit. The multiple matchline detection circuit can be activated in response to a signal provided by the matchline sense circuits, indicating the end of their sense-and-compare operation. The multiple matchline detection circuit disables itself after a self-timed period. Therefore there is no reliance on externally generated control signals.</p>
<p id="p-0071" num="0070">Because the reference multiple matchline row is constructed identically and adjacently to the multiple matchline row, any process variations or temperature effects affecting the CAM array will equally affect the reference multiple matchline row. In addition, the sense margin between single, multiple and no match condition is no longer based on some fractional voltage based on transistor ratios and therefore doesn't suffer from temperature or process variations. Furthermore, the same circuit used for matchline sensing can be and is used for detecting multiple matches, thereby reducing design complexity and optimising performance.</p>
<p id="p-0072" num="0071">Of course, numerous variations and adaptations may be made to the particular embodiments of the invention described above, without departing from the spirit and scope of the invention, which is defined in the claims.</p>
<p id="p-0073" num="0072">While the matchline sense circuit of the present invention has been implemented and simulated using CMOS technology on silicon, alternative embodiments can be implemented in other technologies such as BiCMOS.</p>
<p id="p-0074" num="0073">Although the circuits of <figref idref="DRAWINGS">FIGS. 9-13</figref> have been implemented to precharge matchlines to ground, the circuits can be inverted in order to precharge multiple matchlines to the VDD voltage supply. Transistors would be replaced with their respective complementary type of transistor and the voltage supply polarities would be swapped with each other. For example, n-channel transistors would be replaced with p-channel transistors, and p-channel transistors would be replaced with n-channel transistors. The inverted multiple matchline sense circuit would precharge multiple matchlines to the VDD supply voltage and detect falling rates of the multiple matchline. A negative current source will discharge the precharged multiple matchline to ground, and any discharge transistor which is turned on will form a current path to the VDD supply voltage. Hence in a no match condition, the falling rate of the multiple matchline will be faster than the falling rate of a reference multiple matchline mimicking a single match condition. In a multiple match condition, the falling rate of the multiple matchline will be slower than the falling rate of a reference multiple matchline mimicking the single match condition.</p>
<p id="p-0075" num="0074">In addition, p-channel discharge transistors could be contemplated instead of n-channel discharge transistors.</p>
<p id="p-0076" num="0075">This multiple match detection scheme can be used in both SRAM and DRAM based CAMs. The circuit technique disclosed can also be used in multi-level Flash memory or ROM where each cell can store one of several threshold levels. Typical multi-level Flash cells are programmed by writing two bits of data to raise its threshold to one of three or four voltage levels. The current discharged by a cell will vary according to its programmed threshold voltage when a read voltage is applied. The circuits of the present invention could be useful to sense the two bit data of the cell via the bitline. A dummy cell programmed with the appropriate threshold voltage connected to a dummy bitline will act as the reference to which the current of the bitline is compared against.</p>
<p id="p-0077" num="0076">Additionally, in associative cache memory applications where a microprocessor searches the cache for an address and data it wants to access, a search and compare operation can be implemented, and the results of the search, i.e. a match or mismatch can be detected using circuits and principles described in this invention.</p>
<p id="p-0078" num="0077">The above-described embodiments of the invention are intended to be examples of the present invention. Alterations, modifications and variations may be effected the particular embodiments by those of skill in the art, without departing from the scope of the invention which is defined solely by the claims appended hereto.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A multiple match detection circuit comprising:
<claim-text>a reference latch circuit set to provide a reference match signal having a first logic level, the reference latch circuit latching a second logic level in response to a match condition of a reference sense line;</claim-text>
<claim-text>a latch circuit set to provide a match signal having the first logic level, the latch circuit latching the second logic level in response to the match condition of a sense line; and</claim-text>
<claim-text>a detection circuit for latching the reference match signal logic level and the match signal logic level in response to the second logic level of at least one of the reference match signal and the match signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The multiple match detection circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the reference latch circuit and the latch circuit are identically configured.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The multiple match detection circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the reference latch includes
<claim-text>a full-latch circuit for providing the first logic level in response to an inactive state of an enable signal, and</claim-text>
<claim-text>a sense transistor for coupling the full-latch circuit to a voltage supply in response to the match condition, the full-latch circuit latching the second logic level when the enable signal is in an active state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The multiple match detection circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the full-latch circuit includes
<claim-text>a NOR gate having a first input connected to a drain of the sense transistor, and a second input for receiving the enable signal, and</claim-text>
<claim-text>an inverter having an input connected to an output of the NOR gate, for driving the drain of the sense transistor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The multiple match detection circuit of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the sense transistor is n-channel, and the voltage supply is VSS.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The multiple match detection circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the detection circuit includes
<claim-text>an OR logic circuit for receiving the reference match signal and the match signal, the OR logic circuit providing a control signal when at least one of the reference match signal and the match signal is at the second logic level,</claim-text>
<claim-text>a first flip-flop for receiving the reference match signal and for latching the logic level of the reference match signal in response to the control signal, and</claim-text>
<claim-text>a second flip-flop for receiving the match signal and for latching the logic level of the match signal in response to the control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The multiple match detection circuit of <claim-ref idref="CLM-00006">claim 6</claim-ref>, further including
<claim-text>a current source connected to the sense line for changing a sense line voltage from a first voltage level to a second voltage level, the current source being disabled in response to the control signal, and</claim-text>
<claim-text>a reference current source connected to the reference sense line for changing a reference sense line voltage from the first voltage level to the second voltage level, the reference current source being disabled in response to the control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A multiple match detection circuit comprising:
<claim-text>a sense line and a reference sense line precharged to a miss voltage level;</claim-text>
<claim-text>a reference match detection circuit for changing the miss voltage level of the reference sense line to a hit voltage level, and enabled at a first time for generating a reference match signal at a second time after the first time in response to the reference sense line reaching the hit voltage level;</claim-text>
<claim-text>a match detection circuit for changing the miss voltage level of the sense line to the hit voltage level, and enabled at the first time for generating a match output signal at one of a third time before the second time, a fourth time after the second time, and at about the second time, in response to the sense line reaching the hit voltage level; and</claim-text>
<claim-text>a detection circuit for providing a multibit output corresponding to a generation time of the match output signal relative to the second time.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The multiple match detection circuit of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the reference match detection circuit and the match detection circuit are identical to each other.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The multiple match detection circuit of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the match detection circuit includes
<claim-text>a current source connected to the sense line for changing a sense line voltage from a first voltage level to a second voltage level, and</claim-text>
<claim-text>an amplifier for sensing the sense line voltage reaching the second voltage level, and for providing the match output signal in response to the sensed second voltage level.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The multiple match detection circuit of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the amplifier includes
<claim-text>a full-latch circuit set to a first logic level, and</claim-text>
<claim-text>a sense transistor for coupling the full-latch circuit to a second voltage supply in response to the sensed second voltage level.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The multiple match detection circuit of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the current source includes a first and a second transistor connected in series between a voltage supply and the sense line, the first transistor gate receiving a control signal and the second transistor gate receiving a bias voltage.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The multiple match detection circuit of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the detection circuit includes
<claim-text>an OR logic circuit for receiving the reference match signal and the match output signal, the OR logic circuit providing the control signal when at least one of the reference match signal and the match output signal is at the second logic level,</claim-text>
<claim-text>a first flip-flop for receiving the reference match signal and for latching the logic level of the reference match signal in response to the control signal, and</claim-text>
<claim-text>a second flip-flop for receiving the match output signal and for latching the logic level of the match output signal in response to the control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A method for providing a multibit output in a multiple match detection circuit, comprising:
<claim-text>switching a reference match signal logic level from a first logic level to a second logic level at a first time;</claim-text>
<claim-text>switching a match signal logic level from the first logic level to the second logic level at a second time;</claim-text>
<claim-text>generating a control signal in response to at least one of the reference match signal and the match signal switching to the second logic level; and,</claim-text>
<claim-text>latching the reference match signal logic level and the match signal logic level in response to the control signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the step of switching a reference match signal includes precharging a reference matchline to a miss voltage level, the miss voltage level corresponding to the first logic level of the reference match signal.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the step of precharging includes latching the first logic level of the reference match signal.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, further including applying current to the reference matchline with a current source for changing the miss voltage level of the reference matchline to a hit voltage level, the hit voltage corresponding to the second logic level of the reference match signal.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further including latching the second logic level of the reference match signal at the first time.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, further including disabling the current source in response to the control signal.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the step of generating a control signal includes executing a logical OR function of the reference match signal and the match signal to provide the control signal.</claim-text>
</claim>
</claims>
</us-patent-grant>
