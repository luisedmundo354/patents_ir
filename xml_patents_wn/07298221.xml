<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298221-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298221</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11353832</doc-number>
<date>20060213</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>74</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>L</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>331 17</main-classification>
<further-classification>331 16</further-classification>
</classification-national>
<invention-title id="d0e53">Phase-locked loop circuits with current mode loop filters</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>7148757</doc-number>
<kind>B2</kind>
<name>Chiu</name>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>331 16</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00002">
<othercit>Maneatis, et al., “Self-Biased High-Bandwidth Low-Jitter 1-to-4096 Multiplier Clock Generator PLL,” DAC 2003, Jun. 2-6, 2003, Anaheim, California, USA, pp. 688-690.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00003">
<othercit>Lee et al., “A 155-MHz Clock Recovery Delay- and Phase-Locked Loop,” IEEE Journal of Solid-State Circuits., Vo. 27, No. 12, Dec. 1992, pp. 1736-1756.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00004">
<othercit>Cramomcix et al., “A Fully Integrated CMOS DCS-1800 Frequency Synthesizer,” IEEE Journal of Solid-State Circuits., vol. 33, No. 12, Dec. 1998, pp. 2054-2065.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00005">
<othercit>Maxim et al., “A Low-Jitter 125-1250-MHz Process-Independent and Ripple-Poleless .18 μm CMOS PLL Based on a Sample-Reset Loop Filter,” IEEE Journal of Solid-State Circuits, vol. 36, No. 11, Nov. 2001, pp. 1673-1683.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00006">
<othercit>Maneatis et al., “Self-Biased High-Bandwidth Low-Jitter 1-to-4096 Multiplier Clock Generator PLL,” IEEE Journal of Solid-State Circuits, vol. 38, No. 11, Nov. 2003, pp. 1795-1803.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00007">
<othercit>Yang et al., “A Low Jitter 0.3-165 MHz CMOS PLL Frequency Synthesizer for 3 V/5 V Operation,” IEEE Journal of Solid-State Circuits, vol. 32, No. 4, Apr. 1997, pp. 582-586.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00008">
<othercit>Maneatis, John G., “Low-Jitter Process-Independent DLL and PLL Based on Self-Biased Techniques,” IEEE Journal of Solid-State Circuits, vol. 31, No. 11, Nov. 1996, pp. 1723-1732.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00009">
<othercit>Sidiropoulos, et al., “Adaptive Bandwidth DLLs and PLLs using Regulated Supply CMOS Buffers,” 2000 Symposium on VLSI Circuits Digest of Technical Papers, pp. 124-127.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00010">
<othercit>Lee et al., “CMOS Continuous-Time Current-Mode Filters for High-Frequency Applications,” IEEE Journal of Solid-State Circuits, vol. 28, No. 3, Mar. 1993, pp. 323-329.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00011">
<othercit>Zele et al., “Low-Power CMOS Continuous-Time Filters,” IEEE Journal of Solid-State Circuits, vol. 31, No. 2, Feb. 1996, pp. 157-168.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00012">
<othercit>Young et al., “A PLL Clock Generator with 5 to 110 MHz of Lock Range for Microprocessors,” IEEE Journal of Solid-State Circuits, vol. 27, No. 11, Nov. 1992, pp. 1599-1607.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>17</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>331 17</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>331 16</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>26</number-of-drawing-sheets>
<number-of-figures>46</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60654993</doc-number>
<kind>00</kind>
<date>20050222</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060197611</doc-number>
<kind>A1</kind>
<date>20060907</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Yan</last-name>
<first-name>Gang</first-name>
<address>
<city>Shanghai</city>
<country>CN</country>
</address>
</addressbook>
<nationality>
<country>CN</country>
</nationality>
<residence>
<country>CN</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Myers Bigel Sibley &amp; Sajovec</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Integrated Device Technology, Inc.</orgname>
<role>02</role>
<address>
<city>San Jose</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Chang</last-name>
<first-name>Joseph</first-name>
<department>2817</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A phase-locked loop (PLL) includes a phase-frequency detector circuit configured to detect an error of an output clock signal in relation to a reference clock signal and to generate a charge pump control signal therefrom and a charge pump circuit configured to charge and discharge an output node thereof responsive to the charge pump control signal. The PLL further includes a current-mode loop filter circuit coupled to the output node of the charge pump circuit and configured to generate a filtered current from the current at the output node of the charge pump circuit, and a current-controlled oscillator configured to generate the output clock signal responsive to the filtered current. The current-mode loop filter circuit may be self-biased. For example, the current-mode loop filter circuit and the charge pump may be biased responsive to a common bias control signal generated by the current-mode loop filter circuit.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="147.49mm" wi="249.68mm" file="US07298221-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="210.48mm" wi="133.86mm" file="US07298221-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="223.60mm" wi="177.80mm" file="US07298221-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="243.50mm" wi="161.80mm" file="US07298221-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="232.24mm" wi="102.28mm" file="US07298221-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="220.13mm" wi="149.01mm" file="US07298221-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="201.85mm" wi="183.22mm" orientation="landscape" file="US07298221-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="241.89mm" wi="163.32mm" file="US07298221-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="253.92mm" wi="160.19mm" file="US07298221-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="201.08mm" wi="173.91mm" file="US07298221-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="261.87mm" wi="149.01mm" file="US07298221-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="226.74mm" wi="163.41mm" file="US07298221-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="245.62mm" wi="169.59mm" file="US07298221-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="263.65mm" wi="153.25mm" file="US07298221-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="246.63mm" wi="146.64mm" file="US07298221-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="234.10mm" wi="183.98mm" file="US07298221-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="230.63mm" wi="145.46mm" file="US07298221-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="228.18mm" wi="137.08mm" file="US07298221-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="110.91mm" wi="129.54mm" file="US07298221-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="261.79mm" wi="81.36mm" orientation="landscape" file="US07298221-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="259.08mm" wi="161.46mm" file="US07298221-20071120-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="249.68mm" wi="147.49mm" orientation="landscape" file="US07298221-20071120-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="225.21mm" wi="136.91mm" file="US07298221-20071120-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="236.05mm" wi="161.04mm" file="US07298221-20071120-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="231.82mm" wi="174.33mm" file="US07298221-20071120-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="262.72mm" wi="75.69mm" orientation="landscape" file="US07298221-20071120-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="161.88mm" wi="175.43mm" file="US07298221-20071120-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATION</heading>
<p id="p-0002" num="0001">The present application claims the benefit of U.S. Provisional Application Ser. No. 60/654,993, filed Feb. 22, 2005, the disclosure of which is hereby incorporated herein by reference in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to electronic circuits and methods of operation thereof and, more particularly, to phase locked loop (PLL) circuits and methods.</p>
<p id="p-0004" num="0003">Clock frequencies used in digital circuits have increased with the rapid development of CMOS technology, as well as the steady improvement in electronic technology. A common approach to design of digital circuit is synchronous design, which typically uses a master clock. Clock requirements for high-speed digital systems have become increasingly stringent. These typically include low clock jitter, 50% duty cycle, low-voltage operation, low power consumption and compatibility with digital technology. Therefore, clock generating circuit design has become of significant importance.</p>
<p id="p-0005" num="0004">Clock generating circuits may be classified as open loop and closed-loop. A typical open-loop clock generating circuit includes a crystal oscillator, an RC oscillator, an LC resonance circuit, a ring oscillator and a direct digital frequency synthesizer (DDFS). Generally speaking, a typical clock generating circuit without a reference frequency needs fine-tuning to obtain a desired frequency. In the above-mentioned oscillating circuits, the crystal oscillator, due to its higher Q-factor, can produce a low-jitter clock, so it is often used as a reference clock. The DDFS typically requires a reference clock to work out, via mathematical operations, the value of the desired frequency sampled by the reference clock. After digital-to-analog conversion of the digital amplitude sequence, the desired clock can be obtained through filtering. According to Nyquist sampling theory, the DDFS can synthesize a clock with a frequency less than half the reference frequency. However, due to physical constraints, the clock frequency generated by an open-loop clock generating circuit may not be high.</p>
<p id="p-0006" num="0005">Closed-loop clock generating circuits include automatic frequency control (AFC) circuits and phase-locked loop (PLL) circuits. AFC circuits, which may be prone to frequency error, have generally declined in popularity, while PLL circuits have become a popular choice for frequency synthesis. PLLs may accurately synthesize a clock of very high speed, with frequency typically restricted only by the fabrication process used. A clock signal produced by a PLL can have good jitter performance. Special clocks can also be achieved using PLL. Examples of PLL applications include spread-spectrum clocks for reducing electromagnetic interference, multi-phase clocks, and clock data recovery.</p>
<p id="p-0007" num="0006">Early PLLs used an analog multiplier as a phase discriminator. Because clock signals typically are square waves, filtering is often done to produce the sine waves, which may be very inconvenient. Moreover, difficulties in the design of analog multipliers can make the design of a PLL using an analog multiplier difficult.</p>
<p id="p-0008" num="0007">A typical charge pump PLL uses a digital phase discriminator to compare square wave signals and can eliminate static phase contrast used in traditional PLLs. As digital phase discriminator design may be considered mature, designers may focus their attention on loop filter and voltage controlled oscillator (VCO) design. Charge pump PLLs typically can be highly integrated using digital CMOS technology.</p>
<p id="p-0009" num="0008">Two types of oscillators that are widely used in charge pump PLLs are ring oscillators and LC oscillators. An LC oscillator, which requires on-chip inductance, may provide a clock with low phase noise. But the oscillating frequency may be limited to a small range. A ring oscillator, which may be compatible with digital technology, may provide wider frequency range. Ring oscillators are commonly used in PLLs to save cost.</p>
<p id="p-0010" num="0009">Many digital chips today include one or more PLLs. The output frequencies of these PLLs may be different, and the requirements for the PLLs may not be the same. Design of such PLLs may require a lot of resources, manpower and time. A general-purpose or quasi-general-purpose PLL may, therefore, be desirable. A self-biased PLL with current steering digital to analog converter (IDAC) is an example of a general-purpose PLL, proposed in J. Maneatis et al., “Self-biased high-bandwidth low-jitter 1-to-4096 multiplier clock generator PLL,” <i>IEEE Int. Solid</i>-<i>State Circuits Conf. Dig. Tech. Papers</i>, February 2003, pp. 424-425. A potential disadvantage of such a PLL is its complexity.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0011" num="0010">In some embodiments of the present invention, a phase-locked loop (PLL) includes a phase-frequency detector circuit configured to detect an error of an output clock signal in relation to a reference clock signal and to generate a charge pump control signal therefrom and a charge pump circuit configured to charge and discharge an output node thereof responsive to the charge pump control signal. The PLL further includes a current-mode loop filter circuit coupled to the output node of the charge pump circuit and configured to generate a filtered current from the current at the output node of the charge pump circuit, and a current-controlled oscillator configured to generate the output clock signal responsive to the filtered current. The current-mode loop filter circuit may be self-biased. For example, the current-mode loop filter circuit and the charge pump may be biased responsive to a common bias control signal generated by the current-mode loop filter circuit.</p>
<p id="p-0012" num="0011">In further embodiments of the present invention, the current-mode loop filter circuit includes first and second transistors arranged as a current mirror circuit, the first transistor having a current path and a control electrode therefor coupled to the output node of the charge pump circuit. The filter further includes a filter network configured to be coupled between the control electrode of the first transistor and a control electrode of the second transistor. The current-mode loop filter circuit may be configured to enable and disable current integration by the filter responsive to the charge pump control signal. For example, the current-mode loop filter circuit may include a switch configured to make and break a coupling of the control electrodes of the first and second transistors through the filter network responsive to the charge pump control signal. In some embodiments, the charge pump control signal includes an advance signal and a retard signal, the charge pump is configured charge and discharge the output node responsive to respective ones of the advance and retard signals, and the switch is configured to couple the control electrodes of the first and second transistors through the filter network responsive to assertion of either of the advance and retard signals and to decouple the control electrodes of the first and second transistors responsive to deassertion of both the advance signal and the retard signal.</p>
<p id="p-0013" num="0012">In additional embodiments of the present invention, the filter network may include an RC filter network. For example, the filter network may be a second or higher order RC filter network. In certain embodiments, the filter network includes a first resistance having a first terminal configured to be coupled to the control electrode of the first transistor, a second resistance coupled between a second terminal of the first resistance and the control electrode of the second transistor, a first capacitance coupled between the second terminal of the first resistance and a ground node, a second capacitance coupled between the control electrode of the second transistor and the ground node, and a series combination of a third resistance and a third capacitance coupled between the second terminal of the first resistance and the ground node.</p>
<p id="p-0014" num="0013">In certain embodiments of the present invention, the first and second transistors include respective NMOS transistors. The first and second transistors may have a channel length substantially greater than a minimum channel length of a fabrication process in which they are implemented. For example, the first and second transistors may be implemented in a 0.35 μm process, and may have a channel length of around 1.5 μm.</p>
<p id="p-0015" num="0014">According to further aspects of the present invention, the current-mode loop filter circuit further includes a bias circuit coupled between the current mirror circuit and a power supply voltage source and configured to bias the current mirror circuit responsive to a bias control signal generated at a controlled electrode of the second transistor. The current-mode loop filter circuit may further include a noise canceling circuit and a cascode current source coupled between the current mirror circuit and the current-controlled oscillator. A feedback divider circuit may be coupled between the current-controlled oscillator circuit and an input of the phase-frequency detector circuit. The feedback divider circuit may include a series combination of a programmable divider and a dual modulus prescaler. The current-controlled oscillator circuit may include, for example, a current-controlled ring oscillator circuit.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 1 and 2</figref> illustrate a conventional PLL.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 3</figref> illustrates exemplary operations of the PLL of <figref idref="DRAWINGS">FIGS. 1 and 2</figref>.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 4</figref> illustrates another conventional PLL.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 5</figref> illustrates exemplary operations of the PLL circuit of <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIGS. 6-8</figref> illustrate root locus characteristics for a conventional PLL circuit.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 9</figref> illustrates a Bode plot for a conventional PLL circuit.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 10</figref> illustrates jitter peaking characteristics for a conventional PLL.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 11</figref> illustrates root locus characteristics for a conventional PLL.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIGS. 12-14</figref> illustrate sampling behavior of a conventional PLL.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIGS. 15 and 16</figref> illustrate conventional sampling—restoration PLLs.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 17</figref> illustrates operations of the PLL of <figref idref="DRAWINGS">FIG. 16</figref>.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 18</figref> illustrates jitter behavior of the PLL of <figref idref="DRAWINGS">FIG. 16</figref>.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 19</figref> illustrates power spectrum of a single frequency phase modulation vibration wave of a conventional PLL.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 20</figref> illustrates a noise model of a conventional PLL.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 21</figref> illustrates jitter behavior of a conventional PLL.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 22</figref> illustrates jitter peaking behavior of a conventional PLL.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 23</figref> illustrates a conventional self-biased PLL.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIGS. 24-28</figref> illustrate current-mode filter configurations that may be used in a PLL according to various embodiments of the present invention.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 29</figref> illustrates a PLL with current-mode loop filter according to some embodiments of the present invention.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 30</figref> illustrates behavior of a current-mode filter that may be used in a PLL according to some embodiments of the present invention.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 31</figref> illustrates behavior of a PLL having a current-mode filter according to some embodiments of the present invention.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIGS. 32-35</figref> illustrate a current-mode filter according to some embodiments of the present invention.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 36</figref> illustrates phase-frequency detector (PFD) that may be used in a PLL according to some embodiments of the present invention.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 37</figref> illustrates a charge pump and current-mode filter circuit for a PLL according to some embodiments of the present invention.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIGS. 38-39</figref> illustrate a current-controlled oscillator that may be used in a PLL according to some embodiments of the present invention.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 40</figref> illustrates a power supply rejection behavior of a current-mode filter circuit according to some embodiments of the present invention.</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 41</figref> illustrates simulated and measured performance of a PLL according to some embodiments of the present invention.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 42</figref> illustrates a feedback divider circuit that may be used in a PLL according to some embodiments of the present invention.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 43</figref> illustrates a dual modulus divider circuit that may be used in a feedback circuit of a PLL according to some embodiments of the present invention.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 44</figref> illustrates a small signal model for a current-mode PLL loop filter according to some embodiments of the present invention.</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 45</figref> illustrates transient performance of a PLL according to some embodiments of the present invention.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 46</figref> illustrates bandwidth characteristics of a PLL according to some embodiments of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0048" num="0047">Specific exemplary embodiments of the invention now will be described with reference to the accompanying drawings. This invention may, however, be embodied in many different forms and should not be construed as limited to the embodiments set forth herein; rather, these embodiments are provided so that this disclosure will be thorough and complete, and will fully convey the scope of the invention to those skilled in the art. The terminology used in the detailed description of the particular exemplary embodiments illustrated in the accompanying drawings is not intended to be limiting of the invention. In the drawings, like numbers refer to like elements. As used herein, the singular forms “a”, “an” and “the” are intended to include the plural forms as well, unless expressly stated otherwise. It will be further understood that the terms “includes,” “comprises,” “including” and/or “comprising,” when used in this specification, specify the presence of stated features, integers, steps, operations, elements, and/or components, but do not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and/or groups thereof. It will be understood that when an element is referred to as being “connected” or “coupled” to another element, it can be directly connected or coupled to the other element or intervening elements may be present. Furthermore, “connected” or “coupled” as used herein may include wirelessly connected or coupled. As used herein, the term “and/or” includes any and all combinations of one or more of the associated listed items.</p>
<p id="p-0049" num="0048">Unless otherwise defined, all terms (including technical and scientific terms) used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this invention belongs. It will be further understood that terms, such as those defined in commonly used dictionaries, should be interpreted as having a meaning that is consistent with their meaning in the context of the relevant art and will not be interpreted in an idealized or overly formal sense unless expressly so defined herein.</p>
<p id="h-0006" num="0000">Overview: Analysis of PLL Circuits</p>
<p id="p-0050" num="0049">As shown in <figref idref="DRAWINGS">FIGS. 1 and 2</figref>, a typical conventional charge pump PLL includes a Phase Frequency Detector (PFD), a Charge Pump (CP), Low-Pass Filter (LPF), Voltage Controlled Oscillator (VCO) and Feedback Divider. The PFD conducts phase subtraction of input signals, with an output of corresponding signal up or dn. The control signals cause charge or discharge of Vc, and the VCO will generate a definite frequency after filtering by a loop filter. Generally speaking, on the feedback path, there will be a by-N divider, which allows frequency and phase to be divided by N, with the feedback being sent to the input of the PFD. After the phase is locked, the output frequency will be N times the input reference frequency.</p>
<p id="p-0051" num="0050">A model of the charge pump PLL of <figref idref="DRAWINGS">FIG. 1</figref> is shown in <figref idref="DRAWINGS">FIG. 2</figref>. The PLL may be modeled as a discrete-time system. After the phase is locked, there typically is little static phase error, such that the PLL is considered a linear system. When the loop bandwidth is far less than the input clock frequency, the average response of PLL over several clock periods can describe the system. Under such conditions, the PLL can be treated as a continuous-time system and can be analyzed with Laplace transforms. The phase discriminator PFD can be regarded as a phase subtractor; the charge pump may be described as a pure linear gain I<sub>cp</sub>/(2π), which transforms phase difference into current. The open-loop gain is the transfer function from the input along the loop to the feedback point:</p>
<p id="p-0052" num="0051">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>T</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>Θ</mi>
              <mi>fb</mi>
            </msub>
            <msub>
              <mi>Θ</mi>
              <mi>ref</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <msub>
                <mi>I</mi>
                <mi>cp</mi>
              </msub>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mi>π</mi>
              </mrow>
            </mfrac>
            <mo>·</mo>
            <mrow>
              <msub>
                <mi>Z</mi>
                <mi>F</mi>
              </msub>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mi>s</mi>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>·</mo>
            <mfrac>
              <msub>
                <mi>K</mi>
                <mi>VCO</mi>
              </msub>
              <mi>s</mi>
            </mfrac>
            <mo>·</mo>
            <mfrac>
              <mn>1</mn>
              <mi>N</mi>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0053" num="0052">In equation (1), Z<sub>F</sub>(s) is the impedance of low-pass filter, transforming current into voltage, and K<sub>VCO </sub>is the gain of VCO that takes rad/s/V as the unit. When using an impedance network including a series connection of resistance and capacitance, as shown in <figref idref="DRAWINGS">FIG. 1</figref>, Z<sub>F</sub>(s) can be written as:</p>
<p id="p-0054" num="0053">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>Z</mi>
            <mi>F</mi>
          </msub>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mn>1</mn>
            <mo>+</mo>
            <mrow>
              <mi>s</mi>
              <mo>·</mo>
              <msub>
                <mi>R</mi>
                <mi>lp</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>C</mi>
                <mn>1</mn>
              </msub>
            </mrow>
          </mrow>
          <mrow>
            <mi>s</mi>
            <mo>·</mo>
            <msub>
              <mi>C</mi>
              <mn>1</mn>
            </msub>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0055" num="0054">Substituting equation (2) into equation (1), the loop gain is a second-order system, with two poles and one zero. Their positions are given by the following formula:</p>
<p id="p-0056" num="0055">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>p</mi>
            <mn>1</mn>
          </msub>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>p</mi>
              <mn>2</mn>
            </msub>
            <mo>=</mo>
            <mn>0</mn>
          </mrow>
        </mrow>
        <mo>⁢</mo>
        <mstyle>
          <mtext>
</mtext>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mi>z</mi>
          <mo>=</mo>
          <mrow>
            <mo>-</mo>
            <mfrac>
              <mn>1</mn>
              <mrow>
                <msub>
                  <mi>R</mi>
                  <mi>lp</mi>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0057" num="0056">One pole is generated by integration from frequency to phase; the other is generated by the integration charge pump current by the loop capacitance. The frequency-to-phase integration enables the output frequency to accurately lock to the input clock, even if there is static phase contrast in the PLL. This is a characteristic of PLLs that differs from AFC. The integration gain of charge pump to capacitance at DC is generally infinite, which ensures that there is no static phase error.</p>
<p id="p-0058" num="0057">To ensure some phase margin, usually the zero is chosen within the bandwidth. Assuming that the zero is far less than the bandwidth, then the bandwidth is approximately:</p>
<p id="p-0059" num="0058">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>b</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>cp</mi>
            </msub>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mi>π</mi>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>R</mi>
            <mi>lp</mi>
          </msub>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>K</mi>
              <mi>VCO</mi>
            </msub>
            <mi>N</mi>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>4</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The bandwidth should be far less than the angular frequency ω<sub>REF </sub>of the input clock to meet the continuous-time approximation. Generally speaking, PLL bandwidth is less than 1/10 of the angular frequency of the input clock.
</p>
<p id="p-0060" num="0059">With the help of the loop-gain expression, other PLL equations can be deduced. The closed-loop transfer function of the negative feedback system can be given by forward gain divided by (1+loop gain):</p>
<p id="p-0061" num="0060">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>H</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mrow>
              <mfrac>
                <msub>
                  <mi>I</mi>
                  <mi>cp</mi>
                </msub>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mi>π</mi>
                </mrow>
              </mfrac>
              <mo>·</mo>
              <msub>
                <mi>K</mi>
                <mi>VCO</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>R</mi>
                <mi>lp</mi>
              </msub>
              <mo>·</mo>
              <mi>s</mi>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mfrac>
                <msub>
                  <mi>I</mi>
                  <mi>cp</mi>
                </msub>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mi>π</mi>
                </mrow>
              </mfrac>
              <mo>·</mo>
              <mfrac>
                <msub>
                  <mi>K</mi>
                  <mi>VCO</mi>
                </msub>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mfrac>
            </mrow>
          </mrow>
          <mrow>
            <msup>
              <mi>s</mi>
              <mn>2</mn>
            </msup>
            <mo>+</mo>
            <mrow>
              <mfrac>
                <msub>
                  <mi>I</mi>
                  <mi>cp</mi>
                </msub>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mi>π</mi>
                </mrow>
              </mfrac>
              <mo>·</mo>
              <mfrac>
                <msub>
                  <mi>K</mi>
                  <mi>VCO</mi>
                </msub>
                <mi>N</mi>
              </mfrac>
              <mo>·</mo>
              <msub>
                <mi>R</mi>
                <mi>lp</mi>
              </msub>
              <mo>·</mo>
              <mi>s</mi>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mfrac>
                <msub>
                  <mi>I</mi>
                  <mi>cp</mi>
                </msub>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mi>π</mi>
                </mrow>
              </mfrac>
              <mo>·</mo>
              <mfrac>
                <msub>
                  <mi>K</mi>
                  <mi>VCO</mi>
                </msub>
                <mrow>
                  <mi>N</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>C</mi>
                    <mn>1</mn>
                  </msub>
                </mrow>
              </mfrac>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>5</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0062" num="0061">Comparing equation (5) with the standard second-order expression</p>
<p id="p-0063" num="0062">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <mi>H</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>s</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>=</mo>
          <mrow>
            <msub>
              <mi>A</mi>
              <mn>0</mn>
            </msub>
            <mo>·</mo>
            <mfrac>
              <mrow>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mrow>
                    <mi>ζ</mi>
                    <mo>·</mo>
                    <msub>
                      <mi>ω</mi>
                      <mi>n</mi>
                    </msub>
                    <mo>·</mo>
                    <mi>s</mi>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <msubsup>
                  <mi>ω</mi>
                  <mi>n</mi>
                  <mn>2</mn>
                </msubsup>
              </mrow>
              <mrow>
                <msup>
                  <mi>s</mi>
                  <mn>2</mn>
                </msup>
                <mo>+</mo>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mrow>
                    <mi>ζ</mi>
                    <mo>·</mo>
                    <msub>
                      <mi>ω</mi>
                      <mi>n</mi>
                    </msub>
                    <mo>·</mo>
                    <mi>s</mi>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <msubsup>
                  <mi>ω</mi>
                  <mi>n</mi>
                  <mn>2</mn>
                </msubsup>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
one may obtain:
</p>
<p id="p-0064" num="0063">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>n</mi>
        </msub>
        <mo>=</mo>
        <msqrt>
          <mrow>
            <mfrac>
              <msub>
                <mi>I</mi>
                <mi>cp</mi>
              </msub>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mi>π</mi>
              </mrow>
            </mfrac>
            <mo>·</mo>
            <mfrac>
              <msub>
                <mi>K</mi>
                <mi>VCO</mi>
              </msub>
              <mrow>
                <mi>N</mi>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
            </mfrac>
          </mrow>
        </msqrt>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>7</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>ζ</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
          <mo>⁢</mo>
          <mrow>
            <msqrt>
              <mrow>
                <mfrac>
                  <msub>
                    <mi>I</mi>
                    <mi>cp</mi>
                  </msub>
                  <mrow>
                    <mn>2</mn>
                    <mo>⁢</mo>
                    <mi>π</mi>
                  </mrow>
                </mfrac>
                <mo>·</mo>
                <mfrac>
                  <msub>
                    <mi>K</mi>
                    <mi>VCO</mi>
                  </msub>
                  <mi>N</mi>
                </mfrac>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
            </msqrt>
            <mo>·</mo>
            <msub>
              <mi>R</mi>
              <mi>lp</mi>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>8</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>A</mi>
          <mn>0</mn>
        </msub>
        <mo>=</mo>
        <mi>N</mi>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>9</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where ω<sub>n </sub>is the natural angular frequency, and δ is the damping factor. Equation (9) indicates that the low-frequency phase gain of the frequency-doubled PLL is the frequency-doubled factor N. Comparing formulas (7), (8), and (4), the following may be obtained:
</p>
<p id="p-0065" num="0064">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>b</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mn>2</mn>
          <mo>⁢</mo>
          <mrow>
            <mi>ζ</mi>
            <mo>·</mo>
            <msub>
              <mi>ω</mi>
              <mi>n</mi>
            </msub>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>10</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>ζ</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
          <mo>⁢</mo>
          <msqrt>
            <mrow>
              <msub>
                <mi>ω</mi>
                <mi>b</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>R</mi>
                <mi>lp</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>C</mi>
                <mn>1</mn>
              </msub>
            </mrow>
          </msqrt>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>11</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Corresponding transformations can be made among ω<sub>b</sub>, ω<sub>n </sub>and δ. If two of them are known, the third one can be deduced. From an analytical point of view, an analysis of two of the parameters is sufficient to know the characteristics of PLL.
</p>
<p id="p-0066" num="0065">Equation (1) indicates that a high-bandwidth PLL can use smaller capacitance than a low-bandwidth PLL to achieve the same damping. Moreover, a low-bandwidth PLL may be designed with a greater resistance to prevent the capacitance from being too large. When the bandwidth remains unchanged, large resistance means a greater phase noise. Therefore, the low-bandwidth PLL is a compromise between size, noise and performance.</p>
<p id="p-0067" num="0066">The open-loop gain is of significance to the stability of the negative feedback system. As for the PLL, first, it should meet the continuous-time approximation, i.e. the angular frequency ω<sub>b </sub>for the unit gain should not be more than 1/10 of the angular frequency of an input clock. Second, enough phase margin should be provided. In the transient process, the damping factor δ should be more than 0.5 to avoid excessive phase overshoot. There may be other requirements.</p>
<p id="p-0068" num="0067">The above discussion deals with the basic continuous-time approximation, which means the average response for several clock periods. The transient response of each phase discriminator cycle is illustrated in <figref idref="DRAWINGS">FIG. 3</figref>. When the phase discriminator asserts the “up” signal, Vc exhibits a corresponding response. When the charge current flows, Vc exhibits a positive jump relatively immediately, with the jump amplitude equal to I<sub>cp</sub>*R<sub>lp</sub>. Because the R<sub>lp</sub>C<sub>1 </sub>time constant is much greater than pulse width “t”, the subsequent response equals to charging capacitance C<sub>1 </sub>with constant current I<sub>cp</sub>, which means that the waveform is a substantially straight line with a slope of I<sub>cp</sub>/C<sub>1</sub>. When the charging period is over, Vc will substantially immediately generate a negative jump, with an amplitude equal to I<sub>cp</sub>*R<sub>lp</sub>. Then Vc will hold substantially constant until the next “up” or “dn” signal. It can be seen from the above analysis that the existence of resistance can cause Vc to generate I<sub>cp</sub>*R<sub>lp </sub>ripples. For frequency-doubled PLL, this ripple may make the output clock frequency uneven, which may cause jitter.</p>
<p id="p-0069" num="0068">In circuit realizations, second-order or even higher-order filters may be used to reduce Vc ripples. <figref idref="DRAWINGS">FIG. 4</figref> illustrates a model of a third-order PLL, adopting a second-order loop filter. There is a small capacitance in parallel connection with Vc, which may effectively reduce the height of ripples. During the charge period t, because time t is far less than time constant R<sub>lp</sub>C<sub>2</sub>, there is a less abrupt voltage jump, i.e., a rise at an approximate rate of I<sub>cp</sub>/C<sub>2</sub>. After the charge period is over, Vc discharges according to time constant R<sub>lp</sub>*C<sub>2</sub>, due to basically no charge being delivered into C<sub>1</sub>, as shown in <figref idref="DRAWINGS">FIG. 5</figref>. For stability, C<sub>2 </sub>should be far less than C<sub>1</sub>.</p>
<p id="p-0070" num="0069">With the small capacitance C<sub>2</sub>, the impedance of the low-pass filter may be written as:</p>
<p id="p-0071" num="0070">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>Z</mi>
            <mi>F</mi>
          </msub>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <mi>s</mi>
              <mo>·</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>C</mi>
                    <mn>1</mn>
                  </msub>
                  <mo>+</mo>
                  <msub>
                    <mi>C</mi>
                    <mn>2</mn>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <mrow>
              <mn>1</mn>
              <mo>+</mo>
              <mrow>
                <mi>s</mi>
                <mo>·</mo>
                <msub>
                  <mi>R</mi>
                  <mi>lp</mi>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
            </mrow>
            <mrow>
              <mn>1</mn>
              <mo>+</mo>
              <mrow>
                <mi>s</mi>
                <mo>·</mo>
                <msub>
                  <mi>R</mi>
                  <mi>lp</mi>
                </msub>
                <mo>·</mo>
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>C</mi>
                      <mn>1</mn>
                    </msub>
                    <mo>⁢</mo>
                    <msub>
                      <mi>C</mi>
                      <mn>2</mn>
                    </msub>
                  </mrow>
                  <mrow>
                    <msub>
                      <mi>C</mi>
                      <mn>1</mn>
                    </msub>
                    <mo>+</mo>
                    <msub>
                      <mi>C</mi>
                      <mn>2</mn>
                    </msub>
                  </mrow>
                </mfrac>
              </mrow>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>12</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Equation (12) shows that a pole is actually added to the loop impedance, which is determined by the product of R<sub>lp </sub>times the series connection of C<sub>1 </sub>and C<sub>2</sub>:
</p>
<p id="p-0072" num="0071">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>p</mi>
          <mn>3</mn>
        </msub>
        <mo>=</mo>
        <mrow>
          <mo>-</mo>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <msub>
                <mi>R</mi>
                <mi>lp</mi>
              </msub>
              <mo>·</mo>
              <mfrac>
                <mrow>
                  <msub>
                    <mi>C</mi>
                    <mn>1</mn>
                  </msub>
                  <mo>⁢</mo>
                  <msub>
                    <mi>C</mi>
                    <mn>2</mn>
                  </msub>
                </mrow>
                <mrow>
                  <msub>
                    <mi>C</mi>
                    <mn>1</mn>
                  </msub>
                  <mo>+</mo>
                  <msub>
                    <mi>C</mi>
                    <mn>2</mn>
                  </msub>
                </mrow>
              </mfrac>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>13</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Generally, the third pole may be several times greater than the bandwidth so that the phase margin is not very small. With the third pole, the closed-loop transfer function is more complicated:
</p>
<p id="p-0073" num="0072">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>H</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>Θ</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>Θ</mi>
              <mi>ref</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <mrow>
                <mfrac>
                  <msub>
                    <mi>I</mi>
                    <mi>cp</mi>
                  </msub>
                  <mrow>
                    <mn>2</mn>
                    <mo>⁢</mo>
                    <mi>π</mi>
                  </mrow>
                </mfrac>
                <mo>·</mo>
                <msub>
                  <mi>K</mi>
                  <mi>VCO</mi>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>R</mi>
                  <mi>lp</mi>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
                <mo>·</mo>
                <mi>s</mi>
              </mrow>
              <mo>+</mo>
              <mrow>
                <mfrac>
                  <msub>
                    <mi>I</mi>
                    <mi>cp</mi>
                  </msub>
                  <mrow>
                    <mn>2</mn>
                    <mo>⁢</mo>
                    <mi>π</mi>
                  </mrow>
                </mfrac>
                <mo>·</mo>
                <msub>
                  <mi>K</mi>
                  <mi>VCO</mi>
                </msub>
              </mrow>
            </mrow>
            <mtable>
              <mtr>
                <mtd>
                  <mrow>
                    <mrow>
                      <msub>
                        <mi>R</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mi>lp</mi>
                        </mrow>
                      </msub>
                      <mo>·</mo>
                      <msub>
                        <mi>C</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mn>1</mn>
                        </mrow>
                      </msub>
                      <mo>·</mo>
                      <msub>
                        <mi>C</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mn>2</mn>
                        </mrow>
                      </msub>
                      <mo>·</mo>
                      <msup>
                        <mi>s</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mn>3</mn>
                        </mrow>
                      </msup>
                    </mrow>
                    <mo>+</mo>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>C</mi>
                            <mrow>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <mn>1</mn>
                            </mrow>
                          </msub>
                          <mo>+</mo>
                          <msub>
                            <mi>C</mi>
                            <mrow>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <mn>2</mn>
                            </mrow>
                          </msub>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>·</mo>
                      <msup>
                        <mi>s</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mn>2</mn>
                        </mrow>
                      </msup>
                    </mrow>
                    <mo>+</mo>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <msub>
                            <mi>I</mi>
                            <mrow>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <mi>cp</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mrow>
                            <mn>2</mn>
                            <mo>⁢</mo>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mi>π</mi>
                          </mrow>
                        </mrow>
                      </mfrac>
                      <mo>·</mo>
                      <mfrac>
                        <mrow>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <msub>
                            <mi>K</mi>
                            <mrow>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <mi>VCO</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mi>N</mi>
                        </mrow>
                      </mfrac>
                      <mo>·</mo>
                      <msub>
                        <mi>R</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mi>lp</mi>
                        </mrow>
                      </msub>
                      <mo>·</mo>
                      <msub>
                        <mi>C</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mn>1</mn>
                        </mrow>
                      </msub>
                      <mo>·</mo>
                      <mi>s</mi>
                    </mrow>
                    <mo>+</mo>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <msub>
                            <mi>I</mi>
                            <mrow>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <mi>cp</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mrow>
                            <mn>2</mn>
                            <mo>⁢</mo>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mi>π</mi>
                          </mrow>
                        </mrow>
                      </mfrac>
                      <mo>·</mo>
                      <mfrac>
                        <mrow>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <msub>
                            <mi>K</mi>
                            <mrow>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <mi>VCO</mi>
                            </mrow>
                          </msub>
                        </mrow>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mi>N</mi>
                        </mrow>
                      </mfrac>
                    </mrow>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>14</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Compared with equation (5), the numerator remains unchanged, while the denominator has become a cubic polynomial. To determine where the pole will be located when the loop is closed, the cubic equation for the denominator may be solved. In fact, for different circuit design parameters, there will be various possible pole positions. From open-loop pole positions with feedbacks from different depths, different positions for closed-loop poles may be obtained.
</p>
<p id="p-0074" num="0073">A root locus diagram is an effective method to analyze the stability. As shown in <figref idref="DRAWINGS">FIG. 6</figref>, the zero-pole position at open loop is obtained from equation (3). At closed loop, with the zero remaining fixed, the two poles at the origin will separate and move around the zero. When they meet again on the real axis, they will be apart again, with one of them moving towards the zero, and the other moving in the opposite direction. The constant term of loop gain equation (1) determines the final positions of the poles.</p>
<p id="p-0075" num="0074"><figref idref="DRAWINGS">FIGS. 7 and 8</figref> show the corresponding zero-pole diagrams for different damping factors after the second-order PLL is closed. When the two poles moves to a position which has an angle of ±45° with respect to the origin, the relationship between the zero and the natural angular frequency is that the zero is equal to (−ω<sub>n</sub>/√{square root over (2)}), because the distance from the poles to the origin is the natural angular frequency. The real parts of the poles and the zero are equal, and the damping factor is 0.707. When the two poles meet again on the real axis, the zero is equal to (−ω<sub>n</sub>/2), and the damping factor is 1. When the poles are apart, the ratio of distances from them to the origin is the damping factor.</p>
<p id="p-0076" num="0075">A closed-loop-response Bode diagram can be worked out according to the closed-loop zero-pole diagram. If the pole moves to the arrow position on <figref idref="DRAWINGS">FIG. 8</figref>, the Bode diagram will be as that shown in <figref idref="DRAWINGS">FIG. 9</figref>. No matter how large the constant term of loop gain is, the zero is always in the front of the first pole after the loop is closed. Therefore, the maximum amplitude response will be greater than 0 dB. This phenomenon is called jitter peaking. If the damping factor δ is an independent variable, the waveform of second-order PLL jitter peaking may be as shown in <figref idref="DRAWINGS">FIG. 10</figref>. When the damping factor δ is very small (δ&lt;0.707), both the poles and the zero contribute to the jitter peaking. When the damping factor is more than 1, the distance between the zero and the first pole, after the loop is closed, determines how large the jitter peaking can be. To reduce the jitter peaking, a greater damping factor may be used. Here, the zero and the first point are close enough so as to be regarded as being equal. Thus the −3 dB bandwidth, after the loop is closed, is almost equal to the frequency of the second pole, i.e., the zero frequency multiplied by the damping factor.</p>
<p id="p-0077" num="0076">As for the third-order PLL, if the third pole is not far enough, the root-locus chart may appear as that in <figref idref="DRAWINGS">FIG. 11</figref>. In the chart, under the influence of the third pole, the circular motions of the first and the second poles are distorted. The second pole and the third pole meet each other on the real axis, then separate and become a pair of conjugate poles. The line between the pair of conjugate poles forms an angle of 90° with the real axis. If the loop gain is great enough, this pair of conjugate poles can also produce the peaking in Bode plots. By designing the third pole to be far away, this kind of situation may be avoided.</p>
<p id="p-0078" num="0077">In systems susceptive to jitter peaking, a greater damping factor may be desirable. Equation (11) indicates that a large damping factor can be realized with high bandwidth, large resistance or large capacitance. In real applications, there may be specific requirements on the bandwidth. If the bandwidth is not high, either resistance or the capacitance may be made large. A potential problem with using a large resistance is noise, and a potential problem with using a large capacitance is chip area. Ways to avoid such problems have been developed. A structure for a PLL for clock data recovery is described in T. H. Lee and J. F. Bulzacchelli, “A 155-MHz clock recovery delay- and phase-locked loop,” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 27, pp. 1736-1746, December 1992, which makes a closed loop transfer function of a PLL present all-pole characteristics, which may significantly reduce jitter peaking. A common approach is to enlarge the loop equivalent resistance without increasing the noise correspondingly. A dual path realization of a loop zero is described in J. Craninckx and M. Steyaert, “A fully integrated CMOS DCS-1800 frequency synthesizer,” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 33, pp. 2054-2065, December 1998. In similar noise performance situations, the equivalent resistance can be greater, reducing the capacitance (or the realization of less noise than common practice when capacitance remains the same). A similar sampling—reset technique for a PLL is proposed in A. Maxim, B. Scott, E. M. Schneider, M. L. Hage, S. Chacko, and D. Stiurca, “A low-jitter 125-1250-MHz process-independent and ripple-poleless 0.180-um CMOS PLL based on a sample-Reset loop filter,” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 36, pp. 1673-1683, November 2001. According to this technique the loop resistance is replaced with a switched capacitor, which may reduce ripple produced by the resistance and reduce requirements on the high stage poles.</p>
<p id="p-0079" num="0078">Advantages of replacing the loop resistance with a switched capacitor may be explained with reference to <figref idref="DRAWINGS">FIG. 3</figref>. Changes in the mean value of Vc in a phase detector cycle T<sub>REF </sub>include a resistance effect [ΔV<sub>RES</sub>] and a capacitance effect [ΔV<sub>CAP</sub>]. Referring to <figref idref="DRAWINGS">FIG. 3</figref>, by averaging the ripple area produced by the resistance on the entire cycle T<sub>REF</sub>, the mean value [ <o ostyle="single">ΔV<sub>RES</sub></o>] may be determined:</p>
<p id="p-0080" num="0079">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mover>
          <mrow>
            <mi>Δ</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <msub>
              <mi>V</mi>
              <mi>RES</mi>
            </msub>
          </mrow>
          <mi>_</mi>
        </mover>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>I</mi>
              <mi>cp</mi>
            </msub>
            <mo>·</mo>
            <msub>
              <mi>R</mi>
              <mi>lp</mi>
            </msub>
            <mo>·</mo>
            <mi>t</mi>
          </mrow>
          <msub>
            <mi>T</mi>
            <mi>REF</mi>
          </msub>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>15</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The mean value of the capacitance effect [ <o ostyle="single">ΔV<sub>CAP</sub></o>] can be obtained in a similar manner:
</p>
<p id="p-0081" num="0080">
<maths id="MATH-US-00013" num="00013">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mover>
          <mrow>
            <mi>Δ</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <msub>
              <mi>V</mi>
              <mi>CAP</mi>
            </msub>
          </mrow>
          <mi>_</mi>
        </mover>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mfrac>
                <mrow>
                  <msub>
                    <mi>I</mi>
                    <mi>cp</mi>
                  </msub>
                  <mo>·</mo>
                  <mi>t</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>T</mi>
                    <mi>REF</mi>
                  </msub>
                </mrow>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mfrac>
              <mo>-</mo>
              <mrow>
                <mfrac>
                  <mn>1</mn>
                  <mn>2</mn>
                </mfrac>
                <mo>·</mo>
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>I</mi>
                      <mi>cp</mi>
                    </msub>
                    <mo>·</mo>
                    <msup>
                      <mi>t</mi>
                      <mn>2</mn>
                    </msup>
                  </mrow>
                  <msub>
                    <mi>C</mi>
                    <mn>1</mn>
                  </msub>
                </mfrac>
              </mrow>
            </mrow>
            <msub>
              <mi>T</mi>
              <mi>REF</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <mrow>
                <msub>
                  <mi>I</mi>
                  <mi>cp</mi>
                </msub>
                <mo>·</mo>
                <mi>t</mi>
              </mrow>
              <msub>
                <mi>C</mi>
                <mn>1</mn>
              </msub>
            </mfrac>
            <mo>-</mo>
            <mrow>
              <mfrac>
                <mn>1</mn>
                <mn>2</mn>
              </mfrac>
              <mo>·</mo>
              <mfrac>
                <mrow>
                  <msub>
                    <mi>I</mi>
                    <mi>cp</mi>
                  </msub>
                  <mo>·</mo>
                  <msup>
                    <mi>t</mi>
                    <mn>2</mn>
                  </msup>
                </mrow>
                <mrow>
                  <msub>
                    <mi>T</mi>
                    <mi>REF</mi>
                  </msub>
                  <mo>·</mo>
                  <msub>
                    <mi>C</mi>
                    <mn>1</mn>
                  </msub>
                </mrow>
              </mfrac>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>16</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0082" num="0081">When the PLL is locked, the pulse width of the signals up and dn is very small, i.e., the pulse width t may be far smaller than phase detector cycle T<sub>REF</sub>. The resistance and the capacitance effects can be considered as sampling. Referring to <figref idref="DRAWINGS">FIGS. 12-14</figref>, sampling appears in the frequency domain as repeating in the sampling frequency n harmonic (<figref idref="DRAWINGS">FIG. 13</figref>), while sample-and-hold also has a zero-order hold effect, namely the frequency spectrum (<figref idref="DRAWINGS">FIG. 13</figref>) multiplied by</p>
<p id="p-0083" num="0082">
<maths id="MATH-US-00014" num="00014">
<math overflow="scroll">
<mrow>
  <mo>[</mo>
  <mrow>
    <mrow>
      <mi>sin</mi>
      <mo>⁡</mo>
      <mrow>
        <mo>(</mo>
        <mfrac>
          <mrow>
            <mi>π</mi>
            <mo>·</mo>
            <mi>f</mi>
          </mrow>
          <msub>
            <mi>f</mi>
            <mi>s</mi>
          </msub>
        </mfrac>
        <mo>)</mo>
      </mrow>
    </mrow>
    <mo>/</mo>
    <mfrac>
      <mrow>
        <mi>π</mi>
        <mo>·</mo>
        <mi>f</mi>
      </mrow>
      <msub>
        <mi>f</mi>
        <mi>s</mi>
      </msub>
    </mfrac>
  </mrow>
  <mo>]</mo>
</mrow>
</math>
</maths>
<br/>
(<figref idref="DRAWINGS">FIG. 14</figref>).
</p>
<p id="p-0084" num="0083">The resistance sampling effect and the capacitance sampling—maintenance effect work at the same time, leading to a question as to which one is dominant. Comparing their mean value, the zero is smaller than the bandwidth, while the bandwidth is far smaller than the operating frequency, namely</p>
<p id="p-0085" num="0084">
<maths id="MATH-US-00015" num="00015">
<math overflow="scroll">
<mrow>
  <mrow>
    <mo>[</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <mn>2</mn>
          <mo>⁢</mo>
          <mrow>
            <mi>π</mi>
            <mo>·</mo>
            <msub>
              <mi>R</mi>
              <mi>lp</mi>
            </msub>
          </mrow>
          <mo>⁢</mo>
          <msub>
            <mi>C</mi>
            <mn>1</mn>
          </msub>
        </mrow>
      </mfrac>
      <mo>&lt;</mo>
      <msub>
        <mi>f</mi>
        <mi>b</mi>
      </msub>
      <mo>⪡</mo>
      <mfrac>
        <mn>1</mn>
        <msub>
          <mi>T</mi>
          <mi>REF</mi>
        </msub>
      </mfrac>
    </mrow>
    <mo>]</mo>
  </mrow>
  <mo>.</mo>
  <mstyle>
    <mspace width="1.1em" height="1.1ex"/>
  </mstyle>
  <mo>⁢</mo>
  <mrow>
    <mi>Then</mi>
    <mo>⁢</mo>
    <mstyle>
      <mspace width="0.8em" height="0.8ex"/>
    </mstyle>
    <mo>[</mo>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <mrow>
          <msub>
            <mi>R</mi>
            <mi>lp</mi>
          </msub>
          <mo>⁢</mo>
          <msub>
            <mi>C</mi>
            <mn>1</mn>
          </msub>
        </mrow>
      </mfrac>
      <mo>⪡</mo>
      <mfrac>
        <mn>1</mn>
        <msub>
          <mi>T</mi>
          <mi>REF</mi>
        </msub>
      </mfrac>
    </mrow>
    <mo>]</mo>
  </mrow>
  <mo>.</mo>
</mrow>
</math>
</maths>
<br/>
Putting these into equations (15) and (16) yields:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?> <o ostyle="single">Δ<i>V</i><sub>RES</sub></o>&gt;&gt; <o ostyle="single">Δ<i>V</i><sub>CAP</sub></o>  (17)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
In this case, the resistance sampling effect is the dominant part of the Vc change. Therefore, if the resistance sampling effect also has the zero-order hold effect, it may be helpful in reducing the high frequency stray spectrum, and in reducing jitter.
</p>
<p id="p-0086" num="0085">A conventional sampling—reset PLL is shown in <figref idref="DRAWINGS">FIG. 15</figref>. The resistance (switched capacitor C<sub>R</sub>) and capacitance C<sub>1 </sub>run in different routes. After transforming to the electric current, they are added together to control the current controlled oscillator (ICO). The equivalent loop resistance is the function of the phase detecting frequency and the capacitance:</p>
<p id="p-0087" num="0086">
<maths id="MATH-US-00016" num="00016">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>R</mi>
          <mi>equ</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <msub>
                <mi>f</mi>
                <mi>REF</mi>
              </msub>
              <mo>⁢</mo>
              <msub>
                <mi>C</mi>
                <mi>R</mi>
              </msub>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mrow>
                <mi>CP</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mn>1</mn>
              </mrow>
            </msub>
            <msub>
              <mi>I</mi>
              <mrow>
                <mi>CP</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mn>2</mn>
              </mrow>
            </msub>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>G</mi>
              <mrow>
                <mi>m</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mn>1</mn>
              </mrow>
            </msub>
            <msub>
              <mi>G</mi>
              <mrow>
                <mi>m</mi>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mn>2</mn>
              </mrow>
            </msub>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>18</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0088" num="0087">This equivalence can be obtained by making the mean values in a cycle equal to each other. Running two routes increase the freedom of design. The electric current in the two charges pump and the gain G<sub>m </sub>of the voltage to the current can all be different. Make the I<sub>CP1 </sub>greater, the capacitance becomes greater, which can reduce the equivalent noise kT/C<sub>R </sub>of C<sub>R</sub>. In fact, a real circuit typically cannot achieve the ideal reset. It only means I<sub>R </sub>has a DC component all the time. This DC component may be designed to be small enough because it reduces the tuning range of the current controlled oscillator (ICO), and it increases the variation of the gain K<sub>ico</sub>. Equation (18) may grant the designer freedom to make the loop resistance large, so that the peaking in the closed loop transfer function can be reduced. But, a potential problem with the circuit of <figref idref="DRAWINGS">FIG. 15</figref> is that there may not be enough time for reset.</p>
<p id="p-0089" num="0088"><figref idref="DRAWINGS">FIG. 16</figref> illustrates a modification, using two sets of switched capacitors to equal the loop resistance, described in A. Maxim, B. Scott, E. M. Schneider, M. L. Hage, S. Chacko, and D. Stiurca, “A low-jitter 125-1250-MHz process-independent and ripple-poleless 0.180-um CMOS PLL based on a sample-Reset loop filter,” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 36, pp. 1673-1683, November 2001. The two sets of switched capacitors work in turns. While one set is charging and discharging, the other set sends the result of last discharge to the next stage. The reset time equals to an entire operating cycle. Other solutions are described in John G. Maneatis, Jaeha Kim, lain McClatchie, Jay Maxey and Manjusha Shankaradas, “Self-Biased High-Bandwidth Low-Jitter 1-to-4096 Multiplier Clock Generator PLL,” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 38, pp. 1797-1803, November 2003.</p>
<p id="p-0090" num="0089">An ideal clock has a frequency of f<sub>0 </sub>and a cycle of T<sub>0</sub>(T<sub>0</sub>=1/f<sub>0</sub>): at the time of 0 there is a rising edge, and there is a rising edge again at the time T<sub>0</sub>. Again there are rising edges at the time 2T<sub>0</sub>, 3T<sub>0 </sub>. . . as is shown in <figref idref="DRAWINGS">FIG. 17(</figref><i>a</i>). There is another same-frequency clock with jitter. Its closest rising edges appear in the time of t<sub>1</sub>, t<sub>2</sub>, t<sub>3</sub>, t<sub>4</sub>, t<sub>5 </sub>as showed in <figref idref="DRAWINGS">FIG. 17(</figref><i>b</i>). Then, the jitter, also known as the error between rising edge and the ideal clock, are respectively t<sub>1</sub>, t<sub>2</sub>—T<sub>0</sub>, t<sub>3</sub>—2T<sub>0</sub>, t<sub>4</sub>—3T<sub>0</sub>, t<sub>5</sub>—4T<sub>0</sub>. <figref idref="DRAWINGS">FIG. 17(</figref><i>c</i>) shows the result by pulse width. In the figure, lagging behind the phase of the ideal clock is defined as negative, while leading is defined as positive. Usually, jitter is far smaller than the clock cycle T<sub>0</sub>, namely, the jitter pulse width is small such that the pulse width can be regarded as the impulse function. The height of each impulse equals to the pulse width, and lies at the corresponding time, as illustrated in <figref idref="DRAWINGS">FIG. 17(</figref><i>d</i>). In this way, a non-uniform sampled jitter is produced, which is hard to analyze. The sampling time can be approximately moved to the integral multiple cycle to thereby obtain the jitter sequence of the uniform sampled by the frequency of f<sub>0 </sub>as showed in <figref idref="DRAWINGS">FIG. 17(</figref><i>e</i>). This jitter is known as the phase jitter. It is also known as time interval error (TIE), tracking jitter, absolute jitter, and long term jitter.</p>
<p id="p-0091" num="0090">Phase jitter may be expressed as follows:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>t</i><sub>phase−jitter</sub><i>=t</i><sub>n</sub><i>−nT</i><sub>0</sub>  (19)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The relationship of the phase and the time may be expressed as follows:
</p>
<p id="p-0092" num="0091">
<maths id="MATH-US-00017" num="00017">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>Θ</mi>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mi>ω</mi>
              <mo>·</mo>
              <mi>t</mi>
            </mrow>
            <mo>=</mo>
            <mrow>
              <mfrac>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mi>π</mi>
                </mrow>
                <msub>
                  <mi>T</mi>
                  <mn>0</mn>
                </msub>
              </mfrac>
              <mo>·</mo>
              <mi>t</mi>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>20</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
i.e., time T<sub>0 </sub>corresponds with phase 2π, and the time 2T<sub>0 </sub>corresponds with phase 4π, while the time 3T<sub>0 </sub>corresponds with phase 6π. Thus, the phase noise and the phase jitter may be related to each other in the following way:
</p>
<p id="p-0093" num="0092">
<maths id="MATH-US-00018" num="00018">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>Θ</mi>
          <mi>n</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mn>2</mn>
          <mo>⁢</mo>
          <mrow>
            <mi>π</mi>
            <mo>·</mo>
            <mfrac>
              <msub>
                <mi>t</mi>
                <mrow>
                  <mi>phase</mi>
                  <mo>-</mo>
                  <mi>jitter</mi>
                </mrow>
              </msub>
              <msub>
                <mi>T</mi>
                <mn>0</mn>
              </msub>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>21</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0094" num="0093">The phase jitter shown in <figref idref="DRAWINGS">FIG. 17(</figref><i>e</i>) may also stand for the phase noise, with a gain of 2π/T<sub>0</sub>.</p>
<p id="p-0095" num="0094">A same-frequency ideal clock may be used to determine clock jitter. This ideal clock usually approximates from the clock to be analyzed in practical applications. A least squares method may be used to determine [Θ(t)=ω·t+Θ<sub>0</sub>]. The ω in the formula is the average frequency of the clock and the Λ<sub>0 </sub>is the initial phase. Each time when the clock to be analyzed rises, it is 2 nπ to the phase and distributes near the straight line shown in <figref idref="DRAWINGS">FIG. 18</figref>.</p>
<p id="p-0096" num="0095">Jitter may also be calculated without an ideal clock. If the position of each rising edge is known, the instantaneous cycle T (t) may be determined. How much the instantaneous cycle deviates from the ideal cycle also indicates the jitter. This may be referred to as period jitter or cycle jitter:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>1</sub><i>=t</i><sub>1</sub><i>−t</i><sub>0</sub><i>, T</i><sub>2</sub><i>=t</i><sub>2</sub><i>−t</i><sub>1</sub><i>, T</i><sub>3</sub><i>=t</i><sub>3</sub><i>−t</i><sub>2</sub>,  (22)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
If the ideal cycle is T<sub>0</sub>, then the period jitter or cycle jitter is:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>t</i><sub>period−jitter</sub><i>=T</i><sub>n</sub><i>−T</i><sub>0</sub>  (23)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Combining the instantaneous cycle equation (23) yields:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>1</sub><i>−T</i><sub>0</sub><i>=t</i><sub>1</sub><i>−t</i><sub>0</sub><i>−T</i><sub>0</sub>=(<i>t</i><sub>1</sub><i>−T</i><sub>0</sub>)−<i>t</i><sub>0</sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>2</sub><i>−T</i><sub>0</sub><i>=t</i><sub>2</sub><i>−t</i><sub>1</sub><i>−T</i><sub>0</sub>=(<i>t</i><sub>2</sub>−2<i>T</i><sub>0</sub>)−(<i>t</i><sub>1</sub><i>−T</i><sub>0</sub>)   (24)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>T</i><sub>3</sub><i>−T</i><sub>0</sub><i>=t</i><sub>3</sub><i>−t</i><sub>2</sub><i>−T</i><sub>0</sub>=(<i>t</i><sub>3</sub>−3<i>T</i><sub>0</sub>)−(<i>t</i><sub>2</sub>−2<i>T</i><sub>0</sub>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0097" num="0096">This may be generalized to:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>t</i><sub>period−jitter</sub><sub><sub2>n</sub2></sub><i>=t</i><sub>phase−jitter</sub><sub><sub2>n</sub2></sub><i>−t</i><sub>phase−jitter</sub><sub><sub2>n−1</sub2></sub>  (25)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0098" num="0097">The period jitter or cycle jitter is the differential of phase jitter. Accordingly, we can infer that the phase jitter is the integral of the period jitter or cycle jitter. Because it is the integral, it may lack a constant term, which is the initial phase of the clock. This does not affect each frequency component of the jitter, but may influence the root-mean-square (rms) value. So, usually after integration, the mean value may be subtracted from each sample to eliminate the influence of the initial phase.</p>
<p id="p-0099" num="0098">Another jitter is cycle-to-cycle jitter, i.e., the changes of neighboring cycles. The cycle-to-cycle jitter may be expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>t</i><sub>c2c−jitter</sub><i>=T</i><sub>n+1</sub><i>−T</i><sub>n</sub>  (26)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The cycle-to-cycle jitter is the differential of cycle jitter, while the cycle jitter is the integral of cycle-to-cycle jitter.
</p>
<p id="p-0100" num="0099">The relationships among the three kinds of different jitter may be extremely important. If the sampling frequency changes, it should be normalized to the sampling frequency to carry on the calculations of integrals and differentials. In the frequency domain, the integrals are low-pass, while the differentials are high-pass. Compared with the phase jitter, there are two differentials in the cycle-to-cycle jitter, which means a enlarged high frequency component and suppressed low frequency component. So, the cycle-to-cycle jitter is generally sensitive to high frequency noise. Low-frequency noise may cause large phase jitter, while hardly affecting the cycle to the cycle jitter. This may be understood by contrast to a sampling system. When sampling a low-frequency signal, if the sampling rate is very high (i.e., the ratio of the sampling frequency to the signal frequency is very large), the differences between every two samplings may be very small.</p>
<p id="p-0101" num="0100">Some assign phase jitter to the time domain and phase noise to the frequency domain because the clock jitter is often expressed in terms of unit interval (UI), while the phase noise often uses the unit of dBc. However, clock jitter and phase noise may both be viewed as sampling sequences in the time domain. Carrying out a discrete Fourier transform (DFT) on them, frequency domain expressions may be obtained.</p>
<p id="p-0102" num="0101">Because a square-wave signal generally contains rich spectral content, a sine wave [A sin [ω<sub>c</sub>·t+b cos(ω<sub>m</sub>·t)]] with single frequency phase noise will be considered. It is a phase modulation wave. A is the sine wave magnitude. ω<sub>c </sub>is the carrier wave frequency, while b and ω<sub>m </sub>are respectively the modulation signal (namely phase noise) magnitude and frequency. Assuming b is far smaller than 2π (a narrow-band approximation), the calculation according to the triangle formula yields:</p>
<p id="p-0103" num="0102">
<maths id="MATH-US-00019" num="00019">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mi>A</mi>
                <mo>·</mo>
                <mrow>
                  <mi>sin</mi>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mi>c</mi>
                        </msub>
                        <mo>·</mo>
                        <mi>t</mi>
                      </mrow>
                      <mo>+</mo>
                      <mrow>
                        <mi>b</mi>
                        <mo>·</mo>
                        <mrow>
                          <mi>cos</mi>
                          <mo>⁡</mo>
                          <mrow>
                            <mo>(</mo>
                            <mrow>
                              <msub>
                                <mi>ω</mi>
                                <mi>m</mi>
                              </msub>
                              <mo>·</mo>
                              <mi>t</mi>
                            </mrow>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>=</mo>
              <mi/>
              <mo>⁢</mo>
              <mrow>
                <mrow>
                  <mi>A</mi>
                  <mo>·</mo>
                  <mrow>
                    <mi>sin</mi>
                    <mo>⁡</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mi>c</mi>
                        </msub>
                        <mo>·</mo>
                        <mi>t</mi>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                  <mo>·</mo>
                  <mrow>
                    <mi>cos</mi>
                    <mo>⁡</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mi>b</mi>
                        <mo>·</mo>
                        <mrow>
                          <mi>cos</mi>
                          <mo>⁡</mo>
                          <mrow>
                            <mo>(</mo>
                            <mrow>
                              <msub>
                                <mi>ω</mi>
                                <mi>m</mi>
                              </msub>
                              <mo>·</mo>
                              <mi>t</mi>
                            </mrow>
                            <mo>)</mo>
                          </mrow>
                        </mrow>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
                <mo>+</mo>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mi/>
              <mo>⁢</mo>
              <mrow>
                <mi>A</mi>
                <mo>·</mo>
                <mrow>
                  <mi>cos</mi>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>ω</mi>
                        <mi>c</mi>
                      </msub>
                      <mo>·</mo>
                      <mi>t</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>·</mo>
                <mrow>
                  <mi>sin</mi>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>b</mi>
                      <mo>·</mo>
                      <mrow>
                        <mi>cos</mi>
                        <mo>⁡</mo>
                        <mrow>
                          <mo>(</mo>
                          <mrow>
                            <msub>
                              <mi>ω</mi>
                              <mi>m</mi>
                            </msub>
                            <mo>·</mo>
                            <mi>t</mi>
                          </mrow>
                          <mo>)</mo>
                        </mrow>
                      </mrow>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>≈</mo>
              <mi/>
              <mo>⁢</mo>
              <mrow>
                <mrow>
                  <mrow>
                    <mi>A</mi>
                    <mo>·</mo>
                    <mi>sin</mi>
                  </mrow>
                  <mo>⁢</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>ω</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mi>c</mi>
                        </mrow>
                      </msub>
                      <mo>·</mo>
                      <mi>t</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mrow>
                    <mi>A</mi>
                    <mo>·</mo>
                    <mi>cos</mi>
                  </mrow>
                  <mo>⁢</mo>
                  <mrow>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mrow>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mi>c</mi>
                          </mrow>
                        </msub>
                        <mo>·</mo>
                        <mi>t</mi>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mo>·</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mi/>
              <mo>⁢</mo>
              <mrow>
                <mi>b</mi>
                <mo>·</mo>
                <mrow>
                  <mi>cos</mi>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>ω</mi>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mi>m</mi>
                        </mrow>
                      </msub>
                      <mo>·</mo>
                      <mi>t</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mi/>
              <mo>⁢</mo>
              <mrow>
                <mrow>
                  <mi>A</mi>
                  <mo>·</mo>
                  <mrow>
                    <mi>sin</mi>
                    <mo>⁡</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mi>c</mi>
                        </msub>
                        <mo>·</mo>
                        <mi>t</mi>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <mrow>
                  <mfrac>
                    <mn>1</mn>
                    <mn>2</mn>
                  </mfrac>
                  <mo>·</mo>
                  <mi>A</mi>
                  <mo>·</mo>
                  <mi>b</mi>
                  <mo>·</mo>
                  <mrow>
                    <mi>cos</mi>
                    <mo>⁡</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <msub>
                          <mi>ω</mi>
                          <mi>c</mi>
                        </msub>
                        <mo>-</mo>
                        <msub>
                          <mi>ω</mi>
                          <mi>m</mi>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mi/>
              <mo>⁢</mo>
              <mrow>
                <mi>t</mi>
                <mo>+</mo>
                <mrow>
                  <mrow>
                    <mfrac>
                      <mn>1</mn>
                      <mn>2</mn>
                    </mfrac>
                    <mo>·</mo>
                    <mi>A</mi>
                    <mo>·</mo>
                    <mi>b</mi>
                    <mo>·</mo>
                    <mrow>
                      <mi>cos</mi>
                      <mo>⁡</mo>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msub>
                            <mi>ω</mi>
                            <mi>c</mi>
                          </msub>
                          <mo>+</mo>
                          <msub>
                            <mi>ω</mi>
                            <mi>m</mi>
                          </msub>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                  <mo>⁢</mo>
                  <mi>t</mi>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>27</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0104" num="0103">Calculating according to the narrow-band approximation, the power spectrum of a single frequency phase modulation vibration wave contains a carrier wave band at ω<sub>c </sub>and two side bands located in both sides of the carrier wave at respective distances equal to the modulation frequency ω<sub>m</sub>, as shown in <figref idref="DRAWINGS">FIG. 19</figref>. dBc is the ratio of noise showed in the form of decibel to carrier wave power. In the narrow-band approximation, it is 10 log(b<sup>2</sup>/4). As a rule, narrow-band approximation can describe the phase noise of oscillator or PLL precisely. But in certain applications, if the coefficient of modulation is very large such as the spread-spectrum clock or frequency modulation (FM), a Bessel function of the first kind may be used to determine the energy of each spectral component.</p>
<p id="p-0105" num="0104"><figref idref="DRAWINGS">FIG. 20</figref> shows a noise model of a second-order charge pump PLL. θ<sub>n−ref </sub>represents jitter of the input clock. The current supply of the charge pump contains i<sub>n−cp </sub>noise current, with the loop filter resistance noise shown as V<sub>n−if</sub>. The VCO output superimposes the phase noise θ<sub>n−VCO</sub>. Since the frequency divider's input and output are all digital signals and the electrical level change is extremely steep, the noise voltage falls in the steep border and the jitter introduced may be neglected. In this way, the PLL is modeled by the noise source and noiseless modules.</p>
<p id="p-0106" num="0105">Combining with the loop equation described in equation (1), a transfer function of each noise source to output phase may be obtained:</p>
<p id="p-0107" num="0106">
<maths id="MATH-US-00020" num="00020">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mrow>
            <mi>H</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>s</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>in</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>Θ</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>Θ</mi>
              <mi>n_ref</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mi>N</mi>
            <mo>·</mo>
            <mfrac>
              <mrow>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mrow>
                    <mi>ζ</mi>
                    <mo>·</mo>
                    <msub>
                      <mi>ω</mi>
                      <mi>n</mi>
                    </msub>
                    <mo>·</mo>
                    <mi>s</mi>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <msubsup>
                  <mi>ω</mi>
                  <mi>n</mi>
                  <mn>2</mn>
                </msubsup>
              </mrow>
              <mrow>
                <msup>
                  <mi>s</mi>
                  <mn>2</mn>
                </msup>
                <mo>+</mo>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mrow>
                    <mi>ζ</mi>
                    <mo>·</mo>
                    <msub>
                      <mi>ω</mi>
                      <mi>n</mi>
                    </msub>
                    <mo>·</mo>
                    <mi>s</mi>
                  </mrow>
                </mrow>
                <mo>+</mo>
                <msubsup>
                  <mi>ω</mi>
                  <mi>n</mi>
                  <mn>2</mn>
                </msubsup>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>28</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mrow>
            <mi>H</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>s</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>cp</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>Θ</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>i</mi>
              <mi>n_cp</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <mfrac>
                <mrow>
                  <mn>1</mn>
                  <mo>+</mo>
                  <mrow>
                    <mi>s</mi>
                    <mo>·</mo>
                    <msub>
                      <mi>C</mi>
                      <mn>1</mn>
                    </msub>
                    <mo>·</mo>
                    <msub>
                      <mi>R</mi>
                      <mi>lp</mi>
                    </msub>
                  </mrow>
                </mrow>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mfrac>
              <mo>·</mo>
              <msub>
                <mi>K</mi>
                <mi>VCO</mi>
              </msub>
            </mrow>
            <mrow>
              <msup>
                <mi>s</mi>
                <mn>2</mn>
              </msup>
              <mo>+</mo>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mrow>
                  <mi>ζ</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>ω</mi>
                    <mi>n</mi>
                  </msub>
                  <mo>·</mo>
                  <mi>s</mi>
                </mrow>
              </mrow>
              <mo>+</mo>
              <msubsup>
                <mi>ω</mi>
                <mi>n</mi>
                <mn>2</mn>
              </msubsup>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>29</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mrow>
            <mi>H</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>s</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>lf</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>Θ</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>v</mi>
              <mi>n_lf</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <msub>
                <mi>K</mi>
                <mi>VCO</mi>
              </msub>
              <mo>·</mo>
              <mi>s</mi>
            </mrow>
            <mrow>
              <msup>
                <mi>s</mi>
                <mn>2</mn>
              </msup>
              <mo>+</mo>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mrow>
                  <mi>ζ</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>ω</mi>
                    <mi>n</mi>
                  </msub>
                  <mo>·</mo>
                  <mi>s</mi>
                </mrow>
              </mrow>
              <mo>+</mo>
              <msubsup>
                <mi>ω</mi>
                <mi>n</mi>
                <mn>2</mn>
              </msubsup>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>30</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mrow>
            <mi>H</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>s</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mi>VCO</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>Θ</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>Θ</mi>
              <mi>n_VCO</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mfrac>
            <msup>
              <mi>s</mi>
              <mn>2</mn>
            </msup>
            <mrow>
              <msup>
                <mi>s</mi>
                <mn>2</mn>
              </msup>
              <mo>+</mo>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mrow>
                  <mi>ζ</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>ω</mi>
                    <mi>n</mi>
                  </msub>
                  <mo>·</mo>
                  <mi>s</mi>
                </mrow>
              </mrow>
              <mo>+</mo>
              <msubsup>
                <mi>ω</mi>
                <mi>n</mi>
                <mn>2</mn>
              </msubsup>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>31</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
It may be inferred from these equations that jitter of input clock and current source noise to output are both low-pass responses. Their low frequency gains are respectively N and N/(I<sub>cp</sub>/2π). Their low frequency gains are different because they are provided from different places and there is a gain stage (I<sub>cp</sub>/2π) difference. The filter noise to the output is band-pass response, while the noise superimposed after VCO is high-pass response.
</p>
<p id="p-0108" num="0107">As for the jitter of the input clock, the PLL appears as low pass with peaking, which can filter out the high frequency jitter of the input clock. With the jittery input clock, like in a clock data recovery circuit, there may be relatively low requirements on the bandwidth of the PLL. In frequency synthesizer applications, it may be assumed that the jitter of the input clock is small. For example, taking a crystal oscillator as the reference clock, the bandwidth should be quite high to suppress the jitter of PLL itself. An exception is the Σ-Δ fraction-N frequency synthesizer. The loop filter is to filter out the quantization noise s produced by [Σ-Δ] modulation and the spurious tones. In such a case, the bandwidth should not be made high.</p>
<p id="p-0109" num="0108">To understand the PLL low frequency gain N to the input jitter, assume a low-frequency single frequency modulation jitter, the size of which is J seconds. To illustrate the effect of a frequency-multiplying PLL, it may be first converted into phase noise:</p>
<p id="p-0110" num="0109">
<maths id="MATH-US-00021" num="00021">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>Θ</mi>
          <mi>n_ref</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mi>J</mi>
              <msub>
                <mi>T</mi>
                <mi>REF</mi>
              </msub>
            </mfrac>
            <mo>·</mo>
            <mn>2</mn>
          </mrow>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>π</mi>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>32</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Very low-frequency single frequency modulation allows considering only the PLL low frequency gain N and an ignoring the jitter peaking, such that:
</p>
<p id="p-0111" num="0110">
<maths id="MATH-US-00022" num="00022">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>Θ</mi>
          <mi>out</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mi>J</mi>
              <msub>
                <mi>T</mi>
                <mi>REF</mi>
              </msub>
            </mfrac>
            <mo>·</mo>
            <mn>2</mn>
          </mrow>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mrow>
            <mi>π</mi>
            <mo>·</mo>
            <mi>N</mi>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>33</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Converting the output phase noise into jitter applying the formula T<sub>REF</sub>=N*T<sub>out</sub>:
</p>
<p id="p-0112" num="0111">
<maths id="MATH-US-00023" num="00023">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>jitter</mi>
          <mi>out</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mfrac>
              <msub>
                <mi>Θ</mi>
                <mi>out</mi>
              </msub>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mi>π</mi>
              </mrow>
            </mfrac>
            <mo>·</mo>
            <msub>
              <mi>T</mi>
              <mi>out</mi>
            </msub>
          </mrow>
          <mo>=</mo>
          <mi>J</mi>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>34</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0113" num="0112">Although the phase noise is magnified N times, if the units are seconds, the output jitter is substantially the same as the input jitter. The result is reasonable, that is the time error will not be magnified. In other words, the phase noise is enlarged N times with the same time error in terms of output frequency. <figref idref="DRAWINGS">FIG. 21</figref> shows an example of input and output jitter in 4-frequency multiplication. In fact, the frequency-multiplying PLL equals to having done the up sampling effect.</p>
<p id="p-0114" num="0113">As for the noise of the loop filter, to determine the band-pass response scope peak value of equation (30), s may be replaced with jω to obtain:</p>
<p id="p-0115" num="0114">
<maths id="MATH-US-00024" num="00024">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mi>Mag</mi>
              <mo>=</mo>
              <mrow>
                <mo></mo>
                <mfrac>
                  <mrow>
                    <mrow>
                      <msub>
                        <mi>K</mi>
                        <mi>VCO</mi>
                      </msub>
                      <mo>·</mo>
                      <mi>j</mi>
                    </mrow>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mi>ω</mi>
                  </mrow>
                  <mrow>
                    <mrow>
                      <mo>-</mo>
                      <msup>
                        <mi>ω</mi>
                        <mn>2</mn>
                      </msup>
                    </mrow>
                    <mo>+</mo>
                    <mrow>
                      <mrow>
                        <mn>2</mn>
                        <mo>·</mo>
                        <mi>ζ</mi>
                        <mo>·</mo>
                        <msub>
                          <mi>ω</mi>
                          <mi>n</mi>
                        </msub>
                        <mo>·</mo>
                        <mi>j</mi>
                      </mrow>
                      <mo>⁢</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>⁢</mo>
                      <mi>ω</mi>
                    </mrow>
                    <mo>+</mo>
                    <msubsup>
                      <mi>ω</mi>
                      <mi>n</mi>
                      <mn>2</mn>
                    </msubsup>
                  </mrow>
                </mfrac>
                <mo></mo>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mo>=</mo>
              <mfrac>
                <mrow>
                  <msub>
                    <mi>K</mi>
                    <mi>VCO</mi>
                  </msub>
                  <mo>·</mo>
                  <mi>ω</mi>
                </mrow>
                <msqrt>
                  <mrow>
                    <msup>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <msubsup>
                            <mi>ω</mi>
                            <mi>n</mi>
                            <mn>2</mn>
                          </msubsup>
                          <mo>-</mo>
                          <msup>
                            <mi>ω</mi>
                            <mn>2</mn>
                          </msup>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mn>2</mn>
                    </msup>
                    <mo>+</mo>
                    <msup>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mn>2</mn>
                          <mo>·</mo>
                          <mi>ζ</mi>
                          <mo>·</mo>
                          <msub>
                            <mi>ω</mi>
                            <mi>n</mi>
                          </msub>
                          <mo>·</mo>
                          <mi>ω</mi>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mn>2</mn>
                    </msup>
                  </mrow>
                </msqrt>
              </mfrac>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>35</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The maximum value occurs where the first stage derivative is zero. Carrying out the calculation for the derivative of the above formula ω and making it zero, after solving the equation, the maximum value if the bandpass response is:
</p>
<p id="p-0116" num="0115">
<maths id="MATH-US-00025" num="00025">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>Mag</mi>
          <mi>max</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>K</mi>
              <mi>VCO</mi>
            </msub>
            <msub>
              <mi>ω</mi>
              <mi>b</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mi>π</mi>
              </mrow>
              <msub>
                <mi>I</mi>
                <mi>cp</mi>
              </msub>
            </mfrac>
            <mo>·</mo>
            <mfrac>
              <mi>N</mi>
              <msub>
                <mi>R</mi>
                <mi>lp</mi>
              </msub>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>36</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0117" num="0116">This indicates that, to reduce the impact of noise of the filter, the gain of the VCO may be reduced or the bandwidth increased. In other words, current I<sub>cp </sub>of the charge pump or resistance R<sub>lp </sub>of the filter may be increased. Although the noise power of the loop resistance is 4KTR<sub>lp</sub>, enlarging the resistance may increase the noise source, but the effect to output phase noise is reduced. Because the maximum band-pass response appears at ω<sub>n</sub>, a substantially similar effect may be achieved by increasing the natural frequency.</p>
<p id="p-0118" num="0117"><figref idref="DRAWINGS">FIG. 22</figref> shows the amplitude response of the filter noise to output by increasing ω<sub>n </sub>when the damping factor remains unchanged. In the figure, curves for 100 krad/s, 200 Krad/s, 400 Krad/s and 800 Krad/s values for ω<sub>n </sub>are shown. As the natural frequency increases, not only does the scope peak value of the band-pass response drop proportionally, but also the frequency of the peak value increases.</p>
<p id="p-0119" num="0118">As for the noise of the VCO, the PLL shows high-pass characteristics. The −3 dB bandwidth of the transfer function of equation (31) is given by:</p>
<p id="p-0120" num="0119">
<maths id="MATH-US-00026" num="00026">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mn>3</mn>
            </mrow>
            <mo>⁢</mo>
            <mi>d</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>B</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>ω</mi>
            <mi>n</mi>
          </msub>
          <mo>·</mo>
          <msqrt>
            <mrow>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <msup>
                  <mi>ζ</mi>
                  <mn>2</mn>
                </msup>
              </mrow>
              <mo>-</mo>
              <mn>1</mn>
              <mo>+</mo>
              <msqrt>
                <mrow>
                  <mn>2</mn>
                  <mo>-</mo>
                  <mrow>
                    <mn>4</mn>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msup>
                      <mi>ζ</mi>
                      <mn>2</mn>
                    </msup>
                  </mrow>
                  <mo>+</mo>
                  <mrow>
                    <mn>4</mn>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msup>
                      <mi>ζ</mi>
                      <mn>4</mn>
                    </msup>
                  </mrow>
                </mrow>
              </msqrt>
            </mrow>
          </msqrt>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>37</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
When the damping factor is 0.707, the −3 dB bandwidth happens to be the natural frequency. When the damping factor is far smaller than 1, the coefficient of the ω<sub>n </sub>in equation (37) is approximately a constant:
</p>
<p id="p-0121" num="0120">
<maths id="MATH-US-00027" num="00027">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mn>3</mn>
            </mrow>
            <mo>⁢</mo>
            <mi>dB</mi>
          </mrow>
        </msub>
        <mo>≈</mo>
        <mrow>
          <msub>
            <mi>ω</mi>
            <mi>n</mi>
          </msub>
          <mo>·</mo>
          <msqrt>
            <mrow>
              <msqrt>
                <mn>2</mn>
              </msqrt>
              <mo>-</mo>
              <mn>1</mn>
            </mrow>
          </msqrt>
        </mrow>
        <mo>≈</mo>
        <mrow>
          <mn>0.644</mn>
          <mo>⁢</mo>
          <msub>
            <mi>ω</mi>
            <mi>n</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>38</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
When the damping factor is far greater than 1, equation (31) can be simplified to:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>ω<sub>−3dB</sub>≈2ζω<sub>n</sub>=ω<sub>b</sub>  (39)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The above inferential reasoning explains that increasing the natural angular frequency and the damping factor may increase the bandwidth of the high-pass function (except the situation that increasing the damping factor when it is smaller than 1, the effect may not be perceptible), which may consequently reduce the impact of VCO noise.
</p>
<p id="p-0122" num="0121">In situations when input phase noise is very small, for instance, the frequency synthesizer using the crystal oscillator as the input. If it is desired to reduce the phase noise of the PLL itself, a large natural angular frequency and damping factor may be used to suppress noise of inner parts. From equation (7), it may be inferred that a large natural angular frequency can also reduce the size of capacitance. Since the loop capacitance is usually the component that occupies the most area in the PLL, increasing the natural frequency can help reduce the chip area of the PLL. However, in some applications, the reference frequency of input is low, which may restrict the bandwidth to be made higher by taking the continuous-time approximation into account. So, it may be necessary to compromise in line with detailed requirements.</p>
<p id="p-0123" num="0122">Traditional PLL designs face several challenges. The bandwidth of a charge pump PLL may be very sensitive to process, power supply and temperature. Bandwidth is generally the function of the design parameters I<sub>cp</sub>, R<sub>tp </sub>and K<sub>VCO</sub>. This may bring desirable design freedom for designers, but may also make the bandwidth more variable. With the change of process, voltage and temperature, each design parameter has a certain variable range, which may bring a corresponding change in bandwidth. A common solution to get the current I<sub>cp </sub>is to use a bandgap reference source to get a voltage that is independent of voltage and temperature, and divide it by resistance. The resistance is in proportion with the resistance R<sub>tp </sub>in the loop, so I<sub>cp</sub>*R<sub>tp </sub>is in a certain proportion to the reference voltage, and it is also independent of power supply and temperature. However, its oscillation frequency and gain K<sub>VCO </sub>may greatly depend on process, power supply and temperature, due to the restriction of the structure of CMOS ring oscillator. A ring oscillator that uses a tail current source structure may not be sensitive to supply voltage, but the threshold voltage, mobility, W/L ratio and mismatching may affect the oscillator frequency and gain. These factors may also be dependent on process and temperature.</p>
<p id="p-0124" num="0123">Requirements for a stable PLL may include: continuous-time approximation, i.e., the unit gain frequency ω<sub>b </sub>is not greater than one-tenth of the angular frequency of the input clock; ensuring a certain phase margin; and a damping factor δ greater than 0.707. Therefore, to achieve continuous-time approximation when taking into account possible changes in process, power supply and temperature, the greatest bandwidth may be constrained to be equal to one tenth of the angular frequency of the input clock, and the smallest bandwidth may be limited to one twentieth to one thirtieth of the input clock frequency. In this way, in order to make the damping factor δ greater than 0.707, the capacitance may restricted by the smallest bandwidth. That is to say, it may not be feasible to meet these basic requirements without excessive capacitance area. Furthermore, other factors may impair performance, such as poor noise frequency (the bandwidth becomes narrower), inadequate filtering effects (the bandwidth becomes wider) and excessive peaking (inadequate phase margin).</p>
<p id="p-0125" num="0124">The bandwidth of a charge pump PLL is generally in inverse proportion to the frequency multiplication factor N. If the output frequency is programmed by changing the frequency multiplication factor N using a programmable divider, the change of N must be taken into consideration. If N changes by multiple times, a problem of too great change in bandwidth may arise. Placement of a current steering digital to analog converter (IDAC) on the charge pump has been proposed in H. C. Yang, L. K. Lee, and R. S. Co, “A low jitter 0.3-165 MHz CMOS PLL frequency synthesizer for 3 V/5 V operation,” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 32, pp. 582-586, April 1997. This can change the current of the charge pump correspondingly while changing N. While the input clock changes, it may be hard to keep the PLL bandwidth to be one tenth of the input frequency. This may require over-design at the expense of the chip area in order to take the smallest input frequency into account.</p>
<p id="p-0126" num="0125">Solutions to such problems have been proposed. The aforementioned John G. Maneatis, “Low-jitter process-independent DLL and PLL based on self-biased techniques.” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 31, pp. 1723-1732, November 1996 proposed a self-biased PLL to make both natural frequency and damping factor independent of process, power supply and temperature, but weak relative to the frequency multiplication factor N. A self-biased PLL, as shown in <figref idref="DRAWINGS">FIG. 23</figref>, includes a replica current source bias, making the current of the charge pump in a certain proportion x to the VCO current, and realizing the loop resistance through transconductance in MOS transistor. The resistance in the figure is an equivalent resistance, and its conductance is 1/y of the transconductance in VCO. Along with the operational amplifier, it is a part of the replica bias.</p>
<p id="p-0127" num="0126">Generally, the delay time of a delay cell is approximately C<sub>d</sub>/g<sub>m</sub>, wherein C<sub>d </sub>is the capacitive load of the delay unit, and g<sub>m </sub>is the equivalent transconductance of the delay unit. Multiplying n by delay fall time and delay rise time of each delay cell yields the oscillation cycle of a ring oscillator that is made of n-level cascaded delay units, i.e., the oscillation frequency of the VCO is determined by:</p>
<p id="p-0128" num="0127">
<maths id="MATH-US-00028" num="00028">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>f</mi>
          <mi>OSC</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>g</mi>
              <mi>m</mi>
            </msub>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mrow>
                <mi>n</mi>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mi>d</mi>
                </msub>
              </mrow>
            </mrow>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <mrow>
                <mi>β</mi>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <msub>
                      <mi>V</mi>
                      <mi>CTRL</mi>
                    </msub>
                    <mo>-</mo>
                    <msub>
                      <mi>V</mi>
                      <mi>T</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mrow>
                  <mi>n</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>C</mi>
                    <mi>d</mi>
                  </msub>
                </mrow>
              </mrow>
            </mfrac>
            <mo>=</mo>
            <mfrac>
              <msqrt>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mrow>
                    <mi>β</mi>
                    <mo>·</mo>
                    <msub>
                      <mi>I</mi>
                      <mi>VCO</mi>
                    </msub>
                  </mrow>
                </mrow>
              </msqrt>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mrow>
                  <mi>n</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>C</mi>
                    <mi>d</mi>
                  </msub>
                </mrow>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>40</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The above equation implies a strongly inverted assumption: β is the gain factor of MOS transistor, namely, μC<sub>ax</sub>W/L. Using the angular frequency (namely, multiplying the above formula by 2π) and V<sub>CTRL </sub>for the derivative, the gain of VCO K<sub>VCO </sub>is:
</p>
<p id="p-0129" num="0128">
<maths id="MATH-US-00029" num="00029">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>K</mi>
          <mi>VCO</mi>
        </msub>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mi>π</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>β</mi>
          </mrow>
          <mrow>
            <mi>n</mi>
            <mo>·</mo>
            <msub>
              <mi>C</mi>
              <mi>d</mi>
            </msub>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>41</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The loop resistance is y times as much as the transconductance reciprocal in the VCO:
</p>
<p id="p-0130" num="0129">
<maths id="MATH-US-00030" num="00030">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>R</mi>
          <mi>lp</mi>
        </msub>
        <mo>=</mo>
        <mfrac>
          <mi>y</mi>
          <msqrt>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mrow>
                <mi>β</mi>
                <mo>·</mo>
                <msub>
                  <mi>I</mi>
                  <mi>VCO</mi>
                </msub>
              </mrow>
            </mrow>
          </msqrt>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>42</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Substituting the expression for frequency multiplication in combination with equations (40), (41), (42) and (4) yields:
</p>
<p id="p-0131" num="0130">
<maths id="MATH-US-00031" num="00031">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>b</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mi>x</mi>
              <mo>·</mo>
              <mi>y</mi>
            </mrow>
            <mn>2</mn>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>f</mi>
            <mi>REF</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>43</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
According to equation (43), the PLL open loop bandwidth is in direct proportion to input clock frequency, charge pump to oscillator current ratio and MOS transistor in replica bias to transistor in oscillator ratio. The bandwidth may be substantially independent of process, environment temperature and voltage.
</p>
<p id="p-0132" num="0131">In the similar way, expressions for natural frequency and damping factor can be obtained:</p>
<p id="p-0133" num="0132">
<maths id="MATH-US-00032" num="00032">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>n</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <msqrt>
            <mrow>
              <mi>x</mi>
              <mo>·</mo>
              <mi>N</mi>
            </mrow>
          </msqrt>
          <mo>·</mo>
          <msqrt>
            <mfrac>
              <mrow>
                <mi>n</mi>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mi>d</mi>
                </msub>
              </mrow>
              <msub>
                <mi>C</mi>
                <mn>1</mn>
              </msub>
            </mfrac>
          </msqrt>
          <mo>·</mo>
          <msub>
            <mi>f</mi>
            <mi>REF</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>44</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>ζ</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mi>y</mi>
            <mn>4</mn>
          </mfrac>
          <mo>·</mo>
          <msqrt>
            <mfrac>
              <mi>x</mi>
              <mi>N</mi>
            </mfrac>
          </msqrt>
          <mo>·</mo>
          <msqrt>
            <mfrac>
              <msub>
                <mi>C</mi>
                <mn>1</mn>
              </msub>
              <mrow>
                <mi>n</mi>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mi>d</mi>
                </msub>
              </mrow>
            </mfrac>
          </msqrt>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>45</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
These equations show that the natural frequency to input clock frequency ratio is in a linear relation to the square root of N, and the damping factor is in a reciprocal relation to the square root of N. Both may also be independent of process, power supply and temperature.
</p>
<p id="p-0134" num="0133">In the above analyses, all parameters are generated inside the circuit, and need no reference source to produce current or voltage. This is referred to as self-biased operation. Because of tangible improvement in the sensitivity of PLL parameters to environment, this technology has been widely used. Similar technologies, such as a regulated supply PLL, are described in S. Sidiropoulos, et al., “Adaptive bandwidth DLLs and PLLs using regulated supply CMOS buffers,” <i>Digest Symp. VLSI Circuits</i>, pp. 124-127, June 2000, where it is possible to realize the same transfer function without use of replica bias technology.</p>
<p id="p-0135" num="0134">John G. Maneatis, Jaeha Kim, lain McClatchie, Jay Maxey and Manjusha Shankaradas, “Self-Biased High-Bandwidth Low-Jitter 1-to-4096 Multiplier Clock Generator PLL,” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 38, pp. 1797-1803, November 2003, combines the self-biased technology with an IDAC to realize a fixed-bandwidth PLL with freely variable N from 1 to 4096 and to integrate a 12-bit IDAC. As N changes the ratio of charge pump to oscillator current, x*N maintains a value m. This approach still uses a sampling-resetting technology. In this technique, the loop resistance, which is realized by the switching capacitance, becomes:</p>
<p id="p-0136" num="0135">
<maths id="MATH-US-00033" num="00033">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>R</mi>
          <mi>lp</mi>
        </msub>
        <mo>=</mo>
        <mfrac>
          <mn>1</mn>
          <mrow>
            <msub>
              <mi>f</mi>
              <mi>REF</mi>
            </msub>
            <mo>·</mo>
            <msub>
              <mi>C</mi>
              <mi>R</mi>
            </msub>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>46</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Because f<sub>REF</sub>=f<sub>OSC</sub>/N, equation (46) can be rewritten as:
</p>
<p id="p-0137" num="0136">
<maths id="MATH-US-00034" num="00034">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>R</mi>
          <mi>lp</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mi>N</mi>
            <mrow>
              <msub>
                <mi>f</mi>
                <mi>OSC</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>C</mi>
                <mi>R</mi>
              </msub>
            </mrow>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <mi>N</mi>
              <mrow>
                <mfrac>
                  <msqrt>
                    <mrow>
                      <mn>2</mn>
                      <mo>⁢</mo>
                      <mrow>
                        <mi>β</mi>
                        <mo>·</mo>
                        <msub>
                          <mi>I</mi>
                          <mi>VCO</mi>
                        </msub>
                      </mrow>
                    </mrow>
                  </msqrt>
                  <mrow>
                    <mn>2</mn>
                    <mo>⁢</mo>
                    <mrow>
                      <mi>n</mi>
                      <mo>·</mo>
                      <msub>
                        <mi>C</mi>
                        <mi>d</mi>
                      </msub>
                    </mrow>
                  </mrow>
                </mfrac>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mi>R</mi>
                </msub>
              </mrow>
            </mfrac>
            <mo>=</mo>
            <mrow>
              <mrow>
                <mfrac>
                  <mi>N</mi>
                  <msqrt>
                    <mrow>
                      <mn>2</mn>
                      <mo>⁢</mo>
                      <mrow>
                        <mi>β</mi>
                        <mo>·</mo>
                        <msub>
                          <mi>I</mi>
                          <mi>VCO</mi>
                        </msub>
                      </mrow>
                    </mrow>
                  </msqrt>
                </mfrac>
                <mo>·</mo>
                <mn>2</mn>
              </mrow>
              <mo>⁢</mo>
              <mrow>
                <mi>n</mi>
                <mo>·</mo>
                <mfrac>
                  <msub>
                    <mi>C</mi>
                    <mi>d</mi>
                  </msub>
                  <msub>
                    <mi>C</mi>
                    <mi>R</mi>
                  </msub>
                </mfrac>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>47</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Replacing equation formula (47) with equation (42) the open-loop bandwidth ω<sub>b</sub>, natural frequency ω<sub>n</sub>, and damping factor δ of the PLL are all independent of the feedback frequency-dividing ratio N:
</p>
<p id="p-0138" num="0137">
<maths id="MATH-US-00035" num="00035">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>b</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mi>m</mi>
          <mo>·</mo>
          <mi>n</mi>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>C</mi>
              <mi>d</mi>
            </msub>
            <msub>
              <mi>C</mi>
              <mi>R</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>f</mi>
            <mi>REF</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>48</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>n</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <msqrt>
            <mrow>
              <mi>m</mi>
              <mo>·</mo>
              <mi>n</mi>
              <mo>·</mo>
              <mfrac>
                <msub>
                  <mi>C</mi>
                  <mi>d</mi>
                </msub>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mfrac>
            </mrow>
          </msqrt>
          <mo>·</mo>
          <msub>
            <mi>f</mi>
            <mi>REF</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>49</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>ζ</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msqrt>
              <mrow>
                <mi>m</mi>
                <mo>·</mo>
                <mi>n</mi>
              </mrow>
            </msqrt>
            <mn>2</mn>
          </mfrac>
          <mo>·</mo>
          <msqrt>
            <mfrac>
              <mrow>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mi>d</mi>
                </msub>
              </mrow>
              <msubsup>
                <mi>C</mi>
                <mi>R</mi>
                <mn>2</mn>
              </msubsup>
            </mfrac>
          </msqrt>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>50</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
These equations indicate that the self-biased PLL with IDAC and sampling-resetting technology may resolve the practical problems described above by making the PLL design independent of process and temperature, without substantial change in bandwidth and stability problems when changing the frequency multiplication factor (namely, feedback frequency dividing ratio) of the frequency multiplier loop. These conclusions are all based on the assumption of oscillation frequency described by equation (40). When the oscillation frequency is very low, the transistor in the delay cell will no longer work as a strong inversion type, so the expression of transconductance will no longer follow equation (40).
</p>
<p id="p-0139" num="0138">However, the self-biased PLL with IDAC described above may be complicated to implement. First, it may be difficult or costly to make a 12-bit IDAC. For example, if a multilevel current mirror is used, this may take a lot of energy in design, care in layout arrangement, and close attention to possible impacts of mismatching. From the aspect of design, minimizing mismatching may require the use of long channel transistors, which may occupy a considerable chip area. The sampling-resetting technology may also require delicate circuitry. Moreover, effects such as charge injection and clock feedthrough of the switch may also be substantial. The loop resistance is generally relative to the reference frequency. When the reference frequency is high, the PLL used for filter design (namely, low bandwidth PLL, e.g., a delta-sigma frequency modulation synthesizer) may not have a high resistance without using a small capacitance C<sub>R</sub>, which greatly saves the size of the large capacitance C<sub>1</sub>. If the C<sub>R </sub>is too small, the sampling-resetting circuit may become vulnerable to the influence of clock feed-through and charge injection.</p>
<p id="h-0007" num="0000">PLLs with Current-Mode Filters</p>
<p id="p-0140" num="0139">Current-mode filters have been widely used in signal processing, as they may provide low-voltage operation, low-power consumption, and high frequency response. A current-mode filter typically includes an integrating device. According to various embodiments of the present invention, any of a number of different types of current-mode filters may be used as loop filters in a PLL</p>
<p id="p-0141" num="0140">S.-S. Lee, R. H. Zele, D. J. Allstot and G. Liang, “CMOS continuous-time current-mode filters for high-frequency applications.” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 28, pp. 323-329. March 1993, describes a current-mode integrating circuit <b>2400</b> illustrated in <figref idref="DRAWINGS">FIG. 24</figref>. The circuit includes a current mirror including NMOS transistors M<sub>1</sub>-M<sub>5 </sub>arranged in a current mirror configuration, and a filter network including a capacitor C coupled between signal ground and gate electrodes of the transistors M<sub>3 </sub>and M<sub>4</sub>.</p>
<p id="p-0142" num="0141">The transfer function of this circuit is:</p>
<p id="p-0143" num="0142">
<maths id="MATH-US-00036" num="00036">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>I</mi>
              <mi>in</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mfrac>
            <mrow>
              <mi>m</mi>
              <mo>·</mo>
              <msub>
                <mi>g</mi>
                <mi>m</mi>
              </msub>
            </mrow>
            <mrow>
              <mi>s</mi>
              <mo>·</mo>
              <mi>C</mi>
            </mrow>
          </mfrac>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>51</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where m is a constant that is the ratio of output bias current to sub-bias current of integrating device and gm is transconductance of the NMOS channel inside the spur track. As for a loop filter with wide frequency tuning range, a potential problem of such an integrating circuit is that it is desirable that the bias current be greater than the biggest signal current to avoid saturation distortion. However, when the current is lower (that is to say, when the oscillation frequency is not maximized), a relatively large bias current may be needed to achieve higher linearity. R. H. Zele and D. J. Allstot, “Low-power CMOS continuous-time filters.” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 31, pp. 157-168, February 1996, describes a relatively simpler current-mode integrating circuit that may be especially suitable for differential signal processing. The circuit is substantially similar to the circuit of <figref idref="DRAWINGS">FIG. 24</figref>.
</p>
<p id="p-0144" num="0143"><figref idref="DRAWINGS">FIG. 25</figref> illustrates another current integrating circuit <b>2500</b> that may be used in embodiments of the present invention. The circuit <b>2500</b> includes NMOS transistors Q<sub>1 </sub>and Q<sub>2 </sub>(with transconductance g<sub>mn</sub>) arranged as a current mirror, along with PMOS bias transistors Q<sub>3 </sub>and Q<sub>4 </sub>(with transconductance g<sub>mp</sub>) a PMOS output transistor Q<sub>5 </sub>(with transconductance m*g<sub>mp</sub>) and a filter capacitor C coupled between ground and the gate electrodes of the current mirror transistors Q<sub>1 </sub>and Q<sub>2</sub>. Assuming that the current mirror is 100 percent matched:</p>
<p id="p-0145" num="0144">
<maths id="MATH-US-00037" num="00037">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mfrac>
            <mrow>
              <mfrac>
                <msub>
                  <mi>I</mi>
                  <mi>out</mi>
                </msub>
                <mi>m</mi>
              </mfrac>
              <mo>+</mo>
              <msub>
                <mi>I</mi>
                <mi>in</mi>
              </msub>
            </mrow>
            <mrow>
              <msub>
                <mi>g</mi>
                <mi>mn</mi>
              </msub>
              <mo>+</mo>
              <mrow>
                <mi>s</mi>
                <mo>·</mo>
                <mi>C</mi>
              </mrow>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>g</mi>
            <mi>mn</mi>
          </msub>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>out</mi>
            </msub>
            <mi>m</mi>
          </mfrac>
          <mo>.</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>52</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
This can be reduced to:
</p>
<p id="p-0146" num="0145">
<maths id="MATH-US-00038" num="00038">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <msub>
            <mi>I</mi>
            <mi>out</mi>
          </msub>
          <msub>
            <mi>I</mi>
            <mi>in</mi>
          </msub>
        </mfrac>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <mi>m</mi>
            <mo>·</mo>
            <msub>
              <mi>g</mi>
              <mi>mn</mi>
            </msub>
          </mrow>
          <mrow>
            <mi>s</mi>
            <mo>·</mo>
            <mi>C</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>53</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Equation (53) shows that the circuit <b>2500</b> of <figref idref="DRAWINGS">FIG. 25</figref> may be viewed as an integrating device, with a unity gain angular frequency of [m·g<sub>mn</sub>/C]. The circuit has no redundant bias, and may save power and space. But the transconductance of the NMOS channels of the circuit generally changes with output current I<sub>out</sub>, because the unity gain angular frequency of the integrating circuit is generally dependent on the bias condition. In other words, linearity of the current-mode integrating circuit <b>2500</b> may be poor.
</p>
<p id="p-0147" num="0146">A modification of the circuit <b>2500</b> shown in <figref idref="DRAWINGS">FIG. 25</figref> is shown in <figref idref="DRAWINGS">FIG. 26</figref>. The circuit <b>2600</b> adds source resistors Rs. Its transfer function is:</p>
<p id="p-0148" num="0147">
<maths id="MATH-US-00039" num="00039">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>I</mi>
              <mi>in</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <mrow>
                <mi>m</mi>
                <mo>·</mo>
                <msub>
                  <mi>g</mi>
                  <mi>mn</mi>
                </msub>
              </mrow>
              <mrow>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mn>1</mn>
                    <mo>+</mo>
                    <mrow>
                      <msub>
                        <mi>g</mi>
                        <mi>mn</mi>
                      </msub>
                      <mo>⁢</mo>
                      <msub>
                        <mi>R</mi>
                        <mi>s</mi>
                      </msub>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mo>·</mo>
                <mi>s</mi>
                <mo>·</mo>
                <mi>C</mi>
              </mrow>
            </mfrac>
            <mo>=</mo>
            <mfrac>
              <mrow>
                <mi>m</mi>
                <mo>·</mo>
                <msub>
                  <mi>G</mi>
                  <mi>m</mi>
                </msub>
              </mrow>
              <mrow>
                <mi>s</mi>
                <mo>·</mo>
                <mi>C</mi>
              </mrow>
            </mfrac>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>54</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where G<sub>m</sub>=g<sub>mn</sub>/(1+g<sub>mn</sub>R<sub>s</sub>). If g<sub>mn</sub>R<sub>s</sub>&gt;&gt;1, then equation (54) is not dependent upon the operation point of the transistors. However, the circuit <b>2600</b> illustrated in <figref idref="DRAWINGS">FIG. 26</figref> may have a limited current adjusting range
</p>
<p id="p-0149" num="0148"><figref idref="DRAWINGS">FIG. 27</figref> illustrates a circuit <b>2700</b> that is yet another modification of the circuit <b>2500</b> of <figref idref="DRAWINGS">FIG. 25</figref> that may be used in a PLL in accordance with some embodiments of the present invention. The circuit <b>2700</b> includes a gate resistor R<sub>G </sub>coupled between one of the current mirror transistor Q<b>1</b> and a conductance G. The transfer function of this circuit is given by:</p>
<p id="p-0150" num="0149">
<maths id="MATH-US-00040" num="00040">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>I</mi>
              <mi>in</mi>
            </msub>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <mrow>
                <mi>m</mi>
                <mo>·</mo>
                <msub>
                  <mi>g</mi>
                  <mi>mn</mi>
                </msub>
              </mrow>
              <mrow>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mn>1</mn>
                    <mo>+</mo>
                    <mrow>
                      <msub>
                        <mi>g</mi>
                        <mi>mn</mi>
                      </msub>
                      <mo>⁢</mo>
                      <msub>
                        <mi>R</mi>
                        <mi>G</mi>
                      </msub>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
                <mo>·</mo>
                <mi>G</mi>
              </mrow>
            </mfrac>
            <mo>=</mo>
            <mfrac>
              <mrow>
                <mi>m</mi>
                <mo>·</mo>
                <msub>
                  <mi>G</mi>
                  <mi>m</mi>
                </msub>
              </mrow>
              <mi>G</mi>
            </mfrac>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>55</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where G<sub>m</sub>=g<sub>mn</sub>/(1+g<sub>mn</sub>R<sub>G</sub>). The circuits <b>2500</b> and <b>2700</b> of <figref idref="DRAWINGS">FIGS. 25 and 27</figref> have similar transfer functions, and the circuit <b>2700</b> in <figref idref="DRAWINGS">FIG. 27</figref> has a current adjustment range similar to that of the circuit <b>2500</b> of <figref idref="DRAWINGS">FIG. 25</figref>.
</p>
<p id="p-0151" num="0150"><figref idref="DRAWINGS">FIG. 28</figref> illustrates circuit <b>2800</b> that is a form of the circuit <b>2700</b>, wherein a resistance R<sub>lp </sub>and a capacitance C<sub>1 </sub>is used to provide the conductance G. This adds a zero, producing the transfer function:</p>
<p id="p-0152" num="0151">
<maths id="MATH-US-00041" num="00041">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <msub>
            <mi>I</mi>
            <mi>out</mi>
          </msub>
          <msub>
            <mi>I</mi>
            <mi>in</mi>
          </msub>
        </mfrac>
        <mo>=</mo>
        <mrow>
          <mi>m</mi>
          <mo>·</mo>
          <msub>
            <mi>G</mi>
            <mi>m</mi>
          </msub>
          <mo>·</mo>
          <mrow>
            <mfrac>
              <mrow>
                <mn>1</mn>
                <mo>+</mo>
                <mrow>
                  <mi>s</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>R</mi>
                    <mi>lp</mi>
                  </msub>
                  <mo>·</mo>
                  <msub>
                    <mi>C</mi>
                    <mn>1</mn>
                  </msub>
                </mrow>
              </mrow>
              <mrow>
                <mi>s</mi>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
            </mfrac>
            <mo>.</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>56</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The transfer function may be manipulated as follows:
</p>
<p id="p-0153" num="0152">
<maths id="MATH-US-00042" num="00042">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mstyle>
                <mspace width="0.6em" height="0.6ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>I</mi>
                      <mrow>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <mi>out</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <mrow>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>I</mi>
                      <mrow>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <mrow>
                          <mi>i</mi>
                          <mo>⁢</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mi>n</mi>
                        </mrow>
                      </mrow>
                    </msub>
                  </mrow>
                </mfrac>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.6em" height="0.6ex"/>
                </mstyle>
                <mo>=</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mrow>
                  <mi>m</mi>
                  <mo>·</mo>
                  <mrow>
                    <mo>(</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mrow>
                      <mrow>
                        <msub>
                          <mi>G</mi>
                          <mrow>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mi>m</mi>
                          </mrow>
                        </msub>
                        <mo>·</mo>
                        <mstyle>
                          <mspace width="0.6em" height="0.6ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <mfrac>
                          <mrow>
                            <mn>1</mn>
                            <mo>⁢</mo>
                            <mstyle>
                              <mspace width="0.6em" height="0.6ex"/>
                            </mstyle>
                            <mo>-</mo>
                            <mstyle>
                              <mspace width="0.6em" height="0.6ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mi>a</mi>
                          </mrow>
                          <mrow>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mrow>
                              <mi>s</mi>
                              <mo>·</mo>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <msub>
                                <mi>C</mi>
                                <mrow>
                                  <mstyle>
                                    <mspace width="0.3em" height="0.3ex"/>
                                  </mstyle>
                                  <mo>⁢</mo>
                                  <mn>1</mn>
                                </mrow>
                              </msub>
                            </mrow>
                          </mrow>
                        </mfrac>
                      </mrow>
                      <mo>⁢</mo>
                      <mstyle>
                        <mspace width="0.6em" height="0.6ex"/>
                      </mstyle>
                      <mo>-</mo>
                      <mstyle>
                        <mspace width="0.6em" height="0.6ex"/>
                      </mstyle>
                      <mo>⁢</mo>
                      <mi>a</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mrow>
                <mo>=</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mrow>
                  <mi>m</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>G</mi>
                    <mi>m</mi>
                  </msub>
                  <mo>·</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mn>1</mn>
                      <mo>-</mo>
                      <mi>a</mi>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mo>·</mo>
                  <mfrac>
                    <mrow>
                      <mn>1</mn>
                      <mo>-</mo>
                      <mrow>
                        <mfrac>
                          <mi>a</mi>
                          <mrow>
                            <mrow>
                              <mo>(</mo>
                              <mrow>
                                <mn>1</mn>
                                <mo>-</mo>
                                <mi>a</mi>
                              </mrow>
                              <mo>)</mo>
                            </mrow>
                            <mo>·</mo>
                            <msub>
                              <mi>G</mi>
                              <mi>m</mi>
                            </msub>
                          </mrow>
                        </mfrac>
                        <mo>·</mo>
                        <mi>s</mi>
                        <mo>·</mo>
                        <msub>
                          <mi>C</mi>
                          <mn>1</mn>
                        </msub>
                      </mrow>
                    </mrow>
                    <mrow>
                      <mi>s</mi>
                      <mo>·</mo>
                      <msub>
                        <mi>C</mi>
                        <mn>1</mn>
                      </msub>
                    </mrow>
                  </mfrac>
                </mrow>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>57</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Comparing equations 56 and 57, the equivalent resistance is:
</p>
<p id="p-0154" num="0153">
<maths id="MATH-US-00043" num="00043">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>R</mi>
          <mi>equ</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mo>-</mo>
              <mi>a</mi>
            </mrow>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mn>1</mn>
                  <mo>-</mo>
                  <mi>a</mi>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>·</mo>
              <msub>
                <mi>G</mi>
                <mi>m</mi>
              </msub>
            </mrow>
          </mfrac>
          <mo>.</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>58</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
A zero in the left half plane can be reached if a&lt;0 or a&gt;1. When a&gt;1, the transfer function of the current-mode filter is negative.
</p>
<p id="p-0155" num="0154"><figref idref="DRAWINGS">FIG. 29</figref> illustrates a self-biased PLL <b>2900</b> with current-mode loop filter according to some embodiments of the present invention. The PLL <b>2900</b> includes a charge pump <b>2910</b>, a current-mode loop filter <b>2920</b> and a current-controlled oscillator <b>2930</b> in its forward path. A feedback gain <b>2940</b> is applied to the output frequency f<sub>out</sub>, before subtraction from the reference frequency f<sub>ref </sub>at a summing junction <b>2950</b>. The loop filter <b>2920</b> has a transfer function CF(s) and may take the form, for example, of one of the current-mode filter circuits described above. The loop gain T(s) is given by:</p>
<p id="p-0156" num="0155">
<maths id="MATH-US-00044" num="00044">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>T</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>cp</mi>
            </msub>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>π</mi>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <mrow>
            <mi>CF</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>s</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>K</mi>
              <mi>ICO</mi>
            </msub>
            <mi>s</mi>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <mn>1</mn>
            <mi>N</mi>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>59</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where K<sub>ICO </sub>relates oscillating angular frequency to control current, in unit rad/s/A.
</p>
<p id="p-0157" num="0156">In some embodiments of the present invention, the current-mode filter <b>2920</b> may take the form of the circuit <b>2800</b> of <figref idref="DRAWINGS">FIG. 28</figref>. Filter conductance G is provided by resistance R<sub>lp </sub>and capacitance C<sub>1</sub>. Substituting equation (56) into equation (59) yields:</p>
<p id="p-0158" num="0157">
<maths id="MATH-US-00045" num="00045">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>T</mi>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>s</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>cp</mi>
            </msub>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>π</mi>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <mi>m</mi>
          <mo>·</mo>
          <msub>
            <mi>G</mi>
            <mi>m</mi>
          </msub>
          <mo>·</mo>
          <mfrac>
            <mrow>
              <mn>1</mn>
              <mo>+</mo>
              <mrow>
                <mi>s</mi>
                <mo>·</mo>
                <msub>
                  <mi>R</mi>
                  <mi>lp</mi>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
            </mrow>
            <mrow>
              <mi>s</mi>
              <mo>·</mo>
              <msub>
                <mi>C</mi>
                <mn>1</mn>
              </msub>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>K</mi>
              <mi>ICO</mi>
            </msub>
            <mi>s</mi>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <mn>1</mn>
            <mi>N</mi>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>60</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The bandwidth is given by:
</p>
<p id="p-0159" num="0158">
<maths id="MATH-US-00046" num="00046">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>b</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>cp</mi>
            </msub>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>π</mi>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <mi>m</mi>
          <mo>·</mo>
          <msub>
            <mi>G</mi>
            <mi>m</mi>
          </msub>
          <mo>·</mo>
          <msub>
            <mi>R</mi>
            <mi>lp</mi>
          </msub>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>K</mi>
              <mi>ICO</mi>
            </msub>
            <mi>N</mi>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>61</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
K<sub>ICO </sub>may be given by:
</p>
<p id="p-0160" num="0159">
<maths id="MATH-US-00047" num="00047">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>K</mi>
          <mi>ICO</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mi>π</mi>
              <mo>·</mo>
              <msqrt>
                <mrow>
                  <mn>2</mn>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>β</mi>
                </mrow>
              </msqrt>
            </mrow>
            <mrow>
              <mn>2</mn>
              <mo>⁢</mo>
              <mrow>
                <mi>n</mi>
                <mo>·</mo>
                <msub>
                  <mi>C</mi>
                  <mi>d</mi>
                </msub>
              </mrow>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <mn>1</mn>
            <msqrt>
              <msub>
                <mi>I</mi>
                <mi>ICO</mi>
              </msub>
            </msqrt>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>62</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
If [N=f<sub>OSC</sub>/f<sub>REF</sub>] and [g<sub>m</sub>*R<sub>G</sub>&gt;&gt;1], then Gm is approximately [1/R<sub>G</sub>], and the bandwidth may be given by:
</p>
<p id="p-0161" num="0160">
<maths id="MATH-US-00048" num="00048">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>b</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
          <mo>·</mo>
          <mi>m</mi>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>R</mi>
              <mi>lp</mi>
            </msub>
            <msub>
              <mi>R</mi>
              <mi>G</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>cp</mi>
            </msub>
            <msub>
              <mi>I</mi>
              <mi>ICO</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>f</mi>
            <mi>REF</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>63</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Thus, the bandwidth is proportional to input reference clock. The natural angular frequency and damping factor are:
</p>
<p id="p-0162" num="0161">
<maths id="MATH-US-00049" num="00049">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>n</mi>
        </msub>
        <mo>=</mo>
        <msqrt>
          <mfrac>
            <msub>
              <mi>ω</mi>
              <mi>b</mi>
            </msub>
            <mrow>
              <msub>
                <mi>R</mi>
                <mi>lp</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>C</mi>
                <mn>1</mn>
              </msub>
            </mrow>
          </mfrac>
        </msqrt>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>64</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mi>ζ</mi>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mfrac>
              <mn>1</mn>
              <mn>2</mn>
            </mfrac>
            <mo>·</mo>
            <msqrt>
              <msub>
                <mi>ω</mi>
                <mi>b</mi>
              </msub>
            </msqrt>
          </mrow>
          <mo>⁢</mo>
          <msqrt>
            <mrow>
              <msub>
                <mi>R</mi>
                <mi>lp</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>C</mi>
                <mn>1</mn>
              </msub>
            </mrow>
          </msqrt>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>65</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
It is reasonable to assume that the input reference clock is fixed, so natural angular frequency and damping factor may be considered dependent on process and temperature, which affect resistance and capacitance. If changes in resistance do not surpass ±30%, grid capacitance of the MOS channel may be controlled very well, e.g., so that is does not exceed ±10%, so changes in natural angular frequency and damping factor may be constrained to within ±20%, which may be acceptable. Thus, performance that is similar to that of a self-biased PLL may be achieved using a relatively simple circuit. In some embodiments of the present invention, such as those described below, a multi-order (2<sup>nd </sup>or greater order) filter may be used to filter out the high frequency spurious.
</p>
<p id="p-0163" num="0162">A problem often associated with current mirrors is mismatching. Mismatching, together with noise, may degrade the performance of a current-mode circuit. In fact, a potentially significant problem with the circuit <b>2700</b> shown in <figref idref="DRAWINGS">FIG. 27</figref> may occur when there is no signal input, which can be very common in PLL applications. This means that the charge pump does not produce an output signal when there is no static phase error if the PLL is locked, and the circuit <b>2700</b> of <figref idref="DRAWINGS">FIG. 27</figref> will carry out the integral calculation on the current mismatch. This mismatch may include random mismatch caused by process and systematic mismatch caused by the circuit operation point. This integrating effect may act on 1/f noise as well.</p>
<p id="p-0164" num="0163">To explain this problem, it may be assumed that the static phase error is t when the PLL is locked and the period of the discriminator clock is T<sub>REF</sub>. All the current mismatching may then be equal to the input end as shown in [ΔI], as illustrated in <figref idref="DRAWINGS">FIG. 30</figref>. When the PLL is locked, the net charge provided to the loop filter in every period should be zero, such that:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Δ<i>I·T</i><sub>ref</sub><i>=I</i><sub>CP</sub><i>·t</i>  (66)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
Dividing by [I<sub>b</sub>(I<sub>b</sub>=I<sub>out</sub>/m)] produces the following expression for the static phase error:
</p>
<p id="p-0165" num="0164">
<maths id="MATH-US-00050" num="00050">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mi>t</mi>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mi>m</mi>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <mrow>
              <mi>Δ</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>I</mi>
            </mrow>
            <msub>
              <mi>I</mi>
              <mi>b</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>out</mi>
            </msub>
            <msub>
              <mi>I</mi>
              <mi>cp</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>T</mi>
            <mi>ref</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>67</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The static phase error and the period have a substantially linear relationship, with the lower the reference frequency, the greater the static phase error. The [ΔI/I<sub>b</sub>] mismatch magnitude is about 0.1-1%. Optimistically, estimating 0.1% and make m=1 and [I<sub>out</sub>/I<sub>cp</sub>]=10, the static phase error is [1% T<sub>REF</sub>]. In the frequency multiplication loop, if the frequency multiplication ratio is larger than 100, the static phase error of [1% T<sub>REF</sub>] will cause jitter as shown in <figref idref="DRAWINGS">FIG. 31</figref>. The integrating effect on 1/f may magnify the low frequency noise, which may also affect the output clock jitter.
</p>
<p id="p-0166" num="0165">In a conventional voltage-mode PLL, only when there is an up or dn signal does the charge pump integrate. If there is no signal, the loop filter remains at its current voltage. A current-mode circuit according to further embodiments of the present invention may be configured to achieve a similar effect. As shown in <figref idref="DRAWINGS">FIG. 32</figref>, a circuit <b>3200</b> having the filter configuration of <figref idref="DRAWINGS">FIG. 27</figref> may include a switch S controlled by an up or dn signal, such that integration is disabled when no charge pump signal is asserted. When the switch is opened, the output current I<sub>out </sub>remains at its current level. With the switch S present, the static phase error is substantially independent of the period, which can alleviate the problems noted above.</p>
<p id="p-0167" num="0166">Although using a switch or other technique to disable integration may solve some important problems, current source mismatching may still be an issue. <figref idref="DRAWINGS">FIG. 33</figref> illustrates mismatching, where α, γ are current mirror matching factors with that vary about nominal values of 1:</p>
<p id="p-0168" num="0167">
<maths id="MATH-US-00051" num="00051">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mstyle>
                <mspace width="0.6em" height="0.6ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mrow>
                <mfrac>
                  <mrow>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>I</mi>
                      <mrow>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <mi>out</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <mrow>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>I</mi>
                      <mrow>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <mrow>
                          <mi>i</mi>
                          <mo>⁢</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mi>n</mi>
                        </mrow>
                      </mrow>
                    </msub>
                  </mrow>
                </mfrac>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.6em" height="0.6ex"/>
                </mstyle>
                <mo>=</mo>
                <mstyle>
                  <mspace width="0.8em" height="0.8ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mfrac>
                  <mrow>
                    <mi>m</mi>
                    <mo>·</mo>
                    <mi>γ</mi>
                    <mo>·</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>g</mi>
                      <mi>mn</mi>
                    </msub>
                  </mrow>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mn>1</mn>
                          <mo>⁢</mo>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>-</mo>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mrow>
                            <mi>α</mi>
                            <mo>·</mo>
                            <mi>γ</mi>
                          </mrow>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>⁢</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>⁢</mo>
                      <msub>
                        <mi>g</mi>
                        <mi>mn</mi>
                      </msub>
                    </mrow>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.6em" height="0.6ex"/>
                    </mstyle>
                    <mo>+</mo>
                    <mstyle>
                      <mspace width="0.6em" height="0.6ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mrow>
                      <mrow>
                        <mo>(</mo>
                        <mrow>
                          <mn>1</mn>
                          <mo>⁢</mo>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>+</mo>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mrow>
                            <msub>
                              <mi>g</mi>
                              <mi>mn</mi>
                            </msub>
                            <mo>·</mo>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <msub>
                              <mi>R</mi>
                              <mrow>
                                <mstyle>
                                  <mspace width="0.3em" height="0.3ex"/>
                                </mstyle>
                                <mo>⁢</mo>
                                <mi>G</mi>
                              </mrow>
                            </msub>
                          </mrow>
                        </mrow>
                        <mo>)</mo>
                      </mrow>
                      <mo>·</mo>
                      <mi>G</mi>
                    </mrow>
                  </mrow>
                </mfrac>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mstyle>
                <mspace width="0.6em" height="0.6ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mrow>
                <mo>=</mo>
                <mstyle>
                  <mspace width="0.6em" height="0.6ex"/>
                </mstyle>
                <mo>⁢</mo>
                <mfrac>
                  <mrow>
                    <mstyle>
                      <mspace width="0.6em" height="0.6ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mfrac>
                      <mrow>
                        <mi>m</mi>
                        <mo>·</mo>
                        <mi>γ</mi>
                        <mo>·</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <msub>
                          <mi>g</mi>
                          <mi>mn</mi>
                        </msub>
                      </mrow>
                      <mrow>
                        <mstyle>
                          <mspace width="0.6em" height="0.6ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <mrow>
                          <mn>1</mn>
                          <mo>⁢</mo>
                          <mstyle>
                            <mspace width="0.6em" height="0.6ex"/>
                          </mstyle>
                          <mo>+</mo>
                          <mstyle>
                            <mspace width="0.8em" height="0.8ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mrow>
                            <msub>
                              <mi>g</mi>
                              <mi>mn</mi>
                            </msub>
                            <mo>·</mo>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <msub>
                              <mi>R</mi>
                              <mrow>
                                <mstyle>
                                  <mspace width="0.3em" height="0.3ex"/>
                                </mstyle>
                                <mo>⁢</mo>
                                <mi>G</mi>
                              </mrow>
                            </msub>
                          </mrow>
                        </mrow>
                      </mrow>
                    </mfrac>
                  </mrow>
                  <mrow>
                    <mstyle>
                      <mspace width="0.6em" height="0.6ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mrow>
                      <mfrac>
                        <mrow>
                          <mrow>
                            <mo>(</mo>
                            <mrow>
                              <mn>1</mn>
                              <mo>⁢</mo>
                              <mstyle>
                                <mspace width="0.6em" height="0.6ex"/>
                              </mstyle>
                              <mo>-</mo>
                              <mstyle>
                                <mspace width="0.6em" height="0.6ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <mrow>
                                <mi>α</mi>
                                <mo>·</mo>
                                <mi>γ</mi>
                              </mrow>
                            </mrow>
                            <mo>)</mo>
                          </mrow>
                          <mo>⁢</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <msub>
                            <mi>g</mi>
                            <mi>mn</mi>
                          </msub>
                        </mrow>
                        <mrow>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <mrow>
                            <mn>1</mn>
                            <mo>⁢</mo>
                            <mstyle>
                              <mspace width="0.6em" height="0.6ex"/>
                            </mstyle>
                            <mo>+</mo>
                            <mstyle>
                              <mspace width="0.6em" height="0.6ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mrow>
                              <msub>
                                <mi>g</mi>
                                <mi>mn</mi>
                              </msub>
                              <mo>·</mo>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <msub>
                                <mi>R</mi>
                                <mrow>
                                  <mstyle>
                                    <mspace width="0.3em" height="0.3ex"/>
                                  </mstyle>
                                  <mo>⁢</mo>
                                  <mi>G</mi>
                                </mrow>
                              </msub>
                            </mrow>
                          </mrow>
                        </mrow>
                      </mfrac>
                      <mo>⁢</mo>
                      <mstyle>
                        <mspace width="0.6em" height="0.6ex"/>
                      </mstyle>
                      <mo>+</mo>
                      <mstyle>
                        <mspace width="0.6em" height="0.6ex"/>
                      </mstyle>
                      <mo>⁢</mo>
                      <mi>G</mi>
                    </mrow>
                  </mrow>
                </mfrac>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>68</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The mismatching term γ in the numerator affects the gain and slightly changes the bandwidth. Taking mismatching into consideration, the pure resistance R<sub>lp </sub>is combined with
</p>
<p id="p-0169" num="0168">
<maths id="MATH-US-00052" num="00052">
<math overflow="scroll">
<mrow>
  <mrow>
    <mo>[</mo>
    <mfrac>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mn>1</mn>
            <mo>-</mo>
            <mrow>
              <mi>α</mi>
              <mo>·</mo>
              <mi>γ</mi>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
        <mo>⁢</mo>
        <msub>
          <mi>g</mi>
          <mi>mn</mi>
        </msub>
      </mrow>
      <mrow>
        <mn>1</mn>
        <mo>+</mo>
        <mrow>
          <msub>
            <mi>g</mi>
            <mi>mn</mi>
          </msub>
          <mo>·</mo>
          <msub>
            <mi>R</mi>
            <mi>G</mi>
          </msub>
        </mrow>
      </mrow>
    </mfrac>
    <mo>]</mo>
  </mrow>
  <mo>.</mo>
</mrow>
</math>
</maths>
<br/>
To reduce the mismatching effect:
</p>
<p id="p-0170" num="0169">
<maths id="MATH-US-00053" num="00053">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mn>1</mn>
                <mo>-</mo>
                <mrow>
                  <mi>α</mi>
                  <mo>·</mo>
                  <mi>γ</mi>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mo>⁢</mo>
            <msub>
              <mi>g</mi>
              <mi>mn</mi>
            </msub>
          </mrow>
          <mrow>
            <mn>1</mn>
            <mo>+</mo>
            <mrow>
              <msub>
                <mi>g</mi>
                <mi>mn</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>R</mi>
                <mi>G</mi>
              </msub>
            </mrow>
          </mrow>
        </mfrac>
        <mo>⪡</mo>
        <mfrac>
          <mn>1</mn>
          <msub>
            <mi>R</mi>
            <mi>lp</mi>
          </msub>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>69</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
If [g<sub>m</sub>*R<sub>G</sub>&gt;&gt;1], then the above formula can be reduced to:
</p>
<p id="p-0171" num="0170">
<maths id="MATH-US-00054" num="00054">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mn>1</mn>
          <mo>-</mo>
          <mrow>
            <mi>α</mi>
            <mo>·</mo>
            <mi>γ</mi>
          </mrow>
        </mrow>
        <mo>⪡</mo>
        <mfrac>
          <msub>
            <mi>R</mi>
            <mi>G</mi>
          </msub>
          <msub>
            <mi>R</mi>
            <mi>lp</mi>
          </msub>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>70</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
If R<sub>G </sub>and R<sub>lp </sub>have the same magnitude, the current mirror mismatching generally can be easily made to be less than 5%.
</p>
<p id="p-0172" num="0171">The above analysis does not take the output impedance of the current source into consideration, namely, it assumes the current source has infinite impedance. However, in practice, the current source impedance is finite. <figref idref="DRAWINGS">FIG. 34</figref> illustrates voltages and currents for the current-mode filter <b>2700</b> of <figref idref="DRAWINGS">FIG. 27</figref>, and <figref idref="DRAWINGS">FIG. 35</figref> illustrates its small signal model.</p>
<p id="p-0173" num="0172">The following four equations apply:</p>
<p id="p-0174" num="0173">
<maths id="MATH-US-00055" num="00055">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>I</mi>
            <mi>in</mi>
          </msub>
          <mo>-</mo>
          <mrow>
            <msub>
              <mi>g</mi>
              <mi>mp</mi>
            </msub>
            <mo>·</mo>
            <msub>
              <mi>V</mi>
              <mn>2</mn>
            </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
            <msub>
              <mi>g</mi>
              <mi>mn</mi>
            </msub>
            <mo>·</mo>
            <msub>
              <mi>V</mi>
              <mi>in</mi>
            </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
            <msub>
              <mi>g</mi>
              <mn>1</mn>
            </msub>
            <mo>·</mo>
            <msub>
              <mi>V</mi>
              <mi>in</mi>
            </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
            <mfrac>
              <mn>1</mn>
              <msub>
                <mi>R</mi>
                <mi>G</mi>
              </msub>
            </mfrac>
            <mo>·</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>V</mi>
                  <mi>in</mi>
                </msub>
                <mo>-</mo>
                <msub>
                  <mi>V</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mn>0</mn>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>71</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>V</mi>
          <mn>1</mn>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <mn>1</mn>
              <mo>/</mo>
              <mi>G</mi>
            </mrow>
            <mrow>
              <msub>
                <mi>R</mi>
                <mi>G</mi>
              </msub>
              <mo>+</mo>
              <mrow>
                <mn>1</mn>
                <mo>/</mo>
                <mi>G</mi>
              </mrow>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>V</mi>
            <mi>in</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>72</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mrow>
            <mrow>
              <mo>-</mo>
              <msub>
                <mi>g</mi>
                <mrow>
                  <mi>m</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>p</mi>
                </mrow>
              </msub>
            </mrow>
            <mo>·</mo>
            <msub>
              <mi>V</mi>
              <mn>2</mn>
            </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
            <msub>
              <mi>g</mi>
              <mn>2</mn>
            </msub>
            <mo>·</mo>
            <msub>
              <mi>V</mi>
              <mn>2</mn>
            </msub>
          </mrow>
          <mo>-</mo>
          <mrow>
            <msub>
              <mi>g</mi>
              <mi>mn</mi>
            </msub>
            <mo>·</mo>
            <msub>
              <mi>V</mi>
              <mn>1</mn>
            </msub>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mn>0</mn>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>73</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>I</mi>
          <mi>out</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>-</mo>
            <mi>m</mi>
          </mrow>
          <mo>·</mo>
          <msub>
            <mi>g</mi>
            <mrow>
              <mi>m</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>p</mi>
            </mrow>
          </msub>
          <mo>·</mo>
          <msub>
            <mi>V</mi>
            <mn>2</mn>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>74</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Solving this group, the transfer function is:
</p>
<p id="p-0175" num="0174">
<maths id="MATH-US-00056" num="00056">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <msub>
            <mi>I</mi>
            <mi>out</mi>
          </msub>
          <msub>
            <mi>I</mi>
            <mrow>
              <mi>i</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <mi>n</mi>
            </mrow>
          </msub>
        </mfrac>
        <mo>=</mo>
        <mi/>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mi>m</mi>
            <mo>·</mo>
            <msub>
              <mi>g</mi>
              <mi>mn</mi>
            </msub>
          </mrow>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>g</mi>
                        <mn>1</mn>
                      </msub>
                      <mo>·</mo>
                      <msub>
                        <mi>g</mi>
                        <mn>2</mn>
                      </msub>
                    </mrow>
                    <msub>
                      <mi>g</mi>
                      <mrow>
                        <mi>m</mi>
                        <mo>⁢</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <mi>p</mi>
                      </mrow>
                    </msub>
                  </mfrac>
                  <mo>+</mo>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>g</mi>
                        <mn>2</mn>
                      </msub>
                      <mo>·</mo>
                      <msub>
                        <mi>g</mi>
                        <mi>mn</mi>
                      </msub>
                    </mrow>
                    <msub>
                      <mi>g</mi>
                      <mrow>
                        <mi>m</mi>
                        <mo>⁢</mo>
                        <mstyle>
                          <mspace width="0.3em" height="0.3ex"/>
                        </mstyle>
                        <mo>⁢</mo>
                        <mi>p</mi>
                      </mrow>
                    </msub>
                  </mfrac>
                  <mo>+</mo>
                  <msub>
                    <mi>g</mi>
                    <mn>1</mn>
                  </msub>
                  <mo>+</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mrow>
                        <mfrac>
                          <mrow>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mrow>
                              <msub>
                                <mi>g</mi>
                                <mn>2</mn>
                              </msub>
                              <mo>·</mo>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <msub>
                                <mi>g</mi>
                                <mi>mn</mi>
                              </msub>
                            </mrow>
                          </mrow>
                          <mrow>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <msub>
                              <mi>g</mi>
                              <mrow>
                                <mi>m</mi>
                                <mo>⁢</mo>
                                <mstyle>
                                  <mspace width="0.3em" height="0.3ex"/>
                                </mstyle>
                                <mo>⁢</mo>
                                <mi>p</mi>
                              </mrow>
                            </msub>
                          </mrow>
                        </mfrac>
                        <mo>·</mo>
                        <msub>
                          <mi>R</mi>
                          <mrow>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mi>G</mi>
                          </mrow>
                        </msub>
                      </mrow>
                      <mo>+</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mrow>
                      <mrow>
                        <mfrac>
                          <mrow>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <mrow>
                              <msub>
                                <mi>g</mi>
                                <mn>2</mn>
                              </msub>
                              <mo>·</mo>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <msub>
                                <mi>g</mi>
                                <mn>1</mn>
                              </msub>
                            </mrow>
                          </mrow>
                          <mrow>
                            <mstyle>
                              <mspace width="0.3em" height="0.3ex"/>
                            </mstyle>
                            <mo>⁢</mo>
                            <msub>
                              <mi>g</mi>
                              <mrow>
                                <mi>m</mi>
                                <mo>⁢</mo>
                                <mstyle>
                                  <mspace width="0.3em" height="0.3ex"/>
                                </mstyle>
                                <mo>⁢</mo>
                                <mi>p</mi>
                              </mrow>
                            </msub>
                          </mrow>
                        </mfrac>
                        <mo>·</mo>
                        <mfrac>
                          <msub>
                            <mi>g</mi>
                            <mn>2</mn>
                          </msub>
                          <msub>
                            <mi>g</mi>
                            <mrow>
                              <mi>m</mi>
                              <mo>⁢</mo>
                              <mstyle>
                                <mspace width="0.3em" height="0.3ex"/>
                              </mstyle>
                              <mo>⁢</mo>
                              <mi>p</mi>
                            </mrow>
                          </msub>
                        </mfrac>
                      </mrow>
                      <mo>+</mo>
                      <mrow>
                        <msub>
                          <mi>g</mi>
                          <mi>mn</mi>
                        </msub>
                        <mo>·</mo>
                        <msub>
                          <mi>R</mi>
                          <mi>G</mi>
                        </msub>
                      </mrow>
                      <mo>+</mo>
                      <mrow>
                        <msub>
                          <mi>g</mi>
                          <mn>1</mn>
                        </msub>
                        <mo>·</mo>
                        <msub>
                          <mi>R</mi>
                          <mi>G</mi>
                        </msub>
                      </mrow>
                      <mo>+</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mo>·</mo>
                  <mi>G</mi>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mfrac>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>≈</mo>
        <mi/>
        <mo>⁢</mo>
        <mfrac>
          <mrow>
            <mi>m</mi>
            <mo>·</mo>
            <msub>
              <mi>g</mi>
              <mi>mn</mi>
            </msub>
          </mrow>
          <mrow>
            <mfrac>
              <mrow>
                <msub>
                  <mi>g</mi>
                  <mn>2</mn>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>g</mi>
                  <mi>mn</mi>
                </msub>
              </mrow>
              <msub>
                <mi>g</mi>
                <mrow>
                  <mi>m</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>p</mi>
                </mrow>
              </msub>
            </mfrac>
            <mo>+</mo>
            <msub>
              <mi>g</mi>
              <mn>1</mn>
            </msub>
            <mo>+</mo>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mn>1</mn>
                  <mo>+</mo>
                  <mrow>
                    <msub>
                      <mi>g</mi>
                      <mi>mn</mi>
                    </msub>
                    <mo>·</mo>
                    <msub>
                      <mi>R</mi>
                      <mi>G</mi>
                    </msub>
                  </mrow>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>·</mo>
              <mi>G</mi>
            </mrow>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mo>=</mo>
        <mi/>
        <mo>⁢</mo>
        <mfrac>
          <mfrac>
            <mrow>
              <mi>m</mi>
              <mo>·</mo>
              <msub>
                <mi>g</mi>
                <mi>mn</mi>
              </msub>
            </mrow>
            <mrow>
              <mn>1</mn>
              <mo>+</mo>
              <mrow>
                <msub>
                  <mi>g</mi>
                  <mi>mn</mi>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>R</mi>
                  <mi>G</mi>
                </msub>
              </mrow>
            </mrow>
          </mfrac>
          <mrow>
            <mfrac>
              <mrow>
                <mfrac>
                  <mrow>
                    <msub>
                      <mi>g</mi>
                      <mn>2</mn>
                    </msub>
                    <mo>·</mo>
                    <msub>
                      <mi>g</mi>
                      <mi>mn</mi>
                    </msub>
                  </mrow>
                  <msub>
                    <mi>g</mi>
                    <mrow>
                      <mi>m</mi>
                      <mo>⁢</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>⁢</mo>
                      <mi>p</mi>
                    </mrow>
                  </msub>
                </mfrac>
                <mo>+</mo>
                <msub>
                  <mi>g</mi>
                  <mn>1</mn>
                </msub>
              </mrow>
              <mrow>
                <mn>1</mn>
                <mo>+</mo>
                <mrow>
                  <msub>
                    <mi>g</mi>
                    <mi>mn</mi>
                  </msub>
                  <mo>·</mo>
                  <msub>
                    <mi>R</mi>
                    <mi>G</mi>
                  </msub>
                </mrow>
              </mrow>
            </mfrac>
            <mo>+</mo>
            <mi>G</mi>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
This is similar to the current source mismatching, with a term
</p>
<p id="p-0176" num="0175">
<maths id="MATH-US-00057" num="00057">
<math overflow="scroll">
<mrow>
  <mo>[</mo>
  <mfrac>
    <mrow>
      <mfrac>
        <mrow>
          <msub>
            <mi>g</mi>
            <mn>2</mn>
          </msub>
          <mo>·</mo>
          <msub>
            <mi>g</mi>
            <mi>mn</mi>
          </msub>
        </mrow>
        <msub>
          <mi>g</mi>
          <mrow>
            <mi>m</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>p</mi>
          </mrow>
        </msub>
      </mfrac>
      <mo>+</mo>
      <msub>
        <mi>g</mi>
        <mn>1</mn>
      </msub>
    </mrow>
    <mrow>
      <mn>1</mn>
      <mo>+</mo>
      <mrow>
        <msub>
          <mi>g</mi>
          <mi>mn</mi>
        </msub>
        <mo>·</mo>
        <msub>
          <mi>R</mi>
          <mi>G</mi>
        </msub>
      </mrow>
    </mrow>
  </mfrac>
  <mo>]</mo>
</mrow>
</math>
</maths>
<br/>
added to the denominator. This term corresponds to the nonzero conductance of the left branch circuit combining the right branch circuit equivalent to the left conductance, attenuated by [(1+g<sub>mn</sub>·R<sub>G</sub>)]. After taking the current source finite impedance into consideration, the R<sub>tp </sub>in the calculation of the PLL bandwidth is in parallel with the current source equivalent impedance. To reduce influence on the bandwidth:
</p>
<p id="p-0177" num="0176">
<maths id="MATH-US-00058" num="00058">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <mfrac>
              <mrow>
                <msub>
                  <mi>g</mi>
                  <mn>2</mn>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>g</mi>
                  <mi>mn</mi>
                </msub>
              </mrow>
              <msub>
                <mi>g</mi>
                <mrow>
                  <mi>m</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>p</mi>
                </mrow>
              </msub>
            </mfrac>
            <mo>+</mo>
            <msub>
              <mi>g</mi>
              <mn>1</mn>
            </msub>
          </mrow>
          <mrow>
            <mn>1</mn>
            <mo>+</mo>
            <mrow>
              <msub>
                <mi>g</mi>
                <mi>mn</mi>
              </msub>
              <mo>·</mo>
              <msub>
                <mi>R</mi>
                <mi>G</mi>
              </msub>
            </mrow>
          </mrow>
        </mfrac>
        <mo>⪡</mo>
        <mfrac>
          <mn>1</mn>
          <msub>
            <mi>R</mi>
            <mi>lp</mi>
          </msub>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>76</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Applying this to [g<sub>m</sub>*R<sub>G</sub>&gt;&gt;1] yields:
</p>
<p id="p-0178" num="0177">
<maths id="MATH-US-00059" num="00059">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <mrow>
            <mfrac>
              <mrow>
                <msub>
                  <mi>g</mi>
                  <mn>2</mn>
                </msub>
                <mo>·</mo>
                <msub>
                  <mi>g</mi>
                  <mi>mn</mi>
                </msub>
              </mrow>
              <msub>
                <mi>g</mi>
                <mrow>
                  <mi>m</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>p</mi>
                </mrow>
              </msub>
            </mfrac>
            <mo>+</mo>
            <msub>
              <mi>g</mi>
              <mn>1</mn>
            </msub>
          </mrow>
          <msub>
            <mi>g</mi>
            <mi>mn</mi>
          </msub>
        </mfrac>
        <mo>⪡</mo>
        <mfrac>
          <msub>
            <mi>R</mi>
            <mi>G</mi>
          </msub>
          <msub>
            <mi>R</mi>
            <mi>lp</mi>
          </msub>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>77</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Assume that the left side of relation (77) has a magnitude of about 1%, while R<sub>G </sub>and R<sub>lp </sub>have about the magnitude of the same order. From this, it can be seen that the cascade current source may not be necessary. Cascode can increase the current source output impedance, but it may reduce the voltage swing and the current tuning range. From equations (70) and (77), it can be seen that a greater ratio R<sub>G</sub>/R<sub>lp </sub>may be desirable. In particular, the greater the R<sub>G</sub>, the more the effect of mismatching or finite impedance attenuates, while the smaller the R<sub>lp</sub>, the less influence from the resistance paralleled with it.
</p>
<p id="p-0179" num="0178">To estimate the oscillating frequency of the ring oscillator, a lot of nonlinear factors may be taken into consideration, which may be very complicated.</p>
<p id="p-0180" num="0179">Referring to the discussion of <figref idref="DRAWINGS">FIG. 23</figref> and equation (40) above, the transconductance g<sub>m </sub>of a delay cell generally depends on the operating point of the transistor. In strong inversion for a, the transconductance is the square root of the current I<sub>ICO</sub>, while in weak inversion, the transconductance and the current I<sub>ICO </sub>may have a linear relationship:</p>
<p id="p-0181" num="0180">
<maths id="MATH-US-00060" num="00060">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>gm</mi>
          <mrow>
            <mi>ICO</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>SI</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </msub>
        <mo>=</mo>
        <msqrt>
          <mrow>
            <mn>2</mn>
            <mo>·</mo>
            <mi>β</mi>
            <mo>·</mo>
            <msub>
              <mi>I</mi>
              <mi>ICO</mi>
            </msub>
          </mrow>
        </msqrt>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>78</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>gm</mi>
          <mrow>
            <mi>ICO</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>WI</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </msub>
        <mo>=</mo>
        <mfrac>
          <msub>
            <mi>I</mi>
            <mi>ICO</mi>
          </msub>
          <mrow>
            <msup>
              <mi>n</mi>
              <mi>′</mi>
            </msup>
            <mo>·</mo>
            <mfrac>
              <mi>kT</mi>
              <mi>q</mi>
            </mfrac>
          </mrow>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>79</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0182" num="0181">The subscripts SI, WI in the above equations represent, respectively, strong inversion and weak inversion, and [n′] is the sub-threshold factor, K is the Boltzmann constant, T is the absolute temperature and q is the charge of an electron. The differences between the strong-inversion and the weak-inversion explain that, when the control current is different, i.e., when the oscillating frequency is very large or very small, the function of the oscillation frequency to the control current changes.</p>
<p id="p-0183" num="0182">To determine the influence of this change, K<sub>ICO </sub>may be determined for the two situations respectively, by taking the derivative of ω<sub>osc </sub>with respect to I<sub>ICO</sub>:</p>
<p id="p-0184" num="0183">
<maths id="MATH-US-00061" num="00061">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>K</mi>
          <mrow>
            <mi>ICO</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>SI</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <msqrt>
            <mfrac>
              <mi>β</mi>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <msub>
                  <mi>I</mi>
                  <mi>ICO</mi>
                </msub>
              </mrow>
            </mfrac>
          </msqrt>
          <mo>·</mo>
          <mfrac>
            <mi>π</mi>
            <mrow>
              <mi>n</mi>
              <mo>·</mo>
              <msub>
                <mi>C</mi>
                <mi>d</mi>
              </msub>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>80</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>K</mi>
          <mrow>
            <mi>ICO</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>WI</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mrow>
              <msup>
                <mi>n</mi>
                <mi>′</mi>
              </msup>
              <mo>·</mo>
              <mfrac>
                <mi>kT</mi>
                <mi>q</mi>
              </mfrac>
            </mrow>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <mi>π</mi>
            <mrow>
              <mi>n</mi>
              <mo>·</mo>
              <msub>
                <mi>C</mi>
                <mi>d</mi>
              </msub>
            </mrow>
          </mfrac>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>81</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
Applying to the bandwidth expression of equation (61) produces:
</p>
<p id="p-0185" num="0184">
<maths id="MATH-US-00062" num="00062">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mrow>
            <mi>b</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>SI</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mn>1</mn>
            <mn>2</mn>
          </mfrac>
          <mo>·</mo>
          <mi>m</mi>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>CP</mi>
            </msub>
            <msub>
              <mi>I</mi>
              <mi>ICO</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>R</mi>
              <mi>lp</mi>
            </msub>
            <msub>
              <mi>R</mi>
              <mi>G</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>f</mi>
            <mi>REF</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>82</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mrow>
            <mi>b</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>(</mo>
              <mi>WI</mi>
              <mo>)</mo>
            </mrow>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <mi>m</mi>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>CP</mi>
            </msub>
            <msub>
              <mi>I</mi>
              <mi>ICO</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>R</mi>
              <mi>lp</mi>
            </msub>
            <msub>
              <mi>R</mi>
              <mi>G</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>f</mi>
            <mi>REF</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>83</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0186" num="0185">Equations (82) and (83) show two extremes for the PLL bandwidth. The PLL bandwidth at low oscillating frequency may be greater than the PLL bandwidth at high oscillating frequency. If the reference frequency remains the same, while changing the frequency multiplication factor N, the bandwidth may be great when N is small and vice versa. Generally speaking, the current index in the expression of the frequency to the controlling current will be the coefficient of the bandwidth formula. In fact, the curve of the oscillating frequency, which may be obtained by simulation, is about a 0.87 power of the control current. The oscillation frequency varies from 200 MHz to 1.6 GHz. Its index changes do not exceed [±20%], and are between equations (82) and (83). A similar phenomenon may also be present in a conventional self-biased PLL. Compared to the changes of the frequency multiplication factor, the change of the PLL bandwidth may be very small.</p>
<p id="p-0187" num="0186">A test circuit according to some embodiments of the present invention has been implemented using 0.35 μm single level polysilicon technology, based on a triple metal standard CMOS technology. The test circuit includes a PFD, charge pump, current-mode loop filter, current-controlled oscillator and feedback divider.</p>
<p id="p-0188" num="0187">If the input clock and the feedback clock are digital signals, a sensitive exclusive-OR-gate discriminator or edge-sensitive PFD may be used. The linear range of a typical exclusive-OR-gate discriminator is π, which is also related with the duty cycle of the signal. A PFD 3600 described in I. A. Young, J. K. Greason, and K. L. Wong, “A PLL clock generator with 5 to 110 MHz of lock range for microprocessors,” <i>IEEE Journal of Solid</i>-<i>State Circuits</i>, vol. 27, pp. 1599-1606, November 1992, that may be used in embodiments of the present invention is shown in <figref idref="DRAWINGS">FIG. 36</figref>. In the PFD circuit <b>3600</b>, when the reference clock signal Clk<sub>REF </sub>leads the feedback clock signal Clk<sub>FB</sub>, “up” is 1, and the pulse width is equal to the lead interval; when the reference clock signal Clk<sub>REF </sub>lags behind the feedback clock signal Clk<sub>FB</sub>, “dn” is 1, and the pulse width is equal to the lag time. It will be appreciated that a variety of other types of PFD circuits may be used in various embodiments of the present invention.</p>
<p id="p-0189" num="0188"><figref idref="DRAWINGS">FIG. 37</figref> illustrates a charge pump <b>3710</b> and current-mode filter <b>3720</b> that may be used in a self-biased current-mode PLL according to some embodiments of the present invention. The charge pump <b>3710</b> includes transistors MN<b>0</b> and MP<b>0</b>, along with switches S<b>2</b> and S<b>3</b> that are responsive to “up” and “dn” signals received from a PFD, e.g., the PFD <b>3600</b> of <figref idref="DRAWINGS">FIG. 36</figref>.</p>
<p id="p-0190" num="0189">The current mode filter circuit <b>3720</b> includes a core <b>3722</b> that includes current mirror transistors MN<b>1</b> and MN<b>2</b> and bias transistors MP<b>1</b> and MP<b>2</b>. A switch S<b>1</b> is configured to connect and disconnect a third-order filter network <b>3724</b> to and from a gate of the transistor MN<b>1</b>. The filter network <b>3724</b> includes resistors R<sub>G</sub>, R<sub>lp </sub>and R<sub>2</sub>, and capacitors C<sub>1</sub>, C<sub>2 </sub>and C<sub>3</sub>. The filter circuit <b>3720</b> further includes a noise canceling circuit <b>3726</b> and a regulated cascade current source <b>3728</b> and output transistors MP<b>4</b> and MP<b>5</b>.</p>
<p id="p-0191" num="0190">The current produced by the charge pump circuit <b>3710</b> is ⅛ of the mirror image of the output current Iout. The initial state the output current Iout is approximately zero and there is no current in the charge pump <b>3710</b>, which could make the PLL hard to capture. Therefore, a very small current source (not shown) may be added to start oscillation. In the test circuit, a 3 μA current was provided, which can be neglected at a medium frequency (e.g., around 100 MHz). Such a current source may, for example, be turned off via register settings. It will be understood that other startup circuits may be used.</p>
<p id="p-0192" num="0191">The switch S<b>1</b> is controlled by the “up” and “dn” signals. When either of these signals is asserted, the current-mode filter <b>3720</b> is enabled to filter the input current; when neither is asserted, the loop is opened. The third-order filter <b>3724</b> may filter canaries effectively. To save power, each branch current of the current-mode filter <b>3720</b> is half of the output current, i.e. m=2. The regulated cascade circuit <b>3740</b> may change the power supply rejection ratio by increasing the output impedance.</p>
<p id="p-0193" num="0192">Mismatching of the current source may not significantly affect performance. However, it may be desirable to use a short channel transistor as a current source to avoid large flicker noise. Also, because the current-mode filter <b>3724</b> may occupy a relatively small area, use of longer channel transistor may not unduly increase the total area. The test circuit uses N and P transistors with 1.5 μm channel lengths. For the typical 0.35 μm process, A<sub>VTn </sub>is 10 mV μm; A<sub>VTp </sub>is 17 mV μm. It has been determined from simulation that when the oscillation is 800 MHz, NMOS transconductance is 2.243 mS, and PMOS transconductance is 2.114 mS. It can be estimated that the mismatching factor α is probably 98.7% (3σ) and γ is probably 98.8% (3σ). Thus, the left side of equation (70) may be less than 0.025. It may be assumed that [R<sub>lp</sub>/R<sub>G</sub>] is 1 to satisfy equation (70).</p>
<p id="p-0194" num="0193">It is assumed that the transistors are working in saturation. If the oscillating frequency is very high, requiring a large current output from the current-mode filter, then the NN<b>2</b> grid is very high and the drain is very low; in other words, the MP<b>1</b> (MP<b>3</b>) grid is very low and the drain is very high. All these transistors, therefore, may enter the linear region, which can change behavior of the circuit. To achieve wider frequency range, this may be avoided.</p>
<p id="p-0195" num="0194">A current controlled oscillator circuit <b>3800</b> used in the self-biased PLL test circuit according to some embodiments of the present invention is shown in <figref idref="DRAWINGS">FIG. 38</figref>. The oscillator circuit <b>3800</b> includes a plurality of CMOS inverter delay cells <b>3810</b> connected in a ring configuration to form a ring oscillator, which can run at over 1 GHz in the 0.35 μm process used for the test circuit. The delay cells <b>3810</b> are controlled by the current I<sub>in</sub>, which may be the output current Iout of the current-mode filter <b>3720</b> of <figref idref="DRAWINGS">FIG. 37</figref>. The control current and the impedance of the delay cells <b>3810</b> determine the voltage V<sub>in </sub>applied to the delays <b>3810</b>:</p>
<p id="p-0196" num="0195">
<maths id="MATH-US-00063" num="00063">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>V</mi>
            <mi>in</mi>
          </msub>
          <mo>∝</mo>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>in</mi>
            </msub>
            <mrow>
              <mn>3</mn>
              <mo>⁢</mo>
              <mover>
                <msub>
                  <mi>g</mi>
                  <mi>m</mi>
                </msub>
                <mi>_</mi>
              </mover>
            </mrow>
          </mfrac>
          <mo>∝</mo>
          <msqrt>
            <msub>
              <mi>I</mi>
              <mi>in</mi>
            </msub>
          </msqrt>
          <mo>∝</mo>
          <msub>
            <mi>f</mi>
            <mi>osc</mi>
          </msub>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>84</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where <o ostyle="single">g<sub>m</sub></o> indicates the average transconductance between NMOS and PMOS in an oscillation period in the inverter. The oscillation amplitude and the oscillating frequency are in proportion. The higher the oscillating frequency, the greater the oscillation amplitude, and the quicker the change rates of rising and trailing edges. If the edge rate are quick, the circuit will not be particularly sensitive to device noise or power fluctuation. This characteristic may keep the circuit shown in a low-jitter state when high frequency oscillation occurs. To ensure the duty cycle of the output clock, a dimidiate frequency divider may be placed between the ring oscillator and the output. A capacitance C<sub>DEC </sub>of several dozens of picofarads (pF) is shown between node V<sub>in </sub>and ground. This capacitance may make ground noise substantially transparent to the delay cell. Power supply noise, isolated by the high impedance current source, may have little effect on the oscillator. It will be understood that some embodiments of the present invention may use other ring oscillator structures and/or other types of oscillators (e.g., crystal, RC, LC resonance, DDFS).
</p>
<p id="p-0197" num="0196"><figref idref="DRAWINGS">FIG. 39</figref> illustrates an equivalent circuit for analyzing power supply noise. In the figure, R<sub>CS </sub>is the output impedance of the current source, R<sub>CS </sub>is the parasitic capacitance from power V<sub>DD </sub>to the node V<sub>in</sub>, R<sub>ICO </sub>is the average impedance of the oscillator, namely the reciprocal of [3 <o ostyle="single">g<sub>m</sub></o>]. This is a single-pole, single-zero system:</p>
<p id="p-0198" num="0197">
<maths id="MATH-US-00064" num="00064">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mfrac>
          <msub>
            <mi>V</mi>
            <mi>in</mi>
          </msub>
          <msub>
            <mi>V</mi>
            <mi>DD</mi>
          </msub>
        </mfrac>
        <mo>=</mo>
        <mfrac>
          <mrow>
            <msub>
              <mi>R</mi>
              <mi>ICO</mi>
            </msub>
            <mo>·</mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mn>1</mn>
                <mo>+</mo>
                <mrow>
                  <mi>s</mi>
                  <mo>·</mo>
                  <msub>
                    <mi>C</mi>
                    <mi>CS</mi>
                  </msub>
                  <mo>·</mo>
                  <msub>
                    <mi>R</mi>
                    <mi>CS</mi>
                  </msub>
                </mrow>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mtable>
            <mtr>
              <mtd>
                <mrow>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <msub>
                        <mi>R</mi>
                        <mi>CS</mi>
                      </msub>
                      <mo>+</mo>
                      <msub>
                        <mi>R</mi>
                        <mi>ICO</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mo>·</mo>
                  <mrow>
                    <mo>[</mo>
                    <mrow>
                      <mn>1</mn>
                      <mo>+</mo>
                      <mrow>
                        <mi>s</mi>
                        <mo>·</mo>
                        <mrow>
                          <mo>(</mo>
                          <mrow>
                            <msub>
                              <mi>C</mi>
                              <mi>CS</mi>
                            </msub>
                            <mo>+</mo>
                            <msub>
                              <mi>C</mi>
                              <mi>DEC</mi>
                            </msub>
                          </mrow>
                          <mo>)</mo>
                        </mrow>
                        <mo>·</mo>
                      </mrow>
                    </mrow>
                  </mrow>
                </mrow>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mrow>
                  <mfrac>
                    <mrow>
                      <msub>
                        <mi>R</mi>
                        <mi>ICO</mi>
                      </msub>
                      <mo>·</mo>
                      <msub>
                        <mi>R</mi>
                        <mi>CS</mi>
                      </msub>
                    </mrow>
                    <mrow>
                      <msub>
                        <mi>R</mi>
                        <mi>ICO</mi>
                      </msub>
                      <mo>+</mo>
                      <msub>
                        <mi>R</mi>
                        <mi>CS</mi>
                      </msub>
                    </mrow>
                  </mfrac>
                  <mo>]</mo>
                </mrow>
              </mtd>
            </mtr>
          </mtable>
        </mfrac>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>85</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
At low frequency, it is the partial pressure of two resistances; when in high frequency, it is the partial pressure of two capacitances. Therefore, it may be helpful for the input current to reduce the impact of low-frequency power noise by using a regulated cascade current source to increase the output impedance. Moreover, C<sub>DEC </sub>augmentation may be beneficial to the increase of power supply rejection ratio.
</p>
<p id="p-0199" num="0198"><figref idref="DRAWINGS">FIG. 40</figref> indicates a typical oscillogram for power supply rejection ratio (PSRR) of a current-controlled oscillator. When the PLL is closed, the power supply rejection ratio is multiplied by K<sub>VCO</sub>/S and divided by (1+loop gain) to obtain the power supply rejection ratio of the output phase. A simulation shows that the gain of the oscillating frequency to the control current (e.g., the current I<sub>in </sub>of <figref idref="DRAWINGS">FIG. 38</figref>) is close to the indicial response, with the index being about 0.87, as shown in <figref idref="DRAWINGS">FIG. 41</figref>. The measured characteristic curve of the current-controlled oscillator of the test circuit is also shown in <figref idref="DRAWINGS">FIG. 41</figref>. From curves at several dozens of megahertz (MHz), the test result is a fixed ratio greater than the simulation result. The measured gain curve shows that oscillators having such a structure may have a large frequency range, from several megahertz (MHz) to over 1 gigahertz (GHz).</p>
<p id="p-0200" num="0199">For high-frequency applications, a frequency divider <b>4200</b> with a two-stage structure including a high-speed prescaler <b>4210</b> and a programmable divider <b>4220</b>, as shown in <figref idref="DRAWINGS">FIG. 42</figref>, may be used for feedback to the PFD. Compared with a conventional synchronous divider, this circuit may provide many advantages. It may avoid problems of too much load, caused by the fact that, when the division ratio is big, the top-speed clock has to drive so many D flip-flop triggers. It may not have unduly strict requirements for time sequencing of the programmable divider <b>4220</b>, if high-speed frequency-division pressure is put only on the prescaler <b>4210</b>. Power consumption may also be reduced. In fact, since the programmable divider <b>4220</b> may be implemented using a standard cell, there may be no need to have a special design that trade the area off the speed.</p>
<p id="p-0201" num="0200">The high-speed prescaler <b>4210</b> has two divisors, and may also be referred to as a dual modulus divider. A division ratio that is more than 16 can be broken down into the sum of several 4s and several 5s, namely:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>N=</i>4<i>p+</i>5<i>q</i>  (86)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where N is the division ratio, and p and q are positive integers. To facilitate design, it may be assumed that q is a natural number from 0 to 3, which can simplify design of the programmable divider. An exemplary dual modulus divider <b>4300</b> that divides by 4 or 5 and that may be used as a prescaler is shown in <figref idref="DRAWINGS">FIG. 43</figref>. A maximum one logic-gate delay is present from each stage to the next stage, therefore, the speed can be very high. The DFF in the prescaler may be designed to meet the requirements for high-speed frequency division.
</p>
<p id="p-0202" num="0201">Assuming a design with a reference frequency of 6.667 MHz and an open-loop bandwidth of 200 KHz, because the oscillation frequency of the current-controlled oscillator is generally in proportion to the 0.87 equation of power of the control current, bandwidth may be expressed as:</p>
<p id="p-0203" num="0202">
<maths id="MATH-US-00065" num="00065">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mi>b</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mn>0.87</mn>
          <mo>·</mo>
          <mi>m</mi>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>I</mi>
              <mi>CP</mi>
            </msub>
            <msub>
              <mi>I</mi>
              <mi>ICO</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <mfrac>
            <msub>
              <mi>R</mi>
              <mi>lp</mi>
            </msub>
            <msub>
              <mi>R</mi>
              <mi>G</mi>
            </msub>
          </mfrac>
          <mo>·</mo>
          <msub>
            <mi>f</mi>
            <mi>REF</mi>
          </msub>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>87</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0204" num="0203">Assuming that m is 2, I<sub>CP</sub>/I<sub>ICO </sub>is ⅛, and R<sub>lp</sub>/R<sub>G </sub>is 1, then the bandwidth is equal to around 230 KHz. Because a high-order RC filter may be used in the current-mode loop filter, there may be more influence from the high-frequency poles, such that the bandwidth may be slightly smaller. A model for simulating the small signal characteristics is shown in <figref idref="DRAWINGS">FIG. 44</figref>. If the frequency multiplication factor is from 30 to 255, then the bandwidth, obtained from simulation, may be between 180 KHz and 250 KHz.</p>
<p id="p-0205" num="0204">The aforementioned test chip was fabricated with a 0.35 μm pure digital CMOS process, taking up 0.2 mm<sup>2 </sup>(about 300 μm×650 μm) of chip area. Compared with conventional voltage-mode circuits, the area is reduced by about 15%. <figref idref="DRAWINGS">FIG. 45</figref> illustrates PLL frequency track for the test device when switching from power down mode to a normal mode. The input clock frequency is 6.66667 MHz. The frequency of the current controlled oscillator (ICO) is the input frequency multiplied by the frequency multiplication factor. The output clock frequency is half of the ICO frequency. The lock time of the PLL changes along with the frequency multiplication factor. For the test chip, the larger the frequency multiplication factor is, the longer the locking time. If the frequency multiplication factor is 120 (output clock 400 MHz), the locking time is about 60 μs; if the frequency multiplication factor is 32 (output clock 106.6 MHz), the locking time is less than 40 μs.</p>
<p id="p-0206" num="0205">The bandwidth of the circuit does not appear to significantly change with process, temperature, power supply and frequency multiplication factor. The closed-loop bandwidth is different from the open-loop bandwidth. In a second-order PLL, the closed-loop bandwidth and the natural frequency relates each other as follows:</p>
<p id="p-0207" num="0206">
<maths id="MATH-US-00066" num="00066">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>ω</mi>
          <mrow>
            <mrow>
              <mo>-</mo>
              <mn>3</mn>
            </mrow>
            <mo>⁢</mo>
            <mi>d</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.3em" height="0.3ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>B</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>ω</mi>
            <mi>n</mi>
          </msub>
          <mo>·</mo>
          <msqrt>
            <mrow>
              <mrow>
                <mn>2</mn>
                <mo>⁢</mo>
                <mstyle>
                  <mspace width="0.3em" height="0.3ex"/>
                </mstyle>
                <mo>⁢</mo>
                <msup>
                  <mi>ζ</mi>
                  <mn>2</mn>
                </msup>
              </mrow>
              <mo>+</mo>
              <mn>1</mn>
              <mo>+</mo>
              <msqrt>
                <mrow>
                  <msup>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mrow>
                          <mn>2</mn>
                          <mo>⁢</mo>
                          <mstyle>
                            <mspace width="0.3em" height="0.3ex"/>
                          </mstyle>
                          <mo>⁢</mo>
                          <msup>
                            <mi>ζ</mi>
                            <mn>2</mn>
                          </msup>
                        </mrow>
                        <mo>+</mo>
                        <mn>1</mn>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                    <mn>2</mn>
                  </msup>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
              </msqrt>
            </mrow>
          </msqrt>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>88</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
The closed-loop bandwidth is generally greater than the open-loop bandwidth. When the damping factor is much larger than 1, they are approximately equal. But the expression for the closed-loop bandwidth of multi-order PLL is more complicated. It is expected that the changing directions of the closed-loop bandwidth and the open-loop bandwidth are the same. The change of the resistance and capacitance may affect the natural frequency and the damping factor, and consequently cause the deviation of the closed-loop bandwidth from the design target. A method for measuring bandwidth involves adding a step to the input clock source and carrying out a discrete Fourier transform on the output phase. From this, a −3 dB bandwidth may be determined. It has been estimated the error is about several kilohertz.
</p>
<p id="p-0208" num="0207">Relationships between closed-loop bandwidth and the frequency multiplication factor in the test chip are shown in <figref idref="DRAWINGS">FIG. 46(</figref><i>a</i>). The simulation results are shown with real lines and the test results are shown with and asterisk (*). For the figure, the input clock is 6.25 MHz. From the chart, there appears to be little relation between the closed-loop bandwidth and the frequency multiplication factor. Along with the increase of the frequency multiplication factor, the bandwidth drops slightly. When the frequency multiplication factor is changed from 30 to 255, the bandwidth changes from 235 KHz to 185 KHz, dropping by 27%. The actual variation of the test chip is smaller than the simulation result.</p>
<p id="p-0209" num="0208">Relationships between the closed-loop bandwidth and the ambient temperature have also been tested. Referring to <figref idref="DRAWINGS">FIG. 46(</figref><i>b</i>), the input clock frequency is also 6.25 MHz, but the frequency multiplication factor is fixed at 120. Due to the slight change tendency, the test error has already had its influence. A trend line indicates the general change. It can be inferred from the chart that the ambient temperature may have little influence on the bandwidth. <figref idref="DRAWINGS">FIG. 46(</figref><i>c</i>) shows the relationship of the PLL closed-loop bandwidth and the input clock frequency. When carrying out this test, every time the input clock frequency changes, the frequency multiplication factor changes accordingly, which keeps the oscillation frequency at 750 MHz. A multi-order loop filter was used and the position of the high frequency pole fixed. When the bandwidth is changing, the influence of the high frequency pole also changes, so the closed-loop bandwidth and the input clock frequency do not have a linear relationship, which can be confirmed by simulation. In the chart, the lines show the results of the simulation. The test results scatter near the simulation line, with a maximum error of 6%. It appears that the bandwidth changes according to the input clock frequency.</p>
<p id="p-0210" num="0209">The jitter performance of the test device is also desirable. Jitter characteristics are summarized in Table 1:</p>
<p id="p-0211" num="0210">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Jitter Performance</entry>
</row>
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry/>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="1" colwidth="112pt" align="left"/>
<colspec colname="2" colwidth="35pt" align="char" char="."/>
<colspec colname="3" colwidth="35pt" align="char" char="."/>
<colspec colname="4" colwidth="35pt" align="char" char="."/>
<tbody valign="top">
<row>
<entry>Frequency Multiplication Factor (N)</entry>
<entry>30</entry>
<entry>120</entry>
<entry>240</entry>
</row>
<row>
<entry>ICO oscillation frequency (MHz)</entry>
<entry>200</entry>
<entry>800</entry>
<entry>1600</entry>
</row>
<row>
<entry>Output clock (MHz)</entry>
<entry>100</entry>
<entry>400</entry>
<entry>800</entry>
</row>
<row>
<entry>Period samples (Thousand)</entry>
<entry>80</entry>
<entry>320</entry>
<entry>640</entry>
</row>
<row>
<entry>Cycle-cycle jitter (rms, ps)</entry>
<entry>13.65</entry>
<entry>9.89</entry>
<entry>8.67</entry>
</row>
<row>
<entry>Cycle-cycle jitter (peak-peak, ps)</entry>
<entry>123</entry>
<entry>99</entry>
<entry>78</entry>
</row>
<row>
<entry>Period jitter (rms, ps)</entry>
<entry>8.48</entry>
<entry>5.70</entry>
<entry>5.04</entry>
</row>
<row>
<entry>Period jitter (peak-peak, ps)</entry>
<entry>73</entry>
<entry>55</entry>
<entry>48</entry>
</row>
<row>
<entry>Phase jitter (rms, ps)</entry>
<entry>99.53</entry>
<entry>30.33</entry>
<entry>16.17</entry>
</row>
<row>
<entry>Phase jitter (peak-peak, ps)</entry>
<entry>729</entry>
<entry>213</entry>
<entry>121</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
<br/>
Generally speaking, the test chip confirms that it is feasible to use a current-mode loop filter in a PLL, and that such a PLL can provide desirable performance.
</p>
<p id="p-0212" num="0211">In the drawings and specification, there have been disclosed exemplary embodiments of the invention. Although specific terms are employed, they are used in a generic and descriptive sense only and not for purposes of limitation, the scope of the invention being defined by the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298221-20071120-M00001.NB">
<img id="EMI-M00001" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US07298221-20071120-M00002.NB">
<img id="EMI-M00002" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US07298221-20071120-M00003.NB">
<img id="EMI-M00003" he="11.26mm" wi="76.20mm" file="US07298221-20071120-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US07298221-20071120-M00004.NB">
<img id="EMI-M00004" he="6.35mm" wi="76.20mm" file="US07298221-20071120-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US07298221-20071120-M00005.NB">
<img id="EMI-M00005" he="13.38mm" wi="76.20mm" file="US07298221-20071120-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US07298221-20071120-M00006.NB">
<img id="EMI-M00006" he="7.45mm" wi="76.20mm" file="US07298221-20071120-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US07298221-20071120-M00007.NB">
<img id="EMI-M00007" he="23.28mm" wi="76.20mm" file="US07298221-20071120-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US07298221-20071120-M00008.NB">
<img id="EMI-M00008" he="11.26mm" wi="76.20mm" file="US07298221-20071120-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US07298221-20071120-M00009.NB">
<img id="EMI-M00009" he="10.24mm" wi="76.20mm" file="US07298221-20071120-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US07298221-20071120-M00010.NB">
<img id="EMI-M00010" he="10.24mm" wi="76.20mm" file="US07298221-20071120-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US07298221-20071120-M00011.NB">
<img id="EMI-M00011" he="16.93mm" wi="76.20mm" file="US07298221-20071120-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US07298221-20071120-M00012.NB">
<img id="EMI-M00012" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00013" nb-file="US07298221-20071120-M00013.NB">
<img id="EMI-M00013" he="10.58mm" wi="76.20mm" file="US07298221-20071120-M00013.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00014" nb-file="US07298221-20071120-M00014.NB">
<img id="EMI-M00014" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00014.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00015" nb-file="US07298221-20071120-M00015.NB">
<img id="EMI-M00015" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00015.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00016" nb-file="US07298221-20071120-M00016.NB">
<img id="EMI-M00016" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00016.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00017" nb-file="US07298221-20071120-M00017.NB">
<img id="EMI-M00017" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00017.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00018" nb-file="US07298221-20071120-M00018.NB">
<img id="EMI-M00018" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00018.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00019" nb-file="US07298221-20071120-M00019.NB">
<img id="EMI-M00019" he="28.62mm" wi="76.20mm" file="US07298221-20071120-M00019.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00020" nb-file="US07298221-20071120-M00020.NB">
<img id="EMI-M00020" he="37.08mm" wi="76.20mm" file="US07298221-20071120-M00020.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00021" nb-file="US07298221-20071120-M00021.NB">
<img id="EMI-M00021" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00021.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00022" nb-file="US07298221-20071120-M00022.NB">
<img id="EMI-M00022" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00022.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00023" nb-file="US07298221-20071120-M00023.NB">
<img id="EMI-M00023" he="6.35mm" wi="76.20mm" file="US07298221-20071120-M00023.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00024" nb-file="US07298221-20071120-M00024.NB">
<img id="EMI-M00024" he="16.26mm" wi="76.20mm" file="US07298221-20071120-M00024.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00025" nb-file="US07298221-20071120-M00025.NB">
<img id="EMI-M00025" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00025.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00026" nb-file="US07298221-20071120-M00026.NB">
<img id="EMI-M00026" he="5.33mm" wi="76.20mm" file="US07298221-20071120-M00026.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00027" nb-file="US07298221-20071120-M00027.NB">
<img id="EMI-M00027" he="5.33mm" wi="76.20mm" file="US07298221-20071120-M00027.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00028" nb-file="US07298221-20071120-M00028.NB">
<img id="EMI-M00028" he="7.45mm" wi="76.20mm" file="US07298221-20071120-M00028.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00029" nb-file="US07298221-20071120-M00029.NB">
<img id="EMI-M00029" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00029.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00030" nb-file="US07298221-20071120-M00030.NB">
<img id="EMI-M00030" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00030.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00031" nb-file="US07298221-20071120-M00031.NB">
<img id="EMI-M00031" he="6.01mm" wi="76.20mm" file="US07298221-20071120-M00031.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00032" nb-file="US07298221-20071120-M00032.NB">
<img id="EMI-M00032" he="18.37mm" wi="76.20mm" file="US07298221-20071120-M00032.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00033" nb-file="US07298221-20071120-M00033.NB">
<img id="EMI-M00033" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00033.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00034" nb-file="US07298221-20071120-M00034.NB">
<img id="EMI-M00034" he="10.92mm" wi="76.20mm" file="US07298221-20071120-M00034.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00035" nb-file="US07298221-20071120-M00035.NB">
<img id="EMI-M00035" he="26.50mm" wi="76.20mm" file="US07298221-20071120-M00035.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00036" nb-file="US07298221-20071120-M00036.NB">
<img id="EMI-M00036" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00036.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00037" nb-file="US07298221-20071120-M00037.NB">
<img id="EMI-M00037" he="9.57mm" wi="76.20mm" file="US07298221-20071120-M00037.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00038" nb-file="US07298221-20071120-M00038.NB">
<img id="EMI-M00038" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00038.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00039" nb-file="US07298221-20071120-M00039.NB">
<img id="EMI-M00039" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00039.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00040" nb-file="US07298221-20071120-M00040.NB">
<img id="EMI-M00040" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00040.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00041" nb-file="US07298221-20071120-M00041.NB">
<img id="EMI-M00041" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00041.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00042" nb-file="US07298221-20071120-M00042.NB">
<img id="EMI-M00042" he="16.59mm" wi="76.20mm" file="US07298221-20071120-M00042.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00043" nb-file="US07298221-20071120-M00043.NB">
<img id="EMI-M00043" he="6.35mm" wi="76.20mm" file="US07298221-20071120-M00043.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00044" nb-file="US07298221-20071120-M00044.NB">
<img id="EMI-M00044" he="6.35mm" wi="76.20mm" file="US07298221-20071120-M00044.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00045" nb-file="US07298221-20071120-M00045.NB">
<img id="EMI-M00045" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00045.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00046" nb-file="US07298221-20071120-M00046.NB">
<img id="EMI-M00046" he="6.35mm" wi="76.20mm" file="US07298221-20071120-M00046.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00047" nb-file="US07298221-20071120-M00047.NB">
<img id="EMI-M00047" he="8.13mm" wi="76.20mm" file="US07298221-20071120-M00047.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00048" nb-file="US07298221-20071120-M00048.NB">
<img id="EMI-M00048" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00048.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00049" nb-file="US07298221-20071120-M00049.NB">
<img id="EMI-M00049" he="16.26mm" wi="76.20mm" file="US07298221-20071120-M00049.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00050" nb-file="US07298221-20071120-M00050.NB">
<img id="EMI-M00050" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00050.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00051" nb-file="US07298221-20071120-M00051.NB">
<img id="EMI-M00051" he="20.15mm" wi="76.20mm" file="US07298221-20071120-M00051.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00052" nb-file="US07298221-20071120-M00052.NB">
<img id="EMI-M00052" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00052.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00053" nb-file="US07298221-20071120-M00053.NB">
<img id="EMI-M00053" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00053.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00054" nb-file="US07298221-20071120-M00054.NB">
<img id="EMI-M00054" he="7.03mm" wi="76.20mm" file="US07298221-20071120-M00054.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00055" nb-file="US07298221-20071120-M00055.NB">
<img id="EMI-M00055" he="24.72mm" wi="76.20mm" file="US07298221-20071120-M00055.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00056" nb-file="US07298221-20071120-M00056.NB">
<img id="EMI-M00056" he="43.43mm" wi="76.20mm" file="US07298221-20071120-M00056.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00057" nb-file="US07298221-20071120-M00057.NB">
<img id="EMI-M00057" he="9.91mm" wi="76.20mm" file="US07298221-20071120-M00057.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00058" nb-file="US07298221-20071120-M00058.NB">
<img id="EMI-M00058" he="10.24mm" wi="76.20mm" file="US07298221-20071120-M00058.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00059" nb-file="US07298221-20071120-M00059.NB">
<img id="EMI-M00059" he="10.24mm" wi="76.20mm" file="US07298221-20071120-M00059.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00060" nb-file="US07298221-20071120-M00060.NB">
<img id="EMI-M00060" he="16.26mm" wi="76.20mm" file="US07298221-20071120-M00060.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00061" nb-file="US07298221-20071120-M00061.NB">
<img id="EMI-M00061" he="20.15mm" wi="76.20mm" file="US07298221-20071120-M00061.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00062" nb-file="US07298221-20071120-M00062.NB">
<img id="EMI-M00062" he="14.82mm" wi="76.20mm" file="US07298221-20071120-M00062.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00063" nb-file="US07298221-20071120-M00063.NB">
<img id="EMI-M00063" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00063.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00064" nb-file="US07298221-20071120-M00064.NB">
<img id="EMI-M00064" he="14.14mm" wi="76.20mm" file="US07298221-20071120-M00064.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00065" nb-file="US07298221-20071120-M00065.NB">
<img id="EMI-M00065" he="6.69mm" wi="76.20mm" file="US07298221-20071120-M00065.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00066" nb-file="US07298221-20071120-M00066.NB">
<img id="EMI-M00066" he="8.47mm" wi="76.20mm" file="US07298221-20071120-M00066.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>That which is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A phase-locked loop (PLL), comprising:
<claim-text>a phase-frequency detector circuit configured to detect an error of an output clock signal in relation to a reference clock signal and to generate a charge pump control signal therefrom;</claim-text>
<claim-text>a charge pump circuit configured to charge and discharge an output node thereof responsive to the charge pump control signal;</claim-text>
<claim-text>a current-mode loop filter circuit coupled to the output node of the charge pump circuit and configured to generate a filtered current from the current at the output node of the charge pump circuit, wherein the current-mode loop filter circuit comprises:
<claim-text>first and second transistors arranged as a current mirror circuit, the first transistor having a current path and a control electrode therefor coupled to the output node of the charge pump circuit; and</claim-text>
<claim-text>a filter network configured to be coupled between the control electrode of the first transistor and a control electrode of the second transistor; and</claim-text>
</claim-text>
<claim-text>a current-controlled oscillator configured to generate the output clock signal responsive to the filtered current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the current-mode loop filter circuit is self-biased.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the current-mode loop filter circuit and the charge pump are biased responsive to a common bias control signal generated by the current-mode loop filter circuit.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the current-mode loop filter circuit is configured to enable and disable current integration responsive to the charge pump control signal.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The PLL of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the current-mode loop filter circuit comprises a switch configured to make and break a coupling of the control electrodes of the first and second transistors through the filter network responsive to the charge pump control signal.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The PLL of <claim-ref idref="CLM-00005">claim 5</claim-ref>:
<claim-text>wherein the charge pump control signal comprises an advance signal and a retard signal;</claim-text>
<claim-text>wherein the charge pump is configured charge and discharge the output node responsive to respective ones of the advance and retard signals; and</claim-text>
<claim-text>wherein the switch is configured to couple the control electrodes of the first and second transistors through the filter network responsive to assertion of either of the advance and retard signals and to decouple the control electrodes of the first and second transistors responsive to deassertion of both the advance signal and the retard signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the filter network comprises an RC filter network.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The PLL of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the filter network comprises a second or higher order RC filter network.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The PLL of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the filter network comprises:
<claim-text>a first resistance having a first terminal configured to be coupled to the control electrode of the first transistor;</claim-text>
<claim-text>a second resistance coupled between a second terminal of the first resistance and the control electrode of the second transistor;</claim-text>
<claim-text>a first capacitance coupled between the second terminal of the first resistance and a ground node;</claim-text>
<claim-text>a second capacitance coupled between the control electrode of the second transistor and the ground node; and</claim-text>
<claim-text>a series combination of a third resistance and a third capacitance coupled between the second terminal of the first resistance and the ground node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first and second transistors comprise respective NMOS transistors.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The PLL of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the first and second transistors have a channel length substantially greater than a minimum channel length of a fabrication process in which they are implemented.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The PLL of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the first and second transistors are implemented in a 0.35 μm process, and wherein the first and second transistors have a channel length of around 1.5 μm.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the current-mode loop filter circuit further comprises a bias circuit coupled between the current mirror circuit and a power supply voltage source and configured to bias the current mirror circuit responsive to a bias control signal generated at a controlled electrode of the second transistor.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the current-mode loop filter circuit further comprises a noise canceling circuit and a cascade current source coupled between the current mirror circuit and the current-controlled oscillator.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising a feedback divider circuit coupled between the current-controlled oscillator circuit and an input of the phase-frequency detector circuit.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the feedback divider circuit comprises a series combination of a programmable divider and a dual modulus prescaler.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The PLL of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the current-controlled oscillator circuit comprises a current-controlled ring oscillator circuit.</claim-text>
</claim>
</claims>
</us-patent-grant>
