<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298837-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298837</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10612290</doc-number>
<date>20030630</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>671</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>M</subclass>
<main-group>1</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>M</subclass>
<main-group>9</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>37939901</main-classification>
<further-classification>327 65</further-classification>
</classification-national>
<invention-title id="d0e53">Cross-over voltage lock for differential output drivers</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5166635</doc-number>
<kind>A</kind>
<name>Shih</name>
<date>19921100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330253</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5726588</doc-number>
<kind>A</kind>
<name>Fiedler</name>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 63</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6018219</doc-number>
<kind>A</kind>
<name>Komarek et al.</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>315194</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6430606</doc-number>
<kind>B1</kind>
<name>Haq</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709208</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6566926</doc-number>
<kind>B1</kind>
<name>Patterson</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>327206</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6583656</doc-number>
<kind>B1</kind>
<name>Liu</name>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327170</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6617892</doc-number>
<kind>B2</kind>
<name>Krishnamurthy et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327112</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6946904</doc-number>
<kind>B1</kind>
<name>Varma et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327595</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2006/0012402</doc-number>
<kind>A1</kind>
<name>Haq</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327 14</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>EP</country>
<doc-number>1193873</doc-number>
<kind>A2</kind>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>WO</country>
<doc-number>WO-2005/011218</doc-number>
<kind>A1</kind>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00012">
<othercit>“International Search Report for corresponding PCT Application No. PCT/US2004/011644”, (Oct. 21, 2004), 3 pgs.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>31</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>37939901-41304</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>10</number-of-drawing-sheets>
<number-of-figures>16</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040263214</doc-number>
<kind>A1</kind>
<date>20041230</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Patterson</last-name>
<first-name>James D.</first-name>
<address>
<city>Colorado Springs</city>
<state>CO</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Schwegman, Lundberg &amp; Woessner, P.A.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Intel Corporation</orgname>
<role>02</role>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Singh</last-name>
<first-name>Ramnandan</first-name>
<department>2614</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An apparatus comprising a first differential output driver to provide a single ended output voltage in response to an input voltage, a second differential output driver to provide a single ended output in response to the input voltage where the first output voltage and the second output voltage are representative of the positive and inverted input voltage. The apparatus also includes a feedback circuit to monitor the first and second output voltages and apply a bias voltage to at least one of the first and second output drivers to vary the point where the first and second output voltages cross-over as the input voltage changes from a first to a second level.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="142.66mm" wi="223.60mm" file="US07298837-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="224.03mm" wi="162.64mm" orientation="landscape" file="US07298837-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="251.80mm" wi="167.39mm" file="US07298837-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="254.93mm" wi="165.44mm" file="US07298837-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="245.87mm" wi="189.99mm" orientation="landscape" file="US07298837-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="214.80mm" wi="165.10mm" file="US07298837-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="235.88mm" wi="183.90mm" file="US07298837-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="260.94mm" wi="182.71mm" file="US07298837-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="259.84mm" wi="180.34mm" file="US07298837-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="232.92mm" wi="153.75mm" orientation="landscape" file="US07298837-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="163.49mm" wi="162.31mm" file="US07298837-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">Several types of wire based communication networks exist to provide communication among electronic devices. Many of these networks transmit a differential representation of the data over the network. A differential network uses a transmission cable that has a positive and a negative conductor, and positive and inverted representations of the data are sent on the conductors. A differential signal has the advantage of allowing faster data rates because the differential signals traverse lower voltage swings than single ended signals. Also, the data is less susceptible to noise in a differential signal bus because common mode signal noise picked up on the transmission cable is cancelled by sensing only the difference between the positive and negative conductors of the cable.</p>
<p id="p-0003" num="0002">One critical parameter in differential signal wire based networks is the differential cross-over voltage of the signal transmitters. The differential cross-over voltage is the point where the voltage at the output of the positive signal transmitter crosses over with the voltage at the output of the negative signal transmitter. To minimize communication errors from power supply noise, electromagnetic interference (EMI), or signal ringing, the cross-over voltage should be at a point equidistant between the maximum and minimum voltages of the outputs. This point is often referred to as mid-rail.</p>
<p id="p-0004" num="0003">If the network is a wire based serial network, transceivers are used to transmit and receive signals on the same transmission cable. Transmitters of wire based analog transceivers are generally designed with open-loop differential drivers. The drivers are open-loop in that they do not include a feedback mechanism in controlling their output. These transmitters are designed by tuning the cross-over voltage to an optimal mid-rail assuming a nominal process skew and nominal loading on the transmitter outputs. A problem with tuning is that when the transmitter is realized in silicon the cross-over voltage can deviate from the optimal mid-rail value due to undesired process variations or due to asymmetric parasitic off-chip loading. A deviation in the cross-over voltage from the mid-rail voltage value can result in low yield in semiconductor fabrication of the transmitters. A mask iteration may be needed to take into account the non-nominal conditions and to re-tune the cross-over voltage to the mid-rail value.</p>
<p id="p-0005" num="0004">What is needed is a differential transmitter with a self adjusting cross-over voltage.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0006" num="0005">In the drawings like numerals refer to like components throughout the several views.</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 1</figref> is a drawing of a serial bus transceiver with an embodiment of a cross-over lock feedback circuit.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 2A</figref> is a graph showing an output transition of a transceiver with a weak pull-up circuit.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 2B</figref> is a graph showing asymmetry in the transitions of receiver outputs due to the weak pull-up circuit.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 3A</figref> is a graph showing an output transition of a transceiver with a weak pull-down circuit.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 3B</figref> is a graph showing asymmetry in the transitions of receiver outputs due to the weak pull-down circuit.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 4</figref> is a drawing of a single ended driver for a differential transceiver.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 5</figref> is a drawing of one embodiment of a switching network used in a cross-over lock feedback circuit.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 6</figref> is a drawing of another embodiment of a switching network used in a cross-over lock feedback circuit.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 7A-C</figref> are graphs showing the cross-over lock feedback circuit correcting for weak pull-ups.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 8A-C</figref> are graphs showing the cross-over lock feedback circuit <b>110</b> correcting for weak pull-downs.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 9</figref> is a drawing of a system using a differential transceiver to communicate over a transmission cable.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 10</figref> is a flow chart of a method of providing a mid-rail cross-over voltage for a differential transceiver.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0003" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0019" num="0018">In the following detailed description, reference is made to the accompanying drawings which form a part hereof, and in which is shown by way of illustration specific embodiments in which the invention may be practiced. It is to be understood that other embodiments may be used and structural changes may be made without departing from the scope of the present invention.</p>
<p id="p-0020" num="0019">This document describes a feedback circuit for use with a differential transceiver that locks the cross-over voltage substantially to a point equidistant between the maximum and minimum voltage of the output of the transceiver transmitter. This equidistant point is often referred to as the mid-rail point.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1</figref> is a drawing of an embodiment of a serial bus transceiver <b>100</b> with a cross-over lock feedback circuit <b>110</b>. The transceiver <b>100</b> allows a processor to communicate with other devices connected on the serial bus. The transceiver <b>100</b> includes a receiver <b>120</b> for receiving signals from a transmission cable <b>130</b> comprising a positive conductor <b>132</b> (D+) and a negative conductor <b>134</b> (D−). The receiver <b>120</b> comprises a differential receiver <b>122</b>, a single ended receiver <b>124</b> for the positive conductor <b>132</b> (D+) and a single ended receiver <b>126</b> for the negative conductor <b>134</b> (D−). The single ended receivers <b>124</b>, <b>126</b> detect rail-to-rail transitions on the D+, D− conductors <b>132</b>, <b>134</b> and trip when a voltage threshold on the differential inputs is exceeded. The single-ended receivers <b>124</b>, <b>126</b> are used to detect events such as idle mode or wake-up on the serial bus, and to determine a data transfer rate. The differential receiver <b>122</b> detects the incoming data stream and the output trips at the cross-over voltage of the D+, D− conductors <b>132</b>, <b>134</b>.</p>
<p id="p-0022" num="0021">The transceiver <b>100</b> also includes a transmitter <b>140</b> for transmitting signals on the transmission cable <b>130</b>. The transmitter <b>140</b> comprises a single ended output driver <b>142</b> for the positive conductor <b>132</b> and a single ended driver <b>144</b> for the negative conductor <b>134</b>. If the transceiver <b>100</b> is implemented in CMOS, output drivers <b>142</b>, <b>144</b> are typically designed with PMOS pull-ups and NMOS pull-downs that have equal strength at nominal conditions.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 2A</figref> is a graph <b>210</b> showing an output transition of a transceiver <b>100</b> with a weak pull-up circuit. In the embodiment shown, the signals transition between a low rail of zero volts and a high rail of three volts. Other values for low and high rails are within contemplation of this application. The D+ conductor <b>132</b> is shown transitioning from the high rail to the low rail, and the D− <b>134</b> conductor is transitioning from the low rail to the high rail. Because of the mismatch in pull-up rise time and pull-down fall time, a high-to-low signal transition <b>212</b> occurs more quickly than a low-to-high signal transition <b>214</b>. The result is a cross-over voltage point <b>216</b> at about one volt instead of the mid-rail 1.5 volts. The differential receiver <b>122</b> has high gain and trips at the cross-over point. Because the cross-over point is low, the transceiver is more susceptible to noise on the low rail conductor than if the cross-over point was mid-rail.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 2B</figref> is a graph <b>220</b> showing asymmetry in the transitions of receiver outputs <b>222</b>, <b>224</b>, <b>226</b> due to the weak pull-up circuit. In the embodiment, the output of the differential receiver <b>222</b> (RXD) follows the positive logic of the output of the positive single ended receiver <b>224</b> (RXDP) which follows the transition of the D+ conductor <b>132</b>. The output of the negative single ended receiver <b>226</b> (RXDM) follows the D− conductor <b>132</b>. The graph <b>220</b> shows the output of the differential receiver <b>222</b> (RXD) trips before the output of the negative receiver <b>226</b> (RXDM). In the ideal case of a mid-rail cross-over point, the single ended receiver <b>224</b>, <b>226</b> transition points would be coincident or symmetric about the differential receiver <b>222</b> output transition point. For the opposite case when the D+ conductor is transitioning from low to high, the output of the positive receiver <b>224</b> (RXDP) lags the output of the differential receiver <b>222</b> (RXD).</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 3A</figref> is a graph <b>310</b> showing an output transition of a transceiver <b>100</b> with a weak pull-down circuit. As in <figref idref="DRAWINGS">FIG. 2A</figref>, the D+ conductor <b>132</b> is shown transitioning from the high rail to the low rail, and the D− conductor <b>134</b> is transitioning from the low rail to the high rail. This time, the mismatch in rise and fall times causes a cross-over voltage point <b>316</b> at about two volts instead of the mid-rail 1.5 volts. Because the cross-over point is high, the transceiver is more susceptible to noise on the high rail conductor. <figref idref="DRAWINGS">FIG. 3B</figref> is a graph <b>320</b> showing asymmetry in the transitions of receiver outputs <b>322</b>, <b>324</b>, <b>326</b> due to the weak pull-down circuit. The graph <b>320</b> shows the output of the differential receiver <b>322</b> (RXD) trips before the output of the positive receiver <b>324</b> (RXDP). For the opposite case when the D+ conductor is transitioning from low to high, the output of the negative receiver <b>326</b> (RXDM) lags the output of the differential receiver <b>322</b> (RXD).</p>
<p id="p-0026" num="0025">To correct the mismatches in rise and fall times, the cross-over feedback lock circuit <b>110</b> creates a bias voltage to correct the strength of the pull-down and/or pull-up circuits in the transmitter single ended output drivers <b>142</b>, <b>144</b>. An embodiment of a single ended output driver <b>400</b> is shown in <figref idref="DRAWINGS">FIG. 4</figref>. Changing the voltage on the gate of PMOS transistor <b>410</b> changes the current drive strength of the pull-up bias circuit of the output driver <b>400</b>. For example, if the voltage of the gate is decreased, the drive strength of the PMOS transistor <b>410</b> is increased, and the pull-up is biased toward the high rail (VCC). Conversely, if the gate voltage is increased, the drive strength of the PMOS transistor <b>410</b> is decreased, and the pull-up is biased away from the high rail.</p>
<p id="p-0027" num="0026">Changing the voltage on the gate of NMOS transistor <b>420</b> changes the bias of the pull-down of the output driver <b>400</b>. For example, if the voltage of the gate is increased, the drive strength of the NMOS transistor <b>420</b> is increased, and the pull-down is biased toward the low rail (VSS). Conversely, if the gate voltage is decreased, the drive strength of the NMOS transistor <b>420</b> is decreased, and the pull-down is biased away from the low rail. Thus, a closed loop system is created by feeding back a voltage to the gates that adjusts the pull-up and/or pull-down biasing by an amount that corrects the mismatch in drive strength.</p>
<p id="p-0028" num="0027">To create the correcting voltage, a charge is produced based on the output switching time of the differential receiver <b>122</b> in relation to the output switching time of the single ended receivers <b>124</b>, <b>126</b>. If the cross-over voltage is at mid-rail, the switching is symmetric and no net charge is produced. If the cross-over voltage is not at mid-rail the deviation of the cross-over voltage from a predetermined level results in switching that is asymmetric, and the asymmetry produces a net charge that is converted into a correcting bias voltage for the output drivers <b>142</b>, <b>144</b>.</p>
<p id="p-0029" num="0028">One embodiment of a switching network <b>500</b> to create this charge is shown in <figref idref="DRAWINGS">FIG. 5</figref>. The embodiment comprises a P-bias compensation circuit <b>505</b> to compensate the PMOS pull-up circuits of the single ended output drivers <b>142</b>, <b>144</b> and an N-bias compensation circuit <b>545</b> to compensate the NMOS pull-down circuits of the single ended output drivers <b>142</b>, <b>144</b>. The compensation circuits <b>505</b>, <b>545</b> create a correcting bias voltage by adjusting a charge on a capacitor <b>510</b>, <b>550</b>.</p>
<p id="p-0030" num="0029">For the P-bias circuit <b>505</b>, combinational logic <b>515</b>, <b>516</b> enables switches <b>520</b>, <b>525</b> to either add charge or remove charge from the capacitor <b>510</b> by enabling current to flow to or from the capacitor <b>510</b>. The switching to enable the current is a function of the states of the outputs of the differential receiver (RXD) <b>530</b> and the D+ single ended receiver (RXDP) <b>535</b>. This function can be expressed as an equation in terms of RXD and RXDP as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I∝F</i>(<i> <o ostyle="single">RXD</o>·RXDP</i>)−<i>G</i>(<i>RXD· <o ostyle="single">RXDP</o></i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0031" num="0030">If the output of the differential driver <b>122</b> lags the output of the D+ single ended receiver <b>124</b>, the pull-up bias is too strong. The gate voltage of the PMOS transistor <b>410</b> of the single ended output drivers <b>142</b>, <b>144</b> is adjusted higher to weaken the pull-up by adding more charge to the capacitor <b>510</b> by enabling current to flow through switch <b>520</b>. Thus, switch <b>520</b> is enabled and current is pushed onto capacitor <b>510</b> during the time when RXD is low while RXDP is high. The time duration <b>330</b> that this logic state of the receivers <b>122</b>, <b>124</b>, <b>126</b> is valid is shown in <figref idref="DRAWINGS">FIG. 3B</figref>.</p>
<p id="p-0032" num="0031">If the output of the differential driver <b>122</b> leads the output of D+ single ended driver <b>124</b>, the pull-up bias is too weak. The gate voltage of the PMOS transistor <b>410</b> of the single ended output drivers <b>142</b>, <b>144</b> is adjusted lower to strengthen the pull-up by reducing the charge on the capacitor <b>510</b> by enabling switch <b>525</b>. Thus, switch <b>525</b> is enabled and drains current from capacitor <b>520</b> during the time when RXD is high while RXDP is low. The time duration <b>230</b> that this logic state of the receivers <b>122</b>, <b>124</b>, <b>126</b> is valid is shown in <figref idref="DRAWINGS">FIG. 2B</figref>. Neither switch <b>520</b>, <b>525</b> is enabled while RXD and RXDP are in the same state.</p>
<p id="p-0033" num="0032">For the N-bias circuit <b>545</b>, combinational logic <b>555</b>, <b>516</b> enables switches <b>560</b>, <b>565</b> to either add charge or remove charge from the capacitor <b>550</b> by allowing current to flow to or from the capacitor <b>550</b>. The switching to enable the current is a function based on the states of the outputs of the differential receiver (RXD) <b>570</b> and the D− single ended receiver (RXDM) <b>575</b>. This function can be expressed as an equation in terms of RXD and RXDM as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>I∝F</i>(<i>RXD·RXDM</i>)−<i>G</i>(<i> <o ostyle="single">RXD</o>· <o ostyle="single">RXDM</o></i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0034" num="0033">If the output transition of the differential driver <b>122</b> lags the output transition of the D− single ended receiver <b>126</b>, the pull-down bias is too strong. The gate voltage of the NMOS transistor <b>420</b> of the single ended output drivers <b>142</b>, <b>144</b> is adjusted lower to weaken the pull-down by reducing charge to the capacitor <b>550</b> by enabling switch <b>565</b>. Thus, in one embodiment switch <b>565</b> is enabled and drains current during the time when RXD is low while RXDM is low. This time duration <b>240</b> is shown in <figref idref="DRAWINGS">FIG. 2B</figref>.</p>
<p id="p-0035" num="0034">If the output of the differential driver <b>122</b> leads the output of D− single ended driver <b>126</b>, the pull-down bias is too weak. The gate voltage of the NMOS transistor <b>420</b> of the single ended output drivers <b>142</b>, <b>144</b> is adjusted higher to strengthen the pull-up by increasing the charge on the capacitor <b>550</b> by enabling switch <b>560</b>. Thus, in one embodiment switch <b>560</b> is enabled during the time when RXD is high while RXDM is high. This time duration <b>340</b> is shown in <figref idref="DRAWINGS">FIG. 3B</figref>. Neither switch <b>560</b>, <b>565</b> is enabled while RXD and RXDM are in opposite states.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 6</figref> shows an embodiment of a switching network using transmission gate, or pass gate, switches <b>610</b>. The combinational logic is implemented by enabling the pass gate switches <b>610</b> in series. For example switch <b>560</b> of <figref idref="DRAWINGS">FIG. 5</figref> is implemented by enabling two pass gate switches with outputs RXD and RXDM. In other embodiments, the combinational logic is implemented with straightforward logic circuits such as and-gates and inverters. One of ordinary skill in the art would understand, upon reading and comprehending this disclosure, that various embodiments of the combinational logic include various combinations of the illustrated circuits and variations of the high and low logic states.</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 7A-C</figref> are graphs showing the cross-over lock feedback circuit <b>110</b> correcting for weak pull-ups. <figref idref="DRAWINGS">FIG. 7A</figref> shows the initial low crossover voltage (about one volt) on the D+ and D− outputs of the single ended transceiver drivers. <figref idref="DRAWINGS">FIG. 7B</figref> shows the feedback circuit <b>110</b> applying a correcting voltage to the transmitter <b>140</b> pull-up and pull-down circuits. <figref idref="DRAWINGS">FIG. 7B</figref> also shows that the correcting voltage is adjusted on a clock period basis because the charge is produced from transitions on the transmission cable <b>130</b> detected by the receivers <b>122</b>, <b>124</b>, <b>126</b>. After about twenty clock periods, the cross-over voltage is brought back to mid-rail (1.5 Volts) as shown in <figref idref="DRAWINGS">FIG. 7C</figref>.</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 8A-C</figref> are graphs showing the cross-over lock feedback circuit <b>110</b> correcting for weak pull-downs. <figref idref="DRAWINGS">FIG. 8A</figref> shows the initial low crossover voltage is higher than mid-rail (about two volts). <figref idref="DRAWINGS">FIG. 8B</figref> shows the feedback circuit <b>110</b> applying a correcting voltage to the transmitter <b>140</b> pull-up and pull-down circuits. After about twenty clock periods, the cross-over voltage is brought back to mid-rail (1.5 Volts) as shown in <figref idref="DRAWINGS">FIG. 8C</figref>.</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 9</figref> is a drawing of a system <b>900</b> that uses a differential transceiver interface <b>905</b> to communicate over a transmission cable <b>930</b>. System <b>900</b> includes receiver <b>920</b>, driver <b>940</b>, processor <b>960</b>, memory <b>970</b>, transceiver controller <b>950</b> and crossover feedback lock circuit <b>910</b>. Receiver <b>920</b> includes single ended receivers <b>924</b>, <b>926</b> and differential receiver <b>922</b> to detect signals on nodes <b>932</b>, <b>934</b>. Differential driver <b>940</b> includes a single ended driver for node <b>932</b> and single ended driver for node <b>934</b>. Crossover lock feedback circuit <b>910</b> corrects deviations of the cross-over voltage on transmission cable <b>930</b> from a point equidistant between the maximum and minimum output voltages of driver <b>940</b>.</p>
<p id="p-0040" num="0039">Transceiver controller <b>950</b> communicates with other devices connected to node <b>932</b>, <b>934</b> by transmitting data on driver <b>940</b> and receiving data on receiver <b>920</b>. The transceiver controller <b>950</b> also communicates with microprocessor <b>960</b> and memory <b>970</b>. The transceiver controller <b>950</b> can be any type of transceiver controller suitable for communication with the transceiver interface <b>905</b>. For example, transceiver controller <b>950</b> may be a universal serial bus, a synchronous optical network (SONET), a Firewire controller, or the like.</p>
<p id="p-0041" num="0040">Processor <b>960</b> can be any type of processor suitable for operation with the system <b>900</b>. For example, in various embodiments of the system <b>900</b>, processor <b>960</b> is a microprocessor, a microcontroller or the like. Memory <b>970</b> represents an article that includes a machine accessible medium. For example, memory <b>970</b> may represent any one or a combination of the following: a hard disk, a floppy disk, random access memory (RAM), read only memory (ROM), flash memory, CDROM, or any other type of article that includes a medium readable by a machine.</p>
<p id="p-0042" num="0041">Systems represented by the foregoing figures can be of any type. Examples of represented systems include computers (e.g., desktops, laptops, notebooks, handhelds, servers, Web appliances, routers, etc.), wireless communication devices (e.g., cellular phones, cordless phones, pagers, personal data assistants, etc.), computer-related peripherals (e.g., printers, scanners, monitors, etc.), entertainment devices (e.g., televisions, radios, stereos, tape and compact disc players, video cassette recorders, digital video disc players, camcorders, digital cameras, MP3 (Motion Picture Experts Group, Audio Layer 3) players, video games, watches, etc.), and the like.</p>
<p id="p-0043" num="0042">Transmission cable <b>930</b> can be any type of two conductor cable suitable for operation with the system <b>900</b>. For example, in various embodiments of the system, transmission cable <b>930</b> is a coaxial cable, a twisted pair cable, and the like.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 10</figref> is a flow chart of a method <b>1000</b> of providing a mid-rail cross-over voltage for a differential transceiver. At <b>1010</b>, a difference is measured between a voltage at which output voltages of first and second differential drivers of a differential signal transceiver cross-over and a point substantially equidistant between maximum and minimum output voltages. At <b>1020</b>, a correcting bias voltage is provided that is proportional to a difference between the cross-over voltage and the equidistant voltage. At <b>1030</b>, the correcting bias voltage is applied to the differential drivers to vary the point where the first and second output voltages cross-over.</p>
<p id="p-0045" num="0044">Although specific examples have been illustrated and described herein, it will be appreciated by those of ordinary skill in the art that any arrangement calculated to achieve the same purpose could be substituted for the specific example shown. This application is intended to cover any adaptations or variations of the present invention. Therefore, it is intended that this invention be limited only by the claims and the equivalents shown.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus comprising:
<claim-text>a first differential output driver to provide a single ended output voltage in response to an input voltage;</claim-text>
<claim-text>a second differential output driver to provide a single ended output in response to the input voltage, the first output voltage and the second output voltage representative of the positive and inverted input voltage; and</claim-text>
<claim-text>a feedback circuit to monitor the first and second output voltages and apply a bias voltage to at least one of the first and second output drivers to vary the point where the first and second output voltages cross-over as the input voltage changes from a first to a second level, wherein the bias voltage is a function of a mismatch in transition times between the first and second output voltages.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the correcting bias voltage forces the first and second output voltages to cross-over at a point substantially equidistant between maximum and minimum output voltages of the first and second differential drivers.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the feedback circuit further includes at least one capacitor, and wherein the feedback circuit places a charge proportional to a difference between an actual cross-over voltage of the first and second output drivers and the equidistant cross-over voltage onto the capacitor to convert the charge into the correcting voltage.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the at least one capacitor includes a first and second capacitor, wherein the feedback circuit places a charge proportional to a difference between the actual cross-over voltage and the equidistant cross-over voltage onto the first and second capacitors, and wherein the first capacitor supplies a correcting voltage to at least one pull-up bias circuit in the output drivers, and the second capacitor supplies a correcting voltage to at least one pull down bias circuit in the output drivers.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the feedback circuit applies the correcting voltage to increase a drive strength of the pull-up bias circuit and/or to decrease a drive strength of the pull-down bias circuit if the actual cross-over voltage is lower than the equidistant cross-over voltage.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the feedback circuit applies the correcting voltage to decrease a drive strength of the pull-up bias circuit and/or to increase the pull-down bias circuit if the cross-over voltage is higher than the equidistant cross-over voltage.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The apparatus of <claim-ref idref="CLM-00004">claim 4</claim-ref>, further including:
<claim-text>a differential receiver for detecting a cross-over voltage transition on the differential interface, the differential receiver having a first output;</claim-text>
<claim-text>a single-ended receiver for detecting rail-to-rail transitions on the positive conductor, the receiver for the positive conductor having a second output;</claim-text>
<claim-text>a single-ended receiver for detecting rail-to-rail transitions on the negative conductor, the receiver for the negative conductor having a third output; and</claim-text>
<claim-text>wherein if the cross-over voltage is lower than the equidistant voltage, charge on the first capacitor is reduced while the first output is high and the second output is low and/or charge on the second capacitor is reduced while the first output is low and the third output is low.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>,
<claim-text>wherein if the cross-over voltage is higher than the equidistant voltage, charge on the first capacitor is increased while the first output is low and the second output is high and/or charge on the second capacitor is increased while the first output is high and the third output is high.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the outputs enable switches to apply a high voltage level to the first and second capacitors to increase the charge, and to apply a low voltage level to the first and second capacitors to reduce the charge.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the switches include transmission-gate switches.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The apparatus of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the first capacitor provides a correcting voltage to a gate of a PMOS transistor in the pull-up bias circuit, and wherein the second capacitor provides a correcting voltage to a gate of an NMOS transistor in the pull-down bias circuit.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first and second output drivers are connected to provide positive and negative outputs to positive and negative conductors of a transmission cable.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the transceiver circuit is an interface to a universal serial bus (USB).</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. A method comprising:
<claim-text>measuring a difference between a voltage at which output voltage signals of first and second drivers of a differential signal transceiver cross-over and a voltage point substantially equidistant between maximum and minimum output voltages;</claim-text>
<claim-text>providing a correcting bias voltage proportional to a difference between switching times of the first and second output voltages; and</claim-text>
<claim-text>applying the correcting bias voltage to the differential drivers to vary the voltage point where the first and second output voltages cross-over.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein providing a correcting bias voltage includes:
<claim-text>producing a net charge on at least one capacitor in proportion to the difference between the cross-over voltage and the equidistant voltage; and</claim-text>
<claim-text>converting the charge into a correcting bias voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the net charge produced is zero when the cross-over voltage matches the equidistant voltage.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the at least one capacitor includes a first and second capacitor and producing a charge on a capacitor includes switching a power supply rail onto the first and second capacitor.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein adjusting a pull-up circuit bias includes applying a correcting voltage on the first capacitor to adjust a pull-up bias voltage, and adjusting a pull-down circuit bias includes applying a correcting voltage on the second capacitor to adjust a pull-down capacitor voltage.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein measuring further includes:
<claim-text>measuring a cross-over transition on positive and negative conductors of a transmission cable with the differential signal transceiver;</claim-text>
<claim-text>measuring a rail-to-rail transition on the positive conductor of the transmission cable; measuring a rail-to-rail transition on the negative conductor of the transmission cable; and</claim-text>
<claim-text>wherein producing a net charge includes switching a charge onto the capacitor when there is a mismatch in transition times.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein measuring further includes:
<claim-text>providing a single ended output transition on a differential receiver in response to the cross-over transition;</claim-text>
<claim-text>providing a single ended output transition on an output of a first single ended receiver in response to a transition exceeding a first voltage threshold on the positive conductor; and providing a single ended output transition on an output of a second single ended receiver in response to a transition exceeding a second voltage threshold on the negative conductor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The method of <claim-ref idref="CLM-00020">claim 20</claim-ref>, wherein providing the single ended output transition of the differential receiver includes providing a transition that follows the transition on the positive conductor, and wherein switching includes:
<claim-text>a) switching a low supply onto the first capacitor while an output of the differential receiver is at a high voltage and an output of the first single-ended receiver is at a low voltage;</claim-text>
<claim-text>b) switching a high supply onto the first capacitor while the output of the differential receiver is at a low voltage and the output of the first single-ended receiver is at a high voltage;</claim-text>
<claim-text>c) switching a low supply onto the second capacitor while the output of the differential receiver is at a low voltage and an output of the second single-ended receiver is at a low voltage; and</claim-text>
<claim-text>d) switching a high supply onto the second capacitor while the output of the differential receiver is at a high voltage and the output of the second single-ended receiver is at a high voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The method of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein applying the correcting bias voltage to the differential drivers includes feeding back the correcting voltage to the drivers to adjust a drive strength of pull-up and pull-down bias circuits.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The method of <claim-ref idref="CLM-00022">claim 22</claim-ref>, wherein adjusting the drive strength of pull-up and pull-down circuit biasing includes:
<claim-text>increasing the drive strength of the pull-up bias circuit and/or decreasing the drive strength of the pull-down bias circuit if the cross-over voltage is lower than the equidistant voltage; and</claim-text>
<claim-text>decreasing the drive strength of the pull-up bias circuit and/or increasing the drive strength of the pull-down bias circuit if the cross-over voltage is higher than the equidistant voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein
<claim-text>increasing the drive strength of the pull-up bias circuit includes decreasing a gate voltage on a PMOS transistor,</claim-text>
<claim-text>decreasing the drive strength of the pull-up bias circuit includes increasing a gate voltage of the PMOS transistor,</claim-text>
<claim-text>increasing a drive strength of the pull-down bias circuit includes increasing a gate voltage on an NMOS transistor, and</claim-text>
<claim-text>decreasing the drive strength of the pull-down bias circuit includes decreasing a gate voltage on the NMOS transistor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. A system comprising:
<claim-text>a transceiver interface coupled to a differential communication bus, the transceiver interface including a positive conductor and a negative conductor and having a differential cross-over voltage of a magnitude between high and low transceiver output;</claim-text>
<claim-text>a transceiver controller in communication with the transceiver interface; and</claim-text>
<claim-text>a cross-over lock feedback circuit to correct deviations of the cross-over voltage from a voltage point equidistant between maximum and minimum output voltages of the transceiver, wherein the cross-over lock feedback circuit generates a correcting voltage as a function of a mismatch in switching times between the positive conductor and the negative conductor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The system of <claim-ref idref="CLM-00025">claim 25</claim-ref>, wherein the transceiver interface further includes at least one transceiver driver coupled to the cross-over lock feedback circuit, the driver having pull-up and pull-down circuits; and wherein the feedback circuit feeds back the correcting voltage to the driver to adjust the pull-up and/or pull-down of the driver to correct the cross-over voltage.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The system of <claim-ref idref="CLM-00026">claim 26</claim-ref>, wherein the cross-over lock feedback circuit produces a charge in proportion to a difference of the cross-over voltage from the equidistant voltage to provide the correcting voltage.</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The system of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the transceiver interface further includes:
<claim-text>a differential receiver;</claim-text>
<claim-text>a single-ended receiver coupled to a positive node on the differential bus; and</claim-text>
<claim-text>a single-ended receiver coupled to a negative node on the differential bus, wherein the feedback circuit produces a charge based on asymmetry of switching times at receiver outputs when the cross-over voltage is different from the midpoint voltage.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. A system comprising:
<claim-text>a transceiver interface coupled to a differential communication bus, the transceiver interface including a positive conductor and a negative conductor and having a differential cross-over voltage of a magnitude between high and low transceiver output voltages;</claim-text>
<claim-text>a transceiver controller in communication with the transceiver interface; and</claim-text>
<claim-text>a cross-over lock feedback circuit to correct deviations of the cross-over voltage from a voltage point equidistant between maximum and minimum output voltages of the transceiver, wherein the cross-over lock feedback circuit generates a correcting voltage as a function of a mismatch in switching times between the positive conductor and a negative conductor;</claim-text>
<claim-text>a processor in communication with the transceiver controller; and</claim-text>
<claim-text>a DRAM memory in communication with the processor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The system of <claim-ref idref="CLM-00029">claim 29</claim-ref>, wherein the transceiver interface further includes at least one transceiver driver coupled to the cross-over lock feedback circuit, the driver having pull-up and pull-down circuits; and wherein the feedback circuit feeds back the correcting voltage to the driver to adjust the pull-up and/or pull-down of the driver to correct the cross-over voltage.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The system of <claim-ref idref="CLM-00030">claim 30</claim-ref>, wherein the cross-over lock feedback circuit produces a charge in proportion to a difference of the cross-over voltage from the equidistant voltage to provide the correcting voltage.</claim-text>
</claim>
</claims>
</us-patent-grant>
