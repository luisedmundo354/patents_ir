<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298916-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298916</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10334794</doc-number>
<date>20030102</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2002-005299</doc-number>
<date>20020111</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>1071</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>40</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>36</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>09</class>
<subclass>G</subclass>
<main-group>5</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>09</class>
<subclass>G</subclass>
<main-group>3</main-group>
<subgroup>18</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>L</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>382254</main-classification>
<further-classification>382276</further-classification>
<further-classification>348497</further-classification>
<further-classification>348505</further-classification>
<further-classification>348521</further-classification>
<further-classification>348536</further-classification>
<further-classification>345204</further-classification>
<further-classification>345  31</further-classification>
<further-classification>345 53</further-classification>
<further-classification>345 94</further-classification>
</classification-national>
<invention-title id="d0e71">Image signal processing apparatus and method</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4325075</doc-number>
<kind>A</kind>
<name>Kashigi et al.</name>
<date>19820400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348514</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4525747</doc-number>
<kind>A</kind>
<name>Sakai et al.</name>
<date>19850600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358466</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>4635097</doc-number>
<kind>A</kind>
<name>Tatami</name>
<date>19870100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348505</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>4698601</doc-number>
<kind>A</kind>
<name>Aizawa</name>
<date>19871000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348537</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>4748510</doc-number>
<kind>A</kind>
<name>Umezawa</name>
<date>19880500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345 87</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>4795239</doc-number>
<kind>A</kind>
<name>Yamashita et al.</name>
<date>19890100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345 96</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5359366</doc-number>
<kind>A</kind>
<name>Ubukata et al.</name>
<date>19941000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348536</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5426468</doc-number>
<kind>A</kind>
<name>Jenison</name>
<date>19950600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348514</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5805233</doc-number>
<kind>A</kind>
<name>West</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6462726</doc-number>
<kind>B1</kind>
<name>Hamada et al.</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345 98</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6593871</doc-number>
<kind>B1</kind>
<name>Miethig et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>341157</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6636205</doc-number>
<kind>B1</kind>
<name>Lasneski</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345204</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6678408</doc-number>
<kind>B1</kind>
<name>Ruggiero et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382168</main-classification></classification-national>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>6700570</doc-number>
<kind>B2</kind>
<name>Tachibana et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345 99</main-classification></classification-national>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>6850583</doc-number>
<kind>B1</kind>
<name>Matsumura et al.</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375376</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>6989823</doc-number>
<kind>B1</kind>
<name>Lasneski</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345204</main-classification></classification-national>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>11-311967</doc-number>
<kind>A</kind>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>21</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>382254</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382260-264</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382270-275</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382276</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382278</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382325</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345204</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345  31-  34</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345 53</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345 94</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>345 98- 99</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348497-499</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348505</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348506</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348521</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348524</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348536-537</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348540-541</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20030132902</doc-number>
<kind>A1</kind>
<date>20030717</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Miyamoto</last-name>
<first-name>Tsuneo</first-name>
<address>
<city>Yamato</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Sughrue Mion Pllc.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>NEC-Mitsubishi Electric Visual Systems Corporation</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Mehta</last-name>
<first-name>Bhavesh M</first-name>
<department>2624</department>
</primary-examiner>
<assistant-examiner>
<last-name>Seth</last-name>
<first-name>Manav</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">When performing A/D conversion on image signals, when reducing noise that is caused by jitter by adjusting the phase of the sampling clocks, even if the input waveform has considerable waveform distortion such as a triangular wave, it is possible to reliably reduce this noise. Input analog image signals are converted into digital image data using sampling clocks from a PLL circuit by A/D conversion means. Next, image data that has delayed by a 1 clock delay circuit is subtracted from the digital data by a subtracter. The maximum value of one screen of the subtracted output is then determined, and 5 is subtracted therefrom to provide a threshold value. A comparator compares the subtracted output and the threshold value, and outputs a signal when the subtracted output is greater than the threshold value. A counter then supplies the count value of these signals to a CPU, and the CPU controls the phases of the sampling clocks using a switch. The CPU is thus able to control the frequency characteristics of the input image signals by switching a switch of a frequency correction circuit in accordance with the count value.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="170.60mm" wi="257.47mm" file="US07298916-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="260.10mm" wi="172.64mm" orientation="landscape" file="US07298916-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="264.16mm" wi="180.26mm" orientation="landscape" file="US07298916-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="259.76mm" wi="174.07mm" orientation="landscape" file="US07298916-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="260.35mm" wi="192.79mm" orientation="landscape" file="US07298916-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="245.11mm" wi="153.92mm" orientation="landscape" file="US07298916-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to an image signal processing apparatus and method that are favorably used when displaying on a display apparatus image signals obtained by performing A/D conversion processing on analog image signals.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">Conventionally, when analog image signals are displayed on digital display element such as a liquid crystal display (LCD) panel, it is necessary for the analog image signals to be converted into digital image data by an A/D converter. In this case, the sampling clocks supplied to the A/D converter may be generated by a PLL circuit that is synchronized with a horizontal synchronization signal of the original image signal, however, if there is variation in the sampling clocks because of jitter in the PLL circuit, or jitter in the horizontal synchronization signal or the image signal, then noise appears on the screen.</p>
<p id="p-0006" num="0005">In order to solve this problem, conventionally, a method is used in which adjustment is performed such that phases of the sampling clocks are shifted and the phase with the least noise is used.</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram showing the structure of a conventional image signal processing apparatus that employs the above method.</p>
<p id="p-0008" num="0007">In <figref idref="DRAWINGS">FIG. 5</figref>, analog image signals (video signals) are input into an A/D converter <b>1</b>. These image signals may have, for example, a resolution of 1280×1024, a horizontal frequency of 80 KHz, a vertical frequency of 75 Hz, and a sampling rate of 135 MHz. 135 MHz sampling clocks SCK are supplied from a PLL circuit <b>2</b> to the A/D converter <b>1</b>. Digital image data converted by the A/D converter <b>1</b> is processed by a signal processing section <b>8</b>, and then supplied to an LCD panel <b>9</b> where it is displayed.</p>
<p id="p-0009" num="0008">The PLL circuit <b>2</b> is formed by a voltage controlled oscillator (VCO) <b>3</b> that outputs sampling clocks SCK, a frequency divider <b>4</b> that divides the sampling clocks SCK into 1/1688, a delay circuit group <b>5</b> that delays the phases of the divided outputs into 32 stages, a switch <b>6</b> that selects one of the 32 delayed outputs using the control of the CPU <b>10</b>, and a phase comparator <b>7</b> that performs a phase comparison of the selected divided outputs and a horizontal synchronization signal, and controls the oscillation frequency of the VCO <b>3</b> in accordance with the phase difference.</p>
<p id="p-0010" num="0009">According to the PLL circuit <b>2</b> having the above described structure, as a result of the CPU <b>10</b> selecting one of the 32 delayed outputs from the delay circuit group <b>5</b>, it is possible to use the delayed output with the least noise as the sampling clock SCK.</p>
<p id="p-0011" num="0010">However, even when the above method of adjusting the phases of the sampling clocks is used, if there is a large distortion in the original image waveform, the problem arises that it is not possible to remove the noise sufficiently. In particular, high frequency components may be deleted in image signals output from a PC, and the waveform of one dot (i.e., the waveform of one pixel) may not be a rectangular wave and in some cases may be a triangular wave. If this type of triangular wave is sampled by a sampling clock having a jitter component, a large luminance difference is generated in the sampling data, and the problem arises that noise can be easily generated on the screen.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0012" num="0011">The present invention was conceived in order to solve the above problems, and it is an object thereof to enable noise caused by jitter in the sampling clocks of the A/D converter to be reduced in an A/D conversion method in which the phases of the sampling clocks are adjusted, even when there is a large distortion such as a triangular wave in the image waveform.</p>
<p id="p-0013" num="0012">In order to achieve the above object, the image signal processing apparatus of the present invention comprises: frequency correction means that corrects frequency characteristics of analog signals; A/D conversion means that converts analog image signals that have undergone frequency correction in the frequency correction means into digital image data; clock generation means that supplies sampling clocks to the A/D conversion means, and also that is structured such that phases of the sampling clocks can be adjusted; level difference calculation means that determines a value of a difference between two adjacent dot waveform levels in the A/D converted image data; maximum value detection means that determines a maximum value of the level difference value in one screen for each phase of the sampling clocks; comparison means that compares a threshold value obtained by subtracting a predetermined value from a maximum value of the determined level difference value with a level difference value determined by the level difference calculation means, and outputs a comparison result signal when the level difference value is higher than the threshold value; counting means that counts the comparison result signals; and control means that controls the clock generation means, and controls phases of the sampling clocks, and also controls frequency characteristics of the frequency correction means in accordance with a count value of the counting means.</p>
<p id="p-0014" num="0013">Moreover, the image signal processing method of the present invention is a method in which phases of sampling clocks are controlled when analog image signals undergo A/D conversion using sampling clocks and are converted into digital image data, wherein a value of a difference in level between two adjacent dot waveforms in the A/D converted image data is determined, a maximum value of the level difference value in one screen is determined for each phase of the sampling clocks, a threshold value obtained by subtracting a predetermined value from this maximum value is compared with the level difference value, and frequency characteristics of the analog image signals are controlled in accordance with the number of times the level difference value is higher than the threshold value.</p>
<p id="p-0015" num="0014">According to the above structure, input analog image signals are converted into digital image data by the A/D conversion means. At this time, the phases of sampling clocks supplied from the clock generation means are controlled in, for example, 32 stages by the control means. The level difference calculation means determines a value of a difference between two adjacent dot waveform levels in the A/D converted image data, and the maximum value detection means determines the maximum value of the level difference value within one screen for each phase of the sampling clocks. The comparison means compares the threshold value obtained by subtracting a predetermined value from the maximum value with the level difference value determined by the level difference calculation means, and outputs a comparison result signal when the level difference value is higher than the threshold value. The counting means counts the comparison result signals, and, in accordance with this count value, the control means controls frequency characteristics of the input analog image signals by controlling the frequency correction means. As a result, the waveform of the input analog image signals is corrected to a shape close to a trapezoid shape, and it is possible to increase the sampling tolerance even when the sampling clocks are afflicted with jitter.</p>
<p id="p-0016" num="0015">Accordingly, when performing A/D conversion on image signals, when noise that is caused by jitter in the sampling clocks is reduced by adjusting the phase of the sampling clocks, even if the input waveform has considerable waveform distortion such as a triangular wave or trapezoid wave with overshoot, it is possible to correct this appropriately and increase the sampling tolerance and well as reliably reduce noise caused by jitter.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> is a circuit structure diagram showing the image signal processing apparatus according to an embodiment of the present invention.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 2</figref> is a characteristic view showing a sampling state when an input waveform is high frequency compensated to form a trapezoid wave.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 3</figref> is a characteristic view showing a sampling state when an overshoot is generated in a trapezoid wave.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 4</figref> is a characteristic view showing a sampling state when an input waveform is a triangular wave.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 5</figref> is a circuit diagram showing an conventional image signal processing apparatus in which the phases of sampling clocks are adjusted.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0022" num="0021">The embodiment of the present invention will now be described together with the drawings.</p>
<p id="p-0023" num="0022">Firstly, the theory behind the present embodiment will be described.</p>
<p id="p-0024" num="0023">As described above, when A/D conversion is performed on triangular wave single dot waveforms from which the high frequency component has been deleted using sampling clocks having jitter, the more luminance differences are generated in the sampling data, the greater the increase in the screen noise. Therefore, if the high frequency components in the triangular waveform are compensated so as to change the waveform into one close to a trapezoid wave (or rectangular wave), then by adjusting phases of the sampling clocks such that the sampling point is in the center of the flat portion of this trapezoid wave, it becomes difficult for luminance differences to be generated in the sampling data even if the samplings vary because of jitter.</p>
<p id="p-0025" num="0024">Accordingly, it is necessary to be able to appropriately adjust the extent of the compensation of the high frequency component in the original image waveform, and the present embodiment provides a method for performing this phase adjustment.</p>
<p id="p-0026" num="0025">To achieve this, firstly, the value of the difference in the levels of the waveforms of two adjacent dots (i.e., the luminance difference value) is taken. Then by taking the maximum value of the level difference value within one screen for each phase of the sampling clocks (each phase when the area between two sampling points is divided, for example, into 32 parts), the envelope thereof has an analogous shape with the original dot waveform. Next, a value obtained by subtracting a particular value from the above maximum value is set as a threshold value. The number of sampling clocks (the number of clock phases that have been divided into 1/32) in a portion higher than this threshold value is then counted, and the compensation amount for the frequency characteristics is adjusted in accordance with this count value. For example, when the count value is low, adjustment is performed such that the high frequency component of the original waveform is raised.</p>
<p id="p-0027" num="0026">A specific description will now be given of <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 4</figref> shows a case in which only one dot within the screen is white and all the other dots are black, with the white dot being a triangular wave. The input signal waveform of the 1 dot shown by the symbol a in the drawing is a triangular wave. As is shown in <figref idref="DRAWINGS">FIG. 4</figref>, this triangular waveform has 255 white levels, while all the other portions of the screen have zero black levels.</p>
<p id="p-0029" num="0028">Here, it will be assumed that the screen is sampled using the sampling clock of one phase from among the 32 phases. At this time, two adjacent white and black dots are respectively sampled at the point shown by the symbol, and the luminance difference (level difference value) between the two is determined. The other portions within the screen are also sampled by the sampling clock of this phase, and each time the luminance difference of adjacent dots is determined. This operation is performed for each of the 32 sampling clocks on the same screen, and the respective luminance differences are obtained in the same way. As a result, the luminance differences determined for each phase of the sampling clocks are shown by b in <figref idref="DRAWINGS">FIG. 4</figref>. In addition, the maximum value is determined from among each of the luminance differences. The envelope of the maximum values that are determined in this manner is shown by c in <figref idref="DRAWINGS">FIG. 4</figref>, and this shape is analogous with the input waveform a. c has an apex for the rise portion and the fall portion of the input waveform a, with a maximum value of 255 and a minimum value of 128.</p>
<p id="p-0030" num="0029">Next, a value lower than the maximum value by, for example, 5 is set in c as a threshold value. Next, the number of sampling clocks present above this threshold value in c is determined as three.</p>
<p id="p-0031" num="0030">Next, the high frequency component in the triangular wave, which is the input waveform, is compensated so that the input waveform a is given a trapezoid wave, as shown in <figref idref="DRAWINGS">FIG. 2</figref>. Next, using the same screen as for the above triangular wave for this trapezoid wave, in the same manner, the luminance difference is determined for 32 sampling clocks (<figref idref="DRAWINGS">FIG. 2</figref><i>b</i>), and then when the maximum value from each luminance difference is determined, a shape analogous with the input waveform a is obtained such as c shown in <figref idref="DRAWINGS">FIG. 2</figref>. Therefore, by setting a value, for example, lower than the maximum value of the analogous shape c by 5 as a threshold value, the number of sampling clocks present equal to or more than this threshold value is ten or more.</p>
<p id="p-0032" num="0031">Because the number of sampling clocks equal to or more than the threshold value is three in the case of <figref idref="DRAWINGS">FIG. 4</figref>, and in the case of <figref idref="DRAWINGS">FIG. 2</figref> is ten or more, the sampling tolerance is higher in <figref idref="DRAWINGS">FIG. 2</figref>. Namely, in the case of <figref idref="DRAWINGS">FIG. 4</figref>, in order to sample a value close to 255 that is the true value of this dot, it is only possible to sample one of these three clocks. However, in the case of <figref idref="DRAWINGS">FIG. 2</figref>, it is possible to sample a value close to 255 using any of ten or more clocks.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 3</figref> shows a case in which the high frequency component in the triangular wave is over compensated, or when the level of the high frequency component of the input signal is high. As is shown in the drawing, the high frequencies are raised too much and an overshoot is generated in the trapezoid wave. Therefore, it is shown that the number of sampling clocks in excess of the threshold value obtained by subtracting 5 from the maximum value is just three. In this case, as is described below, by compensating the low frequencies so as to reduce the overshoot, it is possible to increase the sampling tolerance.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing an image signal processing apparatus according to an embodiment of the present invention that is based on the above described principle. Those portions that correspond to portions in <figref idref="DRAWINGS">FIG. 5</figref> are given the same descriptive symbols and a repeated description thereof is not given.</p>
<p id="p-0035" num="0034">In <figref idref="DRAWINGS">FIG. 1</figref>, the symbol <b>11</b> indicates a frequency correction circuit that corrects the frequency characteristics before input image signals are input into the A/D converter <b>1</b>, and that is formed by a high frequency compensation circuit <b>12</b> that is formed by a high pass filter (HPF) and a peaking circuit, and by a low frequency compensation circuit <b>13</b> that is formed by a low pass filter (LPF) and the like.</p>
<p id="p-0036" num="0035">The high frequency compensation circuit <b>12</b> is structured to include condensers C<b>1</b>, C<b>2</b>, and C<b>3</b>, while the low frequency compensation circuit <b>13</b> is structured to include condensers C<b>4</b>, C<b>5</b>, and C<b>6</b>. A switch <b>14</b>, resistors R<b>1</b> and R<b>2</b>, and an operational amplifier <b>15</b> are connected in common to the condensers, as is shown in the drawing. By selecting one of the respective condensers using the switch <b>14</b>, high frequency compensation or low frequency compensation frequency correction is performed in stages.</p>
<p id="p-0037" num="0036">The symbol <b>16</b> indicates a one clock delay circuit that delays image data (output from the A/D converter <b>1</b>) by the amount of one sampling clock. The symbol <b>17</b> indicates a subtracter that subtracts the difference between the image data output from the A/D converter and the image data before the one clock delayed by the 1 clock delay circuit <b>16</b>. The symbol <b>18</b> indicates a one screen maximum value detection circuit that determines a maximum value in one screen (vertical period) of a difference output by the subtracter <b>17</b>. The symbol <b>19</b> indicates a threshold value setting circuit that subtracts 5, for example, from the detected one screen maximum value to obtain a threshold value. The symbol <b>20</b> indicates a comparator that compares an output A of the subtracter <b>16</b> with the above threshold value Amax−5, and outputs a comparison result signal when A&gt;Amax−5. The symbol <b>21</b> indicates a counter that counts the comparison result signals and supplies a count value to the CPU <b>10</b>.</p>
<p id="p-0038" num="0037">The operation of this structure will now be described.</p>
<p id="p-0039" num="0038">In <figref idref="DRAWINGS">FIG. 1</figref>, analog image signals are sampled using sampling clocks from the PLL circuit <b>2</b> by the A/D converter <b>1</b> via the frequency correction circuit <b>11</b>, and are converted into image data. In the subtracter <b>17</b>, image data delayed by one clock by the 1 clock delay circuit <b>16</b> is subtracted from this image data, and the differential output A is fed to the comparator <b>20</b> and the 1 screen maximum value detection circuit <b>18</b>. The 1 screen maximum value detection circuit <b>18</b> determines the maximum value in one screen of the differential output of the subtracter <b>17</b>. The threshold value setting circuit <b>19</b> sets a threshold value Amax−5 by subtracting 5 from the above maximum value. The comparator <b>20</b> compares the differential output A of the subtracter <b>16</b> with the threshold value Amax−5, and outputs a comparison result signal when A&gt;Amax−5. The counter <b>21</b> counts the comparison result signals and supplies a count value to the CPU <b>10</b>.</p>
<p id="p-0040" num="0039">The CPU <b>10</b> controls the sampling clock phases by switching the switch <b>6</b>, and also controls frequency characteristics of input image signals by controlling the switching of the switch <b>14</b> of the frequency correction circuit <b>11</b> based on the above count value. In this case, the switch <b>14</b> is switched such that the count value is at the maximum. For example, if the input waveform is a triangular wave, as shown in <figref idref="DRAWINGS">FIG. 4</figref>, high frequency compensation is performed by selecting one of the condensers C<b>1</b>, C<b>2</b>, or C<b>3</b> such that the count value is at the maximum. If a waveform in which overshoot is generated in a trapezoid wave is input, low frequency compensation is performed by selecting one of the condensers C<b>4</b>, C<b>5</b>, or C<b>6</b> such that the count value is at the maximum.</p>
<p id="p-0041" num="0040">Note that, in the present embodiment, in the threshold value setting circuit <b>19</b>, a threshold value is obtained by subtracting 5 from the maximum value of the level difference value, however, it is also possible to employ a structure in which by enabling this subtracted to be varied a more appropriate threshold value can be set.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image signal processing apparatus comprising:
<claim-text>frequency correction means that corrects frequency characteristics of analog image signals;</claim-text>
<claim-text>A/D conversion means that converts analog image signals that have undergone frequency correction in the frequency correction means into digital image data;</claim-text>
<claim-text>clock generation means that supplies sampling clocks to the A/D conversion means, and also that is structured such that phases of the sampling clocks can be adjusted;</claim-text>
<claim-text>level difference calculation means that determines a value of a difference in level between two adjacent dot waveforms in the A/D converted image data;</claim-text>
<claim-text>maximum value detection means that determines a maximum value of the level difference value in one screen for each phase of the sampling clocks;</claim-text>
<claim-text>comparison means that compares a threshold value obtained by subtracting a predetermined value from a maximum value of the determined level difference value with a level difference value determined by the level difference calculation means, and outputs a comparison result signal when the level difference value is higher than the threshold value;</claim-text>
<claim-text>counting means that counts the comparison result signals; and</claim-text>
<claim-text>control means that controls the clock generation means, and controls phases of the sampling clocks, and also controls frequency characteristics of the frequency correction means in accordance with a count value of the counting means.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The image signal processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the control means controls frequency characteristics of the frequency correction means such that the count value of the counting means is at maximum.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The image signal processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the threshold value is variable.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The image signal processing apparatus according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the threshold value is variable.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The image signal processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the clock generation means is a PLL circuit is formed so as to be able to control phases of output sampling clocks in stages.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The image signal processing apparatus according to <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the clock generation means is a PLL circuit is formed so as to be able to control phases of output sampling clocks in stages.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The image signal processing apparatus according to <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the clock generation means is a PLL circuit is formed so as to be able to control phases of output sampling clocks in stages.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The image signal processing apparatus according to <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the clock generation means is a PLL circuit is formed so as to be able to control phases of output sampling clocks in stages.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The image signal processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein there are provided signal processing means for processing image data obtained from the A/D conversion means, and display means for displaying processed image data.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The image signal processing apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein there are provided signal processing means for processing image data obtained from the A/D conversion means, and display means for displaying processed image data.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. An image signal processing method in which phases of sampling clocks are controlled when analog image signals undergo A/D conversion using sampling clocks and are converted into digital image data, wherein
<claim-text>a value of a difference in level between two adjacent dot waveforms in the A/D converted image data is determined, a maximum value of the level difference value in one screen is determined for each phase of the sampling clocks, a threshold value obtained by subtracting a predetermined value from this maximum value is compared with the level difference value, and frequency characteristics of the analog image signals are controlled in accordance with the number of times the level difference value is higher than the threshold value.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The image signal processing method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the frequency characteristics are controlled such that the number of times is at maximum.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The image signal processing method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the threshold value is variable.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The image signal processing method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the threshold value is variable.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The image signal processing method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the phases of the sampling clocks are able to be controlled in stages.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The image signal processing method according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the phases of the sampling clocks are able to be controlled in stages.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The image signal processing method according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the phases of the sampling clocks are able to be controlled in stages.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The image signal processing method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the image data is processed and displayed on display means.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The image signal processing method according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the image data is processed and displayed on display means.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The image signal processing apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the level difference value is a luminance difference value.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The image signal processing method according to <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the level difference value is a luminance difference value.</claim-text>
</claim>
</claims>
</us-patent-grant>
