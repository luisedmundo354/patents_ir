<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07296791-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07296791</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10368316</doc-number>
<date>20030214</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2002-036547</doc-number>
<date>20020214</date>
</priority-claim>
<priority-claim sequence="02" kind="national">
<country>JP</country>
<doc-number>2002-181498</doc-number>
<date>20020621</date>
</priority-claim>
<priority-claim sequence="03" kind="national">
<country>JP</country>
<doc-number>2002-205684</doc-number>
<date>20020715</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>1003</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>65</class>
<subclass>H</subclass>
<main-group>43</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>271176</main-classification>
<further-classification>271207</further-classification>
<further-classification>271298</further-classification>
</classification-national>
<invention-title id="d0e107">Image forming apparatus, sheet containing device, sheet inserting device, book-binding system, and sheet processing apparatus</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4442505</doc-number>
<kind>A</kind>
<name>Takano</name>
<date>19840400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>399403</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5435544</doc-number>
<kind>A</kind>
<name>Mandel</name>
<date>19950700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>271298</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6449051</doc-number>
<kind>B2</kind>
<name>Ichi et al.</name>
<date>20020900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  113</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0174551</doc-number>
<kind>A1</kind>
<name>Kurohata et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  112</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2004/0179052</doc-number>
<kind>A1</kind>
<name>Phillips et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>347 14</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>08-274974</doc-number>
<kind>A</kind>
<date>19961000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>09-175706</doc-number>
<kind>A</kind>
<date>19970700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>10-186953</doc-number>
<kind>A</kind>
<date>19980700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>2001-147793</doc-number>
<kind>A</kind>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>271176</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>271207</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>271298</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399382</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399403</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399405</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>399407</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>270 5804</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>270 5202</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>270 5203</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>270 5204</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>65</number-of-drawing-sheets>
<number-of-figures>78</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20030222396</doc-number>
<kind>A1</kind>
<date>20031204</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kurahashi</last-name>
<first-name>Masahiro</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Hirai</last-name>
<first-name>Katsuaki</first-name>
<address>
<city>Ibaraki</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Miyake</last-name>
<first-name>Norifumi</first-name>
<address>
<city>Chiba</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Isemura</last-name>
<first-name>Keizo</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="005" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Yamanaka</last-name>
<first-name>Yuji</first-name>
<address>
<city>Ibaraki</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="006" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Watanabe</last-name>
<first-name>Naoto</first-name>
<address>
<city>Chiba</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="007" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Moriyama</last-name>
<first-name>Tsuyoshi</first-name>
<address>
<city>Ibaraki</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="008" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kushida</last-name>
<first-name>Hideki</first-name>
<address>
<city>Ibaraki</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Rossi, Kimms &amp; McDowell LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Canon Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Bollinger</last-name>
<first-name>David H</first-name>
<department>3653</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">There is provided an image forming apparatus that is capable of preventing input errors and eliminating the necessity of complicated input operations in making settings for a sheet mixing operation in which color image output sheets and black-and-white image output sheets are mixed into one group. A stacker tray stores sheets with color images formed thereon by a color MFP and is equipped with a storage device, into and from which information relating to the sheets can be written and read. A black-and-white MFP operates in response to attachment of the stacker tray to an inserter attached to the black-and-white MFP, to execute an image formation job by providing control such that the sheets with color images formed thereon stored in the stacker tray and sheets with black-and-white images formed thereon by the black-and-white MFP are mixed according to the information stored in the storage device of the stacker tray.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="170.26mm" wi="165.52mm" file="US07296791-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="181.27mm" wi="165.78mm" file="US07296791-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="217.59mm" wi="122.26mm" orientation="landscape" file="US07296791-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="215.90mm" wi="95.76mm" orientation="landscape" file="US07296791-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="252.31mm" wi="125.81mm" orientation="landscape" file="US07296791-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="259.59mm" wi="145.46mm" orientation="landscape" file="US07296791-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="197.10mm" wi="123.44mm" orientation="landscape" file="US07296791-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="231.99mm" wi="107.36mm" orientation="landscape" file="US07296791-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="241.05mm" wi="159.77mm" orientation="landscape" file="US07296791-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="233.51mm" wi="165.10mm" orientation="landscape" file="US07296791-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="172.72mm" wi="162.31mm" file="US07296791-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="218.36mm" wi="95.59mm" orientation="landscape" file="US07296791-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="188.30mm" wi="139.70mm" file="US07296791-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="200.74mm" wi="166.62mm" orientation="landscape" file="US07296791-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="196.68mm" wi="164.42mm" orientation="landscape" file="US07296791-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="207.18mm" wi="186.35mm" file="US07296791-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="192.70mm" wi="127.85mm" orientation="landscape" file="US07296791-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="189.82mm" wi="130.30mm" orientation="landscape" file="US07296791-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="261.62mm" wi="158.67mm" orientation="landscape" file="US07296791-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="211.50mm" wi="178.22mm" file="US07296791-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00020" num="00020">
<img id="EMI-D00020" he="255.61mm" wi="172.64mm" file="US07296791-20071120-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00021" num="00021">
<img id="EMI-D00021" he="233.17mm" wi="168.66mm" file="US07296791-20071120-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00022" num="00022">
<img id="EMI-D00022" he="196.34mm" wi="138.60mm" file="US07296791-20071120-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00023" num="00023">
<img id="EMI-D00023" he="161.04mm" wi="173.06mm" file="US07296791-20071120-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00024" num="00024">
<img id="EMI-D00024" he="199.14mm" wi="148.67mm" file="US07296791-20071120-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00025" num="00025">
<img id="EMI-D00025" he="204.30mm" wi="167.05mm" file="US07296791-20071120-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00026" num="00026">
<img id="EMI-D00026" he="232.33mm" wi="162.64mm" file="US07296791-20071120-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00027" num="00027">
<img id="EMI-D00027" he="213.11mm" wi="172.72mm" file="US07296791-20071120-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00028" num="00028">
<img id="EMI-D00028" he="229.11mm" wi="178.31mm" file="US07296791-20071120-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00029" num="00029">
<img id="EMI-D00029" he="165.10mm" wi="171.53mm" file="US07296791-20071120-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00030" num="00030">
<img id="EMI-D00030" he="193.04mm" wi="154.60mm" file="US07296791-20071120-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00031" num="00031">
<img id="EMI-D00031" he="194.73mm" wi="162.22mm" file="US07296791-20071120-D00031.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00032" num="00032">
<img id="EMI-D00032" he="201.85mm" wi="157.82mm" file="US07296791-20071120-D00032.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00033" num="00033">
<img id="EMI-D00033" he="161.04mm" wi="169.93mm" file="US07296791-20071120-D00033.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00034" num="00034">
<img id="EMI-D00034" he="233.60mm" wi="165.10mm" file="US07296791-20071120-D00034.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00035" num="00035">
<img id="EMI-D00035" he="263.14mm" wi="183.90mm" orientation="landscape" file="US07296791-20071120-D00035.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00036" num="00036">
<img id="EMI-D00036" he="232.75mm" wi="168.66mm" orientation="landscape" file="US07296791-20071120-D00036.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00037" num="00037">
<img id="EMI-D00037" he="161.88mm" wi="124.97mm" file="US07296791-20071120-D00037.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00038" num="00038">
<img id="EMI-D00038" he="194.65mm" wi="153.84mm" file="US07296791-20071120-D00038.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00039" num="00039">
<img id="EMI-D00039" he="159.00mm" wi="141.82mm" file="US07296791-20071120-D00039.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00040" num="00040">
<img id="EMI-D00040" he="171.03mm" wi="169.93mm" file="US07296791-20071120-D00040.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00041" num="00041">
<img id="EMI-D00041" he="240.71mm" wi="141.39mm" file="US07296791-20071120-D00041.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00042" num="00042">
<img id="EMI-D00042" he="210.74mm" wi="168.23mm" file="US07296791-20071120-D00042.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00043" num="00043">
<img id="EMI-D00043" he="223.94mm" wi="119.46mm" file="US07296791-20071120-D00043.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00044" num="00044">
<img id="EMI-D00044" he="197.53mm" wi="159.43mm" file="US07296791-20071120-D00044.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00045" num="00045">
<img id="EMI-D00045" he="157.06mm" wi="151.38mm" file="US07296791-20071120-D00045.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00046" num="00046">
<img id="EMI-D00046" he="148.59mm" wi="127.42mm" file="US07296791-20071120-D00046.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00047" num="00047">
<img id="EMI-D00047" he="174.24mm" wi="160.61mm" file="US07296791-20071120-D00047.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00048" num="00048">
<img id="EMI-D00048" he="168.66mm" wi="181.86mm" file="US07296791-20071120-D00048.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00049" num="00049">
<img id="EMI-D00049" he="214.04mm" wi="115.32mm" file="US07296791-20071120-D00049.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00050" num="00050">
<img id="EMI-D00050" he="162.31mm" wi="140.21mm" file="US07296791-20071120-D00050.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00051" num="00051">
<img id="EMI-D00051" he="160.27mm" wi="170.69mm" file="US07296791-20071120-D00051.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00052" num="00052">
<img id="EMI-D00052" he="247.57mm" wi="185.50mm" orientation="landscape" file="US07296791-20071120-D00052.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00053" num="00053">
<img id="EMI-D00053" he="213.87mm" wi="160.27mm" file="US07296791-20071120-D00053.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00054" num="00054">
<img id="EMI-D00054" he="222.67mm" wi="165.10mm" orientation="landscape" file="US07296791-20071120-D00054.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00055" num="00055">
<img id="EMI-D00055" he="111.76mm" wi="162.31mm" file="US07296791-20071120-D00055.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00056" num="00056">
<img id="EMI-D00056" he="156.29mm" wi="168.66mm" file="US07296791-20071120-D00056.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00057" num="00057">
<img id="EMI-D00057" he="170.69mm" wi="149.44mm" file="US07296791-20071120-D00057.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00058" num="00058">
<img id="EMI-D00058" he="209.97mm" wi="115.74mm" file="US07296791-20071120-D00058.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00059" num="00059">
<img id="EMI-D00059" he="233.17mm" wi="117.86mm" file="US07296791-20071120-D00059.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00060" num="00060">
<img id="EMI-D00060" he="254.00mm" wi="144.27mm" file="US07296791-20071120-D00060.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00061" num="00061">
<img id="EMI-D00061" he="231.14mm" wi="181.10mm" file="US07296791-20071120-D00061.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00062" num="00062">
<img id="EMI-D00062" he="268.82mm" wi="189.48mm" file="US07296791-20071120-D00062.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00063" num="00063">
<img id="EMI-D00063" he="270.00mm" wi="185.08mm" orientation="landscape" file="US07296791-20071120-D00063.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00064" num="00064">
<img id="EMI-D00064" he="146.64mm" wi="171.03mm" file="US07296791-20071120-D00064.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00065" num="00065">
<img id="EMI-D00065" he="179.15mm" wi="120.65mm" file="US07296791-20071120-D00065.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">1. Field of the Invention</p>
<p id="p-0003" num="0002">The present invention relates to an image forming apparatus, a sheet containing device, a sheet inserting device, a book-binding system, and a sheet processing apparatus. In particular, the present invention relates to an image forming apparatus, a sheet containing device, a sheet inserting device, a book-binding system, and a sheet processing apparatus, which can be suitably used for the purpose of laborsaving or the like in an image forming system in which a plurality of image forming apparatuses are connected to a network.</p>
<p id="p-0004" num="0003">2. Description of the Related Art</p>
<p id="p-0005" num="0004">Conventionally, when printing out a plurality of types of originals consisting of color originals and black-and-white originals in a system in which a color image forming apparatus (color copying apparatus) capable of forming color and black-and-white images and a black-and-white image forming apparatus (black-and-white copying apparatus) capable of forming only black-and-white images are connected to a network, the user uses the color image forming apparatus (color copying apparatus) to print out all of the plurality of types of originals to obtain a printed matter composed of color pages and black-and-white pages.</p>
<p id="p-0006" num="0005">On the other hand, since the color copying apparatus requires higher cost and time for image formation as compared with the black-and-white copying apparatus, the black-and-white copying apparatus has been required to be used to print out black-and-white originals among a plurality of types of originals consisting of color originals and black-and-white originals. Accordingly, it may be considered that, when printing out a plurality of types of originals consisting of color originals and black-and-white originals, the black-and-white copying apparatus is used to print out the black-and-white originals and the color copying apparatus is used to print out the color originals.</p>
<p id="p-0007" num="0006">In this case, to collect recording sheets printed out by the black-and-white copying apparatus and recording sheets printed out by the color copying apparatus into one unit like the original plurality of types of originals consisting of the color originals and the black-and-white originals, the user needs to insert (interleave) the recording sheets outputted by one copying apparatus between the recording sheets outputted by the other copying apparatus and then manually arrange the recording sheets in page order.</p>
<p id="p-0008" num="0007">As described above, when printouts from a plurality of images are desired to be arranged into one document, a part of the printouts cannot be processed on a computer. Thus, the user must manually work on the printed-out images spread out on a desk, which is very inefficient. From this standpoint, laborsaving is desired (the first prior art).</p>
<p id="p-0009" num="0008">For the purpose of laborsaving, a method has been proposed in which one tray (hereinafter referred to as “the stacker tray”) is commonly used as a stacker tray (containing means) used for temporarily containing color image output sheets outputted by a color MFP (multifunction peripheral equipment) and as an insert tray (reefed means) used for inserting color image output sheets between black-and-white image output sheets in a black-and-white MFP to collect the color image output sheets and the black-and-white image output sheets into one unit in which these output sheets are mixed together. In this method, color image output sheets outputted by the color MFP, whose output speed is lower than that of the black-and-white MFP, are stacked and stored in the stacker tray, and the stacker tray is attached to an inserting device (inserter) of the black-and-white MFP to refeed the color image output sheets, so that the color image output sheets and the black-and-white image output sheets can be mixed (the second prior art)</p>
<p id="p-0010" num="0009">On the other hand, the “on-demand printing” field has drawn more attention in the field of digital copying and printing. The on-demand printing can satisfy the need for high-mix small-lot printing, and allows modifications of contents. Thus, the on-demand printing is suitable for producing documents such as manuals, brochures for personals, and so forth. Further, the one-demand printing considerably reduces the man-hour and time by greatly reducing the print inventory and enabling in-line operation from the input of data to completion of book-binding, and considerably reduces the delivery time and cost by making it easier to transfer data due to connection with terminals of clients via a digital network.</p>
<p id="p-0011" num="0010">In recent years, image recording apparatuses such as digital copying machines based on the above described on-demand printing technique have been widely used, and the image qualities thereof have been improved to the level of printed matters. Further, due to the recent rapid spread of personal computers (PC) for offices and personals, a plurality of client apparatuses such as PCs can be connected to a plurality of image recording apparatuses such as digital copying machines equipped with print servers via in-house office local area networks (LAN) or digital networks to construct a network system so that necessary image information can be freely recorded on sheets at any given time.</p>
<p id="p-0012" num="0011">As a post-processing apparatus for use in combination with the above-mentioned networked image recording system to produce only a small amount of booklets such as catalogs, manuals, circulars at offices, or the like, a collating and binding apparatus is known which carries out a so-called collating process in which printouts obtained by distributed processing by a plurality of image recording apparatuses are arranged in page order, and performs book-binding as the need arises.</p>
<p id="p-0013" num="0012">Further, information of booklets such as catalogs and product manuals recently circulating in the market and image information of booklets such as circulars for offices have been increasingly provided in color, and an increased number of such booklets have been composed of black-and-white images and color images. As is known, printing all the pages of the booklets using the color copying machine requires higher cost and longer time as compared with the black-and-white copying machine. For this reason, in recent years, a method has been generally employed in which original image data of a catalog or the like is separated into black-and-white pages and color pages, the black-and-white pages are printed by the black-and-white copying machine and the color pages are printed by the color copying machine, and then the pages printed by both copying machines are mixed into one unit by the above-mentioned post-processing apparatus (the collating and binding apparatus) or the like to produce a booklet.</p>
<p id="p-0014" num="0013">The post-processing apparatus such as the collating and binding apparatus used in combination with the networked image recording system, however, requires bins in number corresponding to the number of pages of a booklet to be produced in order to discharge recording sheets, and therefore, there is the problem that the post-processing apparatus is large-sized.</p>
<p id="p-0015" num="0014">To address this problem, a booklet producing method and a post-processing apparatus as described below have been proposed. For example, a server apparatus analyzes a print job of six pages consisting of three black-and-white pages and three color pages (refer to <figref idref="DRAWINGS">FIG. 57</figref>), and outputs such a print request that the color pages be printed by a color copying machine and the black-and-white pages by a black-and-white copying machine.</p>
<p id="p-0016" num="0015">Each of the copying machines having received the print request discharges recording sheets such that m copies of recording sheets can be stacked in units of copy (refer to <figref idref="DRAWINGS">FIGS. 61A and 61B</figref>). The discharged recording sheets are transferred to trays of the post-processing apparatus on a tray-by-tray basis. On the other hand, the post-processing apparatus feeds the color pages and the black-and-white pages in page order from the respective trays in order to collate the recording sheets. The post-processing apparatus then binds the recording sheets as the need arises to complete a booklet (refer to <figref idref="DRAWINGS">FIG. 60</figref>).</p>
<p id="p-0017" num="0016">The above described technique has been already known as a distributed processing type booklet producing system as disclosed in Japanese Laid-Open Patent Publication (Kokai) No. 10-186953, for example. This distributed processing type booklet producing system is comprised of a server that distributes one job inputted from a client apparatus to a plurality of recording apparatuses for distributed processing, the plurality of recording apparatuses that record images on sheets based on the job according to an instruction from the server, and a post-processing apparatus that produces a booklet from the recording sheets outputted from the recording apparatuses. Further, the post-processing apparatus is comprised of a plurality of sheet feeding sections which are provided for the respective recording apparatus and in which the recording sheets outputted from the respective recording apparatuses are contained, and a control section that controls the operation of the plurality of sheet feeding sections according to information supplied from the server (the third prior art).</p>
<p id="p-0018" num="0017">However, the above described first prior art has problems as described below.</p>
<p id="p-0019" num="0018">To make it less complicated to combine printouts of a plurality of images into one document as mentioned above, a mixing control method has been proposed in which color image output sheets printed in advance are stacked in an inserter attached to a black-and-white image forming apparatus and the color image output sheets are refed. In this mixing control method, the color image output sheets outputted from a color image forming apparatus whose output speed is usually lower than that of the black-and-white image forming apparatus are once stored in an insert tray, and various information used for mixing the color image output sheets and the black-and-white image output sheets such as the job numbers of the print job, the sheet size, the number of copies to be printed, the stacked state of sheets in the inserter, and materials (the type of sheets; e.g. plain sheets and heavy sheets) is set using an operating section or the like, and according to the setting, information on color originals is downloaded from a server connected to a network or is read from a storage means of the image forming apparatus to form color images on sheets, so that the color image output sheets and the black-and-white image output sheets can be mixed.</p>
<p id="p-0020" num="0019">However, when copying by the above conventional mixing control method, the user is still heavily burdened because copying errors can occur due to input errors made by the user or it is troublesome to make complicated settings. Particularly in the case where a plurality of black-and-white image forming apparatuses and a plurality of color image forming apparatuses are connected to each other via a network, a long downtime is caused by improper mixing of color image output sheets and black-and-white image output sheets resulting from inserter attachment errors.</p>
<p id="p-0021" num="0020">Further, the above described second prior art has problems as described below. In the case where an image forming apparatus mixes color images and black-and-white images, the user is still heavily burdened because copying errors can occur due to input errors made by the user or it is troublesomeness to make complicated settings as is the case with the first prior art. Particularly in the case where a plurality of black-and-white image forming apparatuses and a plurality of color image forming apparatuses are connected to each other via a network, a large amount of miscopies and a long downtime can be caused by inserter attachment errors.</p>
<p id="p-0022" num="0021">Further, in recent years, as there has been an increasing demand for small-lot and diversified color/black-and-white mixing jobs, it is inefficient to process the jobs using only one high-capacity stacker tray since a large number of large-sized stacker trays are required. Thus, it has been preferred that a plurality of smaller-sized stacker trays are allowed to be attached to a stacker (inserter) so that the stacker trays can be selectively used according to requirements from the user to improve the productivity of small-lot jobs.</p>
<p id="p-0023" num="0022">In this case, managing and using the plurality of stacker trays selectively according to requirements from the user necessitates outputting sheets with images formed thereon to inserter of desired image forming apparatuses and to desired stacker trays without fail. This will increase the troublesomeness for the user, and raise the frequency of miscopy due to setting errors and attachment errors as compared with the case where only one stacker tray is used, and thus, the user is heavily burdened. Further, an increased number of complicated settings may be required since operations must be performed to reserve a stacker tray that is executing no job (i.e. a stacker tray which is not being used) so as to use the plurality of stacker trays appropriately according to requirements from the user. Further, it goes without saying that, in the case where a plurality of users share the image forming apparatus and the inserter, the troublesomeness and the downtime are increased due to setting errors and attachment errors.</p>
<p id="p-0024" num="0023">Further, the above described third prior art has problems as described below.</p>
<p id="p-0025" num="0024">Since the post-processing apparatus is comprised of the plurality of sheet feeding sections in which recording sheets outputted from the respective recording apparatuses are set, it is difficult for the user to recognize which bundle of sheets has not been set in the post-processing apparatus. Further, when producing a plurality of types of booklets, if bundles of sheets for a plurality of booklets are set in the trays of the post-processing apparatus, the user easily makes input errors since it is difficult for the user to determine which bundles of sheets belong to which booklets. It is also difficult for the user to determine whether all of bundles of sheets have been set or not. Further, there is the possibility that processing cannot be properly performed due to errors made by the user. Further, even if a certain recording apparatus has finished outputting, the user cannot recognize this and the outputted sheets are left as it is without being set in the post-processing apparatus by the user, and the processing speed may be lowered due to a delay in job progress in an off-line section even if the processing speed can be raised by distributed processing control.</p>
<p id="p-0026" num="0025">Further, it is impossible to clearly recognize the contents of sheet feeding sections set in the post-processing apparatus. Further, the operability is not satisfactory since when the user sets the sheet feeding sections, on which recording sheets outputted from the recording apparatuses are stored, in the post-processing apparatus, he or sheet must carefully set the sheet feeding sections at respective positions suitable for the contents of the sheet feeding sections. Further, only a simple flow of work can be executed due to the possibility that sheets are lost due to operation errors made by the user.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0027" num="0026">It is therefore a first object of the present invention to provide an image forming apparatus, a sheet containing device, and a sheet inserting device, which can alleviate the burden on the user by preventing input errors and eliminating the need for complicated input operations in making settings for a mixing process in which color image output sheets and black-and-white image output sheets are mixed into one group.</p>
<p id="p-0028" num="0027">It is a second object of the present invention to provide an image forming apparatus, a sheet containing device, and a sheet inserting device, which are capable of providing proper sheet mixing control without making errors in insertion of sheets by enabling the next job to be started immediately upon completion of a job being executed even while an inserting means is inserting output sheets relating to other jobs, and which enable a sheet containing device to be attached to the inserting means without errors.</p>
<p id="p-0029" num="0028">It is a third object of the present invention to provide a book-binding system and a sheet processing apparatus, which can improve the operability to prevent the user from making operation mistakes, and reducing the downtime to improve the productivity.</p>
<p id="p-0030" num="0029">To attain the first object, in a first aspect of the present invention, there is provided an image forming apparatus, comprising an image formation processing device that forms images on sheets according to image data and output setting information, a sheet containing device that stores the sheets with the images formed thereon discharged from the image formation processing device, a storage device attached to the sheet containing device, and a controller that provides control such that information on a stacked state of the sheets with the images formed thereon stored in the sheet containing device and the output setting information are stored in the storage device.</p>
<p id="p-0031" num="0030">Preferably, the image forming apparatus according to the first aspect comprises an original reading device that reads originals to generate the image data, and an operating device that sets the output setting information.</p>
<p id="p-0032" num="0031">Preferably, the image data and the output setting information are transmitted from an information processing apparatus capable of communicating with the image forming apparatus.</p>
<p id="p-0033" num="0032">Preferably, the information on the stacked state includes information indicative of page numbers of respective ones of the sheets with the images formed thereon stored in the sheet containing device and a predetermined order of the page numbers.</p>
<p id="p-0034" num="0033">Preferably, the information on the stacked state includes information indicative of whether sheets with the images formed thereon stored in the sheet containing device are discharged with surfaces thereof on which the images are formed facing upward.</p>
<p id="p-0035" num="0034">To attain the first object, the first aspect of the present invention provides an image forming apparatus comprising an image formation processing device that forms images on sheets according to image data and output setting information, a sheet containing device that stores the sheets with the images formed thereon discharged from the image formation processing device, a sheet inserting device to which the sheet containing device is detachably attached and which is capable of mixing the sheets with the images formed thereon stored in the sheet containing device and the sheets with the images formed thereon discharged from the image formation processing device, a storage device that is attached to the sheet containing device and stores containment information relating to the sheets with the images formed thereon stored in the sheet containing device, and a controller operable in response to attachment of the sheet containing device to the sheet inserting device, for controlling the image formation processing device and the sheet inserting device according to the containment information stored in the storage device.</p>
<p id="p-0036" num="0035">Preferably, the containment information includes information indicative of page numbers of respective ones of sheets with images formed thereon stored in the sheet containing device and a predetermined order of the page numbers.</p>
<p id="p-0037" num="0036">Preferably, the containment information includes information indicative of whether the sheets with the images formed thereon stored in the sheet containing device have been discharged with surfaces thereof on which the images are formed facing upward.</p>
<p id="p-0038" num="0037">To attain the first object, the first aspect of the present invention provides an image forming apparatus comprising an image formation processing device that forms images on sheets according to image data and output setting information, a sheet containing device that stores the sheets with the images formed thereon discharged from the image formation processing device, a sheet inserting device to which the sheet containing device is detachably attached and which is capable of mixing the sheets with the images formed thereon stored in the sheet containing device and the sheets with the images formed thereon discharged from the image formation processing device, a first storage device that stores device information relating to the image formation processing device, a second storage device that is attached to the sheet containing device and stores containment information including the output setting information relating to the sheets with the images formed thereon stored in the sheet containing device, and a controller operable in response to attachment of the sheet containing device to the sheet inserting device, for providing control such that the containment information is read out from the second storage device, and when the containment information and the device information are inconsistent, the sheet inserting device is prohibited from operating.</p>
<p id="p-0039" num="0038">Preferably, the controller provides control such that a warning is given when the containment information and the device information are inconsistent.</p>
<p id="p-0040" num="0039">Preferably, the containment information includes at least information indicating that the sheet containing device should be attached to the sheet inserting device.</p>
<p id="p-0041" num="0040">Preferably, the containment information includes information indicative of serial numbers of image formation jobs.</p>
<p id="p-0042" num="0041">With the above arrangement according to the first aspect of the present invention, in an image forming system in which at least one color image forming apparatus, at least one black-and-white image forming apparatus, and at least one computer are connected to each other via a network, the image forming apparatus stores color image output sheets or black-and-white image output sheets on which images have been formed by the color image forming apparatus or the black-and-white image output sheets in a sheet containing device, inserts the stored color image output sheets or black-and-white image output sheets between black-and-white image output sheets or color image output sheets with images formed thereon discharged from the black-and-white image forming apparatus or the color image forming apparatus so that the color image output sheets and the black-and-white image output sheets can be mixed into one group. As a result, as is distinct from the prior art, it is possible to prevent input errors and eliminate the need for complicated input operations in making settings as to a sheet mixing operation, thus alleviating the burden on the user.</p>
<p id="p-0043" num="0042">To attain the first object of the present invention, in a second aspect of the present invention, there is provided a sheet containing device that stores sheets with images formed thereon discharged from one of first and second image forming apparatuses, according to image data and output setting information, comprising a storage device that stores containment information on the sheets with the images formed thereon stored in the sheet containing device, wherein the sheet containing device is detachably attached to a sheet inserting device that mixes the sheets with the images formed thereon stored in the sheet containing device and sheets with images formed thereon discharged from the other of the first and second image forming apparatuses.</p>
<p id="p-0044" num="0043">Preferably, the containment information includes at least one of stacked state information and output setting information.</p>
<p id="p-0045" num="0044">More preferably, the stacked state information includes information indicative of page numbers of respective ones of the sheets with the images formed thereon stored in the sheet containing device and a predetermined order of the page numbers.</p>
<p id="p-0046" num="0045">Also preferably, the stacked state information includes information indicative of whether the stored sheets with the images formed thereon have been discharged with surfaces thereof on which the images are formed facing upward.</p>
<p id="p-0047" num="0046">Preferably, the output setting information includes at least information indicating that the sheet containing device should be attached to the sheet inserting device.</p>
<p id="p-0048" num="0047">With the above arrangement according to the second aspect of the present invention, the sheet containing device including the storage device that stores containment information relating to sheets is used to store sheets on which images have been formed by the image forming apparatus. As a result, it is possible to prevent input errors and eliminate the need for complicated input operations in making settings as to a mixing operation, thus alleviating the burden on the user as mentioned above.</p>
<p id="p-0049" num="0048">To attain the first object of the present invention, in a third aspect of the present invention, there is provided a sheet inserting device comprising an attachment device to which is detachably attached a sheet containing device that stores sheets with images formed thereon discharged from one of first and second image forming apparatuses, according to image data and output setting information, the sheet containing device including a storage device that stores containment information on the sheets with the images formed thereon stored in the sheet containing device, wherein the sheet inserting device mixes sheets with images formed thereon discharged from the other of the first and second image forming apparatuses and sheets with the images formed thereon stored in the sheet containing device attached to the attachment device.</p>
<p id="p-0050" num="0049">Preferably, the sheet inserting device according to the second aspect is capable of having connected thereto a post-mixing sheet containing device that stores mixed sheets obtained by mixing by the sheet inserting device, at a downstream side thereof.</p>
<p id="p-0051" num="0050">With the above arrangement according to the third aspect of the present invention, the sheet containing device is attached to the sheet inserting device to mix sheets, and it is therefore possible to prevent input errors and eliminate the need for complicated input operations in making settings for a mixing operation, thus alleviating the burden on the user as mentioned above.</p>
<p id="p-0052" num="0051">To attain the second object, in a fourth aspect of the present invention, there is provided an <b>23</b>. An image forming apparatus having attached thereto a sheet inserting device to which is detachably attached a plurality of sheet containing devices that store sheets and each have a containment information storage device that stores containment information relating to the sheets, the image forming apparatus comprising an image formation processing device that forms images on sheets, and a controller operable in response to attachment of each of the sheet containing devices to the sheet inserting device, for controlling an operation by the sheet inserting device of inserting the sheets stored in the sheet containing devices between the sheets on which the images have been formed by the image formation processing device according to the containment information, wherein the controller is responsive to detection of attachment of a first one of the sheet containing devices to the sheet inserting device during execution of a job relating to insertion of the sheets in a state in which a second one of the sheet containing devices is attached to the sheet inserting device, for starting a next job after completion of the job being executed, according to the containment information stored in the first one of the sheet containing devices.</p>
<p id="p-0053" num="0052">Preferably, the completion of the job being executed comprises a state in which a last page of the job being executed has been outputted.</p>
<p id="p-0054" num="0053">Preferably, the image forming apparatus according to the third aspect comprises an image storage device, and wherein the completion of the job being executed comprises a state in which image data according to the next job to be executed has been written to the image storage device, and a state in which the image data according to the next job to be executed can be written to the image storage device.</p>
<p id="p-0055" num="0054">Preferably, the image forming apparatus according to the third aspect comprises an image reading device that reads originals to generate image data, and an operating device that sets output setting data, wherein the image formation processing device forms images on sheets according to the image data and the output setting data.</p>
<p id="p-0056" num="0055">Preferably, the the image data and the output setting data can be transmitted from an external apparatus to the image forming apparatus.</p>
<p id="p-0057" num="0056">Preferably, the containment information stored in the containment information storage device of each of the plurality of sheet containing devices includes information relating to a stacked state of the sheets, and the information relating to the stacked state includes information indicative of page numbers of respective ones of the sheets stored in the sheet containing device and a predetermined order of the page numbers.</p>
<p id="p-0058" num="0057">More preferbly, the information relating to the stacked state includes information indicative of whether the stored sheets stored in the sheet containing device have been discharged with surfaces thereof on which the images are formed facing upward.</p>
<p id="p-0059" num="0058">Preferably, the information relating to the stacked state includes information indicative of an outside dimension of the sheets stored in the sheet containing device</p>
<p id="p-0060" num="0059">Also preferably, the information relating to the stacked state includes information indicative of a type of the sheets stored in the sheet containing device.</p>
<p id="p-0061" num="0060">Preferably, the containment information stored in the containment information storage device of each of the plurality of containing devices includes information indicative of a name unique to the sheet containing device.</p>
<p id="p-0062" num="0061">Preferably, the plurality of sheet containing devices each comprise a display device that displays the containment information stored in the containment information storage device.</p>
<p id="p-0063" num="0062">More preferably, the controller provides control such that the display device displays a progress of image formation carried out by the image formation processing device and the stacked state of the sheets stored in the sheet containing device.</p>
<p id="p-0064" num="0063">Also preferably, the sheet inserting device has a plurality of attachment sections for attaching the plurality of sheet containing devices to the sheet inserting device, and wherein each of the plurality of sheet containing devices is capable of being used commonly to the plurality of attachment sections of the sheet inserting device.</p>
<p id="p-0065" num="0064">To attain the second object, the fourth aspect of the present invention provides an image forming apparatus having attached thereto a sheet inserting device to which is detachably attached a plurality of sheet containing devices that store sheets and each have a containment information storage device that stores containment information relating to the sheets, the image-forming apparatus comprising an image formation processing device that forms images on sheets, an apparatus information storage device that stores apparatus information relating to the image forming apparatus, and a controller operable in response to attachment of each of the sheet containing devices to the sheet inserting device, for providing control such that the containment information is read out from the containment information storage device, and when the containment information and the apparatus information are inconsistent, the sheet inserting device is prohibited from performing a sheet inserting operation, wherein the sheet inserting device has a plurality of attachment sections for attaching the plurality of sheet containing devices to the sheet inserting device, and wherein each of the plurality of containing devices is capable of being used commonly to the plurality of attachment sections of the sheet inserting device that inserts the sheets stored in the sheet containing devices between the sheets on which the images have been formed by the image formation processing device.</p>
<p id="p-0066" num="0065">Preferably, the controller provides control such that a warning is displayed when the containment information and the apparatus information are inconsistent.</p>
<p id="p-0067" num="0066">Preferably, the containment information stored in the containment information storage device of each of the plurality of containing devices includes at least information indicating that the sheet containing device should be attached to the sheet inserting device.</p>
<p id="p-0068" num="0067">Preferably, the containment information stored in the containment information storage device of each of the plurality of containing devices includes information indicative of serial numbers of image formation jobs.</p>
<p id="p-0069" num="0068">Preferably, the containment information stored in the containment information storage device of each of the plurality of containing devices includes information indicative of a name unique to the sheet containing device.</p>
<p id="p-0070" num="0069">Also preferably, each of the plurality of containing devices comprises a display device that displays the containment information stored in the containment information storage device.</p>
<p id="p-0071" num="0070">More preferably, the controller provides control such that the display device displays a progress in image formation carried out by the image formation processing device and the stacked state of the sheets stored in the sheet containing device.</p>
<p id="p-0072" num="0071">Preferably, the controller provides control such that the display device displays a warning when the containment information and the apparatus information are inconsistent.</p>
<p id="p-0073" num="0072">With the above arrangement according to the fourth aspect of the present invention, while a job relating to insertion of sheets is being executed in the state in which an arbitrary one of the sheet containing devices is attached to the sheet inserting device, if the attachment of another one of sheet containing device to the sheet inserting device is detected, control is provided such that the next job is started after completion of the job being executed according to containment information stored in the attached other one of the sheet containing devices. For this reason, even when the sheet inserting device is performing an operation of inserting output sheets relating to another job, the attachment of the sheet containing device to an attachment section of the sheet inserting device other than the attachment position where the job is being executed enables the next job to be automatically started immediately upon completion of the job being executed.</p>
<p id="p-0074" num="0073">Further, with the above arrangement according to the fourth aspect of the present invention, the image forming apparatus provides control such that the containment information is read out from the containment information storage device in response to the attachment of the sheet containing device to the sheet inserting device, and when the containment information and the apparatus information are inconsistent, the sheet inserting device is prohibited from performing an inserting operation. As a result, it is possible to reliably prevent sheet insertion errors if the sheet containing device is improperly attached to the sheet inserting device.</p>
<p id="p-0075" num="0074">Further, with the above arrangement according to the fourth aspect of the present invention, the plurality of sheet containing devices are each equipped with the containment information storage device into and from which the containment information relating to sheets can be written and read, so that a unique name can be given to each of the sheet containing devices. As a result, irrespective of the attachment position of the sheet inserting device to which each sheet containing device is attached, it is possible to provide proper sheet mixing control according to the unique name of the sheet containing device and other contents stored in the containment information storage device, and to prevent the user from making errors in attaching the sheet containing device to the plurality of attachment positions of the sheet inserting device.</p>
<p id="p-0076" num="0075">To attain the second object, in a fifth aspect of the present invention, there is provided a sheet containing device capable of being detachably attached to a sheet inserting device that inserts sheets, comprising a sheet containing unit that stores sheets with images formed thereon, a containment information storage device that stores containment information relating to the sheets stored in the sheet containing unit, and a display device that provides display based on the containment information stored in the containment information storage device.</p>
<p id="p-0077" num="0076">Preferably, the display device displays at least one of information indicative of a attachment section of the sheet inserting device that is designated for attaching the sheet containing device to the sheet inserting device, information indicative of whether the sheet containing device has been properly attached to the designated attachment section, and information indicative of a status of usage of the sheet containing device.</p>
<p id="p-0078" num="0077">With the above arrangement according to the fithth aspect of the present invention, the plurality of sheet containing devices each display the containment information stored in the containment information storage device thereof. As a result, it is possible to easily identify sheets stored in the respective sheet containing devices and provide such display as to prevent attachment errors and improper withdrawal of units, thus improving the operability for the user.</p>
<p id="p-0079" num="0078">Further, with the above arrangement according to the fourth aspect of the present invention, at least one information selected from the group consisting of information indicative of a attachment section of the sheet inserting device that is designated for attaching the sheet containing device to the sheet inserting device, information indicative of whether the sheet containing device has been properly attached to the designated attachment section, and information indicative of a status of usage of the sheet containing device is shown on the display section of the sheet containing device attached to the sheet inserting device. As a result, it is possible to considerably lower the possibility that the user makes errors in attaching the sheet containing device to the sheet inserting device.</p>
<p id="p-0080" num="0079">To attain the second object, in a sixth aspect of the present invention, the present invention provides a sheet inserting device that inserts sheets, comprising an attachment device to which a plurality of sheet containing devices that store sheets and each have a containment information storage device that stores containment information relating to the sheets stored in the sheet containing devices are detachably attached, and a sheet inserting device that inserts the sheets stored in the sheet containing devices attached to the attachment device between sheets on which image have been formed by an image forming apparatus according to the containment information.</p>
<p id="p-0081" num="0080">With the above arrangement according to the sixth aspect, sheets stored in the sheet containing devices are inserted between sheets on which images have been formed by the image forming apparatus, according to the containment information stored in the storage device of each of the sheet containing devices attached to the sheet inserting device. As a result, proper mixing of sheets can be achieved.</p>
<p id="p-0082" num="0081">To attain the third object, in a seventh aspect of the present invention, there is provided a book-binding system comprising a plurality of image forming apparatuses that form images on sheets, an information processing apparatus that causes the image forming apparatuses to perform distributed processing of jobs, a plurality of sheet containing devices that contain sheets from respective ones of the plurality of image forming apparatuses, a post-processing apparatus to which the plurality of sheet containing devices can be attached and which produces booklets by feeding the sheets stored in the sheet containing devices, a job information transmitting device that transmits job information from the information processing apparatus to the post-processing apparatus, a storage device provided in each of the sheet containing devices, for storing sheet information relating to the sheets outputted from each of the plurality of image forming apparatuses, and a sheet information transmitting device that transmits the sheet information stored in the storage device to the post-processing apparatus, wherein the post-processing apparatus performs post-processing on the sheets stored in the sheet containing devices according to the job information and the sheet information.</p>
<p id="p-0083" num="0082">Preferably, the book-binding system according to the seventh aspect comprises an output recognizing device that recognizes a status of output from each of the plurality of image forming apparatuses, and a notifying device that provides output completion information indicative of completion of sheet output from at least one of the plurality of image forming apparatuses has been completed according to the status of output recognized by the output recognizing device.</p>
<p id="p-0084" num="0083">Preferably, the post-processing apparatus comprises a job execution determining device that determines whether there are all of sheets required for execution of a job according to the sheet information transmitted from the sheet information transmitting device, and a job controller operable when it is determined that there are all of the sheets required for execution of the job, for executing the job.</p>
<p id="p-0085" num="0084">Preferably, the sheet information transmitting device comprises a sheet information writing device that writes the sheet information created based on information supplied from the information processing device to the storage device, and a sheet information reading device that reads out the sheet information stored in the storage device, wherein the post-processing apparatus performs a collating process for arranging the sheets stored in the sheet containing devices in page order, according to the sheet information read from the storage device by the sheet information reading device.</p>
<p id="p-0086" num="0085">Preferably, the book-binding system according to the seventh aspect is applied to a client server system including a client apparatus and a server apparatus, and wherein the information processing apparatus serves as the server apparatus and causes the plurality of image forming apparatuses to perform distributed processing of a job inputted from the client apparatus.</p>
<p id="p-0087" num="0086">Also preferably, the notifying device gives a notification upon lapse of a predetermined period of time after the completion of the sheet output is recognized.</p>
<p id="p-0088" num="0087">More preferably, the predetermined period of time can be varied.</p>
<p id="p-0089" num="0088">Preferably, the notifying device is provided in the post-processing apparatus.</p>
<p id="p-0090" num="0089">Preferably, the book-binding system according to the seventh aspect compries an output status display device that is operable when the job execution determining device determines that some of the sheets required for execution of the job are lacking, for displaying a status of output of the lacking sheets.</p>
<p id="p-0091" num="0090">Also preferably, the post-processing apparatus is capable of performing parallel-processing of jobs, and the job execution determining device determines whether there are all of sheets required for the parallel-processing of the jobs, according to a plurality of the job information and a plurality of the sheet information.</p>
<p id="p-0092" num="0091">Preferably, the plurality of image forming apparatuses have sheet stacking sections, and the sheet information writing device writes the sheet information in the storage device when each of the sheet containing devices is set in one of the sheet stacking sections of the image forming apparatuses to stack sheets in the sheet stacking section.</p>
<p id="p-0093" num="0092">Preferably, the post-processing apparatus has sheet feed sections, and the sheet information reading device reads out the sheet information from the storage device when each of the sheet containing devices is set in one of the sheet feed sections of the post-processing apparatus.</p>
<p id="p-0094" num="0093">Preferably, the sheet information comprises information relating to the sheets stored in the sheet containing devices and including information indicative of a job number for identifying a job, information indicative of a total number of the sheet containing devices that perform distributed processing of the job identified by the job number, and page information.</p>
<p id="p-0095" num="0094">Preferably, the book-binding system according to the seventh aspect comprises a network to which the information processing apparatus and the plurality of image forming apparatuses are connected, and wherein the post-processing apparatus is isolated from the network.</p>
<p id="p-0096" num="0095">Preferably, the sheet containing devices each comprise a sheet discharge completion notifying device that notifies completion of discharge of the sheets.</p>
<p id="p-0097" num="0096">Preferably, the plurality of image forming apparatuses comprise at least one color image forming apparatus, and at least one black-and-white image forming apparatus.</p>
<p id="p-0098" num="0097">With the above arrangement according to the seventh aspect of the present invention, when a plurality of types of booklets are processed in parallel, the set state of bundles of sheets is monitored to prevent the sheets from being left as it is without being set in the post-processing apparatus after being outputted by the image forming apparatuses and eliminates the possibility of a delay in job progress in an off-line section. As a result, it is possible to improve the operability to prevent the user from making operation mistakes, and to reduce the downtime of the image forming apparatus to improve the productivity.</p>
<p id="p-0099" num="0098">Further, with the above arrangement according to the seventh aspect of the present invention, only if the user sets the sheet containing devices containing sheets subjected to distributed processing by the plurality of image forming apparatuses in the post-processing apparatus that executes the next process step of book-binding, the status of the sheet containing devices can be automatically recognized by the post-processing apparatus, and it is therefore unnecessary to execute fixed procedures with respect to predetermined setting positions and setting order of the sheet containing devices. In particular, a high degree of freedom can be ensured in working in an off-line section, which has not been automated and where the user is likely to make operation mistakes, and this leads to improvement of the stability and the operability in book-binding. As a result, it is possible to prevent the user from making operation mistakes, and reduce the downtime of the image forming apparatus to improve the productivity, thus realizing stable and high-quality book-binding by the book-binding system. Further, as is the case with the prior art, it is possible to produce booklets at a low cost and in a short time with only a small number of bins (sheet discharge trays), thus realizing a book-binding system which is compact in size.</p>
<p id="p-0100" num="0099">To attain the third object, in an eighth aspect of the present invention, there is provided a sheet processing apparatus, to which a plurality of sheet containing devices that store sheets from respective ones of a plurality of image forming apparatuses can be attached, and which feeds the sheets stored in the sheet containing devices to produce booklets, comprising a storage device provided in each of the sheet containing devices, for storing sheet information relating to the sheets stored in the sheet containing device, a sheet information reading device that reads out the sheet information stored in the storage device, and a collating device that performs a collating process for collating in page order the sheets stored in the sheet containing devices according to the sheet information relating to the respective ones of the sheet containing devices, read out from the sheet information reading device.</p>
<p id="p-0101" num="0100">Preferably, the book-binding system according to the eighth aspect comprises a collating process execution determining device that determines whether there are all of sheets required for execution of the collating process according to the sheet information, and a collating process controller operable when it is determined that there are all of the sheets required for execution of the collating process, for executing the collating process.</p>
<p id="p-0102" num="0101">More preferably, the collating process execution determining device makes the determination according to the sheet information stored in the storage device and collation information inputted from an external apparatus.</p>
<p id="p-0103" num="0102">With the above arrangement according to the eighth aspect of the present invention, the sheet processing apparatus, to which the plurality of sheet containing devices can be attached, performs a collating process on sheets stored in the sheet containing devices, according to the sheet information stored in the storage device. As a result, it is possible to improve the productivity and the operability in book-binding as mentioned above.</p>
<p id="p-0104" num="0103">The above and other objects, features and advantages of the invention will become more apparent from the following drawings taken in conjunction with the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0105" num="0104"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing the entire arrangement of an image forming system in which a plurality of image forming apparatuses and a plurality of computers are connected to each other via a network according to a first embodiment of the present invention;</p>
<p id="p-0106" num="0105"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram showing the entire construction of the image forming apparatus;</p>
<p id="p-0107" num="0106"><figref idref="DRAWINGS">FIG. 3</figref> is a view showing the construction of a scanner section of the image forming apparatus;</p>
<p id="p-0108" num="0107"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram showing the construction of an IP section of the image forming apparatus;</p>
<p id="p-0109" num="0108"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram showing the construction of a FAX section of the image forming apparatus;</p>
<p id="p-0110" num="0109"><figref idref="DRAWINGS">FIG. 6</figref> is a block diagram showing the construction of an NIC section and a PDL section of the image forming apparatus;</p>
<p id="p-0111" num="0110"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram showing the construction of a core section of the image forming apparatus;</p>
<p id="p-0112" num="0111"><figref idref="DRAWINGS">FIG. 8A</figref> is a block diagram showing the construction of a PWM section and a printer section of the image forming apparatus;</p>
<p id="p-0113" num="0112"><figref idref="DRAWINGS">FIG. 8B</figref> is a view showing waveforms of signals;</p>
<p id="p-0114" num="0113"><figref idref="DRAWINGS">FIG. 9</figref> is a view showing the internal construction of a printer section of a color image forming apparatus;</p>
<p id="p-0115" num="0114"><figref idref="DRAWINGS">FIG. 10</figref> is a view showing the internal construction of a printer section of a black-and-white image forming apparatus;</p>
<p id="p-0116" num="0115"><figref idref="DRAWINGS">FIG. 11</figref> is a block diagram showing the construction of a display section of the image forming apparatus;</p>
<p id="p-0117" num="0116"><figref idref="DRAWINGS">FIG. 12</figref> is a diagram showing the construction of a stacker section of the image forming apparatus;</p>
<p id="p-0118" num="0117"><figref idref="DRAWINGS">FIG. 13</figref> is a view showing an example of screen display of utility software for the image forming apparatus;</p>
<p id="p-0119" num="0118"><figref idref="DRAWINGS">FIG. 14</figref> is a view showing an example of screen display of a printer driver for the image forming apparatus;</p>
<p id="p-0120" num="0119"><figref idref="DRAWINGS">FIG. 15</figref> is a flow chart showing a color page/black-and-white page separating process carried out by the image forming apparatus;</p>
<p id="p-0121" num="0120"><figref idref="DRAWINGS">FIG. 16</figref> is a block diagram showing the construction of I/Fs and storage medium peripheral circuits of the image forming apparatus and an inserter;</p>
<p id="p-0122" num="0121"><figref idref="DRAWINGS">FIG. 17</figref> is a block diagram showing the construction of I/Fs and storage medium peripheral circuits of the image forming apparatus and a stacker;</p>
<p id="p-0123" num="0122"><figref idref="DRAWINGS">FIG. 18</figref> is a view showing the construction of the inserter and a high-capacity stacker attached to the image forming apparatus;</p>
<p id="p-0124" num="0123"><figref idref="DRAWINGS">FIG. 19</figref> is a view useful in explaining a memory map of a stacker tray attached to the stacker or inserter of the image forming apparatus;</p>
<p id="p-0125" num="0124"><figref idref="DRAWINGS">FIG. 20A</figref> is a view showing the order of originals;</p>
<p id="p-0126" num="0125"><figref idref="DRAWINGS">FIGS. 20B-20E</figref> are views useful in explaining the state in which output sheets are stacked on the stacker tray and the high-capacity stacker in the inserter attached to the image forming apparatus;</p>
<p id="p-0127" num="0126"><figref idref="DRAWINGS">FIG. 21</figref> is a flow chart showing a printing process carried out by the image forming apparatus when the inserter is used;</p>
<p id="p-0128" num="0127"><figref idref="DRAWINGS">FIG. 22</figref> is a flow chart showing a printing process carried out by the image forming apparatus when the stacker tray is set in the inserter;</p>
<p id="p-0129" num="0128"><figref idref="DRAWINGS">FIG. 23</figref> is a continued part of the flow chart of <figref idref="DRAWINGS">FIG. 22</figref>;</p>
<p id="p-0130" num="0129"><figref idref="DRAWINGS">FIG. 24</figref> is a schematic diagram showing the entire arrangement of an image forming network system according to a second embodiment of the present invention;</p>
<p id="p-0131" num="0130"><figref idref="DRAWINGS">FIG. 25</figref> is a schematic diagram showing the construction of a stacker of the image forming apparatus;</p>
<p id="p-0132" num="0131"><figref idref="DRAWINGS">FIG. 26</figref> is a block diagram showing interfaces and storage device peripheral circuits of a black-and-white image forming apparatus and an inserter;</p>
<p id="p-0133" num="0132"><figref idref="DRAWINGS">FIG. 27</figref> is a block diagram showing interfaces and storage device peripheral circuits of a color image forming apparatus and an inserter;</p>
<p id="p-0134" num="0133"><figref idref="DRAWINGS">FIG. 28</figref> is a schematic diagram showing the inserter and a high-capacity stacker attached to the black-and-white image forming apparatus;</p>
<p id="p-0135" num="0134"><figref idref="DRAWINGS">FIG. 29</figref> is a view showing a memory map in a storage device attached to a stacker tray;</p>
<p id="p-0136" num="0135"><figref idref="DRAWINGS">FIG. 30</figref> is a flow chart showing the procedure of operations performed by the color image forming apparatus;</p>
<p id="p-0137" num="0136"><figref idref="DRAWINGS">FIG. 31</figref> is a continued part of the flow chart of <figref idref="DRAWINGS">FIG. 30</figref>;</p>
<p id="p-0138" num="0137"><figref idref="DRAWINGS">FIG. 32</figref> is a flow chart showing the procedure of operations performed by the black-and-white image forming apparatus;</p>
<p id="p-0139" num="0138"><figref idref="DRAWINGS">FIG. 33</figref> is a continued part of the flow chart of <figref idref="DRAWINGS">FIG. 32</figref>;</p>
<p id="p-0140" num="0139"><figref idref="DRAWINGS">FIG. 34</figref> is a continued part of the flow chart of <figref idref="DRAWINGS">FIG. 33</figref>;</p>
<p id="p-0141" num="0140"><figref idref="DRAWINGS">FIG. 35</figref> is a view showing an example of display provided by a display section in the stacker tray;</p>
<p id="p-0142" num="0141"><figref idref="DRAWINGS">FIG. 36</figref> is a view showing an example of display provided by a display section in the stacker tray;</p>
<p id="p-0143" num="0142"><figref idref="DRAWINGS">FIG. 37</figref> is a view showing an example of display provided by a display section in the stacker tray;</p>
<p id="p-0144" num="0143"><figref idref="DRAWINGS">FIG. 38</figref> is a view showing an example of display provided by a display section in the stacker tray;</p>
<p id="p-0145" num="0144"><figref idref="DRAWINGS">FIG. 39</figref> is a block diagram showing the entire arrangement of a distributed processing binding system according to a third embodiment of the present invention;</p>
<p id="p-0146" num="0145"><figref idref="DRAWINGS">FIG. 40</figref> is a view showing the detailed construction of the entire distributed processing binding system;</p>
<p id="p-0147" num="0146"><figref idref="DRAWINGS">FIG. 41</figref> is a view showing the appearance of a black-and-white image forming apparatus;</p>
<p id="p-0148" num="0147"><figref idref="DRAWINGS">FIG. 42</figref> is a sectional view showing the internal construction of the black-and-white image forming apparatus;</p>
<p id="p-0149" num="0148"><figref idref="DRAWINGS">FIG. 43</figref> is a view showing the appearance of a color image forming apparatus;</p>
<p id="p-0150" num="0149"><figref idref="DRAWINGS">FIG. 44</figref> is a sectional view showing the internal construction of the color image forming apparatus in <figref idref="DRAWINGS">FIG. 43</figref>;</p>
<p id="p-0151" num="0150"><figref idref="DRAWINGS">FIG. 45</figref> is a view showing the construction of a sheet containing device to be connected to a variety of image forming apparatuses;</p>
<p id="p-0152" num="0151"><figref idref="DRAWINGS">FIG. 46</figref> is a view showing the construction of the sheet containing device to be connected to a variety of image forming apparatuses;</p>
<p id="p-0153" num="0152"><figref idref="DRAWINGS">FIG. 47</figref> is a view showing the construction of the sheet containing device to be connected to a variety of image forming apparatuses;</p>
<p id="p-0154" num="0153"><figref idref="DRAWINGS">FIG. 48</figref> is a view showing the construction of the sheet containing device to be connected to a variety of image forming apparatuses;</p>
<p id="p-0155" num="0154"><figref idref="DRAWINGS">FIG. 49</figref> is a perspective view showing the construction of a container section;</p>
<p id="p-0156" num="0155"><figref idref="DRAWINGS">FIG. 50</figref> is a view showing a container display section, a completion display LED, and an in-process display LED;</p>
<p id="p-0157" num="0156"><figref idref="DRAWINGS">FIG. 51</figref> is a view showing the construction of a sheet post-processing apparatus;</p>
<p id="p-0158" num="0157"><figref idref="DRAWINGS">FIG. 52</figref> is a view showing the construction of the sheet post-processing apparatus;</p>
<p id="p-0159" num="0158"><figref idref="DRAWINGS">FIG. 53</figref> is a view showing the construction of the sheet post-processing apparatus;</p>
<p id="p-0160" num="0159"><figref idref="DRAWINGS">FIG. 54</figref> is a view showing the construction of the sheet post-processing apparatus;</p>
<p id="p-0161" num="0160"><figref idref="DRAWINGS">FIG. 55</figref> is a view showing the contents of display provided by a collator display section;</p>
<p id="p-0162" num="0161"><figref idref="DRAWINGS">FIG. 56</figref> is a block diagram showing the construction of a controller for a collator;</p>
<p id="p-0163" num="0162"><figref idref="DRAWINGS">FIG. 57</figref> is a view showing image data in which three-page color images and three-page black-and-white images are mixed on one sides of sheets in a job E;</p>
<p id="p-0164" num="0163"><figref idref="DRAWINGS">FIG. 58A</figref> is a view showing a state in which sheets are stacked in a container attached to a black-and-white image forming apparatus;</p>
<p id="p-0165" num="0164"><figref idref="DRAWINGS">FIG. 58B</figref> is a view showing a state in which sheets are stacked in a container attached to a color image forming apparatus;</p>
<p id="p-0166" num="0165"><figref idref="DRAWINGS">FIG. 59</figref> is a view showing how the collator produces a booklet in the job E;</p>
<p id="p-0167" num="0166"><figref idref="DRAWINGS">FIG. 60</figref> is a view showing m copies of booklets G made by the job E;</p>
<p id="p-0168" num="0167"><figref idref="DRAWINGS">FIG. 61A</figref> is a view showing a state in which bundles of sheets are stacked in a color image forming apparatus;</p>
<p id="p-0169" num="0168"><figref idref="DRAWINGS">FIG. 61B</figref> is a view showing a state in which bundles of sheets are stacked a color image forming apparatus;</p>
<p id="p-0170" num="0169"><figref idref="DRAWINGS">FIG. 62</figref> is a flow chart showing the procedure for carrying out a printout process for a job by a job server;</p>
<p id="p-0171" num="0170"><figref idref="DRAWINGS">FIG. 63</figref> is a flow chart showing the procedure for carrying out a stacker storing process;</p>
<p id="p-0172" num="0171"><figref idref="DRAWINGS">FIG. 64</figref> is a flow chart showing the procedure for carrying out a memory writing process in a step S<b>12</b>;</p>
<p id="p-0173" num="0172"><figref idref="DRAWINGS">FIG. 65</figref> is a flow chart showing the procedure for carrying out a time measuring process in a step S<b>16</b>;</p>
<p id="p-0174" num="0173"><figref idref="DRAWINGS">FIG. 66</figref> is a flow chart showing the procedure for carrying out a collator controlling process;</p>
<p id="p-0175" num="0174"><figref idref="DRAWINGS">FIG. 67</figref> is a flow chart showing the procedure for carrying out a container monitoring process;</p>
<p id="p-0176" num="0175"><figref idref="DRAWINGS">FIG. 68</figref> is a flow chart showing the procedure for carrying out a container discriminating process in a step S<b>35</b>;</p>
<p id="p-0177" num="0176"><figref idref="DRAWINGS">FIG. 69</figref> is a block diagram showing the entire arrangement of a distributed processing binding system according to a fourth embodiment of the present invention;</p>
<p id="p-0178" num="0177"><figref idref="DRAWINGS">FIG. 70</figref> is a view showing the contents of display provided by a collator display section; and</p>
<p id="p-0179" num="0178"><figref idref="DRAWINGS">FIG. 71</figref> is a flow chart showing the procedure for carrying out a stacker storing process.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0180" num="0179">The present invention will now be described in detail with reference to the drawings showing preferred embodiments thereof.</p>
<p id="p-0181" num="0180">First, a description will be given of a first embodiment of the present invention.</p>
<p id="p-0182" num="0181"><figref idref="DRAWINGS">FIG. 1</figref> is a conceptual diagram showing the entire arrangement of an image forming system in which a plurality of image forming apparatuses and a plurality of computers are connected to each other on a network according to a first embodiment of the present invention. The image forming system is comprised of computers <b>102</b>, <b>103</b><i>a</i>, and <b>103</b><i>b</i>, and MFPs (Multi Function Peripheral) <b>104</b> and <b>105</b> as image forming apparatuses on a network <b>101</b>. Although not illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, other equipment such as scanners, printers, and facsimiles (FAX) as well as MFPs other than the above-mentioned MFPs <b>104</b> and <b>105</b> are also connected to the image forming apparatuses and the computers on the network <b>101</b>.</p>
<p id="p-0183" num="0182">The computer <b>102</b> connected to the network <b>101</b> is used as a server computer, and the computers <b>103</b><i>a </i>and <b>103</b><i>b </i>connected to the network <b>101</b> are used client computers. Although not illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, a large number of other client computers are also connected to the network <b>101</b>, and they will be hereinafter generically referred to as “the computer <b>103</b>”. The MFP <b>104</b> connected to the network <b>101</b> is a color MFP that performs scanning, printing, and so forth in full-color, and color image output sheets therefrom are sequentially stacked and stored in a stacker tray <b>1207</b> in a stacker <b>107</b> attached to the MFP <b>104</b>. The MFP <b>105</b> is a black-and-white MFP that performs scanning, printing, and so forth in monochrome, and black-and-white image output sheets therefrom are mixed with color image output sheets on the stacker tray <b>1207</b> in an inserter <b>108</b> attached to the MFP <b>105</b>, and then sequentially stacked on a stacker <b>108</b> connected to the inserter <b>108</b>.</p>
<p id="p-0184" num="0183">The stacker tray <b>1207</b> in the stacker <b>107</b> attached to the MFP <b>104</b> and the stacker tray <b>1207</b> in the inserter <b>108</b> attached to the MFP <b>105</b> can be freely detached. By setting the sheets stacked on the stacker tray <b>1207</b> in the inserter <b>108</b>, the color image output sheets and the black-and-white image output sheets can be mixed in the MFP <b>105</b>. The color image output sheets and the black-and-white image output sheets mixed in the MFP <b>105</b> are temporarily stored in a bucket for offline (outside the MFP <b>105</b>) post-processing, and a post-processing apparatus, not shown, performs book-binding and the like of the sheets.</p>
<p id="p-0185" num="0184">On the computer <b>103</b>, application software for executing so-called DTP (Desk Top Publishing) is operated to produce/edit a variety of documents/drawings. The computer <b>103</b> converts the produced documents/drawings into the PDL (Page Description Language). Data converted into the PDL by the computer <b>103</b> is transmitted to the MFPs <b>104</b> and <b>105</b> via the network <b>101</b> and then printed out.</p>
<p id="p-0186" num="0185">The MFPs <b>104</b> and <b>105</b> are each comprised of a communication means for exchanging information with the computers <b>102</b> and <b>103</b> via the network <b>101</b> so that information and conditions of the MFPs <b>104</b> and <b>105</b> can be supplied to the computers <b>102</b> and <b>103</b>. The computers <b>103</b> and <b>104</b> are each comprised of utility software operating in response to the information supplied from the MFPs <b>104</b> and <b>105</b>, so that the MFPs <b>104</b> and <b>105</b> can be managed by the computers <b>102</b> and <b>103</b>.</p>
<p id="p-0187" num="0186">A description will now be given of the construction of the MFPs <b>104</b> and <b>105</b> with reference to <figref idref="DRAWINGS">FIGS. 2 to 12</figref>. The MFP <b>104</b> and the MFP <b>105</b> differ only in that scanning, printing, and so forth are performed in full color or in black-and-white, and full-color equipment usually encompasses monochrome equipment in the way of processing other than color processing, and therefore a description will be given mainly of the full-color equipment and a description will be given of the black-and-white equipment only when needed.</p>
<p id="p-0188" num="0187"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram showing the entire construction of the MFPs <b>104</b> and <b>105</b> as the image forming apparatuses. The MFPs <b>104</b> and <b>105</b> are each comprised of a scanner section <b>201</b>, an IP (Image Processing) section <b>202</b>, a FAX (facsimile) section <b>203</b>, an NIC (Network Interface Card) section <b>204</b>, a PDL section <b>205</b>, a core section <b>206</b>, a PWM (Pulse Width Modulation) section <b>207</b>, a printer section <b>208</b>, and a display section <b>210</b>. In <figref idref="DRAWINGS">FIG. 2</figref>, reference numeral <b>107</b> denotes the stacker.</p>
<p id="p-0189" num="0188">The scanner section <b>201</b> reads images from originals. The IP section <b>202</b> performs image processing on image data read by the scanner section <b>201</b>. The FAX section <b>203</b> is typified by a facsimile, and sends and receives images through a telephone line. The NIC section <b>204</b> sends and receives image data and information on the apparatus to and from the computers <b>102</b>, <b>103</b>, etc. via the network <b>101</b>. The PDL section <b>205</b> expands the page description language (PDL) transmitted from the computer <b>103</b> into an image signal. The core section <b>206</b> temporarily stores image signals and determines a path for the image signals according to how the MFPs <b>104</b> and <b>105</b> are used.</p>
<p id="p-0190" num="0189">The PWM section <b>207</b> performs pulse modulation on image data outputted from the core section <b>206</b>. The printer section <b>208</b> forms images on sheets according to image data outputted from the PWM section <b>207</b>. Specifically, image data outputted from the core section <b>206</b> is transmitted to the printer section <b>208</b>. Sheets outputted by the printed section <b>208</b> are sent to the stacker <b>107</b> and sequentially stacked in the stacker <b>107</b>. The display section <b>210</b> is used to review an image without printing it by the printer section <b>208</b> or to view (preview) an image before it is printed by the printer section <b>208</b>.</p>
<p id="p-0191" num="0190"><figref idref="DRAWINGS">FIG. 3</figref> is a view showing the construction of the scanner section <b>201</b> of the MFPs <b>104</b> and <b>105</b> as the image forming apparatuses. A description will now be given of the construction of the scanner section <b>201</b> with reference to <figref idref="DRAWINGS">FIG. 3</figref>. The scanner section <b>201</b> is comprised of a first mirror unit <b>310</b> including an original stand glass <b>301</b>, a mirror <b>304</b>, and an illumination lamp <b>303</b>; a second mirror unit <b>311</b> including a mirror <b>305</b> and a mirror <b>306</b>; a lens <b>307</b>; a CCD sensor <b>308</b>; and the image processing section (IP section) <b>202</b>.</p>
<p id="p-0192" num="0191">An original <b>302</b> to be read is placed on the original stand glass <b>301</b>. The original <b>302</b> is illuminated by the illumination lamp <b>303</b>, and light reflected on the original <b>302</b> is transmitted through the mirrors <b>304</b>, <b>305</b>, and <b>306</b> and is focused on the CCD sensor <b>308</b> to form an image thereon by the mirror <b>307</b>. The first mirror unit <b>310</b> including the mirror <b>304</b> and the illumination lamp <b>303</b> moves at a speed v, and the second mirror unit <b>311</b> including the mirrors <b>305</b> and <b>306</b> moves at a speed (½)v to scan the entire surface of the original <b>302</b>. The first mirror unit <b>310</b> and the second mirror unit <b>311</b> are operated by a motor <b>309</b>.</p>
<p id="p-0193" num="0192"><figref idref="DRAWINGS">FIG. 4</figref> is a block diagram showing the construction of the image processing section (IP section) <b>202</b> of the MFPs <b>104</b> and <b>105</b> as the image forming apparatuses. A description will now be given of the construction of the image processing section (IP section) <b>202</b> with reference to <figref idref="DRAWINGS">FIG. 4</figref>. The image processing section (IP section) <b>202</b> is comprised of an A/D converting section <b>401</b>, a shading correcting section <b>402</b>, a line interpolating section (line delay adjusting circuit) <b>403</b>, an input masking section <b>404</b>, a LOG converting section (brightness/density converting section) <b>405</b>, an output masking/UCR circuit section <b>406</b>, a gamma converting section <b>407</b>, and a spatial filter <b>408</b>. In <figref idref="DRAWINGS">FIG. 4</figref>, reference numeral <b>308</b> denotes the-CCD sensor.</p>
<p id="p-0194" num="0193">An optical signal inputted to the scanner section <b>201</b> is converted into an electric signal by the CCD sensor <b>308</b>. The CCD sensor <b>308</b> is comprised of three-line RGB (red, green, and blue) color sensors, and each of RGB image signals is inputted from the CCD sensor <b>308</b> to the A/D converter <b>401</b>. The A/D converter <b>401</b> provides gain control and offset control, and then converts the respective RGB color signals into 8-bit digital image signals R<b>0</b>, G<b>0</b>, and B<b>0</b>. The shading correcting section <b>402</b> then performs known shading correction on the digital image signals of the respective colors by using a standard white plate reading signal. Since the respective color line sensors of the CCD sensor <b>308</b> are arranged at predetermined intervals, the line interpolating section (line delay adjusting circuit) <b>403</b> corrects a spatial deviation in a sub-scanning direction.</p>
<p id="p-0195" num="0194">The input masking section <b>404</b> converts a reading color space determined by the spectral characteristics of R, G, and B filters of the CCD sensor <b>308</b> into a standard color space specified by the NTSC (National Television System Committee), and converts the inputted (R<b>0</b>, G<b>0</b>, and B<b>0</b>) signals into standard signals (R, G, and B) by performing a 3×3 matrix operation using a constant peculiar to the apparatus with various characteristics such as the sensitivity characteristics of the CCD sensor <b>308</b> and the spectral characteristics of the illumination lamp being taken into consideration. The LOG converting section (brightness/density converting section) <b>405</b> is implemented by a look-up table (LUT) RAM, and converts RGB brightness signals into C<b>1</b>, M<b>1</b>, and Y<b>1</b> density signals.</p>
<p id="p-0196" num="0195">The output masking/UCR circuit section <b>406</b> is intended to convert C<b>1</b>, M<b>1</b>, and Y<b>1</b> signals into C (cyan), M (magenta), Y (yellow), and K (black) signals corresponding to colors of toner used by the image forming apparatus by performing matrix operations, and corrects the C<b>1</b>, M<b>1</b>, Y<b>1</b>, and K<b>1</b> signals based on the R, G, and B signals read by the CCD sensor <b>308</b> into C, M, Y, and K signals based on the spectral distribution characteristics of toner and outputs the same. The gamma converting section <b>407</b> then converts the C, M, Y, and K signals into C, M, Y, and K data for image output by using the look-up table (LUT) RAM, which is based on various color characteristics of toner. The spatial filter <b>408</b> performs sharpness processing or smoothing processing on data outputted from the gamma converting section <b>407</b>. Thereafter, the image signals are transmitted to the core section <b>206</b>.</p>
<p id="p-0197" num="0196">Incidentally, in the case where the MFP <b>105</b> performs monochrome image processing, a monochrome single-line CCD sensor may be used to carry out monochrome A/D conversion and shading, and then performing input/output masking, gamma correction, and spatial filtering in this order.</p>
<p id="p-0198" num="0197"><figref idref="DRAWINGS">FIG. 5</figref> is a block diagram showing the construction of the FAX section <b>203</b> of the MFPs <b>104</b> and <b>105</b> as the image forming apparatuses. A description will now be given of the construction of the FAX section <b>203</b> with reference to <figref idref="DRAWINGS">FIG. 5</figref>. The FAX section <b>203</b> is comprised of an NCU section <b>501</b>; a modem section <b>502</b> including a modulating section <b>503</b> and a demodulating section <b>504</b>; a compressing section <b>505</b>; an expanding section <b>506</b>; and a memory section <b>507</b>.</p>
<p id="p-0199" num="0198">First, in receiving data, the NCU section <b>501</b> receives image data via a telephone line and transforms the voltage, the demodulating section <b>504</b> in the modem section <b>502</b> performs A/D conversion and demodulation of the image data, and the expanding section <b>506</b> then expands the data into raster data. The image data is usually compressed and expanded by the run-length method or the like. The image data converted into raster data is temporarily stored in the memory section <b>507</b>, and after it is ascertained that there is no transfer errors in the image data, the image data is transmitted to the core section <b>206</b>. In sending image data, the compressing section <b>505</b> compresses raster image signals sent from the core section <b>206</b>, and the modulating section <b>503</b> in the modem section <b>502</b> performs D/A conversion, modulation, and the like of the data, and the image data is then sent to the telephone line via the NCE section <b>501</b>.</p>
<p id="p-0200" num="0199">The left-hand side of <figref idref="DRAWINGS">FIG. 6</figref> is a block diagram showing the construction of the NIC section <b>204</b> of the MFPs <b>104</b> and <b>105</b> as the image forming apparatuses. A description will now be given of the construction of the NIC section <b>204</b> with reference to <figref idref="DRAWINGS">FIG. 6</figref>. The NIC section <b>204</b> is comprised of a transformer section <b>601</b> and a LAN controller section <b>602</b>.</p>
<p id="p-0201" num="0200">The NIC section <b>204</b> provides interface for communication with the network <b>101</b>, and transmits and receives information to and from external apparatuses via an Ethernet (registered trademark) cable such as <b>10</b> Base-T or 100 Base-TX. In receiving information from external apparatuses, the transformer section <b>601</b> transforms the voltage of the information and transmits the information to the LAN controller section <b>602</b>. The LAN controller section <b>602</b> has a first buffer memory and a second buffer memory, not shown, incorporated therein. After determining whether the information is necessary or not, the LAN controller <b>602</b> sends the information to the second buffer memory and then transmits the information to the PDL section <b>205</b>. In supplying information to external apparatuses, the LAN controller section <b>602</b> adds necessary information to data transmitted from the PDL section <b>205</b>, and the information is then sent to the network <b>101</b> via the transformer section <b>601</b>.</p>
<p id="p-0202" num="0201">The right-hand side of <figref idref="DRAWINGS">FIG. 6</figref> is a block diagram showing the construction of the PDL section <b>205</b> of the MFPs <b>104</b> and <b>105</b> as the image forming apparatuses. A description will now be given of the construction of the PDL section <b>205</b>. The PDL section <b>205</b> is comprised of a CPU section <b>603</b>, a memory section (HDD) <b>604</b>, and a memory section (DRAM) <b>605</b>.</p>
<p id="p-0203" num="0202">Image data produced by application software operating on the computer <b>103</b> is comprised of documents, drawings, picture, and so forth, and each of the image data is comprised of a combination of image description elements such as character codes, drawing codes, and raster image data. This is the so-called PDL (Page Description Language), and is typified by Adobe's PostScript (registered trademark).</p>
<p id="p-0204" num="0203">The PDL section <b>205</b> converts the PDL data into raster image data first. The PDL data transmitted from the NIC section <b>204</b> is once stored in the mass storage memory section <b>604</b> such as a hard disk (HDD) via the CPU section <b>603</b>, and is managed and kept for each job in the memory section <b>604</b>. Then, as the need arises, the CPU section <b>603</b> performs raster image processing called RIP (Raster Image Processing) to expand the PDL data into raster image data. The expanded raster image data of each page is stored in the fast access memory section <b>605</b> such as a DRAM for respective color components C, M, Y, and K, and the raster image data is then transmitted to the core section <b>206</b> via the CPU section <b>603</b> again according to the condition of the printer section <b>208</b>.</p>
<p id="p-0205" num="0204"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram showing the construction of the core section <b>206</b> of the MFPs <b>104</b> and <b>105</b> as the image forming apparatuses. A description will now be given of the construction of the core section <b>206</b>. The core section <b>206</b> is comprised of a bus selector section <b>701</b>, a compressing section <b>702</b>, a memory section (HDD) <b>703</b>, and an expanding section <b>704</b>.</p>
<p id="p-0206" num="0205">The bus selector section <b>701</b> of the core section <b>206</b> provides a kind of traffic control while the MFPs <b>104</b> and <b>105</b> are used. Specifically, the bus selector section <b>701</b> switches the buses according to functions of the MFP <b>104</b> or <b>105</b> such as a copying function, a network scanning function, a network printing function, a facsimile transmitting/receiving function, and a display function. A description will now be given of the pattern of bus switching for execution of each function.
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0206">Copying function: the scanner section <b>201</b>→the core section <b>206</b>→the printer section <b>208</b></li>
        <li id="ul0002-0002" num="0207">Network scanning function: the scanner section <b>201</b>→the core section <b>206</b>→the NIC section <b>204</b></li>
        <li id="ul0002-0003" num="0208">Network printing function: the NIC section <b>204</b>→the core section <b>206</b>→the printer section <b>208</b></li>
        <li id="ul0002-0004" num="0209">Facsimile transmitting function: the scanner section <b>201</b>→the core section <b>206</b>→the FAX section <b>203</b></li>
        <li id="ul0002-0005" num="0210">Facsimile receiving function: the FAX section <b>203</b>→the core section <b>206</b>→the printer section <b>208</b></li>
        <li id="ul0002-0006" num="0211">Display function: the scanner section <b>201</b>, facsimile section <b>203</b>, or NIC section <b>204</b>→the core section <b>206</b>→the display section <b>210</b></li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0207" num="0212">The image data outputted from the bus selector section <b>701</b> is transmitted to the printer section <b>208</b> (the PWM section <b>207</b>) or the display section <b>210</b> via the compressing section <b>702</b>, the memory section <b>703</b> comprised of a mass storage memory such as a hard disk (HDD) and the expanding section <b>704</b>. The compressing section <b>702</b> may compress the image data by an ordinary method such as JPEG (Joint Photographic Experts Group) or ZIP. The compressed image data is managed for each job, and stored together with additional data such as a file name, creator, creation date, and file size.</p>
<p id="p-0208" num="0213">Further, a personal box function may be supported by storing the compressed image data with a job number and a password. The personal box function is intended to temporarily store data and allow data to be printed out (read out from the HDD) only by specified users. If an instruction is given to print out the stored job, the user is authenticated based on the password, and the compressed image data is called from the memory section <b>703</b> and is expanded back to the raster image to be sent to the printer section <b>207</b>.</p>
<p id="p-0209" num="0214"><figref idref="DRAWINGS">FIG. 8A</figref> is a block diagram showing the construction of the PWM section <b>207</b> and the printer section <b>208</b> of the MFP <b>104</b> and <b>105</b> as the image forming apparatuses according to the present embodiment. <figref idref="DRAWINGS">FIG. 8B</figref> is a waveform chart showing the waveforms of various signals. A description will now be given of the construction of the PWM section <b>207</b> with reference to <figref idref="DRAWINGS">FIGS. 8A and 8B</figref>. The PWM section <b>207</b> is comprised of a delta wave generating section <b>801</b>, a D/A converting section <b>802</b>, and a comparator <b>803</b>. The printer section <b>208</b> is comprised of a laser driving section <b>804</b>, a laser <b>805</b>, a polygon scanner <b>913</b>, and photosensitive drums <b>917</b>, <b>921</b>, <b>925</b>, and <b>929</b>.</p>
<p id="p-0210" num="0215">Image data separated into four colors YMCK (yellow, magenta, cyan, and black) (monochrome image data in the case of the MFP <b>105</b>) from the core section <b>206</b> is transmitted through the PWM section <b>207</b>, and is formed into an image on a sheet by the printer section <b>208</b>. The delta wave generating section <b>801</b> generates a delta wave as shown in <figref idref="DRAWINGS">FIG. 8B</figref>. The D/A converting section <b>802</b> converts the inputted digital image signal into an analog image signal. A signal (“a” in <figref idref="DRAWINGS">FIG. 8B</figref>) from the delta wave generating section <b>801</b> and a signal (“b” in <figref idref="DRAWINGS">FIG. 8B</figref>) from the D/A converting section <b>802</b> are compared in magnitude with each other by the comparator <b>803</b>, and the resulting signal as indicated by “c” in <figref idref="DRAWINGS">FIG. 8B</figref> is transmitted to the laser driving section <b>804</b> of the printer section <b>208</b>. The laser driving section <b>804</b> converts the respective CMYK image data into laser beams by the laser <b>805</b> for each of CMYK. The polygon scanner <b>913</b> scans the laser beams and irradiates them onto the respective photosensitive drums <b>917</b>, <b>921</b>, <b>935</b>, and <b>929</b>.</p>
<p id="p-0211" num="0216"><figref idref="DRAWINGS">FIG. 9</figref> is a view showing the internal construction of the printer section <b>208</b> in the color MFP <b>104</b> as the image forming apparatus. A description will now be given of the construction of the printer section <b>208</b> with reference to <figref idref="DRAWINGS">FIG. 9</figref>. In <figref idref="DRAWINGS">FIG. 9</figref>, reference numeral <b>913</b> denotes a polygon mirror that receives four laser beams emitted from four semiconductor lasers <b>805</b> (<figref idref="DRAWINGS">FIG. 8</figref>). The first one of the four laser beams scans the photosensitive drums <b>917</b> via mirrors <b>914</b>, <b>915</b>, and <b>916</b>; the second one of the four laser beams scans the photosensitive drums <b>921</b> via mirrors <b>918</b>, <b>919</b>, and <b>920</b>; the third one of the four laser beams scans the photosensitive drums <b>925</b> via mirrors <b>922</b>, <b>923</b>, and <b>924</b>; and the last one of the four laser beams scans the photosensitive drums <b>929</b> via mirrors <b>926</b>, <b>927</b>, and <b>928</b>.</p>
<p id="p-0212" num="0217">On the other hand, reference numeral <b>930</b> denotes a developer that supplies a yellow (Y) toner to form a yellow toner image on the photosensitive drum <b>917</b> according to the laser beam. Reference numeral <b>931</b> denotes a developer that supplies a magenta (M) toner to form a magenta toner image on the photosensitive drum <b>921</b> according to the laser beam. Reference numeral <b>932</b> denotes a developer that supplies a cyan (C) toner to form a cyan toner image on the photosensitive drum <b>925</b> according to the laser beam. Reference numeral <b>933</b> denotes a developer that supplies a black (K) toner to form a black toner image on the photosensitive drum <b>929</b> according to the laser beam. A full-color output image can be obtained by transferring the toner images of four colors (Y, M, C, and K) formed onto a sheet.</p>
<p id="p-0213" num="0218">A sheet fed from one of sheet cassettes <b>934</b> and <b>935</b> and a manual feed tray <b>936</b> is absorbed onto a transfer belt <b>938</b> via a resist roller <b>937</b> and is conveyed on the transfer belt <b>938</b>. The toners of the respective colors, which have been developed on the photosensitive drums <b>917</b>, <b>921</b>, <b>925</b>, and <b>929</b> in advance, are transferred onto the sheet being conveyed in synchronism with sheet feed timing. The sheet on which the toner images of the respective colors have been transferred is separated from the transfer belt <b>938</b> and conveyed on the transfer belt <b>939</b>, and the toner images are fixed on the sheet by a fixing unit <b>940</b>. The sheet getting out of the fixing unit <b>940</b> is discharged from the printer section <b>208</b>. Since the sheet is discharged with a print surface thereof facing upward, printing is started from the last page. In <figref idref="DRAWINGS">FIG. 9</figref>, reference numeral <b>950</b> denotes an inverting section <b>950</b>.</p>
<p id="p-0214" num="0219">It should be noted that the four photosensitive drums <b>917</b>, <b>921</b>, <b>925</b>, and <b>929</b> are arranged at regular intervals d and the sheet is conveyed at a constant speed v by the conveyance belt <b>939</b>, and the four semiconductor lasers <b>805</b> are driven in synchronism with the sheet conveyance timing.</p>
<p id="p-0215" num="0220"><figref idref="DRAWINGS">FIG. 10</figref> is a view showing the internal construction of the printer section <b>208</b> of the black-and-white MFP <b>105</b> as the image forming apparatus. A description will now be given of the construction of the printer section <b>208</b> with reference to <figref idref="DRAWINGS">FIG. 10</figref>. In <figref idref="DRAWINGS">FIG. 10</figref>, reference numeral <b>1013</b> denotes a polygon mirror that receives laser beams emitted from four semiconductor lasers <b>805</b>. The laser beams scan a photosensitive drum <b>1017</b> via mirrors <b>1014</b>, <b>1015</b>, and <b>1016</b>.</p>
<p id="p-0216" num="0221">On the other hand, reference numeral <b>1030</b> denotes a developer that supplies a black toner to form a toner image on the photosensitive drum <b>1017</b> according to the laser beam. An output image can be obtained by transferring the toner image onto a sheet.</p>
<p id="p-0217" num="0222">A sheet fed from one of sheet cassettes <b>1034</b> and <b>1035</b> and a manual feed tray <b>1036</b> is absorbed onto a transfer belt <b>1038</b> via a resist roller <b>1037</b> and is conveyed on the transfer belt <b>1038</b>. The toner, which has been developed on the photosensitive drums <b>1017</b> in advance, is transferred onto the sheet being conveyed in synchronism with sheet feed timing. The sheet on which the toner has been transferred is separated from the transfer belt <b>1038</b>, and the toner is fixed on the sheet by a fixing unit <b>1040</b>. The sheet getting out of the fixing unit <b>940</b> is discharged from the printer section <b>208</b>. Since the sheet is discharged with a print surface thereof facing upward, printing is started from the last page. Alternatively, an inverting section <b>1041</b> may invert the sheet so that the sheet can be conveyed with a print surface thereof facing downward, and top page processing may be performed such that printing is started from the top page.</p>
<p id="p-0218" num="0223"><figref idref="DRAWINGS">FIG. 11</figref> is a block diagram showing the construction of the display section <b>210</b> of the MFPs <b>104</b> and <b>105</b> as the image forming apparatuses. A description will now be given of the construction of the display section <b>210</b> with reference to <figref idref="DRAWINGS">FIG. 11</figref>. The display section <b>210</b> is comprised of a reverse LOG converting section <b>1101</b>, a gamma converting section <b>1102</b>, a memory section <b>1103</b>, and a CRT (display unit) <b>1104</b>.</p>
<p id="p-0219" num="0224">Since image data transmitted from the core section <b>206</b> is CMYK data, the reverse LOG converting section <b>1101</b> needs to convert the image data into RGB data. The gamma converting section <b>1102</b> then performs output conversion using a look-up table so that the image data can correspond to the color characteristics of the display unit <b>1104</b> such as the CRT and the MFP <b>105</b> to which the image data is to be outputted. The converted image data is once stored in the memory section <b>1103</b>, and is displayed on the display unit <b>1104</b> such as the CRT. The reason why the display section <b>210</b> is used is to save print sheets in viewing an image by a preview function of viewing an output image beforehand or a proof function of determining whether an image to be outputted is a desired one or not, or in the case where an image which does not have to be printed is viewed.</p>
<p id="p-0220" num="0225">A description will now be given of the utility software operating on the computers <b>103</b> and <b>102</b>. A standardized database called MIB (Management Information Base) is constructed in a network interface section (the NIC section <b>204</b> and the PDL section <b>205</b>) of the MFPs <b>104</b> and <b>105</b> so as to communicate with computers on the network <b>101</b> according to a network management protocol called SNMP (Simple Network Management Protocol) to manage the MFPs <b>104</b>, <b>105</b> as well as scanners, printers, facsimiles, and so forth connected to each other on the network <b>101</b>.</p>
<p id="p-0221" num="0226">On the other hand, software programs called utility programs operate on the computers <b>103</b> and <b>102</b>, so that necessary information can be exchanged using an MIB function according to the SNMP. For example, by using the MIB function such that information on equipment of the MFPs <b>104</b> and <b>105</b> is obtained by detecting whether the stacker <b>107</b> or the stacker tray <b>1207</b> is attached to the MFPs <b>104</b> and <b>105</b>, status information is obtained by detecting whether printing is possible at present or not, or the names and places of the MFPs <b>104</b> and <b>105</b> are written, changed, and checked, the user can see the information on the MFPs <b>104</b> and <b>105</b> connected to the network <b>101</b> on the computers <b>103</b> and <b>102</b>. The information may be restricted in terms of writing and reading by discriminating the computer (server) <b>102</b> and the computer (client) <b>103</b>.</p>
<p id="p-0222" num="0227">Therefore, by using the MIB function, the user situated in front of the computers <b>102</b> and <b>103</b> can acquire all kinds of information such as information on equipment attached to the MFPs <b>104</b> and <b>105</b>, conditions of the MFPs <b>104</b> and <b>105</b>, network settings, job histories, and management and control of usage conditions.</p>
<p id="p-0223" num="0228">A description will now be given of a display screen of the utility software called a GUI (Graphic User Interface) operating on the computers <b>103</b> and <b>102</b> with reference to <figref idref="DRAWINGS">FIG. 13</figref>. <figref idref="DRAWINGS">FIG. 13</figref> is a view showing an example of the display screen of the utility software. In response to activation of the utility software on the computer <b>103</b> or <b>102</b>, a screen is displayed as shown in <figref idref="DRAWINGS">FIG. 13</figref>. In <figref idref="DRAWINGS">FIG. 13</figref>, reference numeral <b>1301</b> denotes a window and reference numeral <b>1320</b> denotes a cursor, and clicking a mouse opens another window or makes a transition from one state to another. Reference numeral <b>1302</b> denotes a title bar that is used to show the hierarchy and title of the present window. Reference numerals <b>1303</b>-<b>1307</b> denote tabs that are arranged in order according to classifications, and are used to see necessary information or select necessary information.</p>
<p id="p-0224" num="0229">The tab <b>1303</b> is called a device tag that is used to know the presence and outlines of devices. The device tab <b>1303</b> contains bitmap images <b>1308</b> and <b>1309</b> representing the MFP <b>104</b> and the MFP <b>105</b>, for example, to show the status of the MFPs <b>104</b> and <b>105</b> with the aid of messages <b>1310</b> (Device Ready), <b>1311</b>, <b>1312</b> (Device Not Ready), and <b>1313</b>. The detailed conditions of the apparatuses can be known by looking at the status tab <b>1304</b>. The tab <b>1305</b> is called a queue tab that is used to know the condition of jobs queued in the respective apparatuses and how devices are crowded.</p>
<p id="p-0225" num="0230">The tab <b>1306</b> is a configuration tab that is used to acquire equipment information, e.g. what kind of finisher with what functions is attached to the MFPs <b>104</b> and <b>105</b>. Examples of the equipment information is information indicative of whether an inserter is attached to the MFP <b>105</b>, information indicative of whether a finisher is attached to the MFP <b>105</b> or not, information indicative of where a letter size paper deck capable of storing up to 5,000 sheets is attached to the MFP <b>105</b> or not, information indicative of how many sheets remain in the deck, and information indicative whether a unit used for double-sided printing is attached to the MFP <b>105</b> or not (<figref idref="DRAWINGS">FIG. 13</figref> shows an example in which a finisher is attached to the MFP <b>105</b>). The tab <b>1307</b> is a setup tab that is used to know information on network settings for the apparatuses.</p>
<p id="p-0226" num="0231"><figref idref="DRAWINGS">FIG. 12</figref> is a view showing the construction of the stacker <b>107</b> in the case where it is used mainly to stack and store output sheets from the color MFP <b>104</b>. The stacker tray <b>1207</b> is housed in the stacker <b>107</b>, and actually, sheets are stacked in the stacker tray <b>1207</b>. Sheets on which images have been printed by the printer section <b>208</b> of the color MFP <b>104</b> are sent to the stacker <b>107</b>, and the sheets are stacked and stored according to an “S” stacking mode or an “F” stacking mode, which is selected according to the type of a job. Assuming, for example, that the number of color pages of color image output sheets to be mixed with black-and-white image output sheets is 3, the set number of copies of the same page are stacked in the “S” stacking mode, and three pages are sequentially stacked in the “F” stacking mode. In <figref idref="DRAWINGS">FIG. 12</figref>, sheets are stacked in the “F” stacking mode.</p>
<p id="p-0227" num="0232">A lifter device installed in the stacker tray <b>1207</b> is comprised of a lifter section <b>1203</b>, a sheet surface detecting sensor <b>1205</b>, a lifter position detecting sensor <b>1206</b>, and a mechanism, not shown, for driving the lifter section <b>1203</b>. The lifter section <b>1203</b> is controlled such that the distance from a discharge port <b>1204</b>, from which sheets on which images have been formed by the color MFP <b>104</b> are discharged, to the sheet surface is kept constant according to an output from the sheet surface detecting sensor <b>1205</b> detecting the position of the sheet surface. This improves the stackability of sheets with images formed thereon. The lifter section <b>1203</b> can be moved up and down, for example, by driving a gear <b>1209</b>, which is connected to the lifter <b>1203</b> and is capable of winding up a wire, via a motor, not shown, attached to the stacker <b>107</b>.</p>
<p id="p-0228" num="0233">The lifter position detecting sensor <b>1206</b> detects the position of the lifter section <b>1203</b> so as to detect the volume of sheets stacked in the stacker tray <b>1207</b>. The detection accuracy may be improved by providing the lifter position detecting sensor <b>1206</b> at a plurality of positions in the direction in which the lifter section <b>1203</b> moves up and down. Any type of sensors such as a flag type sensor, an optical sensor, and an image sensor may be used as the sheet surface detecting sensor <b>1205</b> and the lifter position detecting sensor <b>1206</b>, and they are attached to the stacker tray <b>1207</b>. As shown in <figref idref="DRAWINGS">FIG. 18</figref> referred to later, the lifter device also functions to keep constant the distance from the sheet surface to sheet feed rollers in the case where the stacker tray <b>1207</b> is mounted on the inserter <b>108</b> and sheets are refed.</p>
<p id="p-0229" num="0234">A storage device (memory) <b>1202</b> attached to the stacker tray <b>1207</b> is a storage medium in which is written information used for inserting color image output sheets on which images have been formed by the color MFP <b>104</b> between black-and-white image output sheets on which images are formed by the black-and-white MFP <b>105</b> so that the color image output sheets and the black-and-white image output sheets can be mixed. The storage device (memory) <b>1202</b> may be used as a storage medium in which is written information used for inserting black-and-white image output sheets between color-image output sheets. Examples of data written in the storage device (memory) <b>1202</b> are the sheet size, job IDs, print numbers, the number of prints, the number of copies, the way of stacking output sheets (i.e. whether output sheets are discharged and stacked with print surfaces thereof facing upward or not), and the material (the type of sheets, e.g. plain sheets and heavy sheets). According to the information, color data and black-and-white data are matched and collated so that the black-and-white image output sheets and the color image output sheets can be mixed.</p>
<p id="p-0230" num="0235">It may be arranged such that output sheets from the color MFP <b>104</b> are naturally stacked in the stacker <b>107</b> without the lifter section <b>1203</b> being controlled by the lifter device.</p>
<p id="p-0231" num="0236"><figref idref="DRAWINGS">FIG. 18</figref> is a view showing the construction of the inserter <b>108</b> and the high-capacity stacker <b>109</b> attached to the black-and-white MFP <b>105</b> as the image forming apparatus. The inserter <b>108</b> performs feeding and conveyance such that color image output sheets outputted from the color MFP <b>104</b> and stacked and stored in the stacker tray <b>1207</b> are inserted between black-and-white image output sheets outputted from the black MFP <b>105</b> according to the information stored in the storage device <b>1202</b>, so that the color image output sheets and the black-and-white image output sheets can be mixed. The inserter <b>108</b> is characterized by using the stacker tray <b>1207</b> as a means for stacking and containing color image output sheets to be inserted for the purpose of mixing.</p>
<p id="p-0232" num="0237">The inserter <b>108</b> provides control such that color image output sheets stored in the inserter <b>108</b> are lifted by the lifter section as is the case with the stacker <b>107</b> so that the distance from the sheet surface to sheet feed rollers <b>1903</b> can be kept constant. The inserter <b>108</b> is also constructed such that an irregular feeding preventive roller <b>1904</b> rotating in a direction opposite to the rotational direction of the sheet feed rollers <b>1903</b> prevents a plurality of sheets from being fed at the same time.</p>
<p id="p-0233" num="0238">A job bundle stacked in the stacker tray <b>1207</b> in the inserter <b>108</b> (a bundle of color image output sheets on which images have been formed in a print job by the color MFP <b>104</b>) and a job bundle outputted from the black-and-white MFP <b>104</b> (a bundle of black-and-white image output sheets on which images have been formed in a print job by the black-and-white MFP <b>105</b>) are mixed, and the mixed sheets are sequentially stored in the high-capacity stacker <b>109</b> disposed downstream of the inserter <b>108</b>. A group of job bundles stacked in the high-capacity stacker <b>109</b> are then subjected to off-line processing such as book-binding and finishing.</p>
<p id="p-0234" num="0239">Examples of the finishing processing are processing using a stapler that staples or binds output sheets, processing using a Z-folding machine that folds output sheets in a Z-shape, and processing using a puncher that punches two (or three) holes used for filing output sheets, and they are performed according to the type of jobs. In addition, output sheets may be bound by gluing for book-binding, or trimmed by cutting for aligning end faces at the binding side and the opposite side after binding. It is more effective that the above-mentioned stacker tray <b>1207</b> is also used as a sheet containing means for the high-capacity stacker <b>109</b>.</p>
<p id="p-0235" num="0240">A description will now be given of how a job is separated into a job for color images and a job for black-and-white images. In the case where a job consisting of color pages and black-and-white pages is printed using the computers <b>103</b> and <b>102</b> and the MFPs <b>104</b> and <b>105</b>, a driver as software operating on the computers <b>102</b> and <b>103</b> as shown in <figref idref="DRAWINGS">FIG. 14</figref> is used to transfer the job to the color MFP <b>104</b>.</p>
<p id="p-0236" num="0241">In <figref idref="DRAWINGS">FIG. 14</figref>, reference numeral <b>1501</b> denotes a driver window displayed on the screens of the computers <b>102</b> and <b>103</b>. The setting items in the driver window <b>1501</b> are a color printer selection column <b>1502</b> used for selecting a color printer (color MFP <b>104</b>), a black-and-white printer selection column <b>1503</b> used for selecting a black-and-white printer (black MFP <b>105</b>), a page setting column <b>1504</b> used for selecting output pages in a job, a number-of-copies setting column <b>1505</b> used for setting the number of copies, a job color mode column <b>1506</b> used for giving an instruction for separating a job composed of color images and black-and-white images into color images and black-and-white images, an OK key <b>1507</b> used for starting the printing, a cancel key <b>1508</b> used for canceling the printing, and a property key <b>1509</b> used for making additional detail settings.</p>
<p id="p-0237" num="0242">The job color mode column <b>1506</b> enables selection of one mode from a group consisting of the following: an automatic division mode in which a job is automatically separated, a manual separation mode in which a job is manually separated, an all-page color mode in which all pages are printed in color, and an all-page black-and-white mode in which all pages are printed in black-and-white. If the manual separation mode is selected, the user makes a setting as to which MFP will output each page. Specifically, in the detail setting window, a setting as to whether each page will be printed in color or black-and-white is manually made in advance.</p>
<p id="p-0238" num="0243">A description will now be given of the procedure for automatically separating a job with reference to <figref idref="DRAWINGS">FIG. 15</figref>. <figref idref="DRAWINGS">FIG. 15</figref> is a flow chart showing a color page/black-and-white page separating process according to the present embodiment. Upon depression of the OK key <b>1507</b> in the driver window <b>1501</b> shown in <figref idref="DRAWINGS">FIG. 14</figref>, the driver on the computer (client) <b>103</b> transmits information to the effect that a job is composed of color pages and black-and-white pages as well as a print job to the color MFP <b>104</b> and the black-and-white MFP <b>105</b> via the computer (server <b>102</b>). In the automatic division mode, which pages are black-and-white pages has not yet been determined at this time point, and thus, the contents of the job relating to all the pages are transmitted to the color MFP <b>104</b> and the black-and-white MFP <b>105</b>. The color pages and the black-and-white pages may be sent to the color MFP <b>104</b> and the black-and-white MFP <b>105</b> in this order in a timewise offset manner at a certain time interval, or may be sent to the MFPs <b>104</b> and <b>105</b> at the same time.</p>
<p id="p-0239" num="0244">It should be noted that the black-and-white MFP <b>105</b> having received the information to the effect that the job is composed of the color pages and the black-and-white pages waits for the color MFP <b>104</b> to send black-and-white page numbers without starting the printing immediately.</p>
<p id="p-0240" num="0245">As shown in <figref idref="DRAWINGS">FIG. 15</figref>, if the automatic division mode (Auto Division) is selected (the determination result is YES in the step S<b>1601</b>), the driver on the computer (client) <b>103</b> transmits the set sampling period to the color MFP <b>104</b> via the computer (server <b>102</b> (step S<b>1602</b>).</p>
<p id="p-0241" num="0246">It should be noted, however, that the sampling period is set in advance in the detail setting window displayed upon the depression of the property key <b>1509</b> shown in <figref idref="DRAWINGS">FIG. 14</figref>. Regarding the sampling period, if one point is sampled per 100 pixels×100 lines, the sampling time will be only 1/10000, and if a 400 dpi image is sampled on a grid-by-grid basis with a 0.25 inch (=6.35 mm) cycle, whether the image is in color or black-and-white may be determined to some extent if about 1,500 points have been sampled from a letter size (1.1″<sub>—</sub>8.5″) sheet. If it is nevertheless difficult to determine whether the image is a color image or a black-and-white image, the sampling period is decreased or the manual separation mode (Manual Separation) is set in the color mode column <b>1306</b>, and a setting as to whether each page is a color page or a black-and-white page is manually made in advance in the detail setting window.</p>
<p id="p-0242" num="0247">The PDL section <b>205</b> of the color MFP <b>104</b> having received the job and the sampling period performs raster image processing (RIP) on the pages of the job sequentially from the last page, and images on which the RIP has been performed are stored for respective color components (CMY, K) on a page-by-page basis in the memory section (semiconductor memory) <b>605</b>. The CPU section <b>603</b> determines whether the stored images are color images or black-and-white images (step S<b>1603</b>). This determination is made according to whether there is any color component (CMY component) other than black component (K) at each sampling point in the memory section <b>605</b> (steps S<b>1604</b> and S<b>1605</b>).</p>
<p id="p-0243" num="0248">On this occasion, to increase the speed at which the determination is made as to whether each page is a color page or a black-and-white page, if there is a color (CMY) component even at one of sampling points in a page, it can be determined that the image on the page is a color image, and therefore, the determination as to whether the image is a color image or a black-and-white image is stopped at this time point, so that the page is processed as a color page by the color MFP <b>104</b>. In this case, since the job is considered to be reprinted, page number information on the page as well as information to the effect that the page is a color page is transmitted to the computer (sever <b>102</b>) via the network <b>101</b> (step S<b>1609</b>). The page is then printed in color by the MFP <b>104</b> (step S<b>1610</b>). Page numbers of color pages in the job are stored in a memory of the color MFP <b>104</b> so that it can be written in a memory described later.</p>
<p id="p-0244" num="0249">If there is no color (CMK) component even at one sampling point in the page in the step S<b>1605</b>, the page is processed as a black-and-white page, and therefore, page number information relating to the page as well as information to the effect that the page is a black-and-white page is transmitted to the computer (server) <b>102</b> via the network <b>101</b> (step S<b>1611</b>). At the same time, the information is written as page information in the memory of the color MFP <b>104</b>. The computer (server) <b>102</b> may transmit black-and-white page number information to the black-and-white MFP <b>105</b> automatically or in response to a request signal transmitted from the black-and-white MFP <b>105</b>.</p>
<p id="p-0245" num="0250">When the stacker tray <b>1207</b> on which color image output sheets with color images formed thereon are stacked is properly attached to the inserter <b>108</b>, the black-and-white MFP <b>105</b> having received the information in the step S<b>1611</b> starts mixing the color image output sheets stacked on the stacker tray <b>1207</b> and black-and-white image output sheets on which black-and-white images having been formed by the black-and-white MFP <b>105</b>. In accordance with the information read out from the storage device <b>1202</b> attached to the stacker tray <b>1207</b>, the black-and-white MFP <b>105</b> performs raster image processing (RIP) on only the corresponding black-and-white pages.</p>
<p id="p-0246" num="0251">The processing of the steps S<b>1603</b>-S<b>1606</b> and S<b>1609</b>-S<b>1611</b> is repeated up to the last page insofar as there is no interrupt by canceling of the job (step S<b>1613</b>) until the job is completed by the color MFP <b>104</b>.</p>
<p id="p-0247" num="0252">In the case where the automatic division mode is not selected in the step S<b>1601</b>, that is, in the case where the manual separation mode is selected in the step S<b>1601</b>, the computer (server) <b>102</b> receives information indicative of whether each page is a color page or a black-and-white page from the driver, and according to the information, the computer (server) <b>102</b> instructs the MFP <b>104</b> to print color pages and instructs the black-and-white MFP <b>105</b> to print black-and-white pages. In this way, a job composed of color pages and black-and-white pages can be executed such that the color pages are printed by the color MFP <b>104</b> and the black-and-white pages are printed by the black-and-white MFP <b>105</b>.</p>
<p id="p-0248" num="0253">Although in the above description, the raster image processing is sequentially performed page by page, the present invention is not limited to this, but the raster image processing may be performed on all of a job once in the high-capacity memory section (HDD) <b>604</b> and the job may be read out on a page-by-page basis or a plurality of pages of the job may be read out and written into the memory section (semiconductor memory) <b>605</b>. Further, although in the above example, a job is automatically separated into a job for color pages and a job for black-and-white pages, a job may be separated into jobs each for a predetermined number of copies or may be separated into a job for photograph pages and a job for character pages. Further, although in the above example, the print information is transmitted from the driver on the computer (client) <b>103</b> to the color MFP <b>104</b> to cause the color MFP <b>104</b> to make the determination as to whether each page is a color page or a black-and-white page so that color pages can be outputted first, the present invention is not limited to this, but the black-and-white MFP <b>105</b> may make the determination as to whether each page is a color page or a black-and-white page so that black-and-white pages can be outputted first.</p>
<p id="p-0249" num="0254">When the color MFP <b>104</b> prints out a color job to the stacker tray <b>1207</b> so as to mix color image output sheets and black-and-white image output sheets, a CPU <b>1805</b> of the color MFP <b>104</b> performs writing in the storage device (memory) <b>1202</b> of the stacker tray <b>1207</b> as shown in <figref idref="DRAWINGS">FIG. 17</figref>. Specifically, the CPU <b>1805</b> writes all of information required for mixing of color page/black-and-white pages such as the sheet size, the number of prints, the number of copies, printer numbers as identification of printers, job numbers as identification of jobs, respective page numbers of sheets based on the result of a determination as to whether each page is a color page or a black-and-white page, page order information (such as the “S” stacking mode and the “F” stacking mode) indicative of the order of page numbers, material type (the type of sheets such as plain sheets and heavy sheets), and information about the finishing processing in the storage device <b>1202</b> via an I/F section <b>1803</b> of the color MFP <b>104</b> and an I/F section <b>1804</b> of the stacker tray <b>1207</b>.</p>
<p id="p-0250" num="0255">Thereafter, as shown in <figref idref="DRAWINGS">FIG. 16</figref>, if a stacker tray presence detecting sensor, not shown, detects the attachment of the stacker tray <b>1207</b> to the inserter <b>108</b>, a CPU <b>1705</b> of the black-and-white MFP <b>105</b> reads out the information from the storage device <b>1202</b> via an I/F section <b>1703</b> of the black-and-whit MFP <b>105</b> and an I/F section <b>1704</b> of the stacker tray <b>1207</b>. According to the read information, the CPU <b>1705</b> then controls the black-and-white MFP <b>105</b> and the inserter <b>108</b> to start mixing color image output sheets and black-and-white image output sheets.</p>
<p id="p-0251" num="0256">The respective I/F sections of the color MFP <b>104</b>, black-and-white MFP <b>105</b>, and stacker tray <b>1207</b> may be parallel-controlled with a multi-bit bus width, and may each include a serial communication so that they can be implemented by serial communication such as infrared communication. Further, when the black-and-white MFP <b>105</b> outputs black-and-white image output sheets to the stacker tray <b>1207</b>, the CPU <b>1705</b> writes the information in the storage device <b>1202</b> in the same manner as described above. Further, the information is read out from the storage device <b>1202</b> by the color MFP <b>104</b> in the same manner as described above.</p>
<p id="p-0252" num="0257">Further, the storage device <b>1202</b> may include a map of data for a plurality of jobs so that one stacker tray <b>1207</b> may cope with the mixing of a plurality of jobs.</p>
<p id="p-0253" num="0258">Further, by using a nonvolatile memory such as an EEP-ROM or an SRAM as the storage device <b>1202</b>, the information (memory data) written in the storage device <b>1202</b> is not lost but maintained by the supply of power by a battery <b>1211</b> incorporated in the stacker tray <b>1207</b> even in the case where the color MFP <b>104</b> and the black-and-white MFP <b>105</b> supply no power to the stacker tray <b>1207</b> due to the detachment of the stacker tray <b>1207</b> from the MFP <b>104</b> and the black-and-white MFP <b>105</b>.</p>
<p id="p-0254" num="0259"><figref idref="DRAWINGS">FIG. 19</figref> is a view showing a memory map in the storage device <b>1202</b>. In the memory map, job numbers, printer numbers, and so forth are stored at different addresses as shown in <figref idref="DRAWINGS">FIG. 19</figref>. In the case where a plurality of jobs are written in the memory map, the memory map is separated into areas 0 to n. In the illustrated example, there are a plurality of jobs corresponding to output sheets stacked on the stacker tray <b>1207</b>, and the job number of a job to be processed first is “job 3”.</p>
<p id="p-0255" num="0260">Further, in the illustrated example, the memory map indicates that the inserter <b>108</b> to be attached is connected to the “MFP <b>105</b>”, and it is determined whether a combination of the MFP <b>105</b> and the job number is a desired one or not. Only if it is determined that the combination is a desired one, the mixing is performed. If it is determined that the combination is not a desired one, information to that effect is transmitted from the computer (server) <b>102</b> to the computer (client) <b>103</b>, or is announced by a warning displayed on the display section or the like of the black-and-white MFP <b>105</b>. The warning is given by display only, a combination of display and sound, and sound only. Further, in the illustrated example, if no printer number is designated, it means that any of black-and-white MFPs may be used insofar as the inserter <b>108</b> is attached thereto.</p>
<p id="p-0256" num="0261">Further, in the illustrated example in which the sheet size is “A4” and the material of the stacked sheets is “heavy sheet”, control specific to heavy sheets such as variable control of the sheet feed speed may be provided. Further, in the illustrated example, the stacked state in the stacker tray <b>1207</b> is “state A” in which a job bundle (a bundle of output sheets) subjected to the top page processing by the color MFP <b>104</b> and outputted with surfaces on which images are formed facing downward and the black-and-white MFP <b>105</b> needs to output the bundle of sheets with surfaces on which images are formed facing upward, and the printing is controlled according to the stacked state. Further, in the illustrated example, the page numbers of pages to be printed in black-and-white are “3, 4, 5, 10, 12, . . . ”, and the printing is performed on only these pages.</p>
<p id="p-0257" num="0262">A description will now be given of the summary of a job mixing process (color image output sheets and black-and-white image output sheets are mixed) with reference to <figref idref="DRAWINGS">FIG. 1</figref>. The user sets a bundle of sheets, which have been printed by the color MFP <b>104</b> and discharged to the stacker tray <b>1207</b> in the stacker <b>107</b>, together with the stacker tray <b>1207</b> in the inserter <b>108</b> connected to the black-and-white MFP <b>105</b>. If detecting that the stacker tray <b>1207</b> has been set in the inserter <b>108</b>, the black-and-white MFP <b>105</b> reads information from the storage device <b>1202</b> of the stacker tray <b>1207</b> and determines whether the job is one for mixing or not according to the read information such as the job number.</p>
<p id="p-0258" num="0263">If it is determined that the job is one for mixing, the controller of the black-and-white MFP <b>105</b> activates the computer (server) <b>102</b> or the computer (client) <b>103</b> to receive job information from the computer (server) <b>102</b>. According to the information, color image output sheets are mixed with black-and-white image output sheets, and it is recognized on what pages and how the black-and-white image output sheets and the color-image output sheets should be arranged and what kind of finishing processing should be performed on the output sheets. Alternatively, without activating the computer (server) <b>102</b> and the computer (client) <b>103</b>, the color image output sheets and the black-and-white image output sheets are mixed according to print information downloaded in advance into the black-and-white MFP <b>105</b>.</p>
<p id="p-0259" num="0264">It is possible to variably control the sheet feed speed and the sheet conveying speed by recognizing the material of color image output sheets to be mixed with black-and-white image output sheets. Further, if incorrect sheets are stored in the stacker tray <b>1207</b> due to an error called jamming or irregular feeding in the color MFP <b>104</b>, it also is possible to forcibly discharge the sheets into an escape tray, not shown, by reading information such as the job number indicating the job number of jobs for mixing which should not be performed, and sheet numbers of sheets, which cannot be used. It is preferred that the information is transmitted to the user via a transmitting means such as the display section or the like.</p>
<p id="p-0260" num="0265">The way of outputting by the black-and-white MFP <b>105</b> is controlled according to the way of stacking color image output sheets stored in the stacker tray <b>1207</b>. This will be described with reference to <figref idref="DRAWINGS">FIGS. 20A-20E</figref>. In <figref idref="DRAWINGS">FIGS. 20A-20E</figref>, “B/W” indicates black-and-white originals, and “C” indicates color originals. The present embodiment assumes a plurality of stacked states (e.g. stacked states A, B, C, and D). In the stacked state A, sheets are printed in order from the last page by double-sided printing and outputted with print surfaces thereof on which images are formed facing upward. In the stacked state B, sheets are printed in order from the top page by double-sided printing and outputted with print surfaces thereof on which images are formed facing downward. In the stacked state C, sheets are printed in order from the last page by one-sided printing and outputted with print surfaces thereof on which images are formed facing upward. In the stacked state D, sheets are printed in order from the top page by one-sided printing and outputted with print surfaces thereof on which images are formed facing downward.</p>
<p id="p-0261" num="0266">In the case where the color MFP <b>104</b> prints sheets in order from the last page and outputs the sheets print surfaces thereof on which images are formed facing upward, a bundle of output sheets is stacked in the stacker tray <b>1207</b> in a stacked state A-1. In this case, after black-and-white image output sheets and color image output sheets are mixed, they are desired to be outputted with surfaces thereof on which images are formed facing downward as in a stacked state A-2, and therefore, the way of outputting by the black-and-white MFP <b>105</b> is selected such that the sheets are printed from the top original and outputted with surfaces thereof on which images are formed facing downward.</p>
<p id="p-0262" num="0267">Similarly, in the case where the color MFP <b>104</b> print sheets in order from the top page and outputs the sheets print surfaces thereof on which images are formed facing downward, a bundle of output sheets is stacked in the stacker tray <b>1207</b> in a stacked state B-1. In this case, after black-and-white image output sheets and color image output sheets are mixed, they are desired to be outputted with surfaces thereof on which images are formed facing upward as in a stacked state B-2, and therefore, the way of outputting by the black-and-white MFP <b>105</b> is selected such that the sheets are printed in order from the last original and outputted with the print surfaces thereof on which images are formed facing upward.</p>
<p id="p-0263" num="0268">In this way, the image formation by the black-and-white MFP <b>105</b> should be controlled according to the way of stacking output sheets by the color MFP <b>104</b>, and information thereof is stored in the storage device <b>1202</b> of the stacker tray <b>1207</b>. The color MFP <b>104</b> mixes color image output sheets and black-and-white image output sheets according to the information. Note that a description will be given later of output control relating to the stacked state A and the stacked state B with reference to <figref idref="DRAWINGS">FIG. 23</figref>.</p>
<p id="p-0264" num="0269">A description will now be given of processing performed by the color MFP <b>104</b> with reference to a flow chart of <figref idref="DRAWINGS">FIG. 21</figref>. The processing shown in the flow chart of <figref idref="DRAWINGS">FIG. 21</figref> is performed in accordance with a program executed by the CPU <b>1805</b> in the color MFP <b>104</b>, and the program is stored in a storage medium attached to the CPU <b>1805</b>. The color MFP <b>104</b> determines whether the inserter <b>108</b> is to be used for mixing of color page/black-and-white image output sheets according to settings of a job on a setting screen of the computer <b>103</b> or in an operating section in the main body of the color MFP <b>104</b> (step S<b>2101</b>). If it is determined that the inserter <b>108</b> is not to be used, processing for normal printing is performed according to the above described control procedure (step S<b>2102</b>). On the other hand, if it is determined that the inserter <b>108</b> is to be used, it is then determined whether inputted image data is data read by the scanner section <b>201</b> of the color MFP <b>104</b> or electronic file data inputted from the computer <b>103</b> and transmitted to the color MFP <b>104</b> (step S<b>2103</b>).</p>
<p id="p-0265" num="0270">It is determined in the step S<b>2103</b> that the inputted image data is data read by the scanner section <b>201</b> of the color MFP <b>104</b>, an original on a lower surface of an original platen provided on the color MFP <b>104</b> or an original conveyed by an automatic original feeder is read (step S<b>2104</b>), and data read from the original is converted into digital image information and is stored in an image storage device such as a hard disk of the color MFP <b>104</b> (step S<b>2105</b>). On the other hand, if the inputted image data is electronic file data inputted from the computer <b>103</b> and transmitted to the color MFP <b>104</b>, image information and information on various job settings are downloaded into the color MFP <b>104</b>, and the color MFP <b>104</b> registers the image information and the information on various job settings directly into the image storage device such as the hard disk (step S<b>2106</b>).</p>
<p id="p-0266" num="0271">The color MFP <b>104</b> determines whether pages on which the stored images are to be formed are color pages or black-and-white pages (step S<b>2107</b>). If it is determined that pages on which the stored images are to be formed are black-and-white pages, information on the order of the page (page information) and the like are written onto the memory map in the storage device <b>1202</b> of the stacker tray <b>1207</b>. Among the data stored in the image storage device of the color MFP <b>104</b>, the black-and-white image data is transferred to an image storage device on the computer (server) <b>102</b> or transferred to an image storage device of the black-and-white MFP <b>105</b> (step S<b>2108</b>). The data to be transferred should not necessarily be image data insofar as the data indicates which pages contain black-and-white image data.</p>
<p id="p-0267" num="0272">On the other hand, if it is determined that pages on which the images are to be formed are color pages, the color data is transferred to the image storage device of the MFP <b>105</b> (step S<b>2109</b>). Next, top page processing in which printing is performed in proper order from the top page or back page processing in which the printing is performed from the last page is selected according to the set way of stacking or the automatically determined way of stacking, and the printing is performed according to the selection result (step S<b>2110</b>), and output sheets are stacked in the stacker tray <b>1207</b> (step S<b>2111</b>). On this occasion, the information used for mixing color image output sheets with black-and-white output sheets as shown in the memory map of in <figref idref="DRAWINGS">FIG. 19</figref>, for example, is written onto the storage device <b>1202</b> in the stacker tray <b>1207</b>. If processing on the last page has not been completed (i.e. if the determination result is NO in a step S<b>2113</b>), the process returns to the step S<b>2107</b> to continue processing, and if processing on the last page has been completed (i.e. if the determination result is YES in a step S<b>2113</b>), the present process is terminated.</p>
<p id="p-0268" num="0273">Incidentally, although in the above described control, the information is written into the storage device <b>1202</b> of the stacker tray <b>1207</b> on a sheet-by-sheet basis, the present invention is not limited to this, the information is written into the storage device <b>1202</b> of the stacker tray <b>1207</b> in any other timing, e.g. before execution of a job, on a job-by-job basis, on a page-by-page basis, and after execution of a job.</p>
<p id="p-0269" num="0274">A description will be given of processing performed by the black-and-white MFP <b>105</b> with reference to flow charts of <figref idref="DRAWINGS">FIGS. 22 and 23</figref>. The processing shown in the flow charts of <figref idref="DRAWINGS">FIGS. 22 and 23</figref> is performed in accordance with a program executed by the CPU <b>1705</b> of the black-and-white MFP <b>105</b>. The program is stored in a storage medium attached to the CPU <b>1705</b>. In response to the attachment of the stacker tray <b>1207</b> to the inserter <b>108</b> of the black-and-white MFP <b>105</b> (the determination result is YES in a step S<b>2200</b>), information used for mixing color image output sheets stored in the stacker tray <b>1207</b> with black-and-white image output sheets discharged from the black-and-white image output sheets MFP <b>105</b> is stored in the storage device <b>1202</b> in the stacker tray <b>1207</b> (step S<b>2201</b>). If it is ascertained in the step S<b>2201</b> that the information is stored in the storage device <b>1202</b>, the information stored in the storage device <b>1202</b> is read and analyzed by the CPU <b>1705</b> (step S<b>2202</b>).</p>
<p id="p-0270" num="0275">The information is analyzed based on internal information of the memory map as shown in <figref idref="DRAWINGS">FIG. 19</figref> to start the printing. First, a “printer No.” indicative of the MFP in which a job bundle in the stacker tray <b>1207</b> is to be mixed is read from the storage device <b>1202</b> (second storage means) incorporated in the stacker tray <b>1207</b>, and is collated with apparatus information on the MFP <b>105</b> (including information to the effect that the stacker tray <b>1207</b> should be attached to the inserter <b>108</b> and information indicative of serial numbers of image formation jobs) (step S<b>2203</b>). If they correspond to each other, a job ID of a job to be processed first in the stacker tray <b>1207</b> is read from the storage device <b>1202</b>, and it is determined whether the job corresponding to the job ID has been transmitted to the black-and-white MFP <b>105</b> or not (step S<b>2204</b>). If the job corresponding to the job ID has been transmitted to the black-and-white MFP <b>105</b>, that is, if there is the corresponding job ID, the black-and-white MFP <b>105</b> performs the printing.</p>
<p id="p-0271" num="0276">On this occasion, if black-and-white data is present on the computer (server) <b>102</b> (the determination result is YES in a step S<b>2205</b>), image data of the job corresponding to the job ID and the printer number written on the memory map is downloaded from the computer (server) <b>102</b> into the black-and-white MFP <b>105</b> and stored in the storage device <b>1202</b> such as the HDD (step S<b>2206</b>). If the job ID and the printer number do not mach the apparatus information, the inserter <b>108</b> is prohibited from operating and a warning is given to the user by indicating the mismatch on a display means such as an operating section of the black-and-white MFP <b>105</b>. The warning may be given by display only, a combination of display and sound, or sound only. By determining whether the job ID and the print number match the apparatus information or not, it is possible to prevent color image output sheets from being mixed with output sheets on which print data of a job other than a job designated by the user is printed. Therefore, it is possible to perform the mixing using the MFP required by the user.</p>
<p id="p-0272" num="0277">If image data is stored in advance in the HDD of the black-and-white MFP <b>105</b>, it is determined whether the print number and the job ID match the image data stored in the HDD or not. If it is determined that the print number and the job ID do not match the image data stored in the HDD, a warning is given to the user via the display means such as the operating section of the black-and-white MFP <b>105</b>. The warning may be given by display only, a combination of display and sound, or sound only. On the other hand, if it is determined that the print number and the job ID match the image data stored in the HDD, the printing is started based on the above described mixing control.</p>
<p id="p-0273" num="0278">Then, according to information on the way of stacking, it is determined which stacked state as mentioned above corresponds to the stacked state. (step S<b>2207</b>). If it is determined that the stacked state corresponds to the stacked state B, control is provided such that sheets are printed in order from the top page by double-sided printing and outputted with print surfaces thereof on which images are formed facing downward (step S<b>2209</b>). If it is determined that the stacked state corresponds to the stacked state A, control is provided such that sheets are printed in order from the last page by double-sided printing and outputted with print surfaces thereof on which images are formed facing upward (step S<b>2208</b>). Next, whether the present page being processed in the mixing is a black-and-white page or a color page is determined according to the memory map or the page number information stored in the computer (server) <b>102</b> (step S<b>2210</b>).</p>
<p id="p-0274" num="0279">If it is determined that the present page being processed in the mixing is a black-and-white page, black-and-white page printing is performed to form an image on the corresponding page (step S<b>2211</b>), and an output sheet is outputted to the high-capacity stacker <b>109</b> attached to the black-and-white MFP <b>105</b>. On the other hand, if it is determined that the present page being processed in the mixing is a color page, the corresponding page is fed from the stacker tray <b>1207</b> set in the inserter <b>108</b> attached to the black-and-white MFP <b>105</b> (step S<b>2212</b>) and outputted to the high-capacity stacker <b>109</b>. The above described operation is repeated a number of times corresponding to the set number of copies (the determination result is YES in a step S<b>2213</b>) to complete the mixing. It should be noted that, if a plurality of jobs are stored in the stacker tray <b>1207</b>, the above described processing from the step S<b>2200</b> to S<b>2213</b> is repeated a number of times corresponding to the number of the stored jobs.</p>
<p id="p-0275" num="0280">Incidentally, if there is any information effective or required for mixing of color image/black-and-white image output sheets other than the above described information, the mixing is controlled according to the information. In the above described example, color image output sheets from the color MFP <b>104</b> are stacked in the stacker tray <b>1207</b>, and the color image output sheets are mixed with black-and-white image output sheets via the inserter <b>108</b> attached to the black-and-white MFP <b>105</b>, but conversely, black-and-white image output sheets from the black-and-white MFP <b>105</b> are stacked in the stacker tray <b>1207</b>, and the black-and-white image output sheets are mixed with the color image output sheets via the inserter <b>108</b> attached to the color MFP <b>104</b>.</p>
<p id="p-0276" num="0281">As described above, according to the first embodiment of the present invention, in the image forming system in which at least one color image forming apparatus, at least one black-and-white image forming apparatus, and at least one computer are connected to each other via a network, color image output sheets or black-and-white image output sheets with images having been formed thereon by the color image forming apparatus or the black-and-white image forming apparatus are stored in the stacker tray <b>1207</b> based on a job outputted from the computer, and the stored color image output sheets or black-and-white image output sheets are inserted between black-and-white image output sheets or color-image output sheets with images having been formed thereon discharged from the black-and-white image output sheets or the color-image output sheets according to information stored in the storage device <b>1202</b> incorporated in the stacker tray <b>1207</b>, so that they can be mixed into one group. As a result, as is distinct from the prior art, it is possible to prevent input errors and eliminate the need for complicated input operations in making settings for mixing, and to alleviate the burden on the user.</p>
<p id="p-0277" num="0282"><figref idref="DRAWINGS">FIG. 24</figref> is a conceptual diagram showing the entire arrangement of an image forming network system according to a second embodiment of the present invention. The image forming network system is constructed such that a color image forming apparatus (hereinafter referred to as “the color MFP”) <b>104</b> as an MFP with a stacker <b>107</b> attached to an output sheet discharge side thereof, a black-and-white image forming apparatus (hereinafter referred to as “the color MFP”)<b>104</b> as an MFP with an inserter <b>108</b> and a high-capacity stacker <b>109</b> attached to an output sheet discharge side thereof, a computer <b>102</b> as a server, and computers <b>103</b><i>a </i>and <b>103</b><i>b </i>as clients are connected to each other via a network <b>101</b>. Although not illustrated in <figref idref="DRAWINGS">FIG. 24</figref>, a number of clients other than the computers <b>103</b><i>a </i>and <b>103</b><i>b </i>are connected to the network <b>101</b>, and they will be hereinafter generically referred to as “the computer <b>103</b>”.</p>
<p id="p-0278" num="0283">The color MFP <b>104</b> is capable of scanning, printing, and so forth in full-color, and output sheets from the color MFP <b>104</b> are sequentially stacked and stored in two stacker trays <b>1207</b> and <b>1208</b>, which are set in, for example, upper and lower parts of the stacker <b>107</b> attached to the MFP <b>104</b>. It should be noted that the inserter <b>108</b> may be attached to the color MFP <b>104</b> as described later. The black-and-white MFP <b>105</b> is capable of scanning, printing, and so forth in monochrome, and output sheets from the black-and-white MFP <b>105</b> are sequentially stacked and stored in the stacker trays <b>1207</b> and <b>1208</b> in the inserter <b>108</b> and the high-capacity stacker <b>109</b> attached to the black-and-white MFP <b>105</b>.</p>
<p id="p-0279" num="0284">If the priority is determined or set in advance with respect to the stacker trays <b>1207</b> and <b>1208</b>, one of the stacker trays <b>1207</b> and <b>1208</b> is selected according to the priority so that output sheets can be sequentially stacked in the selected one. If there is the next job reservation at a time point when a job is completed, a setting as to whether the upper stacker tray or the lower stacker tray should be used is changed immediately to start stacking output sheets in the stacker tray different from the one used for the previous job. Depending on the settings made by the user, output sheets may be stacked in one and the same stacker tray. Although in the present embodiment, the two stacker trays are provided in the upper and lower parts, the present invention is not limited to this, but three or more stacker trays may be provided.</p>
<p id="p-0280" num="0285">The stacker trays <b>1207</b> and <b>1208</b> may be attached to and detached from the stacker <b>107</b>, and inserter <b>108</b>. Attaching the stacker tray <b>1207</b>, on which color output sheets on which images have been formed by the color MFP <b>104</b>, to the inserter <b>108</b> enables the black-and-white MFP <b>105</b> to mix the color image output sheets with black-and-image output sheets. The mixed output sheets are discharged into a bucket for off-line post-processing, and book-binding thereof or the like is carried out by a post-processing apparatus, not shown.</p>
<p id="p-0281" num="0286">As is the case with the first embodiment described above, on the computer <b>103</b>, application software for executing so-called DTP is operated to create/edit a variety of documents/drawings. The computer <b>103</b> converts the created documents/drawings into the PDL language, and transmits the same to the MFPs <b>104</b> and <b>105</b> via the network <b>101</b>, so that they are printed out by the MFPs <b>104</b> and <b>105</b>. The MFPs <b>104</b> and <b>105</b> each have a communication means for exchanging information with the computers <b>102</b> and <b>103</b> via the network <b>101</b>, so that the computers <b>102</b> and <b>103</b> can be sequentially notified of information and status of the MFPs <b>104</b> and <b>105</b>. Further, the computers <b>102</b> and <b>103</b> each include utility software operating in response to the information to manage the MFPs <b>104</b> and <b>105</b>.</p>
<p id="p-0282" num="0287">Incidentally, the second embodiment is identical with the first embodiment in the entire construction common to the color MFP <b>104</b> and the black-and-white MFP <b>105</b> (<figref idref="DRAWINGS">FIG. 2</figref>), the construction of the scanner section (<figref idref="DRAWINGS">FIG. 3</figref>), the construction of the IP section (<figref idref="DRAWINGS">FIG. 4</figref>), the construction of the FAX section (<figref idref="DRAWINGS">FIG. 5</figref>), the construction of the NIC section and the PDL section in the MFP (<figref idref="DRAWINGS">FIG. 6</figref>), the construction of the core section (<figref idref="DRAWINGS">FIG. 7</figref>), the construction of the PWM section and the printer section (<figref idref="DRAWINGS">FIG. 8</figref>), the internal structure of the printer section in the color MFP <b>104</b> (<figref idref="DRAWINGS">FIG. 9</figref>), the internal structure of the printer section in the black-and-white MFP <b>105</b> (<figref idref="DRAWINGS">FIG. 10</figref>), the construction of the display section common to the color MFP <b>104</b> and the black-and-white MFP <b>105</b>, the examples of screen display of the utility software operating on the computer (<figref idref="DRAWINGS">FIGS. 13 and 14</figref>), the color page/black-and-white page separating process (<figref idref="DRAWINGS">FIG. 15</figref>), and that way of outputting from the black-and-white MFP <b>105</b> is controlled according to how color image output sheets are stacked and stored in the stacker tray (<figref idref="DRAWINGS">FIG. 20</figref>) as described above, and therefore a description thereof is omitted.</p>
<p id="p-0283" num="0288">A description will now be given of the construction and control characterizing the second embodiment.</p>
<p id="p-0284" num="0289">First, a description will be given of the outline of the case where the stacker <b>107</b> is used mainly to stack and store output sheets from the color MFP <b>104</b>. The stacker trays <b>1207</b> and <b>1208</b> are detachably attached to the stacker <b>107</b>, and sheets are actually stacked in the stacker trays <b>1207</b> and <b>1208</b>. Sheets on which images have been printed by the printer section <b>208</b> of the color MFP <b>104</b> are sent to the stacker <b>107</b>, and stacked and stored in the stacker <b>107</b> in the “S” stacking mode or the “F” stacking mode selected according to the type of a job. Assuming that the number of color pages to be mixed is three, a set number of copies of the same pages are stacked in the “S” stacking mode or the three pages are sequentially stacked in the “F” stacking mode. <figref idref="DRAWINGS">FIG. 25</figref> shows an example in which sheets are stacked in the “F” stacking mode in the stacker trays <b>1207</b> and <b>1208</b>.</p>
<p id="p-0285" num="0290">The stacker trays <b>1207</b> and <b>1208</b> have the same structure, and therefore only the structure of the stacker tray <b>1207</b> alone will be described in the following. A lifter device is attached to respective attachment sections of the stacker trays <b>1207</b> and <b>1208</b>, and is comprised of a lifter section <b>1203</b>, a stacker tray presence detecting sensor <b>1201</b>, a sheet surface position detecting sensor <b>1205</b>, a lifter position detecting sensor <b>1206</b>, and gears <b>1209</b><i>a </i>and <b>1209</b><i>b </i>that drive the lifter section <b>1203</b>, and so forth. The lifter section <b>1203</b> is controlled such that the distance from a discharge port <b>1204</b>, from which sheets on which images have been formed by the color MFP <b>104</b> are discharged, to the sheet surface is kept constant according to outputs from the sheet surface detecting sensor <b>1205</b> detecting the position of the sheet surface. This improves the stackability of sheets on which images have been formed. The lifter section <b>1203</b> is moved up and down, for example, by driving a motor, not shown, mounted at the stacker <b>107</b> to transmit a driving force via the gear <b>1209</b><i>a </i>to the gear <b>1209</b><i>b</i>, which is connected to the lifter <b>1203</b> and is capable of winding up a wire.</p>
<p id="p-0286" num="0291">The lifter position detecting sensor <b>1206</b> detects the position of the lifter section <b>1203</b> so as to detect the volume of sheets stacked in the stacker tray <b>1207</b>. The detection accuracy may be improved by providing the lifter position detecting sensor <b>1206</b> at a plurality of positions. Any type of sensors such as a flag type sensor, an optical sensor, and an image sensor may be used as the sheet surface detecting sensor <b>1205</b> and the lifter position detecting sensor <b>1206</b>, and they are attached to the stacker tray <b>1207</b>. As shown in <figref idref="DRAWINGS">FIG. 28</figref>, referred to later, the lifter device also functions to keep constant the distance from the surfaces of sheets to sheet feed rollers in the case where the stacker tray <b>1207</b> is mounted on the inserter <b>108</b> and sheets are refed.</p>
<p id="p-0287" num="0292">A storage device (memory) <b>1202</b> attached to the stacker tray <b>1207</b> is a storage medium in which is written information used for inserting color image output sheets on which images have been formed by the color MFP <b>104</b> between black-and-white image output sheets on which images are formed by the black-and-white MFP <b>105</b> so that the color image output sheets and the black-and-white image output sheets can be mixed. The storage device (memory) <b>1202</b> may also be used as a storage medium in which is written information used for inserting black-and-white image output sheets between color-image output sheets. Examples of data written in the storage device (memory) <b>1202</b> are the name of a person who executes and manages a job, the printer number, the priority given to the job, the sheet size (including an irregular size), job ID, print number, the number of prints, the number of copies, the number of copies of the same pages to be outputted, the way of stacking output sheets, and the material (the type of sheets).</p>
<p id="p-0288" num="0293">According to the above information, color data and black-and-white data are matched and collated so that the black-and-white image output sheets and the color image output sheets can be mixed. If any sheet refeed cassette of the inserter <b>108</b> to which the stacker tray is attached is not particularly designated, the mixing can be performed according to the information even if the stacker tray is attached to any of sheet refeed cassettes. Further, if any sheet refeed cassette of the inserter tray <b>108</b> to which the stacker tray is attached is designated, display is provided on a display section of the black-and-white MFP <b>105</b> to ask the user to designate any cassette to which the stacker tray is attached according to the information stored in the storage device <b>1202</b>.</p>
<p id="p-0289" num="0294">As shown in <figref idref="DRAWINGS">FIGS. 26 and 27</figref>, the plurality of stacker trays <b>1207</b> and <b>1208</b> may be each equipped with a display section <b>1210</b> that displays a part of the information stored in the storage devices as the need arises. It is possible to prevent attachment errors by displaying a name unique to each stacker tray (in the illustrated example, “tray 1 (used by John xxxx)”), a printer name (“black-and-white MFP (IR105) 3”) or a designated cassette (“second cassette”), or the like on the displays section <b>1210</b> as shown in <figref idref="DRAWINGS">FIG. 35</figref>, for example. It may be arranged such that when sheets are stacked in the stacker <b>107</b>, output sheets from the color MFP <b>104</b> are naturally stacked without moving up or down the lifter device.</p>
<p id="p-0290" num="0295">A description will now be given of the outline of the construction of the inserter <b>108</b> with reference to <figref idref="DRAWINGS">FIG. 28</figref>. The inserter <b>108</b> performs feeding and conveyance such that color image output sheets outputted from the color MFP <b>104</b> and stacked and stored in the stacker tray <b>1207</b> are inserted between black-and-white image output sheets outputted from the black MFP <b>105</b> according to the information on the inserting way stored in the storage device <b>1202</b>, so that the color image output sheets and the black-and-white image output sheets can be mixed. The inserter <b>108</b> is characterized by using a plurality of stacker trays <b>1207</b> and <b>1208</b> that can be shared between the stacker <b>107</b> of the color MFP <b>104</b> and the black-and-white MFP <b>105</b> as means for stacking and containing color image output sheets to be inserted for the purpose of mixing.</p>
<p id="p-0291" num="0296">The inserter <b>108</b> provides control such that color image output sheets stored in the stacker trays <b>1207</b> and <b>1208</b> in the inserter <b>108</b> are lifted by the lifter section <b>1203</b> for the stacker trays <b>1207</b> and <b>1208</b> as is the case with the stacker trays <b>1207</b> and <b>1208</b> in the stacker <b>107</b> so that the distance from the sheet surface to sheet feed rollers <b>1903</b> can be constant. The inserter <b>108</b> employs a mechanism in which an irregular feeding preventive roller <b>1904</b> rotating in a direction opposite to the rotational direction of the sheet feed rollers <b>1903</b> prevents a plurality of sheets from being fed at the same time. It should be noted that a plurality of sheet refeed cassettes to which a plurality of stacker trays (in the present embodiment, the stacker trays <b>1207</b> and <b>1208</b>) are attached are disposed inside the inserter <b>108</b>.</p>
<p id="p-0292" num="0297">A description will now be given of the outline of the construction of the high-capacity stacker <b>109</b> with reference to <figref idref="DRAWINGS">FIG. 28</figref>. A job bundle comprised of a plurality of output sheets stacked in the stacker tray <b>1207</b> in the inserter <b>108</b> and a job bundle comprised of a plurality of output sheets outputted from the black-and-white MFP <b>104</b> and stacked in the stacker tray <b>1207</b> in the inserter <b>108</b> are properly mixed by providing the above described control, and the mixed sheets are sequentially stacked and stored in the high-capacity stacker <b>109</b> disposed downstream of the inserter <b>108</b>. A group of job bundles stacked in the high-capacity stacker <b>109</b> is then subjected to off-line processing such as book-binding and finishing.</p>
<p id="p-0293" num="0298">As is the case with the above described first embodiment, examples of the finishing processing are processing using a stapler for binding output sheets, processing using a Z-folding machine for folding output sheets in a Z-shape, and processing using a puncher for punching two (or three) holes used for filing output sheets, and the finishing processing is performed according to the type of jobs. In addition, output sheets may be bound by gluing for book-binding, or trimmed by cutting for aligning end faces at the binding side and the opposite side after binding. It is more effective that the above-mentioned stacker trays <b>1207</b> and <b>1208</b> are also commonly used as a sheet containing means for the high-capacity stacker <b>109</b>.</p>
<p id="p-0294" num="0299">In this way, a job composed of color pages and black-and-white pages can be executed such that the color pages are printed by the color MFP <b>104</b> and the black-and-white pages are printed by the black-and-white MFP <b>105</b>.</p>
<p id="p-0295" num="0300">A description will now be given of reading and writing from and into the storage device <b>1202</b> with reference to <figref idref="DRAWINGS">FIGS. 26 and 27</figref>. When the color MFP <b>104</b> prints and outputs a color job for color page/black-and-white page mixing to the stacker tray <b>1207</b>, a CPU <b>1805</b> of the color MFP <b>104</b> performs writing into the storage device <b>1202</b> such as a memory of the stacker tray <b>1207</b> as shown in <figref idref="DRAWINGS">FIG. 27</figref>.</p>
<p id="p-0296" num="0301">The CPU <b>1805</b> of the color MFP <b>104</b> writes all of information required for color page/black-and-white page mixing such as the name of the person executing and managing the job, the sheet size (the outside dimension of sheets), number of prints, number of copies of the same page, printer numbers, job numbers, respective page numbers of sheets based on the result of determination as to whether each page is a color page or a black-and-white page (respective page numbers of sheets stored in the stacker tray), page order information (such as the “S” stacking mode and the “F” stacking mode) indicative of the order of pages, material (the type of sheets), information indicative of whether sheets are discharged with surfaces on which images are formed facing upward or not, and information on the finishing processing, in the storage device <b>1202</b> via an interface section <b>1803</b> of the color MFP <b>104</b> and an interface section <b>1804</b> of the stacker tray <b>1207</b>. It should be noted that the stacker tray <b>1207</b> is provided with the display section <b>1210</b> and a battery <b>1211</b>.</p>
<p id="p-0297" num="0302">Thereafter, as shown in <figref idref="DRAWINGS">FIG. 26</figref>, if a CPU <b>1705</b> of the black-and-white MFP <b>105</b> detects using a stacker tray presence detecting sensor, not shown, detects the attachment of the stacker tray <b>1207</b> to the inserter <b>108</b>, the CPU <b>1705</b> reads out the information from the storage device <b>1202</b> via an interface section <b>1703</b> of the black-and-white MFP <b>105</b> and an interface section <b>1704</b> of the stacker tray <b>1207</b>. According to the read information, the CPU <b>1705</b> then controls the black-and-white MFP <b>105</b> and the inserter <b>108</b> to start mixing color image output sheets and black-and-white image output sheets.</p>
<p id="p-0298" num="0303">The respective interface sections of the color MFP <b>104</b>, black-and-white MFP <b>105</b>, and stacker tray <b>1207</b> may be parallel-controlled with a multi-bit bus width, and may each include a serial communication so that they can be implemented by serial communication such as infrared communication. Further, also when the black-and-white MFP <b>105</b> outputs black-and-white image sheets to the stacker tray <b>1207</b>, the CPU <b>1705</b> writes the information into the storage device <b>1202</b> in the same manner as described above. Further, the information is read out from the storage device <b>1202</b> by the color MFP <b>104</b> in the same manner as described above.</p>
<p id="p-0299" num="0304">Further, the storage device <b>1202</b> may include a map of data for a plurality of jobs so that one stacker tray <b>1207</b> may cope with mixing of a plurality of jobs. Further, the information written in the storage device <b>1202</b> can be kept by using a nonvolatile memory such as an EEP-ROM as a storage medium. Alternatively, if an SRAM or the like is used as the storage medium, memory data written in the storage device <b>1202</b> is not lost but maintained by the supply of power by the battery <b>1211</b> incorporated in the stacker tray <b>1207</b> even in the case where the color MFP <b>104</b> and the black-and-white MFP <b>105</b> supply no power to the stacker tray <b>1207</b> due to the detachment of the stacker tray <b>1207</b> from the stacker <b>107</b> and the inserter <b>108</b>.</p>
<p id="p-0300" num="0305">The display section <b>1210</b> of each of the stacker trays <b>1207</b> and <b>1208</b> is used to read a part of job information relating to sheets stacked in each of the stacker trays <b>1207</b> and <b>1208</b> from the storage device <b>1202</b> and display the read information. <figref idref="DRAWINGS">FIGS. 35</figref>, <b>36</b>, <b>37</b>, and <b>38</b> show examples of display provided by the display section <b>1210</b>. Although in the present embodiment, each stacker tray is provided with the display section <b>1210</b>, the present invention is not limited to this, but a display section, not shown, attached to the stacker <b>108</b> may display information inside the stacker tray.</p>
<p id="p-0301" num="0306">The example of display in <figref idref="DRAWINGS">FIG. 35</figref> shows information required for proper attachment of the stacker trays <b>1207</b> and <b>1208</b> to the desired inserter <b>108</b> after sheets to be mixed are outputted by the color MFP <b>104</b>. Indicating the name of a person who executes and manages the job enables the stacker tray <b>1207</b> or <b>1208</b> to be managed by its unique name, and specifying the positions where the stacker tray <b>1207</b> and <b>208</b> should be attached prevents the user from making errors in selecting the MFP.</p>
<p id="p-0302" num="0307">The example of display in <figref idref="DRAWINGS">FIG. 36</figref> shows that output sheets relating to the corresponding job are being stacked in the state in which the stacker trays <b>1207</b> and <b>1208</b> are attached to the stacker <b>107</b> or that output sheets are being refed in the state in which the stacker trays <b>1207</b> and <b>1208</b> are attached to the inserter <b>108</b>.</p>
<p id="p-0303" num="0308">The example of display in <figref idref="DRAWINGS">FIG. 37</figref> is intended to notify the user that the stacker trays <b>1207</b> and <b>1208</b> on which output sheets relating to a job to be mixed next have been attached to the inserter <b>108</b> while the black-and-white MFP <b>105</b> is executing a certain job, and the job to be mixed next has been registered as a reserved job.</p>
<p id="p-0304" num="0309">In the case where no sheet remains in the stacker tray and a job has been completed, a display is carried out to show the completion of the job and notify the user of the sheet exhaustion.</p>
<p id="p-0305" num="0310">By indicating the conditions of the stacker trays <b>1207</b> as shown in <figref idref="DRAWINGS">FIGS. 36 and 37</figref>, it is possible to prevent the user from withdrawing the stacker trays carelessly and hence improve the operability for the user.</p>
<p id="p-0306" num="0311">The example of display in <figref idref="DRAWINGS">FIG. 38</figref> is intended to notify the user that the stacker trays <b>1208</b> and <b>1208</b> have not been properly attached to the desired sheet refeed cassettes of the inserter <b>108</b>.</p>
<p id="p-0307" num="0312">A description will now be given of the structure of a memory map in the storage device <b>1202</b> with reference to <figref idref="DRAWINGS">FIG. 29</figref>. In the memory map shown in <figref idref="DRAWINGS">FIG. 29</figref>, the name of a person executing and managing jobs, job numbers, printer numbers, and so forth are stored at different addresses. If a plurality of jobs are written in the memory map, the memory map is separated into areas 0 to n. In the illustrated example, there are a plurality of jobs corresponding to output sheets stacked on the stacker tray <b>1207</b>, the person executing and managing the jobs is Mr. John xxxx, the tray number is 1, and the job number of a job to be processed first is “job 3”.</p>
<p id="p-0308" num="0313">Further, in the illustrated example, the memory map indicates that the black-and-white MFP, to which the inserter <b>108</b> to which the stacker trays should be attached is connected, is the “MFP <b>105</b>”, and it is determined whether a combination of the inserter <b>108</b> and the job number is a desired one or not. Only if it is determined that the combination is a desired one, the mixing is performed. If it is determined that the combination is not a desired one, information to that effect is given from the computer (server) <b>102</b> to the computer (client) <b>103</b>, is given to the user by means of the display section of the black-and-white MFP <b>105</b> or the like, or is given to the user by means of display shown in <figref idref="DRAWINGS">FIG. 38</figref> using the display section <b>1210</b> of the stacker tray.</p>
<p id="p-0309" num="0314">Further, the memory map in the illustrated example shows that, if no printer number is designated, any black-and-white MFP may be used insofar as the inserter <b>108</b> is attached thereto. Further, the memory map in the illustrated example shows that the sheet size is “A4” and the material of the stacked sheets is “heavy sheet”, and in this case, control specific to heavy sheets such as variable control of the sheet feed speed may be provided. If the sheet size is an irregular size, the sheet size is detected by a sheet size sensor, not shown, provided in the color MFP <b>104</b>, and control of sheet conveyance is corrected according to the detected sheet size. For example, it is assumed that the sheet size is used as a parameter for making a determination as to whether jamming occurs or not.</p>
<p id="p-0310" num="0315">Further, in the illustrated example, the stacked state in the stacker tray is “state A” in which a job bundle (a bundle of output sheets) subjected to the top page processing by the color MFP and outputted with surfaces on which images are formed facing downward and the black-and-white MFP needs to output the bundle of sheets with surfaces on which images are formed facing upward, and the printing is controlled according to the stacked state. Further, in the illustrated example, the page numbers of pages to be printed in black-and-white are “3, 4, 5, 10, 12, . . . ”, and the printing is performed for only these pages.</p>
<p id="p-0311" num="0316">A description will now be given of the outline of how jobs are mixed with reference to <figref idref="DRAWINGS">FIG. 24</figref>. The following description refers to the case where the stacker tray <b>1207</b> in which color image output sheets are stacked is set in the inserter <b>108</b> of the black-and-white MFP <b>105</b>, but the same control as described below can apply to the case where the stacker tray <b>1208</b> is set in the inserter <b>108</b>. A bundle of sheets, on which images have been printed by the color MFP <b>104</b> and which have been discharged to the stacker tray <b>1207</b> in the stacker <b>107</b>, is set together with the stacker tray <b>1207</b> in the inserter <b>108</b> connected to the black-and-white MFP <b>105</b>. When detecting the setting of the stacker tray <b>1207</b>, the black-and-white MFP <b>105</b> reads information stored in the storage device <b>1202</b> in the stacker tray <b>1207</b>, and then determines whether a job is for mixing color image output sheets and black-and-white image output sheets or not according to the information such as the job number. If it is determined that the job is for mixing, a controller, not shown, of the black-and-white MFP <b>105</b> activates the computer (server) <b>102</b> or the computer (client) <b>103</b> to receive job information from the computer (server) <b>102</b>.</p>
<p id="p-0312" num="0317">According to the information, the black-and-white MFP <b>105</b> mixes color image output sheets with black-and-white image output sheets, and recognizes what pages the black-and-white image output sheets and the color-image output sheets should be arranged and what kind of finishing processing should be performed on the output sheets. Alternatively, without activating the computer (server) <b>102</b> and the computer (client) <b>103</b>, the color image output sheets and the black-and-white image output sheets are mixed according to print information downloaded in advance into the main body of the black-and-white MFP <b>105</b>. It is also possible to variably control the sheet feed speed and the sheet conveying speed by recognizing the material of color image output sheets to be mixed with black-and-white image output sheets.</p>
<p id="p-0313" num="0318">Further, if incorrect sheets are stored in the stacker tray <b>1207</b> due to an error called jamming or so-called irregular feeding in the color MFP <b>104</b>, it is possible to forcibly discharge the sheets into an escape tray, not shown, by reading information such as job numbers indicating jobs for mixing, which should not be performed, and sheet numbers of sheets, which cannot be used. It is preferred that the information is transmitted to the user via a transmitting means such as the display section or the like.</p>
<p id="p-0314" num="0319">A description will now be given of processing performed by the color MFP <b>104</b> with reference to flow charts of <figref idref="DRAWINGS">FIGS. 30 and 31</figref>. The processing shown in the <figref idref="DRAWINGS">FIGS. 30 and 31</figref> flow charts is performed in accordance with a program executed by the CPU <b>1805</b> in the color MFP <b>104</b>, and the program is stored in a storage medium attached to the CPU <b>1805</b>.</p>
<p id="p-0315" num="0320">The CPU <b>1805</b> of the color MFP <b>104</b> determines whether the inserter <b>108</b> should be used for color page/black-and-white mixing or not according to job settings on a setting screen of a PC (computer (server) <b>102</b>) or an operating section of the MFP <b>104</b> (step S<b>2301</b>). If determining that the inserter <b>108</b> should not be used, the CPU <b>1805</b> of the color MFP <b>104</b> performs normal printing according to the above described control (step S<b>2302</b>). If determining that the inserter <b>108</b> should be used, the CPU <b>1805</b> of the color MFP <b>104</b> then determines whether image data <b>108</b> should be inputted by reading originals via the scanner section <b>201</b> or by inputting electronic file data from the computer (server) <b>102</b> (step S<b>2303</b>).</p>
<p id="p-0316" num="0321">If determining that image data <b>108</b> should be inputted by reading originals via the scanner section <b>201</b>, the CPU <b>1805</b> of the color MFP <b>104</b> causes the scanner section <b>201</b> to read an original placed on an original stand and pressed by a platen or an original conveyed by an automatic original feeder (step S<b>2304</b>), and converts the read data into digital image information and stores the same in an image storage device such as a hard disk in the color MFP <b>104</b> (step S<b>2305</b>). If determining that image data <b>108</b> should be inputted by inputting electronic file data from the computer (server) <b>102</b>, the CPU <b>1805</b> of the color MFP <b>104</b> downloads image information and various setting information from the computer (server) <b>102</b> and registers the image information and the job setting data directly in the hard disk (step S<b>2306</b>).</p>
<p id="p-0317" num="0322">The CPU <b>1805</b> of the color MFP <b>104</b> then determines whether an image for the present page to be formed from the image data stored in the image storage device of the color MFP <b>104</b> are a color image or a black-and-white image (step S<b>2307</b>). If determining that the image for the present page is a black-and-white image, the CPU <b>1805</b> of the color MFP <b>104</b> writes information on the order thereof (page information) and the like on the memory map in the storage device <b>1020</b> of the stacker tray <b>1207</b>. The CPU <b>1805</b> of the color MFP <b>104</b> transfers black-and-white image data among the data stored in the image storage device of the color MFP <b>104</b> to an image storage device on the computer (server) <b>102</b> or to an image storage device of the black-and-white MFP <b>105</b> via the computer (server) <b>102</b> (step S<b>2308</b>). The black-and-white image data itself need not be transferred but only information indicative of which pages of job data contain black-and-white image data has only to be transferred.</p>
<p id="p-0318" num="0323">If determining that the present page is a color page, the CPU <b>1805</b> of the color MFP <b>104</b> transfers the color data to the image storage device of the color MFP <b>104</b> (step S<b>2309</b>). The CPU <b>1805</b> of the color MFP <b>104</b> selects top page processing or back page processing according to the set way of stacking or the automatically determined way of stacking, and causes the printer section <b>208</b> to perform printing processing (step S<b>2310</b>), and selects a stacker tray, to which output sheets may be discharged, from the plurality of stacker trays set in the inserter <b>108</b> (step S<b>2311</b>). On this occasion, it is preferred that whether each stacker tray is one to which output sheets can be discharged or not is determined by reading the information stored in the storage device <b>1202</b> attached to each stacker tray.</p>
<p id="p-0319" num="0324">Thereafter, the CPU <b>1805</b> of the color MFP <b>104</b> stacks output sheets on the selected stacker tray in the inserter <b>108</b> via sheet feed rollers or the like (step S<b>2312</b>). On this occasion, the CPU <b>1805</b> of the color MFP <b>104</b> writes information required for mixing of color image output sheets with black-and-white image output sheets as stored on the memory map of <figref idref="DRAWINGS">FIG. 29</figref>, for example, into the storage device <b>1202</b> attached to the stacker tray (step S<b>2313</b>). If each stacker tray is equipped with the display section <b>1210</b> (the determination result is YES in a step S<b>2315</b>), the information stored in the storage device <b>1202</b> may be displayed on the display section <b>1210</b> as shown in <figref idref="DRAWINGS">FIG. 35</figref> to inform the user of the stacked state and job state in the stacker tray (S<b>2317</b>).</p>
<p id="p-0320" num="0325">The example of display in <figref idref="DRAWINGS">FIG. 35</figref> shows that a color job has been properly completed by the color MFP <b>104</b> and a unique name has been given to the stacker tray on which color image output sheets are stacked (step S<b>2314</b>) and that an MFP to which the stacker tray is to be attached and a sheet refeed cassette to be used for refeeding the output sheets have been designated. To designate a sheet refeed cassette is particularly effective for a black-and-white MFP in which special sheets such as heavy sheets are stacked in the stacker tray attached to the black-and white MFP and a sheet conveyance path on which sheets can be properly refed is provided. If processing on the last page has not been completed (the determination result is NO in a step S<b>2316</b>), the process returns to the step S<b>2307</b> wherein the CPU <b>1805</b> of the color MFP <b>104</b> continues performing processing, and if processing on the last page has been completed (the determination result is YES in the step S<b>2316</b>), the present process is terminated.</p>
<p id="p-0321" num="0326">Incidentally, although in the above described control, the information is written into the storage device <b>1202</b> of the stacker tray on a sheet-by-sheet basis, the present invention is not limited to this, the information may be written into the storage device <b>1202</b> of the stacker tray <b>1207</b> in any timing, e.g. before execution of a job, on a job-by-job basis, on a page-by-page basis, and after execution of a job. Further, although the examples of display on the display section <b>2110</b> are shown in <figref idref="DRAWINGS">FIGS. 35 to 38</figref>, other displays may be more effective in some cases, and in such cases, the display is provided based on the information stored in the storage device <b>1202</b> of the stacker tray.</p>
<p id="p-0322" num="0327">A description will now be given of processing performed by the black-and-white MFP <b>105</b> with reference to flow charts of <figref idref="DRAWINGS">FIGS. 32 to 34</figref>. The processing shown in <figref idref="DRAWINGS">FIGS. 32 to 34</figref> is performed in accordance with a program executed by the CPU <b>1705</b> of the black-and-white MFP <b>105</b>. The program is stored in a storage medium attached to the CPU <b>1705</b>.</p>
<p id="p-0323" num="0328">When the stacker tray presence detecting sensor <b>1201</b> (refer to <figref idref="DRAWINGS">FIG. 25</figref>) detects the attachment of the stacker tray <b>1207</b> to the inserter <b>108</b> attached to the black-and-white MFP <b>105</b> (the determination result is YES in a step S<b>2319</b>), the CPU <b>1705</b> of the black-and-white MFP <b>105</b> determines whether information required for mixing color image output sheets with black-and-white image output sheets is stored in the storage device <b>1202</b> of the stacker tray <b>1207</b> (step S<b>2320</b>). If determining in the step S<b>2320</b> that the information is stored in the stacker tray <b>1207</b>, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> reads and analyzes the information stored in the storage device <b>1202</b> (step S<b>2331</b>). On this occasion, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> carries out the analysis based on internal information of the memory map in the storage device <b>1202</b> as shown in <figref idref="DRAWINGS">FIG. 29</figref>, and causes the printer section <b>208</b> to start printing.</p>
<p id="p-0324" num="0329">First, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> reads a “printer No” indicative of an MFP (printer) in which a job bundle in the stacker tray <b>1207</b> is to be mixed, from the storage device <b>1202</b> incorporated in the stacker tray <b>1207</b>, and collates it with apparatus information on an MFP (printer) stored in a memory (apparatus information storage means) of the black-and-white MFP <b>105</b> (step S<b>2322</b>). If they correspond to each other, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> reads information indicative of which sheet refeed cassette of the inserter <b>108</b> to which a plurality of stacker tray can be attached has been designated as one in which the stacker tray is to be set, from the storage device <b>1202</b>.</p>
<p id="p-0325" num="0330">In an example of the case where there is the designated sheet refeed cassette in the inserter <b>108</b>, control must be provided differently from control provided for normal sheets when the material (type) of sheets stacked in the stacker tray is a special type such as coated sheets, heavy sheets, or thin sheets. The inserter <b>108</b> are limited in terms of sheet refeed cassettes capable of dealing with such special sheets, in many cases. Further, different stacker trays are selectively used according to the sheet size in many cases, and in such cases as well, information indicative of which sheet refeed cassette is designated is stored in the storage device <b>1202</b> as mentioned above.</p>
<p id="p-0326" num="0331">For the reasons mentioned above, if any of sheet refeed cassettes in the inserter <b>108</b> has been designated as one to which the stacker tray is to be attached (the determination result is YES in a step <b>2323</b>), the CPU <b>1705</b> of the black-and-white MFP <b>105</b> then determines whether the designated sheet refeed cassette in containment information stored in the storage device <b>1202</b> with the sheet refeed cassette corresponds to which the stacker tray has been actually attached (step S<b>2329</b>). If determining that they do not correspond to each other, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> provides control such that the inserter <b>108</b> is prohibited from performing mixing by asking the user to properly attach the stacker tray <b>1207</b> to the designated sheet refeed cassette in the inserter <b>108</b> via the operating section of the black-and-white MFP <b>105</b> or via the display section <b>1210</b> if the stacker tray <b>1207</b> is equipped with the displays section <b>1210</b> (step S<b>2330</b>). It should be noted that, if the inserter <b>108</b> is equipped with a display section, the display section may be used. The above-mentioned containment information includes serial numbers of image forming jobs in addition to the containment information to the effect that the stacker tray should be attached to the inserter <b>108</b> (indicative of which sheet refeed cassette has been designated).</p>
<p id="p-0327" num="0332">If the user has properly attached the stacker tray <b>1207</b> to the designated sheet refeed cassette in the inserter <b>108</b>, the CPU <b>1705</b> of the black-and-white MPF <b>105</b> reads the job number of a job to be processed first in the stacker tray <b>1207</b> from the storage device <b>1202</b>, and determines whether the job corresponding to the job ID (job No) has been transmitted to the black-and-white MFP <b>105</b> or not (step S<b>2325</b>). If there is the corresponding job ID, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> causes the printer section <b>208</b> to perform black-and-white printing. Even if no sheet refeed cassette in the inserter <b>108</b> has been designated as one to which the stacker tray is to be attached, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> causes the printer section <b>208</b> to perform black-and-white printing according to the determination as to the job ID.</p>
<p id="p-0328" num="0333">The present embodiment is characterized in that the plurality of stacker trays are each provided with the storage device <b>1202</b> so that, even if the stacker tray is set in any of the sheet refeed cassettes in the inserter <b>108</b> (even if no sheet refeed cassette has been designated), information is read from the storage device <b>1202</b> of the corresponding stacker tray, and the processing from the step S<b>2319</b> to S<b>2343</b> is repeated according to the read information, so that color image output sheets and black-and-white image output sheets can be mixed properly. As a result, it is possible to surely prevent the user from making mistakes in attaching the stacker tray (step S<b>2324</b>). This is called an “automatic selecting function”.</p>
<p id="p-0329" num="0334">Further, the present embodiment is further characterized in that the stacker tray can be set in the plurality of sheet refeed cassettes in the inserter <b>108</b>, and hence, even if the black-and-white MFP <b>105</b> is executing a job in the state in which one stacker tray has already been attached to the corresponding sheet refeed cassette (the determination result is YES in a step S<b>2326</b>), another stacker tray other than the stacker tray for which the job is being executed can be set in another sheet refeed cassette to read information stored in the storage device <b>1202</b> thereof and make settings for job reservation, so that the reserved job can be automatically started immediately upon completion of the previous job (steps S<b>2331</b>-S<b>2334</b>). The state in which a job is completed includes a state in which the last page of the job being executed has been outputted, a state in which image data according to the next job to be executed has been written to the image storage device of the black-and-white MFP, and a state in which the image data according to the next job to be executed can be written to the image storage device of the black-and-white MFP.</p>
<p id="p-0330" num="0335">Further, if the stacker tray is equipped with the display section <b>2120</b>, displaying the setting as to the reserved job on the display section <b>1210</b> (step S<b>2332</b>) prevents the user from canceling the attachment of the stacker tray by mistake. In this case, it goes without saying that, if the inserter <b>108</b> is equipped with a display section, the display section may be used.</p>
<p id="p-0331" num="0336">If the last page of the previous job has been outputted or if the reserved job is ready to be executed (the determination result is YES in a step S<b>2333</b>), the CPU <b>1705</b> of the black-and-white MFP <b>105</b> automatically starts the next job (step S<b>2334</b>). The state in which the reserved job is ready to be executed includes a state in which operations of the bus selector section <b>701</b> to the memory section <b>703</b> (<figref idref="DRAWINGS">FIG. 7</figref>) of the core section <b>206</b> can be performed in parallel with the previous job under multi-control of the CPU <b>603</b> (<figref idref="DRAWINGS">FIG. 6</figref>) of the PDL section <b>205</b> in the black-and-white MFP <b>105</b>. Specifically, by downloading image data of the PDL section <b>205</b> from the computer (server) <b>102</b>, compressing the image data and writing the compressed data in the HDD as the memory section <b>703</b>, it is possible to considerably reduce the time required for processing of the next job. In this case, the display on the display section <b>2120</b> of the stacker tray <b>1207</b> is switched from display for reservation to display for execution, and the printer section <b>208</b> is caused to start black-and-white printing.</p>
<p id="p-0332" num="0337">On this occasion, if black-and-white data is present on the computer (server) <b>102</b> (the determination result is “Server” in a step S<b>2327</b>), the CPU <b>1705</b> of the black-and-white MFP <b>105</b> downloads image data of the job corresponding to the job ID/printer number written on the memory map in the storage device <b>1202</b> of the stacker tray <b>1207</b> from the computer (server) <b>102</b> into the black-and-white MFP <b>105</b>, and stores the same in the storage device <b>1202</b> such as the HDD (step S<b>2328</b>). If the job ID and the printer number do not match each other, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> warns the user by indicating the mismatch on a display means such as the operating section of the black-and-white MFP <b>105</b>. By determining whether the job ID and the print number match each other or not, it is possible to prevent color image output sheets from being mixed with output sheets on which print data of a job other than a job designated by the user, thus enabling the mixing using an MFP required by the user.</p>
<p id="p-0333" num="0338">If image data is stored in advance in the HDD of the black-and-white MFP <b>105</b>, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> determines whether the print number and the job ID match the image data stored in the HDD or not. If determining that the print number and the job ID do not match the image data stored in the HDD, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> warns the user via a display means such as the operating section of the black-and-white MFP <b>105</b>. If determining that the print number and the job ID match the image data stored in the HDD, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> causes the printer section <b>208</b> to start printing based on the above described mixing control.</p>
<p id="p-0334" num="0339">According to information on the way of stacking written on the memory map in the storage device <b>1202</b> of the stacker tray <b>1207</b>, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> then determines which pattern mentioned in the above description of the control according to the stacked state corresponds to the way of stacking in the stacker tray <b>1207</b> (step S<b>2336</b>). If determining that the way of stacking corresponds to the stacked state B, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> provides control such that sheets are printed in order from the top page by double-sided printing and outputted with print surfaces thereof on which images are formed facing downward (step S<b>2337</b>). If determining that the way of stacking corresponds to the stacked state A, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> provides control such that sheets are printed in order from the last page by double-sided printing and outputted with print surfaces thereof on which images are formed facing upward (step S<b>2342</b>).</p>
<p id="p-0335" num="0340">Next, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> determines whether the present page being processed in the mixing is a black-and-white page or a color page according to the memory map in the storage device <b>1202</b> of the stacker tray <b>1207</b> or the page number information stored in the computer (server) <b>102</b> (step S<b>2338</b>). If determining that the present page being processed in the mixing is a black-and-white page, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> causes the printer section <b>208</b> to form an image on the corresponding page (step S<b>2339</b>), and outputs a black-and-white image output sheet to the high-capacity stacker <b>109</b>. On the other hand, if determining that the present page being processed in the mixing is a color page, the CPU <b>1705</b> of the black-and-white MFP <b>105</b> feeds the corresponding page from the stacker tray <b>1207</b> (interposer) set in the inserter <b>108</b> (step S<b>2343</b>) and outputs a color image output sheet to the high-capacity stacker <b>109</b>. The above described operation is repeated a number of times corresponding to the set number of copies (step S<b>2340</b>) to complete the mixing (step S<b>2341</b>).</p>
<p id="p-0336" num="0341">If output sheets for a plurality of jobs are stored in the stacker tray <b>1207</b>, the above described processing from the steps S<b>2319</b> to S<b>2343</b> is repeated a number of times corresponding to the number of jobs stored in the stacker tray <b>1207</b>. Incidentally, if there is any information effective or required for mixing of color image/black-and-white image output sheets other than the above information, the mixing is controlled according to the other information.</p>
<p id="p-0337" num="0342">In the above described example, color image output sheets from the color MFP <b>104</b> are stacked in a stacker tray, and this stacker tray is attached to the inserter <b>108</b> attached to the black-and-white MFP <b>105</b>, to mix the color image output sheets with black-and-white image output sheets on which images have been formed by the black-and-white MFP <b>105</b>, but conversely, black-and-white image output sheets from the black-and-white MFP <b>105</b> are stacked in a stacker tray, and this stacker tray is attached to the inserter <b>108</b> which is now attached to the color MFP <b>104</b>, to mix the black-and-white image output sheets with the color image output sheets on which images have been formed by the color MFP <b>104</b>.</p>
<p id="p-0338" num="0343">As described above, according to the second embodiment of the present invention, when a job relating to insertion of sheets is being executed in the state in which an arbitrary one of the stacker trays is attached to the inserter <b>108</b>, if the attachment of another stacker tray to the inserter <b>108</b> is detected, control is provided such that the next job is started after completion of the job being executed according to the containment information stored in the storage device <b>1202</b> of the attached other stacker tray. As a result, even when the inserter <b>108</b> is executing an operation of inserting output sheets relating to another job, the attachment of the stacker tray to a sheet refeed cassette in the inserter <b>108</b> other than the sheet refeed cassette where the other job is being executed enables the next job to be automatically started immediately upon completion of the other job being executed.</p>
<p id="p-0339" num="0344">Further, according to the second embodiment of the present invention, control is provided such that the containment information is read out from the storage device <b>1202</b> of a stacker tray in response to the attachment of the stacker tray to the inserter <b>108</b>, and when the containment information does not correspond to the apparatus information, the inserter <b>108</b> is prohibited from performing an inserting operation. As a result, it is possible to reliably prevent improper sheet insertion even if the stacker tray is improperly attached to the inserter <b>108</b>.</p>
<p id="p-0340" num="0345">Further, according to the second embodiment of the present invention, the plurality of stacker trays are each equipped with the storage device <b>1202</b> into and from which the containment information relating to sheets can be written and read, so that a unique name can be given to each of the stacker trays. As a result, irrespective of the sheet refeed cassette of the inserter <b>108</b> to which a stacker tray is attached, it is possible to provide proper sheet mixing control according to the unique name of the stacker tray and other contents stored in the storage device <b>1202</b>, and to prevent the user from improperly attaching the stacker trays to the plurality of sheet refeed cassettes of the inserter <b>108</b>.</p>
<p id="p-0341" num="0346">Further, according to the second embodiment of the present invention, the plurality of stacker trays are each equipped with the display section <b>1210</b> that is capable of displaying the containment information stored in the storage devices <b>1202</b> and the designated sheet refeed cassette in the inserter <b>108</b> to which the stacker tray is to be attached. As a result, in the case where any sheet refeed cassette in the inserter <b>108</b> to which the stacker tray is to be attached is designated, it is possible to considerably lower the possibility that the user makes mistakes in attachment of the stacker tray to the inserter <b>108</b> by indicating the designated sheet refeed cassette on the display section <b>2120</b> of the stacker tray.</p>
<p id="p-0342" num="0347"><figref idref="DRAWINGS">FIG. 39</figref> is a block diagram showing the entire arrangement of a distributed processing binding system according to a third embodiment of the present invention. A job server <b>10</b> has a distributed processing function such that, in response to a job request from a client, the job server <b>10</b> divides a job to cause 1 to X (X is a given integer) black-and-white image forming apparatuses <b>100</b> and 1 to X (X is a given integer) color image forming apparatuses <b>200</b>, which are connected to a network such as LANs, to print out black-and-white output sheets and color output sheets, respectively, for example, in the case where images on originals composed of black-and-white output sheets and color output sheets are printed out. A post-processing apparatus <b>150</b> having a collating function performs processing on bundles of sheets outputted as a result of the above distributed processing (division of the job) to bind the bundles of sheets.</p>
<p id="p-0343" num="0348">The job server <b>10</b> transmits sheet information <b>78</b>, which is comprised of job information JOB-ID used for recognizing which job each of the outputted bundles of sheets belongs to and page information PAGE-ID used for recognizing each of the outputted bundles of sheets, as information on bundles of sheets outputted by the distributed processing to the image forming apparatuses <b>100</b> and <b>200</b>.</p>
<p id="p-0344" num="0349">Further, the job server <b>10</b> transmits output information used for enabling the post-processing apparatus <b>150</b> to recognize the progress in output of a job divided and distributed to the black-and-white image forming apparatuses <b>100</b> and the color image forming apparatuses <b>200</b> to an output recognizing section <b>80</b> in the post-processing apparatus <b>150</b> via a job information transmitting section <b>400</b>.</p>
<p id="p-0345" num="0350">At the same time, the job server <b>10</b> transmits job information <b>76</b>, which is comprised of the job information JOB-ID transmitted to the image forming apparatuses <b>100</b> and <b>200</b>, all of the page information PAGE-ID distributed to the image forming apparatuses <b>100</b> and <b>200</b> when a job (JOB) is divided, and detailed information of the page information PAGE-ID such as page numbers of bundles of sheets, the order of pages stacked, and the number of copies, to a job controller <b>75</b> that controls jobs in the post-processing apparatus <b>150</b>, so as to enable a book-binding process (collating, binding, folding, etc.) using the sheet information <b>78</b> transmitted to the the image forming apparatuses <b>100</b> and <b>200</b>.</p>
<p id="p-0346" num="0351">The output recognizing section <b>80</b> receives output information <b>81</b> on each image forming apparatus connected to a network to know the condition of output from each image forming apparatus that has been instructed to output a job distributed by the job server <b>10</b>. Upon the lapse of a predetermined period of time (e.g. in the present embodiment, five minutes) after all of bundles of sheets for a certain job are outputted, a notifying section <b>82</b> notifies the user of this by showing a message “Output No. xx-xx complete. Set in collator, please.” on a display of the notifying section <b>82</b>. Although in the present embodiment, the user is notified via a message shown on the display of the notifiying section <b>82</b> which is in an operating section, but may be notified via a sound, an alarm lamp, or the like.</p>
<p id="p-0347" num="0352">The sheet information transmitting section <b>400</b> transfers the sheet information <b>78</b> transmitted to the image forming apparatuses <b>100</b> and <b>200</b> to the job controller <b>75</b> in the post-processing apparatus <b>150</b>. In the present embodiment, the sheet information transmitting section <b>400</b> is connected to the image forming apparatuses <b>100</b> and <b>200</b> and is also used as a container attached to a stacker on which sheets are stacked and as an output sheet supply container for the post-processing apparatus <b>150</b>. Further, in the state in which the container is attached to the image forming apparatuses <b>100</b> and <b>200</b>, the sheet information <b>78</b> is stored in a storage medium provided in the container upon the start of output, and the sheet information <b>78</b> is read out from the storage medium when the operator attaches the container to the post-processing apparatus <b>150</b> so that the sheet information <b>78</b> can be transferred to the job controller <b>75</b>. In this way, the job information <b>76</b> and the sheet information <b>78</b> are transmitted to the job controller <b>75</b> in the post-processing apparatus <b>150</b>.</p>
<p id="p-0348" num="0353">It should be noted that the sheet information transmitting section <b>400</b> may be configured to transfer the sheet information <b>78</b> by printing barcodes representing the sheet information on bundles of sheets separately outputted from the image forming apparatuses <b>100</b> and <b>200</b> so that the operator can read the barcodes using a barcode reader when setting the bundles of sheets in the post-processing apparatus <b>150</b>.</p>
<p id="p-0349" num="0354">The job controller <b>75</b> causes a job determining section <b>79</b> to check all of the registered job information <b>76</b> and sheet information <b>78</b> every time the container (sheet information transmitting section <b>400</b>) is attached to the post-processing apparatus <b>150</b>, and if determining that post-processing can be started with a job with all of the page information PAGE-ID, the job controller <b>75</b> automatically starts post-processing.</p>
<p id="p-0350" num="0355">In the distributed processing book-binding system constructed as described above, only by the user conveying bundles of sheets outputted from the image forming apparatuses <b>100</b> and <b>200</b> to the post-processing apparatus <b>150</b> without making job settings for post-processing, post processing is automatically started with a job ready for post-processing. This realizes efficient book-binding.</p>
<p id="p-0351" num="0356"><figref idref="DRAWINGS">FIG. 40</figref> is a view showing the specific construction of the distributed processing book-binding system. In the distributed processing book-binding system shown in <figref idref="DRAWINGS">FIG. 40</figref>, there is a client who produces desired booklets of originals such as product manuals, catalogs, or circulars at offices.</p>
<p id="p-0352" num="0357">The job server <b>10</b> is capable of distributing a job inputted and requested from personal computers (PC) <b>20</b>-<b>50</b> or color or black-and-white image scanners connected to the personal computers <b>20</b>-<b>50</b> by the client to a plurality of image forming apparatuses to cause the plurality of image forming apparatuses to execute distributed processing of the job. The job server <b>10</b> is implemented by a personal computer, for example, and functions as a controller that controls job recognition data used for recognizing which job a plurality of sheets belong to and page recognition data used for recognizing which part of one job a plurality of sheets belong to.</p>
<p id="p-0353" num="0358">Reference numeral <b>100</b> denotes black-and-white image forming apparatuses (black-and white copying apparatuses or black-and-white printers) as the image forming apparatuses. In <figref idref="DRAWINGS">FIG. 40</figref>, two black-and-white copying apparatuses are illustrated and denoted by reference numerals <b>100</b><i>a </i>and <b>100</b><i>b </i>so that they can be distinguished from each other. Although in the present embodiment, large-sized copying apparatuses capable of recording at high speeds are employed as the black-and-white copying apparatuses <b>100</b><i>a </i>and <b>100</b><i>b</i>, the capability of the black-and-white copying apparatuses <b>100</b><i>a </i>and <b>100</b><i>b </i>should be not restricted and the black-and-white copying apparatuses <b>100</b><i>a </i>and <b>100</b><i>b </i>may be small-sized.</p>
<p id="p-0354" num="0359">On the other hand, reference numeral <b>200</b> denotes color image forming apparatuses (color copying apparatuses or color printers) as the image forming apparatuses. In <figref idref="DRAWINGS">FIG. 40</figref>, two color copying apparatuses are illustrated and denoted by reference numerals <b>200</b><i>a </i>and <b>200</b><i>b </i>so that they can be distinguished from each other. Although in the present embodiment, the color copying apparatuses <b>200</b><i>a </i>and <b>200</b><i>b </i>are each comprised of four color (yellow, magenta, cyan, and black) image forming units, but the color copying apparatuses <b>200</b><i>a </i>and <b>200</b><i>b </i>may form color images by another method.</p>
<p id="p-0355" num="0360">Reference numeral <b>300</b> denotes sheet containing devicees (hereinafter referred to as “stackers”) connected to the respective image forming apparatuses. The stackers <b>300</b> respectively connected to the black-and-white copying apparatus <b>100</b><i>a </i>and <b>100</b><i>b </i>and the color copying apparatuses <b>200</b><i>a </i>and <b>200</b><i>b </i>are denoted by reference numerals <b>300</b><i>a</i>-<b>300</b><i>d </i>so that they can be distinguished from each other.</p>
<p id="p-0356" num="0361">Reference numeral <b>400</b> denotes sheet containing sections (containers) detachably attached to the respective stackers. The containers <b>400</b> respectively attached to the stackers <b>300</b><i>a</i>-<b>300</b><i>d </i>are denoted by reference numerals <b>400</b><i>a</i>-<b>400</b><i>d </i>so that they can be distinguished from each other.</p>
<p id="p-0357" num="0362">Reference numeral <b>500</b> denotes a collator that arranges sheets, which have been outputted from the image forming apparatuses, in page order to produce a booklet. A finisher <b>600</b> connected to the collator <b>500</b> performs book-binding. The above-mentioned post-processing apparatus <b>150</b> is comprised of the collator <b>500</b> and the finisher <b>600</b>.</p>
<p id="p-0358" num="0363">The job server <b>10</b>, personal computers <b>20</b>-<b>50</b>, black-and-white copying apparatuses <b>100</b>, color copying apparatuses <b>200</b>, stackers <b>300</b>, containers <b>400</b>, collator <b>500</b>, and finisher <b>600</b> are connected to each other via a communication line <b>60</b> comprised of a digital network such as LAN and the Internet, and connection cables, and send and receive data on jobs relating to book-binding.</p>
<p id="p-0359" num="0364"><figref idref="DRAWINGS">FIG. 41</figref> is a view showing the appearance of the black-and-white image forming apparatus. <figref idref="DRAWINGS">FIG. 42</figref> is a sectional view showing the internal construction of the black-and-white image forming apparatus in <figref idref="DRAWINGS">FIG. 41</figref>. Transfer sheets S set in sheet feed cassettes <b>2109</b><i>a</i>-<b>2109</b><i>d </i>are conveyed to an image forming section <b>2102</b> by sheet feed rollers <b>2119</b><i>a</i>-<b>2119</b><i>d </i>and pairs of conveying rollers <b>2127</b>. At the same time, a primary electrifier <b>2113</b>, an exposure section <b>2106</b>, and a developing device <b>2111</b> perform processing from formation of an electrostatic latent image on a photosensitive drum <b>2110</b> to visualization of the electrostatic latent image, so that a transfer toner image is formed on the photosensitive drum <b>2110</b>.</p>
<p id="p-0360" num="0365">After the transfer sheet S is conveyed to a transfer section by resist rollers <b>2122</b> in such timing that a leading end of the transfer sheet S is aligned with a leading end of the toner image on the photosensitive drum <b>2110</b>, a transfer bias is applied to the transfer sheet S to transfer the toner image on the photosensitive drum <b>2110</b> onto the transfer sheet S. The transfer sheet S with the toner image having been transferred thereon is conveyed to a fixing section <b>2125</b> by a conveying belt <b>2117</b>, and is caught between a heating roller <b>2143</b> and a pressurizing roller <b>2144</b> so that the toner image can be thermally fixed. On this occasion, foreign matters such as residual toner adhering to the photosensitive drum <b>2110</b> without having been transferred onto the transfer sheet S is scraped off by a blade of a cleaning device <b>2112</b> so that the surface of the photosensitive drum <b>2110</b> can be cleared to be ready for the next image formation.</p>
<p id="p-0361" num="0366">The transfer sheet S with the toner image thermally fixed thereon is guided to a conveying path A by a first conveying path switching flapper <b>2128</b>, and reversed in the conveying direction and inverted by a second conveying path switching flapper <b>2129</b> and inverting rollers <b>2130</b>. In the case where a one-sided transfer sequence in which a toner image is formed on one side of a transfer sheet is designated, the second conveying path switching flapper <b>2129</b> is not operated and the transfer sheet S passes through the conveying path A again to be discharged from the apparatus. On the other hand, in the case where a both-sided transfer sequence in which toner images are formed on both sides of a transfer sheet is designated, the transfer sheet S is reversed in the conveying direction and inverted by the inverting rollers <b>2130</b>, and the second conveying path switching flapper <b>2129</b> is operated to guide the transfer sheet S to a conveying path C in proper timing. The transfer sheet S with the toner image formed on one side thereof, which has been guided to the conveying path C in a both-side inverting device <b>2103</b> by the second conveying path switching flapper <b>2129</b>, is then conveyed to the resist rollers <b>2122</b> again to form an image on the other side of the transfer sheet S in the same manner as in the one-sided transfer sequence. The transfer sheet S is thermally fixed by the fixing device <b>2125</b> again, and is discharged from the apparatus.</p>
<p id="p-0362" num="0367"><figref idref="DRAWINGS">FIG. 43</figref> is a view showing the appearance of the color image forming apparatus. <figref idref="DRAWINGS">FIG. 44</figref> is a sectional view showing the internal construction of the color image forming apparatus in <figref idref="DRAWINGS">FIG. 43</figref>. The color image forming apparatus is comprised of four photosensitive drums <b>2201</b><i>a</i>.(for yellow toner), <b>2201</b><i>b </i>(for magenta toner), <b>2201</b><i>c </i>(for cyan toner), and <b>2201</b><i>d </i>(for black toner) arranged in parallel to form toner images of respective colors, and a transfer belt <b>2221</b> that is arranged at the lower side of the photosensitive drums <b>2201</b><i>a</i>-<b>2201</b><i>d </i>to cross them.</p>
<p id="p-0363" num="0368">Primary electrifiers <b>2202</b><i>a</i>, <b>2202</b><i>b</i>, <b>2202</b><i>c</i>, and <b>2202</b><i>d</i>, developing devices <b>2203</b><i>a</i>, <b>2203</b><i>b</i>, <b>2203</b><i>c</i>, and <b>2203</b><i>d</i>, and transfer electrifiers <b>2204</b><i>a</i>, <b>2204</b><i>b</i>, <b>2204</b><i>c</i>, and <b>2204</b><i>d </i>are arranged around the photosensitive drums <b>2210</b><i>a</i>, <b>2201</b><i>b</i>, <b>2201</b><i>c</i>, and <b>2201</b><i>d </i>driven by an ultrasonic motor, not shown. Exposure devices <b>2206</b><i>a</i>, <b>2206</b><i>b</i>, <b>2206</b><i>c</i>, and <b>2206</b><i>d </i>each comprised of an LED or the like are respectively arranged above the photosensitive drums <b>2201</b><i>a</i>, <b>2201</b><i>b</i>, <b>2201</b><i>c</i>, and <b>2201</b><i>d. </i></p>
<p id="p-0364" num="0369">In the color image forming apparatus, the electrifiers <b>2202</b><i>a</i>, <b>2202</b><i>b</i>, <b>2202</b><i>c</i>, and <b>2202</b><i>d </i>electrify the photosensitive drums <b>2201</b><i>a</i>, <b>2201</b><i>b</i>, <b>2201</b><i>c</i>, and <b>2201</b><i>d</i>, the exposure devices <b>2206</b><i>a</i>, <b>2206</b><i>b</i>, <b>2206</b><i>c</i>, and <b>2206</b><i>d </i>expose color-separated optical images of respective colors YMCK (yellow, magenta, cyan, and black) to form yellow, magenta, cyan, and black latent images on the photosensitive drums <b>2201</b><i>a</i>, <b>2201</b><i>b</i>, <b>2201</b><i>c</i>, and <b>2201</b><i>d</i>, respectively, and the developing devices <b>2203</b><i>a</i>, <b>2203</b><i>b</i>, <b>2203</b><i>c</i>, and <b>2203</b><i>d </i>develop the respective latent images to sequentially form yellow, magenta, cyan, and black toner images on the photosensitive drums <b>2201</b><i>a</i>, <b>2201</b><i>b</i>, <b>2201</b><i>c</i>, and <b>2201</b><i>d</i>, respectively.</p>
<p id="p-0365" num="0370">Recording sheets S as transfer materials are stored in cassettes <b>2207</b><i>a</i>-<b>2207</b><i>d</i>. The cassettes <b>2207</b><i>a</i>-<b>2207</b><i>d </i>are each capable of being drawn toward the user. Drawing the cassettes <b>2207</b><i>a</i>-<b>2207</b><i>d </i>toward the user enables supply of additional recording sheets, jam processing when jamming occurs in the cassettes <b>2207</b><i>a</i>-<b>2207</b><i>d</i>, and so forth. The recording sheets S are fed sheet by sheet from any one of the cassettes <b>2207</b><i>a</i>-<b>2207</b><i>d </i>by the corresponding one of pickup rollers <b>2208</b><i>a</i>-<b>2208</b><i>d</i>, and passes through upper conveying rollers <b>2209</b> to be conveyed to a resist roller <b>2210</b> in such timing that a leading end of the recording sheet S is aligned with a leading end of the toner image on each of the photosensitive drums <b>2201</b><i>a</i>-<b>2201</b><i>d</i>. The recording sheet S is then guided to a transfer guide <b>2218</b> and conveyed to a nip section that is comprised of a pressing roller <b>2212</b>, which presses the recording sheet S against a transfer conveying section, and a transfer belt <b>2221</b>, so that the recording sheet is conveyed on the transfer belt <b>2221</b> in a direction indicated by the arrow E in <figref idref="DRAWINGS">FIG. 44</figref>.</p>
<p id="p-0366" num="0371">A backup roller <b>2217</b> is opposed to the pressing roller <b>2212</b> across the transfer belt <b>2212</b>. The pressing roller <b>2212</b> is held by a pressurizing arm, not shown, and is pressurized by a pressurizing spring, not shown. The recording sheet S pressed by the pressing roller <b>2212</b> against the transfer belt <b>2221</b> is sequentially conveyed to transfer sections opposed to the respective photosensitive drums <b>2201</b><i>a</i>, <b>2201</b><i>b</i>, <b>2201</b><i>c</i>, and <b>2201</b><i>d </i>by rotation of the transfer belt <b>2221</b>. Transfer blades <b>2204</b><i>a</i>, <b>2204</b><i>b</i>, <b>2204</b><i>c</i>, and <b>2204</b><i>d</i>, which are arranged in the respective transfer sections and to which voltage of reverse polarity to toners is applied, cause the toner images of the respective colors on the photosensitive drums <b>2201</b><i>a</i>, <b>2201</b><i>b</i>, <b>2201</b><i>c</i>, and <b>2201</b><i>d </i>to be transferred onto the recording sheet S in a manner being superposed one upon another to thus obtain a color image formed of superposed yellow, magenta, cyan, and black toner images on the recording sheet S.</p>
<p id="p-0367" num="0372">The recording sheet S on which the toner images of the four colors have been transferred is separated from the transfer belt <b>2221</b> in the conveying direction and conveyed to a fixing device <b>2211</b>. The fixing device <b>2211</b> fixes the toner images on the recording sheet S by heating and pressurizing, and melts and mixes the toners of the respective colors to form a full-color print image fixed on the recording sheet S. The recording sheet S is discharged from the image forming apparatus via a discharge conveying section <b>2263</b> provided downstream of the fixing device <b>2211</b>.</p>
<p id="p-0368" num="0373"><figref idref="DRAWINGS">FIGS. 45-48</figref> are views showing the construction of the sheet containing device that can be connected to a variety of image forming apparatuses. The main body of the sheet containing device (stacker) <b>300</b> is provided with two discharge ports in upper and lower parts, and container frames <b>2310</b> and <b>2320</b> to which sheet containing sections (containers) <b>400</b>A and <b>400</b>B are detachably attached are respectively attached to the upper and lower discharge ports. In the illustrated example, the container attached to the upper container frame <b>2310</b> is designated by <b>400</b>A, and the container attached to the lower container frame <b>2320</b> is designated by <b>400</b>B.</p>
<p id="p-0369" num="0374">A sheet discharged from the image forming apparatus is received by inlet rollers <b>2301</b>, and is guided to an upper conveying path <b>2302</b> or to a lower conveying path <b>2303</b> by a path switching solenoid SL <b>2300</b>.</p>
<p id="p-0370" num="0375">In the upper conveying path <b>2302</b>, the sheet is conveyed by conveying rollers <b>2311</b> and <b>2312</b> and discharged into the container <b>400</b>A by discharge rollers <b>2313</b>. In the lower conveying path <b>2303</b>, the sheet is conveyed by conveying rollers <b>2321</b> and discharged into the container <b>400</b>B by discharge rollers <b>2322</b>. The inlet rollers <b>2301</b>, conveying rollers <b>2311</b>, <b>2312</b>, and <b>2321</b>, and discharge rollers <b>2313</b> and <b>2322</b> are driven and controlled by a stacker conveying motor M<b>2300</b> via a drive transmitting section, not shown.</p>
<p id="p-0371" num="0376">A lifting section <b>2316</b> used for storing the sheet discharged into the upper discharge port in the container is comprised of a drive pulley shaft <b>2316</b><i>a</i>, a driven pulley shaft <b>2316</b><i>b</i>, drive belts <b>2316</b><i>c </i>and <b>2316</b><i>d</i>, and an upper lifting motor M<b>2311</b> connected to the drive pulley shaft <b>2316</b><i>a </i>via a drive transmitting section, not shown. The forward and backward rotation of the upper lifting motor M<b>2311</b> moves up and down a lifter <b>2315</b> fixed to both of the drive belts <b>2316</b><i>c </i>and <b>2316</b><i>d</i>. An upper detecting lever <b>2317</b> and an upper stacking surface detecting sensor PI<b>2311</b> are provided as a stacking surface detecting section for detection during the lifting action. The lower discharge port is constructed in the same manner as the upper discharge port, and is driven and controlled by a lower lifting motor M<b>2321</b>, a lower detecting lever <b>2327</b>, and a lower stacking surface detecting sensor PI<b>2321</b>.</p>
<p id="p-0372" num="0377">A stacker upper connector <b>2319</b> and a stacker lower connector <b>2329</b> used for communicating with a container display section and a container memory are provided in the vicinity of the container frames <b>2310</b> and <b>2320</b>. The stacker upper connector <b>2319</b> and the stacker lower connector <b>2329</b> are arranged so that they can be connected to the container <b>400</b> in the state in which the container <b>400</b> is set. Container set sensors PI<b>2312</b> and PI<b>2322</b> and container detecting levers <b>2318</b> and <b>2328</b>, which detect the set state of the container <b>400</b>, are provided on the container frames <b>2310</b> and <b>2320</b>.</p>
<p id="p-0373" num="0378"><figref idref="DRAWINGS">FIG. 49</figref> is a perspective view showing the construction of the container. The container <b>400</b> is comprised of a container box <b>2401</b> and a container tray <b>2402</b>. The container tray <b>2402</b> is capable of being moved up and down relative to the container box <b>2401</b> by the above-mentioned lifter <b>2315</b>. A container display section <b>2403</b>, which displays information on sheets discharged into the container <b>400</b>, and a completion display LED <b>2404</b> and an in-process display LED <b>2405</b>, which display the discharging state, are provided at the front side of the container box <b>2401</b>.</p>
<p id="p-0374" num="0379">A container connector <b>2406</b>, which is to be connected to the above-mentioned stacker connector <b>2319</b>, is provided in the vicinity of the container display section <b>2403</b>, and is arranged so that the container display section <b>2403</b> and a container memory <b>2408</b> can communicate with the main body of the stacker. <figref idref="DRAWINGS">FIG. 50</figref> is a view showing the container display section <b>2403</b>, the completion display LED <b>2404</b> and the in-process display LED <b>2405</b>. The container display section <b>2403</b> is comprised of a job ID display column <b>2403</b><i>a </i>used for identifying a job and a page ID display column <b>2403</b><i>b </i>used for identifying a page in the job, so that the user can recognize information on a bundle of sheets in the container.</p>
<p id="p-0375" num="0380"><figref idref="DRAWINGS">FIGS. 51-54</figref> are views showing the construction of the sheet post-processing apparatus. The sheet post processing apparatus is comprised of the collator <b>500</b> and the finisher <b>600</b> as mentioned above. A plurality of the same containers <b>400</b> as the one attached to the above-mentioned stacker <b>300</b> are detachably attached to the collator <b>500</b>. In the present embodiment, the containers <b>400</b> are capable of being set in eight container frames <b>2510</b>-<b>2580</b>. A collator display section <b>2503</b>, which displays information information relating to a job when a container is connected to the collator <b>500</b>, is provided on a front face of the sheet post-processing apparatus.</p>
<p id="p-0376" num="0381">All of the container frames <b>2510</b>-<b>2580</b> are constructed in the same manner, and therefore a description will now be given only of the container frame <b>2510</b>. A bundle of sheets in the container <b>400</b> set on the container frame <b>2510</b> is moved up and down together with the container tray <b>2402</b> by a collator lifter <b>2515</b>, which is moved up and down and driven by a container moving up/down section <b>2516</b>. The top one of the sheets in the container <b>400</b> is fed by a sheet feed roller <b>2511</b> lying in contact with the surface of the sheet by a first pickup solenoid SL<b>2511</b>. The sheet is then conveyed by conveying rollers <b>2512</b>, <b>2513</b>, and <b>2514</b> in a first row convening path <b>2505</b>. The sheet feed roller <b>2511</b> and the conveying rollers <b>2512</b>, <b>2513</b>, and <b>2514</b> are driven by a first conveying motor M<b>2512</b> via a drive transmitting section, not shown. The sheet conveyed by the conveying rollers <b>2512</b>, <b>2513</b>, and <b>2514</b> in the first row conveying path <b>2505</b> is then conveyed to a finisher section via a common horizontal conveying path <b>2508</b> and a discharge path <b>2507</b> by a common conveying roller group <b>2501</b> and a discharge roller <b>2502</b>, which are driven by a common conveying motor M<b>2500</b> via a drive transmitting section, not shown. Similarly, in a second row conveying path <b>2506</b>, a sheet is conveyed to the finisher section by the discharge roller <b>2502</b>.</p>
<p id="p-0377" num="0382">The container moving up/down section <b>2516</b> for the container frame <b>2510</b> is comprised of a drive pulley shaft <b>2516</b><i>a</i>, a driven pulley shaft <b>2516</b><i>b</i>, drive belts <b>2516</b><i>c </i>and <b>2516</b><i>d</i>, and a first moving up and down motor M<b>2511</b> connected to the drive pulley shaft <b>2516</b><i>a </i>via a drive transmitting section, not shown. The forward and backward rotation of the first moving up and down motor M<b>2511</b> moves up and down a lifter <b>2515</b> fixed to both of the drive belts <b>2516</b><i>c </i>and <b>2516</b><i>d</i>. An upper detecting lever <b>2517</b> and an upper stacking surface detecting sensor PI<b>2511</b> are provided as a stacking surface detecting section for detection during the lifting action.</p>
<p id="p-0378" num="0383">A collator first connector <b>2519</b> is provided in the vicinity of the container frame <b>2510</b>, for communicating with the container display section <b>2403</b> and the container memory <b>2408</b>. The collator first connector <b>2519</b> is adapted to be connected to the container connector <b>2406</b> in the state in which the container <b>400</b> is set. A container set sensors PI<b>2512</b> and a container detecting lever <b>2518</b>, which detect the set state of the container, are provided on the container frame <b>2510</b>.</p>
<p id="p-0379" num="0384"><figref idref="DRAWINGS">FIG. 55</figref> is a view showing the contents of display on the collator display section <b>2503</b>. The collator display section <b>2503</b> displays information relating to three jobs and the progress of output from image forming apparatuses among information relating to the latest settings. Job information (Job. I.D) <b>2503</b><i>e </i>identifying a job, a number-of-page information (Page Counter) <b>2503</b><i>f </i>representing the number of pages obtained by division of a job, and page information (Page Information) <b>2503</b><i>g </i>indicating the page IDs of pages set among pages obtained by division of a job, i.e. the page IDs of pages having been printed are displayed in job columns <b>2503</b><i>a</i>-<b>2503</b><i>c </i>for displaying respective job information. As the information on the progress of output from the image forming apparatuses, output information relating to output from the image forming apparatuses to which a job has been distributed is displayed in a message area <b>2503</b><i>d</i>. For example, information indicative of the output status in which all of sheets required for completion of a job have not yet been outputted is displayed.</p>
<p id="p-0380" num="0385">In the example shown in <figref idref="DRAWINGS">FIG. 55</figref>, a message “No. 02B/W 1st Complete, Take Off Please” and a message “No. 01-Color 2nd Complete. Take Off Please” are displayed. As is clear from the job columns <b>2503</b><i>b </i>and <b>2503</b><i>c</i>, the number of pages set is smaller than the number indicated in the number of pages <b>2503</b><i>f</i>, and all of sheets required for completion of a job have not been outputted. In the job columns <b>2503</b><i>b </i>and <b>2503</b><i>c </i>in <figref idref="DRAWINGS">FIG. 55</figref>, boxes corresponding to sheets having not been outputted are blank, but sheets having not been printed may be indicated by specific marks such as “-” or “*”.</p>
<p id="p-0381" num="0386">A description will now be given of the finisher <b>600</b> with reference to <figref idref="DRAWINGS">FIGS. 51 and 52</figref>. A sheet conveyed from the collator <b>500</b> is guided into the finisher <b>600</b> by inlet rollers <b>2601</b>, and is conveyed to an upper conveying path <b>2609</b> or to a lower conveying path <b>2610</b> by the switching action of a flapper, not shown. If the sheet is conveyed in the upper conveying path <b>2609</b>, the sheet is discharged onto a first stacking tray <b>2611</b> via conveying rollers <b>2602</b> by upper discharge rollers <b>2603</b>. On the other hand, if the sheet is conveyed in the lower conveying path <b>2610</b>, the sheet is temporarily discharged and stacked onto a processing tray <b>2608</b> via conveying rollers <b>2604</b> by lower discharge rollers <b>2605</b>. A bundle of sheets stacked on the processing tray <b>2608</b> is stapled by a stapler <b>2607</b>, and is then discharged onto and stacked in a second stacking tray <b>2612</b> by a bundle discharge roller <b>2606</b>.</p>
<p id="p-0382" num="0387"><figref idref="DRAWINGS">FIG. 56</figref> is a block diagram showing the construction of a controller for the collator <b>500</b>. This controller is comprised mainly of a control circuit <b>700</b> that includes a microcomputer (CPU) <b>2701</b>, RAM <b>2702</b>, ROM <b>2703</b>, input/output section (I/O) <b>2705</b>, communication interface <b>2706</b>, network interface <b>2704</b>, and so forth. Signals from a variety of sensors are inputted to the input port of the I/O <b>2705</b>. Examples of the sensors are the upper stacking surface detecting sensor PI<b>2511</b> that detects the surface of sheets stacked, the container set sensor PI<b>2512</b> that detects a container <b>2400</b><i>a </i>being set on the container frame <b>2510</b>.</p>
<p id="p-0383" num="0388">A variety of loads are connected to the output port of the I/O <b>2705</b> via a control block, not shown, and a variety of drivers, not shown. Main examples of drive systems include the first conveying motor (sheet feed motor) M<b>2512</b> that feeds a sheet from the container into the collator <b>500</b> and conveys the sheet through the first row conveying path <b>2505</b>, the common conveying motor M<b>2500</b> that feeds a sheet via the common horizontal conveying path <b>2508</b> and the discharge path <b>2507</b>, the first lifting motor M<b>2511</b> that lifts sheets in the container, and the pickup solenoid SL<b>2511</b> that brings a sheet feed roller, which is used to feed the top sheet in the container, into contact with the sheet surface.</p>
<p id="p-0384" num="0389">The container memory (EEPROM) <b>2408</b> of the container <b>2400</b><i>a </i>is connected to the communication interface <b>2706</b>, and upon the attachment of the container <b>2400</b><i>a </i>to the container frame <b>2510</b>, the contents of the container memory <b>2408</b> are captured into the RAM <b>2702</b> via the communication interface <b>2706</b>. The other container frames and containers are constructed in the same manner, and therefore a description thereof is omitted.</p>
<p id="p-0385" num="0390">In a job E, a booklet is produced by printing image data comprised of three-page color images and three-page black-and-white images on one sides of sheets. <figref idref="DRAWINGS">FIG. 57</figref> is a view showing image data comprised of three-page color images and three-page black-and-white images on one sides of sheets in the job E. <figref idref="DRAWINGS">FIG. 59</figref> is a view showing how a booklet is produced according to the job E by the collator. In response to a request for the job E from the client (PC), the job server <b>10</b> analyzes image data of the job E and distributes the job E such that the black-and-white image forming apparatus <b>100</b> prints black-and-white image pages (P<b>2</b>, P<b>4</b>, and P<b>5</b>) and the color image forming apparatus <b>200</b> prints the color image pages (P<b>1</b>, P<b>3</b>, P<b>6</b>). m bundles of sheets B<b>1</b> and C<b>1</b> are stacked in the containers. <figref idref="DRAWINGS">FIG. 61A</figref> is a view showing the state in which bundles of sheets from the black-and-white image forming apparatus are stacked, and <figref idref="DRAWINGS">FIG. 61B</figref> is a view showing the state in which bundles of sheets from the color image forming apparatus are stacked.</p>
<p id="p-0386" num="0391">M bundles of sheets B<b>1</b> and C<b>1</b> thus outputted (refer to <figref idref="DRAWINGS">FIG. 59</figref>) are stacked in ascending page order from the bottom with surfaces thereof on which images are formed facing upward. <figref idref="DRAWINGS">FIG. 58A</figref> is a view showing the state in which the sheets are stacked in the container attached to the black-and-white image forming apparatus, and <figref idref="DRAWINGS">FIG. 58B</figref> is a view showing the state in which the sheets are stacked in the container attached to the color image forming apparatus. Thereafter, the user sets the container <b>400</b> in which the sheets are stacked in the container frame of the collator <b>500</b>. If determining that all of the containers have been set, the collator <b>500</b> starts collation. Whether all of the containers have been set or not is determined in a manner described latter. The collator <b>500</b> properly controls feeding of sheets from the respective containers according to information supplied from the job server <b>10</b> to complete a booklet G (refer to <figref idref="DRAWINGS">FIG. 59</figref>). The completed booklet G is a booklet in which color images and black-and-white images are mixed and arranged in page order. <figref idref="DRAWINGS">FIG. 60</figref> is a view showing m copies of booklets G printed in the job E.</p>
<p id="p-0387" num="0392"><figref idref="DRAWINGS">FIG. 62</figref> is a flow chart showing the procedure of a print output process performed on a job by the job server <b>10</b>. A program shown in the flow chart of <figref idref="DRAWINGS">FIG. 62</figref> is stored in the job server <b>10</b> for execution by the job server <b>10</b>. In this process, apparatuses used for printing are changed according to the characteristics of images to be printed. First, it is determined whether the job server <b>10</b> has started the print output process or not (step S<b>1</b>). If it is determined that the print output process has not yet been started, the step S<b>1</b> is repeated. If it is determined that the print output process has been started, the page information is initialized to a value 1 (step S<b>2</b>).</p>
<p id="p-0388" num="0393">It is then determined whether an image of the present page is a monochrome image or a color image (step S<b>3</b>). If it is determined that an image of the present page is a color image, data is transferred to a color printer to output the color image (step S<b>5</b>). On the other hand, if it is determined that an image of the present page is a monochrome image, data is transferred to a black-and-white printer to output the monochrome image (step S<b>4</b>). In the following description, “monochrome” will be referred to as “BW” for the convenience's sake. After the output of the present page, it is determined whether all of pages up to the last page have been outputted or not (step S<b>6</b>).</p>
<p id="p-0389" num="0394">If all of pages up to the last page have not been outputted, the page information is incremented by 1 (step S<b>7</b>), and the process returns to the step S<b>3</b>. On the other hand, if it is determined that all of pages up to the last page have been outputted, the process returns to the step S<b>1</b> to check whether the next print out process has been started or not.</p>
<p id="p-0390" num="0395">Repeating the above described procedure enables the image forming apparatuses to be shared according to the type of images (color or monochrome). Specifically, one print job is distributed to the black-and-white printers and the color printers such that the black-and-white printers print black-and-white image pages and the color printers print color image pages. As a result, the pages outputted from the respective image forming apparatuses are stored on stackers attached thereto.</p>
<p id="p-0391" num="0396"><figref idref="DRAWINGS">FIG. 63</figref> is a flow chart showing the procedure of a stacker storage processing. A program shown in the flow chart of <figref idref="DRAWINGS">FIG. 63</figref> is stored in ROMs of a variety of printers. The stacker storing process is related to the stackers attached to the BW printers or the color printers as the image forming apparatuses connected to the job server <b>10</b>, and is performed to sequentially store and stack sheets discharged from each printer. The stackers attached to the BW printers and the color printers perform processing in the same manner, and thus, they will be now described collectively.</p>
<p id="p-0392" num="0397">First, it is determined whether the printer has started outputting or not (step S<b>10</b>). The step S<b>10</b> is repeated until the printer starts outputting, and after the printer starts outputting, sheets conveyed or discharged from the printer are monitored (step S<b>11</b>). Every time the discharge of one sheet is completed, a memory writing process is carried out (step S<b>12</b>). In the memory writing process, information on the sheets stored in the stacker <b>300</b> is recorded. In the present embodiment, the information is written into the container memory (EEPROM) <b>2408</b> provided in the container <b>400</b> that contains the sheets. A detailed description of the memory writing process will be given later.</p>
<p id="p-0393" num="0398">After the memory writing process in the step S<b>12</b>, it is determined whether all of the pages have been printed out or not (step S<b>13</b>). If it is determined that all of the pages have not been printed out, the process returns to the step S<b>11</b>. On the other hand, if it is determined in the step S<b>13</b> that all of the pages have been printed out, a value 1 is added to a management variable job_in_no (step S<b>14</b>). The variable job_in_no represents the number of jobs for which printed sheets have been completely discharged to the stacker, and for example, if three different jobs from the job server <b>10</b> have been completed, the variable job_in_no will be 3. The usage of the variable will be described later. After the step S<b>14</b>, a timer is set to start measuring elapsed time (step S<b>15</b>) and elapsed time is measured (step S<b>16</b>). The process then returns to the step S<b>10</b>. It should be noted that the addition of the value 1 to the variable job_in_no and the measurement of elapsed time are carried out only in the stacker attached to any one of printers for one job.</p>
<p id="p-0394" num="0399"><figref idref="DRAWINGS">FIG. 64</figref> is a flow chart showing the procedure of the memory writing process in the step S<b>12</b> in <figref idref="DRAWINGS">FIG. 63</figref>. In the memory writing process, a variety of data is written into the container memory (EEPROM) <b>2408</b> of the container <b>400</b> as described above to update variables corresponding to the written data (step S<b>20</b>). A brief description will now be given of the variables corresponding to the variety of data.</p>
<p id="p-0395" num="0400">box_jobid: the job number of the stored sheets (job ID)</p>
<p id="p-0396" num="0401">box_jobid no: the container number of a job to which the stored sheets belong</p>
<p id="p-0397" num="0402">box_jobid_vol: the total number of containers for a job to which the stored sheets belong box_jobid_info: various information relating to the stored sheets (e.g. information such as pages and the number of copies)</p>
<p id="p-0398" num="0403"><figref idref="DRAWINGS">FIG. 65</figref> is a flow chart showing the procedure of the time measuring process in the step S<b>16</b> in <figref idref="DRAWINGS">FIG. 63</figref>. The time measuring process is carried out after it is determined that a job has been outputted and the timer is set. First, the lapse of time elapsed after the setting of the timer is monitored (step S<b>70</b>), and upon the lapse of a predetermined period of time, the job server <b>10</b> causes the collator <b>500</b> to display a warning (step S<b>71</b>). As a result, the message to the effect that the output of the job has been completed is displayed in the message area <b>2503</b><i>d </i>of the collator display section <b>2503</b> as described above (refer to <figref idref="DRAWINGS">FIG. 55</figref>). The process then returns to the main process. The above-mentioned predetermined period of time may be determined arbitrarily by the client operating the PCs <b>20</b>-<b>50</b> so that the warning can be displayed at any time desired by the client.</p>
<p id="p-0399" num="0404"><figref idref="DRAWINGS">FIG. 66</figref> is a flow chart showing the procedure of a collator control process. A program shown in the flow chart of <figref idref="DRAWINGS">FIG. 66</figref> is stored in the ROM <b>2703</b> of the collator <b>500</b>, and is executed by the CPU <b>2701</b> of the collator <b>500</b>. First, a container monitoring process in which the status of the plurality of containers <b>400</b> that can be attached to the collator <b>500</b> is monitored (step S<b>31</b>). A detailed description of the container monitoring process of the step S<b>31</b> will be given later.</p>
<p id="p-0400" num="0405">Two variables job_in_no and job_out_no are then compared with each other (step S<b>32</b>). As mentioned above, the variable job_in_no represents the number of jobs for which printed sheets have been completely discharged to the stacker. On the other hand, the variable job_out_no represents the number of jobs for which the collation has been completed. Specifically, if these two variables are equal, it means that the collator has completed the collation for all of jobs processed by the stacker. In other words, if the number of jobs for which printed sheets have been discharged to the stacker (the variable job_in_no) is larger than the number of jobs for which the collation has been completed (the variable job_out_no), it means that there are any jobs for which printed sheets have been discharged to the stacker but the collation has not been completed.</p>
<p id="p-0401" num="0406">If it is determined in the step S<b>32</b> that the two variables are equal, it means that there is no job to be processed, and thus, the process returns to the step S<b>31</b>. On the other hand, if it is determined in the step S<b>32</b> that the two variables are not equal, i.e. if there is any job for which printed sheets have to be collated, a value 1 is added to the variable job_out_no representing the number of jobs for which the collation has been completed, and the resulting value is substituted for a variable job_ck_no used for determining the next job subjected to checking (step S<b>33</b>).</p>
<p id="p-0402" num="0407">A collate start Ns as a variable for which the job number of a job for which the collating operation is to be started is substituted and a collate start flag indicating the start of the collating operation are then cleared to a value 0 (step S<b>34</b>). It is then determined whether the collating operation can be started for the job represented by the variable job_ck_no or not, i.e. whether all of containers for the job subjected to the collating operation have been set or not (step S<b>35</b>). This container determination process will be described later in further detail.</p>
<p id="p-0403" num="0408">After the container determination process, it is determined whether the collate start flag has been ser or not (step S<b>36</b>). If the collate start flag has not been set, it is impossible to start the collating operation for the job, and thus, the process proceeds to a step S<b>40</b>. On the other hand, if it is determined in the step S<b>36</b> that the collate start flag has been set, i.e. if it is determined that it is possible to start the collating operation as a result of the container determination process, the collating operation is started for the job (step S<b>37</b>).</p>
<p id="p-0404" num="0409">In the collating operation, sheets are fed and conveyed in predetermined order according to information about the contents of the respective containers (the above described variable box_jobid_info). The collating operation completes a bundle of sheets comprised of monochrome sheets and color sheets. The above described processing and control are known, and therefore a detailed description thereof is omitted.</p>
<p id="p-0405" num="0410">After the completion of the collating operation, the collate start Ns and the collate start flag indicating the start of the collating operation are cleared to a value 0 (step S<b>38</b>). A value 1 is added to the variable job_out_no representing the number of jobs for which the collation has been completed (step S<b>39</b>).</p>
<p id="p-0406" num="0411">Next, the variable job_in_no and the variable job_ck_no are compared with each other (step S<b>40</b>). This is intended to determine whether it is possible to perform the collating operation for all of the jobs for which printed sheets have been discharged to the stackers, i.e. until the collating operation for all of the jobs is completed. If the variable job_in_no and the variable job_ck_no are not equal, a value 1 is added to the variable job_ck_no (step S<b>41</b>), and the process returns to the step S<b>35</b> to repeat the processing from the step S<b>35</b> to S<b>41</b>. If it is determined in the step S<b>40</b> that the variable job_in_no and the variable job_ck_no are equal, the process returns to the step S<b>31</b> to carry out the present process from the beginning.</p>
<p id="p-0407" num="0412"><figref idref="DRAWINGS">FIG. 67</figref> is a flow chart showing the container monitoring process. First, an initialization process in which a value 1 is substituted for a variable ContN representing the container number is executed (step S<b>43</b>). It is then ascertained whether there is a change in the connection state of the container with respect to the collator <b>500</b>, which is represented by the variable ContN (step S<b>44</b>). If it is ascertained in the step S<b>44</b> that there is no change in the connection state of the container, the process proceeds to a step S<b>48</b>.</p>
<p id="p-0408" num="0413">On the other hand, if it is ascertained in the step S<b>44</b> that there is a change in the connection state of the container, it is then determined whether a container has been connected to or disconnected from the collator <b>500</b> (step S<b>45</b>). If a container has been connected to the collator <b>500</b>, data stored in the container memory <b>2408</b> in the container <b>400</b> is transferred to a control memory (e.g. the RAM <b>2702</b>) used for control of the collator <b>500</b> (step S<b>46</b>). This enables the collator <b>500</b> to check the information relating to the container and to control the feeding of sheets from the container according to the information. Specifically, the data to be transferred is as follows.</p>
<p id="p-0409" num="0414">mem_jobid [ContN]: the job number (job ID) of sheets stored in the ContNth container</p>
<p id="p-0410" num="0415">mem_jobid_no [ContN]: the container number of a job to which sheets stored in the ContNth container belongs</p>
<p id="p-0411" num="0416">mem_jobid_vol [ContN]: the total number of containers for a job to which sheets stored in the ContNth container belongs</p>
<p id="p-0412" num="0417">mem_jobid_info [ContN]: various information relating to sheets stored in the ContNth container belongs (e.g. information on pages and the number of copies)</p>
<p id="p-0413" num="0418">On the other hand, if it is determined in the step S<b>45</b> that the container <b>400</b> has been disconnected from the collator <b>500</b>, the contents of the control memory are cleared (step S<b>47</b>).</p>
<p id="p-0414" num="0419">After the steps S<b>46</b> and S<b>47</b>, it is determined whether the determination as to all of the containers has been completed or not (step S<b>48</b>). If it is determined that the determination as to all of the containers has not been completed, a value 1 is added to the container number ContN (step S<b>49</b>), and the process returns to the step S<b>44</b>. On the other hand, if it is determined in the step S<b>48</b> that the determination as to all of the containers has been completed, the process returns to the main process. The above described process enables the status of the container on the collator <b>500</b> and information on sheets stored in the container to be all identified.</p>
<p id="p-0415" num="0420"><figref idref="DRAWINGS">FIG. 68</figref> is a flow chart showing the container determination process in the step S<b>35</b> in <figref idref="DRAWINGS">FIG. 66</figref>. First, a container number Nc is initialized to 1 (step S<b>50</b>). It is then determined whether the container indicated by the container number Nc is connected to the collator <b>500</b> or not (step S<b>51</b>). If it is determined in the step S<b>51</b> that the container indicated by the container number Nc is connected to the collator <b>500</b>, it is then determined whether there are any sheets in the container or not (step S<b>52</b>). If it is determined in the step S<b>52</b> that there are any sheets in the container, the job ID of the container is set to a variable job_tgt_no (step S<b>53</b>). Thereafter, a determination is made as to whether all of the containers containing sheets and with the variable job_tgt_no to which the above job ID has been set have been connected to the collator <b>500</b> or not. Hereinafter, such containers will be referred to as the containers being ready.</p>
<p id="p-0416" num="0421">First, a counter vol_count representing the number of containers is cleared to a value 0 (step S<b>54</b>), and a container check number Ncc is initialized to 1 (step S<b>55</b>). It is then determined whether there is the Ncc-th container or not (step S<b>56</b>). If it is determined in the step S<b>56</b> that there is the Ncc-th container, it is determined whether there are any sheets in the Ncc-th container (step S<b>57</b>). If it is determined in the step S<b>56</b> that there is not the Ncc-th container, or if it is determined in the step S<b>57</b> that there is no sheet in the Ncc-th container, the process proceeds to a step S<b>61</b>. On the other hand, if it is determined in the step S<b>57</b> that there are any sheets in the Ncc-th container, it is then determined whether the Ncc-th container is the container with the variable job_tgt_no to which the above job ID has been set or not (step S<b>58</b>).</p>
<p id="p-0417" num="0422">If it is determined in the step S<b>58</b> that the Ncc-th container is not the container with the variable job_tgt_no to which the above job ID has been set, the process proceeds to the step S<b>61</b>, and on the other hand, if it is determined in the step S<b>58</b> that the Ncc-th container is the container with the variable job_tgt_no to which the above job ID has been set, a value 1 is added to the container counter vol_count (step S<b>59</b>).</p>
<p id="p-0418" num="0423">It is then determined whether the container counter vol_count is equal to a variable mem_job_vol [Ncc] representing the total number of the variable job_tgt_no set as above (step S<b>60</b>). If it is determined in the steps S<b>60</b> that the container counter vol_count is not equal to the variable mem_job_vol [Ncc], it is then determined that all of the containers for the job have not yet been ready and the above described determination is repeated for all of the containers. Specifically, it is determined whether the determination has been made for all of the containers, i.e. it is determined whether the container number Ncc has reached the total number containers Nc_all or not (step S<b>61</b>). If the determination result is negative, a value 1 is added to the container number Ncc and the process returns to the step S<b>56</b> to repeat the above processing.</p>
<p id="p-0419" num="0424">On the other hand, if it is determined in the step S<b>60</b> that the two variables are equal, it is then determined that all of the containers have become ready. Accordingly, the job number job_tgt_no of the job subjected to checking is set as the collate start Ns representing the job number of the job subjected to the collating operation (step S<b>65</b>), and the collate start flag indicating the start of the collating operation is set (step S<b>66</b>). The present process is then terminated.</p>
<p id="p-0420" num="0425">On the other hand, if it is determined in the step S<b>61</b> that the determination has been completed for all of the containers, it is then determined that all of the containers with the job ID represented by the variable job_tgt_no have been not yet ready, and accordingly the process proceeds to a step S<b>63</b>. Likewise, if it is determined in the step S<b>51</b> that the container indicated by the container number Nc is not connected to the collator <b>500</b>, or if it is determined in the steps S<b>52</b> that there is no sheets in the container indicated by the container number Nc, the process proceeds to the step S<b>63</b>. It is then determined whether the container number Nc has reached the total number of containers Nc_all or not (step S<b>63</b>). If it is then determined in the step S<b>63</b> that the container number Nc has reached the total number of containers Nc_all, the present process is terminated. If it is then determined in the step S<b>63</b> that the container number Nc has not reached the total number of containers Nc_all, a value 1 is added to the container number Nc and the process returns to the step S<b>51</b>.</p>
<p id="p-0421" num="0426">In this way, it can be easily determined whether all of containers corresponding to the job ID have become ready or not. Further, in the case where all of containers corresponding to the preceding job have not been set, it is possible to make a determination as to whether all of containers corresponding to the next job have become ready or not. Thus, depending on the way of setting the containers in the collator <b>500</b>, the order of jobs to be processed may be changed (for example, the preceding job is passed).</p>
<p id="p-0422" num="0427">As described above, according to the third embodiment of the present invention, by monitoring the status of connection of the container <b>400</b> to the collator <b>500</b> and the presence of sheets in the container <b>400</b> and automatically starting the post-processing upon determination that the collating operation can be performed, it is possible to prevent the container <b>400</b> containing a bundle of sheets discharged from the image forming apparatus, from being left as it is without being set in the collator <b>500</b> as in the prior art and therefore eliminate the possibility of a delay in job progress in an off-line section (a section other than the image forming apparatuses of the present system). Further, also when producing a plurality of copies of booklets, the same results as above can be obtained by automatically starting the post-processing in the above described manner. Further, since the progress of output from the image forming apparatuses is indicated on the collator display section <b>250</b> of the collator <b>500</b>, it is possible to reduce a delay time in an off-line section due to the progress of output being unknown, thus improving the efficiency. Further, it is possible to prevent a delay in job progress caused by the detention of jobs in an off-line section. Further, by making it possible to change, as desired, a period of time before the client is notified of the completion of a job, it is possible to adapt the progress of processing to the working pace of the client. Further, by providing the post-processing apparatus (collator <b>500</b>), in which a plurality of containers <b>400</b> are set, with the collator display section <b>2503</b>, it is possible to enable the user to easily recognize the progress of output and the like. Further, by operating the color image forming apparatus and the black-and-white image forming apparatus in parallel, it is possible to achieve a satisfactory overall processing speed including the speed of formation of color images for booklet image information.</p>
<p id="p-0423" num="0428">A description will now be given of a distributed processing book-binding system according to a fourth embodiment of the present invention. A description of the arrangement and operation identical with those of the third embodiment is omitted, and a description will now be given only of the arrangement and operation different from those of the third embodiment.</p>
<p id="p-0424" num="0429"><figref idref="DRAWINGS">FIG. 69</figref> is a block diagram showing the entire arrangement of the distributed processing book-binding system according to the fourth embodiment. The fourth embodiment is different from the third embodiment in that a post-processing apparatus <b>150</b> is not provided with the output recognizing section and the notifying section, and thus the user is not notified that the image forming apparatus has discharged a bundle of sheets to the container. This simplifies the construction of the system. The other arrangement and operation of the fourth embodiment are identical with those of the third embodiment.</p>
<p id="p-0425" num="0430">Specifically, a job server <b>10</b> has a function of performing a distributed processing in which, in response to a job request from a client, divides a job to cause 1 to X (X is a given integer) black-and-white image forming apparatuses <b>100</b> and 1 to X (X is a given integer) color image forming apparatuses <b>200</b>, which are connected to a network such as LANs, to print out black-and-white output sheets and color output sheets, respectively, for example, in the case where images on originals composed of black-and-white output sheets and color output sheets are printed out. A post-processing apparatus <b>150</b> having a collating function performs processing on bundles of sheets outputted as a result of the above distributed processing (division of the job) to bind the bundles of sheets.</p>
<p id="p-0426" num="0431">The job server <b>10</b> transmits sheet information <b>78</b>, which is comprised of job information JOB-ID used for recognizing which job each of the outputted bundles of sheets belongs to and page information PAGE-ID used for recognizing each of the outputted bundles of sheets, as information on bundles of sheets outputted by the distributed processing to the image forming apparatuses <b>100</b> and <b>200</b>.</p>
<p id="p-0427" num="0432">Further, the job server <b>10</b> transmits job information <b>76</b>, which is comprised of the job information JOB-ID transmitted to the image forming apparatuses <b>100</b> and <b>200</b>, all of the page information PAGE-ID distributed to the image forming apparatuses <b>100</b> and <b>200</b> when a job (JOB) is divided, and detailed information of the page information PAGE-ID such as page numbers of bundles of sheets, the order of pages stacked, and the number of copies, to a job controller <b>75</b> that controls jobs in the post-processing apparatus <b>150</b>, so as to enable a book-binding process using the sheet information <b>78</b> transmitted to the the image forming apparatuses <b>100</b> and <b>200</b>.</p>
<p id="p-0428" num="0433">Incidentally, although in the present embodiment, the job information <b>76</b> is transmitted to the post-processing apparatus <b>150</b> via a network such as a LAN, the sheet information <b>78</b> may be transferred by converting the job information into barcode information and printing the barcode information on sheets so that the operator can read the barcodes using a barcode reader connected to the post-processing apparatus <b>150</b>.</p>
<p id="p-0429" num="0434">A sheet information transmitting section <b>400</b> transfers the sheet information <b>78</b> from the image forming apparatuses <b>100</b> and <b>200</b> to the job controller <b>75</b> in the post-processing apparatus <b>150</b>. In the present embodiment, the sheet information transmitting section (container) <b>400</b> is connected to the image forming apparatuses <b>100</b> and <b>200</b> and is also used as a container attached to a stacker on which sheets are stacked and as an output sheet supply container for the post-processing apparatus <b>150</b>. Further, in the state in which the container is attached to the image forming apparatuses <b>100</b> and <b>200</b>, the sheet information <b>78</b> is stored in a storage medium provided in the container upon the start of output, and the sheet information <b>78</b> is read out from the storage medium when the operator attaches the container to the post-processing apparatus <b>150</b> so that the sheet information <b>78</b> can be transferred to the job controller <b>75</b>. In this way, the job information <b>76</b> and the sheet information <b>78</b> are transmitted to the job controller <b>75</b> in the post-processing apparatus <b>150</b>.</p>
<p id="p-0430" num="0435">It should be noted that the sheet information <b>78</b> may be transferred by printing barcodes representing the sheet information on bundles of sheets separately outputted from the image forming apparatuses <b>100</b> and <b>200</b> so that the operator can read the barcodes using a barcode reader when setting the bundles of sheets in the post-processing apparatus <b>150</b>.</p>
<p id="p-0431" num="0436">The job controller <b>75</b> causes a job determining section <b>79</b> to check all of the registered job information <b>76</b> and sheet information <b>78</b> every time the container (sheet information transmitting section <b>400</b>) is attached to the post-processing apparatus <b>150</b>, and if determining that post-processing can be started with a job with all of the page information PAGE-ID having been collected, the job controller <b>75</b> automatically starts post-processing.</p>
<p id="p-0432" num="0437">In the distributed processing book-binding system constructed as described above, only by the user conveying bundles of sheets outputted from the image forming apparatuses <b>100</b> and <b>200</b> to the post-processing apparatus <b>150</b> without making job settings for post-processing, post processing is automatically started with a job ready for post-processing. This realizes efficient book-binding.</p>
<p id="p-0433" num="0438"><figref idref="DRAWINGS">FIG. 70</figref> is a view showing the contents of display on a collator display section <b>2503</b>. As is different from the third embodiment, the collator display section <b>2503</b> is not provided with the message area <b>2503</b><i>d</i>. Specifically, the collator display section <b>2503</b> displays information relating to three jobs and the progress of output from the image forming apparatuses among information relating to the latest settings. Job information (Job. I.D) <b>2503</b><i>e </i>identifying a job, a number-of-page information (Page Counter) <b>2503</b><i>f </i>representing the number of pages obtained by division of a job, and page information (Page Information) <b>2503</b><i>g </i>representing Page ID having been set in the divided job are displayed in job columns <b>2503</b><i>a </i>to <b>2503</b><i>c </i>used for displaying the job information.</p>
<p id="p-0434" num="0439"><figref idref="DRAWINGS">FIG. 71</figref> is a flow chart showing the procedure of a stacker storage process. As is the case with the third embodiment, the stacker storing process is related to the stackers attached to the BW printers or the color printers as the image forming apparatuses connected to the job server <b>10</b>, and is performed to sequentially store and stack sheets discharged from each printer. As is different from the third embodiment, the measurement of time elapsed after the completion of printing is not carried out. Note that the same steps as those of the third embodiment are designated by the same step numbers.</p>
<p id="p-0435" num="0440">First, it is determined whether the printer has started outputting or not (step S<b>10</b>). The step S<b>10</b> is repeated until the printer starts outputting, and after the printer starts outputting, sheets conveyed or discharged from the printer are monitored (step S<b>11</b>). Every time the discharge of one sheet is completed, a memory writing process is carried out (step S<b>12</b>). In the memory writing process, information on the sheets stored in the stacker <b>300</b> is recorded. In the present embodiment, the information is written into a container memory (EEPROM) <b>2408</b> provided in the container <b>400</b> that contains the sheets.</p>
<p id="p-0436" num="0441">After the memory writing process in the step S<b>12</b>, it is determined whether all of the pages have been printed out or not (step S<b>13</b>). If it is determined that all of the pages have not been printed out, the process returns to the step S<b>11</b>. On the other hand, if it is determined in the step S<b>13</b> that all of the pages have been printed out, a value 1 is added to a management variable Job_in_no (step S<b>14</b>). Then, the process returns to the step <b>10</b>. The variable Job_in_no represents the number of jobs for which printed sheets have been completely discharged by to the stacker, and for example, if three different jobs from the job server <b>10</b> have been completed, the variable job_in_no will be 3. It should be noted that the addition of the value 1 to the variable job_in_no is carried out only in the stacker attached to any one of printers for one job.</p>
<p id="p-0437" num="0442">As described above, according to the fourth embodiment of the present invention, since the post-processing apparatus <b>150</b> is not provided with the output recognizing section or the notifying section, the construction of the system can be simplified. Further, by monitoring the status of connection of the container <b>400</b> to the collator <b>500</b> and the presence of sheets in the container <b>400</b> and automatically starting the post-processing upon determination that the collating operation can be performed, it is possible to prevent the container <b>400</b> containing a bundle of sheets discharged from the image forming apparatus, from being left as it is without being set in the collator <b>500</b> as in the prior art and therefore eliminate the possibility of a delay in job progress in an off-line section (a section other than the image forming apparatuses of the present system). Further, also when producing a plurality of copies of booklets, the same results as above can be obtained by automatically starting the post-processing in the above described manner. Furthermore, by operating the color image forming apparatus and the black-and-white image forming apparatus in parallel, it is possible to achieve a satisfactory overall processing speed including the speed of formation of color images for booklet image information.</p>
<p id="p-0438" num="0443">It is to be understood that there is no intention to limit the invention to the above described embodiments, but certain changes and modifications may be possible within the scope of the appended claims insofar as functions recited in the appended claims or the functions of the above described embodiments can be achieved.</p>
<p id="p-0439" num="0444">Although in the above described first and second embodiments, the image forming system is constructed as shown in <figref idref="DRAWINGS">FIGS. 1 and 24</figref>, the present invention is not limited to this, but the number of image forming apparatuses and computers and the arrangement of a network may be arbitrarily determined.</p>
<p id="p-0440" num="0445">Further, although in the above described first and second embodiments, the compound machine (MFP) having a plurality of functions such as the image reading function, image forming function, facsimile function, and so forth is applied as the image forming apparatus, the present invention is not limited to this, but the present invention may either be applied to a copying machine having an image reading function and an image forming function or to a printer having only an image forming function.</p>
<p id="p-0441" num="0446">Although in the above described first to fourth embodiments, the electrophotographic method is adopted as the image forming method executed by the image forming apparatuses, there is no intention to limit the invention to this. For example, the present invention may be applied to a variety of image forming methods such as ink-jet printing method, thermal transfer method, thermal printing method, and electrostatic printing method.</p>
<p id="p-0442" num="0447">Although in the above described third and fourth embodiments, sharing of a job (distributed processing) is performed for each of two types of images, i.e. black-and-white images and color images, there is no intention to limit the invention to this. For example, the job sharing may be performed for each of text documents, photographs, and figueres, or for each of low resolution images and high resolution images.</p>
<p id="p-0443" num="0448">Further, although in the above described third and fourth embodiments, the determination as to whether a job subjected to distributed processing can be post-processed is carried out on the post-processing apparatus <b>150</b> side. Alternatively, it may be arranged such that information required for the determination is transmitted to the job server <b>10</b> to cause the same to make the determination, and the determination result is notified to the post-processing apparatus <b>150</b>, which then carries out the post processing. In this case, the job server may execute a program comprising a sheet information acquiring module for acquiring sheet information relating to sheets outputted from a plurality of image forming apparatuses, a job execution deciding module for determining whether there are sheets required for executing the job, and a notifying module for notifying the post-processing apparatus <b>150</b> of the result of the determination so as for the post-processing apparatus <b>150</b> to execute post processing of the sheets as the job in the container(s) when there are sheets required for executing the job.</p>
<p id="p-0444" num="0449">Furthermore, although in the above described third and fourth embodiments, the output recognizing section that recognizes the status of outputs from the plurality of image forming apparatuses and the notifying section that notifies output completion information indicative of completion of output of sheets from at least one of the image forming apparatuses are provided in the post-processing apparatus <b>150</b>, they may be provided in the job server <b>10</b> or in the PCs <b>20</b> to <b>50</b> as clients so that the information can be notified so as for users to confirm the information with ease.</p>
<p id="p-0445" num="0450">The present invention may either be applied to a system composed of a plurality of apparatuses or to a single apparatus.</p>
<p id="p-0446" num="0451">It is to be understood that the object of the present invention may also be accomplished by supplying a system or an apparatus with a storage medium (or a recording medium) storing a program code of software which realizes the functions of any of the above described embodiments, and causing a computer (or CPU or MPU) of the system or apparatus to execute the supplied program code.</p>
<p id="p-0447" num="0452">In this case, the program code itself read from the storage medium or the like realizes the novel functions of the present invention, and hence the program code and the storage medium or the like on which the program code is stored constitute the present invention.</p>
<p id="p-0448" num="0453">Examples of the storage medium or the like for supplying the program code include a floppy (registered trademark) disk, a hard disk, an optical disk, a magnetic-optical disk, a CD-ROM, a CD-R, a CD-RW, DVD-ROM, a DVD-RAM, a DVD-RW, a DVD+RW, a magnetic tape, a nonvolatile memory card, a ROM, or download via a network.</p>
<p id="p-0449" num="0454">Further, it is to be understood that the functions of any of the above described embodiments may be accomplished not only by executing a program code read out by a computer, but also by causing an OS (Operating System) or the like which operates on the computer to perform a part or all of the actual operations based on instructions of the program code.</p>
<p id="p-0450" num="0455">Further, it is to be understood that the functions of any of the above described embodiments may be accomplished by writing a program code read out from the storage medium into an expansion board inserted into a computer or a memory provided in an expansion unit connected to the computer and then causing a CPU or the like provided in the expansion board or the expansion unit to perform a part or all of the actual operations based on instructions of the program code.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A sheet processing apparatus comprising:
<claim-text>a discharging device that discharges sheets formed by an image formation processing device for forming an image on a sheet according to image data into a sheet container, which includes a storage device storing information, that is detachably attachable to another image forming apparatus;</claim-text>
<claim-text>a writing device that writes information in said storage device pertaining to the sheets discharged into said sheet container;</claim-text>
<claim-text>an original reading device that reads originals to generate the image data; and</claim-text>
<claim-text>an operating device that sets a job setting information, wherein said writing device writes the job setting information set by said operating device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A sheet processing apparatus comprising:
<claim-text>a discharging device that discharges sheets formed by an image formation processing device for forming an image on a sheet according to image data into a sheet container, which includes a storage device storing information, that is detachably attachable to another image forming apparatus;</claim-text>
<claim-text>a writing device that writes information in said storage device pertaining to the sheets discharged into said sheet container; and</claim-text>
<claim-text>a receiving device that receives the image data and a job setting information transmitted from an information processing apparatus for communicating with the image forming apparatus, wherein said writing device writes the job setting information received by said receiving device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A sheet processing apparatus comprising:
<claim-text>a discharging device that discharges sheets formed by an image formation processing device for forming an image on a sheet according to image data into a sheet container, which includes a storage device storing information, that is detachably attachable to another image forming apparatus; and</claim-text>
<claim-text>a writing device that writes information in said storage device pertaining to the sheets discharged into said sheet container,</claim-text>
<claim-text>wherein the information includes information indicative of page numbers of respective ones of the sheets discharged into said sheet container.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A sheet processing apparatus comprising:
<claim-text>a discharging device that discharges sheets formed by an image formation processing device for forming an image on a sheet according to image data into a sheet container, which includes a storage device storing information, that is detachably attachable to another image forming apparatus; and</claim-text>
<claim-text>a writing device that writes information in said storage device pertaining to the sheets discharged into said sheet container,</claim-text>
<claim-text>wherein the information includes information indicative of whether sheets discharged into said sheet container face upward.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A sheet processing apparatus comprising:
<claim-text>a discharging device that discharges sheets formed by an image formation processing device for forming an image on a sheet according to image data into a sheet container, which includes a storage device storing information, that is detachably attachable to another image forming apparatus; and</claim-text>
<claim-text>a writing device that writes information in said storage device pertaining to the sheets discharged into said sheet container,</claim-text>
<claim-text>wherein the information includes at least one of a sheet size, a number of image formation, a number of copies of image formation, an identification of said image formation processing device, an identification of image formation job, a page order, a material type of sheet, or finishing processing.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A sheet processing apparatus comprising:
<claim-text>a feeding device that feeds sheets stored in a sheet container, which includes a storage device storing information, that is removably attachable to a plurality of sheet processing apparatuses;</claim-text>
<claim-text>a transporting device that transports sheets transported from an image formation processing device for forming an image on a sheet according to image data and sheets fed by said feeding device; and</claim-text>
<claim-text>a reading device that reads information stored in said storage device pertaining to the sheet stored in said sheet container.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An apparatus according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising an original reading device that reads originals to generate the image data.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. An apparatus according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising a receiving device that receives the image data transmitted from an information processing apparatus and communicable with the image forming apparatus.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An apparatus according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the information includes information indicative of page numbers of respective ones of sheets stored in said sheet container.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. An apparatus according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the information includes information indicative of whether the sheets stored in said sheet container faces upward.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. An apparatus according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the information includes at least one of a sheet size, a number of image formation, a number of copies of image formation, an identification of said image formation processing device, an identification of image formation job, a page order, a material type of sheet, or finishing processing.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. An apparatus according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising a controller that controls said image formation processing device and said feeding device according to the information read by said reading device.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. An apparatus according to <claim-ref idref="CLM-00006">claim 6</claim-ref>, further comprising:
<claim-text>a second storage device that stores device information relating to said image formation processing device;</claim-text>
<claim-text>a controller that controls said image forming apparatus according to the information read by said reading device and the device information stored in second storage device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. An apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising a warning device that gives a warning when the information read by said reading device and the device information stored in said second storage device are inconsistent.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. An apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the information stored in said storage device of said sheet container includes at least information indicating said image forming apparatus to which said sheet container is to be attached.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. An apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the information stored in said storage device of said sheet container includes information indicative of serial numbers of image formation jobs.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. An apparatus according to <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein said feeding device feeds the sheets in response to attachment of said sheet container.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. An apparatus according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, further comprising a second feeding device that feeds sheets stored in another sheet container, which includes a storage device storing information, removably attachable to another image forming apparatus, wherein said second feeding device feeds the sheets after completion of a job where said first feeding device feeds the sheets in a case where said container is attached to said second feeding device during the job relating said first feeding device.</claim-text>
</claim>
</claims>
</us-patent-grant>
