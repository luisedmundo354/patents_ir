<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298838-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298838</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10234510</doc-number>
<date>20020903</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>806</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>M</subclass>
<main-group>1</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>37940604</main-classification>
<further-classification>37940601</further-classification>
<further-classification>37940606</further-classification>
<further-classification>37940608</further-classification>
</classification-national>
<invention-title id="d0e53">Adaptive cancellation network system and method for digital subscriber line</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4246582</doc-number>
<kind>A</kind>
<name>Kondo et al.</name>
<date>19810100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4785465</doc-number>
<kind>A</kind>
<name>Lang et al.</name>
<date>19881100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5416776</doc-number>
<kind>A</kind>
<name>Panzarella et al.</name>
<date>19950500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5506868</doc-number>
<kind>A</kind>
<name>Cox et al.</name>
<date>19960400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5572517</doc-number>
<kind>A</kind>
<name>Safadi</name>
<date>19961100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5623514</doc-number>
<kind>A</kind>
<name>Arai</name>
<date>19970400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5696765</doc-number>
<kind>A</kind>
<name>Safadi</name>
<date>19971200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5802169</doc-number>
<kind>A</kind>
<name>Frantz et al.</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5999540</doc-number>
<kind>A</kind>
<name>McGhee</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>5999565</doc-number>
<kind>A</kind>
<name>Locklear, Jr. et al.</name>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6021158</doc-number>
<kind>A</kind>
<name>Schurr et al.</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6101216</doc-number>
<kind>A</kind>
<name>Henderson et al.</name>
<date>20000800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6160843</doc-number>
<kind>A</kind>
<name>McHale et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>6163579</doc-number>
<kind>A</kind>
<name>Harrington et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>6192109</doc-number>
<kind>B1</kind>
<name>Amrany et al.</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>6208732</doc-number>
<kind>B1</kind>
<name>Moschytz et al.</name>
<date>20010300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>379402</main-classification></classification-national>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>6295343</doc-number>
<kind>B1</kind>
<name>Hjartarson et al.</name>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>6385203</doc-number>
<kind>B2</kind>
<name>McHale et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>6385252</doc-number>
<kind>B1</kind>
<name>Gradl et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>6400772</doc-number>
<kind>B1</kind>
<name>Chaplik</name>
<date>20020600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>6477250</doc-number>
<kind>B1</kind>
<name>Sheets</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>379394</main-classification></classification-national>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>6483870</doc-number>
<kind>B1</kind>
<name>Locklear, Jr. et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>6724890</doc-number>
<kind>B1</kind>
<name>Bareis</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>379403</main-classification></classification-national>
</citation>
<citation>
<patcit num="00024">
<document-id>
<country>US</country>
<doc-number>2001/0048716</doc-number>
<kind>A1</kind>
<name>Gough et al.</name>
<date>20011200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00025">
<document-id>
<country>JP</country>
<doc-number>56 051135</doc-number>
<kind>A</kind>
<date>19810500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00026">
<document-id>
<country>JP</country>
<doc-number>02 283131</doc-number>
<kind>A</kind>
<date>19901100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00027">
<document-id>
<country>JP</country>
<doc-number>05 063606</doc-number>
<kind>A</kind>
<date>19930300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>19</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>37940601</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940602</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940604</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940606</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37940608</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60354643</doc-number>
<kind>00</kind>
<date>20020205</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20030147526</doc-number>
<kind>A1</kind>
<date>20030807</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Oswal</last-name>
<first-name>Sandeep K.</first-name>
<address>
<city>Bangalore</city>
<country>IN</country>
</address>
</addressbook>
<nationality>
<country>IN</country>
</nationality>
<residence>
<country>IN</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Easwaran</last-name>
<first-name>Prakash</first-name>
<address>
<city>Bangalore</city>
<country>IN</country>
</address>
</addressbook>
<nationality>
<country>IN</country>
</nationality>
<residence>
<country>IN</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Raychowdhury</last-name>
<first-name>Arijit</first-name>
<address>
<city>West Lafayette</city>
<state>IN</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Mujica</last-name>
<first-name>Fernando A.</first-name>
<address>
<city>Allen</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Shaw</last-name>
<first-name>Steve A.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Brady</last-name>
<first-name>W. James</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Telecky, Jr.</last-name>
<first-name>Frederick J.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Texas Instruments Incorporated</orgname>
<role>02</role>
<address>
<city>Dallas</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Harold</last-name>
<first-name>Jefferey F</first-name>
<department>2614</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method for reducing transmit echo in a DSL modem comprises selecting at least one cancellation device of a plurality of cancellation devices. An attenuation signal is generated using the selected cancellation device. At least a portion of transmit echo is removed from a receive signal using the attenuation signal.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="157.06mm" wi="236.14mm" file="US07298838-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="236.39mm" wi="165.10mm" orientation="landscape" file="US07298838-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="219.79mm" wi="168.74mm" file="US07298838-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="247.57mm" wi="167.64mm" file="US07298838-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="187.71mm" wi="157.40mm" file="US07298838-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This Application claims the priority under 35 U.S.C. §119 of provisional application Ser. No. 60/354,643, entitled “Adaptive Hybrid Architecture for ADSL,” filed Feb. 5, 2002.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">TECHNICAL FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">This invention relates generally to DSL and, more specifically, to an adaptive cancellation network.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">DSL (Digital Subscriber Line) provides Internet users with a technology that provides higher bandwidth and takes advantage of the installed base of copper twisted-pair telephone wire that exists between the telephone company central offices (COs) and local residential customers. ADSL (Asymmetric Digital Subscriber Line) is a form of DSL technology that transmits more information in one direction than the other. ADSL separates the available frequencies in a wire on the assumption that most residential users download much more information than they upload.</p>
<p id="p-0005" num="0004">In DSL systems, analog echo cancellation is used to prevent saturation of the receiver circuitry by the transmit signal. A cancellation device in a DSL modem models the transmit echo path transfer function to attenuate the unwanted transmit signal and noise that appears in the receiver path. The line impedance, and therefore the transmit echo, varies greatly for different loop topologies and numbers of bridged-taps. Therefore, a single cancellation device cannot achieve the same echo cancellation levels for all possible loop scenarios.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0006" num="0005">One aspect of the invention is a method for reducing transmit echo in a DSL modem comprises selecting at least one cancellation device of a plurality of cancellation devices. An attenuation signal is generated using the selected cancellation device. At least a portion of transmit echo is removed from a receive signal using the attenuation signal.</p>
<p id="p-0007" num="0006">The invention has several important technical advantages. Various embodiments of the invention may have none, some or all of these advantages. The invention might allow a DSL or an ADSL modem to adapt to various loop topologies. This might include the advantage of improving the transmit signal attenuation for the given loop topology allowing for a lower received noise floor. Better transmit signal attenuation allows a DSL user to receive a more powerful and accurate receive signal from the central office or for the central office to receive a more powerful transmit signal from the DSL user. A further advantage might be decreased production costs for DSL modems as fewer designs and implementations might be required. Another advantage might be an improved signal-to-noise ratio. Other technical advantages of the present invention will be readily apparent to one skilled in the art.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0008" num="0007">For a more complete understanding of the present invention and its advantages, reference is now made to the following description, taken in conjunction with the accompanying drawings, in which:</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram illustrating a DSL system in accordance with one embodiment of the present invention;</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIGS. 2A-C</figref> are exemplary charts illustrating the effect of improved cancellation in the DSL system of <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIGS. 3A-B</figref> are charts illustrating various loop impedances; and</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIGS. 4A-B</figref> are diagrams illustrating a passive cancellation network and an active cancellation network respectively.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION OF EXAMPLE EMBODIMENTS OF THE INVENTION</heading>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram illustrating a DSL system <b>100</b> in accordance with one embodiment of the present invention. Generally, in DSL systems, both transmit signal <b>115</b> and receive signal <b>116</b> share the same physical media. Therefore, DSL receiver circuitry accommodates the receiver signal <b>116</b> and the locally generated transmit signal <b>115</b>. The component of the transmit signal <b>115</b> and the noise that appears in the receiver circuitry is typically termed “transmit echo” <b>115</b>′. Since the receiver circuitry accommodates both the receiver signal <b>116</b> and the transmit echo <b>115</b>′, the larger the transmit echo <b>115</b>′, the lower the effective signal-to-noise ratio of the system <b>100</b>. DSL system <b>100</b> attenuates the transmit echo <b>115</b>′, thereby improving performance of system <b>100</b> for a DSL user or provider. A particular advantage of system <b>100</b> is that the attenuation of transmit echo <b>115</b>′, illustrated as attenuation signal <b>117</b>, adapts according to the various loop topologies associated with system <b>100</b>.</p>
<p id="p-0014" num="0013">DSL system <b>100</b> includes central office <b>110</b>, communications line <b>111</b>, topology <b>112</b>, and remote terminal <b>104</b>. Remote terminal <b>104</b> is separated from central office <b>110</b>, communications line <b>111</b>, and topology <b>112</b> by transformer <b>114</b>. For example, transformer <b>114</b> may connect a telephone line to a DSL modem. In one embodiment, the turns ratio of the transformer <b>114</b> may be used to provide gain to the transmit signal <b>115</b>. It will be understood that while <figref idref="DRAWINGS">FIG. 1</figref> illustrates the attenuation of transmit echo <b>115</b>′ associated with the transmit signal <b>115</b> communicated by a DSL user, the attenuation of transmit echo <b>115</b>′ may alternatively or additionally be associated with a transmit signal <b>115</b> communicated by central office <b>110</b>, without departing from the scope of this disclosure. The various features and functions described hereto may be embodied in equipment, such as a DSL modem, located at the customer premises or at the central office.</p>
<p id="p-0015" num="0014">It will be understood that transmissions from the central office <b>110</b> to the remote terminal <b>104</b> and the transmissions from the remote terminal <b>104</b> to the central office <b>110</b> are collocated on communications line <b>111</b>. In this embodiment, downstream communication travels from central office <b>110</b> to remote terminal <b>104</b>. Conversely, upstream communication travels from remote terminal <b>104</b> to central office <b>110</b>.</p>
<p id="p-0016" num="0015">Communications line <b>111</b> may comprise, for example, a subscriber loop comprising a twisted pair, which is a pair of individually insulated electrically-conductive wires twisted together. The length of communications line <b>111</b> is generally from zero kilofeet to twenty kilofeet. Communications over communications line <b>111</b> include a transmit signal <b>115</b> and a receive signal <b>116</b>. Communications line <b>111</b> may include any number, including zero, of bridged-taps or other sources of line impedance, illustrated by topology <b>112</b>.</p>
<p id="p-0017" num="0016">Topology <b>112</b> may illustrate any number of bridge-taps and other impedances of communications line <b>111</b>. The loop topology of system <b>100</b> may vary according to the characteristics of the topology <b>112</b> of communications line <b>111</b>. For example, system <b>100</b> may include an ANSI T1.601 CSA (Carrier Serving Area) loop (such as, for example, CSA 4, CSA 6, and CSA 7 loop topologies), a straight loop topology (no bridged-taps), an ANS 13 loop topology, or any other appropriate loop topology based, at least in part, on loop length and number of bridged-taps.</p>
<p id="p-0018" num="0017">Remote terminal <b>104</b> is an exemplary illustration of a portion of a DSL modem, a portion of an ADSL modem, or a portion of any other customer premises equipment (CPE) that may utilize the present invention. Remote terminal <b>104</b> includes a plurality of line drivers <b>120</b>, a plurality of resistors <b>122</b>, a plurality of line receivers <b>124</b>, at least one summing node <b>125</b>, at least one input node <b>126</b>, adaptive cancellation network <b>150</b>, switch <b>154</b>, and controller <b>156</b>. In one embodiment, line drivers <b>120</b> comprise operational amplifiers (op-amps) that communicate transmit signal <b>115</b> and line receivers <b>124</b> comprise op-amps that receive the receive signal <b>116</b>.</p>
<p id="p-0019" num="0018">Adaptive cancellation network <b>150</b> includes a plurality of cancellation devices <b>152</b>. It will be understood that there may be any number of cancellation devices <b>152</b>. Cancellation device <b>152</b> may include a hybrid network or any other circuitry operable to generate an attenuation signal <b>117</b> suitable to attenuate transmit echo <b>115</b>′. As will be understood by those skilled in the art at the time of the invention, the transmit echo transfer function determines the amount of transmit echo <b>115</b>′ for communications line <b>111</b>:</p>
<p id="p-0020" num="0019">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>H</mi>
    <mi>TX</mi>
  </msub>
  <mo>=</mo>
  <mfrac>
    <msup>
      <mi>Z</mi>
      <mi>′</mi>
    </msup>
    <mrow>
      <mrow>
        <mn>2</mn>
        <mo>·</mo>
        <msub>
          <mi>R</mi>
          <mi>T</mi>
        </msub>
      </mrow>
      <mo>+</mo>
      <msup>
        <mi>Z</mi>
        <mi>′</mi>
      </msup>
    </mrow>
  </mfrac>
</mrow>
</math>
</maths>
<br/>
where Z′ is the impedance of communication line <b>111</b> as seen from the transmit terminals of the transformer <b>114</b> and R<sub>T </sub>is the value of resistor <b>122</b>. As described in more detail in <figref idref="DRAWINGS">FIGS. 3A-B</figref>, the energy of transmit echo <b>115</b>′ varies based, at least in part, on the loop topology of system <b>100</b>. The voltage of transmit echo <b>115</b>′ is computed by multiplying the transfer function associated with transmit echo <b>115</b>′ (H<sub>TX</sub>) by the voltage of the transmit signal <b>115</b> and noise (V<sub>TX</sub>). Consequently, the signal at input node <b>126</b>, shown below as V′<sub>RX</sub>, can be determined by the following function:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V′</i><sub>RX</sub><i>=H</i><sub>TX</sub><i>·V</i><sub>TX</sub><i>+V</i><sub>RX</sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where V<sub>RX </sub>is the voltage of the received signal <b>116</b>. The transmit echo <b>115</b>′, H<sub>TX</sub>V<sub>TX</sub>, may be attenuated by an appropriate cancellation device <b>152</b>. The cancellation device <b>152</b> generates an attenuation signal <b>117</b> and communicates it to summing node <b>125</b>. Consequently, the output at summing node <b>125</b>, shown below as V″<sub>RX</sub>, can be determined by the following function:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V″</i><sub>RX</sub><i>=H</i><sub>TX</sub><i>·V</i><sub>TX</sub><i>+V</i><sub>RX</sub><i>−V</i><sub>TX</sub><i>H</i><sub>Hyb</sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>V″</i><sub>RX</sub>=(<i>H</i><sub>TX</sub><i>−H</i><sub>Hyb</sub>)<i>V</i><sub>TX</sub><i>+V</i><sub>RX</sub><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where V<sub>TX</sub>H<sub>Hyb </sub>is the attenuation signal <b>117</b>. The output of summing node <b>125</b> is illustrated as received energy <b>127</b>. It will be understood that preferably, but not necessarily, H<sub>Tx </sub>and H<sub>Hyb </sub>substantially equal each other thereby attenuating transmit echo <b>115</b>′. This allows the received energy <b>127</b> to substantially equal the receive signal <b>116</b>.
</p>
<p id="p-0021" num="0020">Each cancellation device <b>152</b> generates a different range of attenuation signals <b>117</b>. Different attenuation signals <b>117</b> optimally attenuate transmit echo <b>115</b>′ for different loop topologies. Therefore, adaptive cancellation network <b>150</b> selects one or more appropriate cancellation devices <b>152</b> based, at least in part, on the loop topology of system <b>100</b>. For example, multiple cancellation devices <b>152</b> may be selected at a time so that each generates an attenuation signal <b>117</b> that, in the aggregate, may attenuate transmit echo <b>115</b>′. In one embodiment, controller <b>156</b> analyzes received energy <b>127</b> and communicates a control signal <b>158</b> to switch <b>154</b> based on the received energy <b>127</b>. Switch <b>154</b> selects the one or more appropriate cancellation devices <b>152</b> based, at least in part, on the control signal <b>158</b>. In another embodiment, the adaptive cancellation network <b>150</b> is adapted by selecting the one or more appropriate cancellation devices <b>152</b> through implementing some of its components as a binary weighted bank of components (such as, resistors and capacitors) that can effectively take different values depending on a control signal <b>158</b>.</p>
<p id="p-0022" num="0021">In one example, adaptive cancellation network <b>150</b> includes a first cancellation device <b>152</b>, a second cancellation device <b>152</b>, and a third cancellation device <b>152</b>. In this example, the first cancellation device <b>152</b> is operable to effectively attenuate transmit echo <b>115</b>′ in a first loop topology, such as a straight loop topology, the second cancellation device <b>152</b> is operable to effectively attenuate transmit echo <b>115</b>′ in a second loop topology, such as a CSA 5 loop topology, and the third cancellation device <b>152</b> is operable to effectively attenuate transmit echo <b>115</b>′ in a third loop topology, such as an ANS 13 loop topology.</p>
<p id="p-0023" num="0022">Each cancellation device <b>152</b> may further generate an effective attenuation signal <b>117</b> for a cluster of loop topologies. In a second example, adaptive cancellation network <b>150</b> includes a first cancellation device <b>152</b>, a second cancellation device <b>152</b>, and a third cancellation device <b>152</b>. In this example, the first cancellation device <b>152</b> is operable to effectively attenuate transmit echo <b>115</b>′ in a first loop topology, the second cancellation device <b>152</b> is operable to effectively attenuate transmit echo <b>115</b>′ in a second loop topology, and the third cancellation device <b>152</b> is operable to effectively attenuate transmit echo <b>115</b>′ for a third loop topology and further operable to effectively attenuate transmit echo <b>115</b>′ for a fourth loop topology.</p>
<p id="p-0024" num="0023">In one aspect of operation, line driver <b>120</b> transmits the transmit signal <b>115</b> to the central office <b>110</b> over communications line <b>112</b>. A portion of transmit signal <b>115</b> appears at transformer <b>114</b> as transmit echo <b>115</b>′. The central office <b>110</b> transmits the receive signal <b>116</b> to the remote terminal <b>104</b> over communications line <b>111</b>. At least one selected cancellation device <b>152</b> generates an attenuation signal <b>117</b>. At summing node <b>125</b>, the one or more attenuation signals <b>117</b> attenuate some or all of transmit echo <b>115</b>′. As a result, received energy <b>127</b> primarily comprises receive signal <b>116</b>.</p>
<p id="p-0025" num="0024">There are numerous techniques that may be utilized to select the appropriate cancellation device <b>152</b> used to generate the attenuation signal <b>117</b>. In one example, the central office <b>110</b> is in a quiet state and does not communicate a receive signal <b>116</b>. A transmit signal <b>115</b> is transmitted over communications line <b>111</b> and transmit echo <b>115</b>′ is received. A first cancellation device <b>152</b> generates a first attenuation signal <b>117</b>. A first received energy <b>127</b> is determined at summing node <b>125</b> using transmit echo <b>115</b>′ and first attenuation signal <b>117</b>. A second cancellation device <b>152</b> generates a second attenuation signal <b>117</b>. A second received energy <b>127</b> is determined at summing node <b>125</b> using transmit echo <b>115</b>′ and second attenuation signal <b>117</b>. The cancellation device <b>152</b> associated with the lowest received energy <b>127</b> generally performs the best job of attenuating transmit echo <b>115</b>′ and is therefore selected.</p>
<p id="p-0026" num="0025">In a second example, a test transmit signal <b>115</b> is transmitted over the communications line <b>111</b>. The received energy <b>127</b> calculated at summing node <b>125</b> is analyzed. The impedance of the communications line <b>111</b> is estimated based, at least in part, on the received energy <b>127</b>, known characteristics about line <b>111</b> and topology <b>112</b>, and/or any other information regarding system <b>100</b>. An appropriate cancellation device <b>152</b> is selected based at least in part upon the transmit echo transfer function. Once selected, the cancellation device <b>152</b> substantially attenuates, or cancels, the transmit echo <b>115</b>′.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIGS. 2A-C</figref> are exemplary charts illustrating the effect of improved cancellation in the DSL system <b>100</b>. Referring now to <figref idref="DRAWINGS">FIG. 2A</figref>, the chart illustrates an ADSL frequency distribution and includes two axes, output and frequency. <figref idref="DRAWINGS">FIG. 2A</figref> includes POTS/ISDN frequency range <b>201</b>, ADSL upstream frequency range <b>202</b>, and ADSL downstream frequency range <b>203</b>. Typically, POTS/ISDN frequency <b>201</b> is between 0 and 4 kHz, upstream frequency is between 25 kHz and 138 kHz, and downstream frequency is between 138 kHz and 1.1 MHz.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIGS. 2B-C</figref> illustrate the effects of improving the signal-to-noise ratio (SNR) by more closely matching the attenuation signal <b>117</b> to the transmit echo <b>115</b>′. <figref idref="DRAWINGS">FIGS. 2B-C</figref> include transmit signal voltage <b>115</b> as seen in the remote terminal <b>104</b>, transmit echo <b>115</b>′, receive signal voltage <b>116</b>, attenuation signal <b>117</b>, echo cancellation <b>211</b>, dynamic range <b>212</b>, and attenuated transmit signal <b>225</b>.</p>
<p id="p-0029" num="0028">As described above, transmit echo <b>115</b>′ is the portion of the transmit signal <b>115</b> that appears in the secondary terminals of the transformer <b>114</b>. Echo cancellation <b>211</b> is an estimated energy to subtract from the transfer signal <b>115</b>. Dynamic range <b>212</b> is the generally fixed energy range of the receiver <b>124</b>.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIGS. 2B-C</figref> illustrate that as the estimated energy of the attenuation signal <b>117</b> grows closer to the first transmit echo <b>115</b>′ in <figref idref="DRAWINGS">FIG. 2B</figref>, the voltage of the attenuated transmit signal <b>115</b> will fall by a particular amount allowing the fixed dynamic range <b>212</b> to include more of receive signal <b>116</b>. In other words, once the transmit signal <b>115</b> is reduced to the attenuated transmit signal <b>115</b> in <figref idref="DRAWINGS">FIG. 2C</figref>, the second transmit echo <b>115</b>′ in <figref idref="DRAWINGS">FIG. 2C</figref> is lower than the first transmit echo <b>115</b>′ in <figref idref="DRAWINGS">FIG. 2B</figref>. This results in a stronger receive signal <b>116</b> at the receiver <b>124</b> and a higher signal to noise ratio for receive signal <b>116</b>.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIGS. 3A-B</figref> are charts illustrating line impedances for various loop topologies. <figref idref="DRAWINGS">FIG. 3A</figref> illustrates the impedance of a straight loop topology. A straight loop is a loop topology without any significant bridged-taps or other sources of line impedances. Therefore, the transmit echo <b>115</b>′ is generally predictable with high accuracy.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 3B</figref> illustrates the various line impedances of different loop topologies measured at different lengths, in kilofeet, of the communications line <b>111</b>. Each loop topology has variable impedances, resulting in variable transmit echo signals <b>115</b>′. Therefore, adaptive cancellation network <b>150</b> determines the appropriate cancellation device <b>152</b> to attenuate transmit echo <b>115</b>′ for each loop topology.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 4A</figref> illustrates one embodiment of a passive cancellation device <b>152</b> and <figref idref="DRAWINGS">FIG. 4B</figref> illustrates one embodiment of an active cancellation device <b>152</b>.</p>
<p id="p-0034" num="0033">Referring to <figref idref="DRAWINGS">FIG. 4A</figref>, passive cancellation device <b>152</b> includes three resistors <b>401</b> and two capacitors <b>402</b>. By varying these exemplary components, various attenuation signals <b>117</b> may generated. In one embodiment, the energy of the attenuated signal <b>117</b>, illustrated here as V<sub>0</sub>, can be computed by:</p>
<p id="p-0035" num="0034">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>V</mi>
    <mn>0</mn>
  </msub>
  <mo>=</mo>
  <mrow>
    <mo>[</mo>
    <mrow>
      <mfrac>
        <mrow>
          <msub>
            <mi>V</mi>
            <mn>1</mn>
          </msub>
          <mo>⁢</mo>
          <msub>
            <mi>R</mi>
            <mn>0</mn>
          </msub>
        </mrow>
        <msub>
          <mi>R</mi>
          <mn>1</mn>
        </msub>
      </mfrac>
      <mo>+</mo>
      <mfrac>
        <mrow>
          <msub>
            <mi>V</mi>
            <mn>2</mn>
          </msub>
          <mo>⁢</mo>
          <msub>
            <mi>R</mi>
            <mn>0</mn>
          </msub>
        </mrow>
        <msub>
          <mi>R</mi>
          <mn>2</mn>
        </msub>
      </mfrac>
      <mo>+</mo>
      <mfrac>
        <mrow>
          <msub>
            <mi>V</mi>
            <mn>3</mn>
          </msub>
          <mo>⁢</mo>
          <msub>
            <mi>R</mi>
            <mn>0</mn>
          </msub>
        </mrow>
        <msub>
          <mi>R</mi>
          <mn>3</mn>
        </msub>
      </mfrac>
    </mrow>
    <mo>]</mo>
  </mrow>
</mrow>
</math>
</maths>
</p>
<p id="p-0036" num="0035">Referring to <figref idref="DRAWINGS">FIG. 4B</figref>, active cancellation device <b>152</b> includes HPF (high pass filter) <b>404</b>, Zhyb_a <b>406</b>, Zhyb_b <b>406</b>, Zhyb_c <b>406</b>, and op-amp <b>408</b>. Zhyb_a <b>406</b>, Zhyb_b <b>406</b>, Zhyb_c <b>406</b> are complex impedances or a network of resistors and capacitors. The active cancellation device <b>152</b> implements a given transmit echo transfer function. By varying the components in Zhyb_a <b>406</b>, Zhyb_b <b>406</b>, and/or Zhyb_c <b>406</b>, active cancellation device <b>152</b> implements a modified transfer function for a given loop topology. It will be understood that <figref idref="DRAWINGS">FIG. 4B</figref> is an example active cancellation network and may be implemented in a number of ways. For example, the HPF <b>404</b> can be moved to the beginning of the cancellation path to benefit dynamic range.</p>
<p id="p-0037" num="0036">Although the present invention has been described in detail, it should be understood that various changes, substitutions and alterations can be made hereto without departing from the sphere and scope of the invention as defined by the appended claims.</p>
<p id="p-0038" num="0037">To aid the Patent Office, and any readers of any patent issued on this application in interpreting the claims appended hereto, applicants wish to note that they do not intend any of the appended claims to invoke 35 U.S.C. § 112, ¶6 as it exists on the date of filing hereof unless “means for” or “step for” are used in the particular claim.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298838-20071120-M00001.NB">
<img id="EMI-M00001" he="6.69mm" wi="76.20mm" file="US07298838-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US07298838-20071120-M00002.NB">
<img id="EMI-M00002" he="6.35mm" wi="76.20mm" file="US07298838-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for reducing transmit echo in a DSL modem, comprising:
<claim-text>receiving an incoming signal over a communications line at each one of a plurality of cancellation devices;</claim-text>
<claim-text>estimating an impedance of the communications line;</claim-text>
<claim-text>selecting at least one cancellation device of the plurality of cancellation devices based at least in part on the estimated impedance;</claim-text>
<claim-text>generating an attenuation signal using the selected cancellation device; and</claim-text>
<claim-text>removing at least a portion of transmit echo from the received incoming signal using the attenuation signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of cancellation devices comprises:
<claim-text>a first cancellation device operable to generate the attenuation signal for a first loop topology; and</claim-text>
<claim-text>a second cancellation device operable to generate the attenuation signal for a second loop topology.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the plurality of cancellation devices further comprises:
<claim-text>a third cancellation device operable to generate the attenuation signal for a third loop topology and further operable to generate the attenuation signal for a fourth loop topology.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of cancellation devices comprises at least one of a passive cancellation device and an active cancellation device.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the attenuation signal substantially equals the transmit echo.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>transmitting a transmit signal;</claim-text>
<claim-text>receiving transmit echo;</claim-text>
<claim-text>generating a first attenuation signal using a first cancellation device;</claim-text>
<claim-text>determining a first received energy;</claim-text>
<claim-text>generating a second attenuation signal using a second cancellation device;</claim-text>
<claim-text>determining a second received energy; and</claim-text>
<claim-text>wherein selecting at least one cancellation device of the plurality of cancellation devices based at least in part on the estimated impedance comprises selecting the cancellation device associated with the lowest received energy.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>transmitting a transmit signal;</claim-text>
<claim-text>analyzing the transmit echo associated with the transmit signal; and</claim-text>
<claim-text>estimating the transmit echo transfer function, at least in part, on the transmit echo, wherein selecting at least one cancellation device of the plurality of cancellation devices based at least in part on the estimated impedance comprises selecting the cancellation device based at least in part upon an estimated transmit echo transfer function.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. An adaptive cancellation network, comprising:
<claim-text>a first cancellation device operable to generate a first attenuation signal;</claim-text>
<claim-text>a second cancellation device operable to generate a second attenuation signal; and</claim-text>
<claim-text>a controller operable to select at least one of the cancellation devices based at least in part upon an estimated impedance, wherein the attenuation signal associated with the selected cancellation device is used to attenuate transmit echo.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The adaptive cancellation network of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the controller is further operable to analyze received energy and to select the cancellation device associated with the lowest received energy.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The adaptive cancellation network of <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising a switch, wherein the controller is further operable to communicate a control signal to the switch and the switch is operable to select one of the cancellation devices in response to the control signal.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A DSL modem, comprising:
<claim-text>a plurality of cancellation devices configured to receive an incoming signal over a communications line; and</claim-text>
<claim-text>circuitry operable to estimate an impedance of the communications line, select at least one cancellation device of the plurality of cancellation devices based at least in part on the estimated impedance, generate an attenuation signal using the selected cancellation device, and remove at least a portion of transmit echo transfer function from the received incoming signal using the attenuation signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The DSL modem of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the plurality of cancellation devices comprises:
<claim-text>a first cancellation device operable to generate the attenuation signal for a first loop topology; and</claim-text>
<claim-text>a second cancellation device operable to generate the attenuation signal for a second loop topology.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The DSL modem of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the plurality of cancellation devices further comprises:
<claim-text>a third cancellation device operable to generate the attenuation signal for a third loop topology and further operable to generate the attenuation signal for a fourth loop topology.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The DSL modem of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the plurality of cancellation devices comprises at least one of a passive cancellation device and an active cancellation device.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The DSL modem of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the attenuation signal substantially equals the transmit echo.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The DSL modem of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the circuitry is further operable to:
<claim-text>transmit a transmit signal;</claim-text>
<claim-text>receive transmit echo;</claim-text>
<claim-text>generate a first attenuation signal using a first cancellation device;</claim-text>
<claim-text>determine a first received energy;</claim-text>
<claim-text>generate a second attenuation signal using a second cancellation device;</claim-text>
<claim-text>determine a second received energy; and</claim-text>
<claim-text>wherein the circuitry operable to select at least one cancellation device of the plurality of cancellation devices based at least in part on the estimated impedance comprises the circuitry operable to select the cancellation device associated with the lowest received energy.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The DSL modem of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the circuitry is further operable to:
<claim-text>transmit a transmit signal;</claim-text>
<claim-text>analyze a transmit echo of the transmit signal; and</claim-text>
<claim-text>estimate the impedance of the communications line based, at least in part, on the transmit echo.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The DSL modem of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the DSL modem resides at the central office.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The DSL modem of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the DSL modem resides at the customer premises.</claim-text>
</claim>
</claims>
</us-patent-grant>
