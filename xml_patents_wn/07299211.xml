<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299211-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299211</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11267219</doc-number>
<date>20051107</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2000-095157</doc-number>
<date>20000330</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>Q</subclass>
<main-group>99</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>705 64</main-classification>
<further-classification>705 65</further-classification>
<further-classification>705 66</further-classification>
</classification-national>
<invention-title id="d0e61">Transaction number management method in network commodity sales</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6202055</doc-number>
<kind>B1</kind>
<name>Houvener et al.</name>
<date>20010300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 44</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6341353</doc-number>
<kind>B1</kind>
<name>Herman et al.</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>726  5</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6487285</doc-number>
<kind>B2</kind>
<name>Gilles et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6715082</doc-number>
<kind>B1</kind>
<name>Chang et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0216421</doc-number>
<kind>A1</kind>
<name>Barry et al.</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>705 64</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>JP</country>
<doc-number>HEI 3-038961</doc-number>
<date>19910200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>JP</country>
<doc-number>411120241</doc-number>
<kind>A</kind>
<date>19990400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>11-143954</doc-number>
<date>19990500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>411283341</doc-number>
<kind>A</kind>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00010">
<othercit>IBM Technical Disclosure Bulletin; vol. 29; Jun. 01, 1986; Title: Multiple PC/5250 Sessions without unique code.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>2</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>705 64</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705 65</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>705 66</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>12</number-of-drawing-sheets>
<number-of-figures>13</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>09750050</doc-number>
<kind>00</kind>
<date>20001229</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>6965880</doc-number>
<kind>A </kind>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11267219</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060059089</doc-number>
<kind>A1</kind>
<date>20060316</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Komori</last-name>
<first-name>Masayuki</first-name>
<address>
<city>Toyama</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Staas &amp; Halsey LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Fujitsu Limited</orgname>
<role>03</role>
<address>
<city>Kawasaki</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Elisca</last-name>
<first-name>Pierre Eddy</first-name>
<department>3621</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A cart ID according to the present invention is an identification code including receipt information containing at least a receipt number (serial number) indicating a receipt number of the transaction, and further unmeaning password information. Furthermore, it is preferable that the receipt information has date information in which the cart ID is issued. In this manner, the cart ID according to the present invention contains the password information in addition to the receipt information having conventional date information and the receipt number, whereby even when the cart ID is disclosed to the principal, it is possible to prevent another person from being informed thereof.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="93.73mm" wi="114.05mm" file="US07299211-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="97.54mm" wi="114.38mm" file="US07299211-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="168.49mm" wi="160.27mm" file="US07299211-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="247.65mm" wi="166.88mm" file="US07299211-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="250.78mm" wi="168.49mm" file="US07299211-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="231.39mm" wi="181.78mm" orientation="landscape" file="US07299211-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="226.91mm" wi="155.87mm" orientation="landscape" file="US07299211-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="223.69mm" wi="175.34mm" orientation="landscape" file="US07299211-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="220.90mm" wi="173.14mm" orientation="landscape" file="US07299211-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="227.75mm" wi="182.12mm" orientation="landscape" file="US07299211-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="218.52mm" wi="165.44mm" file="US07299211-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="163.75mm" wi="169.08mm" file="US07299211-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="162.64mm" wi="138.68mm" file="US07299211-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application is a Divisional application of Ser. No. 09/750,050, filed Dec. 29, 2000 now U.S. Pat. No. 6,965,880, and claims the benefit of Japanese Application No. 2000-095157, filed Mar. 30, 2000 in the Japanese Patent Office, the disclosures of which are incorporated herein by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates generally to a transaction number management method in Internet commodity sale transactions, and more particularly, to security protection of transaction numbers.</p>
<p id="p-0005" num="0004">2. Description of the Related Arts</p>
<p id="p-0006" num="0005">Internet commodity sales are in a rapid spread. A user connects a terminal to Internet via a communication line, and displays a commodity sale site provided by a server managed by a commodity sale enterprise on a screen of the terminal.</p>
<p id="p-0007" num="0006">The user operates the terminal, and selects a commodity which the user desires from a plurality of commodities displayed in the commodity sale site. The selected commodity data are noticed to the server, which temporally stores the data in a predetermined file until a purchase of the commodity is determined. Namely, the selected commodity data are temporally stored in the file of the server, and the condition is compared to a condition that the selected commodity is entered into a cart in contrast to a shopping at a conventional store. Therefore, this predetermined file is called a cart file.</p>
<p id="p-0008" num="0007">In order to discriminate each cart, the server provides a transaction number (cart ID) to the cart file. Namely, the transaction number (cart ID) is provided to a single shopping transaction with the user. When the server receives commodity data selected first in a certain shopping of the user, it issues a new cart ID, and stores the commodity data selected in the cart file in response to the cart ID.</p>
<p id="p-0009" num="0008">The issued cart ID is sent to the terminal, and is stored in the terminal by predetermined means. For example, the cart ID is stored in a memory unit (hard disk unit) of the terminal as a cookie. Alternatively, the cart ID is displayed on a terminal screen as a URL of a commodity sale site. Alternatively, the cart ID is written into a HTML document of the commodity sale site sent from the server. In this case, the HTML document may be constituted so as not to display the cart ID on the screen, but the cart ID written into the HTML document is held in the terminal.</p>
<p id="p-0010" num="0009">When the user selects a next commodity, the commodity data are noticed to the server along with the cart ID. The server stores the commodity data in the cart file corresponding to the cart ID. In this manner, even in the case where the commodities are selected a plurality of times before confirming the purchase in a single shopping by the user, a plurality of the commodity data can be stored in the same cart file.</p>
<p id="p-0011" num="0010">Meantime, in many cases, a conventional cart ID was constituted by, for example, date information such as an issue date, time, or the like and a receipt number of the cart ID. The receipt number is a serial number indicating a number of the cart ID issued in the order of transaction receipts on the date. For example, in the case where the 185-th cart ID on the date is issued at 9:26 p.m. on Feb. 28, 2000, the cart ID is “0002282126185.” In this manner, it is possible to manage the cart ID in a uni-sense by utilizing the serial number for the cart ID, thereby facilitating the management of the cart ID.</p>
<p id="p-0012" num="0011">However, the management of the cart ID by the receipt number causes a drawback in security. For example, in the case where such the cart ID is displayed as the URL at the terminal of the user, the user can readily know another person's cart ID. Accordingly, by inputting a digit code assumed as the another person's cart ID as the URL, there is a possibility that a shopping data connected with the another person's cart ID is acquired from the server, so that the user can see it. Furthermore, the user can alter another person's order, too.</p>
<p id="p-0013" num="0012">In order to solve such drawbacks, it is considered that the cart ID is not displayed. Specifically, as described above, the cart ID is written into a memory unit of the terminal as a cookie, or is non-openly incorporated into the HTML document, so that the cart ID can be non-disclosed.</p>
<p id="p-0014" num="0013">However, the non-disclosure of the cart ID causes the following inconveniences. Namely, in general, Internet sales enterprise has a support system which receives a user's questions by a telephone call. In the case where the user telephones in the transaction during a commodity selection, as the user cannot tell the own cart ID, the enterprise cannot judge which transaction the user is talking about, so the user can't get a smart and sufficient support.</p>
<p id="p-0015" num="0014">Furthermore, in order to solve the aforesaid drawbacks, it is considered that the cart ID is encoded and the encoded ID is disclosed to the user. Namely, the cart ID containing information of a date, a time, and a receipt number is encoded by a password algorithm to form a random code, so that a sense included in the cart ID is not clarified to the user. Thus, it becomes difficult to analogize the other existent cart IDs.</p>
<p id="p-0016" num="0015">However, encoding of the cart ID causes the below inconveniences. Namely, the encoding of the cart ID gives a large load on the server. Specifically, in the case where the cart ID is encoded, it is necessary to encode in the server and also decode, and for this reason, a surplus time has to be taken.</p>
<p id="p-0017" num="0016">Furthermore, in the case where the user puts a quest ion to the enterprise having the aforesaid support system by a telephone call, the user tells the disclosed encoded ID. Accordingly, unless the enterprise decodes it once and acquires the cart ID, the enterprise cannot grasp transaction information of the user corresponding to the cart ID. Therefore, the enterprise cannot correspond promptly to the user. In this manner, when the cart ID itself containing the serial number is not disclosed, the inconveniences are given to the user. It is thus undesirable.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0018" num="0017">It is therefore an object of the present invention to provide a method and apparatus for managing transaction numbers which can ensure the security, while laying open a cart ID (transaction number) containing a serial receipt number.</p>
<p id="p-0019" num="0018">In order to attain the above object, a cart ID according to the present invention is an identification code including receipt information containing at least a receipt number (serial number) indicating a receipt number of the transaction, and further unmeaning password information. Furthermore, it is preferable that the receipt information has date information in which the cart ID is issued. In this manner, the cart ID according to the present invention contains the password information in addition to the receipt information having conventional date information and the receipt number, whereby even when the cart ID is disclosed to the principal, it is possible to prevent another person from being informed thereof. For example, even when a mala fide user shifts the receipt number, and acquires another person's cart ID, as the password information is a random code, so far as the password information is not also coincident, the another person's cart ID cannot be acquired. On the other hand, as the cart ID according to the present invention contains the date information and receipt number, it is possible to utilize instantly these numbers without being decoded.</p>
<p id="p-0020" num="0019">To achieve the above object, according to an aspect of the present invention, there is provided a method of managing transaction numbers in commodity sale transactions via a network, the method comprising the steps of issuing a transaction number including receipt information and predetermined password information, the receipt information containing at least a receipt number indicative of the order of receipt of a predetermined transaction with a user; and displaying the transaction number on a terminal of the user.</p>
<p id="p-0021" num="0020">For example, the network may be Internet and the transaction number may be displayed, as part of URL of Internet, on the terminal. Preferably, the receipt information of the transaction number contains date and time at issuance of the transaction number. Preferably, the password information of the transaction number contains a plural-digit random number. Preferably, the transaction number is issued when at least one commodity is selected at the terminal, the transaction number being utilized till the determination of purchase of the selected commodity. Preferably, the transaction number is issued when an access is made from the terminal to a system of the commodity sale transaction, the transaction number being utilized till the determination of purchase of the commodity. In those cases, the transaction number may be invalidated when a predetermined period of time elapses before the determination of purchase of the selected commodity after the issuance of the transaction number.</p>
<p id="p-0022" num="0021">The method of the present invention preferably further comprises the step of, when another transaction number is received which coincides only with either the receipt information or password information of the transaction number, judging an improper access to the transaction number to erase the transaction number to reissue a new transaction number.</p>
<p id="p-0023" num="0022">The method of the present invention preferably further comprises the steps of, when another transaction number is received which coincides only with either the receipt information or password information of the transaction number, judging an improper access to the transaction number to count the number of times of the access; and when a transaction number is received after the number of times of the access has reached a predetermined number of times, erasing the transaction number to reissue a new transaction number, and displaying the new transaction number on the terminal.</p>
<p id="p-0024" num="0023">The method of the present invention preferably further comprises the step of, when another transaction number is received which coincides only with either the receipt information or password information of the transaction number, judging an improper access making use of the transaction number to delay a response to the terminal using the another transaction number.</p>
<p id="p-0025" num="0024">The method of the present invention may further comprise the step of, upon detection of an improper access to the transaction number, notifying alarm information to a terminal which sent the another transaction number.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram showing a structural example of a computer network according to an embodiment of the present invention;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram showing a structural example of a server <b>10</b>;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart of a method of managing a cart ID according to the embodiment of the present invention;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 4</figref> is a flowchart of the method of managing the cart ID according to the embodiment of the present invention;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 5</figref> shows is an example of a screen displayed in a terminal <b>20</b>;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 6</figref> shows an example of the screen displayed in the terminal <b>20</b>;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 7</figref> shows an example of the screen displayed in the terminal <b>20</b>;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 8</figref> shows an example of the screen displayed in the terminal <b>20</b>;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 9</figref> shows an example of the screen displayed in the terminal <b>20</b>;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 10</figref> shows an example of the screen displayed in the terminal <b>20</b>;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart of an order confirmation process;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 12</figref> is a flowchart of a method of managing the cart ID according to another embodiment of the present invention; and</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 13</figref> is a flowchart of a countermeasure method with respect to an improper access according to the embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0039" num="0038">Preferred embodiments of the present invention will now be described. However, a technical scope according to the present invention is not limited to the embodiments of the present invention. In the embodiments of the present invention, a personal computer will be described as an example of a commodity which is sold on Internet.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 1</figref> is a diagram showing a structural example of a computer network according to the embodiment of the present invention. In <figref idref="DRAWINGS">FIG. 1</figref>, a server <b>10</b> and a plurality of client terminals <b>20</b> are connected to Internet through a communication line. The server <b>10</b> is a server for providing Internet sales site according to the embodiment of the present invention, and storing a HTML file for the site, various programs and a database explained below, and the like. Each terminal <b>20</b> is, for example, a personal computer of a user, and comprises a control unit constituted by a CPU or the like, a display unit such as a CRT display, a liquid crystal display, or the like, and an input unit such as a key board, a mouse, or the like. Furthermore, the HTML file is acquired from the server <b>10</b> at the terminal <b>20</b>, and a browser <b>21</b> for displaying it on the screen is installed.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 2</figref> is a diagram showing a structural example of the server <b>10</b>. A control unit <b>11</b> is constituted by the CPU or the like. The control unit <b>11</b> controls a readout of a file, a transfer of a file, each unit within the server <b>10</b>, and retrieves a database, and issues the cart ID, and performs a managing process such as erasing or the like, and performs various operation processes. A communication unit <b>12</b> controls a transmission and receipt of files and data. For example, the communication unit <b>12</b> receives data from the terminal <b>20</b>, and transfers them to the control unit <b>11</b>, and further the files transferred from the control unit <b>11</b> are sent to the terminal <b>20</b>. Furthermore, the following files are stored in a predetermined memory unit within the server <b>10</b>.</p>
<p id="p-0042" num="0041">A HTML file <b>13</b> is a file composed of a plurality of pages constituting Internet sale site, and is described by a HTML (HyperText Markup Language) language.</p>
<p id="p-0043" num="0042">A main program file <b>14</b> has a program for reading out the HTML file to transfer it to the terminal <b>20</b>; a program for processing data from the terminal <b>20</b>; a program for retrieving a database; a program for burying the retrieval results in the HTML file; and a program for managing the cart ID.</p>
<p id="p-0044" num="0043">A commodity database <b>15</b> stores a plurality of pieces of attribute information in response to all transaction commodities. For example, in the case where the commodity is a personal computer, the attribute information is a product name, a price, a type (desktop type or notebook type), and various functions of the personal computer. The functions are a type of a CPU, a capacity of a memory, a capacity of a hard disk, a type of a display, presence or absence of a CD-ROM or DVD-ROM, and the like. The attribute information of the commodity is converted into the HTML file, and is sent to the terminal <b>20</b>, and is displayed on a screen of the terminal <b>20</b>.</p>
<p id="p-0045" num="0044">Furthermore, the server <b>10</b> comprises a cart file <b>16</b> for temporally storing commodity data selected by a user by operating the terminal <b>20</b>; and a purchase file <b>17</b> for storing the commodity data in which the purchase is determined. The commodity data within the cart file <b>16</b> are managed according to a cart ID (transaction number) to be provided each time the user buys the commodity.</p>
<p id="p-0046" num="0045">According to the embodiment of the present invention, this cart ID is an identification code containing receipt information containing at least a receipt number (serial number) indicating a receipt order of the transaction; and further unmeaning password information. Furthermore, it is preferable that the receipt information has date information in which the cart ID is issued. Namely,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Cart ID=Date Information+Reception Number (Serial Number)+Cipher Information<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
In this manner, the cart ID according to the present invention contains the password information in addition to the receipt information having conventional date information and the receipt number, so that even when the cart ID is disclosed to the principal, it is possible to prevent another person from being informed thereof. For example, even when a mala fide user shifts the receipt number, and acquires another person's cart ID, as the password information is a random code, so far as the password information is not also coincident, the another person's cart ID cannot be acquired.
</p>
<p id="p-0047" num="0046">On the other hand, as the cart ID according to the present invention contains the date information and receipt number, it is possible to utilize instantly these numbers without being decoded. For example, when the user puts a question to a support center of an enterprise by a telephone call, the user tells the disclosed own cart ID, so that the enterprise can acquire the date information and receipt number (serial number) of the transaction without decoding the cart ID, and can promptly cope with the user.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIGS. 3 and 4</figref> are flowcharts of a method of managing the cart ID according to the embodiment of the present invention. Furthermore, <figref idref="DRAWINGS">FIGS. 5 to 10</figref> are examples of a screen displayed in the terminal <b>20</b> in each step of the method of managing the cart ID. With reference to <figref idref="DRAWINGS">FIGS. 5 to 10</figref>, <figref idref="DRAWINGS">FIGS. 3 and 4</figref> will be described.</p>
<p id="p-0049" num="0048">In <figref idref="DRAWINGS">FIG. 3</figref>, first, a user A utilizes a browser <b>21</b> of a terminal <b>20</b>A, and accesses Internet commodity sale site provided by the server <b>10</b> via Internet (S<b>10</b>). The server <b>10</b> sends, for example, the HTML file for a commodity guide screen to the terminal <b>20</b>A in response to the access (S<b>11</b>). The terminal <b>20</b>A displays the HTML file sent on the screen (S<b>12</b>). At this point of time, the cart ID is not issued.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 5</figref> is an example of a commodity guide screen. On the screen, an explanation of a commodity (for example, a personal computer) is displayed. In <figref idref="DRAWINGS">FIG. 5</figref>, the user A inputs the quantity of the commodity, and clicks “Place the commodity on the cart”, so that the commodity is selected (S<b>13</b>). The selected commodity data are sent from the terminal <b>20</b>A to the server <b>10</b> (S<b>14</b>). The server <b>10</b> receives the commodity data. At this time, as the cart ID is not included in the commodity data in response to an initial commodity selection, the server <b>10</b> issues a new cart ID, and stores the commodity data in the cart file <b>16</b> together with the cart ID (S<b>15</b>)</p>
<p id="p-0051" num="0050">The cart ID to be issued contains date information as an issue date and an issue time; a receipt number on the issue date; and predetermined password information. For example, in the case where the 185-th cart ID on the date is issued at 9:26 p.m. on Feb. 28, 2000, the cart ID is “00022821261856637864.” of this digit code, “0002282126185” of the upper 13 digits is in sequence date information and a receipt number. “6637864” of the lower 7 digits is password information containing a random number generated at random. This password information is not a serial number, and the number has no specified sense.</p>
<p id="p-0052" num="0051">Incidentally, when the user A clicks “In the cart” on the screen of <figref idref="DRAWINGS">FIG. 5</figref> before the cart ID is issued, the screen shown in <figref idref="DRAWINGS">FIG. 6</figref> is displayed. As the cart ID is not issued, the server <b>10</b> does not receive the cart ID together with a demand in response to “In the cart.” The server <b>10</b> recognizes that the commodity is not selected, and the HTML file for the screen shown in <figref idref="DRAWINGS">FIG. 6</figref> is sent to the terminal <b>20</b>A.</p>
<p id="p-0053" num="0052">When the server <b>10</b> stores the commodity data in the cart file <b>16</b>, the server <b>10</b> sends the commodity data in response to the cart ID in the cart file <b>16</b> as the HTML file in order to identify the selected commodity (S<b>16</b>). <figref idref="DRAWINGS">FIG. 7</figref> is an example of a selection identification screen. In <figref idref="DRAWINGS">FIG. 7</figref>, the name of commodity selected, etc. are displayed. Furthermore, the cart ID “00022821261856637864” is displayed as part of a URL in a URL display part in the screen. Thus, the user A can know the cart ID in response to a present shopping.</p>
<p id="p-0054" num="0053">Here, the user A operates to return the screen to a previous screen (clicks “Return” in an operation menu of an browser not shown) (S<b>17</b>). The terminal <b>20</b>A sends a demand corresponding to “Return” together with the cart ID (S<b>18</b>). Then, the server <b>10</b> sends the HTML file corresponding to the same commodity guide screen (<figref idref="DRAWINGS">FIG. 8</figref>) as the screen of <figref idref="DRAWINGS">FIG. 5</figref> as a screen prior to the present screen together with the cart ID (S<b>19</b>). The terminal <b>20</b>A displays the screen of <figref idref="DRAWINGS">FIG. 8</figref> corresponding to the sent HTML file (S<b>20</b>). On the screen of <figref idref="DRAWINGS">FIG. 8</figref>, the cart ID is displayed in the URL display part. In this manner, once the cart ID is issued, the cart ID is added to the data communicated between the server <b>10</b> and terminal <b>20</b>A. Accordingly, even when the screen is changed during the user A's selection of the commodity, the cart ID is always displayed in the URL display part of the screen, and the user A can look at the cart ID.</p>
<p id="p-0055" num="0054">The user A clicks “In the cart” of <figref idref="DRAWINGS">FIG. 8</figref> in order to identify the selected commodity in the present shopping (S<b>21</b>). The terminal <b>20</b>A sends a demand corresponding to “In the cart” together with the cart ID (S<b>22</b>). The server <b>10</b> receives the cart ID together with the demand. The server <b>10</b> reads out the commodity data managed by the received cart ID from the cart file <b>16</b> (S<b>23</b>), and sends the HTML file for the commodity identification screen in which the commodity data are buried together with the cart ID (S<b>24</b>). The terminal <b>20</b>A displays the commodity identification screen of <figref idref="DRAWINGS">FIG. 9</figref> in response to the sent HTML file (S<b>25</b>). On the screen of <figref idref="DRAWINGS">FIG. 9</figref>, the commodity data stored in the cart in response to the present cart ID are displayed. Of course, the cart ID is displayed in the URL display part. Here, the user A clicks “Continue the shopping” of <figref idref="DRAWINGS">FIG. 9</figref>, to display the other commodity guide screens (not shown), and continues a commodity selection.</p>
<p id="p-0056" num="0055">Referring then to <figref idref="DRAWINGS">FIG. 4</figref>, while the user A selects a commodity, the server <b>10</b> is accessed at a terminal <b>20</b>Z of a mala fide user Z. Specifically, similar to the case of the user A, the terminal <b>20</b>Z accesses Internet commodity sale site provided by the server <b>10</b> via Internet (S<b>30</b>). The server <b>10</b> sends, for example, the HTML file for the commodity guide screen to the terminal <b>20</b>Z in response to the access (S<b>31</b>). The terminal <b>20</b>Z displays on the screen of <figref idref="DRAWINGS">FIG. 5</figref> in response to the sent HTML file (S<b>32</b>). At this point of time, the cart ID has not been yet issued.</p>
<p id="p-0057" num="0056">The user Z inputs the quantity of commodity selected arbitrarily, and clicks “Place it in the cart” (S<b>33</b>). Thus, the commodity is selected and the commodity data are sent to the server <b>10</b> (S<b>34</b>).</p>
<p id="p-0058" num="0057">When the server <b>10</b> receives the commodity data, a new cart ID is issued, and the commodity data are stored in the cart file <b>16</b> together with the cart ID (S<b>35</b>). The receipt number included in the issued cart ID is later than the receipt number included in the cart ID of the user A. Furthermore, the date information included in the cart ID of the user Z is the same time as that in the user A, or a time (or a date) later than that in the user A. Furthermore, the password information included in the cart ID of the user Z is a number which has no connection with that of the user A.</p>
<p id="p-0059" num="0058">When the server <b>10</b> stores the commodity data in the cart file <b>16</b>, the commodity data corresponding to the cart ID in the cart file <b>16</b> are sent as the HTML file in order to confirm the selected commodity (S<b>36</b>). The terminal <b>20</b>Z displays the selection identification screen of <figref idref="DRAWINGS">FIG. 7</figref> (S<b>37</b>). However, the cart ID displayed as a part of the URL in the URL display part is an ID issued to a shopping of the user Z.</p>
<p id="p-0060" num="0059">Here, the user Z changes some part of the cart ID displayed in the URL display part. For example, assume that the cart ID of the user Z is “0002821266186XXXXXXX.” Namely, the cart ID of the user Z is issued at the same time as that of the user A, and has a next number of the receipt number of the user A. Furthermore, the lower 7 digits “XXXXXXX” of the cart ID of the user Z is the password information containing a random number generated at random by the server <b>10</b> as described above.</p>
<p id="p-0061" num="0060">The user Z changes “186” as a receipt number part of the cart ID to a previous number “185.” Furthermore, the user Z presumes that the date information is same as in the user A, and the date information is not to be changed. Thus, the date information and receipt number part of the cart ID displayed on the screen of the terminal <b>20</b>Z of the user Z are coincident with those of the user A. However, as the user Z cannot expect at all a password information part of the cart ID of the user A, an arbitrary number “YYYYYYY” is given. This number is a number different from the password information of the cart ID of the user A.</p>
<p id="p-0062" num="0061">The user Z changes the displayed cart ID to “0002282126185YYYYYYY,” and depresses an “ENTER” button of the terminal <b>20</b>Z (S<b>38</b>). Thus, a demand of the HTML file in response to the URL containing the cart ID is sent to the server <b>10</b> (S<b>39</b>). When the server <b>10</b> receives the demand from the terminal <b>20</b>Z, it searches the interior of the cart file <b>16</b> for the received cart ID. However, the received cart ID does not exist. The received cart ID coincides with the cart ID of the user A in the date information and receipt number part, but as the password information part is different, they do not coincide with the cart ID.</p>
<p id="p-0063" num="0062">When the server <b>10</b> judges that the received cart ID is different from the cart ID of the user A in only the password information part, the server <b>10</b> recognizes that an improper access is performed to the cart ID of the user A, and counts improper access every cart ID (S<b>40</b>). Furthermore, the alarm information is sent to the terminal <b>20</b>Z of the user Z (S<b>41</b>). At the terminal <b>20</b>Z, the alarm information shown in <figref idref="DRAWINGS">FIG. 10</figref> is displayed overlaid on the screen displayed currently (screen of <figref idref="DRAWINGS">FIG. 6</figref>) (S<b>42</b>). The alarm information is vanished from on the screen by clicking an OK button of <figref idref="DRAWINGS">FIG. 10</figref>.</p>
<p id="p-0064" num="0063">Incidentally, in the case where both of the date information and receipt number part of the received cart ID and the password information part are not coincident with either of those of the cart ID in the cart file <b>16</b>, the server <b>10</b> does not count the number of times of the access and notices only the alarm information. Incidentally, in the case where the cart ID which coincides with only the password information part of the received cart ID exists in the cart file <b>16</b>, the server <b>10</b> judges that the improper access is done, and counts the number of times of access in the cart ID as a target of the improper access. Similarly, the alarm information is notified.</p>
<p id="p-0065" num="0064">The user Z erases the alarm information, and changes the password information to another digit code again, and repeats the access to the server <b>10</b>. Namely, steps S<b>38</b> to S<b>42</b> are repeated. Each time the improper accesses are repeated, the alarm information shown in <figref idref="DRAWINGS">FIG. 10</figref> is displayed. Therefore, the user Z has to operate to erase it. Accordingly, it is possible to delay the improper access by the user Z.</p>
<p id="p-0066" num="0065">As the password information part has a plurality of digits containing a random number (7 digits in this embodiment), the probability is extremely low that the password information of the cart ID input at a guess by the user Z coincides with that of the cart ID of the user A. Each time the server <b>10</b> judges that it is an improper access, the server <b>10</b> counts the number of times of accesses. When the number of times of the improper accesses to the cart ID of the user A reaches N times (for example, three times), the server <b>10</b> erects a flag (FL) for the cart ID of the user A in the cart file <b>16</b> (S<b>43</b>). When the server <b>10</b> erects the flag for the cart ID, when the server <b>10</b> next receives the cart ID, the server <b>10</b> erases the cart ID from the cart file <b>16</b> and reissues another cart ID.</p>
<p id="p-0067" num="0066">Assume that, in a condition that a flag is erected in the cart ID of the user A, the user A per se accesses the server. This is, for example, the case where the user A selects an additional commodity on the commodity guide screen, and clicks “Place it in the cart” (S<b>44</b>). In this case, the cart ID of the user A is sent to the server <b>10</b> together with the commodity data (S<b>45</b>). As a flag is erected in the cart ID of the user A in the cart file <b>16</b>, when the server <b>10</b> receives the cart ID of the user A, the server <b>10</b> invalidates the received cart ID of the user A (preferably, erases it), and reissues the cart ID of the user A (S<b>46</b>). Furthermore, the flag erected is lowered. The server <b>10</b> sends the HTML file of the selection identification screen (<figref idref="DRAWINGS">FIG. 7</figref>) containing the cart ID reissued to the terminal <b>20</b>A.</p>
<p id="p-0068" num="0067">The cart ID reissued has the date information and receipt number at the time of re-issuance, and further contains the password information containing a random number generated newly. Accordingly, the date information and receipt number part of the cart ID of the user A reissued are different from them in the ex-cart ID of the user A, and the cart ID containing a number called “185” in the receipt number part does not exist in the cart file <b>16</b>. Accordingly, even when the user Z tries to access many times, the improper access is never succeeded.</p>
<p id="p-0069" num="0068">In this manner, the cart ID according to the embodiment of the present invention has the date information and receipt number as well as the password information. Since the password information contains a random number having no specific sense, it is impossible to decode another person's password information part in effect. Accordingly, even when the date information and receipt number part are disclosed, the improper access can be prevented. According to the embodiment of the present invention, further, in the case where the number of times of the improper access reaches the predetermined one, in order to make perfection more perfect in security of the cart ID, the cart ID as a target of the improper access is reissued. Specifically, as described above, when the server detects an access by the cart ID in which the date information and receipt number coincide with each other, but the password information does not coincide with each other, or an access by the cart ID in which the date information and receipt number do not coincide with each other, but the password information coincides with each other, the server <b>10</b> recognizes it as the improper access to the really existing cart ID containing the coincident part, and counts the number of times of access. After the number of times of access to the cart ID as a target of the improper access reaches the predetermined number of times, when the server <b>10</b> detects the access by the cart ID, the server <b>10</b> erases the cart ID and reissues a new cart ID. Thus, as the cart ID as the target of the improper access does not exist, the improper access can fully be prevented.</p>
<p id="p-0070" num="0069"><figref idref="DRAWINGS">FIG. 11</figref> is a flowchart of an order confirmation process by the user A. In <figref idref="DRAWINGS">FIG. 11</figref>, when the user A ends a commodity selection, the user A clicks a “Purchase” button on the screen of <figref idref="DRAWINGS">FIG. 7</figref>, <b>8</b>, or <b>9</b> (S<b>50</b>). The purchase confirmation notice is sent to the server <b>10</b> together with the cart ID (S<b>51</b>). When the server <b>10</b> receives the purchase confirmation notice, the server <b>10</b> transfers the commodity data managed by the received cart ID to a purchase file <b>17</b> in the cart file <b>16</b> (S<b>52</b>). Namely, the cart ID and commodity data are erased from the cart file <b>16</b>. On the other hand, the commodity data transferred to the purchase file <b>17</b> are managed by an order ID to be newly issued.</p>
<p id="p-0071" num="0070">When the commodity data are stored in the purchase file <b>17</b>, it is impossible to change the purchase after the point of time. Because the purchase file <b>17</b> is an access disable file. On the other hand, the cart file <b>16</b> is a file which can be accessed by the terminal <b>20</b> so as to cancel the once selected commodity, and add, change, or the like the commodity to be purchased. Accordingly, there is a danger of the improper access from the other users, and according to the aforesaid embodiment, the improper access to the accessible cart file <b>16</b> is prevented.</p>
<p id="p-0072" num="0071">The server <b>10</b> sends the HTML file in response to a purchase confirmation screen (not shown), and notices the order ID to the user A (S<b>53</b>). Furthermore, the purchase confirmation may separately be noticed by an electronic mail. Alternatively, it may be noticed by a mail service.</p>
<p id="p-0073" num="0072">Furthermore, according to the embodiment of the present invention, when a predetermined period of time or more has elapsed from the issue time before the issued cart ID is erased by the aforesaid purchase confirmation, the issued cart ID may automatically be erased. The predetermined period of time is, for example, 2 days (48 hours). In the case where the user selects the commodity and places the commodity data in the cart file <b>16</b>, while the user disconnects the transaction, in order to clear the transaction, the server <b>10</b> erases the commodity data and cart ID in the cart file <b>16</b> corresponding to the transaction.</p>
<p id="p-0074" num="0073">Accordingly, after a predetermined period of time or more has elapsed from the issue time of the cart ID, even when the user desires to continue the disconnected transaction, the cart ID and commodity data are erased in the cart file. Therefore, the user cannot continue to transaction. It is assumed that the user has doubts about the matter and telephones to the support center. Even in this case, the terminal of the user displays the cart ID issued prior to the disconnection of the transaction by a history storage function of the browser. Accordingly, the user can send the displayed cart ID to the support center. As the cart ID includes time information at the time of the issue, the support center can forthwith judge that 2 days or more have elapsed after the issue of the cart ID, and can promptly answer the user that the transaction is cleared. In the case where the cart ID is non-displayed, or is all encoded as in the prior art, in order to perform a retrieval process or decode process of the cart ID, it is necessary for the user to wait for a while during the telephone call. However, according to the embodiment of the present invention, it is possible to promptly answer the user, and contribute to enhance a service of the support center.</p>
<p id="p-0075" num="0074">Next, a method of managing the cart ID according to another embodiment of the present invention will be explained.</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIG. 12</figref> is a flowchart of the method of managing the cart ID according to another embodiment of the present invention. Incidentally, only a characteristic process part according to this embodiment will be described, and the other processes are same as a process content explained by use of <figref idref="DRAWINGS">FIGS. 3 and 4</figref>. Therefore, the description is omitted.</p>
<p id="p-0077" num="0076">In the process of the embodiment in <figref idref="DRAWINGS">FIGS. 3 and 4</figref>, the cart ID is issued at the point of time when a commodity is selected. On the contrary, this embodiment differs mainly in that the cart ID is issued at the point of time when Internet commodity sale site provided by the server <b>10</b> is accessed by the terminal <b>20</b>A.</p>
<p id="p-0078" num="0077">In <figref idref="DRAWINGS">FIG. 12</figref>, first, the user A utilizes the terminal <b>20</b>A (browser <b>21</b>) to access Internet commodity sale site provided by the server <b>10</b> via Internet.</p>
<p id="p-0079" num="0078">The server <b>10</b> newly issues the cart ID in response to the access and stores it in the cart file <b>16</b> (S<b>61</b>). A form of this cart ID and a method of forming it are same as in the aforesaid embodiment.</p>
<p id="p-0080" num="0079">Furthermore, the server <b>10</b> sends to the terminal <b>20</b>A the HTML file for the commodity guide screen containing the cart ID issued newly (S<b>62</b>).</p>
<p id="p-0081" num="0080">The terminal <b>20</b>A displays the sent HTML file on the screen (S<b>63</b>). The cart ID is displayed as part of the URL in the URL display part of the commodity guide screen displayed.</p>
<p id="p-0082" num="0081">When the user A selects the commodity (S<b>64</b>), the selected commodity data and cart ID are sent from the terminal <b>20</b>A to the server <b>10</b> (S<b>65</b>).</p>
<p id="p-0083" num="0082">The server <b>10</b> stores the commodity data in the corresponding cart file <b>16</b> based on the cart ID received together with the commodity data from the terminal <b>20</b>A (S<b>66</b>)</p>
<p id="p-0084" num="0083">Furthermore, in order to identify the selected commodity, the server <b>10</b> sends the HTML file for the selection identification screen to the terminal <b>20</b>A (S<b>67</b>).</p>
<p id="p-0085" num="0084">According to the aforesaid embodiment, when returning to a condition prior to issuing the cart ID by utilizing the history storage function of the browser after the cart ID has been issued, such a phenomenon occurs that the cart ID is not displayed in the URL display part.</p>
<p id="p-0086" num="0085">On the contrary, according to this embodiment, since the cart ID is issued at the point of time when the user accesses the commodity sale site, as far as perusing a page within this site, the cart ID is always displayed in the URL display part, so that it becomes possible to prevent the occurrence of the phenomenon.</p>
<p id="p-0087" num="0086">Furthermore, another embodiment in a countermeasure method of the improper access in <figref idref="DRAWINGS">FIG. 4</figref> will be described.</p>
<p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. 13</figref> is a flowchart of the countermeasure method of the improper access according to another embodiment of the present invention. Incidentally, only a characteristic process part according to this embodiment is described, and the other processes are same as the process content described by use of <figref idref="DRAWINGS">FIG. 4</figref>. Therefore, the description is omitted.</p>
<p id="p-0089" num="0088">In the process of <figref idref="DRAWINGS">FIG. 4</figref>, the number of times of the access is counted with respect to the improper access by the mala fide user Z, and the alarm information is displayed, and in the case where the number of times of access is the predetermined number of times N or more, the cart ID which is being used so far is invalidated.</p>
<p id="p-0090" num="0089">In the process of <figref idref="DRAWINGS">FIG. 13</figref>, in the case where the number of times of access as the improper access is less than the predetermined number of times N, and the predetermined number of times M or more, it is a characteristic process that a reply to the terminal <b>20</b>Z which is being utilized by the user Z is intensively delayed.</p>
<p id="p-0091" num="0090">First, when the server <b>10</b> judges that the improper access by the cart ID changed by the user Z was made, the server <b>10</b> starts counting the number of times of access in the cart ID as the target of the improper access (S<b>40</b>).</p>
<p id="p-0092" num="0091">When the number of times of access is less than N times (here, for example, 7 times) and less than M times (for example, 3 times), the alarm information is promptly noticed to the terminal Z. However, when the number of times of access is less than N times and M times or more, the server 10 delays more than a normal response (S<b>71</b>), and thereafter notices the alarm information to the terminal <b>20</b>Z (S<b>41</b>). Incidentally, a delay time may be increased in proportion to an increase in the number of times of access. In this manner, the response to the mala fide user is delayed, so that the improper access operations can be prevented.</p>
<p id="p-0093" num="0092">According to the present invention, as set forth hereinabove, it is possible to prevent the improper access to the cart file which stores temporally the selected commodity data prior to the purchase confirmation in Internet commodity sales.</p>
<p id="p-0094" num="0093">The scope of protection of the present invention is not intended to be limited to the above embodiments and covers the invention as defined in the appended claims and equivalents thereof.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A transaction system using transaction session identifiers in commodity sale transactions via a network, the system comprising:
<claim-text>a server, in the transaction system, issuing, when a user with a terminal starts a transaction session via the network, a session identification code that comprises a combination of a serial number and a security token, wherein the serial number identifies the started transaction session and indicates a transaction order in which the transaction with the user was started relative to other transactions of the transaction system, and wherein the issued session identification code is used by the transaction system to identify and manage the transaction session when the user, by exchanges via the network with the user's terminal, interactively adds or removes commodities to or from the transaction session before completion of the transaction session; and transmitting the identification code to the user's terminal during the transaction session; and</claim-text>
<claim-text>the user's terminal, in the transaction system, displaying the issued session identification code received from the server via the network, wherein:</claim-text>
<claim-text>the server, when receiving another session identification code which coincides only with either the serial number or the security token of the issued session identification code, judges an improper access to the another session identification code and erases the another session identification code and reissues a new session identification code.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A transaction system using transaction session identifiers in commodity sale transactions via a network, the system comprising:
<claim-text>a server, in the transaction system, issuing, when a user with a terminal starts a transaction session via the network, a session identification code that comprises a combination of a serial number and a security token, wherein the serial number identifies the started transaction session and indicates a transaction order in which the transaction with the user was started relative to other transactions of the transaction system, and wherein the issued session identification code is used by the transaction system to identify and manage the transaction session when the user, by exchanges via the network with the user's terminal, interactively adds or removes commodities to or from the transaction session before completion of the transaction session; and transmitting the identification code to the user's terminal during the transaction session; and</claim-text>
<claim-text>the user's terminal, in the transaction system, displaying the issued session identification code received from the server via the network; wherein:
<claim-text>the server, when receiving another session identification code which coincides only with either the serial number or the security token of the issued session identification code, judges an improper access to the another session identification code and erases the another session identification code and reissues a new session identification code; and</claim-text>
</claim-text>
<claim-text>the server, further notifies alarm information to a terminal which sent the another session identification code, upon judging the improper access to the another session identification code.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
