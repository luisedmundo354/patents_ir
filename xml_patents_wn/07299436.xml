<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299436-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299436</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11054880</doc-number>
<date>20050210</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>200</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>17</main-group>
<subgroup>50</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>9</main-group>
<subgroup>45</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>716  6</main-classification>
<further-classification>716  3</further-classification>
<further-classification>716  5</further-classification>
</classification-national>
<invention-title id="d0e53">System and method for accurately modeling an asynchronous interface using expanded logic elements</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4979190</doc-number>
<kind>A</kind>
<name>Sager et al.</name>
<date>19901200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5469367</doc-number>
<kind>A</kind>
<name>Puri et al.</name>
<date>19951100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>716 18</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5493505</doc-number>
<kind>A</kind>
<name>Banerjee et al.</name>
<date>19960200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>716 18</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5592685</doc-number>
<kind>A</kind>
<name>Pawlowski</name>
<date>19970100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710 62</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5748487</doc-number>
<kind>A</kind>
<name>Sawasaki et al.</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>716  1</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5790830</doc-number>
<kind>A</kind>
<name>Segal</name>
<date>19980800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6226774</doc-number>
<kind>B1</kind>
<name>Sawasaki et al.</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>716  1</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6321184</doc-number>
<kind>B1</kind>
<name>Baumgartner et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6321366</doc-number>
<kind>B1</kind>
<name>Tseng et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>716  6</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6324679</doc-number>
<kind>B1</kind>
<name>Raghunathan et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>716 18</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6785873</doc-number>
<kind>B1</kind>
<name>Tseng</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6892314</doc-number>
<kind>B2</kind>
<name>Chen</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6956788</doc-number>
<kind>B1</kind>
<name>Nguyen et al.</name>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>6957403</doc-number>
<kind>B2</kind>
<name>Wang et al.</name>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>7089818</doc-number>
<kind>B2</kind>
<name>Bair et al.</name>
<date>20060800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2005/0069068</doc-number>
<kind>A1</kind>
<name>Gundurao et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00017">
<othercit>Unger, Hazard, Critical Races, and Metastability, Jun. 1995, IEEE, vol. 44, No. 6, pp. 754-767.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00018">
<othercit>Lavagno et al., Algorithms for synthesis of hazard-free asynchronous circuit, 1991, ACM, p. 302-308.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00019">
<othercit>Shieh et al., Fault effects in asynchronous sequential logic circuits, Nov. 1993, IEEE,vol. 140, No. 6, pp. 327-332.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00020">
<othercit>Synthesis of Hazard-Free Multi-level Logic under Multiple-Input Change from Binary Decison Diagrams, 1994, IEEE/ACM, pp. 542-549.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00021">
<othercit>U.S. Appl. No. 10/841,729, filed May 7, 2004.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>716  1-  6</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>716 16- 18</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>703  1</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>703 14- 23</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>16</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060190858</doc-number>
<kind>A1</kind>
<date>20060824</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Chu</last-name>
<first-name>Bing-Lun</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Ja</last-name>
<first-name>Yee</first-name>
<address>
<city>Round Rock</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Nelson</last-name>
<first-name>Bradley S.</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Roesner</last-name>
<first-name>Wolfgang</first-name>
<address>
<city>Austin</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Walder, Jr.</last-name>
<first-name>Stephen J.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Salys</last-name>
<first-name>Casimer K.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>International Business Machines Corporation</orgname>
<role>02</role>
<address>
<city>Armonk</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Chiang</last-name>
<first-name>Jack</first-name>
<department>2825</department>
</primary-examiner>
<assistant-examiner>
<last-name>Doan</last-name>
<first-name>Nghia M.</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A system and method for accurately modeling an asynchronous interface using expanded logic elements are provided. With the apparatus and method, the logic of an asynchronous interface is reduced to primitive logic elements. These primitive logic elements are expanded by the mechanisms of the present invention to take into consideration whether or not the primitive logic elements themselves may be experiencing a switching or glitch hazard and whether or not the inputs to the primitive logic elements may be based on a switching or glitch hazard from another primitive logic element in the asynchronous interface logic. These expanded logic elements are used in an integrated circuit design to replace the original primitive logic elements in the design. The asynchronous interface may then be simulated with the expanded logic elements providing outputs indicative of whether the actual data output of the expanded logic elements is deterministic or not.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="212.01mm" wi="86.44mm" file="US07299436-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="215.98mm" wi="165.10mm" file="US07299436-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="227.84mm" wi="162.90mm" orientation="landscape" file="US07299436-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="226.40mm" wi="158.16mm" orientation="landscape" file="US07299436-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="204.47mm" wi="145.37mm" orientation="landscape" file="US07299436-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="205.66mm" wi="147.24mm" orientation="landscape" file="US07299436-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="239.18mm" wi="182.20mm" file="US07299436-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="205.57mm" wi="144.53mm" file="US07299436-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATION</heading>
<p id="p-0002" num="0001">The present application is related to co-pending and commonly assigned U.S. patent application Ser. No. 10/841,729, entitled “Method and Program Product for Modeling Behavior of Asynchronous Clocks in a System Having Multiple Clocks,” filed on May 7, 2004, which is hereby incorporated by reference.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Technical Field</p>
<p id="p-0004" num="0003">The present invention relates generally to an improved data processing system and method. More specifically, the present invention provides a system and method for accurately modeling an asynchronous interface using expanded logic elements.</p>
<p id="p-0005" num="0004">2. Description of Related Art</p>
<p id="p-0006" num="0005">An asynchronous interface is an interface between two independent synchronous clock domains which must communicate with one another. These clock domains may result from circuit elements being clocked by clocks that run at different clock speeds, clock domains clocked at the same frequency but having different clock sources, a single clock source having a clock distribution whose transmission delays are not guaranteed to be identical, and the like. Examples of asynchronous interfaces include asynchronous memory interfaces, asynchronous bus interfaces, and the like. Asynchronous interfaces are being used more often in today's computing technologies since it is often the case that one component operates at a first clock speed while another component, with which data communication is necessary, operates at a different clock speed.</p>
<p id="p-0007" num="0006">An example block diagram of an asynchronous interface is shown in <figref idref="DRAWINGS">FIG. 1</figref>. As shown, the asynchronous interface typically includes a source element <b>110</b> operating in a first synchronous clock domain clk<b>1</b> which must communicate with a sink element <b>130</b> operating in a second synchronous clock domain clk<b>2</b>. Logic <b>120</b> is provided as a means for communicating between the two clock domains clk<b>1</b> and clk<b>2</b> and constitutes the asynchronous interface between these two clock domains. The logic <b>120</b> may be very complex.</p>
<p id="p-0008" num="0007">During design of such asynchronous interfaces, it is important to be able to verify the operation of these interfaces. There are five conditions that exist in asynchronous interfaces that make verification difficult. These five conditions include clock skew, combinatorial switching hazards, combinatorial glitch hazards, asynchronous latch updates (sometimes referred to as propagation delay), and meta-stability. Clock skew is the time differential between the latest a rising clock edge can occur and the earliest a rising clock edge can occur during one clock period. Because of the differences in clocks of an asynchronous interface, clock skew of each of these clocks, and a potential differential in propagation delay from source to sink, it is possible for one input signal to arrive sooner or later than another input signal to the logic of the asynchronous interface. This leads to the occurrence of combinatorial glitch and switching hazards. Moreover, combinatorial logic may also be sourced by multiple asynchronous clock domains and each transition could independently cause a switch and glitch hazard.</p>
<p id="p-0009" num="0008">Combinatorial glitch hazards may be generated when one input to the logic of the asynchronous interface transitions faster or sooner than another input to the logic. Combinational switching hazards may be generated when one input is maintained at its current state while another input transitions to another state. If the other input transitions too slowly, the output of the logic may not be the intended output and thus, a switching hazard occurs. These hazards lead to asynchronous latch updates which cause the wrong output signal from the logic gates to be latched into the sink latches.</p>
<p id="p-0010" num="0009">The difference in clocks and clock skew also leads to meta-stability problems. A meta-stable state is a state that exists between either valid digital logic state. Thus, there is a time period in which the state of the logic is uncertain. The clock, and data transitions can and will occur at any point in time. The meta-stability window is the period of time the sink latch can ‘bounce’ between logical values.</p>
<p id="p-0011" num="0010">Historically, verification engineers did not have a method of verifying that the design did not have errors due to these conditions. Some methods attempt to classify asynchronous crossing, i.e. asynchronous interface, designs into a pattern of a known standard design template. However, there are many cases where the designs go outside the traditional templates and allow for protocol violations to occur. When such cases arise, the design may ignore the results of the asynchronous crossings, i.e. the asynchronous interface, at some point later in the design, thereby leading to incorrect results.</p>
<p id="p-0012" num="0011">Thus, it would be beneficial to have a system and method for modeling asynchronous interfaces accurately such that the problems associated with clock skew, glitch hazards, switching hazards, asynchronous latch updates, and met-stability are accounted for in order to verify an asynchronous interface design.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0013" num="0012">As discussed above, the present invention provides a system and method for accurately modeling an asynchronous interface using expanded logic elements. With the present invention, the logic of an asynchronous interface is reduced to primitive logic elements. These primitive logic elements are expanded by the mechanisms of the present invention to take into consideration whether or not the primitive logic elements themselves may be experiencing a switching or glitch hazard and whether or not the inputs to the primitive logic elements may be based on a switching or glitch hazard from another primitive logic element in the asynchronous interface logic.</p>
<p id="p-0014" num="0013">These expanded logic elements are used in an integrated circuit design to replace the original primitive logic elements in the design. The asynchronous interface may then be simulated with the expanded logic elements providing outputs indicative of whether the actual data output of the expanded logic elements is deterministic or not. In addition, based on whether or not the actual data output is deterministic or not, the data output may be replaced with another value indicative of the occurrence of a glitch or switching hazard.</p>
<p id="p-0015" num="0014">These and other features and advantages of the present invention will be described in, or will become apparent to those of ordinary skill in the art in view of, the following detailed description of the preferred embodiments.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0016" num="0015">The novel features believed characteristic of the invention are set forth in the appended claims. The invention itself, however, as well as a preferred mode of use, further objectives and advantages thereof, will best be understood by reference to the following detailed description of an illustrative embodiment when read in conjunction with the accompanying drawings, wherein:</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 1</figref> is an exemplary block diagram illustrating an asynchronous interface;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 2</figref> is an exemplary block diagram of an exemplary data processing system in which aspects of the present invention may be implemented;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 3</figref> is an exemplary diagram illustrating an AND gate and a standard truth table for the standard AND gate;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 4</figref> is an exemplary diagram illustrating an expanded truth table for an AND gate identifying states in which switching/glitch hazards may occur;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 5</figref> is an exemplary diagram illustrating an expanded truth table for an OR gate identifying states in which switching/glitch hazards may occur;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 6</figref> is an exemplary diagram illustrating an expanded truth table for an XOR gate identifying states in which switching/glitch hazards may occur;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 7</figref> is an exemplary diagram illustrating an expanded AND gate in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 8</figref> is an exemplary diagram illustrating a fully expanded truth table for the expanded AND gate illustrated in <figref idref="DRAWINGS">FIG. 7</figref>;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 9</figref> is an exemplary diagram illustrating a fully expanded truth table for an expanded OR gate in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 10</figref> is an exemplary diagram illustrating a fully expanded truth table for an expanded XOR gate in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIG. 11</figref> is an exemplary diagram illustrating how long an output of the expanded gate must be held active;</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIGS. 12A and 12B</figref> are diagrams illustrating a standard register and an expanded register in accordance with an exemplary embodiment of the present invention;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIGS. 13A and 13B</figref> are diagrams illustrating a initial asynchronous interface logic design and an expanded asynchronous interface logic design in accordance with an exemplary embodiment of the present invention; and</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart outlining an exemplary operation of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0031" num="0030">The present invention provides a system and method for accurately modeling an asynchronous interface. As such, the present invention may be used in conjunction with a computerized integrated circuit design system. <figref idref="DRAWINGS">FIG. 2</figref> is provided as an example of a computerized data processing system in which aspects of the present invention may be implemented. It should be appreciated that <figref idref="DRAWINGS">FIG. 2</figref> is only exemplary and is not intended to state or imply any limitation as to the type or configuration of the data processing systems that may be used to implement the system and method of the present invention. Many modifications to the data processing system shown in <figref idref="DRAWINGS">FIG. 2</figref> may be made without departing from the spirit and scope of the present invention.</p>
<p id="p-0032" num="0031">With reference now to <figref idref="DRAWINGS">FIG. 2</figref>, a block diagram of a data processing system is shown in which the present invention may be implemented. Data processing system <b>200</b> is an example of a computer, such as computer <b>100</b> in <figref idref="DRAWINGS">FIG. 1</figref>, in which code or instructions implementing the processes of the present invention may be located. Data processing system <b>200</b> employs a peripheral component interconnect (PCI) local bus architecture. Although the depicted example employs a PCI bus, other bus architectures such as Accelerated Graphics Port (AGP) and Industry Standard Architecture (ISA) may be used. Processor <b>202</b> and main memory <b>204</b> are connected to PCI local bus <b>206</b> through PCI bridge <b>208</b>. PCI bridge <b>208</b> also may include an integrated memory controller and cache memory for processor <b>202</b>. Additional connections to PCI local bus <b>206</b> may be made through direct component interconnection or through add-in connectors. In the depicted example, local area network (LAN) adapter <b>210</b>, small computer system interface (SCSI) host bus adapter <b>212</b>, and expansion bus interface <b>214</b> are connected to PC local bus <b>206</b> by direct component connection. In contrast, audio adapter <b>216</b>, graphics adapter <b>218</b>, and audio/video adapter <b>219</b> are connected to PCI local bus <b>206</b> by add-in boards inserted into expansion slots. Expansion bus interface <b>214</b> provides a connection for a keyboard and mouse adapter <b>220</b>, modem <b>222</b>, and additional memory <b>224</b>. SCSI host bus adapter <b>212</b> provides a connection for hard disk drive <b>226</b>, tape drive <b>228</b>, and CD-ROM drive <b>230</b>. Typical PCI local bus implementations will support three or four PCI expansion slots or add-in connectors.</p>
<p id="p-0033" num="0032">An operating system runs on processor <b>202</b> and is used to coordinate and provide control of various components within data processing system <b>200</b> in <figref idref="DRAWINGS">FIG. 2</figref>. The operating system may be a commercially available operating system such as Windows XP, which is available from Microsoft Corporation. An object oriented programming system such as Java may run in conjunction with the operating system and provides calls to the operating system from Java programs or applications executing on data processing system <b>200</b>. “Java” is a trademark of Sun Microsystems, Inc. Instructions for the operating system, the object-oriented programming system, and applications or programs are located on storage devices, such as hard disk drive <b>226</b>, and may be loaded into main memory <b>204</b> for execution by processor <b>202</b>.</p>
<p id="p-0034" num="0033">Those of ordinary skill in the art will appreciate that the hardware in <figref idref="DRAWINGS">FIG. 2</figref> may vary depending on the implementation. Other internal hardware or peripheral devices, such as flash read-only memory (ROM), equivalent nonvolatile memory, or optical disk drives and the like, may be used in addition to or in place of the hardware depicted in <figref idref="DRAWINGS">FIG. 2</figref>. Also, the processes of the present invention may be applied to a multiprocessor data processing system.</p>
<p id="p-0035" num="0034">For example, data processing system <b>200</b>, if optionally configured as a network computer, may not include SCSI host bus adapter <b>212</b>, hard disk drive <b>226</b>, tape drive <b>228</b>, and CD-ROM <b>230</b>. In that case, the computer, to be properly called a client computer, includes some type of network communication interface, such as LAN adapter <b>210</b>, modem <b>222</b>, or the like. As another example, data processing system <b>200</b> may be a stand-alone system configured to be bootable without relying on some type of network communication interface, whether or not data processing system <b>200</b> comprises some type of network communication interface. As a further example, data processing system <b>200</b> may be a personal digital assistant (PDA), which is configured with ROM and/or flash ROM to provide non-volatile memory for storing operating system files and/or user-generated data.</p>
<p id="p-0036" num="0035">The depicted example in <figref idref="DRAWINGS">FIG. 2</figref> and above-described examples are not meant to imply architectural limitations. For example, data processing system <b>200</b> also may be a notebook computer or hand held computer in addition to taking the form of a PDA. Data processing system <b>200</b> also may be a kiosk or a Web appliance.</p>
<p id="p-0037" num="0036">The processes of the present invention are performed by processor <b>202</b> using computer implemented instructions, which may be located in a memory such as, for example, main memory <b>204</b>, memory <b>224</b>, or in one or more peripheral devices <b>226</b>-<b>230</b>.</p>
<p id="p-0038" num="0037">The present invention provides a mechanism for modeling asynchronous interfaces. The mechanisms of the present invention may be implemented in a data processing system, such as that shown in <figref idref="DRAWINGS">FIG. 2</figref> or the like, and may be implemented in association with an integrated circuit design system.</p>
<p id="p-0039" num="0038">In an effort to reduce latencies associated with asynchronous hand shaking protocols, an increasing amount of combinatorial logic is being added to the interfaces. With the present invention, this combinatorial logic may be broken down into a set of primitive elements, i.e. AND, OR, XOR, and inverter gates. It is the representation of the primitive elements that the present invention expands to take into consideration the problem conditions discussed above. In this way, the modeling of the asynchronous interfaces is improved to provide information regarding the possible occurrences of glitch and switching hazards.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 3</figref> is an exemplary diagram illustrating an AND gate and a standard truth table for the standard AND gate. As shown in <figref idref="DRAWINGS">FIG. 3</figref>, the AND gate has inputs A and B and output C. The corresponding truth table illustrates the possible combinations of inputs A and B to the AND gate with their corresponding outputs C. This level of analysis of the AND gate is generally sufficient for synchronous clock domains because the output value C is guaranteed to be correct by the synchronous timing analysis. However, when an AND gate is used in an asynchronous interface, the truth table shown in <figref idref="DRAWINGS">FIG. 3</figref> does not always hold true due to the possibility of switching and glitch hazards.</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 4</figref> is an exemplary diagram illustrating an expanded truth table for an AND gate identifying states in which switching/glitch hazards may occur. The expanded truth table shown in <figref idref="DRAWINGS">FIG. 4</figref> is used to identify the combinations of inputs A and B which may lead to a switching or glitch hazard due to the asynchronous nature of the inputs. In the expanded truth table of <figref idref="DRAWINGS">FIG. 4</figref>, t represents time, n is a sampling point, and X is a function that indicates when the output C can be received by an asynchronous sink as a non-deterministic value.</p>
<p id="p-0042" num="0041">Column <b>410</b> of truth table <b>400</b> shows the possible inputs A, B and the corresponding output for a previous sampling point n−1. The combinations shown in column <b>410</b> correspond to the truth table shown in <figref idref="DRAWINGS">FIG. 3</figref>. Column <b>420</b> shows the possible transitions of the inputs and their corresponding outputs at a subsequent sampling point n. That is, from inputs of A=0, B=0, the possible transitions of the inputs include A=0, B=0; A=0, B=1; A=1, B=0; and A=1, B=1.</p>
<p id="p-0043" num="0042">Glitch hazards occur when both inputs transition to a different state. That is, when both inputs transition from either a 0 to a 1 or from a 1 to a 0. Under such conditions, it is possible that one of the inputs may transition faster than the other input. For example, if the inputs at time t=n−1 are 0, 1, it is possible that input A may transition faster than input B resulting in a temporary state where both inputs are 1. With the AND gate, a state where both inputs are 1 results in the output C being 1. This is an erroneous output since the intended output is 0. Thus, under such circumstances a glitch hazard has occurred.</p>
<p id="p-0044" num="0043">Switching hazards occur when one input remains at the same state while the other input transitions to a different state, wherein the combination of states results in the output being different. If the transitioning input transitions too slowly, it is possible for the transition to not be performed within the setup and hold timing requirements. As a result, the previous state may be maintained. For example, if the inputs at time t=n−1 are 0, 1 and input A is to transition to a value of 1 to generate an input state 1, 1, if the transition happens too slowly, the state 0, 1 may be maintained at time t=n. As a result, rather than the output C being a 1, the output C may be maintained as a 0.</p>
<p id="p-0045" num="0044">The third column <b>430</b> of expanded truth table <b>400</b> identifies the combinations of inputs and their transitions that may give rise to either a switching or glitch hazard. Those rows of the expanded truth table <b>400</b> which have an X value of 1 identify the possible states that may give rise to a switching or glitch hazard. Thus, for example, when the inputs of the AND gate are 0, 1 and, in the next sampling point, are transitioned to 1, 0, since both inputs change value and if a glitch occurs, a different output than the desired output would be generated, the third column <b>430</b> identifies this transition as a possible source of a glitch hazard. Similarly, if the inputs at a first sampling point are 0, 1 and these inputs are to transition to 1, 1 in the next sampling point, and if the A input were to transition too slowly a different output from the desired output would be generated, this transition is identified as a possible source of a switching hazard.</p>
<p id="p-0046" num="0045">Other transitions, such a transitioning from inputs of 0, 1 to 0, 0, do not represent a source of either a glitch hazard or a switching hazard since even if the inputs occur too fast or too slow relative to the other inputs, the output result would still be the same. That is, whether the inputs are 0, 1 or 0, 0, the output of the AND gate will still be a 0 and thus, whether or not the input transitions slowly or too fast, the correct result is achieved. It should be noted that each input that makes any transition during an initial time period in which the inputs are permitted to transition, i.e. the tAX time period discussed hereafter, is considered to be transitioning continuously during the total tAX time period.</p>
<p id="p-0047" num="0046">Similar expanded truth tables may be generated for each of the logic primitives OR, XOR, etc. <figref idref="DRAWINGS">FIG. 5</figref> is an exemplary diagram illustrating an expanded truth table for an OR gate identifying states in which switching/glitch hazards may occur. <figref idref="DRAWINGS">FIG. 6</figref> is an exemplary diagram illustrating an expanded truth table for an XOR gate identifying states in which switching/glitch hazards may occur. The truth tables illustrated in <figref idref="DRAWINGS">FIGS. 4-6</figref> illustrate the conditions under which the logic gate itself generates either a glitch or switching hazard. However, since the logic gate will typically be implemented in combination with other logic gates. As a result, the combinatorial logic output of a logic gate may be affected by other logic gates that drive the inputs to that particular logic gate. Therefore, a new logic gate element and expanded truth table that takes into account the glitch and switching conditions of the logic gate and the potential glitch or switching hazard driven inputs to the logic gate.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 7</figref> is an exemplary diagram illustrating an expanded AND gate in accordance with an exemplary embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 7</figref>, the expanded AND gate <b>700</b> includes the original inputs A and B and the original output C. In addition, inputs A′ and B′ and the additional output C′ are provided as part of the expanded AND gate <b>700</b>. Inputs A′ and B′ identify the inputs A and B which are being driven from a combinatorial switching or glitch hazard condition. Output C′ identifies the output C that is propagating a logical value from a switching or glitch condition. The A′ and B′ inputs are essentially a mechanism for identifying whether the inputs A and B are deterministic, i.e. are the actual input values, or may be non-deterministic due to the inputs being driven by sources experiencing switching or glitch hazard conditions. If A′ or B′ has a 0 value, then the associated input A or B is deterministic. If A′ or B′ has a 1 value, then the associated input A or B may be driven by a glitch or switching hazard input and thus, are non-deterministic. Similarly, C′ identifies whether or not the output C is deterministic or not. Thus, the inputs A′, B′ and the output C′ are “guarantees” that the associated inputs/outputs A, B and C are deterministic.</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 8</figref> is an exemplary diagram illustrating a table for identifying when the output of the expanded gate in <figref idref="DRAWINGS">FIG. 7</figref> is deterministic or not. The table <b>800</b> identifies the various combinations of A, A′, B and B′ along with a value Y which is indicative of whether or not the output of the logic gate is deterministic or not because its inputs are either deterministic or non-deterministic. When Y=1, the output C of the logic gate is non-deterministic and when Y=0, the output C of the logic gate is deterministic.</p>
<p id="p-0050" num="0049">Thus, for example, if the input A is 0, A′ is 0, B is 1 and B′ is 1, the value for Y is 0. This is because A is guaranteed to be a 0, i.e. A′ is 0 indicating that the value for A is deterministic. Since the logic gate <b>700</b> is an AND gate, as long as one input is known to be a 0, even though the other input is non-deterministic, the output will always be a 0. As a result, the output of the logic gate <b>700</b> with these inputs is a deterministic 0 value.</p>
<p id="p-0051" num="0050">As a further example, if the inputs of the logic gate <b>700</b> are A=0, A′=1, B=1 and B′=0, then the Y value is 1 because the output of the logic gate <b>700</b> is non-deterministic. The output of logic gate <b>700</b> is non-deterministic because the input value of B is 1 and is deterministic but the input value of A is 0 and is non-deterministic. Thus, if A is actually 0, the output of the logic gate <b>700</b> is a 0. However, if A is actually a 1, the output of the logic gate <b>700</b> would be a 1 (since both A and B would be 1s). Thus, the non-deterministic input A renders the output of logic gate <b>700</b> non-deterministic.</p>
<p id="p-0052" num="0051">Thus, the expanded table in <figref idref="DRAWINGS">FIG. 6</figref> represents the conditions under which the output of logic gate <b>700</b> may be non-deterministic due to the logic gate <b>700</b> itself experiencing a switching or glitch hazard condition. The table in <figref idref="DRAWINGS">FIG. 8</figref> represents the conditions under which the output of the logic gate <b>700</b> may be non-deterministic due to the inputs to the logic gate <b>700</b> being non-deterministic. Using the combination of tables from <figref idref="DRAWINGS">FIGS. 6 and 8</figref>, when X=1, the logic gate <b>700</b> itself is in a switching or glitch condition. When Y=1, the output of the logic gate <b>700</b> is non-deterministic because its inputs are non-deterministic, i.e. the inputs to the logic gate <b>700</b> are non-deterministic because a previous logic gate in the circuit is experiencing a switching or glitch condition. Thus, taking the logical “or” of the X value and Y value provides an indication as to whether the output of the logic gate <b>700</b> is deterministic or not based on the logic gate <b>700</b> itself experiencing a switching or glitch condition or a previous logic gate experiencing a switching or glitch condition thereby causing one or more inputs to the logic gate <b>700</b> being non-deterministic. The C′ value is indicative of the result of this logical “or” of the X and Y values. Thus, C′ is a “1” if the logic gate itself may be experiencing a switching or glitch hazard condition or if the inputs to the logic gate are non-deterministic.</p>
<p id="p-0053" num="0052">The combination of the truth tables shown in <figref idref="DRAWINGS">FIGS. 6 and 8</figref> is referred to herein as a fully expanded truth table for the logic gate. A similar type of fully expanded truth table may be generated for each of an expanded OR gate and an expanded XOR gate. These fully expanded truth tables are shown in <figref idref="DRAWINGS">FIGS. 9 and 10</figref>. <figref idref="DRAWINGS">FIG. 9</figref> is an exemplary diagram illustrating a fully expanded truth table for an expanded OR gate in accordance with an exemplary embodiment of the present invention. <figref idref="DRAWINGS">FIG. 10</figref> is an exemplary diagram illustrating a fully expanded truth table for an expanded XOR gate in accordance with an exemplary embodiment of the present invention.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIGS. 6-10</figref> illustrate how history is important in understanding the behavior of combinatorial logic used in an asynchronous interface. That is, it is important to know whether the output of combinatorial logic is deterministic or not based on not only the possibility that the logic gate itself is experiencing a switching or glitch hazard, but also based on whether or not the inputs to the logic gate are the result of a switching or glitch hazard condition in another logic gate of the combinatorial logic.</p>
<p id="p-0055" num="0054">Although asynchronous interfaces are not part of traditional timing analysis, they must be sufficiently timed to show any input transition will be free from combinatorial switching and glitch hazards while taking into account clock skew for both the sending and receiving clock domains, and wire delay after some specific period of time. This time period is referred to herein as tAX. Usually tAX is known to be less than the clock cycle time of the receiving clock domain for an asynchronous interface. Since the output of a combinatorial gate can be undefined until tAX has been satisfied under the conditions previously outlined above, if A′, B′, or C′ is activated it must be held for the tAX period.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 11</figref> is an exemplary diagram illustrating how long an output of the expanded gate must be held active. As shown in <figref idref="DRAWINGS">FIG. 11</figref>, the shaded area of each timing diagram illustrates how long C′ must be held active if tAX is known to be no greater than one receive clock period rclk. Although it is only required that C′ be held active during the tAX period, it is also valid to hold C′ active throughout the lined region as well. This is because the receiving logic can not react to the tAX period ending any sooner than at the starting or ending edge of the receive clock period rclk.</p>
<p id="p-0057" num="0056">Now that the combinatorial logic truth table has been fully expanded for the asynchronous interface, and the duration of the logic gate can be at an uncertain value, the expanded primitive combinatorial logic gates can be used to build complex networks of logical gates. By connecting the C′ output of one of the newly formed expanded logic gates to the appropriate A′/B′ input of the next logical gate in the network, the net effect of combinatorial switching and glitch hazards can be detected at the latch input of the receiving latch on the asynchronous interface.</p>
<p id="p-0058" num="0057">Knowing when and if the inputs to a latch are uncertain, the output of the latch can be overwritten in the model from the normal logical value to an “X” value, where “X” is a symbolic value that simultaneously represents a ‘1’, ‘0’, and neither a ‘1’ or ‘0’ value, when the latch enable pin is activated. This is done by replacing the original latch with an equivalent latch having an additional C′ input as shown in <figref idref="DRAWINGS">FIGS. 12A and 12B</figref>.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIGS. 12A and 12B</figref> are diagrams illustrating a standard register and an expanded register in accordance with an exemplary embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 12A</figref>, in a standard latch model, the data input A is passed to the output R when the clock input clk is active. However, if the data input value is not DC before the clock becomes active, i.e. the data input value is not in a non-transitional state sufficiently long enough that the input value appears as a static direct current value, the output of the latch may be either meta-stable or the incorrect logic value due to combinatorial logic switching and glitch problems. Since the expanded combinatorial, which has already been used to replace the original logic gates, detects when such switching and glitch hazards exist, that information may be presented on the C′ input to the new latch model shown in <figref idref="DRAWINGS">FIG. 12B</figref>. In addition to the hazard information being forwarded to the latch in <figref idref="DRAWINGS">FIG. 12B</figref>, the input A will also be monitored to note if its value is not DC prior to the clock becoming active. If a hazard condition, detected by C′, is seen, the result R would become ‘X’. If the input A has not become DC prior to the clock becoming active, the output R would be randomly selected from one of the following three conditions: 1) the current value seen on the A input, thus modeling the pass through case seen in asynchronous interfaces, 2) the old value of R, thus modeling the case where the input A was not seen in time for the clock transition, and 3) the normal logical value. Which of the three values will be seen by the actual synthesized logic is not known a priori. Additionally, it is not known if just one of the values will be seen during the simulation. The goal for the simulation is then to verify the logic is correct under all possible conditions. Random selection of one of the valid values has shown to be an effective method for verifying the logic operates correctly under all conditions.</p>
<p id="p-0060" num="0059">The final step in accurately modeling the asynchronous interface is dealing with the issue of meta-stability. Although latch meta-stability can occur in synchronous logic as well as asynchronous logic alike, the probability of meta-stability occurring and having an impact is significantly greater in asynchronous interfaces. It also is important to note that traditional asynchronous interfaces are not designed to recover from meta-stability. Instead, one or more secondary latches are carefully inserted in the receiving clock domain such that the probability of any logic being affected by meta-stability is approximately equal to the rest of the synchronous design. However, this is not always true especially when one considers typical non-control paths of an asynchronous interface. When the required meta-stability hardening latches are not present and the input to a latch on the interface changes or becomes uncertain during the setup and hold plus clock skew time period then, with the present invention, the output of that latch is overwritten with an ‘X’ value for the period which the latch could be undergoing meta-stability. Since meta-stability is a phenomenon that will dissipate over time, the latch must have the ability to return to its logical value after the meta-stability time period has expired.</p>
<p id="p-0061" num="0060">Thus, having developed the expanded logic gates and associated fully expanded truth tables, along with the new latch for latching the value of the C′ output, the present invention provides a mechanism for identifying the asynchronous interface logic in an integrated circuit design and then using these new expanded logic gates and latches to replace logic in the asynchronous interface. As mentioned above, the complex logic in an asynchronous interface may be broken down into corresponding combinations of primitive logic elements, i.e. logic gates. These primitive logic gates may then be replaced with corresponding expanded logic gates according to the present invention. In addition, sink latches, i.e. the receiving clock domain latch may be replaced with the expanded latch shown in <figref idref="DRAWINGS">FIG. 12B</figref>. Having replaced these elements, the integrated circuit may be simulated with the additional inputs and outputs such that the C′ values stored by the receiving latches may be output for use by the user of the integrated circuit design system.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIGS. 13A and 13B</figref> are diagrams illustrating an initial asynchronous interface logic design and an expanded asynchronous interface logic design in accordance with an exemplary embodiment of the present invention. As shown in <figref idref="DRAWINGS">FIG. 13A</figref>, the initial asynchronous interface logic design includes AND gate <b>1310</b> and OR gate <b>1320</b>. Source latch <b>1330</b> provides the A input to AND gate <b>1310</b> and source latch <b>1340</b> provides the B input to AND gate <b>1310</b>. The output of inverted AND gate <b>1350</b> provides the A input to OR gate <b>1320</b> and the output of AND gate <b>1310</b> provides the B input to OR gate <b>1320</b>. The sink or receive latch <b>1360</b> receive the output from OR gate <b>1320</b>. The source latch <b>1330</b> is clocked by a first clock signal while the sink or receive latch <b>1360</b> is clocked by a second clock signal such that two clock domains are present with the asynchronous interface being provided between these clock domains.</p>
<p id="p-0063" num="0062">With the present invention, the asynchronous interface is identified based on the fact that the logic is between two different clock domains. The logic gates <b>1310</b> and <b>1320</b> of the asynchronous interface are replaced by the expanded logic gates <b>1370</b> and <b>1380</b> in accordance with the present invention. In addition, the receive latch <b>1360</b> is replaced with a receive latch <b>1390</b> that may store the C′ output from replaced OR gate <b>1380</b>. In simulating the circuit shown in <figref idref="DRAWINGS">FIG. 13B</figref>, the fully expanded truth tables for the expanded logic gates <b>1370</b> and <b>1380</b> are used to determine what the value of C′ is from the logic gates <b>1370</b> and <b>1380</b>. Taking the logic “or” of the X and Y values for each of the logic gates <b>1370</b> and <b>1380</b> provides the C′ values as discussed above. The ultimate C′ value output by the expanded OR gate <b>1380</b> is stored in latch <b>1390</b>. This C′ value may be used to modify the output of latch <b>1390</b> from the C output received from the OR gate <b>1380</b> to an ‘X’ value when C is determined to be non-deterministic. In addition, the C′ value stored in the receive latch <b>1390</b> may be output for use by a user of the integrated circuit design system.</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart outlining an exemplary operation of the present invention. It will be understood that each block of the flowchart illustration, and combinations of blocks in the flowchart illustration, can be implemented by computer program instructions. These computer program instructions may be provided to a processor or other programmable data processing apparatus to produce a machine, such that the instructions which execute on the processor or other programmable data processing apparatus create means for implementing the functions specified in the flowchart block or blocks. These computer program instructions may also be stored in a computer-readable memory or storage medium that can direct a processor or other programmable data processing apparatus to function in a particular manner, such that the instructions stored in the computer-readable memory or storage medium produce an article of manufacture including instruction means which implement the functions specified in the flowchart block or blocks.</p>
<p id="p-0065" num="0064">Accordingly, blocks of the flowchart illustration support combinations of means for performing the specified functions, combinations of steps for performing the specified functions and program instruction means for performing the specified functions. It will also be understood that each block of the flowchart illustration, and combinations of blocks in the flowchart illustration, can be implemented by special purpose hardware-based computer systems which perform the specified functions or steps, or by combinations of special purpose hardware and computer instructions.</p>
<p id="p-0066" num="0065">As shown in <figref idref="DRAWINGS">FIG. 14</figref>, the operation starts by receiving an integrated circuit design having an asynchronous interface (step <b>1410</b>). The asynchronous interface(s) in the integrated circuit design are identified (step <b>1420</b>). The logic of the asynchronous interface is then broken down into primitive logic elements (step <b>1430</b>). The primitive logic elements of the asynchronous interface are replaced by corresponding expanded logic gates (step <b>1440</b>). The receive latch is then replaced by an expanded latch (step <b>1450</b>). The asynchronous interface is then simulated (step <b>1460</b>). Outputs of the replaced logic gates to the receive latch are modified based on a determination as to whether the output is deterministic or not based on the fully expanded truth tables of the replacement expanded logic gates (step <b>1470</b>). The results of the asynchronous interface simulation, including the C′ values stored in the receive latch, are output for use by a user of the integrated circuit design system (step <b>1480</b>). The operation then terminates.</p>
<p id="p-0067" num="0066">Thus, the present invention provides a mechanism for accurately modeling an asynchronous interface by taking into consideration clock skew, switching hazards, glitch hazards, asynchronous latch updates, and meta-stability. New expanded logic gates and latches are provided along with corresponding fully expanded truth tables for identifying when inputs to the expanded logic gates are deterministic or non-deterministic and when the outputs of the expanded logic gates are deterministic or non-deterministic based on switching or glitch hazard conditions. These new expanded logic gates and latches may be used with asynchronous interfaces in integrated circuit designs to replace the existing logic to provide a more accurate model of the asynchronous behavior of the asynchronous interface.</p>
<p id="p-0068" num="0067">It is important to note that while the present invention has been described in the context of a fully functioning data processing system, those of ordinary skill in the art will appreciate that the processes of the present invention are capable of being distributed in the form of a computer readable medium of instructions and a variety of forms and that the present invention applies equally regardless of the particular type of signal bearing media actually used to carry out the distribution. Examples of computer readable media include recordable-type media, such as a floppy disk, a hard disk drive, a RAM, CD-ROMs, DVD-ROMs, and transmission-type media, such as digital and analog communications links, wired or wireless communications links using transmission forms, such as, for example, radio frequency and light wave transmissions. The computer readable media may take the form of coded formats that are decoded for actual use in a particular data processing system.</p>
<p id="p-0069" num="0068">The description of the present invention has been presented for purposes of illustration and description, and is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art. The embodiment was chosen and described in order to best explain the principles of the invention, the practical application, and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method, in a data processing system, for modeling an asynchronous interface, comprising:
<claim-text>identifying logic of the asynchronous interface in an integrated circuit design;</claim-text>
<claim-text>converting the logic of the asynchronous interface into primitive logic elements;</claim-text>
<claim-text>replacing the primitive logic elements with corresponding expanded primitive logic elements, wherein the expanded primitive logic elements include deterministic inputs and deterministic outputs representative of a deterministic or non-deterministic nature of data inputs and data outputs of the expanded primitive logic elements;</claim-text>
<claim-text>replacing latches in the asynchronous interface of the integrated circuit design with expanded latches that receive an additional input indicative of whether a data input to the expanded latch is deterministic or not;</claim-text>
<claim-text>running a simulation of the asynchronous interface using the expanded primitive logic elements to thereby model the asynchronous interface; and</claim-text>
<claim-text>generating an output indicating results of running the simulation of the asynchronous interface using the expanded primitive logic elements to thereby model the asynchronous interface.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the expanded primitive logic elements have associated expanded truth tables that include first information for identifying when a corresponding expanded primitive logic element may experience a switching or glitch hazard condition in the expanded primitive logic element itself.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the first information includes combinations of the data inputs and transitions of the data inputs of the expanded primitive logic elements that result in a switching or glitch hazard condition of the expanded primitive logic elements.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the expanded truth tables further include second information for identifying conditions under which outputs of the corresponding expanded primitive logic elements are non-deterministic due to glitch or switching hazard driven inputs from other logic elements.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the second information includes combinations of the deterministic inputs which result in a deterministic or non-deterministic output of the expanded primitive logic elements.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the first information includes a first set of values X indicative of whether a corresponding combination of data inputs and their transitions may or may not result in a switching or glitch hazard occurring in the corresponding expanded primitive logic gate, and wherein the second information includes a second set of values Y indicative of whether a corresponding combination of deterministic inputs result in a non-deterministic or deterministic output, and wherein running the simulation of the asynchronous interface includes:
<claim-text>determining whether an output of an expanded primitive logic gate is deterministic or not by taking a logical OR of a current X value and current Y value for the expanded primitive logic gate.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein running the simulation of the asynchronous interface further includes:
<claim-text>providing a deterministic output from the expanded primitive logic gate to the expanded latch indicative of whether or not the data output of the expanded primitive logic gate is deterministic or not, wherein the data output of the expanded primitive logic gate is a data input to the expanded latch.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00007">claim 7</claim-ref>, further comprising:
<claim-text>determining if the data input to the expanded latch is meta-stable; and</claim-text>
<claim-text>replacing a value of an output of the expanded latch with an alternative value if it is determined that the output of the data input to the expanded latch is meta-stable.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method of <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein the alternative value is randomly selected from a set of possible alternative values including a current data input value to the expanded latch, an old output of the expanded latch, and a normal logical value.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. A computer program product in a computer readable medium for modeling an asynchronous interface in a computer, comprising:
<claim-text>first instructions executable in the computer for identifying logic of the asynchronous interface in an integrated circuit design;</claim-text>
<claim-text>second instructions executable in the computer for converting the logic of the asynchronous interface into primitive logic elements;</claim-text>
<claim-text>third instructions executable in the computer for replacing the primitive logic elements with corresponding expanded primitive logic elements, wherein the expanded primitive logic elements include deterministic inputs and deterministic outputs representative of a deterministic or non-deterministic nature of data inputs and data outputs of the expanded primitive logic elements;</claim-text>
<claim-text>fourth instructions executable in the computer for replacing latches in the asynchronous interface of the integrated circuit design with expanded latches that receive an additional input indicative of whether a data input to the expanded latch is deterministic or not;</claim-text>
<claim-text>fifth instructions executable in the computer for running a simulation of the asynchronous interface using the expanded primitive logic elements to thereby model the asynchronous interface in the computer; and</claim-text>
<claim-text>sixth instructions executable in the computer for generating an output indicating results of running the simulation of the asynchronous interface using the expanded primitive logic elements to thereby model the asynchronous interface.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the expanded primitive logic elements have associated expanded truth tables that include first information for identifying when a corresponding expanded primitive logic element may experience a switching or glitch hazard condition in the expanded primitive logic element itself.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The computer program product of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the first information includes combinations of the data inputs and transitions of the data inputs of the expanded primitive logic elements that result in a switching or glitch hazard condition of the expanded primitive logic elements.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The computer program product of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the expanded truth tables further include second information for identifying conditions under which outputs of the corresponding expanded primitive logic elements are non-deterministic due to glitch or switching hazard driven inputs from other logic elements.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The computer program product of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the second information includes combinations of the deterministic inputs which result in a deterministic or non-deterministic output of the expanded primitive logic elements.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The computer program product of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the first information includes a first set of values X indicative of whether a corresponding combination of data inputs and their transitions may or may not result in a switching or glitch hazard occurring in the corresponding expanded primitive logic gate, and wherein the second information includes a second set of values Y indicative of whether a corresponding combination of deterministic inputs result in a non-deterministic or deterministic output, and wherein the fifth instructions for running the simulation of the asynchronous interface include:
<claim-text>instructions for determining whether an output of an expanded primitive logic gate is deterministic or not by taking a logical OR of a current X value and current Y value for the expanded primitive logic gate.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The computer program product of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the fifth instructions for running the simulation of the asynchronous interface further include:
<claim-text>instructions for providing a deterministic output from the expanded primitive logic gate to the expanded latch indicative of whether or not the data output of the expanded primitive logic gate is deterministic or not, wherein the data output of the expanded primitive logic gate is a data input to the expanded latch.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The computer program product of <claim-ref idref="CLM-00016">claim 16</claim-ref>, further comprising:
<claim-text>instructions executable in the computer for determining if the data input to the expanded latch is meta-stable; and</claim-text>
<claim-text>instructions executable in the computer for replacing a value of an output of the expanded latch with an alternative value if it is determined that the output of the data input to the expanded latch is meta-stable.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A system for modeling an asynchronous interface, comprising:
<claim-text>means for identifying logic of the asynchronous interface in an integrated circuit design;</claim-text>
<claim-text>means for converting the logic of the asynchronous interface into primitive logic elements;</claim-text>
<claim-text>means for replacing the primitive logic elements with corresponding expanded primitive logic elements, wherein the expanded primitive logic elements include deterministic inputs and deterministic outputs representative of a deterministic or non-deterministic nature of data inputs and data outputs of the expanded primitive logic elements;</claim-text>
<claim-text>means for replacing latches in the asynchronous interface of the integrated circuit design with expanded latches that receive an additional input indicative of whether a data input to the expanded latch is deterministic or not;</claim-text>
<claim-text>means for running a simulation of the asynchronous interface using the expanded primitive logic elements to thereby model the asynchronous interface; and</claim-text>
<claim-text>means for generating an output indicating results of running the simulation of the asynchronous interface using the expanded primitive logic elements to thereby model the asynchronous interface.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
