<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298791-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298791</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10397057</doc-number>
<date>20030325</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>720</us-term-extension>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>25</main-group>
<subgroup>49</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>375295</main-classification>
<further-classification>375296</further-classification>
<further-classification>332108</further-classification>
<further-classification>708322</further-classification>
<further-classification>455102</further-classification>
</classification-national>
<invention-title id="d0e55">Multiple date rate filtered modulation system for digital data</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5867535</doc-number>
<kind>A</kind>
<name>Phillips et al.</name>
<date>19990200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375295</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6539064</doc-number>
<kind>B1</kind>
<name>Ellis et al.</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375296</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>20</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>375295</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375296</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>332108</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>708322</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>455102</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>09234948</doc-number>
<kind>00</kind>
<date>19990121</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>6539064</doc-number>
<kind>A </kind>
<date>20030325</date>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>10397057</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<continuation-in-part>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>09145608</doc-number>
<kind>00</kind>
<date>19980902</date>
</document-id>
<parent-status>ABANDONED</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>09234948</doc-number>
</document-id>
</child-doc>
</relation>
</continuation-in-part>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60056274</doc-number>
<kind>00</kind>
<date>19970902</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Mahany</last-name>
<first-name>Ronald L.</first-name>
<address>
<city>Cedar Rapids</city>
<state>IA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Schuster</last-name>
<first-name>Thomas J.</first-name>
<address>
<city>Cedar Rapids</city>
<state>IA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Ellis</last-name>
<first-name>Michael K.</first-name>
<address>
<city>Waseca</city>
<state>MN</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Alt</last-name>
<first-name>Daniel E.</first-name>
<address>
<city>Cedar Rapids</city>
<state>IA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Intermec IP Corp.</orgname>
<role>02</role>
<address>
<city>Everett</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Ghayour</last-name>
<first-name>Mohammed</first-name>
<department>2611</department>
</primary-examiner>
<assistant-examiner>
<last-name>Torres</last-name>
<first-name>Juan Alberto</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In an exemplary embodiment, a multi-rate data conversion circuit receives digital data at varying data rates, receives a data rate input corresponding to the digital data and converts the digital data to a converted output based upon the data rate input. A direct digital synthesis circuit receives the converted output and synthesizes a modulated output signal based upon the converted output. A multi-rate converter receives the digital data, the data rate input and a clock signal and converts the digital data to converted digital data. A multi-rate digital data filter receives the converted digital data and produces a filtered digital output. An output scaler receives the filtered digital output and produces a scaled and filtered digital output. Finally, an adder combines the scaled and filtered digital output with a center frequency input and produces the converted output.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="150.45mm" wi="220.56mm" file="US07298791-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="229.62mm" wi="126.92mm" orientation="landscape" file="US07298791-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="224.37mm" wi="162.05mm" orientation="landscape" file="US07298791-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="229.62mm" wi="165.10mm" orientation="landscape" file="US07298791-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="138.43mm" wi="140.29mm" orientation="landscape" file="US07298791-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="225.38mm" wi="142.83mm" orientation="landscape" file="US07298791-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="173.57mm" wi="145.03mm" orientation="landscape" file="US07298791-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="203.88mm" wi="137.16mm" orientation="landscape" file="US07298791-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="237.15mm" wi="123.78mm" orientation="landscape" file="US07298791-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">The present application is a continuation of application Ser. No. 09/234,948 filed Jan. 21, 1999, now U.S. Pat. No. 6,539,064 issued Mar. 25, 2003, which is a continuation-in-part of application Ser. No. 09/145,608 filed Sep. 2, 1998, now abandoned, which in turn claims priority pursuant to 35 U.S.C. Sec. 119(e) to U.S. Provisional Application No. 60/056,274 filed Sep. 2, 1997. The aforementioned applications No. 09/145,608 and No. 60/056,274 are hereby incorporated herein by reference in their entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Technical Field</p>
<p id="p-0004" num="0003">The present invention relates generally to the modulation of signals and more particularly to a system for modulating a digital input signal onto a carrier to produce an analog output wherein the system operates at multiple data rates, employs a direct digital synthesis (DDS) operation to produce the analog output signal and provides filtering to reduce system noise and discontinuities in the modulated signal.</p>
<p id="p-0005" num="0004">2. Related Art</p>
<p id="p-0006" num="0005">It is well known to modulate signals of interest upon a carrier signal to produce a modulated signal. Typical applications of such modulation include wired and wireless communication systems. A wireless communication system employs a radio frequency (RF) signal upon which signals of interest are carried. Such signals of interest may include voice signals and digitized data. In such systems the data and/or voice signals are modulated onto the RF carrier at a transmitting location and are wirelessly transmitted to a receiving location. At the receiving location, the modulated RF signal is typically down mixed to an intermediate frequency and then demodulated to reproduce the signal of interest.</p>
<p id="p-0007" num="0006">Many varied methods of modulation are commonly employed in such systems. Such modulation techniques include frequency modulation (FM), amplitude modulation (AM), quadrature amplitude modulation (QAM), phase shift keying (PSK) and frequency shift keying (FSK), along with various other modulation techniques. A particular modification of FSK modulation includes incorporating Gaussian filtering to produce a filtered modulated signal. Gaussian filtering operates to reduce side lobes and other non-carrier frequency components of the modulated signal. Such modulation technique is typically referred to as Gaussian frequency shift keying (GFSK).</p>
<p id="p-0008" num="0007">In most communication systems, however, the modulation of signals is not a simple task. Problems with modulation result from various factors, not all of which may be contemplated in the design of the modulation circuitry. In one particular application wherein GFSK modulation is used, modulation causes the carrier signal to have a varying frequency, such variation dependent upon the bit pattern modulated onto the carrier. This frequency variation is controlled by the level of a baseband signal. This signal consists of symbols, each of which occupies the same amount of time and represents one or more bits. In a typical GFSK application, a positive peak may be three volts while a negative peak may be negative three volts. In two GFSK operation, wherein a single data bit is modulated onto each symbol period of the carrier signal, a logic zero is represented by a negative three volt peak while a logic one is represented by a positive three volt peak. In four GSFK modulation, wherein two data bits are modulated onto each symbol period of the carrier signal, additional levels are required to represent bit patterns (0,0), (0,1), (1,0) and (1,1). Likewise, in eight GSFK modulation, still further levels are required to represent the still greater number of bit patterns. Thus, the relative frequency of a particular symbol period of the carrier frequency which represents the bit pattern for the particular symbol must be accurately generated.</p>
<p id="p-0009" num="0008">Thus there exists a need in the art for an improved modulation system supporting multiple data rates while providing smooth transitions between data rates in a modulated output signal.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0010" num="0009">A multi-rate data modulation circuit constructed according to the present invention includes a multi-rate data conversion circuit and a modulator such as a direct digital synthesis circuit. The multi-rate data conversion circuit receives digital data at varying data rates, receives a data rate input corresponding to the digital data and converts the digital data to a converted output based upon the data rate input. The direct digital synthesis circuit receives the converted output and synthesizes a modulated output signal based upon the converted output.</p>
<p id="p-0011" num="0010">In one embodiment of the multi-rate data modulation circuit, the multi-rate data conversion circuit includes a multi-rate converter, a multi-rate digital data filter, an output scaler and an adder. The multi-rate converter receives the digital data, the data rate input and a clock signal and converts the digital data to converted digital data. The multi-rate digital data filter receives the converted digital data and produces a filtered digital output. The output scaler receives the filtered digital output and produces a scaled and filtered digital output. Finally, the adder combines the scaled and filtered digital output with a center frequency input and produces the converted output.</p>
<p id="p-0012" num="0011">In another embodiment of the multi-rate data modulation circuit, the multi-rate digital data filter includes a look-up table that produces filter parameters based upon the converted digital data and that operates at multiple data rates. The multi-rate data modulation circuit may be constructed such that the multi-rate digital data filter includes a digital data filter look-up table, a data rate decode circuit and a plurality of multiplexors. In such case, the data rate decode circuit receives the data rate input and produces control signals therefrom. Each of the plurality of multiplexors receives a portion of the converted digital data and control signals from the data rate decode circuit such that the multiplexors selectively provide the converted digital data to the digital data filter look-up table to produce the filtered digital output.</p>
<p id="p-0013" num="0012">In accordance with one embodiment of the present invention, the direct digital synthesis circuit may include a phase accumulator, quadrant logic, a direct digital synthesis memory, an unsigned converter and a digital to analog converter. In the construction, the phase accumulator receives the converted output. The quadrant logic couples to the phase accumulator and receives an output of the phase accumulator while the direct digital synthesis memory couples to the quadrant logic and receives an output of the quadrant logic. The unsigned converter couples to the direct digital synthesis memory, receives an output of the direct digital synthesis memory and produces an unsigned output. Finally, the digital to analog converter couples to the unsigned converter, receives the unsigned output and produces the modulated output signal.</p>
<p id="p-0014" num="0013">In the multi-rate data modulation circuit, the multi-rate data modulation circuit may operate to couple a single bit of data to each symbol period of the modulated output signal during a first time period, to couple two bits of data to each symbol of the modulated output signal during a second time period and to couple three bits of data to each symbol of the modulated output signal during a third time period. The multi-rate data modulation circuit is capable of switching between other sequences of data rates.</p>
<p id="p-0015" num="0014">The multi-rate data modulation circuit according to the present invention may be installed within a wireless network device, for example. In such case, the wireless network device would include data processing circuitry, the multi-rate data conversion circuit, the direct digital synthesis circuit and a radio. In the wireless network device, the data processing circuitry produces digital data at varying data rates. The multi-rate data conversion circuit receives the digital data at the varying data rates from the data processing circuitry, receives a data rate input corresponding to the digital data and converts the digital data to a converted output based upon the data rate input. The direct digital synthesis circuit then receives the converted output and synthesizes a modulated output signal based upon the converted output. Finally, the radio receives the modulated output signal and transmits the modulated output signal.</p>
<p id="p-0016" num="0015">In such installation, the wireless network device may also include demodulation circuitry and data conversion circuitry. The demodulation circuitry demodulates the modulated receive signal to produce a demodulated input signal. Further, the data conversion circuitry receives the demodulated input signal, produces converted digital data and transmits the converted digital data to the data processing circuitry.</p>
<p id="p-0017" num="0016">Moreover, other aspects of the present invention will become apparent with further reference to the drawings and specification which follow.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating a multiple data rate modulation circuit constructed according to the present invention that produces a filtered analog output at a carrier frequency based upon a digital data input and a data rate;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating in more detail the modulation circuit illustrated in <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 3</figref> is a block diagram illustrating an alternative embodiment of a modulation circuit constructed according to the present invention that receives serial digital data and produces a modulated analog output, the modulation circuit operating at varying data rates and clocking frequencies;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic block diagram illustrating a four level GFSK shift register that produces outputs that are provided to a four level GFSK filter ROM, such element previously illustrated with respect to <figref idref="DRAWINGS">FIG. 3</figref>;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 5</figref> is a schematic diagram illustrating various components of a direct digital synthesis circuit constructed according to the present invention;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 6</figref> is a schematic diagram of a multilevel GFSK filter ROM constructed according to the present invention;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram illustrating a wireless network device having a multiple data rate modulation circuit constructed according to the present invention; and</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 8</figref> is a schematic diagram of a GFSK filter constructed in accordance with the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating a multiple data rate modulation circuit <b>100</b> (hereinafter, “modulation circuit”) constructed according to the present invention. The modulation circuit <b>100</b> receives digital data <b>108</b> and produces a modulated analog output <b>114</b> based upon the digital data <b>108</b> and the data rate <b>110</b>. The digital data <b>108</b> may include various types of digital information such as data files, multimedia information, digitized voice signals, video information, and any other type of information that may be placed into a digital format. The modulated analog output <b>114</b> may be received as input to radio circuitry <b>106</b> that RF couples the modulated analog output <b>114</b> and transmits such RF coupled signal in a wireless fashion via an antenna <b>116</b>. However, the analog output <b>114</b> could be coupled to various other transmission mediums as well. Such transmission mediums may include wired communication links, fiber optic links, microwave links, and various other transmission links that may be used to transmit information from a transmitting location to a receiving location.</p>
<p id="p-0027" num="0026">In the disclosed embodiment of the invention, the modulation circuit <b>100</b> includes multi-rate data conversion circuitry <b>102</b> and a direct digital synthesis (DDS) circuit <b>104</b>. The DDS circuit <b>104</b> may also be known as a direct digital frequency synthesis circuit as well. The construction of such a DDS circuit <b>104</b> is generally known in the art and will not be further described here except as to expand upon the principle of the present invention. It is contemplated that the modulation circuit <b>100</b> may incorporate a modulator other than the DDS circuit <b>104</b>.</p>
<p id="p-0028" num="0027">The multi-rate data conversion circuitry <b>102</b> receives the digital data <b>108</b> and a data rate signal <b>110</b> and produces DDS input data <b>112</b>. The multi-rate data conversion circuitry <b>102</b> operates at various data rates <b>110</b> and with varying amounts of digital data <b>108</b>. The multi-rate data conversion circuitry produces the DDS input data <b>112</b> in a format corresponding to a format supported by the DDS circuitry <b>104</b>.</p>
<p id="p-0029" num="0028">In a contemplated installation supporting IEEE 802.11 standards, the multi-rate data conversion circuitry <b>102</b> is capable of altering the rate at which the digital data <b>108</b> is coupled at any given time. For example, digital data <b>108</b> may be coupled at a rate of one bit per symbol, such rate corresponding to one mega bits per second (1 MBPS). However, digital data <b>108</b> may also be coupled such that two bits of digital data are coupled to each symbol, such rate corresponding to 2 MBPS. Furthermore, the teachings of the present invention may also be employed to couple three bits, four bits, or more bits of data to each symbol to produce correspondingly higher data rates. Based upon the state of the data rate input <b>110</b>, the multi-rate data conversion circuitry <b>102</b> alters its operation in producing the DDS input data <b>112</b>. The multi-rate data conversion circuitry <b>102</b> is capable of transitioning smoothly between data rates at any time, as controlled by the data rate input <b>110</b>.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating a particular embodiment of a multiple data rate modulation circuit <b>200</b> constructed according to the present invention and previously generally described with reference to <figref idref="DRAWINGS">FIG. 1</figref>. The modulation circuit <b>200</b> includes a multi-rate converter <b>202</b>, a multi-rate filter ROM <b>204</b>, a multi-rate ROM output scaler <b>206</b>, a delay circuit <b>207</b>, an adder <b>208</b> and DDS circuitry <b>210</b>. The multi-rate converter <b>202</b> receives digital data <b>212</b>, a symbol clock <b>214</b> and a data rate indicator <b>216</b>. In the embodiment illustrated, the symbol clock <b>214</b> serves to validate the digital data <b>212</b> appearing at the multi-rate converter <b>202</b>, clocking the digital data <b>212</b> into the multi-rate converter <b>202</b>. Based upon the state of the data rate indicator <b>216</b>, the multi-rate converter <b>202</b> converts the digital data <b>212</b> present at its input to converted data <b>218</b>. As will be further described herein, one such method of converting the digital data <b>212</b> to the converted data <b>218</b> includes converting single bit data received as the digital data <b>212</b> to multiple bit converted data <b>218</b>.</p>
<p id="p-0031" num="0030">The multi-rate filter ROM <b>204</b> receives the converted data <b>218</b> and produces filtered data <b>220</b> at its output. One fashion in which the multi-rate filter ROM <b>204</b> operates is to receive multiple samples of the converted data <b>218</b> and, based upon the value of the multiple samples, select filtering functions to produce the filtered data <b>220</b>. One particular operating situation that may be encountered involves the transition of the converted data <b>218</b> from a first data rate to a second data rate. Such transitions often involve a step change in the value of the converted data <b>218</b>. For example, in two GFSK modulation, a logic zero is represented as a −1 volt amplitude and a positive peak is represented as a +1 amplitude, assuming a positive peak of the baseband signal of +1 volts and a negative peak of the modulated signal of −1 volts. However, in four GFSK operation, the digital data (0,0) is represented as a −1.35 volt amplitude, the digital data (0,1) as a −0.45 volt amplitude, the digital data (1,1) as a +0.45 volt amplitude and the digital data (1,0) as a +1.35 volt amplitude. The difference in voltage levels between two GFSK and four GFSK is that the modulated signal <b>226</b> occupies the same bandwidth regardless of the data rate. Thus, at any point in operation when the data rate changes, an abrupt transition from one of the values to another of the values typically occurs. Thus, the multi-rate filter ROM <b>204</b> compensates for such abrupt transitions and produces filtered data <b>220</b> that smooths such abrupt transitions.</p>
<p id="p-0032" num="0031">According to the present invention, a multi-rate ROM output scaler <b>206</b> allows a single GFSK ROM look up table to be used to produce the filtered data <b>220</b>. As will be further described herein, differing data rates require that the DDS input data <b>224</b> have specific output levels that represent the digital data <b>212</b>. The filtered data <b>220</b> is scaled according to the data rate indicator <b>216</b>. In the disclosed embodiment of the invention, the multi-rate ROM output scaler <b>206</b> utilizes a delayed version of the data rate indicator <b>216</b> provided by the delay circuit <b>207</b>. The delay approximates the propagation delay of data through the multi-rate filter ROM <b>204</b>.</p>
<p id="p-0033" num="0032">As compared to systems which may use multiple filter ROMs, each of which operates with a respective data rate, the modulation circuitry <b>200</b> of the present invention uses a single multi-rate filter ROM <b>204</b> and a multi-rate ROM output scaler <b>206</b> to operate in any of the various data rates. This allows the modulation circuitry <b>200</b> to dynamically switch data rates, which multiple-ROM systems cannot do without considerable added complexity.</p>
<p id="p-0034" num="0033">Adder <b>208</b> receives the scaled and filtered data <b>222</b> and a DDS center frequency input <b>223</b>. The DDS center frequency input <b>223</b> represents the DDS center frequency and may be derived from a value stored in a register (not shown). The adder <b>208</b> may also receive additional signals which determine whether the scaled and filtered data <b>222</b> and the DDS center frequency <b>223</b> are added or are subtracted by the adder <b>208</b>. Such add and subtract signal is based upon the value of the data to be modulated. The output of the adder <b>208</b> serves as the DDS input data <b>224</b>. The DDS circuitry <b>210</b> receives the DDS input data <b>224</b> and produces the analog output <b>226</b>. The analog output <b>226</b> may then be coupled to a radio, a transmission system or other such system upon which the analog output <b>226</b> is transmitted.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 3</figref> illustrates a modulation circuit <b>300</b> constructed according to the present invention that is specifically designed to operate according to both two level and four level GFSK modulation. Operating in this fashion, the modulation circuitry <b>300</b> couples either one or two bits to each symbol. The modulation circuit <b>300</b> includes a 2/4 level converter <b>302</b>, a 4 level GFSK shift register <b>304</b>, a 4 level GFSK ROM <b>306</b>, a ROM output scaler <b>308</b>, an adder/subtractor <b>316</b> and DDS circuitry. The DDS circuitry includes a phase accumulator <b>314</b>, quadrant logic <b>312</b>, a DDS ROM <b>310</b>, a 2's complement to unsigned converter <b>318</b>, and a digital to analog converter (DAC) <b>320</b>. The components of the modulation circuit <b>300</b> receive serial data <b>322</b> as an input and produce a modulated analog output <b>330</b>.</p>
<p id="p-0036" num="0035">The 2/4 level converter <b>302</b> receives the serial data S<sub>D </sub><b>322</b>, a symbol clock <b>324</b> and a data rate indicator <b>326</b>. The serial data S<sub>D </sub><b>322</b> is clocked in at the rate of the symbol clock <b>324</b> multiplied by the data rate as indicated by the data rate indicator <b>326</b>. The output of the 2/4 level converter is parallel digital data having data bits D<sub>1 </sub>and D<sub>0</sub>. Based upon the data rate indicator <b>326</b>, the 2/4 level converter produces either two or four of the possible combination of data bits D<sub>1 </sub>and D<sub>0</sub>. The output of the 2/4 level converter <b>302</b> is produced at a particular clocking frequency known as the symbol rate. In the embodiment contemplated, operating according to IEEE 802.11 standards, the clocking frequency is at one megabits per second (MBPS).</p>
<p id="p-0037" num="0036">The four level GFSK shift register <b>304</b> receives the input data D<sub>1 </sub>and D<sub>0 </sub>and produces output data B<sub>5 </sub>through B<sub>0</sub>. As will be further described herein, outputs B<sub>5 </sub>through B<sub>0 </sub>represent three particular samples of the input data D<sub>1 </sub>and D<sub>0</sub>. Such output data B<sub>5 </sub>through B<sub>0 </sub>is then received by the 4 level GFSK ROM <b>306</b>. Based upon signals B<sub>5 </sub>through B<sub>0</sub>, and the contents of a sample counter <b>307</b> within the 4 level GFSK ROM, the 4 level GFSK ROM <b>306</b> produces a filtered output having a ten bit width. The 4 level GFSK ROM <b>306</b> also receives clocking signal SMPL_CLK <b>328</b>.</p>
<p id="p-0038" num="0037">The ROM output scaler <b>308</b> receives the filtered output from the 4 level GFSK ROM <b>306</b> and also a delayed version of the data rate indicator <b>326</b> provided by the delay circuit <b>309</b>. The delay circuit <b>309</b> approximates the delay through the 4 level GFSK shift register <b>304</b> and the 4 level GFSK ROM <b>306</b>. The ROM output scaler <b>308</b> produces a 16 bit scaled output. This scaled output is provided to the adder/subtractor <b>316</b> which also receives the DDS center frequency input <b>332</b>. The adder/subtractor <b>316</b> also receives the most significant bit B<sub>5 </sub>(add/sub) produced by the 4 level GFSK shift register <b>304</b>. Based upon the add/sub signal received from the 4 level GFSK shift register <b>304</b>, the adder/subtractor either adds the output from the ROM output scaler <b>308</b> to the DDS center frequency input <b>332</b> or subtracts the output from the ROM output scaler <b>308</b> from the DDS center frequency input <b>332</b>.</p>
<p id="p-0039" num="0038">In either case, the adder/subtractor produces a 16 bit output which is provided to the phase accumulator <b>314</b>. The phase accumulator <b>314</b> operates in a fashion to produce a phase accumulated output having 12 bits which is received by the quadrant logic <b>312</b>. The quadrant logic, based upon a portion of the 12 bit input, determines a 10 bit output signal that is provided to the DDS ROM <b>310</b>. The DDS ROM <b>310</b> performs a look up function based upon the 10 bit input and produces an 8 bit output. This 8 bit output is received by the 2's complement to unsigned converter <b>318</b> which produces an unsigned output having 8 bits which is provided to digital analog converter (DAC) <b>320</b>. The DAC <b>320</b> receives the 8 bit input signal and produces an analog output <b>330</b> based upon the 8 bit input signal.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a particular embodiment of the 4 level GFSK shift register <b>304</b> previously illustrated more generally with respect to <figref idref="DRAWINGS">FIG. 3</figref>. The 4 level GFSK shift register <b>402</b> receives data bits D<sub>1 </sub>and D<sub>2 </sub>as well as a symbol clock. The 4 level GFSK shift register <b>402</b> includes D flip flops <b>404</b>, <b>406</b>, <b>408</b>, <b>410</b>, <b>412</b> and <b>414</b>. D flip flop <b>404</b> receives data bit D<sub>1</sub>. D flip flop <b>406</b> receives as its input the output of D flip flop <b>404</b> while D flip flop <b>408</b> receives as its input the output of D flip flop <b>406</b>. Thus, D flip flops <b>404</b>, <b>406</b> and <b>408</b> together serve as a shift register for bit D<sub>1 </sub>with such shift register being clocked by the symbol clock.</p>
<p id="p-0041" num="0040">D flip flops <b>410</b>, <b>412</b> and <b>414</b> serve as a shift register for bit D<sub>0</sub>, such shift register also are being clocked by the symbol clock. As is indicated, the six bits of output B<sub>5 </sub>through B<sub>0 </sub>produced by the 4 level GFSK shift register <b>402</b> represent the particular six states represented in the six D flip flops. With the current clock input values of D<sub>1 </sub>and D<sub>0 </sub>as a reference, bits B<sub>5 </sub>and B<sub>4 </sub>represent the most significant digits in the output. Bits B<sub>3 </sub>and B<sub>2 </sub>represent the next lesser significant digits in the output while bits B<sub>1 </sub>and B<sub>0 </sub>represent the least significant digits in the output.</p>
<p id="p-0042" num="0041">Bits B<sub>5 </sub>through B<sub>0 </sub>are received by the 4 level GFSK ROM <b>306</b> and the adder/subtractor <b>316</b> previously illustrated with respect to <figref idref="DRAWINGS">FIG. 3</figref>. Thus, the 4 level GFSK shift register <b>402</b> provides an input to the GFSK ROM <b>306</b> so that the 4 level GFSK ROM <b>306</b> may perform filtering on data that transitions through the 4 level GFSK shift register <b>402</b>.</p>
<p id="p-0043" num="0042">The memory provided by the 4 level GFSK shift register <b>402</b>/<b>304</b> allows the GFSK ROM <b>306</b> to provide smooth transitions between data levels. The shift register <b>402</b> effectively provides a delay from D<sub>1 </sub>and D<sub>0 </sub>to B<sub>3 </sub>and B<sub>2</sub>, respectively, plus additional delay elements for the values of D<sub>1 </sub>and D<sub>0 </sub>in the symbol periods immediately before and after. Thus, B<sub>3 </sub>and B<sub>2 </sub>reflect a delayed version of the current symbol, B<sub>1 </sub>and B<sub>0 </sub>reflect the previous symbol, and B<sub>5 </sub>and B<sub>4 </sub>reflect the next symbols. With this information, the GFSK ROM <b>306</b> of the disclosed embodiment can produce a smooth transition from midway between the previous and current symbol levels to the current symbol level, and from the current symbol level to midway between the current and next symbols. For the following symbol period, the current symbol (B<sub>3</sub>, B<sub>2</sub>) becomes the previous symbol (B<sub>1</sub>′, B<sub>0</sub>′), the next symbol (B<sub>5</sub>, B<sub>4</sub>) becomes the current symbol (B<sub>3</sub>′, B<sub>2</sub>′). A new symbol becomes the next symbol (B<sub>5</sub>′, B<sub>4</sub>′). In this new period, the output of the GFSK ROM <b>306</b> again starts midway between the previous (B<sub>1</sub>′, B<sub>0</sub>′) and current (B<sub>3</sub>′, B<sub>2</sub>′) symbol levels. These are the same as the current (B<sub>3</sub>, B<sub>2</sub>=B<sub>1</sub>′, B<sub>0</sub>′) and next (B<sub>5</sub>, B<sub>4</sub>=B<sub>3</sub>′, B<sub>2</sub>′) symbol levels from the first symbol period, meaning the output signal is continuous.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 5</figref> illustrates particular circuitry <b>500</b> associated with the DDS circuitry <b>210</b> illustrated in <figref idref="DRAWINGS">FIG. 2</figref> as well as particular components illustrated with respect to <figref idref="DRAWINGS">FIG. 3</figref>. As is shown, the DDS circuitry <b>500</b> includes a D flip flop <b>502</b> that has a 16 bit width that receives the output from the adder/subtractor <b>316</b>. The phase accumulator includes an adder <b>504</b> and an output D flip flop <b>506</b>. The adder <b>504</b> receives the output of the D flip flop <b>502</b> and the contents of the prior output of the adder held in the output D flip flop <b>506</b>. Reset signal <b>507</b> is asserted to clear the contents of both the input D flip flop <b>502</b> and D flip flop <b>506</b> for initialization purposes.</p>
<p id="p-0045" num="0044">Element <b>505</b> strips the least significant 4 bits from the output of D flip flop <b>506</b> and provides the 12 most significant bits of the output of D flip flop <b>506</b> to splitter <b>508</b>. Splitter <b>508</b> provides the two most significant bits of its output to splitter <b>510</b> and the least significant 10 bits to switch <b>512</b>. Based upon the least significant bit of the input to splitter <b>510</b>, the input to switch <b>512</b> is either passed to switch <b>516</b> or inverted via 10 bit inverter <b>514</b>. The output of switch <b>516</b> is a 10 bit value which serves as the address to the DDS ROM <b>518</b>. The output of the DDS ROM <b>518</b> has 8 bits and is formatted via formatter <b>520</b> and then provided to switch <b>522</b>. Based upon the most significant bit of the output of splitter <b>510</b>, which determines the quadrant of the analog signal produced by the DDS, switch <b>522</b> is positioned to generate either a 2's complement inversion of the 8 bit signal received from the formatter by means of NEG <b>524</b>, or simply to pass such signal to switch <b>526</b>.</p>
<p id="p-0046" num="0045">The output of switch <b>526</b> is passed through block <b>528</b> to splitter <b>530</b>. Splitter <b>530</b> inverts the most significant bit of the 8 bit value at inverter <b>532</b>, passes such inverted bit through combiner <b>534</b>, and produces an 8 bit output respective to the 2s complement unsigned converter <b>318</b> of <figref idref="DRAWINGS">FIG. 3</figref>. Such 8 bit output is provided to a digital to analog converter (DAC) such as that illustrated at <b>320</b> in <figref idref="DRAWINGS">FIG. 3</figref>. Thus, the components of the DDS illustrated with respect to <figref idref="DRAWINGS">FIG. 5</figref> function to convert the filtered output produced via the other components of the modulation circuitry and to provide an input to the digital analog converter.</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 6</figref> illustrates a particular embodiment of a multi-level GFSK filter ROM <b>602</b> according to the present invention. The concepts displayed with respect to the particular GFSK filter ROM <b>602</b> may be employed in a circuit supporting 2, 4, and 8 (or more) level operation. In such case, 1, 2 or 3 bits would serve as input data D<sub>2</sub>, D<sub>1 </sub>and D<sub>0 </sub>to the multilevel GFSK filter ROM <b>602</b>. In such case, two data rate indicator bits R<sub>1 </sub>and R<sub>0 </sub>are received by the multilevel GFSK filter ROM <b>602</b>.</p>
<p id="p-0048" num="0047">The data rate decode circuitry <b>604</b> receives signals R<sub>1 </sub>and R<sub>0 </sub>and operates multiplexors <b>606</b>, <b>608</b> and <b>610</b>. Depending upon the rate at which the multilevel filter ROM operates, a filtered data look up table <b>612</b> can be operated to accept 2, 4 and 8 GFSK operation. The filtered data look up table <b>612</b> receives 3 bits of input. Table 1 below illustrates deviations for 2 GFSK, Table 2 below illustrates deviations for 4 GFSK operation and Table 3 below illustrates deviations for 8 GFSK operation. In such tables, h2 and f<sub>3 </sub>represent relative deviation levels based upon the particular implementation employed.</p>
<p id="p-0049" num="0048">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>2 GSFK OPERATION</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="56pt" align="left"/>
<colspec colname="1" colwidth="21pt" align="center"/>
<colspec colname="2" colwidth="140pt" align="center"/>
<tbody valign="top">
<row>
<entry/>
<entry>data</entry>
<entry>Deviation</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry>1</entry>
<entry> (h2/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>0</entry>
<entry>−(h2/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0050" num="0049">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 2</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>4 GFSK OPERATION</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="21pt" align="center"/>
<colspec colname="2" colwidth="147pt" align="center"/>
<tbody valign="top">
<row>
<entry/>
<entry>data</entry>
<entry>Deviation</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry>10</entry>
<entry> 3 · (h4/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>11</entry>
<entry> (h4/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>01</entry>
<entry>−(h4/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>00</entry>
<entry>−3 · (h4/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="left" id="FOO-00001">where h4 = 0.45 * h2</entry>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0051" num="0050">
<tables id="TABLE-US-00003" num="00003">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 3</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>8 GFSK OPERATION</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="offset" colwidth="49pt" align="left"/>
<colspec colname="1" colwidth="21pt" align="center"/>
<colspec colname="2" colwidth="147pt" align="center"/>
<tbody valign="top">
<row>
<entry/>
<entry>data</entry>
<entry>Deviation</entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry>100</entry>
<entry> 7 · (h8/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>101</entry>
<entry> 5 · (h8/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>111</entry>
<entry> 3 · (h8/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>110</entry>
<entry> (h8/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>010</entry>
<entry>−(h8/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>011</entry>
<entry>−3 · (h8/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>001</entry>
<entry>−5 · (h8/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry>000</entry>
<entry>−7 · (h8/2) · f<sub>3</sub></entry>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="center" rowsep="1"/>
</row>
<row>
<entry/>
<entry namest="offset" nameend="2" align="left" id="FOO-00002">where h8 = 0.5 * h4 = 0.225 * h2</entry>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0052" num="0051">Equations (1) and (2) below relate two bit operation of the 8 GFSK filter data look up table <b>612</b> to 2 bit operation. In operating the 8 GFSK filter data lookup table <b>616</b> for 2 GFSK operation, signal bit of input D<sub>0 </sub>is provided as the most significant bit <b>620</b> to the filter data look up table <b>612</b> while input bits <b>616</b> and <b>618</b> are held at logic high and low levels, respectively. Such operation is accomplished by multiplexing data bit D<sub>0 </sub>from multiplexor <b>610</b> into the filter data lookup table <b>616</b> while holding the outputs of multiplexors <b>606</b> and <b>608</b> at logic high and low levels, respectively. Further, to complete such operation, the output of filtered data look up table <b>614</b> may be scaled by a factor of 1/1.125. Alternatively, the table output could be scaled by a factor of 1 for 2-level and 1.125 for 8-level, also adjusting the 4-level scaling factor accordingly. Such may be accomplished using the multi-rate ROM output scaler <b>206</b> located in <figref idref="DRAWINGS">FIG. 2</figref>.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>*<i>f</i><sub>2</sub>(<i>x</i>)=[(<i>h</i>2/<i>h</i>8)·<i>f</i><sub>8</sub>(<i>x,</i>1,0)=<i>h</i>2/(3<i>·h</i>8)]·<i>f</i><sub>8</sub>(<i>x,</i>1,1)=[<i>h</i>2/(5˜<i>h</i>8)]·<i>f</i><sub>8</sub>(<i>x,</i>0,1)=[<i>h</i>2/(7<i>·h</i>8)]·<i>f</i><sub>8</sub>(<i>x,</i>0,0)  Equation (1)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0053" num="0052">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>f</mi>
            <mn>2</mn>
          </msub>
          <mo>⁡</mo>
          <mrow>
            <mo>(</mo>
            <mi>x</mi>
            <mo>)</mo>
          </mrow>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <msub>
                <mi>f</mi>
                <mn>8</mn>
              </msub>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mi>x</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mo>,</mo>
                  </mstyle>
                  <mo>⁢</mo>
                  <mn>1</mn>
                  <mo>⁢</mo>
                  <mstyle>
                    <mo>,</mo>
                  </mstyle>
                  <mo>⁢</mo>
                  <mn>0</mn>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mn>0.225</mn>
          </mfrac>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <mrow>
                <msub>
                  <mi>f</mi>
                  <mn>8</mn>
                </msub>
                <mo>⁡</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>x</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mo>,</mo>
                    </mstyle>
                    <mo>⁢</mo>
                    <mn>1</mn>
                    <mo>⁢</mo>
                    <mstyle>
                      <mo>,</mo>
                    </mstyle>
                    <mo>⁢</mo>
                    <mn>1</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mn>0.675</mn>
            </mfrac>
            <mo>=</mo>
            <mrow>
              <mfrac>
                <mrow>
                  <msub>
                    <mi>f</mi>
                    <mn>8</mn>
                  </msub>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>x</mi>
                      <mo>⁢</mo>
                      <mstyle>
                        <mo>,</mo>
                      </mstyle>
                      <mo>⁢</mo>
                      <mn>0</mn>
                      <mo>⁢</mo>
                      <mstyle>
                        <mo>,</mo>
                      </mstyle>
                      <mo>⁢</mo>
                      <mn>1</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mn>1.125</mn>
              </mfrac>
              <mo>=</mo>
              <mfrac>
                <mrow>
                  <msub>
                    <mi>f</mi>
                    <mn>8</mn>
                  </msub>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mi>x</mi>
                      <mo>⁢</mo>
                      <mstyle>
                        <mo>,</mo>
                      </mstyle>
                      <mo>⁢</mo>
                      <mn>0</mn>
                      <mo>⁢</mo>
                      <mstyle>
                        <mo>,</mo>
                      </mstyle>
                      <mo>⁢</mo>
                      <mn>0</mn>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
                <mn>1.575</mn>
              </mfrac>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Equation</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>2</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0054" num="0053">Equations (3) and (4) illustrate how 4 GFSK operation may be achieved with the 8 GFSK filter data look up table <b>612</b> by setting line <b>618</b> logic high (the output of multiplexor <b>608</b>), by providing data bit D<sub>1 </sub>through multiplexor <b>610</b> as line <b>620</b> and by providing data bit D<sub>0 </sub>as input <b>616</b> to the filter data look up table <b>616</b> via multiplexor <b>606</b>. Thus, according to the present invention, multiple data rates may be accomplished in a single filter data look up table <b>616</b> in conjunction with a scaled output element <b>206</b> to provide multi-data rate operation, all supported by a single unit.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i><sub>4</sub>(<i>x,y</i>)=(<i>h</i>4<i>/h</i>8)·<i>f</i><sub>8</sub>(<i>x</i>,1,<i>y</i>)  Equation (3)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>f</i><sub>4</sub>(<i>x,y</i>)=2<i>·f</i><sub>8</sub>(<i>x</i>,1,<i>y</i>)  Equation (4)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0055" num="0054">As can be seen, modulation outputs are mapped to appropriate locations in the filter data lookup table <b>616</b> by the data rate decode circuitry <b>604</b> and multiplexors <b>606</b>, <b>608</b>, and <b>610</b>. In order to minimize the size of the discontinuity of the scaled and filtered data <b>222</b> (<figref idref="DRAWINGS">FIG. 2</figref>) when the data rate changes, the mapping may be chosen to keep the ratio of the output scaling factors near unity. In the 2/4-level case discussed above, for example, the 2-level inputs are mapped to the extreme 4-level output levels in order to produce the scaling factor ratio nearest unity (1.35 or 1/1.35=0.74 as opposed to 0.45 or 1/0.45=2.22). Similarly, for the 2/4/8-level case, the third expression for f<sub>2</sub>(x) in Equation (2) may be used because the relative scaling factor (1.125) is closest to unity.</p>
<p id="p-0056" num="0055">In the disclosed embodiment, only one mapping from f<sub>8</sub>( ) to f<sub>4</sub>( ) is shown. However, the resulting scaling factor of 2 is relatively large (the scaled filter output will double or halve at transitions between 4-level and 8-level signaling), suggesting that this method could be enhanced by adding two additional levels to the 8 GFSK filter data lookup table <b>616</b> (at the cost of added complexity). Accordingly, it is contemplated that improved results may be obtained by mapping the “outer” 4-GFSK levels to the “outer” 8-GFSK levels and creating new table entries for the “inner” 4-GFSK levels. These new levels might be, for example, at ±7/3·(h8)·f<sub>3 </sub>with a resulting 4-GFSK output scaling factor of 6/7≈0.857. In addition, it should be noted that the scaling factor for the highest order modulation output need not be unity.</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 7</figref> illustrates an exemplary installation of a modulation circuit constructed according to the present invention. The particular installation contemplated is a wireless terminal <b>700</b> that includes multi-rate data encoding circuitry <b>702</b> and DDS circuitry <b>706</b> constructed in accordance with previously described circuits. The multi-rate data encoding circuitry <b>702</b> receives digital data from connected data processing circuitry <b>704</b>, encodes the data dependent upon operating conditions and provides the encoded data to the DDS circuitry <b>706</b>. Such encoding considers current data rate requirements and other operating conditions. The DDS circuitry <b>706</b> receives the encoded data and provides an analog output signal to connected radio circuitry <b>708</b>.</p>
<p id="p-0058" num="0057">The radio circuitry <b>708</b> “up mixes” the analog output signal and transmits the RF modulated signal via antenna <b>710</b> to a receiving location. The radio circuitry also receives RF modulated data and down mixes the RF modulated data to produce a modulated intermediate frequency (IF) signal. Such IF signal is provided to the demodulation circuitry <b>712</b> which demodulates the IF signal. Such IF signal is provided to the demodulation circuitry <b>712</b> which demodulates the IF signal. Upon demodulation, the demodulation circuitry <b>712</b> provides the demodulated signal to data conversion circuitry <b>714</b> which reproduces a digital signal of interest. Such digital signal of interest is then passed to the data processing circuitry for further use. Such use may be had with attached conventional circuitry <b>716</b>.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 8</figref> illustrates an exemplary GFSK filter <b>800</b> constructed in accordance with the present invention. As shown, D flip flops <b>828</b>, <b>830</b> and <b>832</b> form a four level shift register such as the four level GFSK shift register <b>304</b> described above in conjunction with <figref idref="DRAWINGS">FIG. 3</figref>. Each of the D flip flops <b>828</b>, <b>830</b> and <b>832</b> provide dual outputs corresponding to two of the bits of output data B<sub>5 </sub>through B<sub>0</sub>. Splitter <b>842</b> receives the outputs of the D flip flop <b>828</b>, providing the least significant bit to a concatenation circuit <b>836</b> and the most significant bit to the input of a D flip flop <b>844</b>. A second concatenation circuit <b>834</b> receives the outputs of the D flip flops <b>830</b> and <b>832</b>. The concatenated outputs are provided to the concatenation circuit <b>836</b>.</p>
<p id="p-0060" num="0059">The concatenation circuit <b>836</b> forms the address used for the 4 level GFSK ROM <b>808</b>. The five bit address output of the concatenation circuit <b>836</b> is inverted by inverter <b>838</b> and selector <b>840</b> based on the logic level of the most significant bit output of the splitter <b>842</b>. The five bit address effectively identifies one ten sample portion of the address space of the 4 level GFSK ROM <b>808</b>. Concatenation circuit <b>810</b> combines the five bit address provided by the selector <b>840</b> with a sample counter value which repeatedly counts between zero and nine. The sample counter value is synchronized with the symbol clock <b>324</b> so that it counts between zero and nine once for each symbol. The output of the concatenation circuit <b>810</b> is provided to address input of the 4 level GFSK ROM <b>808</b>.</p>
<p id="p-0061" num="0060">D flip flops <b>801</b>, <b>802</b> and <b>804</b> form a delay element (such as the delay circuit <b>309</b> of <figref idref="DRAWINGS">FIG. 3</figref>) used to provide a delayed version of the data rate indicator <b>326</b> to the ROM output scaler <b>812</b>, with the value of the delay approximating the delay of the four level shift register as well as the delay of a D flip flop <b>806</b>. The optional D flip flop <b>806</b> is coupled between the 4 level GFSK ROM <b>808</b> and the ROM output scaler <b>812</b> for purposes of introducing a pipelining delay in certain implementations of the GFSK filter <b>800</b>. Other optional pipelining D flip flops include D flip flops <b>804</b>, <b>806</b>, <b>844</b> and <b>852</b>. D flip flops <b>816</b> and <b>846</b> form a second pipeline stage in the disclosed embodiment of the invention. The pipelining D flip flops are clocked by clocking signal SMPL_CLK <b>328</b>, which operates at ten times the frequency of the symbol clock <b>324</b> of the disclosed embodiment of the invention. The pipelining flip flops are not required for functional operation of the GFSK filter <b>800</b>, but may be useful to shorten delays through the various stages of the GFSK filter <b>800</b>.</p>
<p id="p-0062" num="0061">The output of the 4 level GFSK ROM <b>808</b> is provided to the ROM output scaler <b>812</b> via the D flip flop <b>806</b>. The ROM output scaler <b>812</b> switches between, for example, two GFSK deviations and four GFSK deviations as described above.</p>
<p id="p-0063" num="0062">Modulation may be disabled by a switch <b>814</b> coupled between the ROM output scaler <b>812</b> and the D flip flop <b>816</b>. Operation of the switch <b>814</b> is controlled by an enable signal TXMOD <b>854</b>, which is latched and delayed (if needed) by the D flip flops <b>848</b>, <b>850</b> and <b>852</b>. D flip flops <b>848</b> and <b>850</b> are included in the disclosed embodiment for purposes of matching the delays introduced by D flip flops <b>828</b> and <b>830</b>. In the event modulation is disabled, a constant value of zero is provided at the output of the switch <b>814</b>.</p>
<p id="p-0064" num="0063">The ten bit output of the D flip flop <b>816</b> is padded to sixteen bits by a formatting circuit <b>818</b> and pass through circuit <b>820</b>. A multiplier circuit <b>822</b> receives the scaled output of the pass through circuit <b>820</b> and multiplies the output by a factor of two. The output of either pass through circuit <b>820</b> or the multiplier circuit <b>822</b> is provided to the input of an adder/subtractor <b>826</b> via a switch <b>824</b>. The switch <b>824</b> is controlled by a selection signal DEV<sub>—</sub>2X <b>856</b>, which is asserted to select the output of the multiplier circuit <b>822</b> for certain lower symbol rate applications in which the deviations are doubled.</p>
<p id="p-0065" num="0064">The adder/subtractor <b>826</b> also receives the DDS center frequency input CF&lt;16&gt; and the most significant bit B<sub>5 </sub>(add/sub) produced by the 4 level GFSK shift register. The most significant bit B<sub>5 </sub>is provided by an output of the D flip flop <b>846</b>. Based upon this output, the adder/subtractor <b>826</b> either adds the output from the ROM output scaler <b>812</b> to the DDS center frequency input CF&lt;16&gt; or subtracts the output from the ROM output scaler <b>812</b> from the DDS center frequency input CF&lt;16&gt;. In either case, the adder/subtractor <b>826</b> produces a 16 bit output which is provided to a phase accumulator such as phase accumulator <b>314</b>.</p>
<p id="p-0066" num="0065">Many variations to the disclosed embodiments of the invention are contemplated. For example, the modulator may comprise a DDS circuit (using FSK, PSK, ASK/AM, QAM, etc.) followed by a DAC. Alternatively, the modulator may comprise a DAC followed by analog circuitry (e.g., a voltage controlled oscillator).</p>
<p id="p-0067" num="0066">In view of the above detailed description of the present invention and associated drawings, other modifications and variations will now become apparent to those skilled in the art. It should also be apparent that such other modifications and variations may be effected without departing from the spirit and scope of the present invention as set forth in the claims which follow.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298791-20071120-M00001.NB">
<img id="EMI-M00001" he="7.45mm" wi="76.20mm" file="US07298791-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A multi-rate data modulation circuit comprising:
<claim-text>a multi-rate data conversion circuit that receives digital data at varying data rates, that receives a data rate input corresponding to the digital data and that converts the digital data to a converted output based upon the data rate input; and</claim-text>
<claim-text>a modulator circuit that receives the converted output and that synthesizes a modulated output signal based upon the converted output,</claim-text>
<claim-text>wherein the multi-rate data conversion circuit is capable of transitioning smoothly between data rates at any time, as controlled by the data rate input, said multi-rate conversion circuit comprising a single multi-rate digital data filter that receives converted digital data and produces a filtered digital output, and an output scaler that receives the filtered digital output and produces a scaled and filtered digital output.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The multi-rate data modulation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the modulator circuit comprises a direct digital synthesis circuit.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The multi-rate data modulation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, the multi-rate data conversion circuit comprising:
<claim-text>a multi-rate converter that receives the digital data, the data rate input and a clock signal and converts the digital data to converted digital data; and</claim-text>
<claim-text>an adder that combines the scaled and filtered digital output with a center frequency input and produces the converted output.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The multi-rate data modulation circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref>, the multi-rate digital data filter including a look-up table that produces filter parameters based upon the converted digital data and that operates at multiple data rates.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The multi-rate data modulation circuit of <claim-ref idref="CLM-00003">claim 3</claim-ref>, the multi-rate digital data filter comprising:
<claim-text>a digital data filter look-up table;</claim-text>
<claim-text>a data rate decode circuit that receives the data rate input and that produces control signals therefrom;</claim-text>
<claim-text>a plurality of multiplexors, each of which receives a portion of the converted digital data and control signals from the data rate decode circuit; and</claim-text>
<claim-text>the multiplexors selectively providing the converted digital data to the digital data filter look-up table to produce the filtered digital output.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The multi-rate data modulation circuit of <claim-ref idref="CLM-00002">claim 2</claim-ref>, the direct digital synthesis circuit comprising:
<claim-text>a phase accumulator that receives the converted output;</claim-text>
<claim-text>quadrant logic coupled to the phase accumulator that receives an output of the phase accumulator;</claim-text>
<claim-text>a direct digital synthesis memory coupled to the quadrant logic that receives an output of the quadrant logic;</claim-text>
<claim-text>an unsigned converter coupled to the direct digital synthesis memory that receives an output of the direct digital synthesis memory and produces an unsigned output; and</claim-text>
<claim-text>a digital to analog converter coupled to the unsigned converter that receives the unsigned output and produces the modulated output signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The multi-rate data modulation circuit of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the multi-rate data modulation circuit operating to couple a single bit of data to each cycle of the modulated output signal during a first time period and operating to couple two bits of data to each cycle of the modulated output signal during a second time period.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The multi-rate data modulation circuit of <claim-ref idref="CLM-00007">claim 7</claim-ref>, the multi-rate data modulation circuit further operating to couple three bits of data to each cycle of the modulated output signal during a third time period.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A wireless network device comprising:
<claim-text>data processing circuitry that produces digital data at varying data rates;</claim-text>
<claim-text>a multi-rate data conversion circuit that receives the digital data at the varying data rates from the data processing circuitry, that receives a data rate input corresponding to the digital data and that converts the digital data to a converted output based upon the data rate input;</claim-text>
<claim-text>a modulator circuit that receives the converted output and that synthesizes a modulated output signal based upon the converted output; and</claim-text>
<claim-text>a radio that receives the modulated output signal and transmits the modulated output signal;</claim-text>
<claim-text>wherein the multi-rate data conversion circuit supplies an output dependent upon current data rate requirements, and accommodates a changed data rate in response to a change in the data rate input without requiring the loading of new radio programming prior to receipt of a new data rate.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The wireless network device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the modulator circuit is a direct digital synthesis circuit.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The wireless network device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising:
<claim-text>demodulation circuitry that demodulates the modulated receive signal to produce a demodulated input signal; and</claim-text>
<claim-text>data conversion circuitry that receives the demodulated input signal, that produces converted digital data and that transmits the converted digital data to the data processing circuitry.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The wireless network device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, the multi-rate data conversion circuit comprising:
<claim-text>a multi-rate converter that receives the digital data, the data rate input and a clock signal and converts the digital data to converted digital data;</claim-text>
<claim-text>a multi-rate digital data filter that receives the converted digital data and produces a filtered digital output;</claim-text>
<claim-text>an output scaler that receives the filtered digital output and produces a scaled and filtered digital output; and</claim-text>
<claim-text>an adder that combines the scaled and filtered digital output with a center frequency input and produces the converted output.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The wireless network device of <claim-ref idref="CLM-00012">claim 12</claim-ref>, the multi-rate digital data filter including a look-up table that produces filter parameters based upon the converted digital data and that operates at multiple data rates.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The wireless network device of <claim-ref idref="CLM-00012">claim 12</claim-ref>, the multi-rate digital data filter comprising:
<claim-text>a digital data filter look-up table;</claim-text>
<claim-text>a data rate decode circuit that receives the data rate input and that produces control signals therefrom;</claim-text>
<claim-text>a plurality of multiplexors, each of which receives a portion of the converted digital data and control signals from the data rate decode circuit; and</claim-text>
<claim-text>the multiplexors selectively providing the converted digital data to the digital data filter look-up table to produce the filtered digital output.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The wireless network device of <claim-ref idref="CLM-00010">claim 10</claim-ref>, the direct digital synthesis circuit comprising:
<claim-text>a phase accumulator that receives the converted output;</claim-text>
<claim-text>quadrant logic coupled to the phase accumulator that receives an output of the phase accumulator;</claim-text>
<claim-text>a direct digital synthesis memory coupled to the quadrant logic that receives an output of the quadrant logic;</claim-text>
<claim-text>an unsigned converter coupled to the direct digital synthesis memory that receives an output of the direct digital synthesis memory and produces an unsigned output; and</claim-text>
<claim-text>a digital to analog converter coupled to the unsigned converter that receives the unsigned output and produces the modulated output signal.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The wireless network device of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the multi-rate data modulation circuit operating to couple a single bit of data to each cycle of the modulated output signal during a first time period and operating to couple two bits of data to each cycle of the modulated output signal during a second time period.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The wireless network device of <claim-ref idref="CLM-00016">claim 16</claim-ref>, the multi-rate data modulation circuit further operating to couple three bits of data to each cycle of the modulated output signal during a third time period.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. A multi-rate data modulation circuit comprising:
<claim-text>first means for receiving digital data at varying data rates, for receiving a data rate input corresponding to the digital data and for converting the digital data to a converted output based upon the data rate input; and</claim-text>
<claim-text>second means for receiving the converted output and for synthesizing a modulated output signal based upon the converted output,</claim-text>
<claim-text>said first means for transitioning smoothly between data rates at any time, as controlled by the data rate input.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. A multi-rate data modulation circuit comprising:
<claim-text>a multi-rate data conversion circuit that receives digital data at varying data rates, that receives a data rate input corresponding to the digital data and that converts the digital data to a converted output based upon the data rate input; and</claim-text>
<claim-text>a modulator circuit that receives the converted output and that synthesizes a modulated output signal based upon the converted output,</claim-text>
<claim-text>wherein the multi-rate data conversion circuit transitions smoothly between data rates at any time, as controlled by the data rate input, and accommodates a changed data rate in response to a change in the data rate input without requiring the loading of new radio programming prior to receipt of a new data rate.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The multi-rate data modulation circuit of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the multi-rate conversion circuit comprises a multi-rate filter that receives multiple samples of input data, and based upon the values of the multiple samples, selects filtering functions to produce filtered data.</claim-text>
</claim>
</claims>
</us-patent-grant>
