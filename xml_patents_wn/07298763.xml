<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298763-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298763</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10676971</doc-number>
<date>20030930</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>967</us-term-extension>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>12</main-group>
<subgroup>28</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370468</main-classification>
<further-classification>370270</further-classification>
<further-classification>370352</further-classification>
<further-classification>37039521</further-classification>
<further-classification>370465</further-classification>
<further-classification>37926505</further-classification>
</classification-national>
<invention-title id="d0e55">Managing bandwidth on demand for internet protocol messaging with capability for transforming telephony calls from one media type to another media type</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6363079</doc-number>
<kind>B1</kind>
<name>Barzegar et al.</name>
<date>20020300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370465</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6628666</doc-number>
<kind>B1</kind>
<name>Pickering et al.</name>
<date>20030900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370468</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00003">
<othercit>U.S. Appl. No. 09/050,673, filed Mar. 30, 1998, Richard Pickering et al.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>5</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370270</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370352</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370468</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>37926505</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>2</number-of-drawing-sheets>
<number-of-figures>2</number-of-figures>
</figures>
<us-related-documents>
<division>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>09050673</doc-number>
<kind>00</kind>
<date>19980330</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>6628666</doc-number>
<kind>A </kind>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>10676971</doc-number>
</document-id>
</child-doc>
</relation>
</division>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040062250</doc-number>
<kind>A1</kind>
<date>20040401</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Pickering</last-name>
<first-name>Richard B</first-name>
<address>
<city>El Granada</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Gisby</last-name>
<first-name>Douglas</first-name>
<address>
<city>Foster City</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Boys</last-name>
<first-name>Donald R.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<orgname>Central Coast Patent Agency, Inc.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Genesys Telecommunications Laboratories, Inc</orgname>
<role>02</role>
<address>
<city>Daly City</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Rao</last-name>
<first-name>Seema S.</first-name>
<department>2616</department>
</primary-examiner>
<assistant-examiner>
<last-name>Baron</last-name>
<first-name>Henry</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A system for assuring quality-of service for Data Network Telephone (DNT) calls, such as Internet Protocol Network Telephony (IPNT) calls has software for monitoring established DNT calls for adequate bandwidth. A threshold bandwidth, or parameter value related to bandwidth is stored, and tests are periodically made on the DNT call path and compared to the threshold. If the available bandwidth falls below the threshold, an alternative conventional call, such as a PSTN or ISDN call is made to replace the DNT call. Once the alternative call is established, the original call is ended. After the original call is ended, tests of the DNT path continue, and, in some cases, if adequate DNT bandwidth becomes available, the call is switched back to DNT. In some cases, alerts are posted for call participants, and provision is made for approval by one or both participants in a call for a switch in service type to be made.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="180.00mm" wi="253.58mm" file="US07298763-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="253.58mm" wi="181.69mm" orientation="landscape" file="US07298763-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="201.85mm" wi="156.80mm" file="US07298763-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED DOCUMENTS</heading>
<p id="p-0002" num="0001">The present application is a divisional application of co-pending patent application Ser. No. 09/050,673 entitled “Managing Bandwidth on Demand for Internet Protocol Messaging with Capability for Transforming Telephony Calls from One Media Type to Another Media Type”, which was filed on Mar. 30, 1998, now U.S. Pat. No. 6,628,666 and which is incorporated herein in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention is in the field of Telephony communications and has particular application to methods including software for transforming the media type of a telephony call while it is still in progress as a means of assuring adequate bandwidth for the call.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">Telephone call processing and switching systems are, at the time of the present patent application, relatively sophisticated, computerized systems, and development and introduction of new systems continues. Much information on the nature of such hardware and software is available in a number of publications accessible to the present inventor and to those with skill in the art in general. For this reason, much minute detail of known systems is not reproduced here, as to do so would obscure the facts of the invention.</p>
<p id="p-0005" num="0004">One document which provides considerable information on intelligent networks is “ITU-T Recommendation Q.1219, Intelligent Network User's Guide for Capability Set 1”, dated April, 1994.</p>
<p id="p-0006" num="0005">At the time of filing the present patent application there continues to be remarkable growth in telephone-based information systems (intelligent networks) including Internet based systems. Recently emerging examples are telemarketing operations and technical support operations, among many others, which have grown apace with development and marketing of, for example, sophisticated computer equipment. More traditional are systems for serving customers of such as large insurance organizations. In some cases, organizations develop and maintain their own telephony operations with purchased or leased equipment, and in many other cases, companies are outsourcing such operations to firms that specialize in such services.</p>
<p id="p-0007" num="0006">A large technical support operation may serves as an example of some of the kinds of applications of telephone equipment and functions to which the present invention pertains and applies. Consider such a system having a country-wide matrix of call-in centers, which is more and more a relatively common practice to provide redundancy and decentralization, which are often considered desirable in such operations. Also in such large organizations, business firms have a national, and in many cases a world-wide customer base. Such a system handles a large volume of calls from people seeking technical information on, for example, installation of certain computer-oriented equipment. These calls are handled by a finite number of trained operators distributed over the decentralized matrix of call centers.</p>
<p id="p-0008" num="0007">In an intelligent network such as described above, incoming calls placed from anywhere in the Public Switch Telephone Network (PSTN) arrive at central telephony switches called Service Control Points (SCP). An SCP is generally provided to be relatively close to a defined local area of callers. If the intelligent network is very large comprising many call centers then more than one SCP may be provided. Routing of incoming calls begins at the SCP.</p>
<p id="p-0009" num="0008">A central router at the SCP routes incoming calls to other routers or telephony switches that are deployed throughout the network to provide further routing to call centers or customer information systems (CIS). Additional processors may be provided at the SCP for further computer enhancement. For example, when a call arrives at the SCP, information about the caller is collected and processed to help determine the final destination of the call. Then according to programmed routing rules, the call may be routed to an automatic call distributor (ACD) for further routing to a call center and then on to an available agent. In some networks (known to the inventor) digital information pertaining to the caller may arrive at an agent station before the analog call. Routing in an intelligent network may be accomplished on several levels according to many different protocols. It is the processor connected to the telephony switch that provides computer enhancement in an intelligent network.</p>
<p id="p-0010" num="0009">More recently, there has been an integration between intelligent call processing systems and the public wide area network known as the Internet. A call center that is connected to both a public or private telephony network and the Internet can receive calls from either source. In an environment such as this, multimedia forms of communication may also be received such as E-mail, Internet phone calls, video calls and so on. An agent operating at a station equipped with an Internet connected PC as well as a public switch connected telephone can communicate using a wide variety of tools.</p>
<p id="p-0011" num="0010">Internet-based telephony systems may utilize both a regular telephony network and the Internet backbone, as briefly described above, or be based exclusively on the Internet. The present invention pertains most particularly to those systems which rely on both intelligent telephony networks and the Internet, and may handle calls over either network. Therefore, in addition to CTI equipment normally applied to, for example, a publicly switched Telephony network, there are Internet connected processors adapted for the routing and processing of calls according to Internet Protocol (IP), as is known in the art.</p>
<p id="p-0012" num="0011">The added capability of routing telephone calls over digital networks such as the Internet, and the additional communication options available to an Internet-connected call center can enhance a company's ability to reach a large market as well as to service customers efficiently. Because of the shared nature inherent to portions of Internet infrastructure and Telephony infrastructure, the line separating the two mediums is often somewhat ill-defined. For example, traffic from Internet activity may share certain sections of infrastructure that are used for public telephony traffic, and so on.</p>
<p id="p-0013" num="0012">One of the challenges faced with adapting real-time communication to being carried over a wide area network (WAN) such as the Internet, concerns available bandwidth. For example, a conventional (non-Internet) call to a call center arrives on dedicated lines that guarantee the bandwidth needed for the call. Any congestion issues regarding traffic in the network are typically handled with intelligent routing solutions. Connected digital networks such as local area network (LAN) or (WAN) share available bandwidth and are mostly utilized, in current art, for transferring information associated with a call, requesting routing of a call, controlling telephony switches, and so on. This state, as previously described, is not due to a lack of capability of transferring a real-time transaction over a digital network, but rather, to the uncertainty of available bandwidth during periods of high congestion in the network. For example, if a real-time transaction such as a telephone call is experiencing a drop in available bandwidth below a certain level, the call can break up or be delayed beyond a reasonable time rendering the transaction obsolete. Furthermore, real-time transactions being transported across a WAN such as the Internet require more bandwidth than other types of transactions that share the network. Because bandwidth is shared over a WAN, various uses must compete for available bandwidth. Portions of the Internet experience heavy congestion during certain times of the day, for example, raising the risk of the loss of real-time transactions to an Internet-connected call center.</p>
<p id="p-0014" num="0013">Adaptive encoding techniques have been proposed to enable better real-time service during periods of high congestion on the Internet. These encoding techniques attempt to adapt transactions to lower Bandwidth thresholds that may occur along the path or route used during the transaction. Other techniques such as resource reservation protocol (RSVP) and real-time transport protocol (RTP) are used to secure bandwidth for a transaction and to insure that proper flow and identification of information is received. Both techniques use existing IP protocol. These techniques can be used in conjunction with, or independently from each other. However, these adaptations are not complete solutions to the problem of transporting real-time communication over a WAN.</p>
<p id="p-0015" num="0014">What is clearly needed is a method and apparatus including software that enables a system to switch a real-time transaction between different protocols and paths, such as between Internet and ISDN, for example, based on detection and monitoring of available bandwidth as a call progresses. A method such as this could enable real-time transactions to be salvaged and delivered in alternate media form in the event that substantive bandwidth is not available along a certain portion of a WAN or delays are too long with a conventional telephony connection.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0016" num="0015">In a preferred embodiment of the present invention, a method for assuring quality of service for Data Network Telephony (DNT), in particular the example of Internet Protocol Network Telephony (IPNT) calls is provided, comprising steps of (a) monitoring bandwidth on an existing IPNT call between two stations; (b) comparing available bandwidth to a prestored threshold value; and (c) in the event that available bandwidth is less than the prestored threshold value, establishing a conventional telephone call via a telephony channel between telephones available to the participants in the IPNT call, and terminating the IPNT call. Bandwidth may be monitored by determining latency between two points, and in this case the prestored threshold value is a latency time value.</p>
<p id="p-0017" num="0016">In some embodiments the system continues to monitor bandwidth for the IPNT path, and restores the IPNT call and terminates the conventional telephony call in the event that available bandwidth again is equal to or exceeds the prestored threshold value.</p>
<p id="p-0018" num="0017">In preferred embodiments a single user interface for calls is provided at the stations where calls are completed, and in one case the interface comprises a telephone connected by its speaker line to the input and output of a sound card installed in the computer. None of the discussed aspects is specific to IPNT, but can be applied to DNT in general.</p>
<p id="p-0019" num="0018">In some embodiments, before a switch of call type or network is made, one or both participants in the call are notified, and in some cases participants are provided with an opportunity to ratify or veto a contemplated switch.</p>
<p id="p-0020" num="0019">In alternative aspects of the invention, apparatus adapted for practicing the invention is provided, wherein software for accomplishing the invention may be operated on a variety of platforms, depending on system content and connection. In yet other aspects, call center architecture is provided wherein various embodiments of the invention may be practiced.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWING FIGURES</heading>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 1</figref> is an overview of an Internet-based intelligent network according to an embodiment of the present invention.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 2</figref> is a software flow diagram illustrating detection and monitoring steps of the software of the present invention according to an embodiment of the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 1</figref> is an overview of a messaging system using both the Internet as an example for DNT and a conventional telephony network according to an embodiment of the present invention, wherein bandwidth monitoring and subsequent call method and type exchange is practiced. A call center <b>150</b> comprises a LAN-connected agent station <b>160</b> and a LAN-connected agent station <b>170</b>. There may be more than one call center such as call center <b>150</b> distributed throughout a network, however one such call center having two agent stations is sufficient for the purpose of adequately describing the present invention.</p>
<p id="p-0024" num="0023">Agent station <b>160</b> comprises a personal computer (PC) <b>161</b> and a telephone <b>162</b>. Agent's telephone <b>162</b> is connected to a telephony switch <b>120</b> via a conventional telephone channel <b>164</b>. Telephony switch <b>120</b> may be a Publicly Switched Telephony Network (PSTN) switch, a Private Branch Exchange (PBX), or another type of telephony switch known in the art. Agent's telephone <b>162</b> in this embodiment is connected to agent's PC <b>161</b> via a modular cable <b>173</b>, such that the speaker line in the telephone is connected to the input and output ports of a sound card coupled to an internal bus of the PC, such that audio at the telephone, on both the microphone and speaker lines, may originate from either the PC or the telephone channel to which the telephone is connected, and audio input at the telephone is transmitted to either or both of the PC and the telephone channel to which the telephone is connected. There are other connections known to the inventor for accomplishing the purpose of allowing a telephone to cooperate with a computer such that the audio on the telephone is shared with the computer by means of analog-to-digital conversion and digital-to-analog conversion.</p>
<p id="p-0025" num="0024">An input cable connection from the agent's telephone <b>162</b> to agent's PC <b>161</b> will enable both IP and PSTN calls to be placed by the agent without the special wiring needed for interactive monitoring. The connection described above accomplishes this dual capability by the integration of a telephone receiver to a sound card and modem card on the PC. There is also a multitude of other ways, how this can be achieved such as PC-speakerphone, sound/modem card combos etc.</p>
<p id="p-0026" num="0025">Therefore, in an embodiment wherein interactive monitoring as previously described is not practiced, then any serial cable as known in the art that will connect the receiver of the telephone to the sound and modem cards available on the PC will be sufficient for the practice of the present invention. There are, as well, other methods known in the art for creating a bridge between an agent's phone such as agent's telephone <b>162</b> and a PC's sound and modem cards thus enabling a single user interface that will allow both IP and normal telephone calls to be handled.</p>
<p id="p-0027" num="0026">Agent station <b>170</b> is equipped identically to agent station <b>160</b>, having a PC <b>171</b> connected to a LAN <b>152</b>, an agent telephone <b>172</b> connected to telephony switch <b>120</b> via analog connection <b>174</b>, and a modular cable <b>173</b> connecting agent's PC <b>171</b> to agent's telephone <b>172</b>. Providing a connection such as modular cable <b>173</b> between a PSTN-connected telephone and a PC allows the telephone to be integrated with the modem and the sound card on the PC so that a single interface to the user is created as described above. Switching of calls from one media type to another may be accomplished utilizing the software of the present invention. In some embodiments of the invention switch <b>120</b> is not in the network, but a part of the customer premises equipment, wherein the switch is connected to the network via at least one wide-bandwidth trunk, and to a plurality of telephones in agent stations by lower-bandwidth ports identified n the local switch by destination numbers (DNs). In either case the cable connection between the telephone and the PC works the same for sharing audio.</p>
<p id="p-0028" num="0027">LAN <b>152</b> is connected to a data server <b>153</b>. Data server <b>153</b> in some embodiments stores information pertaining to a caller and/or other information required by agents to perform their functions. LAN <b>152</b> is also connected via a LAN server <b>175</b> to the Internet represented by cloud <b>181</b> via a digital connection <b>180</b>. In some embodiments the Internet connection may be accomplished on processor <b>151</b> or other processor on the LAN providing suitable hardware and software as known in the art. LAN <b>152</b> is further connected to processor <b>151</b> running an instance of a computer-telephony integration application <b>114</b><i>b </i>known to the inventors as T-server. Processor <b>151</b> is connected via digital CTI connection <b>118</b> to telephony switch <b>120</b>. CTI connection <b>118</b> connects processor <b>151</b> to other CTI equipment present at the public network level represented by PSTN cloud <b>100</b>. The CTI-server (T-Server) is capable of monitoring activities of switch <b>120</b>, and also of controlling functions of the switch.</p>
<p id="p-0029" num="0028">Other equipment illustrated in this embodiment includes, but is not limited to, an intelligent peripheral (IP) <b>101</b>, for obtaining customer information at the time of an incoming call, an adjunct processor <b>106</b>, for such as load balancing of calls to call centers, a call distributor processor <b>108</b>, and a processor <b>116</b> running an instance of T-server (T-S) <b>114</b> for communicating with T-Server <b>114</b><i>b </i>at the call center level, and an instance of a stat-server <b>112</b> for providing statistical information for such as predictive routing, and so on. It will be apparent to one with skill in the art that each separate processor illustrated could be in fact one multi-capable processor, and that none or all of the equipment and software may be present. The inventor chooses to include the aforementioned equipment solely to illustrate the “intelligent capabilities” of telephony network within which the present invention may be practiced.</p>
<p id="p-0030" num="0029">CTI connection <b>118</b> allows routing routines and other executable commands to be executed from within call center <b>150</b> for the purpose of controlling telephony switch <b>120</b>, as well as allowing digital information obtained at the time of the call to be passed to a receiving agent along with but ahead of the actual call.</p>
<p id="p-0031" num="0030">A remote station <b>200</b> separate from call center <b>150</b> has a PC <b>202</b> connected to a telephone <b>201</b> via a modular cable <b>173</b> of the same sort and connectivity as described above for agent stations <b>160</b> and <b>170</b> in call center <b>150</b>. The telephone-to-PC connection at remote station <b>200</b> serves the purpose of integrating telephone <b>201</b> with a modem and sound card on PC <b>202</b>, thus forming a single user interface capable of handling both IP and conventional telephone calls. An instance of software according to an embodiment of the present invention (SW) is installed and executable on PC <b>202</b>, and enables actual call switching.</p>
<p id="p-0032" num="0031">In a preferred embodiment of the present invention, a client of the call center, using the equipment at station <b>200</b> initiates an Internet Protocol Network Telephony (IPNT) call using an Internet application installed and operable on PC <b>202</b>. The client may interface to the computer using his/her telephone <b>201</b> by virtue of modular cable <b>173</b>. Internet telephony applications using Transfer Control Protocol/Internet protocol (TCP/IP) are well known in the art and are available from several commercial vendors. The IP call is initiated from customer premises <b>200</b>, via connection <b>203</b> to the Internet, which may be via a modem in PC <b>202</b> and appropriate Internet Service Provider (ISP) accounts and the like, as known in the art. The call is routed through Internet cloud <b>181</b> according to Internet protocol as also known in the art. Connection <b>203</b> may be of the form of analog or digital such as ISDN. The call goes, in this embodiment to processor <b>175</b>, and is routed on LAN <b>152</b> to an agent at either of stations <b>160</b> and <b>170</b>. For this example we will assume the IP call is answered by an agent at station <b>160</b>.</p>
<p id="p-0033" num="0032">As briefly discussed with reference to the background section, bandwidth is shared on the Internet, and must be available at a sufficient magnitude for the success of the IP call. Also, there are typically many routing points through which IP calls must pass. Available bandwidth can vary from one routing point to another. Therefore, software of the present invention (SW), of which there is an instance installed on PC <b>202</b>, must monitor for available bandwidth along the entire path between PC <b>202</b> and finally processor <b>175</b>. This may be accomplished by using existing techniques known in the art such as RSVP. RTP may be utilized as well provided that it is supported in the Internet phone application used by the customer at station <b>200</b>.</p>
<p id="p-0034" num="0033">SW has a pre-stored threshold for bandwidth needed for supporting IP calls from station <b>200</b>. If bandwidth is found to be available at or above the preset threshold, then the IP call may proceed with acceptable quality between the agent at station <b>160</b> and the client at station <b>200</b>.</p>
<p id="p-0035" num="0034">In conventional art if there is not sufficient bandwidth available in one or more points along the routing path of the IP call, then the call would still be delivered, however the quality of communication may be substandard primarily because of lost packets of information. For example, voice may be choppy or unintelligible, video may be delayed, or not available at all, and so on.</p>
<p id="p-0036" num="0035">A method according to the present invention allows for the client to be prompted via SW in the event that a desired quality of service cannot be reserved. A prompt, in this case, offers an option for the customer to switch the call over to another media type such as PSTN or ISDN. If a customer elects to switch, then his modem may dial the number through receiver modular cable <b>173</b>, customer's telephone <b>200</b> and telephone channel <b>182</b> as call <b>104</b>. The call is delivered to the agent at station <b>160</b> to which the IPNT call was connected. Once the conventional call is established the original IP call is terminated.</p>
<p id="p-0037" num="0036">After the original call is terminated and the PSTN/ISDN call proceeds, SW in a preferred embodiment continues to ping the opposite terminal point for bandwidth, indicated by latency. If sufficient bandwidth (minimum latency) becomes again available via the Internet route, the call may be switched back to an IPNT call, and the PSTN/ISDN call may then be terminated.</p>
<p id="p-0038" num="0037">There are various schemes that may be utilized to obtain various advantages over current art while practicing the present invention. For example, either or both of the agent's PC and the client's PC may be adapted via SW to switch calls between IPNT and conventional telephony channels.</p>
<p id="p-0039" num="0038">An advantage to the client having control is that if there is not sufficient bandwidth available for an IPNT call, a PSTN/ISDN call can be initiated automatically (no manual dialing) by having the appropriate number stored in memory and perhaps coded for speed dial. Another advantage to the client having the power to switch a call is that in the event of a PSTN/ISDN call being stuck in a waiting queue, the customer may switch the call back to an IP call provided a desired quality of service becomes available. Also, in the event that a PSTN/ISDN call is required, a customer could have some control over the cost of the call by utilizing a least-cost routing application (not shown) that could be installed and configured with SW. For example, a least-cost routing application would determine which carrier is less expensive, etc.</p>
<p id="p-0040" num="0039">An advantage to an agent operating within a call center of having the power to switch a call is that important calls may be salvaged in the event that a current IP transaction begins degrading. Switching to a PSTN/ISDN call could avoid the loss of a call and a customers business. Switching the call from PSTN/ISDN to IP may allow an agent to send video important to a customer, which can't be sent by the conventional telephony channels.</p>
<p id="p-0041" num="0040">In another embodiment of the present invention, control may be reserved and automated with IPNT calls associated with call center <b>150</b> being monitored and converted (if needed) by an instance of SW installed on processor <b>151</b> and operating in concert with T-server <b>114</b><i>b</i>. In this case, the instance of SW running in processor <b>151</b> would monitor any IP transactions in progress at call center <b>150</b>. SW in this embodiment is enhanced with a capability of monitoring a large number of calls that may be connected between agents and customers at any one time and will request T-server <b>114</b><i>b </i>control to establish alternative connections between agent's and clients. For example, at times that there is minimum traffic in the Internet network, more calls may be maintained as IP calls. At times where there is more congestion in the IP network, more calls would be crossed over to PSTN/ISDN calls, and so on. The IPNT calls that are converted to PSTN/ISDN may be established via sending a dialing command through CTI link <b>118</b> to telephony switch <b>120</b>. Telephony switch <b>120</b> then dials the client's PSTN/ISDN number to establish a connection. Once a PSTN/ISDN connection is established, the original IPNT call is terminated as in previously described embodiments. However, SW continues monitoring the IPNT paths, and is adapted to either automatically switch calls back from PSTN/ISDN to IPNT if the desired QoS can be detected and reserved, or agents and/or clients may be alerted and requested to verify or authorize a transfer.</p>
<p id="p-0042" num="0041">It will be apparent to one with skill in the art that the software (SW) according to embodiments of the present invention (SW) could be present at both agent stations and client locations, at agent stations only, at client locations only, or at a processor location having control over agent stations via LAN. Therefore, control could be tailored for each network.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 2</figref> is a flow diagram illustrating detection and monitoring steps of the software of the present invention according to a preferred embodiment. After an IPNT call has been initiated, SW begins motoring for available bandwidth over a WAN such as the Internet in step <b>250</b>. In addition to using RSVP protocol or an equivalent to determine quality of service, a pinging technique, known in the art, is used to determine latency along the IPNT route. For example, a timing signal is sent at step <b>251</b>. The signal is then received at step <b>252</b>. If the time elapse between sending the signal in step <b>251</b> and receiving the signal in step <b>252</b> is determined to be greater than the maximum latency allowed in step <b>253</b>, then the IPNT call is switched to an alternative media such as PSTN or ISDN in step <b>260</b>. If the current transaction is PSTN/ISDN instead of IPNT, then a decision to stay with PSTN/ISDN is made at step <b>260</b>. If however, the time elapse between sending a timing signal at <b>251</b> and receiving the time signal at step <b>252</b> is less than the maximum latency allowed, then a decision to stay with the IPNT call is implemented in step <b>261</b>. If the current transaction is PSTN/ISDN instead of an IPNT call, then a decision to change to IPNT is implemented in step <b>261</b>.</p>
<p id="p-0044" num="0043">In most cases a the crossover of calls from PSTN/ISDN to IPNT and back again is seamless and transparent. This is accomplished by virtue of the single user interface formed by connecting a telephone such as customer's telephone <b>201</b> to a PC such as customer's PC <b>202</b> with modular cable <b>173</b>, as in <figref idref="DRAWINGS">FIG. 1</figref> and as described above, or by an equivalent technique. In another embodiment, a notification may pop up on a user's screen alerting him or her of a pending crossover and ask for permission to switch the call. In yet another embodiment, manual execution of call switching may be available to a user, and so on.</p>
<p id="p-0045" num="0044">The process of matching appropriate PSTN/ISDN numbers to IPNT addresses can be accomplished automatically via accessing a database containing a directory of participating companies hosting call centers and clients. In another embodiment, updated IPNT addresses and telephone numbers could be available for users in the form of a download from the Internet.</p>
<p id="p-0046" num="0045">Responsibility for telephone charges may be assigned to a company hosting a call center that is contacted by a customer. For example, in the event of a change from IPNT (no toll to customer) to a PSTN/ISDN (possible toll) call, a 1-800 number could be provided so that a crossover from IPNT to PSTN/ISDN or alternate media is free to a client. In another embodiment, a charge could be applied to a PSTN/ISDN call (dependent on particular carrier) and a client would be notified of the charge via pop-up menu. In this case a client may have an ability to refuse a call or utilize a least expensive routing application to choose a less expensive carrier and accept the call automatically.</p>
<p id="p-0047" num="0046">It will be apparent to one with skill in the art that the method and apparatus of the present invention may be utilized on a WAN of a form other than the Internet without departing from the spirit and scope of the present invention, such as a large corporate WAN. It will also be apparent to one with skill in the art that the method and apparatus of the present invention may be practiced on a smaller scale than is illustrated in the call center embodiment of <figref idref="DRAWINGS">FIG. 1</figref>. For example, any number of individuals having an Internet connected PC, a telephone, and an apparatus capable of providing integration of the telephone receiver, PC sound card, and PC modem can use the software of the present invention for the purpose of switching calls from IPNT to PSTN/ISDN and back.</p>
<p id="p-0048" num="0047">There are many possible embodiments through which the method and apparatus of the present invention may be practiced without departing from the spirit and scope of the present invention, many of which have already been described. For example, it will be apparent to those with skill in the art that a single user interface as described in embodiments above is not absolutely necessary for practicing the present invention. As long as the parties to a call each have a PC connected to a WAN and a telephone connected to an intelligent telephony network, such as PSTN/ISDN, the invention may be practiced in some form by means of software at one or both PC stations used by the parties to a call. As another example, it will be apparent to those with skill in the art that the features of the invention apply to video calls as well as to IPNT calls, as such calls are digital in nature, and have minimum bandwidth requirements just as do IPNT calls. The spirit and scope of the present invention is limited only by the claims that follow.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for establishing communication between a caller and an agent at a station offering a plurality of media type, including at least public switch network telephony (PSTN) calls, digital network telephony (DNT), and emails, comprising steps of:
<claim-text>(a) coupling the agent station to a digital data network and to a PSTN network allowing DNT calls and other media protocols to be employed;</claim-text>
<claim-text>(b) monitoring bandwidth on an existing DNT call;</claim-text>
<claim-text>(c) comparing available bandwidth to a prestored threshold value;</claim-text>
<claim-text>(d) in the event that available bandwidth is less than the prestored threshold value, informing at least one of the participants to the call of an impending switch from DNT to another media type; and</claim-text>
<claim-text>(e) switching communication from the DNT call to the other media type.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein, in step (b) bandwidth is monitored by determining latency between two points, and in step (c) the prestored threshold value is a latency time value.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising a step (e) for continuing to monitor bandwidth for the communication after switching, and restoring the DNT call in the event that available bandwidth again is equal to or exceeds the prestored threshold value.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein, before switching the communication back to DNT, at least one of the participants to the communication is informed of the impending switch.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein, in addition to notifying at least one of the participants of an impending switch, the party notified is also offered an opportunity to ratify the impending switch, a reply to the offer being required for the switch to proceed.</claim-text>
</claim>
</claims>
</us-patent-grant>
