<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07296749-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07296749</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11040485</doc-number>
<date>20050120</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>229</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>03</class>
<subclass>B</subclass>
<main-group>3</main-group>
<subgroup>10</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>23546223</main-classification>
<further-classification>23546222</further-classification>
<further-classification>235454</further-classification>
</classification-national>
<invention-title id="d0e53">Autofocus barcode scanner and the like employing micro-fluidic lens</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5574598</doc-number>
<kind>A</kind>
<name>Koumura et al.</name>
<date>19961100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>359666</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5640001</doc-number>
<kind>A</kind>
<name>Danielson et al.</name>
<date>19970600</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>235472</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5783811</doc-number>
<kind>A</kind>
<name>Feng et al.</name>
<date>19980700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>23546242</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5864128</doc-number>
<kind>A</kind>
<name>Plesko</name>
<date>19990100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>23546235</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6316781</doc-number>
<kind>B1</kind>
<name>Nagle et al.</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>250573</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6369954</doc-number>
<kind>B1</kind>
<name>Berge et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>359666</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6894652</doc-number>
<kind>B2</kind>
<name>Rawnick et al.</name>
<date>20050500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>343753</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6976629</doc-number>
<kind>B2</kind>
<name>Carlson</name>
<date>20051200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>23546211</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>7038856</doc-number>
<kind>B2</kind>
<name>Quake et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>359661</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2001/0002033</doc-number>
<kind>A1</kind>
<name>Winarski et al.</name>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>235383</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>7-105305</doc-number>
<date>19950400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00012">
<othercit>Berge, B., et al., “Variable Focal Lens Controlled by an External Voltage: An Application of Electrowetting,” <i>The European Physical Journal E</i>, 3:159-163, 2000.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00013">
<othercit>Chern, N., et al., “Practical Issues in Pixel-Based Autofocusing for Machine Vision,” in <i>Proceedings of the 2001 IEEE International Conference on Robotics and Automation</i>, Seoul, Korea, May 21-26, 2001, pp. 2791-2796.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00014">
<othercit>Love, G., “Adaptive Optical Components Using Liquid Crystal Devices,” <i>Journal of the Communications Research Laboratory</i>, 46(3):427-430, Nov. 1999.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00015">
<othercit>Keren, D., et al., “Restoring Subsampled Color Images,” <i>Machine Vision and Applications</i>, 11:197-202, 1999.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00016">
<othercit>Marino, B., et al., “Improving the Performance of Single Chip Image Capture Devices,” <i>Journal of Electronic Imaging</i>, 12(2):209-218, Apr. 2003.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00017">
<othercit>Ramanath, R., et al., “Demosaicking Methods for Bayer Color Arrays,” <i>Journal of Electronic Imaging</i>, 11(3):306-315, Jul. 2002.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00018">
<othercit>Schechner, Y., et al., “The Optimal Axial Interval in Estimating Depth From Defocus,” <i>Proceedings of the International Conference on Computer Vision</i>, Kerkyra, 1999, pp. 834-838.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00019">
<othercit>Subbarao, M., et al., “The Optimal Focus Measure for Passive Autofocusing and Depth-From-Focus,” SPIE, vol. 2598, pp. 89-99.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00020">
<othercit>Subbarao, M., et al., “Focusing Techniques,” in <i>Proceedings of the OE/Technology SPIE Conference</i>, Boston, MA, Nov. 1992.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00021">
<othercit>Vdovin, G., “Fast Focusing of Imaging Optics Using Micromachined Adaptive Mirrors,” Apr. 1997, URL=http://guernsey.et.tudelft.nl/focus/, download date Jun. 21, 2005.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00022">
<othercit>Wei, T-C, “Three Dimensional Machine Vision Using Image Defocus,” dissertation, State University Of New York, 1994.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>43</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>23546223</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>23546222</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>235455</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>359228</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>359358</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>359665</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>14</number-of-drawing-sheets>
<number-of-figures>15</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60538868</doc-number>
<kind>00</kind>
<date>20040123</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050218231</doc-number>
<kind>A1</kind>
<date>20051006</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Massieu</last-name>
<first-name>Jean-Louis</first-name>
<address>
<city>Montauban</city>
<country>FR</country>
</address>
</addressbook>
<nationality>
<country>FR</country>
</nationality>
<residence>
<country>FR</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Seed IP Law Group PLLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Intermec IP Corp.</orgname>
<role>02</role>
<address>
<city>Everett</city>
<state>WA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Kim</last-name>
<first-name>Ahshik</first-name>
<department>2876</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A machine-readable symbol reader includes a microfluidic lens assembly providing responsive, reliable auto-focus functionality. A range finder may provide distance to a planar target (e.g., barcode symbol) information for use in auto-focusing, with or without localization. Illumination system, if included, is selectively controlled based on the distance to target and auto-focusing functionality to substantially reduce power consumption. The localization may color optical sensors.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="217.00mm" wi="138.94mm" file="US07296749-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="238.59mm" wi="145.71mm" file="US07296749-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="192.62mm" wi="154.94mm" orientation="landscape" file="US07296749-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="136.23mm" wi="159.60mm" orientation="landscape" file="US07296749-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="243.08mm" wi="161.12mm" file="US07296749-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="246.97mm" wi="175.94mm" orientation="landscape" file="US07296749-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="247.73mm" wi="169.42mm" file="US07296749-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="244.01mm" wi="183.81mm" file="US07296749-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="191.18mm" wi="166.62mm" orientation="landscape" file="US07296749-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="224.37mm" wi="165.78mm" orientation="landscape" file="US07296749-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="241.05mm" wi="173.14mm" orientation="landscape" file="US07296749-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="227.50mm" wi="184.15mm" orientation="landscape" file="US07296749-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="255.02mm" wi="301.58mm" file="US07296749-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="205.15mm" wi="164.34mm" orientation="landscape" file="US07296749-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="251.54mm" wi="382.78mm" file="US07296749-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATION</heading>
<p id="p-0002" num="0001">This application claims the benefit under 35 U.S.C. § 119(e) of U.S. Provisional Patent Application No. 60/538,868 filed Jan. 23, 2004, where this provisional application is incorporated herein by reference in its entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">This disclosure generally relates to optoelectronic reading devices for acquiring images of machine-readable symbols, such as bar code, area code, matrix or stacked code symbols, and particularly to providing autofocus capability in such devices.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">Optoelectronic readers for reading bar codes and other machine-readable symbols fall into two general groups: 1) moving beam devices commonly referred to as scanners (e.g., laser scanners), and 2) fixed beam devices commonly referred to as imagers (e.g., CCD imagers). Each group has its own relative advantages.</p>
<p id="p-0007" num="0006">Moving beam devices typically move or scan a light across a target. For example, a scanner may employ a laser diode and a mechanism for moving a laser beam across the target. While it may be possible to move the light source itself, scanners typically employ one or more rotating or oscillating mirrors which reflect the laser beam, sweeping back and forth across a target, thereby sequentially illuminating portions of the target along a scan line. Scanners also typically include an electro-optical sensor, such as one or more photodiodes, that detects the laser light reflected from the target and produces a corresponding analog signal. The scanner may employ a standard lens or retro-collector to focus the reflected light on the electro-optical sensor. Typically, the scanner, or an associated device, converts the analog signal to a digital signal before decoding the digital signal according to standard decoding schemes.</p>
<p id="p-0008" num="0007">While fixed beam devices may rely on ambient light, most imagers employ an illumination system. The illumination system typically includes a number of high-intensity light-emitting diodes (LEDs) arranged to simultaneously flood the entire target with light. Imagers strive for uniform illumination over the entire target. Imagers also include an electro-optical sensor (e.g., one- or two-dimensional CCD arrays), and may include a lens system to focus reflected light onto the sensor. A CCD array may be electronically sampled or scanned, to produce a digital signal suitable for decoding. Imagers eliminate moving parts, and allow high reading speeds at relatively low cost.</p>
<p id="p-0009" num="0008">Many machine-readable symbol readers employ a fixed focus lens. A typical design distributes approximately one thousand pixels of a sensor over a 100 mm field-of-view at ˜150 mm, achieving a maximum barcode resolution of 0.1 mm per bars (Nyquist limit). Yet in many applications, the reader must provide a relatively large tolerance with respect to the distance between the target and the lens. To increase tolerance, the ratio of the image distance to the aperture lens diameter for finite-conjugate situation or the ratio of the focal length to the aperture lens diameter for an object at infinity (“f-number”) is increased as much as possible. The increase is limited by the minimum illumination required by the sensor, and ultimately the pupil diffraction blurring.</p>
<p id="p-0010" num="0009">To compensate for the consequent reduction in reflected light (i.e., in inverse proportion to the square of the f-number), barcode readers typically include a larger number of, and/or higher intensity, light sources than would otherwise be required. For example, some barcode readers employ red LEDs to achieve a higher intensity output per watt. Most readers with red illumination also employ a ‘black and white’ sensor without a mosaic filter on top of the photosensitive matrix of pixels, since green and blue pixels are blind to red illumination. With a Bayer filter (<figref idref="DRAWINGS">FIG. 4</figref>), the cut-off frequency for red radiation is two times lower than for a ‘white and black’ sensor, and the modulation transfer function is higher at the aliasing frequency (See Modulation Transfer Function in Optical and Electro-Optical Systems, D. Boreman, SPIE press).</p>
<p id="p-0011" num="0010">Thus, while a high f-number allows large depth-of-field (i.e., with a lens focused at hyperfocal distance), as a practical matter the range of illumination restricts operation to short distances (e.g., below 1 meter) to maintain a sufficient signal-to-noise ratio. Additionally, while fixed focus barcode readers are cost effective, they are highly specialized devices, typically having a short range and limited to monochromatic uses, and thus incompatible with many other imaging applications.</p>
<p id="p-0012" num="0011">While some machine-readable symbol readers provide an auto-focus functionality, such devices typically rely on changing the internal spacing of one or more of the elements of a lens system along the optical axis to achieve variation of the focal length. Moving lens systems disadvantageously require relatively large and precise mechanical lenses, tracks, linkages and drives. Moving lens systems are also rather slow in responding, making such systems impractical for most automatic “on-fly” barcode reading.</p>
<p id="p-0013" num="0012">Other attempts have been made at providing auto-focus capability in barcode readers. For example, a designed proposed by U.S. Pat. No. 5,574,598 (Nippondenso) employs an elastic change of the curvature of a transparent fluid-filled lens. A design proposed by Vdovin, et. al. “Micromachined mirror with a variable focal distance in Free-Space Microoptical Systems”, Digest of EOS Topical Meeting, pp. 28-29, Apr. 1-3 1996 employs electrostatic deformation of the curvature of a mirror. A design proposed in U.S. Pat. No. 6,464,363 (Nishioka et. al.) employs an electrostatic mirror. Finally, a design proposed in U.S. Pat. No. 6,347,742 (Winarski et. al.) employs a variable focal length liquid crystal lens. Such compact adaptive lenses rely on the rotation of the liquid crystal under an electric field that produces a change of refraction index. Liquid crystals have slow response times and exhibit polarization dependence. Additionally, the thickness of the crystal film reduces the optical transmission, limiting the auto-focus range. The transmission is further reduced if unpolarized light is or when two orthogonally aligned liquid crystal lenses are used. Principles of liquid crystal lenses are further described in “Adaptive Optical Components Using Liquid Crystal Devices”, G. D. Love, Journal of the Communications Research Laboratory, Vol. 46 No. 3, November 1999, pp. 427-430.</p>
<p id="p-0014" num="0013">There is a need for a reliable, responsive auto-focus system in machine-readable symbol readers such as barcode readers, that eliminates mechanical elements.</p>
<heading id="h-0003" level="1">BRIEF SUMMARY OF THE INVENTION</heading>
<p id="p-0015" num="0014">In one aspect, a machine-readable symbol reader to read machine-readable symbols carried by targets, the machine-readable symbol reader comprises a microfluidic lens assembly having at least one fluid and a number of electrodes selectively operable to modify a shape of the at least one fluid; an optical sensor positioned along an optical axis of the microfluidic lens assembly relatively behind the microfluidic lens assembly with respect to the target; and at least one controller, the controller coupled to cause a selected potential to be applied to at least some of the electrodes of the microfluidic lens assembly to focus images of the target on the optical sensor. The machine-readable symbol reader may also comprise a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, wherein the at least one controller is coupled to receive range finding information from the range finder system and configured adjust a focal length of the microfluidic lens assembly based on the range finding information. The machine-readable symbol reader may further comprise an illumination system comprising a number of illumination sources, where the controller is configured to determine a desired intensity of illumination and coupled to selectively activated a number of the illumination sources to produce desired intensity of illumination. The machine-readable symbol reader may even further comprises a Bayer color filter assembly positioned between the target and the optical sensor.</p>
<p id="p-0016" num="0015">In another aspect, a method of operating a machine-readable symbol reader to read machine-readable symbols carried by targets comprises determining a distance between a microfluidic lens assembly of the machine readable symbol reader and the target; adjusting a focal length of the microfluidic lens assembly based on the determined distance to the target; capturing an image of a machine-readable symbol carried by the target; and decoding the machine-readable symbol carried by the target. The method may further comprise adjusting an output intensity of an illumination system of the machine-readable symbol reader based on at least one of the determined distance between the microfluidic lens assembly and the target and the focal length of the microfluidic lens assembly.</p>
<p id="p-0017" num="0016">In a further aspect, a method of operating a machine-readable symbol reader to read color encoded machine-readable symbols carried by targets comprises: acquiring an image through a three color filter at a single optical sensor; determining a plurality of sub-windows of the image on which to operate; for each of the colors, determining a subtraction-modulus-difference value for each of a number pixels in horizontally adjacent ones of the sub-windows and for each of a number pixels in vertically adjacent ones of the sub-windows; accumulating the subtraction-modulus-difference value for each of at least three different colors; aggregating adjacent sub-windows having accumulated subtraction-modulus-difference values below a defined threshold into a meta window of the image on which to operate; determining a focus value corresponding to a focus condition at an initial focal length of the microfluidic lens assembly; adjusting the microfluidic lens assembly to a second focal length; determining a focus value corresponding to a focus condition at the second focal length of the microfluidic lens assembly; determining a direction of change in the determined focus values; repeatedly, adjusting the microfluidic lens assembly at different incremental focal lengths in a space of the image along the same direction in the space, and determining a focus value corresponding to a focus condition at the different incremental focal lengths until the focus value drops by more than a defined threshold; and interpolating a best focus length from at least three of the focal lengths.</p>
<p id="p-0018" num="0017">Eliminating mechanical elements from the auto-focus assembly, may provide a responsive (i.e., quick) and/or reliable auto-focus system that provides a wide spatial resolution range (“focus adaptiveness”) for a machine-readable symbol reader. Focus adaptiveness, eliminates depth-of-field as a critical issue, thus, allowing the f-number to be significantly reduced. The best resolution of the lens is not achieved for a fixed best focus distance, but rather can be tuned between short and far field (cut-off frequency f=1/(λ*f-number)). The system may reduce or eliminate the need for illumination, reducing the overall cost of the reader, as well as reducing operating cost, and/or extending operating time between charging for battery operated readers.</p>
<p id="p-0019" num="0018">Because the sensor illumination increases in direct proportionality to the square of the f-number, the illumination system may be eliminated or at least reduced. If illumination is still required, for example, for dark environments, the illumination power can be closed-loop controlled along with the electronic gain and/or the integration time of the sensor, as part of an automatic gain strategy. In most cases, ambient illumination provides enough illumination to significantly enhance autonomy for mobile applications.</p>
<p id="p-0020" num="0019">The auto-focus system may also be compatible with color image sensors, allowing polychromatic operation. Ambient light and most barcode contrasts are polychromatic, so color sensors can be used without loss of spatial resolution. More generally, auto-focus permits barcode applications to coexist with other color image applications having variable object distances.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS</heading>
<p id="p-0021" num="0020">The patent or application file contains at least one drawing executed in color. Copies of the patent or patent application publication with color drawings will be provided by the Office upon request and payment of the necessary fee.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 1</figref> is a functional block diagram of a machine-readable symbol reader employing a micro-fluidic lens assembly positioned to read a machine-readable symbol carried by a target, according to one illustrated embodiment.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 2</figref> is cross-sectional view of the micro-fluidic lens assembly of the machine-readable symbol reader of <figref idref="DRAWINGS">FIG. 1</figref>, according to one illustrated embodiment.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 3</figref> is top plan view of a Bayer filter for use with a color imaging machine-readable symbol reader, according to one illustrated embodiment.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 4</figref> is a flow diagram of a method of operating the machine-readable symbol reader of <figref idref="DRAWINGS">FIG. 1</figref>, according to one illustrated embodiment.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 5</figref> is a schematic diagram of an image of a machine-readable symbol, the image being divided into sub-windows and a meta-window, illustrated by phantom lines.</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIGS. 6A and 6B</figref> are a flow diagram of a method of range finding employing localization to focus on a target symbol in an image such as that of <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 7</figref> is a schematic illustration of a search space and a number of incremental focal points for the microfluidic lens assembly useful in explaining the method of <figref idref="DRAWINGS">FIGS. 6A and 6B</figref>.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 8</figref> is another schematic illustration of a search space and a number of equally distanced incremental focal points for the microfluidic lens assembly similar to <figref idref="DRAWINGS">FIG. 7</figref> and further illustrating a best focus.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 9</figref> is another schematic illustration of a search space and a number of non-linearly distanced incremental focal points for the microfluidic lens assembly.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 10</figref> is a top plan view of a Bayer filter element according to another illustrated embodiment.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 11</figref> is schematic illustration of an number of sub-windows mapped to a Bayer color filter array.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 12</figref> is a schematic diagram of an image of a machine-readable symbol, the image being divided into sub-windows and a meta-window, illustrated by phantom lines, similar to that of <figref idref="DRAWINGS">FIG. 5</figref>.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 13</figref> is schematic illustration of quadratic interpolation according to one illustrated embodiment.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 14</figref> schematic diagram is illustrating a decomposition of a gray level image into three RGB images.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0036" num="0035">In the following description, certain specific details are set forth in order to provide a thorough understanding of various embodiments of the invention. However, one skilled in the art will understand that the invention may be practiced without these details. In other instances, well-known structures associated with optoelectronic reading devices including light sources, lens, optical sensors, processors, memories, and communications devices have not been shown or described in detail to avoid unnecessarily obscuring descriptions of the embodiments of the invention.</p>
<p id="p-0037" num="0036">Unless the context requires otherwise, throughout the specification and claims which follow, the word “comprise” and variations thereof, such as, “comprises” and “comprising” are to be construed in an open, inclusive sense, that is as “including but not limited to.” The headings provided herein are for convenience only and do not interpret the scope or meaning of the claimed invention.</p>
<p id="p-0038" num="0037">Reference throughout this specification to “one embodiment” or “an embodiment” means that a particular feature, structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus, the appearances of the phrases “in one embodiment” or “in an embodiment” in various places throughout this specification are not necessarily all referring to the same embodiment. Further more, the particular features, structures, or characteristics may be combined in any suitable manner in one or more embodiments.</p>
<p id="p-0039" num="0038">The headings provided herein are for convenience only and do not interpret the scope or meaning of the claimed invention.</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 1</figref> shows a machine-readable symbol reader <b>10</b> including a housing <b>12</b> and various electronics and optoelectronics useful in automatic data collection (ADC), according to one illustrated embodiment. The machine-readable symbol reader <b>10</b> includes an optical sensor <b>14</b> and a microfluidic (e.g., electrowetted, electrophoresis) lens assembly <b>16</b> positioned with respect to an aperture <b>18</b> in the housing <b>12</b> to form images of a target <b>20</b> (i.e., machine-readable symbol) on the optical sensor <b>14</b>. The target <b>20</b> may be a machine readable symbol formed of one or more symbol characters selected from any of a variety of symbologies, for example, Code 39, Code 93i, UPC/EAN, etc.</p>
<p id="p-0041" num="0040">The machine-readable symbol reader <b>10</b> also includes a control system <b>22</b> including a microprocessor <b>24</b>, random access memory (RAM) <b>26</b> and read-only memory (ROM) <b>28</b> coupled by a bus <b>30</b>. The microprocessor <b>24</b> executes instructions stored in RAM <b>26</b> and/or ROM <b>28</b> to control the microfluidic lens assembly <b>16</b>, process information from the optical sensor <b>14</b> and carry out various other functions. The microprocessor <b>24</b> may take any of a variety of commercially available microprocessors such as Pentium II, III or IV, or PxA250 all available from Intel, or may take the form a dedicated processor such as an application specific integrated circuit (ASIC). The control system <b>22</b> may also include one or more additional processors, for example, a digital signal processor (DSP) <b>32</b> that may be dedicated to performing certain functions, for example, performing analog-to-digital conversion and/or otherwise decoding information collected by the optical sensor <b>14</b>. The control system <b>22</b> may additionally include one or more dedicated drivers <b>34</b> for driving the microfluidic lens assembly <b>16</b>, as discussed below.</p>
<p id="p-0042" num="0041">The machine-readable symbol reader <b>10</b> may include input and/or output systems such a communications port <b>36</b> for providing wired communications (i.e., hardwired) or wireless communications (e.g., infrared). The machine-readable symbol reader <b>10</b> may additionally, or alternatively include a radio <b>38</b> (i.e., transceiver, receiver, and/or transmitter) and associated antenna(s) <b>40</b> for providing wireless communications such as radio frequency (RF) communications.</p>
<p id="p-0043" num="0042">The machine-readable symbol reader <b>10</b> may further include an illumination system <b>42</b> including one or more illumination sources <b>42</b><i>a</i>-<b>42</b><i>c </i>such as light emitting diodes (LEDs) for providing flood illumination to the target <b>20</b>. The microprocessor <b>24</b> may control the illumination system <b>42</b>, for example, via the bus <b>30</b>. The illumination system <b>42</b>, as well as other components of the machine-readable symbol reader <b>10</b> may receive power via the power source <b>44</b> which may, for example, take the form of one or more batteries, battery pack, or fuel cell. The power source <b>44</b> may be coupled to the various components of the machine-readable symbol reader <b>10</b> via the bus <b>30</b> or via a dedicated power bus (not shown).</p>
<p id="p-0044" num="0043">In some embodiments, the machine-readable symbol reader <b>10</b> may include an auto-focus system comprising the microfluidic lens assembly <b>16</b>, driver <b>34</b>, and optionally the microprocessor <b>24</b> or optionally DSP <b>32</b>. The auto-focus system may improve the ergonomics of “aim and read” hand-held devices by extending the depth-of-field and spatial resolution. The auto-focus system may rely on active and/or passive range finding, as discussed in more detail below. In particular, the machine-readable symbol reader <b>10</b> may rely solely on active range finding, or solely on passive range finding, or may rely on a combination of active and passive range finding. For example, the machine-readable symbol reader <b>10</b> may use active range finding to coarsely adjust focus such as for initially acquiring a target <b>20</b>, and may use passive range finding to finely adjust focus once the target <b>20</b> is in with the depth-of-field of the microfluidic lens assembly <b>16</b>. Thus, the combination of active and passive range finding permits the focusing on a few contrasted or low textured targets <b>20</b>.</p>
<p id="p-0045" num="0044">The machine-readable symbol reader <b>10</b> may, for example, implement active range finding via an active range finding system <b>46</b>, which may comprise an output range finding device <b>46</b><i>a </i>and an input range finding device <b>46</b><i>b. </i></p>
<p id="p-0046" num="0045">The active range finding system <b>46</b> may employ a form of electromagnetic radiation to assess the distance from the machine-readable symbol reader <b>10</b> to the target <b>20</b>. For example, the output range finding device <b>46</b><i>a </i>may take the form of a light source, such as a laser diode, LED or other directional light source, while the input range finding device <b>46</b><i>b </i>may take the form an optical sensor such as a photodiode, Vidicon or other photosensitive device for detecting light reflected from the target <b>20</b>. The frequency of the emitted light may be outside that typically perceptible by humans, for example, the frequency may lie within the infrared range of frequencies. Other examples of range finding devices <b>46</b><i>a</i>, <b>46</b><i>b </i>that employ electromagnetic radiation may include those that emit and receive frequencies above or below those frequencies typically denominated as “light” such as radar or microwave radiation.</p>
<p id="p-0047" num="0046">Alternatively, the active range finding system <b>46</b> may employ a form of acoustical energy (e.g., sound, sonar) to assess the distance from the machine-readable symbol reader <b>10</b> to the target <b>20</b>. For example, the output range finding device <b>46</b><i>a </i>can take the form of a speaker or other transducer for emitting pressure waves, while input range finding device <b>46</b><i>b </i>may take the form of a microphone for detecting such pressure waves reflected from the target <b>20</b>. The pressure waves may be outside that typically perceptible by humans (i.e., human hearing range), for example, the pressure waves may lie in the ultra-frequency range.</p>
<p id="p-0048" num="0047">The microprocessor <b>24</b>, DSP <b>32</b> or other processor may process signals from the range finding input device <b>46</b><i>b </i>to determine the distance between the reader <b>10</b> and the target <b>20</b>, allowing the microprocessor <b>24</b>, DSP <b>32</b>, or other processor to adjust the microfluidic lens assembly <b>16</b> accordingly. The microprocessor <b>24</b> or other processor may employ any of variety of approaches in determining distance. For example, the microprocessor <b>24</b> or other processor may measure the time between emitting the electromagnetic radiation or pressure waves and receiving electromagnetic radiation or pressure waves reflected from the target <b>20</b>. Additionally or alternatively, the microprocessor <b>24</b> or other processor may employ a frequency or phase shift between the emitted electromagnetic radiation or pressure waves and the returned electromagnetic radiation or pressure waves, such as a Doppler shift. Other methods will be apparent to those of skill in the art from the above teachings.</p>
<p id="p-0049" num="0048">Alternatively, or additionally, the machine-readable symbol reader <b>10</b> may implement passive range finding, using image analysis to measure a degree of sharpness, for example, via the DSP <b>32</b> and/or microprocessor <b>24</b>. Passive range finding is particularly economical where, as in the present case, the machine-readable symbol reader <b>10</b> already includes means for image analysis such as the DSP <b>32</b> and/or suitably programmed microprocessor <b>24</b>.</p>
<p id="p-0050" num="0049">The machine-readable symbol reader <b>10</b> may implement the passive range finding by incrementally changing the focal length until the image gradually comes into focus. Alternatively, or additionally, the DSP <b>32</b> or microprocessor <b>24</b> may execute a depth-from-defocus algorithm to directly determine an estimate of the defocus and to determine the change in focal length to correct the defocus. A variety of focus metrics techniques from the field of machine vision may be suitable. Focus metrics algorithms are typically executed in the spatial domain, which may be faster than via Fast Fourier transforms. Some typical focus metrics algorithms measure either the energy of the image (e.g., gray sale variance), the high pass frequency content (e.g., image gradient, image Laplacian), the histogram entropy or local variation, and/or sum-modulus-difference. While the above focus metrics parameters each present a maximum value at best focus, the techniques differ with respect to performance, monotonicity, robustness to noise and computational cost. A discussion of some suitable focus metrics techniques and/or algorithms may be found in Chem et al., <i>Practical Issues In Pixel</i>-<i>Based Autofocusing for Machine Vision</i>, Proceedings of the 2001 IEEE International Conference on Robotics and Automation, Seoul, Korea, May 21-26, pp 2791-2796.</p>
<p id="p-0051" num="0050">As described in detail herein, a fast, real time, implementation of an auto-focus technique including symbol localization (i.e., detection of target <b>20</b> or symbol in image) may be achieved via a sum-modulus-difference or Variance technique, that is easily implemented with specific hardware, that does not use multiplication, and that efficiently detects one- and/or two-dimensional symbols in an image.</p>
<p id="p-0052" num="0051">The use of the auto-focus system may provide a number of distinct and unexpected advantages when, for example, reading one- and two-dimensional machine-readable symbols such as barcodes, and particularly when capturing color images which requires white light (e.g., variety of wavelengths). In typical applications, the available levels of ambient white light suggest, and may even require, the use of a relatively low f-number (f#) to achieve a minimum acceptable signal-to-noise (S/N) ratio (e.g., use of f2.5 rather than f8 for current barcode readers). However, reducing the f# typically produces a linear reduction in depth-of-field, which is disadvantageous in most real-world applications.</p>
<p id="p-0053" num="0052">One possible solution to the reduced depth-of-field is the use of auto-focusing. However, until now the inability to provide a responsive (i.e., fast or quick) auto-focus capability has hindered the development of successful user-friendly auto-focus hand-held machine-readable symbol readers.</p>
<p id="p-0054" num="0053">The auto-focus system described herein, whether active, passive or a combination of active and passive, may alleviate the problem presented by reduced depth-of-field, particularly in light of the responsiveness that may be obtained using the microfluidic lens assembly <b>16</b> described herein. For example, where the optical sensor <b>14</b> (e.g., one- or two-dimensional CMOS/CDD matrix sensor) has a relatively small format (e.g., approximately ⅔ inches or less), and a correspondingly short focal length, it becomes possible to obtain a relatively fast optic (e.g., approximately f2.5 or less) with a limited pupil diameter (e.g., approximately 0.5 mm or less). In such a situation, the microfluidic lens assembly <b>16</b> may quickly adjust from near to far focus, for example, on the order of approximately 20 ms. Thus, this approach provides a substantial benefit over conventional mechanical auto-focus systems which are typically too unresponsive (i.e., slow) for such use.</p>
<p id="p-0055" num="0054">Additionally, or alternatively, the auto-focus system may allow use of alternative illumination sources <b>42</b><i>a</i>-<b>42</b><i>c</i>, which may reduce the parts count and/or weight, increase longevity and/or reliability, and/or reduce manufacturing and/or maintenance costs. For example, phosphorus covered LEDs may be capable of producing a white spectrum of sufficient intensity to serve as the illumination source <b>42</b><i>a</i>-<b>42</b><i>c </i>when the machine-readable symbol reader <b>10</b> employs the auto-focus system and microfluidic lens assembly <b>16</b>.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 2</figref> shows the microfluidic lens assembly <b>16</b>, according to one illustrated embodiment. The microfluidic lens assembly <b>16</b> comprises a first plate <b>50</b> and a second plate <b>52</b> spaced from the first plate <b>50</b> to form a cavity <b>54</b> therebetween. The cavity <b>54</b> may be further delimited by side walls <b>53</b>. The cavity <b>54</b> receives a first fluid <b>56</b> and a second fluid <b>58</b> where the first and second fluids <b>56</b>, <b>58</b> are immiscible with respect to one another, have different optical indexes, and preferably are of substantially same density.</p>
<p id="p-0057" num="0056">The first plate <b>50</b> may be formed from a substrate <b>60</b>, a number of electrodes <b>62</b><i>a</i>, <b>62</b><i>b </i>carried by the substrate <b>60</b>, a dielectric layer <b>64</b> overlying the electrodes <b>62</b><i>a</i>, <b>62</b><i>b</i>, and a hydrophobic or electrowetting layer <b>66</b> overlying the dielectric layer <b>64</b>. Preferably, the entire first plate <b>50</b> is transparent although in some embodiments only a portion of the first plate <b>50</b> is transparent. Thus, suitable materials for the substrate <b>60</b> may include glass; while suitable materials for the electrodes <b>62</b> may include transparent indium tin oxide (ITO). The hydrophobic layer <b>66</b> may employ a fluoropolymer such as Teflon commercially available from E.I. du Pont de Nemours and Company. Employing multiple electrodes <b>62</b> may assist in retaining the first fluid <b>56</b> at rest, centered with respect to a desired location on the hydrophobic layer <b>66</b> and with respect to the optical sensor <b>14</b>. In some embodiments, the first plate <b>50</b> may include one or more additional layers, for example, sodium barrier films. Some embodiments may eliminate the discrete hydrophobic layer <b>66</b> where the material selected for the dielectric layer <b>64</b> has sufficient electrowetting characteristics to serve as both a hydrophobic layer and a dielectric layer.</p>
<p id="p-0058" num="0057">The second plate may be formed from a substrate <b>68</b> and an electrode <b>70</b>. Preferably, the entire second plate <b>52</b> is transparent, although in some embodiments only a portion of the second plate <b>52</b> is transparent. In some embodiments, the second plate <b>52</b> may be formed from more than two layers, while in other embodiments the second plate <b>52</b> may be formed from a single layer. A suitable material for substrate <b>68</b> of the second plate <b>52</b> may be glass while a suitable material for the electrode <b>70</b> may be ITO.</p>
<p id="p-0059" num="0058">As illustrated in <figref idref="DRAWINGS">FIG. 2</figref>, a voltage V may be applied between the electrodes <b>62</b><i>a</i>, <b>62</b><i>b </i>on the first plate <b>50</b> and the electrode <b>70</b> on the second plate <b>52</b>. This may permit a first potential to be applied to the first fluid <b>56</b> and a second potential to the second fluid <b>58</b>. The microprocessor <b>24</b> or other processor may control the application of the potentials, for example, via the driver <b>34</b>. The difference in potentials or voltage V between the first and second fluids <b>56</b>, <b>58</b> determines the shape of interface between the first and the second fluids <b>56</b>, <b>58</b> under the general principals of electrowetting or electrophoresis. Thus, the microprocessor <b>24</b> may controlling the potentials or voltage V to change shape of the first fluid <b>56</b>, for example, from the shape illustrated by the solid line <b>56</b><i>a </i>in <figref idref="DRAWINGS">FIG. 2</figref> to the shape illustrated by the broken line <b>56</b><i>b </i>in <figref idref="DRAWINGS">FIG. 2</figref>. The first fluid serves as a lens, the shape being adjustable to focus an image of the target <b>20</b> onto the optical sensor <b>16</b> (<figref idref="DRAWINGS">FIG. 1</figref>). The image of the target <b>20</b> is projected along an optical axis O. While illustrated as a straight line, the optical axis may have a number of bends, turns or other deviations where the machine-readable symbol reader <b>10</b> employs additional optical components such as mirrors, reflectors, prisms, etc. Some of the general principals of electrowetting as applied to lenses are described in “Electrocapillarite et mouillage de films isolants par l'eau” Berge, C. R. Acad. Sci. Paris, serial II, pp. 157-163.</p>
<p id="p-0060" num="0059">Image sensors are typically grayscale devices that produce an output signal responsive to an intensity of light, from full black to white. In order to detect color, a layer of color filters is bonded to the silicon image sensors using a photolithography process that applies color dyes. Typically, each pixel of an RGB (Red, Green, Blue) imager includes three image sensors with corresponding color filters. Typically, the RGB imager also includes an optical prism and as optics capable of directing incoming light to the three different color sensors. Each image sensor produces red, green and blue digital samples.</p>
<p id="p-0061" num="0060">A new approach simplifies the imager's optics such that only one image sensor is needed instead of three. This approach uses color filter arrays (CFAs) in order to capture RGB images. CFAs assign a separate primary color to each discrete sensor element of the optical sensor <b>14</b> (<figref idref="DRAWINGS">FIG. 1</figref>) by locating a filter of a particular color over the corresponding element. Numerous types of CFAs have been developed for different applications, but the most popular CFA is the Bayer pattern.</p>
<p id="p-0062" num="0061"><figref idref="DRAWINGS">FIG. 3</figref> illustrates an exemplary Bayer color filter array <b>72</b>, for use with the machine-readable symbol reader <b>10</b>, according to one illustrated embodiment. The Bayer color filter array <b>72</b> employs a checkerboard pattern, with alternating rows of green filters <b>72</b><i>a</i>, blue filters <b>72</b><i>b </i>and red filters <b>72</b><i>c</i>, as illustrated in <figref idref="DRAWINGS">FIG. 3</figref>. The pattern of the Bayer color filter array <b>72</b> has twice as many green filters <b>72</b><i>a</i>, as blue filters <b>72</b><i>b </i>or red filters <b>72</b><i>c</i>, taking advantage of the human physiological tendency to see green luminance as the strongest influence in defining image quality. In use, the Bayer filter array <b>72</b> may be positioned between the microfluidic lens assembly <b>16</b> and the optical sensor <b>14</b>.</p>
<p id="p-0063" num="0062">Thus, as discussed in detail above, a machine-readable symbol reader <b>10</b> employs a microfluidic lens assembly <b>16</b>, providing a responsiveness that enables auto focus during ‘on fly’ machine-readable symbol (e.g., barcode) reading. The auto focus functionality permits the machine-readable symbol reader <b>10</b> to eliminate or reduce the amount of illumination required; thereby reducing parts counts, complexity, and operating costs, while increasing the operating time between recharging or replacement of the power source. The elimination of moving parts also avoids wear and tear, which may significantly increase the operating lifetime of the machine-readable symbol reader <b>10</b>. The microfluidic lens assembly <b>16</b> also allows the miniaturization of the machine-readable symbol reader, and is particularly suitable for mass manufacturing. Also, the low f-numbers achievable with the microfluidic lens assembly <b>16</b> permits the use of a CFA such as a Bayer color filter array, allowing detection of color machine-readable symbols. Further, the above described approach may be compatible with other imaging applications, where object distances vary from short to infinity (outdoor scene capture, document tracking, etc.).</p>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a method <b>100</b> of operating the machine-readable symbol reader <b>10</b> according to one illustrated embodiment, starting at <b>102</b>.</p>
<p id="p-0065" num="0064">At <b>104</b>, the microprocessor <b>24</b> or other processor actuates the active range finding system <b>46</b>, for example by causing the range finder output device <b>46</b><i>a </i>to emit electromagnetic radiation or a pressure pulse. At <b>106</b>, the microprocessor <b>24</b> or other processor receives the range finder input from the range finder input device <b>46</b><i>b</i>. At <b>108</b>, the microprocessor <b>24</b> or other processor determines the distance between the target <b>20</b> and a portion of the machine-readable symbol reader <b>10</b>, for example the microfluidic lens assembly <b>16</b>. For example, by the microprocessor may determine a duration or a frequency or phase shift between the sent and received range finder signals (e.g., electromagnetic energy or pressure pulses).</p>
<p id="p-0066" num="0065">At <b>110</b>, the microprocessor <b>24</b> or other processor adjusts the microfluidic lens assembly <b>16</b> based on the determined range. A knowledge of the range allows the microprocessor <b>24</b> or other processor to apply appropriate signals to the electrodes <b>62</b>, <b>70</b> (<figref idref="DRAWINGS">FIG. 2</figref>) to adjust the shape of the first fluid <b>56</b> in order to focus the image of the target <b>20</b> on the optical sensor <b>14</b>. For example, the microprocessor <b>24</b> may cause the driver <b>34</b> to apply a first potential to the electrodes <b>62</b> and a second potential to the electrode <b>70</b>. One of the potential may be a ground potential. The driver <b>34</b> may employ a variety of schemes for addressing the electrodes including an active matrix addressing scheme where the electrodes are associated with individual transistors (not shown).</p>
<p id="p-0067" num="0066">Optionally, at <b>112</b>, the microprocessor <b>24</b> or other processor adjusts the illumination provided to the target <b>20</b> by the illumination system <b>42</b>. For example, the microprocessor <b>24</b> or other processor may select a number of illumination devices <b>42</b><i>a</i>-<b>42</b><i>c </i>that will be activated. Adjustment of the illumination allows the microprocessor <b>24</b> to minimize the power consumption of the machine-readable symbol reader <b>10</b>, prolonging use between recharging or replenishment of the power source <b>44</b>. The adjustment of the illumination may occur before the adjustment of the lens assembly.</p>
<p id="p-0068" num="0067">At <b>114</b>, the optical sensor <b>14</b> and/or processor <b>24</b>, <b>32</b> captures image data. Optionally, at <b>116</b>, the captured image data is converted from analog to digital form, for example via an A/D converter or via the DSP <b>32</b>.</p>
<p id="p-0069" num="0068">At <b>118</b>, the microprocessor <b>24</b> or DSP <b>32</b> decodes the captured image data. Numerous methods of decoding image data are known within the automatic data collection arts. Some methods are discussed in Palmer, Roger C., The Bar Code Book, Third Edition, Helmer Publishing.</p>
<p id="p-0070" num="0069">At <b>120</b>, the microprocessor <b>24</b> may store the decoded image data, for example in the RAM <b>26</b>. Optionally, the microprocessor <b>24</b> may additionally, or alternatively, transmit the decoded image data at <b>122</b>. The microprocessor <b>24</b> may employ the communications port <b>36</b> and/or the transceiver <b>38</b> along with antenna <b>12</b> to transmit the decoded image data over any communications channel. The method <b>100</b> terminates at <b>124</b>.</p>
<p id="p-0071" num="0070">As alluded to above, the auto-focusing may be advantageously combined with symbol localization, for example, via a sum-modulus-difference (SMD) technique described with reference to <figref idref="DRAWINGS">FIGS. 5 and 6</figref>, as follows.</p>
<p id="p-0072" num="0071"><figref idref="DRAWINGS">FIG. 5</figref> shows an image <b>200</b> acquired by the machine-readable symbol reader <b>10</b>, the image <b>200</b> including a machine-readable symbol <b>202</b>. The image <b>200</b> is divided into a matrix of elementary sub-windows <b>204</b> (only four sub-windows called out in <figref idref="DRAWINGS">FIG. 5</figref>). The dimensions of each sub-window <b>204</b> are dependent on the particular application, but may be a multiple of 2 for ease of computation. For each sub-window <b>204</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> performs a Sum-Modulus-Difference operation between horizontal (X-direction) and vertical (Y-direction) neighboring pixels. For example,</p>
<p id="p-0073" num="0072">[1 0−1] for the X direction; and</p>
<p id="p-0074" num="0073">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <mo> </mo>
  <mrow>
    <mo>[</mo>
    <mtable>
      <mtr>
        <mtd>
          <mn>1</mn>
        </mtd>
      </mtr>
      <mtr>
        <mtd>
          <mn>0</mn>
        </mtd>
      </mtr>
      <mtr>
        <mtd>
          <mrow>
            <mo>-</mo>
            <mn>1</mn>
          </mrow>
        </mtd>
      </mtr>
    </mtable>
    <mo>]</mo>
  </mrow>
</mrow>
</math>
</maths>
<br/>
for the Y direction
</p>
<p id="p-0075" num="0074">Adjacent sub-windows <b>204</b> having close SMD values are aggregated into a meta window <b>206</b>. In a simplified approach, the meta window <b>206</b> is selected for further auto-focus processing according to the SMD value weighted by its distance to the center of the image <b>200</b>. However, other application criteria (e.g., type of machine-readable symbology or code, resolution, contrast) may be used to select the meta window <b>206</b> depending on the particular application. This division, selection and aggregation process may be repeated at each acquisition of an image <b>200</b>.</p>
<p id="p-0076" num="0075"><figref idref="DRAWINGS">FIGS. 6A and 6B</figref> shows a method of localization <b>300</b> that the DSP <b>32</b> and/or microprocessor <b>24</b> may execute in addition to, or as a substitute for acts <b>104</b>-<b>108</b> of the method <b>100</b> of <figref idref="DRAWINGS">FIG. 4</figref>.</p>
<p id="p-0077" num="0076">At <b>302</b>, the optical sensor <b>14</b> acquires the image <b>200</b> (<figref idref="DRAWINGS">FIG. 5</figref>). At <b>304</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> (<figref idref="DRAWINGS">FIG. 1</figref>) divides the image <b>200</b> into sub-windows <b>204</b> (<figref idref="DRAWINGS">FIG. 5</figref>). At <b>306</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> performs an SMD operation along the X-axis, and at <b>308</b> performs an SMD operation along the Y-axis. At <b>310</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> determines whether the last sub-window <b>204</b> has been processed, selecting the next sub-window <b>204</b> at <b>312</b> and returning to <b>306</b> and <b>308</b> until the SMD processing of the sub-windows <b>204</b> is complete.</p>
<p id="p-0078" num="0077">At <b>314</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> aggregates adjacent sub-windows <b>204</b> having close SMD values into the meta window <b>206</b>. Optionally, at <b>316</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> determines default focal length. The default value may be fixed, or may be derived from a history of focus through a heuristic algorithm (e.g. last successful decode or average of last number of successful decodes). Alternatively, the default focal length may be predetermined. At <b>318</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> sets the focal point of the microfluidic lens assembly <b>16</b> to the default focal length via the driver <b>34</b>.</p>
<p id="p-0079" num="0078">Optionally, at <b>320</b> the DSP <b>32</b> and/or microprocessor <b>24</b> may determine a depth of operation or search space [d<sub>min</sub>, d<sub>max</sub>] <b>208</b>, as illustrated in <figref idref="DRAWINGS">FIG. 7</figref>. At <b>322</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> determine a value representing the focus at the current focal length or position. The DSP <b>32</b> and/or microprocessor <b>24</b> determines and shifts the focal length or position of the focal point by an incremental distance <b>210</b> equal to approximately [d<sub>min</sub>, d<sub>max</sub>]/n. The incremental distance <b>210</b> may be fixed to approximately half the depth of focus, as illustrated in <figref idref="DRAWINGS">FIG. 7</figref>. The DSP <b>32</b> and/or microprocessor <b>24</b> again determine a value representing the focus, and use the sign of the change in focus to determine the sign of later operations, as discussed immediately below.</p>
<p id="p-0080" num="0079">The DSP <b>32</b> and/or microprocessor <b>24</b> apply incremental changes in focal length in a same direction based on the determined sign, until the first significant decrease in the measure of focus occurs. The DSP <b>32</b> and/or microprocessor <b>24</b> employs interpolation to determine the best focus length, for example, applying a quadratic or a Gaussian fit to three or more points apart the best focus. This interpolation technique minimizes overshooting near the focused focal length. This technique compares favorably to auto-focus algorithms described by M. Subbarao, <i>Proceeding of SPIE's International Symposium</i>, Videometrics IV, Vol. 2598, pp 89-99. In particular, the above described techniques, may minimize the incremental change of the focus due to the responsiveness (i.e., short response time) of the microfluidic lens assembly <b>16</b> and may avoid preliminary sequential and binary searches.</p>
<p id="p-0081" num="0080">Combining symbol localization and focus control as described above, enhances the speed at which one- or two-dimensional symbols may be focused, as compared to conventional systems which may focus on objects that are meaningless to the particular application. The method permits selective focusing of the microfluidic lens assembly <b>16</b> on the object most likely to be the one-or two-dimensional symbol. Additionally, the meta window XY coordinates may be used to trim the power of an optical zoom, if any (i.e., aim-and-read operations) and/or a transmission channel when using a relatively large sensor matrix. The above methods are particularly suited to fast real-time operations.</p>
<p id="p-0082" num="0081">The above approach may be employed, with modifications, to operate with color optical sensors <b>14</b>. Cost effective color optical sensors <b>14</b> typically employ a color filter array. Each pixel of the optical sensor <b>14</b> samples the intensity of just one of color, for example, one of three colors such as Red, Green, and Blue (i.e., RGB). Usually, this process of color sub-sampling in a single chip system degrades the resulting image data by introducing artifacts, such as blurry edges and/or false coloring. Various de-mosaic algorithms have been developed to address these artifacts. The de-mosaic algorithms typically fill in missing color values by more or less complicated interpolation and correlations rules between each channel (e.g., R, G, B). Some de-mosaic algorithms are discussed in Keren, <i>Restoring Sub</i>-<i>sampled Color Images</i>, Machine Vision and Applications (1999), or Marino, <i>Improving the Performance of Single Chip Image Capture Devices</i>, Journal of Electronic Imaging 12(2), 209-218 (April 2003).</p>
<p id="p-0083" num="0082">Each of the RGB pixels detects the modulation of the symbol with a different gain. An approach, set out below, avoids the cost associated with implementation of de-mosaic algorithms by using the raw data without, or before, applying a de-mosaic algorithm. For each sub-window <b>204</b>, the DSP <b>32</b> and/or microprocessor <b>24</b> determines the focus for each of the RGB channels. DSP <b>32</b> and/or microprocessor <b>24</b> determine an accumulated SMD<sub>A </sub>for the focus metrics. The DSP <b>32</b> and/or microprocessor <b>24</b> may determine the accumulated SMD<sub>A </sub>for each sub-window by adding each SMD carried out separately for each of the RGB colors (e.g., SMD<sub>A</sub>=SMD<sub>R</sub>+SMD<sub>G</sub>+SMD<sub>B</sub>). The focus measurement in each channel is monotonic and maximum at best focus for each RGB channel, as is also true for the accumulated SMD<sub>A</sub>.</p>
<p id="p-0084" num="0083">A machine-readable symbol <b>202</b> (<figref idref="DRAWINGS">FIG. 5</figref>) with a missing primary color in the resulting irradiance spectrum will not be detected by the corresponding RGB channel, and the resulting channel SMD will be zero. Inversely, if the variance of each RGB channel is above respective defined thresholds, the irradiance spectrum of the symbol must overlap the spectral sensitivity of the optical sensor <b>14</b>. In such a situation, the machine-readable symbol reader <b>10</b> may exploit the resolution of the optical sensor <b>14</b> up to the Nyquist frequency of the optical sensor <b>14</b>, if the normalization coefficient is known and applied to each channel response. Using one- or two-dimensional machine-readable symbols <b>202</b> (<figref idref="DRAWINGS">FIG. 5</figref>) encoding data in two-level luminance width varying elements simplifies the problem, since the normalization results in having the same average variance for each RGB colors. Once a symbol area is delimited, the gain of each RGB channel may be normalized in inverse proportion of the variance measured in the symbol area. The three RGB channels may be combined, and accordingly weighted, without loss of resolution, and may be used to again measure the focus SMD at full sensor resolution, enhancing the accuracy of the auto focus. The machine-readable symbol reader <b>10</b> may also use the normalization to enhance the resolution of the decoding of the machine-readable symbol <b>202</b> (<figref idref="DRAWINGS">FIG. 5</figref>).</p>
<p id="p-0085" num="0084">Thus, the method and apparatus taught herein may employ subtraction-modulus-difference values as the focus metrics, calculated in a matrix of sub-windows that divide the image. The sub-windows may be aggregated into one or more meta-windows according to their position and focus values, which are likely to contain the one- or two-dimensional machine-readable symbol. This permits the method and apparatus to select a meta window as a zone of interest to apply decoding algorithms and/or auto-focus algorithms. The method and apparatus taught herein may also continuously attempt to decode while auto-focusing. Further, the method and apparatus taught herein may normalize the RGB response from the RGB variance calculated over a part of the one- or two-dimensional machine-readable symbol, if the variance is above a given threshold. While the method and apparatus taught herein may employ variance measurement instead of subtraction-modulus-difference, such disadvantageously requires multiplication operations.</p>
<p id="p-0086" num="0085">1. Focus Control Overview</p>
<p id="p-0087" num="0086">As discussed generally above, in one embodiment, the auto-focus method is entirely passive, taking advantage of the high modulation and characteristic form factors of the machine-readable symbols used as targets <b>20</b>. The principle is to look first for a symbol at incremental focus distances, and then to proceed to a fine focus by maximizing the image calculated on the corresponding reduced portion of the overall image. The fast focus actuation allows a reduction or elimination of wear on parts, a reduction in current draw, and silent operation. The auto-focus can be carried out back and forth over the full range of operation as a default coarse focus mode.</p>
<p id="p-0088" num="0087">The sampling increment of the focus distance is preferably limited to half of the depth-of-field. Once a machine-readable symbol has been localized, a fine focus quadratic interpolation may be applied to finely focus the microfluidic lens assembly <b>16</b>. By conditioning the auto-focus system to initial localization of machine-readable symbols, the decoding application can applied sooner with to more meaningful portions of the image.</p>
<p id="p-0089" num="0088">2. AF Algorithm</p>
<p id="p-0090" num="0089">In one simple hardware/software implementation, the same Sum Modulus Difference (SMD) operator is used to both 1) detect a machine-readable symbol in an image; and 2) to measure the focus of the machine-readable symbol.</p>
<p id="p-0091" num="0090">At the beginning, the focus is adjusted step-by-step, while the SMD is calculated in elementary sub-windows <b>204</b> dividing the image. Then SMD values for the different colors (e.g., SMD<sub>R</sub>, SMD<sub>G</sub>, SMD<sub>B</sub>) are added to produce an image mapped with SMD values.</p>
<p id="p-0092" num="0091">The elementary sub-windows <b>204</b> are the aggregated, if adjacent and having close SMD values. If a resulting area fulfills acceptance conditions, maximizing the average SMD calculated over this area carries out fine auto-focus function.</p>
<p id="p-0093" num="0092">Thus, it is when one or more machine-readable symbols are localized, that the focus is accurately tuned, and the detected zone of interest is transferred for decoding. The result is a shorter reading response time.</p>
<p id="p-0094" num="0093">Advance delimitation of a machine-readable symbol can also be used to tune the magnification of an analog zoom, particularly useful for aim-and-read hand-held type machine-readable symbol readers <b>10</b>.</p>
<p id="p-0095" num="0094">An exemplary algorithm is as follows:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0095">reset reading success, break, symbol localized</li>
        <li id="ul0002-0002" num="0096">get image</li>
        <li id="ul0002-0003" num="0097">do until reading success or break
        <ul id="ul0003" list-style="none">
            <li id="ul0003-0001" num="0098">Search mode
            <ul id="ul0004" list-style="none">
                <li id="ul0004-0001" num="0099">do until symbol localized
                <ul id="ul0005" list-style="none">
                    <li id="ul0005-0001" num="0100">focus=focus+Δfocus modulus (dmin−dmax)</li>
                    <li id="ul0005-0002" num="0101">get image</li>
                    <li id="ul0005-0003" num="0102">search for symbol</li>
                    <li id="ul0005-0004" num="0103">if symbol then set symbol localized</li>
                </ul>
                </li>
                <li id="ul0004-0002" num="0104">end do until</li>
            </ul>
            </li>
            <li id="ul0003-0002" num="0105">Focus mode
            <ul id="ul0006" list-style="none">
                <li id="ul0006-0001" num="0106">do while symbol localized
                <ul id="ul0007" list-style="none">
                    <li id="ul0007-0001" num="0107">transfer zone of interest</li>
                    <li id="ul0007-0002" num="0108">focus measurement</li>
                    <li id="ul0007-0003" num="0109">update focus</li>
                    <li id="ul0007-0004" num="0110">get image</li>
                    <li id="ul0007-0005" num="0111">search for symbol</li>
                    <li id="ul0007-0006" num="0112">If not symbol then reset symbol localized</li>
                </ul>
                </li>
                <li id="ul0006-0002" num="0113">end do until</li>
            </ul>
            </li>
        </ul>
        </li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0096" num="0114">3. Distribution of the Focus Increment over the Reading Distance</p>
<p id="p-0097" num="0115">The reading distance is defined as [d<sub>min</sub>,d<sub>max</sub>]. The depth-of-field is defined as the axial displacement that the object may experience before the resultant image blur becomes excessive.</p>
<p id="p-0098" num="0116">The focus is changed via a periodic voltage applied across the two non-miscible and different index liquids comprising the microfluidic lens assembly <b>16</b>. Varying the amplitude and/or the frequency of the voltage modifies the curvature of the liquid interface and thus the focus, according to a function f(z) that can be modeled or calibrated.</p>
<p id="p-0099" num="0117">At the beginning of the reading attempt, the focus of the microfluidic lens assembly <b>16</b> is setup at a predefined value or at a value issued from a heuristic algorithm (e.g., last successful decoding).</p>
<p id="p-0100" num="0118">Then a search for a machine-readable symbol is performed at the current focus position. If none is found, then the focus is shifted to another position by an amount equal or smaller than half the minimum depth-of-field. The depth-of-field at the sensor Nyquist frequency is always minimum at near field. The process is repeated until a machine-readable symbol is found or the full range of reading has been searched.</p>
<p id="p-0101" num="0119">For small dynamic of reading range, the depth-of-field is considered constant and the focus increments are equally distributed over the full range of reading distances. For large reading distances, (e.g., extending to infinity), the number of image to acquire can be minimized by distributing the focus increments with progressive values to reflect the nonlinear progression of the depth-of-field from near field to far field (depth-of-field(z)/2). In any case, the number of images acquired is bounded as the hyperfocal distance defines the maximum focus distance.</p>
<p id="p-0102" num="0120">The focus is incrementally moved over the full reading range, until at least one machine-readable symbol is detected. The absence of wear on parts, fast focus response, silent operation and/or low current draw of the electrowetted lens assembly <b>16</b> permits remaining in search mode (i.e., focus moving back-and-forth) without being limited by time. <figref idref="DRAWINGS">FIG. 8</figref> illustrates an equal distribution of focus increments, while <figref idref="DRAWINGS">FIG. 9</figref> illustrates a non-linear distribution of focus increments.</p>
<p id="p-0103" num="0121">4. Symbol Localization</p>
<p id="p-0104" num="0122">4.1 Image activity map</p>
<p id="p-0105" num="0123"><figref idref="DRAWINGS">FIG. 10</figref> shows a Bayer colored filter array, which is one of the most widely employed color filters in the field of imaging. The Bayer colored filter array may be described as a matrix of Filter Elements (FE) of four pixels, each FE comprising 2 green pixels in diagonal, one red pixel and one blue pixel.</p>
<p id="p-0106" num="0124">As illustrated in <figref idref="DRAWINGS">FIG. 12</figref>, the image may then be decomposed into a matrix of elementary sub-windows <b>204</b>, of equal size, each containing an integer number of FE (e.g. 32×24 pixels with a 4/3 format).</p>
<p id="p-0107" num="0125">The activity of the image of the sub-windows <b>204</b> is measured by calculating the Sum Modulus Difference in every sub-window <b>204</b>.</p>
<p id="p-0108" num="0126">The SMD measurement can, for example, be limited to the green channel which is a good approximation of the overall luminance of the machine-readable symbol, although the signal/noise ratio and wavelength coverage may be enhanced by adding together the three separately determined SMD values (e.g., SMD<sub>R</sub>, SMD<sub>G</sub>, and SMD<sub>B</sub>, corresponding to the Red, Green and Blue channels, respectively).</p>
<p id="p-0109" num="0127">For each of the sub-windows <b>204</b>, a total SMD<sub>total </sub>may be determined as follows:</p>
<p id="p-0110" num="0128">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>SMD</mi>
      <mi>G</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mrow>
        <munder>
          <mo>∑</mo>
          <mi>i</mi>
        </munder>
        <mo>⁢</mo>
        <mrow>
          <munder>
            <mo>∑</mo>
            <mi>j</mi>
          </munder>
          <mo>⁢</mo>
          <mrow>
            <mo></mo>
            <mrow>
              <msub>
                <mi>G</mi>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>,</mo>
                    <mi>j</mi>
                    <mo>,</mo>
                    <mn>0</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>G</mi>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>,</mo>
                    <mi>j</mi>
                    <mo>,</mo>
                    <mn>1</mn>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </msub>
            </mrow>
            <mo></mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
        <mo></mo>
        <mrow>
          <msub>
            <mi>G</mi>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>i</mi>
                <mo>,</mo>
                <mi>j</mi>
                <mo>,</mo>
                <mn>0</mn>
              </mrow>
              <mo>)</mo>
            </mrow>
          </msub>
          <mo>-</mo>
          <msub>
            <mi>G</mi>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>i</mi>
                <mo>,</mo>
                <mrow>
                  <mi>j</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
                <mo>,</mo>
                <mn>1</mn>
              </mrow>
              <mo>)</mo>
            </mrow>
          </msub>
        </mrow>
        <mo></mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00002-2" num="00002.2">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>SMD</mi>
      <mi>R</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mrow>
        <munder>
          <mo>∑</mo>
          <mi>i</mi>
        </munder>
        <mo>⁢</mo>
        <mrow>
          <munder>
            <mo>∑</mo>
            <mi>j</mi>
          </munder>
          <mo>⁢</mo>
          <mrow>
            <mo></mo>
            <mrow>
              <msub>
                <mi>R</mi>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>,</mo>
                    <mi>j</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>R</mi>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>,</mo>
                    <mrow>
                      <mi>j</mi>
                      <mo>+</mo>
                      <mn>1</mn>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </msub>
            </mrow>
            <mo></mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
        <mo></mo>
        <mrow>
          <msub>
            <mi>R</mi>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mrow>
                  <mi>i</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
                <mo>,</mo>
                <mi>j</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </msub>
          <mo>-</mo>
          <msub>
            <mi>R</mi>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>i</mi>
                <mo>,</mo>
                <mi>j</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </msub>
        </mrow>
        <mo></mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00002-3" num="00002.3">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>SMD</mi>
      <mi>B</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mrow>
        <munder>
          <mo>∑</mo>
          <mi>i</mi>
        </munder>
        <mo>⁢</mo>
        <mrow>
          <munder>
            <mo>∑</mo>
            <mi>j</mi>
          </munder>
          <mo>⁢</mo>
          <mrow>
            <mo></mo>
            <mrow>
              <msub>
                <mi>B</mi>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>,</mo>
                    <mi>j</mi>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </msub>
              <mo>-</mo>
              <msub>
                <mi>B</mi>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mi>i</mi>
                    <mo>,</mo>
                    <mrow>
                      <mi>j</mi>
                      <mo>+</mo>
                      <mn>1</mn>
                    </mrow>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </msub>
            </mrow>
            <mo></mo>
          </mrow>
        </mrow>
      </mrow>
      <mo>+</mo>
      <mrow>
        <mo></mo>
        <mrow>
          <msub>
            <mi>B</mi>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mrow>
                  <mi>i</mi>
                  <mo>+</mo>
                  <mn>1</mn>
                </mrow>
                <mo>,</mo>
                <mi>j</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </msub>
          <mo>-</mo>
          <msub>
            <mi>B</mi>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mi>i</mi>
                <mo>,</mo>
                <mi>j</mi>
              </mrow>
              <mo>)</mo>
            </mrow>
          </msub>
        </mrow>
        <mo></mo>
      </mrow>
    </mrow>
  </mrow>
</math>
</maths>
<maths id="MATH-US-00002-4" num="00002.4">
<math overflow="scroll">
  <mrow>
    <msub>
      <mi>SMD</mi>
      <mi>total</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <msub>
        <mi>SMD</mi>
        <mi>R</mi>
      </msub>
      <mo>+</mo>
      <msub>
        <mi>SMD</mi>
        <mi>G</mi>
      </msub>
      <mo>+</mo>
      <msub>
        <mi>SMD</mi>
        <mi>R</mi>
      </msub>
    </mrow>
  </mrow>
</math>
</maths>
</p>
<p id="p-0111" num="0129">4.2 Aggregating the Sub-windows into Valid Meta Windows</p>
<p id="p-0112" num="0130">As further illustrated in <figref idref="DRAWINGS">FIG. 12</figref>, Once obtained an image mapped with SMD Values, adjacent sub-windows <b>204</b> having near SMD values are aggregated into meta windows <b>206</b>.</p>
<p id="p-0113" num="0131">The meta windows <b>206</b> are sorted into valid and invalid meta windows according to criteria of size, shape and average SMD value, parameters corresponding to a likelihood that the meta window <b>206</b> encompasses a machine-readable symbol.</p>
<p id="p-0114" num="0132">Valid meta windows (VMT) are selected for fine focus according to their respective SMD value, size, shape, location in the image and/or eventually feedback from decoding functions.</p>
<p id="p-0115" num="0133">In addition to provide specific areas where image sharpness should be maximized, symbol localization function defines or identifies zones-of-interest, to be transferred to the decoding functions. This early symbol pre-identification function reduces the amount of data to transfer for decoding, which may be particularly advantageous when using large format sensors.</p>
<p id="p-0116" num="0134">5. Focus Mode</p>
<p id="p-0117" num="0135">The average SMD values of the sub-windows <b>204</b> comprising the valid meta window(s) <b>206</b> represent the focus of the machine-readable symbol. The outer sub-windows <b>204</b> partially overlapping the machine-readable symbol may be discarded to improve accuracy. The average SMD is monotonic with the focus distance and presents a maximum when the machine-readable symbol is at best focus. The SMD determination does not require multiplication or a multiplier, and thus can be easily implemented by software or hardware in real time.</p>
<p id="p-0118" num="0136">Other focus measurement can alternatively be used, e.g., the energy of the image (gray level variance), the high pass frequency content (image gradient, image Laplacian), the histogram entropy or local variation.</p>
<p id="p-0119" num="0137">Conventional focus metrics present a maximum at best focus, but differ in performances, monotonicity, robustness to noise, and/or computational cost. One possible advantage of the SMD approach is that it can be implemented simply in hardware, or software, and may be used also for localizing one-dimensional machine-readable symbols.</p>
<p id="p-0120" num="0138">Once in focus mode, incremental focus changes (e.g., depth-of-field/2) are applied again in the same direction, until the focus measurement decreases significantly for the first time. As in the search mode, the focus distance increments are equally or nonlinearly distributed over the full range of operation (e.g., d<sub>min </sub>to d<sub>max</sub>), and are typically less than approximately half value of the depth-of-field (e.g., depth-of-field(z)/2). The maximum hyperfocal distance gives the maximum focus distance.</p>
<p id="p-0121" num="0139">Once the focus measurement decreases significantly, a quadratic polynomial or a Gaussian curve is fitted to three or more points apart the best focus to interpolate the best focus position. A quadratic interpolation is illustrated in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0122" num="0140">Three SMD values are sufficient to calculate the b and c coefficients, as well as the final potential to be applied to the microfluidic lens assembly <b>15</b> where f(−b/2a).</p>
<p id="p-0123" num="0141">Depth-from-defocus algorithms that estimate the focus command to apply directly from one or several images may be used for slow focus actuation to help minimize the overshoot beyond the best focus position. Details of depth-from-focus algorithms are discussed in Tse-Chung Wei, <i>Three dimensional Machine Vision Using Image Defocus</i>, State University Of New York.</p>
<p id="p-0124" num="0142">However using a fast micro-fluidic lens assembly <b>16</b> permits taking a distinctly different approach, where the best focus is purposely overshot to get an SMD value differences well above the noise measurement. The focus is then finely and quickly adjusted back to the interpolated position using the responsive (i.e., fast) microfluidic focus actuation.</p>
<p id="p-0125" num="0143">If the SMD value of the a current valid meta window differs significantly from that of a previous one's, the algorithm returns to the search mode as the machine-readable symbol is moved to fast or even removed. The amount of change triggering a return to search mode may simply be a proportion of the previous SMD value.</p>
<p id="p-0126" num="0144">6. Reduced Image Processing Bandwidth with Early Symbol Localization</p>
<p id="p-0127" num="0145">Early localization of machine-readable symbols reduces the amount of data that is transferred to the host application. This approach is particularly beneficial when using high-resolution CCD/CMOS sensors.</p>
<p id="p-0128" num="0146">Further, multi-resolution image states (e.g., wavelet bank filter, Laplacian pyramid or other compression scheme) can be applied to the identified zone-of-interest and further reduce the computational bandwidth of the imaging application.</p>
<p id="p-0129" num="0147">7. Analog Zoom Control</p>
<p id="p-0130" num="0148">Finally the zone of interest deduced from the selected meta window <b>206</b> may also be used to trim the power of an optical zoom. This is particularly advantageous for aim-and-read operations.</p>
<p id="p-0131" num="0149">8. Enhancement of the Auto-Focus and the Decoding Spatial Resolution</p>
<p id="p-0132" num="0150">The focus measurement proposed above is based on Sum Modulus Difference. As discussed, the SMD are first calculated over the three RGB channels separately, and then added to reduce the signal/noise ratio and to cover the full wavelength spectrum of the optical sensor <b>14</b>. However, using the RGB channel separately is equivalent to sub sampling the image and thus implies some loss of resolution.</p>
<p id="p-0133" num="0151">Many demosaicing algorithms exist to overcome the display artifacts that result from CFA sub-sampling, such as blurry edges and/or false coloring. These demosaicing algorithms fill missing color values using more or less complex interpolation and correlation rules between each channel. However, these algorithms if they minimize display artifacts, do not restore the destroyed resolution due to the CFA sub sampling.</p>
<p id="p-0134" num="0152">In an alternative approached proposed herein the raw data of the optical sensor <b>14</b> is normalized to exploit the bi-luminance feature of machine-readable symbols and the fact that most of the cases, machine-readable symbols irradiance presents three RGB color components. Examples of such machine-readable symbols include black and white symbols, such machine-readable symbols formed as dark elements on light colored background symbols, or vice versa.</p>
<p id="p-0135" num="0153">This approach may significantly enhance the focus accuracy and the decoding resolution of the machine-readable symbols using the optical sensor <b>14</b> at its maximum spatial resolution (1/pixel width).</p>
<p id="p-0136" num="0154">For that purpose, once delimited the area of the symbol (VMT), the response of the three RGB channels are normalized as follows:
<ul id="ul0008" list-style="none">
    <li id="ul0008-0001" num="0000">
    <ul id="ul0009" list-style="none">
        <li id="ul0009-0001" num="0155">a) the variances of the R,G, B pixels are calculated over the valid meta window <b>206</b> according to:</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0137" num="0156">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mrow>
  <msub>
    <mi>σ</mi>
    <mi>B</mi>
  </msub>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mfrac>
        <mn>1</mn>
        <msub>
          <mi>n</mi>
          <mi>B</mi>
        </msub>
      </mfrac>
      <mo>⁢</mo>
      <mrow>
        <mo>∑</mo>
        <mrow>
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>B</mi>
                  <mrow>
                    <mo>(</mo>
                    <mi>n</mi>
                    <mo>)</mo>
                  </mrow>
                </msub>
                <mo>-</mo>
                <mover>
                  <mi>B</mi>
                  <mi>_</mi>
                </mover>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.8em" height="0.8ex"/>
          </mstyle>
          <mo>⁢</mo>
          <msub>
            <mi>σ</mi>
            <mi>R</mi>
          </msub>
        </mrow>
      </mrow>
    </mrow>
    <mo>=</mo>
    <mrow>
      <mrow>
        <mfrac>
          <mn>1</mn>
          <msub>
            <mi>n</mi>
            <mi>R</mi>
          </msub>
        </mfrac>
        <mo>⁢</mo>
        <mrow>
          <mo>∑</mo>
          <mrow>
            <msup>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <msub>
                    <mi>R</mi>
                    <mrow>
                      <mo>(</mo>
                      <mi>n</mi>
                      <mo>)</mo>
                    </mrow>
                  </msub>
                  <mo>-</mo>
                  <mover>
                    <mi>R</mi>
                    <mi>_</mi>
                  </mover>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mn>2</mn>
            </msup>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <msub>
              <mi>σ</mi>
              <mi>G</mi>
            </msub>
          </mrow>
        </mrow>
      </mrow>
      <mo>=</mo>
      <mrow>
        <mfrac>
          <mn>1</mn>
          <msub>
            <mi>n</mi>
            <mi>G</mi>
          </msub>
        </mfrac>
        <mo>⁢</mo>
        <mrow>
          <mo>∑</mo>
          <msup>
            <mrow>
              <mo>(</mo>
              <mrow>
                <msub>
                  <mi>G</mi>
                  <mrow>
                    <mo>(</mo>
                    <mi>n</mi>
                    <mo>)</mo>
                  </mrow>
                </msub>
                <mo>-</mo>
                <mover>
                  <mi>G</mi>
                  <mi>_</mi>
                </mover>
              </mrow>
              <mo>)</mo>
            </mrow>
            <mn>2</mn>
          </msup>
        </mrow>
      </mrow>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<ul id="ul0010" list-style="none">
    <li id="ul0010-0001" num="0000">
    <ul id="ul0011" list-style="none">
        <li id="ul0011-0001" num="0157">where <o ostyle="single">B</o>, <o ostyle="single">R</o>, <o ostyle="single">G</o> are the mean of the B,R and G pixels in the valid meta window <b>206</b>.</li>
        <li id="ul0011-0002" num="0158">b) the R,G,B pixel amplitude of the zone-of-interest comprising the machine-readable symbol are weighted in inverse proportion to the square root of the R, G, B channel variance, according to:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>b</i><sub>(i,j)</sub><i>=B</i><sub>(i,j)</sub>/√{square root over (σ<sub>B</sub>)}, <i>r</i><sub>(i,j)</sub><i>=R</i><sub>(i,j)</sub>/√{square root over (σ<sub>R</sub>)}, <i>g</i><sub>(ij)</sub><i>=g</i><sub>(i,j)</sub>/√{square root over (σ<sub>G</sub>)},<?in-line-formulae description="In-line Formulae" end="tail"?>
</li>
        <li id="ul0011-0003" num="0159">where n<sub>B</sub>, n<sub>R</sub>, n<sub>G </sub>are the number of Red, Green and Blue Pixel in the valid meta window <b>206</b>.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0138" num="0160">The normalization of the pixel amplitudes provide a seamless signal that can be sampled up to the sensor Nyquist frequency.</p>
<p id="p-0139" num="0161"><figref idref="DRAWINGS">FIG. 14</figref> shows a machine-readable symbol with a contrast irradiance of the containing Red, Green, and Red wavelength components. With matching optical sensor sensitivity and symbol irradiance spectrums, the photo-converted signal is substantially seamless and could thus be sampled at the Nyquist frequency. Indeed, mismatches between the spectrums of the sensor sensitivity and the symbol irradiance induce discontinuities between RGB outputs. These discontinuities may be corrected by calibrating the RGB responsiveness for every code (i.e., symbology) read by calculating the variance (e.g., energy) of the meta window <b>206</b> in each RGB channels and normalizing the RGB pixels in inverse squared proportion.</p>
<p id="p-0140" num="0162">An RGB channel with a calculated variance below a minimum value (or a proportion of the highest channel variance) may be discarded and its pixel values interpolated from the neighbour pixels. In this case, the decoding and auto-focus is carried out in a reduced resolution mode.</p>
<p id="p-0141" num="0163">The enhancement introduces at the focus stage, once the symbols are localized, a normalization stage of the RGB pixels of the zone of interest. The SMD calculation of focus measurement is carried out at the pixel frequency regardless of the R G or B channel, instead of separate RGB calculation of the SMD and addition. The algorithms becomes:
<ul id="ul0012" list-style="none">
    <li id="ul0012-0001" num="0000">
    <ul id="ul0013" list-style="none">
        <li id="ul0013-0001" num="0164">Reset reading success, break, symbol localized</li>
        <li id="ul0013-0002" num="0165">get image</li>
        <li id="ul0013-0003" num="0166">do until reading success or break
        <ul id="ul0014" list-style="none">
            <li id="ul0014-0001" num="0167">Search mode
            <ul id="ul0015" list-style="none">
                <li id="ul0015-0001" num="0168">do until symbol localized
                <ul id="ul0016" list-style="none">
                    <li id="ul0016-0001" num="0169">focus=focus+Δfocus modulus(d<sub>min</sub>−d<sub>max</sub>)</li>
                    <li id="ul0016-0002" num="0170">get image</li>
                    <li id="ul0016-0003" num="0171">search for symbol</li>
                    <li id="ul0016-0004" num="0172">if symbol then set symbol localized</li>
                </ul>
                </li>
                <li id="ul0015-0002" num="0173">end do until</li>
            </ul>
            </li>
            <li id="ul0014-0002" num="0174">Focus mode
            <ul id="ul0017" list-style="none">
                <li id="ul0017-0001" num="0175">do while symbol localized
                <ul id="ul0018" list-style="none">
                    <li id="ul0018-0001" num="0176">Normalise RGB channel</li>
                    <li id="ul0018-0002" num="0177">transfer zone of interest (full resolution exploitable)</li>
                    <li id="ul0018-0003" num="0178">focus measurement (full resolution)</li>
                    <li id="ul0018-0004" num="0179">update focus</li>
                    <li id="ul0018-0005" num="0180">get image</li>
                    <li id="ul0018-0006" num="0181">search for symbol</li>
                    <li id="ul0018-0007" num="0182">If not symbol then reset symbol localized</li>
                </ul>
                </li>
                <li id="ul0017-0002" num="0183">end do until</li>
            </ul>
            </li>
        </ul>
        </li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0142" num="0184">Thus, combining symbol localization and focus control allows the focusing of images likely containing machine-readable symbols. This reduces the overall time for reading machine-readable symbols by avoiding miss-focusing on irrelevant objects. As discussed above, the fast, silent, low power variable focus microfluidic lens assembly <b>16</b> allows searching for machine-readable symbols without unnecessary time limitations. For example, using an ‘aim-and-read’ ergonomic, the coarse focus (symbol search) can be achieved during the ‘aim phase’ and fine focus during the ‘read phase’ when the operator depress the reading key. Thus, early localization of the machine-readable symbol constitutes a simple low or no loss alternative to compression algorithms by defining the zone-of-interest of the image to transfer, and thus to reduce the transmission and computational load. Additionally, the zone-of-interest can be used to early adjust the magnification of an analog zoom when adapted to hand held devices. Early location of the machine-readable symbol allows delivery of an image with equalized RGB channels that can to be sampled and exploited up to the Nyquist frequency of the sensor, enhancing the decoding resolution and the focus accuracy.</p>
<p id="p-0143" num="0185">Some abbreviations used in the figures and description include the following:
<ul id="ul0019" list-style="none">
    <li id="ul0019-0001" num="0000">
    <ul id="ul0020" list-style="none">
        <li id="ul0020-0001" num="0186">AF: Auto Focus</li>
        <li id="ul0020-0002" num="0187">DOF: Depth Of Field</li>
        <li id="ul0020-0003" num="0188">MT: Meta Window</li>
        <li id="ul0020-0004" num="0189">RGB: Reg Green Blue</li>
        <li id="ul0020-0005" num="0190">SBW: Sub Window</li>
        <li id="ul0020-0006" num="0191">SMD: Sum-Modulus-difference</li>
        <li id="ul0020-0007" num="0192">IVT: Invalid Meta Window</li>
        <li id="ul0020-0008" num="0193">VMT: Valid Meta Window</li>
        <li id="ul0020-0009" num="0194">ZOI: Zone Of Interest</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0144" num="0195">Although specific embodiments of and examples for the machine-readable symbol reader <b>10</b> and method of operating the same are described herein for illustrative purposes, various equivalent modifications can be made without departing from the spirit and scope of the invention, as will be recognized by those skilled in the relevant art. The teachings provided herein of the invention can be applied to readers for any machine-readable symbology, not necessarily the exemplary bar code reader generally described above.</p>
<p id="p-0145" num="0196">The various embodiments described above can be combined to provide further embodiments. All of the U.S. patents, U.S. patent application publications, U.S. patent applications, foreign patents, foreign patent applications and non-patent publications referred to in this specification and/or listed in the Application Data Sheet, including but not limited to U.S. Pat. Nos. 5,574,598; 6,464,363; 6,347,742; Vdovin, et. al. <i>Micromachined Mirror With A Variable Focal Distance In Free</i>-<i>Space Microoptical Systems</i>, Digest of EOS Topical Meeting, pp. 28-29, Apr. 1-3 1996; Love, G. D., <i>Adaptive Optical Components Using Liquid Crystal Devices</i>, Journal of the Communications Research Laboratory, Vol. 46 No. <b>3</b>, November 1999, pp. 427-430<i>; Electrocapillarite et mouillage de films isolants par l'eau </i>Berge, C. R. Acad. Sci. Paris, serial II, pp. 157-163; Boreman, D., <i>Modulation Transfer Function in Optical and Electro</i>-<i>Optical Systems</i>, SPIE Press; Chern, <i>Practical Issues in Pixel</i>-<i>Based Autofocusing for Machine Vision</i>, Proceedings of the 2001 IEEE International Conference on Robotics and Automation, Seoul, Korea, May 21-26, 2001, pp. 2791-2796; Ng Kuang Chern, et al., <i>Practical Issues In Pixel</i>-<i>Bases Autofocusing For Machine Vision</i>, Proceedings of the 2001 IEEE International Conference on Robotics &amp; Automation; Subbarao et al., <i>Focusing Technique</i>, OE/Technology '92, SPIE Conference, Boston; Kerkyra, Proceedings of International Conference On Computer Vision, pp 834-838 (Kerkyra, 1999); Subbarao, M., <i>Focusing Technique</i>, Journal of Optical Engineering, Vol. 32, No. 11, pp 2824-2836 (November 1993); M. Subbarao, <i>Proceedings of SPIE's international symposium</i>, Videometrics IV, Vol. 2598, pp. 89-99; Tse-Chung Wei, <i>Three Dimensional Machine Vision Using Image Defocus</i>, State University of New York, Stonybrook; M. Subbarao, <i>Proceeding of SPIE 's International Symposium</i>, Videometrics IV, Vol. 2598, pp 89-99; Keren, <i>Restoring Sub</i>-<i>sampled Color Images</i>, Machine Vision and Applications (1999); Marino, <i>Improving the Performance of Single Chip Image Capture Devices</i>, Journal of Electronic Imaging 12(2), 209-218 (April 2003); and Ramanath, <i>Demosaicking methods for Bayer color arrays</i>, Journal of Electronic Imaging 11(3), 306-315 are incorporated herein by reference, in their entirety. Aspects of the invention can be modified, if necessary, to employ systems, circuits and concepts of the various patents, applications and publications to provide yet further embodiments of the invention.</p>
<p id="p-0146" num="0197">These and other changes can be made to the invention in light of the above-detailed description. In general, in the following claims, the terms used should not be construed to limit the invention to the specific embodiments disclosed in the specification and the claims, but should be construed to include all machine-readable symbol readers and optical systems that operated in accordance with the claims. Accordingly, the invention is not limited by the disclosure, but instead its scope is to be determined entirely by the following claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07296749-20071120-M00001.NB">
<img id="EMI-M00001" he="11.26mm" wi="76.20mm" file="US07296749-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002 MATH-US-00002-2 MATH-US-00002-3 MATH-US-00002-4" nb-file="US07296749-20071120-M00002.NB">
<img id="EMI-M00002" he="26.84mm" wi="76.20mm" file="US07296749-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US07296749-20071120-M00003.NB">
<img id="EMI-M00003" he="6.35mm" wi="76.20mm" file="US07296749-20071120-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A machine-readable symbol reader to read machine-readable symbols carried by targets, the machine-readable symbol reader comprising:
<claim-text>a microfluidic lens assembly having at least one first fluid and a number of electrodes selectively operable to modify a shape of the at least one first fluid;</claim-text>
<claim-text>an optical sensor positioned along an optical axis of the microfluidic lens assembly relatively behind the microfluidic lens assembly with respect to the target;</claim-text>
<claim-text>at least one controller, the controller coupled to cause a selected potential to be applied to at least some of the electrodes of the microfluidic lens assembly to focus images of the target on the optical sensor; and</claim-text>
<claim-text>wherein the focal characteristics of the microfluidic lens assembly are controlled by application of pre-selected electrical fields to a second fluid surrounding the first fluid, where the first and the second fluids are immiscible with respect to one another, the second fluid is a conductor and the first fluid is an insulator.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, wherein the at least one controller is coupled to receive range finding information from the range finder system and configured to adjust a focal length of the microfluidic lens assembly based on the range finding information.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, wherein the at least one controller is coupled to receive range finding information from the range finder system and configured to determine a focal length for the microfluidic lens assembly based on the determined focal range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, the range finder system comprising a range finder output device selectively operable to produce an output in a defined frequency range in an electromagnetic spectrum and a range finder input device sensitive in the defined frequency range of the electromagnetic spectrum.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, the range finder system comprising a range finder output device selectively operable to produce an output pressure pulse in a defined frequency range and a range finder input device sensitive to pressure pulses in the defined frequency range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the microfluidic lens assembly comprises a single optical interface element.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>an illumination system, the illumination sources selectively actuatable to produce different intensities of illumination.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>an illumination system comprising a number of illumination sources, where the controller is configured to determine a desired intensity of illumination and coupled to selectively activated a number of the illumination sources to produce desired intensity of illumination.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a color filter assembly positioned between the target and the optical sensor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The machine-readable symbol reader of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a Bayer color filter assembly positioned between the target and the optical sensor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. A method of operating a machine-readable symbol reader to read machine-readable symbols carried by targets, the method comprising:
<claim-text>determining a distance between a microfluidic lens assembly of the machine readable symbol reader and the target;</claim-text>
<claim-text>adjusting a focal length of the microfluidic lens assembly based on the determined distance to the target, wherein adjusting a focal length of the microfluidic lens assembly includes:
<claim-text>applying a first potential to at least one of a number of electrodes spaced from a substantially non-conducting fluid by a dielectric; and</claim-text>
<claim-text>applying a second potential to a substantially conducting fluid surrounding the first fluid, where the non-conducting fluid and the conducting fluid are immiscible with respect to one another;</claim-text>
</claim-text>
<claim-text>capturing an image of a machine-readable symbol carried by the target; and</claim-text>
<claim-text>decoding the machine-readable symbol carried by the target.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein adjusting a focal length of the microfluidic lens assembly includes applying a potential to at least one of a number of electrodes.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein capturing an image of a machine-readable symbol carried by the target includes electronically scanning an optical sensor positioned along an optical axis of the microfluidic lens assembly relatively behind the microfluidic lens assembly with respect to the target.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein determining a distance between a microfluidic lens assembly of the machine readable symbol reader and the target includes emitting energy in a defined range of an electromagnetic spectrum toward the target, and receiving energy in the defined range of the electromagnetic spectrum reflected from the target.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref> wherein determining a distance between a microfluidic lens assembly of the machine readable symbol reader and the target includes emitting pressure pulses a defined range of frequencies toward the target, and receiving pressure pulses in the defined range of frequencies reflected from the target.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising:
<claim-text>adjusting an output intensity of an illumination system of the machine-readable symbol reader based on at least one of the determined distance between the microfluidic lens assembly and the target and the focal length of the microfluidic lens assembly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising:
<claim-text>minimizing an output intensity of an illumination system of the machine-readable symbol reader based on at least one of the determined distance between the microfluidic lens assembly and the target and the focal length of the microfluidic lens assembly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, further comprising:
<claim-text>identifying the target in an image before determining the distance between a microfluidic lens assembly of the machine readable symbol reader and the target.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00019">claim 19</claim-ref> wherein identifying the target in an image before determining the distance between a microfluidic lens assembly of the machine readable symbol reader and the target comprises:
<claim-text>determining a plurality of sub-windows of the image on which to operate;</claim-text>
<claim-text>determining a subtraction-modulus-difference value for each of a number pixels in horizontally adjacent ones of the sub-windows and for each of a number pixels in vertically adjacent ones of the sub-windows;</claim-text>
<claim-text>aggregating adjacent sub-windows having determined subtraction-modulus-difference values below a defined threshold into a meta window of the image on which to operate;</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at an initial focal length of the microfluidic lens assembly;</claim-text>
<claim-text>adjusting the microfluidic lens assembly to a second focal length;</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at the second focal length of the microfluidic lens assembly;</claim-text>
<claim-text>determining a direction of change in the determined focus values;</claim-text>
<claim-text>repeatedly, adjusting the microfluidic lens assembly at different incremental focal lengths in a space of the image along the same direction in the space, and</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at the different incremental focal lengths until the focus value drops by more than a defined threshold; and</claim-text>
<claim-text>interpolating a best focus length from at least three of the focal lengths.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The method of <claim-ref idref="CLM-00020">claim 20</claim-ref>, further comprising:
<claim-text>accumulating the subtraction-modulus-difference value for at least three different colors.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. A method of operating a machine-readable symbol reader to read color encoded machine-readable symbols carried by targets, the method comprising:
<claim-text>acquiring an image through a three color filter at a single optical sensor;</claim-text>
<claim-text>determining a plurality of sub-windows of the image on which to operate;</claim-text>
<claim-text>for each of the colors, determining a subtraction-modulus-difference value for each of a number pixels in horizontally adjacent ones of the sub-windows and for each of a number pixels in vertically adjacent ones of the sub-windows;</claim-text>
<claim-text>accumulating the subtraction-modulus-difference value for each of at least three different colors;</claim-text>
<claim-text>aggregating adjacent sub-windows having accumulated subtraction-modulus-difference values below a defined threshold into a meta window of the image on which to operate;</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at an initial focal length of the microfluidic lens assembly;</claim-text>
<claim-text>adjusting the microfluidic lens assembly to a second focal length;</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at the second focal length of the microfluidic lens assembly;</claim-text>
<claim-text>determining a direction of change in the determined focus values;</claim-text>
<claim-text>repeatedly, adjusting the microfluidic lens assembly at different incremental focal lengths in a space of the image along the same direction in the space, and</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at the different incremental focal lengths until the focus value drops by more than a defined threshold; and</claim-text>
<claim-text>interpolating a best focus length from at least three of the focal lengths.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The method of <claim-ref idref="CLM-00022">claim 22</claim-ref> wherein interpolating a best focus length from at least three of the focal lengths comprises a quadratic or a Gaussian interpolation.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. A machine-readable symbol reader to read machine-readable symbols carried by targets, the machine-readable symbol reader comprising:
<claim-text>a microfluidic lens assembly having at least one first fluid and a number of electrodes selectively operable to modify a shape of the at least one first fluid;</claim-text>
<claim-text>an optical sensor positioned along an optical axis of the microfluidic lens assembly relatively behind the microfluidic lens assembly with respect to the target;</claim-text>
<claim-text>at least one controller, the controller coupled to cause a selected potential to be applied to at least some of the electrodes of the microfluidic lens assembly to focus images of the target on the optical sensor; and</claim-text>
<claim-text>wherein at least one optical interface element of the lens comprises a second fluid, the first and the second fluids being immiscible fluids of different optical indexes and of substantially same density with second fluid being substantially electrically-conductive and the first fluid being substantially electrically-non-conductive.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, wherein the at least one controller is coupled to receive range finding information from the range finder system and configured to adjust a focal length of the microfluidic lens assembly based on the range finding information.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, wherein the at least one controller is coupled to receive range finding information from the range finder system and configured to determine a focal length for the microfluidic lens assembly based on the determined focal range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, the range finder system comprising a range finder output device selectively operable to produce an output in a defined frequency range in an electromagnetic spectrum and a range finder input device sensitive in the defined frequency range of the electromagnetic spectrum.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>a range finder system positioned to assess a distance between the microfluidic lens assembly and the target, the range finder system comprising a range finder output device selectively operable to produce an output pressure pulse in a defined frequency range and a range finder input device sensitive to pressure pulses in the defined frequency range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, wherein the microfluidic lens assembly comprises a single optical interface element.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>an illumination system, the illumination sources selectively actuatable to produce different intensities of illumination.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>an illumination system comprising a number of illumination sources, where the controller is configured to determine a desired intensity of illumination and coupled to selectively activated a number of the illumination sources to produce desired intensity of illumination.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>a color filter assembly positioned between the target and the optical sensor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. The machine-readable symbol reader of <claim-ref idref="CLM-00024">claim 24</claim-ref>, further comprising:
<claim-text>a Bayer color filter assembly positioned between the target and the optical sensor.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. A method of operating a machine-readable symbol reader to read machine-readable symbols carried by targets, the method comprising:
<claim-text>determining a distance between a microfluidic lens assembly of the machine readable symbol reader and the target;</claim-text>
<claim-text>adjusting a focal length of the microfluidic lens assembly based on the determined distance to the target;</claim-text>
<claim-text>capturing an image of a machine-readable symbol carried by the target;</claim-text>
<claim-text>decoding the machine-readable symbol carried by the target; and</claim-text>
<claim-text>identifying the target in an image before determining the distance between a microfluidic lens assembly of the machine readable symbol reader and the target, wherein identifying the target in an image before determining the distance between a microfluidic lens assembly of the machine readable symbol reader and the target includes:
<claim-text>determining a plurality of sub-windows of the image on which to operate;</claim-text>
<claim-text>determining a subtraction-modulus-difference value for each of a number pixels in horizontally adjacent ones of the sub-windows and for each of a number pixels in vertically adjacent ones of the sub-windows;</claim-text>
<claim-text>aggregating adjacent sub-windows having determined subtraction-modulus-difference values below a defined threshold into a meta window of the image on which to operate;</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at an initial focal length of the microfluidic lens assembly;</claim-text>
<claim-text>adjusting the microfluidic lens assembly to a second focal length;</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at the second focal length of the microfluidic lens assembly;</claim-text>
<claim-text>determining a direction of change in the determined focus values;</claim-text>
<claim-text>repeatedly, adjusting the microfluidic lens assembly at different incremental focal lengths in a space of the image along the same direction in the space, and</claim-text>
<claim-text>determining a focus value corresponding to a focus condition at the different incremental focal lengths until the focus value drops by more than a defined threshold; and</claim-text>
<claim-text>interpolating a best focus length from at least three of the focal lengths.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. The method of <claim-ref idref="CLM-00035">claim 35</claim-ref> wherein adjusting a focal length of the microfluidic lens assembly includes applying a potential to at least one of a number of electrodes.</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. The method of <claim-ref idref="CLM-00035">claim 35</claim-ref> wherein adjusting a focal length of the microfluidic lens assembly includes applying a first potential to at least one of a number of electrodes spaced from a substantially non-conducting fluid by a dielectric, and applying a second potential to a substantially conducting fluid surrounding the first fluid, where the non-conducting fluid and the conducting fluid are immiscible with respect to one another.</claim-text>
</claim>
<claim id="CLM-00038" num="00038">
<claim-text>38. The method of <claim-ref idref="CLM-00035">claim 35</claim-ref> wherein capturing an image of a machine-readable symbol carried by the target includes electronically scanning an optical sensor positioned along an optical axis of the microfluidic lens assembly relatively behind the microfluidic lens assembly with respect to the target.</claim-text>
</claim>
<claim id="CLM-00039" num="00039">
<claim-text>39. The method of <claim-ref idref="CLM-00035">claim 35</claim-ref> wherein determining a distance between a microfluidic lens assembly of the machine readable symbol reader and the target includes emitting energy in a defined range of an electromagnetic spectrum toward the target, and receiving energy in the defined range of the electromagnetic spectrum reflected from the target.</claim-text>
</claim>
<claim id="CLM-00040" num="00040">
<claim-text>40. The method of <claim-ref idref="CLM-00035">claim 35</claim-ref> wherein determining a distance between a microfluidic lens assembly of the machine readable symbol reader and the target includes emitting pressure pulses a defined range of frequencies toward the target, and receiving pressure pulses in the defined range of frequencies reflected from the target.</claim-text>
</claim>
<claim id="CLM-00041" num="00041">
<claim-text>41. The method of <claim-ref idref="CLM-00035">claim 35</claim-ref>, further comprising:
<claim-text>adjusting an output intensity of an illumination system of the machine-readable symbol reader based on at least one of the determined distance between the microfluidic lens assembly and the target and the focal length of the microfluidic lens assembly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00042" num="00042">
<claim-text>42. The method of <claim-ref idref="CLM-00035">claim 35</claim-ref>, further comprising:
<claim-text>minimizing an output intensity of an illumination system of the machine-readable symbol reader based on at least one of the determined distance between the microfluidic lens assembly and the target and the focal length of the microfluidic lens assembly.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00043" num="00043">
<claim-text>43. The method of <claim-ref idref="CLM-00035">claim 35</claim-ref>, further comprising:
<claim-text>accumulating the subtraction-modulus-difference value for at least three different colors.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
