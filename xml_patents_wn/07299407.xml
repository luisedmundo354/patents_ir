<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299407-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299407</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10924447</doc-number>
<date>20040824</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>301</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>17</main-group>
<subgroup>21</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>17</main-group>
<subgroup>24</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>715512</main-classification>
<further-classification>715500</further-classification>
<further-classification>715511</further-classification>
<further-classification>715537</further-classification>
</classification-national>
<invention-title id="d0e53">Marking and annotating electronic documents</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6269189</doc-number>
<kind>B1</kind>
<name>Chanod</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382229</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6551357</doc-number>
<kind>B1</kind>
<name>Madduri</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>715512</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6571295</doc-number>
<kind>B1</kind>
<name>Sidana</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709246</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6728760</doc-number>
<kind>B1</kind>
<name>Fairchild et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709217</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6928425</doc-number>
<kind>B2</kind>
<name>Grefenstette et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>707  2</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2004/0034832</doc-number>
<kind>A1</kind>
<name>Taylor et al.</name>
<date>20040200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>715512</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2004/0078757</doc-number>
<kind>A1</kind>
<name>Golovchinsky et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>715512</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2005/0160355</doc-number>
<kind>A1</kind>
<name>Cragun et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>715512</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00009">
<othercit>Kahan et al., “Annotea: An Open RDF Infrastructure for Shared Web Annotations”. 2001, ACM, pp. 623-632.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00010">
<othercit>Microsoft Corporation, Microsoft Help files on “History” for Internet Explorer version 6.0, published in 2001.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
</references-cited>
<number-of-claims>3</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>715500</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>715511</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>715512</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>715537</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>6</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060048046</doc-number>
<kind>A1</kind>
<date>20060302</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Joshi</last-name>
<first-name>Mukul Madhular</first-name>
<address>
<city>Pune</city>
<country>IN</country>
</address>
</addressbook>
<nationality>
<country>IN</country>
</nationality>
<residence>
<country>IN</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Mohania</last-name>
<first-name>Mukesh Kumar</first-name>
<address>
<city>New Delhi</city>
<country>IN</country>
</address>
</addressbook>
<nationality>
<country>IN</country>
</nationality>
<residence>
<country>IN</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Gibb &amp; Rahman, LLC</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>International Business Machines Corporation</orgname>
<role>02</role>
<address>
<city>Armonk</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Hong</last-name>
<first-name>Stephen</first-name>
<department>2178</department>
</primary-examiner>
<assistant-examiner>
<last-name>Campbell</last-name>
<first-name>Joshua D</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A user can highlight text and provide accompanying annotations. Highlighted text, accompanying annotations, and time-stamp information are stored in a user profile that is maintained locally with a web browser, at the client side. A retrieved web page is presented to a user with annotations of some form, based upon the user profile. The retrieved web page may typically be annotated through marked or highlighted portions of text, so that the user can readily locate this information in the web page, and assess the relevance of the retrieved page.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="149.44mm" wi="144.19mm" file="US07299407-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="177.72mm" wi="160.44mm" file="US07299407-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="228.43mm" wi="104.22mm" orientation="landscape" file="US07299407-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="190.58mm" wi="156.80mm" file="US07299407-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="232.07mm" wi="170.69mm" file="US07299407-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="191.01mm" wi="153.16mm" file="US07299407-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="211.58mm" wi="156.21mm" file="US07299407-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0002" num="0001">The present invention relates to marking and annotating electronic documents, such as Web pages, based on a user's highlighted preferences history.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Web personalization involves tailoring Web content directly to a specific user. This can be accomplished by having the user provide information to the Web site directly, or through tracking of the user's behavior on the site. The software on the Web site then can modify the content to suit the particular user's needs. That is, all the personalization is done at the Web site.</p>
<p id="p-0004" num="0003">Typically, a Web site maintains profiles of the users that visits the site, and analyzes the information gathered. Based on this analysis, information of interest to each user is delivered.</p>
<p id="p-0005" num="0004">Explicit or implicit profiling techniques can be used to collect user information, either alone or in combination. Explicit profiling involves asking each user to complete a questionnaire or similar, while implicit profiling involves tracking the behavior of each user, and drawing inferences from such observed behavior.</p>
<p id="p-0006" num="0005">One form of implicit profiling involves the use of “cookies” that are stored at the browser and updated at each visit, and record browsing patterns.</p>
<p id="p-0007" num="0006">To present appropriate content to the user and make proper recommendation, rule-based techniques or filtering techniques can be used. Filtering techniques may involve simple filtering, content-based filtering and collaborative filtering. Collaborative-filtering software compares the information gained about one user's behavior against data about other users with similar interests.</p>
<p id="p-0008" num="0007">None of the techniques described above are entirely satisfactory. Consequently, techniques are sought that have application in navigating electronic content.</p>
<heading id="h-0003" level="1">SUMMARY</heading>
<p id="p-0009" num="0008">A user's interest in a recently viewed web page can be determined automatically from that user's highlighted text and annotation history profiled from the previously viewed web pages. Such annotations typically constitute marked or highlighted portions of text, accompanying comments, or other forms of annotation. This annotation information is maintained in a user profile at the client side. A retrieved web page is presented to a user with annotations of some form, based upon the viewer's user profile. The retrieved web page may typically be annotated through marked or highlighted portions of text, so that the user can readily locate this information in the web page, and assess the relevance of the retrieved page.</p>
<p id="p-0010" num="0009">A context for the highlighted information is obtained by annotating the text, and can be presented to the user along with the text. A web page presented to the user is marked to indicate the information of interest. When a user rolls the mouse over this text, the annotation is shown at the mouse position. This is the context that applies to the text, which indicates to the user the broad topic to which the marked text relates. Ontology can be represented in any form, and can be stored as a database, and represents relationships between words. A word-net can be used to enhance this gathered information. Information concerning the user's interest can be presented to the user without the need for server-side processing.</p>
<p id="p-0011" num="0010">Highlighted text, accompanying comments, and time-stamp information are stored in a user profile that is maintained locally with the browser, at the client side. The user profile is updated as the user visits new pages and annotates these web pages. When a user accesses a new web page, text in this page that is, for example, similar to the text stored in the user profile, is automatically marked. Other annotations can also be assigned. Since the marking occurs at the client side, profiles can be shared and used across different sites the user visits.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">DESCRIPTION OF DRAWINGS</heading>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic representation of a system architecture for annotating electronic documents.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic representation of components of a preference-enable text marker.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3</figref> is a schematic representation of a computer interface having a dialog box for prompting a user to annotate text.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4</figref> is Javascript code that can be added to a Web page to faciliate annotation of the highlighted text on the Web page.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 5</figref> is a schematic representation of a computer interface indicating information of interest to a user.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 6</figref> is a schematic representation of a computer system suitable for operating the described computer interfaces.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> schematically represents an architecture of the described system. A Web Browser <b>100</b> is enabled to create and update a User Profile <b>130</b> based on highlighted and annotated text of previous web pages. The Web Browser <b>100</b> then marks the text in the retrieved Web Page <b>150</b> based on the User Profile <b>130</b>. The marked Web Page <b>150</b> is presented to the user by the Web Browser <b>100</b>.</p>
<p id="p-0019" num="0018">The system architecture of <figref idref="DRAWINGS">FIG. 1</figref> has five components that supplement the Web Browser <b>100</b>, namely, User Manager <b>110</b>, Event Listener and Text Extractor <b>112</b>, Annotator <b>114</b>, Profile Manager <b>116</b> and Preference Enabled Text Marker <b>118</b> that supplement the functionality of a conventional web browser. Each of these components is described in turn below. <figref idref="DRAWINGS">FIG. 2</figref> schematically represents components of the Preference Enabled Text Marker <b>118</b>, described in further detail below.</p>
<p id="p-0020" num="0019">User Manager: The main function of the User Manager <b>110</b> is to identify the “userid” of the “logged on” user. The User Manager <b>110</b> also creates a User Profile <b>130</b>, if a User Profile <b>130</b> does not already exist. Each user has their own User Profile <b>130</b> that stores their preferences. The User Manager <b>110</b> maintains the privacy of each user. The security and privacy of the User Profile <b>130</b> can be maintained using the file system user privileges provided by the operating system. If the operating system does not provide a way to identify the user, then the system can maintain a single User Profile <b>130</b> that is common to all the users of that particular instance of the Web Browser <b>100</b>.</p>
<p id="p-0021" num="0020">Event Listener and Text Extractor: The Event Listener and Text Extractor <b>112</b> listens to the “mouse-dragged” event. This operating system event gets fired whenever a user highlights particular text in a web page. When the event is fired the Event Listener and Text Extractor <b>112</b> extracts the highlighted text from the web page and sends the text string to the Annotator <b>114</b>, which is described directly below.</p>
<p id="p-0022" num="0021">Annotator: The Annotator <b>114</b> enables the user to annotate the user's highlighted text. This allows the user to associate the context with the highlighted text. When the user annotates a text, the user's annotating comments may either summarize the text or disambiguate the text. This is what meant by giving a context to the text of interest to the user. For example, a particular text about networking might be of interest to one user because the text is about wireless networking, for another user the text may be interesting since the text is about security. So when the user annotates the text with words “network security”, this is the context in which the user looking for further information. Therefore, a particular text might be relevant within different contexts, i.e., the text can have different meanings depending upon how the text is used. Thus, annotation helps the system to distinguish between different possible meanings of the text. The second use of annotation is to summarize a text. For example, the user visits page “A” and highlights the text “optimized to manage large collections of smaller objects such as statements and reports and checks” appearing on page “A”. The system does not in his case receive any information concerning what the information is about. Annotator <b>114</b>, however, allow the user to mark this information with the annotation of “content manager”. Now the system can make use of the annotation to find the information of the user interest in the pages that talk about “content manager”. Once the highlighted text is annotated, if any, then the Annotator <b>114</b> passes the highlighted text along with accompanying annotation to the Profile Manager <b>116</b>.</p>
<p id="p-0023" num="0022">Profile Manager: Profile Manager <b>116</b> receives the annotated highlighted text from the Annotator <b>114</b>. Profile Manager <b>116</b> obtains the file system location of the User Profile <b>130</b> from the User Manager <b>110</b>. Profile Manager <b>116</b> then stores this highlighted text along with the associated annotation in the User Profile <b>130</b>. Table 1 below presents the format of the User Profile <b>130</b>.</p>
<p id="p-0024" num="0023">
<tables id="TABLE-US-00001" num="00001">
<table frame="none" colsep="0" rowsep="0">
<tgroup align="left" colsep="0" rowsep="0" cols="1">
<colspec colname="1" colwidth="217pt" align="center"/>
<thead>
<row>
<entry namest="1" nameend="1" rowsep="1">TABLE 1</entry>
</row>
</thead>
<tbody valign="top">
<row>
<entry namest="1" nameend="1" align="center" rowsep="1"/>
</row>
<row>
<entry>Format of User Profile 130</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="4">
<colspec colname="1" colwidth="63pt" align="center"/>
<colspec colname="2" colwidth="49pt" align="center"/>
<colspec colname="3" colwidth="56pt" align="center"/>
<colspec colname="4" colwidth="49pt" align="center"/>
<tbody valign="top">
<row>
<entry/>
<entry/>
<entry>Timestamp of</entry>
<entry>Timestamp of</entry>
</row>
<row>
<entry>Highlighted Text</entry>
<entry>\Annotation</entry>
<entry>highlighting</entry>
<entry>Expiry</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
<row>
<entry>...................</entry>
<entry>...................</entry>
<entry>...................</entry>
<entry/>
</row>
<row>
<entry>...................</entry>
<entry>...................</entry>
<entry>...................</entry>
</row>
<row>
<entry>...................</entry>
<entry>...................</entry>
<entry>...................</entry>
</row>
<row>
<entry namest="1" nameend="4" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0025" num="0024">As shown in Table 1 above, the User Profile <b>130</b> stores the time when the user highlighted and annotated the relevant text. The fourth row indicates the “life” of each entry in the User Profile <b>130</b> (that is, each highlighted text and its annotation). An “Expiry date” can be used to avoid maintaining the history beyond certain time.</p>
<p id="p-0026" num="0025">The user can set a system parameter that controls how much past history is considered when marking a Web Page <b>150</b>. The Profile Manager <b>116</b> uses this parameter to compute the Timestamp of Expiry for the User Profile <b>130</b> entry. Suppose the user sets the parameters to indicate that the user is interested in keeping the history for 30 days. If an entry is made in the user profile, for page A on 1 Jan. 12 p.m. 30 days time is added to the time when the entry is inserted. This is the time of expiry. Time of expiry is 31 Jan. 12.00 pm. Now, on 10 Jan. the user again changes the parameter to contain 20 days of history. The time of expiry for page A is updated by adding 20 days to timestamp of highlighting. Alternatively, after highlighting and annotating the user can be prompted to provide the time duration for which the information is to persist in the User Profile <b>130</b>. The expiry time for the information is then calculated and stored in the User Profile <b>130</b> along with the other information. Profile Manager <b>116</b> runs a maintenance algorithm that removes entries in the User Profile <b>130</b> that are expired.</p>
<p id="p-0027" num="0026">Preference-Enabled Text Marker: The Preference Enabled Text Marker <b>118</b> receives web pages from the HTTP client <b>119</b> in the Web Browser <b>100</b>, which in turn retrieves web pages from the Web Server <b>120</b>. The Preference Enabled Text Marker <b>118</b> presents web pages to the user in such a way that the information is highlighted and annotated automatically. This highlighting and annotation is based upon the User Profile <b>130</b>, which contains the history of the highlighted text and annotations from the previously browsed pages. <figref idref="DRAWINGS">FIG. 2</figref> schematically represents different components of the Preference Enabled Text Marker <b>118</b>.</p>
<p id="p-0028" num="0027">Various steps performed by the Preference Enabled Text Marker <b>118</b> are now described with reference to the components of the Preference Enabled Text Marker <b>118</b> depicted in <figref idref="DRAWINGS">FIG. 2</figref>. Let LA be a list of all annotations (List of Annotations) in the User Profile <b>130</b>, let T<sub>i </sub>be the list of all highlighted text available in the user profile for annotation α<sub>i</sub>, and let S<sub>i </sub>be the list of synonyms of annotation α<sub>i</sub>. Table 2 below presents an algorithm performed by the Preference Enabled Text Marker <b>118</b>.</p>
<p id="p-0029" num="0028">
<tables id="TABLE-US-00002" num="00002">
<table frame="none" colsep="0" rowsep="0" pgwide="1">
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="21pt" align="left"/>
<colspec colname="2" colwidth="238pt" align="left"/>
<thead>
<row>
<entry namest="1" nameend="2" rowsep="1">TABLE 2</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</thead>
<tbody valign="top">
<row>
<entry>1.</entry>
<entry>A page W retrieved by the HTTP client 119 from the Web Server 120 is provided</entry>
</row>
<row>
<entry/>
<entry>to the Profiler 216.</entry>
</row>
<row>
<entry>2.</entry>
<entry>The Profiler 216 then reads the User Profile 130 of that user and retrieves LA</entry>
</row>
<row>
<entry>3.</entry>
<entry>For each annotation a<sub>i </sub>in the list LA</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="21pt" align="left"/>
<colspec colname="2" colwidth="21pt" align="left"/>
<colspec colname="3" colwidth="217pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>a.</entry>
<entry>Profiler 216 retrieves a list of all the corresponding highlighted</entry>
</row>
<row>
<entry/>
<entry/>
<entry>text entries T<sub>i</sub>.</entry>
</row>
<row>
<entry/>
<entry>b.</entry>
<entry>Profiler 216 queries an Ontology Plug-in 140 to get S<sub>i</sub>.</entry>
</row>
<row>
<entry/>
<entry>c.</entry>
<entry>Profiler 216 passes S<sub>i</sub>, T<sub>i</sub>, a<sub>i </sub>and W to the Match Finder 212.</entry>
</row>
<row>
<entry/>
<entry>d.</entry>
<entry>Match Finder 212 passes T<sub>i </sub>and W to Pattern Locator 210.</entry>
</row>
<row>
<entry/>
<entry>e.</entry>
<entry>Pattern Locator 210 finds the position of each text element of</entry>
</row>
<row>
<entry/>
<entry/>
<entry>T<sub>i </sub>in W, and returns back a list denoted by P<sub>i </sub>of position pairs</entry>
</row>
<row>
<entry/>
<entry/>
<entry>&lt;b<sub>i</sub>, e<sub>i</sub>&gt; providing beginning and ending positions of the</entry>
</row>
<row>
<entry/>
<entry/>
<entry>sentence in the retrieved web page in which the strings were</entry>
</row>
<row>
<entry/>
<entry/>
<entry>approximately matched.</entry>
</row>
<row>
<entry/>
<entry>f.</entry>
<entry>Match Finder 212 stores this list P<sub>i </sub>and then passes S<sub>i</sub>, a<sub>i </sub>and W</entry>
</row>
<row>
<entry/>
<entry/>
<entry>to the Pattern Locator 210.</entry>
</row>
<row>
<entry/>
<entry>g.</entry>
<entry>Pattern Locator 210 performs exact string matching for each of</entry>
</row>
<row>
<entry/>
<entry/>
<entry>the string in S<sub>i </sub>and a<sub>i </sub>in W. Pattern Locator 210 returns back a</entry>
</row>
<row>
<entry/>
<entry/>
<entry>list denoted P<sub>j </sub>of position pairs &lt;b<sub>i</sub>, e<sub>i</sub>&gt; of the beginning and</entry>
</row>
<row>
<entry/>
<entry/>
<entry>ending positions of the sentence in the retrieved web page in</entry>
</row>
<row>
<entry/>
<entry/>
<entry>which the strings were exactly matched.</entry>
</row>
<row>
<entry/>
<entry>h.</entry>
<entry>Match Finder 212 now merges P<sub>i </sub>and P<sub>j </sub>and removes</entry>
</row>
<row>
<entry/>
<entry/>
<entry>duplicates, if there are any. For each entry &lt;b<sub>i</sub>, e<sub>i</sub>&gt; in this</entry>
</row>
<row>
<entry/>
<entry/>
<entry>merged list, Match Finder 212 augments the annotation a<sub>i </sub>and</entry>
</row>
<row>
<entry/>
<entry/>
<entry>stores the resulting triplet &lt;b<sub>i</sub>, e<sub>i</sub>, a<sub>i</sub>&gt; in pattern list LP.</entry>
</row>
<row>
<entry/>
<entry>i.</entry>
<entry>Match Finder 212 sends a signal to Profiler 216 that Match</entry>
</row>
<row>
<entry/>
<entry/>
<entry>Finder 212 has updated the pattern list for annotation a<sub>i</sub>.</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="21pt" align="left"/>
<colspec colname="2" colwidth="238pt" align="left"/>
<tbody valign="top">
<row>
<entry>4.</entry>
<entry>Profiler 216 sends a signal to Match Finder 212 that all the annotations have</entry>
</row>
<row>
<entry/>
<entry>been processed and sends it W and LA.</entry>
</row>
<row>
<entry>5.</entry>
<entry>Match Finder 212 then sends W, LA and pattern list LP to the Page Composer</entry>
</row>
<row>
<entry/>
<entry>214.</entry>
</row>
<row>
<entry>6.</entry>
<entry>Page Composer 214 performs the following steps</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="3">
<colspec colname="1" colwidth="21pt" align="left"/>
<colspec colname="2" colwidth="21pt" align="left"/>
<colspec colname="3" colwidth="217pt" align="left"/>
<tbody valign="top">
<row>
<entry/>
<entry>a.</entry>
<entry>For each a<sub>i </sub>in LA. Page Composer 214 assigns a unique combination of</entry>
</row>
<row>
<entry/>
<entry/>
<entry>foreground and background colors.</entry>
</row>
<row>
<entry/>
<entry>b.</entry>
<entry>For each triplet &lt;b<sub>i</sub>, e<sub>i</sub>, a<sub>i</sub>&gt; in LP, the Page Composer 214 obtains the</entry>
</row>
<row>
<entry/>
<entry/>
<entry>starting position b<sub>i </sub>and ending position e<sub>i </sub>of the sentence in the Web</entry>
</row>
<row>
<entry/>
<entry/>
<entry>page and then inserts Hypertext Markup Language (HTML) tags at the</entry>
</row>
<row>
<entry/>
<entry/>
<entry>starting and ending position so that the text of the sentence appears in</entry>
</row>
<row>
<entry/>
<entry/>
<entry>bold with the foreground and background colors corresponding to a<sub>i</sub>.</entry>
</row>
<row>
<entry/>
<entry/>
<entry>This operation performs the marking for the text matching with the</entry>
</row>
<row>
<entry/>
<entry/>
<entry>user's preferences. Also Page Composer 214 inserts a special tag so that</entry>
</row>
<row>
<entry/>
<entry/>
<entry>the annotation a<sub>i </sub>is shown as a “tip” when user rolls the mouse over the</entry>
</row>
<row>
<entry/>
<entry/>
<entry>sentence text.</entry>
</row>
</tbody>
</tgroup>
<tgroup align="left" colsep="0" rowsep="0" cols="2">
<colspec colname="1" colwidth="21pt" align="left"/>
<colspec colname="2" colwidth="238pt" align="left"/>
<tbody valign="top">
<row>
<entry>7.</entry>
<entry>The Page Composer 214 then presents this modified page to the user.</entry>
</row>
<row>
<entry namest="1" nameend="2" align="center" rowsep="1"/>
</row>
</tbody>
</tgroup>
</table>
</tables>
</p>
<p id="p-0030" num="0029">The Pattern Locator <b>210</b> used by the Preference Enabled Text Marker <b>118</b> uses a module to perform approximate string matching in step 3e of Table 2, using any suitable approximate string matching algorithm. A suitable algorithm is described in Cole, R., Hariharan, R., “Approximate String Matching: A simpler faster algorithm”, <i>SIAM Journal on Computing</i>, Volume 31, Number 6, pages 1761-1782, 2002, the content of which is hereby incorporated by reference.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 3</figref> schematically represents a typical user experience while using the system. A user interface window <b>310</b> displays text <b>340</b>. When a user highlights a portion of text <b>350</b>, Event Listener and Text Extractor <b>112</b> is activated and extracts the highlighted text, which is passed to the Annotator <b>114</b>. Annotator <b>114</b> then prompts the user to provide an accompanying comment <b>330</b> for the highlighted text <b>350</b> using a dialog box <b>320</b>.</p>
<p id="h-0006" num="0000">Web Browser Implementations</p>
<p id="p-0032" num="0031">A web browser having the functionality described herein can be constructed by adding appropriate components to a conventional browser. The browser needs to read the User Profile <b>130</b>, which is created by the user. The user appropriately creates the User Profile <b>130</b> in the right (system) directory structure with the right schema so that the browser can read the User Profile <b>130</b>, and take appropriate action in marking and annotating documents automatically.</p>
<p id="p-0033" num="0032">Alternatively, an implementation can be achieved without adding components to a Web browser, but by achieving equivalent functionality using code embedded in the actual Web pages. <figref idref="DRAWINGS">FIG. 4</figref> presents Javascript code, which is interpreted by compatible browsers, and which can be used for this purpose.</p>
<p id="p-0034" num="0033">The web page is downloaded, and the User Manager <b>110</b> is invoked to identify the user and the appropriate user profile location. Javascript code can be added to the web page to provide the simulation for the Event Listener and Text Extractor <b>112</b>, Annotator <b>114</b> and Profile Manager <b>116</b>. The “Preference Enabled Text Marker” algorithm described above is then applied to the page, and the page is presented to the user through a web browser.</p>
<p id="p-0035" num="0034">A maintenance algorithm, which removes entries in the User Profile <b>130</b>, is activated by the Profile Manager <b>116</b> and runs as a daemon in the background. To understand the working of the simulator, assume that the user “xyz” starts using the simulated system for the first time. The User Manager <b>110</b> identifies the user and creates the User Profile <b>130</b>. Initially, the User Profile <b>130</b> is empty. If the user wants to browse the page www.abc.com the browser downloads the relevant page. The Javascript code of <figref idref="DRAWINGS">FIG. 4</figref> is added to the downloaded page, either by including appropriate Javascript to the downloaded web page, or by using a suitable browser plugin for the browser.</p>
<p id="p-0036" num="0035">Since the user is using the system for the first time, the code for the “Preference Enabled Text Marker” presents the page to the user without alteration. When the user highlights and annotates information in this presented page, these annotations are stored in the User Profile <b>130</b>. When the user sends a request to the simulator to browse another page, the same steps as mentioned above are carried out for this requested page. When the page is passed to Preference Enabled Text Marker <b>118</b>, this page is passed to its various components and the simulator presents the final composed page to the user.</p>
<p id="h-0007" num="0000">Annotations to Browsed Documents</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 5</figref> represents a page in which annotations are made based upon a user profile. In this example, when the user brings the mouse on top of the first line of text, a entry “Data Warehouse” is displayed as the highlighted line is annotated by “Data Warehouse” in <figref idref="DRAWINGS">FIG. 3</figref>, as recorded in the User Profile <b>130</b>. In <figref idref="DRAWINGS">FIG. 3</figref>, the user annotates this same text, which is associated with this annotation in the User Profile <b>130</b>. When a new page is fetched, the User Profile <b>130</b> is automatically applied on the fetched page and the text is automatically highlighted and annotated.</p>
<p id="h-0008" num="0000">Computer Hardware</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 6</figref> is a schematic representation of a computer system <b>600</b> of a type that is suitable for executing computer software for annotating electronic documents in the manner described herein. Computer software executes under a suitable operating system installed on the computer system <b>600</b>, and may be thought of as comprising various software code means for achieving particular steps.</p>
<p id="p-0039" num="0038">The components of the computer system <b>600</b> include a computer <b>620</b>, a keyboard <b>610</b> and mouse <b>615</b>, and a video display <b>690</b>. The computer <b>620</b> includes a processor <b>640</b>, a memory <b>650</b>, input/output (I/O) interfaces <b>660</b>, <b>665</b>, a video interface <b>645</b>, and a storage device <b>655</b>.</p>
<p id="p-0040" num="0039">The processor <b>640</b> is a central processing unit (CPU) that executes the operating system and the computer software executing under the operating system. The memory <b>650</b> includes random access memory (RAM) and read-only memory (ROM), and is used under direction of the processor <b>640</b>.</p>
<p id="p-0041" num="0040">The video interface <b>645</b> is connected to video display <b>690</b> and provides video signals for display on the video display <b>690</b>. User input to operate the computer <b>620</b> is provided from the keyboard <b>610</b> and mouse <b>615</b>. The storage device <b>655</b> can include a disk drive or any other suitable storage medium.</p>
<p id="p-0042" num="0041">Each of the components of the computer <b>620</b> is connected to an internal bus <b>630</b> that includes data, address, and control buses, to allow components of the computer <b>620</b> to communicate with each other via the bus <b>630</b>.</p>
<p id="p-0043" num="0042">The computer system <b>600</b> can be connected to one or more other similar computers via a input/output (I/O) interface <b>665</b> using a communication channel <b>685</b> to a network, represented as the Internet <b>680</b>.</p>
<p id="p-0044" num="0043">The computer software may be recorded on a portable storage medium, in which case, the computer software program is accessed by the computer system <b>600</b> from the storage device <b>655</b>. Alternatively, the computer software can be accessed directly from the Internet <b>680</b> by the computer <b>620</b>. In either case, a user can interact with the computer system <b>600</b> using the keyboard <b>610</b> and mouse <b>615</b> to operate the programmed computer software executing on the computer <b>620</b>.</p>
<p id="p-0045" num="0044">Other configurations or types of computer systems can be equally well used to execute computer software that assists in implementing the techniques described herein.</p>
<p id="p-0046" num="0045">Various alterations and modifications can be made to the techniques and arrangements described herein, as would be apparent to one skilled in the relevant art.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>We claim:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for marking and annotating an electronic document, said method comprising:
<claim-text>at a client side, a user highlighting text in a web page, and providing comments accompanying the highlighted text in order to provide a user context of said highlighted text, relating to user interests in a first electronic document;</claim-text>
<claim-text>a text extractor extracting the highlighted text from said web page and creating text strings associated with said highlighted text;</claim-text>
<claim-text>said text extractor sending said text string to an annotator;</claim-text>
<claim-text>said user using said annotator to annotate said text relating to said user interests, wherein said annotating comprises using said user context of said highlighted text to distinguish between different possible meanings of said highlighted text;</claim-text>
<claim-text>storing the annotations, the highlighted text, and the accompanying comments at said client side as a user profile based upon said annotations;</claim-text>
<claim-text>retrieving said web page by a hypertext transfer protocol (HTTP) client via a web server;</claim-text>
<claim-text>providing said web page to a profiler;</claim-text>
<claim-text>said profiler reading said user profiler established for a particular user;</claim-text>
<claim-text>said profiler retrieving a list of all annotations in said user profiler;</claim-text>
<claim-text>for each annotation in said list, said profiler:
<claim-text>retrieving a list of all corresponding highlighted text; and</claim-text>
<claim-text>querying an ontology plug-in component to retrieve a list of all synonyms for said each annotation;</claim-text>
</claim-text>
<claim-text>said profiler passing said list of all synonyms, said list of all corresponding highlighted text, said each annotation, and said web page to a match finder;</claim-text>
<claim-text>said match finder passing said list of all corresponding highlighted text and said web page to a pattern locator;</claim-text>
<claim-text>said pattern locator finding a position of each text element of said list of all corresponding highlighted text in said web page;</claim-text>
<claim-text>said pattern locator returning back a first list of position pairs providing beginning and ending positions of a sentence in the retrieved web page in which said text strings were approximately matched;</claim-text>
<claim-text>said match finder storing said first list of position pairs;</claim-text>
<claim-text>said match finder passing said list of all synonyms, said each annotation, and said web page to said pattern locator;</claim-text>
<claim-text>said pattern locator performing an exact string matching process for each of the strings in all synonyms and said each annotation in said web page;</claim-text>
<claim-text>said pattern locator returning back a second list of position pairs providing beginning and ending positions of a sentence in said retrieved web page in which said text strings were exactly matched;</claim-text>
<claim-text>said match finder merging said first list of position pairs and said second list of position pairs and removing duplicate entries in the merged list;</claim-text>
<claim-text>for each entry in said merged list, said match finder augmenting said each annotation and storing a resulting triplet in a pattern list;</claim-text>
<claim-text>said match finder sending a signal to said profiler that said match finder has updated said pattern list for said each annotation;</claim-text>
<claim-text>said profiler sending a signal to said match finder that all annotations have been processed;</claim-text>
<claim-text>said profiler sending said match finder said web page and said list of all annotations;</claim-text>
<claim-text>said match finder sending said web page, said list of all annotations, and said pattern list to a page composer; and</claim-text>
<claim-text>said page composer performing:
<claim-text>for each annotation in said list of all annotations, assigning a unique combination of foreground and background colors;</claim-text>
<claim-text>for each said triplet in said pattern list, obtaining a starting position and ending position of the sentence in said web page and then inserting Hypertext Markup Language (HTML) tags at the starting and ending positions so that the text of said sentence appears in bold with said foreground and background colors corresponding to said annotation;</claim-text>
<claim-text>inserting a tag so that said annotation is shown as a tip when a user rolls a mouse over the sentence text; and</claim-text>
<claim-text>presenting a modified web page to said user.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A computer program product for annotating an electronic document comprising computer software recorded on a computer-readable medium for performing a method for marking and annotating an electronic document, said method composing:
<claim-text>at a client side, a user highlighting text in a web page, and providing comments accompanying the highlighted text in order to provide a user context of said highlighted text, relating to user interests in a first electronic document;</claim-text>
<claim-text>a text extractor extracting the highlighted text from said web page and creating text strings associated with said highlighted text;</claim-text>
<claim-text>said text extractor sending said text string to an annotator;</claim-text>
<claim-text>said user using said annotator to annotate said text relating to said user interests, wherein said annotating comprises using said user context of said highlighted text to distinguish between different possible meanings of said highlighted text;</claim-text>
<claim-text>storing the annotations, the highlighted text, and the accompanying comments at said client side as a user profile based upon said annotations;</claim-text>
<claim-text>retrieving said web page by a hypertext transfer protocol (HTTP) client via a web server;</claim-text>
<claim-text>providing said web page to a profiler;</claim-text>
<claim-text>said profiler reading said user profiler established for a particular user;</claim-text>
<claim-text>said profiler retrieving a list of all annotations in said user profiler;</claim-text>
<claim-text>for each annotation in said list, said profiler:
<claim-text>retrieving a list of all corresponding highlighted text; and</claim-text>
<claim-text>querying an ontology plug-in component to retrieve a list of all synonyms for said each annotation;</claim-text>
</claim-text>
<claim-text>said profiler passing said list of all synonyms, said list of all corresponding highlighted text, said each annotation, and said web page to a match finder;</claim-text>
<claim-text>said match finder passing said list of all corresponding highlighted text and said web page to a pattern locator;</claim-text>
<claim-text>said pattern locator finding a position of each text element of said list of all corresponding highlighted text in said web page;</claim-text>
<claim-text>said pattern locator returning back a first list of position pairs providing beginning and ending positions of a sentence in the retrieved web page in which said text strings were approximately matched;</claim-text>
<claim-text>said match finder storing said first list of position pairs;</claim-text>
<claim-text>said match finder passing said list of all synonyms, said each annotation, and said web page to said pattern locator;</claim-text>
<claim-text>said pattern locator performing an exact string matching process for each of the strings in all synonyms and said each annotation in said web page;</claim-text>
<claim-text>said pattern locator returning back a second list of position pairs providing beginning and ending positions of a sentence in said retrieved web page in which said text strings were exactly matched;</claim-text>
<claim-text>said match finder merging said first list of position pairs and said second list of position pairs and removing duplicate entries in the merged list;</claim-text>
<claim-text>for each entry in said merged list, said match finder augmenting said each annotation and storing a resulting triplet in a pattern list;</claim-text>
<claim-text>said match finder sending a signal to said profiler that said match finder has updated said pattern list for said each annotation;</claim-text>
<claim-text>said profiler sending a signal to said match finder that all annotations have been processed;</claim-text>
<claim-text>said profiler sending said match finder said web page and said list of all annotations;</claim-text>
<claim-text>said match finder sending said web page, said list of all annotations, and said pattern list to a page composer; and</claim-text>
<claim-text>said page composer performing:
<claim-text>for each annotation in said list of all annotations, assigning a unique combination of foreground and background colors;</claim-text>
<claim-text>for each said triplet in said pattern list, obtaining a starting position and ending position of the sentence in said web page and then inserting Hypertext Markup Language (HTML) tags at the starting and ending positions so that the text of said sentence appears in bold with said foreground and background colors corresponding to said annotation;</claim-text>
<claim-text>inserting a tag so that said annotation is shown as a tip when a user rolls a mouse over the sentence text; and</claim-text>
<claim-text>presenting a modified web page to said user.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A computer system for annotating electronic documents comprising computer software recorded on a computer-readable medium, said computer system comprising:
<claim-text>a client side comprising a user highlighting text in a web page and providing comments accompanying the highlighted text in order to provide a user context of said highlighted text, relating to user interests in a first electronic document;</claim-text>
<claim-text>a text extractor extracting the highlighted text from said web page and creating text strings associated with said highlighted text;</claim-text>
<claim-text>said text extractor sending said text string to an annotator;</claim-text>
<claim-text>said user using said annotator to annotate said text relating to said user interests, wherein said annotating comprises using said user context of said highlighted text to distinguish between different possible meanings of said highlighted text;</claim-text>
<claim-text>a user profile adapted to store the annotations, the highlighted text, and the accompanying comments based upon said annotations;</claim-text>
<claim-text>a hypertext transfer protocol (HTTP) client adapted to retrieve said web page by via a web server;</claim-text>
<claim-text>a profiler adapted to receive said web page, wherein said profiler is adapted to:
<claim-text>read said user profiler established for a particular user;</claim-text>
<claim-text>retrieve a list of all annotations in said user profiler;</claim-text>
<claim-text>for each annotation in said list, said profiler further adapted to:
<claim-text>retrieve a list of all corresponding highlighted text; and</claim-text>
<claim-text>query an ontology plug-in component to retrieve a list of all synonyms for said each annotation;</claim-text>
</claim-text>
<claim-text>pass said list of all synonyms, said list of all corresponding highlighted text, said each annotation, and said web page to a match finder;</claim-text>
</claim-text>
<claim-text>wherein said match finder is adapted to pass said list of all corresponding highlighted text and said web page to a pattern locator;</claim-text>
<claim-text>wherein said pattern locator is adapted to:
<claim-text>find a position of each text element of said list of all corresponding highlighted text in said web page; and</claim-text>
<claim-text>return back a first list of position pairs providing beginning and ending positions of a sentence in the retrieved web page in which said text strings were approximately matched;</claim-text>
</claim-text>
<claim-text>wherein said match finder is adapted to store said first list of position pairs;</claim-text>
<claim-text>said match finder passing said list of all synonyms, said each annotation, and said web page to said pattern locator;</claim-text>
<claim-text>wherein said pattern locator is further adapted to:
<claim-text>perform an exact string matching process for each of the strings in all synonyms and said each annotation in said web page;</claim-text>
<claim-text>return back a second list of position pairs providing beginning and ending positions of a sentence in said retrieved web page in which said text strings were exactly matched;</claim-text>
</claim-text>
<claim-text>wherein said match finder is further adapted to:
<claim-text>merge said first list of position pairs and said second list of position pairs and removing duplicate entries in the merged list;</claim-text>
<claim-text>for each entry in said merged list, augment said each annotation and storing a resulting triplet in a pattern list;</claim-text>
<claim-text>send a signal to said profiler that said match finder has updated said pattern list for said each annotation;</claim-text>
</claim-text>
<claim-text>wherein said profiler is further adapted to:
<claim-text>send a signal to said match finder that all annotations have been processed;</claim-text>
<claim-text>send said match finder said web page and said list of all annotations;</claim-text>
</claim-text>
<claim-text>wherein said match finder is further adapted to send said web page, said list of all annotations, and said pattern list to a page composer;</claim-text>
<claim-text>wherein said page composer is adapted to:
<claim-text>for each annotation in said list of all annotations, assign a unique combination of foreground and background colors;</claim-text>
<claim-text>for each said triplet in said pattern list, obtain a starting position and ending position of the sentence in said web page and then inserting Hypertext Markup Language (HTML) tags at the starting and ending positions so that the text of said sentence appears in bold with said foreground and background colors corresponding to said annotation;</claim-text>
<claim-text>insert a tag so that said annotation is shown as a tip when a user rolls a mouse over the sentence text; and</claim-text>
<claim-text>present a modified web page to said user.</claim-text>
</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
