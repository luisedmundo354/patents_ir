<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298102-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298102</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10977293</doc-number>
<date>20041029</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>02</class>
<subclass>P</subclass>
<main-group>5</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>B</section>
<class>60</class>
<subclass>K</subclass>
<main-group>6</main-group>
<subgroup>00</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>318139</main-classification>
<further-classification>318138</further-classification>
<further-classification>318140</further-classification>
<further-classification>320104</further-classification>
</classification-national>
<invention-title id="d0e43">Electric drive system having DC bus voltage control</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6175217</doc-number>
<kind>B1</kind>
<name>Da Ponte et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>322 19</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6323608</doc-number>
<kind>B1</kind>
<name>Ozawa</name>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>318139</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6388421</doc-number>
<kind>B2</kind>
<name>Abe</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320104</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6487096</doc-number>
<kind>B1</kind>
<name>Gilbreth et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6583519</doc-number>
<kind>B2</kind>
<name>Aberle et al.</name>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6630810</doc-number>
<kind>B2</kind>
<name>Takemasa et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320104</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6639328</doc-number>
<kind>B2</kind>
<name>Wacknov</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6737762</doc-number>
<kind>B2</kind>
<name>Koenig</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>307 48</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6841972</doc-number>
<kind>B2</kind>
<name>Koo</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320132</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6923279</doc-number>
<kind>B2</kind>
<name>Shimane et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>180 651</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6962135</doc-number>
<kind>B2</kind>
<name>Kahlon et al.</name>
<date>20051100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>1231793</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2002/0140405</doc-number>
<kind>A1</kind>
<name>Malik</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320166</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2002/0158513</doc-number>
<kind>A1</kind>
<name>Amano et al.</name>
<date>20021000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>307 106</main-classification></classification-national>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>2003/0015873</doc-number>
<kind>A1</kind>
<name>Khalizadeh et al.</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>2003/0080622</doc-number>
<kind>A1</kind>
<name>Koenig</name>
<date>20030500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2003/0111842</doc-number>
<kind>A1</kind>
<name>Gilbreth et al.</name>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2003/0117113</doc-number>
<kind>A1</kind>
<name>Takemasa et al.</name>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320150</main-classification></classification-national>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2004/0119441</doc-number>
<kind>A1</kind>
<name>Koo</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320104</main-classification></classification-national>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2004/0212351</doc-number>
<kind>A1</kind>
<name>Kneifel et al.</name>
<date>20041000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320149</main-classification></classification-national>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>2005/0048335</doc-number>
<kind>A1</kind>
<name>Fields et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>429 22</main-classification></classification-national>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>2005/0061561</doc-number>
<kind>A1</kind>
<name>Leonardi et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>180 651</main-classification></classification-national>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>2005/0067999</doc-number>
<kind>A1</kind>
<name>Okamura et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>318800</main-classification></classification-national>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>US</country>
<doc-number>2005/0068003</doc-number>
<kind>A1</kind>
<name>Gauthier et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>320104</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00024">
<othercit>Solectria Corporation, Ultracapacitor Controller and Fuel Cell Controller, Feb. 2004, pp. 1-2, Woburn, MA.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>19</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>318140-149</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318139</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>318439</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>320104</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>320149</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>320150</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>1231793</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>180 651</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>5</number-of-drawing-sheets>
<number-of-figures>5</number-of-figures>
</figures>
<us-related-documents>
<continuation-in-part>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>10852137</doc-number>
<kind>00</kind>
<date>20040525</date>
</document-id>
<parent-status>PENDING</parent-status>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>10977293</doc-number>
</document-id>
</child-doc>
</relation>
</continuation-in-part>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050263331</doc-number>
<kind>A1</kind>
<date>20051201</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Sopko</last-name>
<first-name>Tom</first-name>
<address>
<city>East Peoria</city>
<state>IL</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kuras</last-name>
<first-name>Brian</first-name>
<address>
<city>Metamor</city>
<state>IL</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Guven</last-name>
<first-name>Mustafa</first-name>
<address>
<city>Dunlap</city>
<state>IL</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Liell &amp; McNeil</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Caterpillar Inc</orgname>
<role>02</role>
<address>
<city>Peoria</city>
<state>IL</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Ip</last-name>
<first-name>Paul</first-name>
<department>2837</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An electric drive system has a power source and a generator operatively connected to the power source. The electric drive system also has at least one energy storage device such as a capacitor configured to store a supply of power. The electric drive system further has a common bus configured to direct the power output to the capacitor. The electric drive system also has at least one motor configured to receive power from the common bus. A controller for the electric drive system is provided, having an article therewith having a computer readable medium with a control algorithm recorded thereon. The control algorithm includes means for compensating for a change in power demand on a DC bus of the electric drive system.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="159.94mm" wi="233.17mm" file="US07298102-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="224.87mm" wi="164.85mm" orientation="landscape" file="US07298102-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="241.81mm" wi="159.51mm" orientation="landscape" file="US07298102-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="227.75mm" wi="175.34mm" orientation="landscape" file="US07298102-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="234.95mm" wi="159.09mm" orientation="landscape" file="US07298102-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="246.89mm" wi="177.29mm" file="US07298102-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">The present application is a Continuation-in-Part of U.S. patent application Ser. No. 10/852,137, filed May 25, 2004.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">TECHNICAL FIELD</heading>
<p id="p-0003" num="0002">The present disclosure relates generally to a control system and method for an electric drive system in a work machine and, relates more particularly to a control system utilizing an algorithm and method for compensating for changes in power demand in an electric drive system having DC bus voltage control.</p>
<heading id="h-0003" level="1">BACKGROUND</heading>
<p id="p-0004" num="0003">Work machines such as, for example, wheel loaders, track type tractors, and other types of heavy machinery are used for a variety of tasks. These work machines include a power source, which may be, for example, an engine such as a diesel engine, a gasoline engine, or a natural gas engine, that provides the power required to complete these tasks. To efficiently perform these tasks, the power source may be coupled to a generator to produce an electrical power output supplied to one or more electric motors. The motors may be connected to ground engaging devices to propel the work machine.</p>
<p id="p-0005" num="0004">Typically, the generator is commanded to produce power when a voltage level of an energy storage device disposed between the generator and the motor drops below a predetermined level and to stop producing power when the voltage level of the energy storage device exceeds a predetermined level. For example, U.S. Pat. No. 6,333,620 (the '620 patent) issued to Schmitz et al. on Dec. 25, 2001 describes a series type hybrid vehicle having a power source, a generator, a battery array, at least one electric motor, and a controller. The controller is configured to maintain a state of charge of the battery array within a control limit. The controller compares a state of charge of the battery array to an upper control limit and decreases generator output if the state of charge is equal to or greater than the associated upper control limit. The controller is further configured to increase generator output if the state of charge is less than the upper control limit.</p>
<p id="p-0006" num="0005">Although the controller of the '620 patent may maintain a sufficiently constant state of charge of the battery array, the controller may require complex and expensive components necessary to respond quickly to power demand fluctuations. In addition, the battery array may provide insufficient acceleration and regenerative braking capacity.</p>
<p id="p-0007" num="0006">Related problems are associated with other known systems, including challenges in effectively partitioning power draw and supply among the various system components of an electric drive.</p>
<p id="p-0008" num="0007">The present disclosure is directed to overcoming one or more of the problems set forth above.</p>
<heading id="h-0004" level="1">SUMMARY OF THE DISCLOSURE</heading>
<p id="p-0009" num="0008">In one aspect, the present disclosure provides an article having a computer readable medium with a control algorithm recorded thereon. The control algorithm includes means for compensating for a change in power demand on a DC bus, which has an electric motor and a generator connected therewith. The means for compensating includes, means for commanding a current change at a DC to DC converter coupling an energy storage device with the DC bus. The means for compensating functions such that the change in power demand is primarily compensated for by the energy storage device rather than the generator, if the stored energy of the energy storage device is within a predetermined middle range.</p>
<p id="p-0010" num="0009">In another aspect, the present disclosure provides a method of controlling a power supply to a DC bus in an electric drive system, wherein the electric drive system includes a generator and a motor coupled with the DC bus. The method includes the step of compensating for a change in power demand on the DC bus, at least in part with an energy storage device by commanding a current change at a DC to DC converter coupling the energy storage device with the DC bus, if a stored energy of the energy storage device is within a predetermined middle range.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0005" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> is a diagrammatic illustration of a work machine according to an exemplary disclosed embodiment;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> is a schematic illustration of an electric drive system;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref> is process chart showing operation of an electric drive system according to an exemplary disclosed embodiment;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> is a schematic illustration of an electric drive system according to an exemplary disclosed embodiment;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> is a flow chart showing operation of a control algorithm according to an exemplary disclosed embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0006" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a work machine <b>10</b> having a power source <b>12</b> and an electric drive <b>14</b> connected to a traction device <b>16</b>. Work machine <b>10</b> may be a mobile machine that performs some type of operation associated with an industry such as mining, construction, farming, transportation, or any other industry known in the art. For example, work machine <b>10</b> may be an earth moving machine, a marine vessel, an aircraft, an on-highway passenger vehicle, or any other suitable mobile work machine.</p>
<p id="p-0017" num="0016">Power source <b>12</b> may be an engine, such as a diesel engine, a gasoline engine, a natural gas engine, or another appropriate engine. It is contemplated that electric drive <b>14</b> may be used with another type of power source such as, for example, a fuel cell. Power source <b>12</b> may have a maximum rotational speed limit.</p>
<p id="p-0018" num="0017">As illustrated in <figref idref="DRAWINGS">FIG. 2</figref>, electric drive <b>14</b> may include a generator <b>18</b> configured to produce an output power directed to a common bus <b>20</b> shared with a motor <b>22</b>, an energy storage device <b>24</b>, and a resistive grid circuit <b>28</b>. Energy storage device <b>24</b> is preferably a capacitor, for example, of a type known in the art as a “supercapacitor” or an “ultracapacitor,” however, other energy storage devices such as batteries may be substituted without departing from the scope of the present disclosure. Thus, as used herein the term capacitor should not be taken as limiting. Electric drive <b>14</b> may also include a controller <b>30</b> in communication with motor <b>22</b>, generator <b>18</b>, resistive grid circuit <b>28</b>, and common bus <b>20</b>.</p>
<p id="p-0019" num="0018">Generator <b>18</b> may be a three-phase permanent magnet alternating field-type generator configured to produce a power output in response to a rotational input from power source <b>12</b>. It is also contemplated that generator <b>18</b> may be a switched reluctance generator, a direct phase generator, or any other appropriate type of generator known in the art. Generator <b>18</b> may include a rotor (not shown) rotatably connected to power source <b>12</b> by any means known in the art such as, for example, by a direct crankshaft connection <b>32</b>, via a gear train, through a hydraulic circuit, or in any other appropriate manner. Generator <b>18</b> may be configured to produce electrical power output as the rotor is rotated within a stator (not shown) by power source <b>12</b>. Generator <b>18</b> may be connected to common bus <b>20</b> via a generator inverter <b>34</b>, which may be configured to invert the alternating current to direct current. It is contemplated that controlled <b>30</b> may be in communication with generator inverter <b>34</b>.</p>
<p id="p-0020" num="0019">Common bus <b>20</b> may include positive and negative power lines <b>36</b>, <b>38</b> that electrically connect generator inverter <b>34</b>, capacitor <b>24</b>, resistive grid circuit <b>28</b>, and a motor inverter <b>40</b> connected to motor <b>22</b>. Common bus <b>20</b> may also be electrically connected to additional power storage devices (not shown) and accessory power loads (not shown) to provide and/or to remove power from common bus <b>20</b>. It is contemplated that controller <b>30</b> may be in communication with motor inverter <b>40</b>.</p>
<p id="p-0021" num="0020">Motor <b>22</b> may be a permanent magnet alternating field-type motor configured to receive power from common bus <b>20</b> and to cause movement of traction device <b>16</b>. It is also contemplated that motor <b>22</b> may be a switched electric motor, a direct phase motor, or any other appropriate type of motor known in the art. Motor <b>22</b> may be connected to traction device <b>16</b> with a direct shaft coupling <b>42</b>, a gear mechanism, or in any other manner known in the art.</p>
<p id="p-0022" num="0021">Capacitor <b>24</b> may be connected to common bus <b>20</b> via positive and negative power lines <b>44</b>, <b>46</b> and may have a desired voltage range. It is contemplated that any number of capacitors <b>24</b> may be included in electric drive <b>14</b> according to the requirements of a particular application. For the purposes of this disclosure, the desired voltage range may be defined as that voltage range recommended by the supplier of capacitor <b>24</b> for safe operation and may include an upper limit and a lower limit. It is also contemplated that the desired voltage range may be defined by motor and generator inverter power electronic limitations. The selection of a particular voltage range capacitor <b>24</b> implemented within electric drive <b>14</b> may be dependent upon the intended application. For example, electric drive <b>14</b> intended for operation in a small lightweight passenger vehicle may include capacitor <b>24</b> having a desired voltage range of approximately 300–600 volts. Electric drive <b>14</b> intended for operation in a larger mining truck application may include capacitor <b>24</b> having a desired voltage range of approximately 1500 to 2500 volts.</p>
<p id="p-0023" num="0022">Capacitor <b>24</b> may be configured to draw power from common bus <b>20</b> and store this power for later release when motor <b>22</b> or other accessory loads draw power from common bus <b>20</b>. During operation of electric drive <b>14</b>, generator <b>18</b> may be capable of producing power in excess of a requested motor power. If a voltage level of common bus <b>20</b> is below an upper voltage limit of a desired voltage range and generator <b>18</b> has excess power output, capacitor <b>24</b> may be charged until the upper voltage limit is reached. If, however, generator <b>18</b> does not have the capacity to supply the power demanded by motor <b>22</b> or other accessory loads, capacitor <b>24</b> may discharge the power stored within capacitor <b>24</b> to common bus <b>20</b>.</p>
<p id="p-0024" num="0023">Excess power may also be directed to common bus <b>20</b> by motor <b>22</b> during regenerative braking. Whenever brakes are applied to work machine <b>10</b> to slow work machine <b>10</b>, energy is removed from work machine <b>10</b>. The faster work machine <b>10</b> is traveling, the more energy it has. The brakes of work machine <b>10</b> can capture some of this energy by using regenerative braking. That is, instead of just using the brakes to stop work machine <b>10</b>, motor <b>22</b> may also slow the work machine by acting as a generator while work machine <b>10</b> is slowing down. The power generated by motor <b>22</b> may be directed to common bus <b>20</b> where it may be absorbed by capacitor <b>24</b>. Power not absorbed by capacitor <b>24</b> during regenerative braking may be directed to generator <b>18</b>. Generator <b>18</b> may then be caused to motor power source <b>12</b>, thereby using operational friction of power source <b>12</b> to dissipate the excess power.</p>
<p id="p-0025" num="0024">Resistive grid circuit <b>28</b> may be connected to common bus <b>20</b> via positive and negative power lines <b>48</b>, <b>50</b> and configured to dissipate excess power from common bus <b>20</b>. Resistive grid circuit <b>28</b> may have a resistive element <b>52</b> and a switch <b>54</b>. It is contemplated that resistive grid circuit <b>28</b> may include a greater number of resistive elements <b>52</b> and/or that a greater number of resistive grid circuits <b>28</b> may be included in electric drive <b>14</b>. Switch <b>54</b> may be caused to move from an open position to a closed position causing respective open and closed conditions of resistive grid circuit <b>28</b>. When in the open condition, resistive grid <b>28</b> draws no power from common bus <b>20</b>. When in the closed condition, however, power may be dissipated from common bus <b>20</b> by resistive element <b>52</b>.</p>
<p id="p-0026" num="0025">Controller <b>30</b> may be configured to trigger the closed condition. As described above, excess power (power not absorbed by capacitor <b>24</b>) regenerated during braking may be dissipated through frictional losses of power source <b>12</b> as generator <b>18</b> motors power source <b>12</b>. However, if the excess power is above a predetermined level, power source <b>12</b> may exceed the maximum rotational speed limit when attempting to dissipate the excess power. In order to prevent overspeeding of power source <b>12</b>, resistive grid circuit <b>28</b> may be changed to the closed condition to remove power from common bus <b>20</b>. Controller <b>30</b> may trigger the closed condition as power source <b>12</b> nears the maximum rotational speed limit.</p>
<p id="p-0027" num="0026">Controller <b>30</b> may be configured to receive inputs indicative of a requested motor power. These inputs may include a motor speed, a motor torque, a motor torque command, a motor voltage and current level, a DC bus voltage level, and/or a generator speed. For example, an actual motor speed may be received via a communication line <b>58</b> from a motor speed sensor <b>56</b> disposed on shaft coupling <b>42</b>. An output motor torque may be received via a communication line <b>62</b> from a torque sensor <b>60</b> disposed on shaft coupling <b>42</b>. A motor voltage and current level may be received via a communication line <b>66</b> from a voltage and current sensor <b>64</b> connected to motor <b>22</b>. It is also contemplated that voltage and current sensor <b>64</b> may be embodied in separate sensors configured to sense the separate power characteristics supplied to motor <b>22</b>. A DC bus voltage level may be received via a communication line <b>70</b> from a voltage sensor <b>68</b> connected to common bus <b>20</b>. An actual generator rotational speed may be received via a communication line <b>74</b> from a generator speed sensor <b>72</b> disposed on crankshaft connection <b>32</b>.</p>
<p id="p-0028" num="0027">Controller <b>30</b> may also be in communication with motor <b>22</b>, generator <b>18</b>, and/or resistive grid circuit <b>28</b> via communication lines <b>76</b>, <b>78</b>, and <b>80</b>, respectively. As previously noted, controller <b>30</b> may also be in communication with generator inverter <b>34</b> and motor inverter <b>40</b>. Controller <b>30</b> may be in communication with motor <b>22</b> (or motor inverter <b>40</b>) to monitor inputs to motor <b>22</b> indicative of a command speed or a command torque communicated to motor <b>22</b>. Controller <b>30</b> may be in communication with generator <b>18</b> (or generator inverter <b>34</b>) to send generator torque commands to generator <b>18</b>. Controller <b>30</b> may further be in communication with resistive grid circuit <b>28</b> to change resistive grid circuit <b>28</b> from the open condition to the closed condition and vice versa.</p>
<p id="p-0029" num="0028">Controller <b>30</b> may be embodied in a single microprocessor or multiple microprocessors. Numerous commercially available microprocessors can be adapted to perform the functions of controller <b>30</b>. It should be appreciated that controller <b>30</b> could readily be embodied in a general work machine microprocessor capable of controlling numerous work machine functions.</p>
<p id="p-0030" num="0029">Controller <b>30</b> may include any means for storing and comparing information and controlling an operating parameter of work machine <b>10</b> such as a memory, one or more data storage devices, or any other components that may be used to run an application. Furthermore, although aspects of the present disclosure may be generally described as being stored in memory, one skilled in the art will appreciate that these aspects can be stored on or read from types of computer-related products or computer-readable media such as computer chips and secondary storage devices, including hard disks, floppy disks, optical media, CD-ROM, or other forms of RAM or ROM. Various other known circuits may be associated with controller <b>30</b>, including power supply circuitry, signal-conditioning circuitry, solenoid driver circuitry, communication circuitry, and other appropriate circuitry.</p>
<p id="p-0031" num="0030">Controller <b>30</b> may be configured to change operation of generator <b>18</b> in response to the requested generator power. Operational changes of generator <b>18</b> may include, for example, entering a positive power producing condition, entering a negative power producing condition (motoring of power source <b>12</b>), a rate change of positive or negative power production, and/or entering an idle condition.</p>
<p id="p-0032" num="0031">Controller <b>30</b> may include a table of efficiency offset values stored in the memory of controller <b>30</b>. As will be described in more detail in the following section, these offset values may relate motor characteristics such as, for example, speed and/or temperature to motor efficiency and may be applied to a sum of a requested motor and bus power to determine a requested generator power that will accommodate the requested motor and bus power. These offset values may be determined for each individual motor <b>22</b> during a calibration stage of a manufacturing process.</p>
<p id="p-0033" num="0032">Traction device <b>16</b> connected to motor <b>22</b> may include any means for propelling work machine <b>10</b> such as, for example, belts, tracks, tires, or any other means known in the art. It is contemplated that one or more traction devices <b>16</b> on a first side of work machine <b>10</b> may be driven independent of one or more traction devices <b>16</b> on a second side of work machine <b>10</b> (only one side shown), opposite the first.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 3</figref> illustrates an exemplary process chart for electric drive <b>14</b> and will be described in more detail in the following section.</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 4</figref> illustrates another exemplary embodiment of the present disclosure, wherein like numerals are used to identify features alike to those described with regard to <figref idref="DRAWINGS">FIG. 2</figref>. <figref idref="DRAWINGS">FIG. 4</figref> illustrates an embodiment similar to the foregoing, however, the <figref idref="DRAWINGS">FIG. 4</figref> embodiment differs primarily in that a DC to DC converter <b>25</b> is disposed between energy storage device <b>24</b>, e.g. a capacitor, and the other components of the system. Those skilled in the art will appreciate that DC to DC converter <b>25</b> may be any suitable DC to DC converter known in the art, and is preferably a bi-directional DC to DC converter operably coupled with controller <b>30</b> via a communication line <b>31</b>. Accordingly, controller <b>30</b> is preferably operable to command a current change at DC to DC converter <b>25</b>, such that current may flow from capacitor <b>24</b> at a selected voltage into or out of common bus <b>20</b>. By effectively isolating a voltage swing of capacitor <b>24</b>, DC to DC converter <b>25</b> allows the quantity of energy stored in capacitor <b>24</b> to be maximized. In other words, because the quantity of energy stored in a capacitor is proportional to the voltage, DC to DC converter <b>25</b> allows the voltage swing of capacitor <b>24</b> to be independent of common bus <b>20</b>, which may be preferably maintained at a constant voltage.</p>
<heading id="h-0007" level="1">INDUSTRIAL APPLICABILITY </heading>
<p id="p-0036" num="0035">The disclosed electric drive may be applicable to any mobile work machine. Based on measured speed, command speed, measured torque, command torque, motor voltage, and/or motor current information, the disclosed electric drive system may operate to minimize overall system cost and to reduce response time associated with a change in motor loading. A change in a motor loading, under normal circumstances, might cause a common bus voltage to drop below or rise above a desired voltage range. The deviation from the desired voltage range may result in power loss, loss of responsiveness, electric drive instability, and possibly damage to power electronics associated with the electric drive system. Rather than waiting for the common bus voltage to drop below a predetermined level during a change in motor loading, sending a requested torque command from the motor directly to the capacitor and/or generator simultaneous with the change, may act to smooth power fluctuations, maintain a desired voltage level of common bus <b>20</b>, improve responsiveness and stability of the electric drive system, and protect the power electronics of the electric drive. Operation of electric drive <b>14</b> will now be described in detail with reference to <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0037" num="0036">The process of determining a generator torque request may be initiated by determining a requested motor power associated with a change in motor loading. Requested motor power is the power required to maintain an operator desired work machine travel speed through various loading conditions. For a given work machine travel speed selected by a machine operator, requested motor power increases as output torque increases. Likewise, for the same given speed, as output torque decreases, requested motor power also decreases.</p>
<p id="p-0038" num="0037">Requested motor power, as in step <b>100</b>, may be determined as a function of a rotational speed and torque or command torque of motor <b>22</b>. It is contemplated that requested motor power may also be determined as a function of actual voltage and commanded current, or in many other ways known in the art. Output of motor <b>22</b> may be controlled from a closed loop speed command or torque command system (not shown). This closed loop system may function by either issuing a motor output speed command or a motor output torque command to motor <b>22</b> that results in the appropriate operator selected work machine travel speed.</p>
<p id="p-0039" num="0038">Two methods of determining requested motor power as a function of motor speed and torque are described in Eq. 1 and Eq. 2 below:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Requested Motor Power=Actual Motor Speed*Motor Torque Command  Eq. 1:<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Requested Motor Power=Actual Motor Speed*Actual Motor Torque  Eq. 2:<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0040" num="0039">It is also contemplated that neither speed nor torque information may be used to determine requested motor power, but instead, a motor voltage and current may be used according to Eq. 3 and Eq. 4 listed below:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Requested Motor Power=Monitored Motor Voltage*Monitored Motor Current   Eq. 3:<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>Requested Motor Power=Monitored Motor Voltage*Commanded Motor Current   Eq. 4:<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0041" num="0040">Voltage levels of common bus <b>20</b> may also affect operation of generator <b>18</b>. As described above, capacitor <b>24</b> may have a desired voltage range. If a voltage level of common bus <b>20</b>, which is connected to capacitor <b>24</b>, falls below or rises above the desired voltage range, a closed loop algorithm may be implemented to increase or decrease the voltage level across common bus <b>20</b> (step <b>140</b>). In doing so, an actual voltage level measured by voltage sensor <b>68</b> may first be compared with the desired voltage of capacitor <b>24</b> (step <b>130</b>). If the voltage level of common bus <b>20</b> is outside of the desired voltage range, a requested bus power value calculated as a function of error between actual bus voltage and desired bus voltage may be added to the requested motor power, determined from Eq. 1–4 above (step <b>120</b>).</p>
<p id="p-0042" num="0041">Power efficiencies of electric motors may vary as a speed, torque, temperature, and other operating variables of the motor vary. In order to compensate for this effect, an offset factor may be implemented. Motor variables may be compared with an efficiency offset map stored within the memory of controller <b>30</b> to determine an offset factor that corresponds with the motor speed (step <b>110</b>). This offset factor may then be used to offset the sum of requested motor and bus power to determine a requested generator power that accommodates the motor and bus power needs.</p>
<p id="p-0043" num="0042">Generator <b>18</b> may be operated to produce the requested generator power by issuing a torque command to generator <b>18</b>. The torque commanded from generator <b>18</b> may be dependent upon generator speed and the requested generator power determined in step <b>120</b> above, and may be determined according to Eq. 5 below (step <b>150</b>):</p>
<p id="p-0044" num="0043">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mtext>Eq.  5:</mtext>
        </mstyle>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="40.8em" height="40.8ex"/>
        </mstyle>
      </mrow>
    </mtd>
  </mtr>
  <mtr>
    <mtd>
      <mrow>
        <mstyle>
          <mtext>Generator  Torque  Command</mtext>
        </mstyle>
        <mo>=</mo>
        <mfrac>
          <mstyle>
            <mtext>Requested  Generator  Power</mtext>
          </mstyle>
          <mstyle>
            <mtext>Actual  Generator  Speed</mtext>
          </mstyle>
        </mfrac>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0045" num="0044">Referring to <figref idref="DRAWINGS">FIG. 5</figref>, and also with reference to <figref idref="DRAWINGS">FIG. 4</figref>, there is shown a flow chart illustrating an exemplary control scheme whereby a controller such as controller <b>30</b> of <figref idref="DRAWINGS">FIG. 4</figref> can compensate for changes in power demand on DC bus <b>20</b> in electric drive system <b>14</b>. In general, the voltage of DC bus <b>20</b> will inherently increase if power is fed therein, and will decrease as power is extracted. Controller <b>30</b> is operable to partition power flow to and from DC bus <b>20</b> among generator <b>18</b>, energy storage device or capacitor <b>24</b>, and motor <b>22</b> according to a variety of system operating parameters, as described herein. Actual power demand to motor <b>22</b> from DC bus <b>20</b> is related to a torque on motor <b>22</b> commanded by the machine operator, which ultimately draws a given motor power from DC bus <b>20</b>. To balance the power flow into and out of DC bus <b>20</b>, controller <b>30</b> is operable to command a torque of generator <b>18</b>, and operable to command a positive or negative current at DC to DC converter <b>25</b>. The commanded power to or from capacitor <b>24</b> is calculated, for example by controller <b>30</b>, by multiplying the commanded DC to DC converter current by the present voltage of DC bus <b>20</b>. In a typical design, the commanded power to DC bus <b>20</b> from generator <b>18</b> is the present generator speed times the commanded torque, whereas the commanded power to motor <b>22</b> is the present motor speed times the commanded torque.</p>
<p id="p-0046" num="0045">In a preferred embodiment, controller <b>30</b> is incorporated with an article having a computer readable medium with a control algorithm recorded thereon. It should be appreciated that the term “computer readable medium” is intended to encompass a wide variety of media, including RAM, ROM, hard drives, etc. In a preferred embodiment, the control algorithm facilitates partitioning of compensation for changes in power demand on DC bus <b>20</b> among the various system components. Partitioning of the power demand on DC bus <b>20</b>, or the load, is preferably based at least in part on the quantity of energy stored in capacitor <b>24</b>. Other factors may also affect the distribution of power draw and supply, including but not limited to engine emissions, operating temperatures, SOC, capability limits, component speeds and rate limits. Controller <b>30</b> is preferably configured to monitor a variety of system operating parameters, and commands/monitors factors such as generator speed and torque, motor speed and torque, the quantity of energy stored in capacitor <b>24</b>, and current magnitude and/or voltage change of the DC to DC converter. Various rate limits relating to changes in operation of the various system components may also be monitored, either directly or indirectly, including rates of increase or decrease in the foregoing factors. It is generally desirable to maintain the voltage of DC bus <b>20</b> at a substantially constant level, or at least within some predetermined range. Accordingly, controller <b>30</b> will continuously or repetitively monitor the bus voltage and adjust the power flow into or out of DC bus <b>20</b> from generator <b>18</b>, motor <b>22</b> and capacitor <b>24</b> to maintain the voltage at the desired level or within a desired voltage range.</p>
<p id="p-0047" num="0046">The control algorithm recorded on the article incorporated with controller <b>30</b> includes means for compensating for a change in power demand on DC bus <b>20</b>. The means for compensating further includes means for commanding a current change at DC to DC converter <b>25</b>, such that a change in power demand is primarily compensated for by capacitor <b>24</b> rather than generator <b>18</b>, if a stored energy of capacitor <b>24</b> is within a predetermined middle range. Most preferably, changes in power demand are compensated for solely by capacitor <b>24</b>, if the quantity of stored energy therein is within the predetermined middle range. This operating scheme is preferred because it is desirable to operate generator <b>18</b> in a steady state, or at least a state of relatively constant increase or decrease in torque or speed. It is generally understood in the art that avoiding rapid changes in generator operation can optimize certain aspects of an electric drive system's operation, for example, emissions control. Thus, as work machine <b>10</b> operates, capacitor <b>24</b> will function as the primary supply or sink for power changes on DC bus <b>20</b>, so long as capacitor <b>24</b> has a quantity of stored energy within the stated middle range. Where electric drive system <b>14</b> of work machine <b>10</b> encounters spikes, or “transients,” in power demand or supply to DC bus <b>20</b>, generator <b>18</b> can be maintained at a steady state, or a rate of change in generator torque or speed can be substantially maintained while compensating for the change primarily or solely with capacitor <b>24</b>.</p>
<p id="p-0048" num="0047">As used herein, the term “middle range” should be understood to refer to a less than full range of stored energy in capacitor <b>24</b> between a fully discharged and a fully charged state. The exact middle range of energy storage will vary depending upon the application, storage specifications and, particularly, the relative magnitude of the anticipated changes in power demand on DC bus <b>20</b>. For example, certain applications such as electric drive work machines contemplated to experience relatively frequent, low level power draw changes may be best suited to a narrower middle range than electric drive work machines wherein only relatively large, occasional changes in power draw are expected. In any event, those skilled in the art will appreciate that the selected boundaries of the middle range, as further described herein, may vary substantially in different drive systems, and even within the same system, which might be programmed differently for different operating environments. In one specific example, the middle range may be 30–70% capacity of capacitor <b>24</b>.</p>
<p id="p-0049" num="0048">Thus, in the control scheme set forth in <figref idref="DRAWINGS">FIG. 5</figref>, a requested change in power demand on DC bus <b>20</b> is initially determined, as in step <b>200</b>. Simultaneously, or subsequently, controller <b>30</b> determines the quantity of stored energy in capacitor <b>24</b> (steps <b>210</b> and <b>230</b>). If the quantity of stored energy in capacitor <b>24</b> is within the described middle range, then the change in power demand will preferably be compensated for solely by capacitor <b>24</b>, as in step <b>220</b>. The control process of <figref idref="DRAWINGS">FIG. 5</figref> is preferably repeated throughout the course of work machine operation. Thus, those skilled in the art will appreciate that an initial change in power demand on DC bus <b>20</b> could be compensated for solely by capacitor <b>24</b>. If the changed power demand persists, however, capacitor <b>24</b> may eventually discharge or absorb enough power that its quantity of stored energy will fall below or rise above the middle range. In such a case, the power change compensation will also involve generator <b>18</b> as further described herein.</p>
<p id="p-0050" num="0049">In general, the load on DC bus <b>20</b> will be the requested motor power along with any efficiency losses in system <b>14</b>, and associated components. The number and type of capacitor, and definition of its middle range can be selected on this basis, such that any anticipated requested motor power can be compensated for, at least initially, solely by capacitor <b>24</b>. Alternatively, limits might be built into the system such that when the stored capacitor energy is in the middle range, only that quantity of power available may be supplied to the DC bus.</p>
<p id="p-0051" num="0050">Where the quantity of stored energy in capacitor <b>24</b> is not within the middle range, but is instead within one of an upper or lower range, each contiguous with the middle range, controller <b>30</b> will preferably command a change in power output of generator <b>18</b>, as in step <b>240</b>. The lower, middle and higher ranges could be 10–30%, 30–70%, and 70–90%, respectively. For example, if capacitor <b>24</b> has a stored energy quantity in the lower range, the controller <b>30</b> will both command an increase in power output of generator <b>18</b> and a current increase or voltage increase at DC to DC converter <b>25</b>. If the quantity of stored energy in capacitor <b>24</b> is below the lower range, generator <b>18</b> is preferably commanded to compensate for the entire change in power demand on DC bus <b>20</b>, as in step <b>250</b>.</p>
<p id="p-0052" num="0051">Where the change in power demand is a decrease in power demand, for example, where work machine <b>10</b> is braked, and motor <b>22</b> acts as a generator, a current change command is preferably sent to DC to DC converter <b>25</b>. If the stored energy of capacitor <b>24</b> is within the middle range, capacitor <b>24</b> will serve as the sole means of compensating for the change, at least initially absorbing all of the power to DC bus <b>20</b> from motor <b>22</b>. If, instead, the stored energy of capacitor <b>24</b> is within an upper range, generator <b>18</b> can be commanded to adjust its power output to also absorb a portion of the power supplied to DC bus <b>20</b> from motor <b>22</b>. Where the stored energy of capacitor <b>24</b> is above the upper range, generator <b>18</b> can act as the primary or sole means of compensating for the change in power demand in DC bus <b>20</b>. Further embodiments are contemplated wherein a portion of excess power is dissipated by resistive grid circuit <b>28</b>, or a similar device.</p>
<p id="p-0053" num="0052">The control algorithm further preferably includes means for returning the stored energy of capacitor <b>24</b> toward a target quantity of stored energy. Most preferably, a current change and/or a voltage change command is sent to DC to DC converter <b>25</b> to allow current to flow between capacitor <b>24</b> and DC bus <b>20</b>. Generator <b>18</b> may be commanded to increase its power output, or commanded to decrease its power output, adjusting the stored energy of capacitor <b>24</b> as needed. Similarly, capacitor <b>24</b> may supply or absorb power to DC bus <b>20</b>, which supplies or absorbs the same utilizing motor <b>22</b>.</p>
<p id="p-0054" num="0053">As it is generally desirable to minimize changes in generator power output, and/or minimize the rate of change in generator power output, discharging or charging of capacitor <b>24</b> toward its target energy quantity can take place by blending the power flow between generator <b>18</b> and motor <b>22</b>. In other words, the power flow into or out of capacitor <b>24</b> to adjust the stored energy content thereof can take place by partitioning the power flow to or from capacitor <b>24</b> in such a way that changes in operation of generator <b>18</b>, or the relative rate of such changes, are minimized.</p>
<p id="p-0055" num="0054">In a preferred embodiment, the “target quantity” of stored energy will typically lie at a selected point within the middle range. In most applications, placing the target quantity within the middle range will allow capacitor <b>24</b> the greatest flexibility in compensating for changes in power demand. The exact selection of the target quantity will depend, however, on various considerations. For example, in an application where power flow to DC bus <b>20</b> from motor <b>22</b> is rare or nonexistent, there will typically be a reduced need for capacitor <b>24</b> to absorb power from DC bus <b>20</b>, and its function will be primarily to provide additional power to DC bus <b>20</b> as needed. Such an application might be best suited to a target quantity corresponding to a relatively greater quantity of energy stored in capacitor <b>24</b>. Similarly, in an application wherein power flow to DC bus <b>20</b> from motor <b>22</b> is relatively frequent, or of a relatively great magnitude, a relatively lower target quantity of capacitor <b>24</b> might be selected.</p>
<p id="p-0056" num="0055">The present description is for illustrative purposes only, and should not be construed to narrow the breadth of the claims set forth below in any fashion. Thus, it will be apparent to those skilled in the art that various modifications and variations can be made to the electric drive system, control system and processes described herein. For example, while controller <b>30</b> is preferably programmed with an algorithm partitioning power flow based in part on middle, upper and lower energy storage levels of capacitor <b>24</b>, other configurations are possible. Rather than a predetermined upper range, the “middle range” might be inclusive of the uppermost energy storage level of capacitor <b>24</b>, for instance in applications where relatively larger quantities of power are desired to be available from capacitor <b>24</b>, yet the energy absorption capacity thereof is less critical. Other embodiments will be apparent to those skilled in the art from consideration of the specification and practice of the disclosed electric drive system. Other aspects, features and advantages will be apparent upon an examination of the attached Figures and appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298102-20071120-M00001.NB">
<img id="EMI-M00001" he="12.36mm" wi="76.20mm" file="US07298102-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A controller for an electric drive system in a work machine comprising an article that includes a computer readable medium having a control algorithm recorded thereon;
<claim-text>said controller being configured via said control algorithm to compensate for a change in requested power demand on a DC bus of the electric drive system having an electric motor and a generator separate from the electric motor connected therewith, wherein said controller includes:</claim-text>
<claim-text>means for determining a change in requested power demand on said DC bus; and</claim-text>
<claim-text>means for compensating for the change in requested power demand via at least one of the generator and an energy storage device, including means for commanding a current change at a DC to DC converter coupling the energy storage device with said DC bus and means for commanding a power output change of said generator;</claim-text>
<claim-text>said means for compensating further including means for compensating for the change in power demand primarily via the energy storage device rather than the generator, if a stored energy of said energy storage device is within a predetermined middle range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The controller of <claim-ref idref="CLM-00001">claim 1</claim-ref> wherein said controller further comprises means for determining whether a stored energy of said energy storage device is within said predetermined middle range, an upper range or a lower range, and wherein said means for compensating includes means for compensating for a change in motor loading on said DC bus via commanding a current change at said DC to DC converter where the stored energy is within said middle, upper or lower range.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The controller of <claim-ref idref="CLM-00002">claim 2</claim-ref> wherein said means for compensating includes means for commanding a change in power output of said generator to said DC bus such that the change in power demand is compensated for at least partially by said generator, if the stored energy of said energy storage device is outside of said predetermined middle range.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The controller of <claim-ref idref="CLM-00003">claim 3</claim-ref> wherein said means for compensating includes means for commanding a change in power output of said generator to said DC bus such that the change in power demand is compensated for in part by said generator and in part by said energy storage device, if the stored energy of said energy storage device is outside of said predetermined middle range but within the predetermined upper or lower ranges.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The controller of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein said energy storage device comprises a capacitor, and wherein said means for commanding further includes means for sending commands for at least one of said capacitor and said generator simultaneous with determining a change in requested power demand on said DC bus based on the change in motor loading.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The controller of <claim-ref idref="CLM-00005">claim 5</claim-ref> wherein said means for compensating includes means for commanding increasing a power output of said generator to said DC bus, if the stored energy of said energy storage device is within or below said predetermined lower range.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The controller of <claim-ref idref="CLM-00006">claim 6</claim-ref> wherein said means for compensating includes means for commanding decreasing a power output of said generator to said DC bus, if the stored energy of said energy storage device is within or above said predetermined upper range.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The controller of <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein said energy storage device comprises a capacitor, and wherein said controller further includes means for returning the stored energy of said energy storage device toward a target quantity of stored energy via at least one of the motor and the generator, if the stored energy of said energy storage device is outside the predetermined middle range, at least in part via commanding a current change at said DC to DC converter.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The controller of <claim-ref idref="CLM-00008">claim 8</claim-ref> wherein said means for returning includes means for commanding a generator output change and a current change at said DC to DC converter to drive the stored energy of the energy storage device toward said predetermined middle range.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The controller of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein said means for returning includes means for commanding a current change at said DC to DC converter to lower a quantity of stored energy of said energy storage device, if the stored energy of said energy storage device is above said predetermined middle range.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The controller of <claim-ref idref="CLM-00009">claim 9</claim-ref> wherein said means for returning includes means for selectively commanding a decrease in power output of said generator to offset in said DC bus at least a portion of stored energy discharged to said DC bus by said energy storage device.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. An electric drive system for a work machine comprising:
<claim-text>a DC bus;</claim-text>
<claim-text>an energy storage device configured to supply power to and absorb power from said DC bus;</claim-text>
<claim-text>a generator configured to supply power to and absorb power from said DC bus;</claim-text>
<claim-text>a motor separate from said generator and configured to supply power to and absorb power from said DC bus;</claim-text>
<claim-text>a DC to DC converter coupling said energy storage device with said DC bus;</claim-text>
<claim-text>an electronic control module operable to control a voltage of said DC bus, said electronic control module including means for determining a quantity of stored energy of said energy storage device, means for determining a requested change in power demand on the DC bus, and means for compensating for the change in requested power demand on said DC bus, said means for compensating including means for commanding a current at said DC to DC converter, and means for commanding a power output of said generator;</claim-text>
<claim-text>said electronic control module further being operable via said means for compensating to partition a power flow among said generator, said motor and said energy storage device, at least in part via current commands to said DC to DC converter to control current flow into and out of said DC bus which are based at least in part on the determined quantity of stored energy of said energy storage device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. A method of controlling a power supply to a DC bus in an electric drive system having a generator and a motor separate from the generator coupled with the DC bus, said method comprising the step of:
<claim-text>determining a quantity of stored energy of an energy storage device coupled with the DC bus;</claim-text>
<claim-text>determining a requested change in power demand on the DC bus based on a change in motor loading on the DC bus; and</claim-text>
<claim-text>compensating for the requested change in power demand on the DC bus at least in part with the energy storage device by commanding a current flow at a DC to DC converter coupling the energy storage device with the DC bus, if a stored energy of the energy storage device is within a predetermined middle range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the step of compensating for the change in power demand on the DC bus comprises:
<claim-text>compensating for the change in power demand at least in part with the generator, including commanding a power output of the generator based on the determined quantity of stored energy of the energy storage device.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein:
<claim-text>the step of determining a quantity of stored energy of the energy storage device further comprises determining whether the quantity of stored energy is within the predetermined middle ranges, a predetermined upper range, or a predetermined lower range;</claim-text>
<claim-text>the step of compensating for the change in power demand on the DC bus further comprises:</claim-text>
<claim-text>compensating for the change in power demand on the DC bus primarily with the energy storage device, if the quantity of stored energy is within the predetermined middle range, and compensating for the change in power demand on the DC bus at least in part with the generator, if the stored energy of the energy storage device is outside of the predetermined middle range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00013">claim 13</claim-ref> wherein the step of compensating for the change in power demand on the DC bus further comprises:
<claim-text>compensating for the change in power demand on the DC bus in part with the generator and in part with the energy storage device, if the stored energy of the energy storage device is outside of the predetermined middle range but within one of a predetermined upper or lower range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref> wherein the step of compensating for the change in power demand on the DC bus further comprises:
<claim-text>compensating for the change in power demand solely with the generator, if the stored energy of the energy storage device is outside of the predetermined middle, upper and lower ranges.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00017">claim 17</claim-ref> wherein the energy storage device comprises a capacitor, the method further comprising the step of:
<claim-text>returning the stored energy of the energy storage device toward a target quantity of stored energy at least in part by commanding a current flow at the DC to DC converter, if the stored energy of the energy storage device is outside the predetermined middle range.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00018">claim 18</claim-ref> wherein the step of returning the stored energy of the energy storage device toward a target quantity comprises adjusting the power output or rate of change in the power output of the generator, if the stored energy of the energy storage device is outside the predetermined middle range.</claim-text>
</claim>
</claims>
</us-patent-grant>
