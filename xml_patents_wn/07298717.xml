<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298717-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298717</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10077084</doc-number>
<date>20020215</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>961</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>Q</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>Q</subclass>
<main-group>7</main-group>
<subgroup>20</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>B</subclass>
<main-group>7</main-group>
<subgroup>10</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370329</main-classification>
<further-classification>370333</further-classification>
<further-classification>370347</further-classification>
<further-classification>370542</further-classification>
<further-classification>370215</further-classification>
<further-classification>375347</further-classification>
<further-classification>455436</further-classification>
</classification-national>
<invention-title id="d0e53">Method and apparatus for providing transmit diversity with adaptive basis</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5689439</doc-number>
<kind>A</kind>
<name>Weerackody et al.</name>
<date>19971100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370329</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6157612</doc-number>
<kind>A</kind>
<name>Weerackody et al.</name>
<date>20001200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370215</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6370129</doc-number>
<kind>B1</kind>
<name>Huang</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370329</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6377631</doc-number>
<kind>B1</kind>
<name>Raleigh</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375299</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6377632</doc-number>
<kind>B1</kind>
<name>Paulraj et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375299</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6999472</doc-number>
<kind>B2</kind>
<name>Hamalainen et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370468</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2002/0165626</doc-number>
<kind>A1</kind>
<name>Hammons et al.</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>700 53</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2002/0196842</doc-number>
<kind>A1</kind>
<name>Onggosanusi et al.</name>
<date>20021200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375148</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2003/0016637</doc-number>
<kind>A1</kind>
<name>Khayrallah et al.</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370329</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2005/0020215</doc-number>
<kind>A1</kind>
<name>Hottinen</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>455101</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2005/0078761</doc-number>
<kind>A1</kind>
<name>Hottinen et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>375267</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00012">
<othercit>Chase, David, “Code Combining—A Maximum-Likelihood Decoding Approach for Combining an Arbitrary Number of Noisy Packets,” IEEE Transactions on Communications. vol. COM-33, No. 5, May 1985.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00013">
<othercit>Lucent Technologies, “Preliminary Link Level Results for HSDPA Using Multiple Antennas,” TSG-R WG1 document, TSGR1#16(00) 1218, Oct. 2000, Pusan, Korea.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00014">
<othercit>FUJITSU, “Link Level Simulation Results for HSDPA: Comparison Between MIMO and Tx Diversity,” TSGR1#19(01) 0286, Feb.-Mar. 2001, Las Vegas, Nevada.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00015">
<othercit>Texas Instruments, “Double-STTD Scheme for HSDPA Systems with Four Transmit Antennas: Linx Level Simulation Results,” TSG-R WG1 document, TSGR1#20(01)0458, May 2001, Busan, Korea.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00016">
<othercit>Texas Instruments, “Improved Double-STTD Schemes Using Asymmetric Modulation and Antenna Shuffling,” TSG-R WG1 document, TSGR1#20(01)0459, May 2001, Busan, Korea.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00017">
<othercit>Texas Instruments, “Double-STS Scheme for 1xEV-DV Systems with Four Transmit Antennas: Link Level Simulation Results,” C50-20010820-007, Aug. 2001, Portland, Oregon.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00018">
<othercit>LG ELECTRONICS, et al., “Updated Joint Physical Layer Proposal for 1xEV-DV,” 3GPP2-C50-20010611-009. Jun. 2001, Vancouver, BC, Canada.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00019">
<othercit>3<sup>rd </sup>Generation Partnership Project, Technical Specification Group Radio Access Network; “Physical Layer Aspects of UTRA High Speed Downlink Packet Access.” 3GPP TR 25.848, V4.0.0. Aug. 2001.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00020">
<othercit>MOTOROLA, et al., “1XTREME Physical Specification for Integrated Data and Voice Services in cdma2000 Spread Spectrum Systems,” C00-20010611-007, Jun. 2001.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>9</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>370389</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370392</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370394</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370401</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370474</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370465</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370333</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>370334</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714748</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>714749</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375347</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20030156572</doc-number>
<kind>A1</kind>
<date>20030821</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Hui</last-name>
<first-name>Yan</first-name>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Onggosanusi</last-name>
<first-name>Eko N.</first-name>
<address>
<city>Allen</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Jeong</last-name>
<first-name>Gibong</first-name>
<address>
<city>Stanford</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Dabak</last-name>
<first-name>Anand Ganesh</first-name>
<address>
<city>Plano</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Neerings</last-name>
<first-name>Ronald O.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Brady, III</last-name>
<first-name>Wade J.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Telecky, Jr.</last-name>
<first-name>Frederick J.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Texas Instruments Incorporated</orgname>
<role>02</role>
<address>
<city>Dallas</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Orgad</last-name>
<first-name>Edan D.</first-name>
<department>2616</department>
</primary-examiner>
<assistant-examiner>
<last-name>Haliyur</last-name>
<first-name>Venkatesh</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method and apparatus are provided that uses the feedback information from an ARQ signal that is received to control the transmit diversity of a transmitter. The method provides for improved performance over some existing ARQ plus open loop transmit diversity schemes in terms of bit-error rate for a given Eb/No. Furthermore, the method does not require extra signaling used by closed loop TD schemes.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="64.09mm" wi="260.60mm" file="US07298717-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="227.92mm" wi="181.53mm" file="US07298717-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="251.63mm" wi="185.25mm" file="US07298717-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="256.46mm" wi="183.81mm" file="US07298717-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="260.43mm" wi="187.37mm" orientation="landscape" file="US07298717-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">TECHNICAL FIELD</heading>
<p id="p-0002" num="0001">This invention relates in general to wireless communications, and more particularly to an ARQ (Automatic Repeat Request) using transmit diversity with adaptive basis or other smart antenna systems.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">Improving system throughput and capacity is one of the main goals for high-speed wireless systems, such as those proposed for the High Speed Downlink Packet Access (HSDPA) and 1xEV-DV which are part of the 3<sup>rd </sup>Generation Partnership Project (3GPP) and 3GPP2 standards bodies, respectively. Technologies, such as adaptive modulation and coding schemes, Hybrid-ARQ, code combining, smart antennas, etc., are being investigated and proposed for these new standards to achieve this goal.</p>
<p id="p-0004" num="0003">ARQ is an implicit adaptation technique in which receiver acknowledgments regarding the transmitted packets are used for re-transmission decisions. Hybrid-ARQ (H-ARQ) is one form of ARQ schemes in which one of code combing methods is usually used. Time diversity offered by Hybrid ARQ has been shown to have the capability of improving system throughput. In the 1xEV-DV and HSDPA proposals, for example, Chase combining (i.e. symbol combining, also referred to as H-ARQ-type-III with one redundancy version) and Incremental Redundancy (IR), are used together with ARQ to achieve higher throughput on the forward link by exploring this time diversity. Transmit Diversity (TD) has been proposed for wireless standards such as the IS-2000 and Wideband Code Division Multiple Access (WCDMA). In IS-2000, for example, two open loop transmit diversity schemes have been adopted, i.e. Orthogonal Transmit Diversity (OTD) and Space Time Spreading (STS). In WCDMA, both open loop TD, i.e. Space Time Transmit Diversity (STTD), and closed loop TD schemes have been adopted. In the HSDPA and the 1xEV-DV proposals, different open loop and closed loop transmit diversity schemes are under consideration.</p>
<p id="p-0005" num="0004">Closed loop transmit diversity requires feedback information from the receiver to achieve better performance compared to open loop transmit diversity. However, the quantized feedback information with reasonable degradation introduces unwanted overhead. Open loop TD can be considered as special case of closed loop TD in which feedback is a constant value. Many open and closed loop transmit diversity schemes have been studied. For example, a four transmit antenna system of the double-STTD or (DSTTD) scheme has been proposed where two distinct streams of data are encoded using two STTD encoders and transmitted by 4 antennas. A closed loop TD scheme with a four transmit antenna system of the DSTTD has also been proposed where an estimation of the co-variance matrix is required in order to find the best basis and the feedback is required to signal to the transmitter which basis would be used. A discussion of a prior art DSTTD system can be found in an article entitled, “Increasing data rate over wireless channels”, by A. Naguib, N. Seshadri and A. R. Calderbank, IEEE Signal Processing, pp. 76-92, May 2000.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0006" num="0005">The features of the present invention, which are believed to be novel, are set forth with particularity in the appended claims. The invention, together with further objects and advantages thereof, may best be understood by reference to the following description, taken in conjunction with the accompanying drawings, in the several figures of which like reference numerals identify like elements, and in which:</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 1</figref> shows a 4 transmit antenna DSTTD transmitter in accordance with one embodiment of the invention.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 2</figref> shows a block diagram of a generalized DSTTD transmitter used in another embodiment of the invention.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 3</figref> shows a graph comparing the method of the present invention using a 4 transmit antennas and 2 receive antennas ((4,2) configuration) and pre-determined basis set with the symbol combining based H-ARQ and DSTTD with randomly selected basis from the same pre-determined basis set in a correlated channel.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 4</figref> shows a graph comparing the method of the present invention using a (4, 2) configuration and pre-determined basis set with the symbol combining based H-ARQ and DSTTD with randomly selected basis from the same pre-determined basis set in an uncorrelated channel.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 5</figref> shows a graph comparing the method of the present invention using a (4,4) configuration and pre-determined basis set with the symbol combining based H-ARQ and DSTTD with randomly selected basis from the same pre-determined basis set in a correlated channel.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 6</figref> shows a graph comparing the method of the present invention using a (4,4) configuration and pre-determined basis set with the symbol combining and DSTTD with randomly selected basis from the same pre-determined basis set in an uncorrelated channel.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 7</figref> shows a simplified flowchart highlighting some of the steps that are taken in accordance with the invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 8</figref> shows a block diagram of a communication system having two communication devices that operate using the present invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
<p id="p-0015" num="0014">While the specification concludes with claims defining the features of the invention that are regarded as novel, it is believed that the invention will be better understood from a consideration of the following description in conjunction with the drawing figures, in which like reference numerals are carried forward.</p>
<p id="p-0016" num="0015">The present invention combines transmit diversity and ARQ schemes to explore the time diversity provided by ARQ and transmit diversity from multiple transmit and multiple receive antennas. In this method, the feedback information for ARQ is used to control the transmit diversity schemes or TD basis for (re)transmissions. By doing so, the performance is improved as compared to techniques like H-ARQ plus open loop TD schemes as well as H-ARQ schemes using open loop TD with randomly selected basis from a pre-determined set. This method does not add extra feedback information required by the previously mentioned closed loop TD schemes.</p>
<p id="p-0017" num="0016">For an M transmit antenna and 1 receive antenna system, the channel can be represented by h, which is an M×1 vector representing M channels corresponding to M transmit antennas. The received signal is
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>r=Hs+n</i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where H is an M×M channel matrix and is related to h, s is a modulated symbol and n is white Gaussian additive channel noise. It should be noted that H is an M×M matrix for a TD system that can achieve full diversity, and it can be an N×M matrix for a TD system that does not achieve full diversity, where N is the number of symbols TD encoded at one time. For example, in <figref idref="DRAWINGS">FIG. 1</figref> N=4 (output of S/P 102 is X1-X4). Different open loop or closed loop TD schemes can be represented by applying different weighting factors, or basis w, to the transmitter in order to generate different channel matrices. As a result, channel h becomes
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>ĥ=wh,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where w is an M×M matrix. w can simply be either a weighting factor matrix, for example that derived from channel information in a closed loop TD system, or from a set of basis which spans to some space. The received signal can then be represented using the corresponding channel matrix Ĥ(ĥ) by
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>r=Ĥs+n.</i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
If perfect channel estimation is assumed at receiver, the output from Maximal Ratio Combining (MRC) combiner is
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>y=Ĥ</i><sup>H</sup><i>Ĥs+Ĥ</i><sup>H</sup><i>n,</i>  (Equation 1)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where Ĥ<sup>H </sup>denotes complex conjugate (Hermitean conjugate) transpose of the channel matrix. If w=α·I with I being the identity matrix, or any constant matrix, (Equation 1) represents open loop transmit diversity schemes. If w changes according to an order and from a basis set, both of which are pre-determined by the transmitter and receiver, (Equation 1) then represents open loop TD with adaptive basis. It is obvious that conventional open loop TD scheme is a special case of open loop TD scheme with adaptive basis randomly selected from a basis set.
</p>
<p id="p-0018" num="0017">When H-ARQ is used in a system with transmit diversity, the output of the MRC for the retransmission is combined with that of the previous transmission. The output of code combining is</p>
<p id="p-0019" num="0018">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mi>y</mi>
          <mo>=</mo>
          <mrow>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <munder>
                    <mi>Σ</mi>
                    <mi>i</mi>
                  </munder>
                  <mo>⁢</mo>
                  <mi>α</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <msubsup>
                    <mi>iH</mi>
                    <mi>i</mi>
                    <mi>H</mi>
                  </msubsup>
                  <mo>⁢</mo>
                  <msub>
                    <mi>H</mi>
                    <mi>i</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>⁢</mo>
              <mi>s</mi>
            </mrow>
            <mo>+</mo>
            <mrow>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <munder>
                    <mi>Σ</mi>
                    <mi>i</mi>
                  </munder>
                  <mo>⁢</mo>
                  <mi>α</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <msubsup>
                    <mi>iH</mi>
                    <mi>i</mi>
                    <mi>H</mi>
                  </msubsup>
                  <mo>⁢</mo>
                  <msub>
                    <mi>H</mi>
                    <mi>i</mi>
                  </msub>
                </mrow>
                <mo>)</mo>
              </mrow>
              <mo>⁢</mo>
              <mi>n</mi>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mtext>(Equation  2)</mtext>
      </mstyle>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where i is the retransmission index and α<sub>i </sub>is the weight for code combining. No matter whether the channel changes or not, the transmit signal is not formed differently, i.e. H<sub>i </sub>changes for different i only due to the channel conditions.
<br/>
Closed loop transmit diversity is achieved by forming the transmit signal via w on multiple antennas in such a way that certain cost function derived from Equation 1 is optimized, such as maximizing SNR, or equivalently minimizing BER. In the closed loop TD, the basis w is determined by the channel information and is feedback from the receiver to the transmitter. Clearly, open loop TD can be viewed as a special case of closed loop TD where w is not optimized with respect to the channel information feedback from the receiver. Closed loop TD schemes usually have the performance advantage over open loop TD schemes due to the feedback information that is not available for the latter. However, the performance can be degraded significantly when the feedback information is quantized using a smaller number of bits.
</p>
<p id="p-0020" num="0019">Since the Acknowledgement (ACK) or Negative-Acknowledgement (NACK) implies the channel condition to a certain degree, this can be taken advantage of and used to form a transmit signal in a TD system. In accordance with the invention a basis set, {w<sub>i</sub>} is defined along with its order. The basis set and its order are pre-determined between transmitter and receiver. When an ACK is received from the receiver, the basis used for the previous transmission remains the same. When a NACK is received, a new basis in the set is used on both the transmitter and receiver. Now, Equation 2 becomes:</p>
<p id="p-0021" num="0020">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mrow>
  <mi>y</mi>
  <mo>=</mo>
  <mrow>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munder>
            <mi>Σ</mi>
            <mi>i</mi>
          </munder>
          <mo>⁢</mo>
          <mi>α</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>i</mi>
          <mo>⁢</mo>
          <msubsup>
            <mover>
              <mi>H</mi>
              <mo>^</mo>
            </mover>
            <mi>i</mi>
            <mi>H</mi>
          </msubsup>
          <mo>⁢</mo>
          <msub>
            <mover>
              <mi>H</mi>
              <mo>^</mo>
            </mover>
            <mi>i</mi>
          </msub>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>⁢</mo>
      <mi>s</mi>
    </mrow>
    <mo>+</mo>
    <mrow>
      <mrow>
        <mo>(</mo>
        <mrow>
          <munder>
            <mi>Σ</mi>
            <mi>i</mi>
          </munder>
          <mo>⁢</mo>
          <mi>α</mi>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mi>i</mi>
          <mo>⁢</mo>
          <msubsup>
            <mover>
              <mi>H</mi>
              <mo>^</mo>
            </mover>
            <mi>i</mi>
            <mi>H</mi>
          </msubsup>
          <mo>⁢</mo>
          <msub>
            <mover>
              <mi>H</mi>
              <mo>^</mo>
            </mover>
            <mi>i</mi>
          </msub>
        </mrow>
        <mo>)</mo>
      </mrow>
      <mo>⁢</mo>
      <mi>n</mi>
    </mrow>
  </mrow>
</mrow>
</math>
</maths>
<br/>
where Ĥ<sub>i </sub>is a channel matrix related to w<sub>i</sub>. The basis set and its order are pre-determined by the transmitter and receiver. The order can also be calculated from for example using a frame counter, index, or selection algorithm known to both the transmitting and receiving devices. It should be noted that this method can easily be extended to other ARQ schemes including H-ARQ schemes, such as incremental redundancy. As an illustration of the present invention, it will be illustrated how a H-ARQ acknowledgement is used to perform basis selection on a multiple transmit and receive antenna system. A four transmit antenna system of the double-STTD (DSTTD) scheme and symbol combining based H-ARQ are used as an illustrative example. Even though a four-antenna DSTTD system is used as an example to illustrate how the system works, this invention is not limited to such TD schemes and antenna configurations, but is applicable to a wide range of TD configuration and schemes.
</p>
<p id="p-0022" num="0021">A transmitter block diagram <b>100</b> for a four antenna DSTTD system in accordance with the present invention is shown in <figref idref="DRAWINGS">FIG. 1</figref>. The incoming data <b>118</b> is de-multiplexed into 2 streams by S/P block <b>120</b>. The two data streams are then STTD encoded by two separate STTD encoders <b>122</b> and <b>124</b>. The four output streams from the STTD encoders <b>122</b> and <b>124</b> are permutated by the basis w <b>106</b> before spreading and modulation. The transmitter <b>100</b> includes a TD basis selection block <b>102</b> which in response to receiving an ARQ signal such as an ACK/NACK <b>102</b> or other ARQ message selects which basis to use in the TD encoding from the basis set block <b>106</b> that has stored therein in this example a set of 4×4 basis matrices. Together, the TD basis selection block <b>102</b> and the basis set block <b>106</b> help form a transmit diversity controller which in responsive to receiving the ARQ signal <b>102</b> automatically determines if a different transmit diversity configuration is required.</p>
<p id="p-0023" num="0022">Different basis can be applied to this TD structure. The simplest one would be different permutations of the 4×4 identity matrix and it results in 24 different permutations. Among them, there are only six different permutation matrices as follows,</p>
<p id="p-0024" num="0023">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mrow>
  <mrow>
    <mrow>
      <msub>
        <mi>w</mi>
        <mn>1</mn>
      </msub>
      <mo>=</mo>
      <mrow>
        <mo>[</mo>
        <mtable>
          <mtr>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <msub>
        <mi>w</mi>
        <mn>2</mn>
      </msub>
      <mo>=</mo>
      <mrow>
        <mo>[</mo>
        <mtable>
          <mtr>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <msub>
        <mi>w</mi>
        <mn>3</mn>
      </msub>
      <mo>=</mo>
      <mrow>
        <mo>[</mo>
        <mtable>
          <mtr>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <msub>
        <mi>w</mi>
        <mn>4</mn>
      </msub>
      <mo>=</mo>
      <mrow>
        <mo>[</mo>
        <mtable>
          <mtr>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <msub>
        <mi>w</mi>
        <mn>5</mn>
      </msub>
      <mo>=</mo>
      <mrow>
        <mo>[</mo>
        <mtable>
          <mtr>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
          </mtr>
          <mtr>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>1</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
            <mtd>
              <mn>0</mn>
            </mtd>
          </mtr>
        </mtable>
        <mo>]</mo>
      </mrow>
    </mrow>
    <mo>,</mo>
    <mrow>
      <msub>
        <mi>w</mi>
        <mn>6</mn>
      </msub>
      <mo>=</mo>
      <mrow>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mn>1</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>1</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>1</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>1</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
              <mtd>
                <mn>0</mn>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
        <mo>.</mo>
      </mrow>
    </mrow>
  </mrow>
  <mo>⁢</mo>
  <mstyle>
    <mspace width="8.9em" height="8.9ex"/>
  </mstyle>
</mrow>
</math>
</maths>
<br/>
In the present invention, data symbols from each of the two STTD encoders <b>122</b> and <b>124</b> are transmitted using the antenna (<b>110</b>-<b>116</b>) selected by the corresponding 1's in the basis matrix. They can be used in different retransmissions in a pre-determined order on both transmit and receive devices if desired. Other basis can also be used.
</p>
<p id="p-0025" num="0024">A more general approach is to use a generalized DSTTD and adaptively change basis for each transmission and retransmissions. An illustrative example of such a system <b>200</b> with 4 transmit antennas <b>202</b>-<b>208</b> is shown in <figref idref="DRAWINGS">FIG. 2</figref> and an example of the basis in this particular example is a rotation matrix as follows,</p>
<p id="p-0026" num="0025">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>w</mi>
          <mi>i</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>[</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mrow>
                    <mi>cos</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>ϕ</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mrow>
                    <mrow>
                      <mo>-</mo>
                      <mi>sin</mi>
                    </mrow>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>ϕ</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>cos</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>ϕ</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mrow>
                    <mrow>
                      <mo>-</mo>
                      <mi>sin</mi>
                    </mrow>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>ϕ</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mrow>
                    <mi>sin</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>ϕ</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>cos</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>ϕ</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>sin</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>ϕ</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mtd>
                <mtd>
                  <mn>0</mn>
                </mtd>
                <mtd>
                  <mrow>
                    <mi>cos</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <mi>ϕ</mi>
                      <mi>i</mi>
                    </msub>
                  </mrow>
                </mtd>
              </mtr>
            </mtable>
            <mo>]</mo>
          </mrow>
          <mo>.</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mstyle>
        <mtext>(Equation  3)</mtext>
      </mstyle>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where φ<sub>i </sub>is chosen from {0, π/8, π/4, 3π/8}. The major difference between <figref idref="DRAWINGS">FIG. 1</figref> and <figref idref="DRAWINGS">FIG. 2</figref> is that the basis is applied before the STTD encoding in the generalized DSTTD in <figref idref="DRAWINGS">FIG. 2</figref> while it is applied after STTD encoding in <figref idref="DRAWINGS">FIG. 1</figref>. Although two different types of basis have been shown above, the present invention can use many different types of basis for the transmissions and/or retransmissions in response to receiving an ARQ signal, such as an ACK or a NACK. The present invention can also use different TD schemes, configurations, and number of transmit antennas other than a 4 transmit antenna DSTTD system.
</p>
<p id="p-0027" num="0026"><figref idref="DRAWINGS">FIGS. 3-6</figref> shows simulation results of the proposed method with 4 transmit antennas and 2 or 4 receive antennas under an Identical Independent Distribution (i.i.d.) channel and a correlated channel. The results are compared with prior art symbol combining based H-ARQ systems using DSTTD with adaptive basis randomly selected from a pre-determined set. Maximum number of retransmission is set to 4, and 4 out of 6 permutation matrices are used. As a further comparison, results using the structure shown in <figref idref="DRAWINGS">FIG. 2</figref>, and the basis given by (Equation 3) are also shown in the graphs.</p>
<p id="p-0028" num="0027">As shown in <figref idref="DRAWINGS">FIGS. 3-6</figref>, in a correlated channel with a (4,2) system and 4 retransmissions, the proposed method with permutation matrices gives about 2 dB gain at 1% BER over the symbol combining based H-ARQ using DSTTD with adaptive basis randomly selected from a pre-determined set. For 3 retransmissions, there is still about 1 dB gain. With the basis in (Equation 3), the gains are smaller, 1.2 dB and 0.8 dB, respectively. In i.i.d channel, the proposed method with permutation matrices gives about 1.2 dB gain at 1% BER over the symbol combining based H-ARQ using DSTTD with adaptive basis randomly selected from a pre-determined set. For a (4,4) system in a correlated channel, the gains are 1 dB and 0.6 dB for 4 and 3 retransmissions, respectively, while in an i.i.d. channel, the gains are 0.5 dB and 0.2 dB at 1% BER, respectively.</p>
<p id="p-0029" num="0028">In <figref idref="DRAWINGS">FIG. 7</figref> there is shown a flowchart highlighting some of the steps taken in accordance with the preferred embodiment. In step <b>702</b>, a communication device transmits a packet (e.g., packet n) to a second communication device using a first (labeled i) TD configuration. In step <b>704</b>, it is determined if an acknowledgment is received from the second communication device. If an acknowledgment (ACK) of a successful reception of packet “n” is received, in step <b>706</b>, the first communication device increments its packet counter and the next packet (e.g., n+1) packet is transmitted in step <b>702</b>. The TD configuration is not changed for the first and second communication devices. If however in decision step <b>704</b> it is determined that the second communication device failed to successfully receive packet “n” it sends a NACK to the first communication device.</p>
<p id="p-0030" num="0029">In response to the NACK, the routine moves to step <b>708</b> where the first communication device determines if the maximum number of retransmissions has been reached. This can be determined by comparing the current attempt number to a stored threshold found in the first communication device. If the maximum number of retransmission for the packet has not been reached, the TD configuration is changed in step <b>712</b>, and the routine loops back to step <b>702</b>. If however, the maximum number of retransmission attempts has been reached as determined in step <b>708</b>, the routine moves to step <b>710</b> where the packet counter (found in the communication device) is incremented so the next packet (n+1) is prepared for transmission. Again, the routine adjusts the TD configuration using a predetermined algorithm, which in this example is set at “i=(i+1) mod I, where i is an index of TD basis and I is the total number of basis in the pre-determined TD basis set, both of which are known to both the first and second communication devices and help the devices determine which basis to apply. The second communication device also adjusts its TD configuration for its receiver unit upon transmitting the NACK to the first communication device.</p>
<p id="p-0031" num="0030">Referring now to <figref idref="DRAWINGS">FIG. 8</figref>, there is shown a communication system including a first communication device <b>802</b> and a second communication device <b>804</b>. Both communication devices <b>802</b> and <b>804</b> preferably comprise transceivers having both transmit and receive capabilities. The ARQ ACK/NACKS <b>806</b> are transmitted by the transmitter of the second communication device <b>804</b> and received by the receiver found in the first communication device <b>802</b>. First communication device <b>802</b> includes a conventional channel encoder coupled in this example to a H-ARQ buffer <b>808</b>, which includes memory and the associated controller used to perform the H-ARQ scheme being employed. The output of the H-ARQ buffer <b>808</b> is coupled to a TD Encoder and the associated TD Basis Selection Control block <b>810</b> that performs the necessary steps in accordance with the present invention in response to an ACK/NACK <b>806</b> being received from the second communication device <b>804</b>. The output from <b>810</b> is modulated by the Modulator Block and transmitted. The transmitter found in communication device <b>804</b> will also have the above described blocks. The transmitter found in communication device <b>804</b> can use other TD schemes or may not use any TD scheme.</p>
<p id="p-0032" num="0031">The ACK/NACK information is used by the ARQ Buffer <b>808</b> and transmit diversity basis (or weighting factor) control <b>810</b> blocks found in the first communication device <b>802</b> to determine if a change in TD basis is required for a subsequent transmission and/or retransmission. Similarly, if the second communication device <b>804</b> sends out a NACK, it will correspondingly change the TD basis in the TD Decoder and the associated TD Basis Selection Control block to handle the next incoming signal in accordance with the method of the present invention. Correspondingly, the receiver section the first communication device <b>802</b> will include a similar TD decode and basis selection control block <b>812</b> like that shown in the receiver section of communication device <b>804</b>. The receiver section in the first communication device <b>802</b> can use different TD schemes or may not use any TD scheme.</p>
<p id="p-0033" num="0032">In summary, the method of the present invention outperforms the conventional ARQ using open loop TD with adaptive basis randomly selected from a pre-determined set in terms of bit-error-rate for a given Energy per bit/noise power spectral density (Eb/No). Furthermore, the present invention does not require extra signaling as closed loop TD systems require.</p>
<p id="p-0034" num="0033">While the preferred embodiments of the invention have been illustrated and described, it will be clear that the invention is not so limited to the TD schemes, basis, and ARQ types that are used to illustrate the invention. Numerous modifications, changes, variations, substitutions and equivalents will occur to those skilled in the art without departing from the spirit and scope of the present invention as defined by the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298717-20071120-M00001.NB">
<img id="EMI-M00001" he="6.01mm" wi="76.20mm" file="US07298717-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US07298717-20071120-M00002.NB">
<img id="EMI-M00002" he="6.01mm" wi="76.20mm" file="US07298717-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US07298717-20071120-M00003.NB">
<img id="EMI-M00003" he="50.46mm" wi="76.20mm" file="US07298717-20071120-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US07298717-20071120-M00004.NB">
<img id="EMI-M00004" he="15.16mm" wi="76.20mm" file="US07298717-20071120-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US07298717-20071120-M00005.NB">
<img id="EMI-M00005" he="15.16mm" wi="76.20mm" file="US07298717-20071120-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>The invention claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method for controlling transmit diversity in a first communication device operating in a system including the first communication device and a second communication device, the first and second communication devices both having stored a pre-determined basis set {w<sub>i</sub>}, the method comprising the steps of:
<claim-text>(a) transmitting a packet from the first communication device to the second communication device by a transmit Diversity (TD) scheme using a first basis from {w<sub>i</sub>};</claim-text>
<claim-text>(b) using the same basis as in step (a) for the next packet to be transmitted by the first communication device if the second communication device sends an acknowledgment (ACK) to the first communication device; and</claim-text>
<claim-text>(c) using a different basis from {w<sub>i</sub>} by both the first and second communication devices if the second communication device sends an negative-acknowledgment (NACK) to the first communication device in response to step (a), wherein the first communication device includes M transmit antennas and the basis is selected by both the first and the second devices from a set of M×M rotation matrices.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. A method as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first communication device includes a plurality of antennas (M) and in step (c) using a different basis by the first communication device causes the first communication device to select a different permutation of the plurality of antennas than the one used in step (a).</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. A method as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first communication device uses different basis for further retransmissions if further retransmissions are required.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the second communication device uses different basis for receiving further retransmissions if further retransmissions are required.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. A method as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first and second communication devices adaptively changes the basis using a pre-determined order or using a selection algorithm known to both devices for each retransmission of a packet.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first communication device includes M transmit antennas and the basis is selected from a set of M×M permutation matrices derived from an identity matrix.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. A method as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein in step (c) where the index of the new basis to be used in the first and second communication devices are derived using a frame counter or index known to both the first and second communication devices.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A method as defined in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the order for which basis to select from a set of M×M matrices in step (c) is known by both the first and second communication devices.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first communication device includes 4 antennas (M=4) and the matrix is defined as</claim-text>
<claim-text>
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mrow>
  <mrow>
    <msub>
      <mi>w</mi>
      <mi>i</mi>
    </msub>
    <mo>=</mo>
    <mrow>
      <mo>[</mo>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mi>cos</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>ϕ</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mtd>
          <mtd>
            <mn>0</mn>
          </mtd>
          <mtd>
            <mrow>
              <mrow>
                <mo>-</mo>
                <mi>sin</mi>
              </mrow>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>ϕ</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mtd>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
          <mtd>
            <mrow>
              <mi>cos</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>ϕ</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mtd>
          <mtd>
            <mn>0</mn>
          </mtd>
          <mtd>
            <mrow>
              <mrow>
                <mo>-</mo>
                <mi>sin</mi>
              </mrow>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>ϕ</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mi>sin</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>ϕ</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mtd>
          <mtd>
            <mn>0</mn>
          </mtd>
          <mtd>
            <mrow>
              <mi>cos</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>ϕ</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mtd>
          <mtd>
            <mn>0</mn>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mn>0</mn>
          </mtd>
          <mtd>
            <mrow>
              <mi>sin</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>ϕ</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mtd>
          <mtd>
            <mn>0</mn>
          </mtd>
          <mtd>
            <mrow>
              <mi>cos</mi>
              <mo>⁢</mo>
              <mstyle>
                <mspace width="0.3em" height="0.3ex"/>
              </mstyle>
              <mo>⁢</mo>
              <msub>
                <mi>ϕ</mi>
                <mi>i</mi>
              </msub>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
      <mo>]</mo>
    </mrow>
  </mrow>
  <mo>,</mo>
</mrow>
</math>
</maths>
</claim-text>
<claim-text>where φ is chosen from {0, π/8, π/4, 3π/8}.</claim-text>
</claim>
</claims>
</us-patent-grant>
