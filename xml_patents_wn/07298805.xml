<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298805-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298805</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10719802</doc-number>
<date>20031121</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>733</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>1</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>375347</main-classification>
</classification-national>
<invention-title id="d0e53">Multi-antenna transmission for spatial division multiple access</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6512737</doc-number>
<kind>B1</kind>
<name>Agee</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>370208</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>2002/0177447</doc-number>
<kind>A1</kind>
<name>Walton</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2003/0043929</doc-number>
<kind>A1</kind>
<name>Sampath</name>
<date>20030300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>15</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>375347</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375346</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375316</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375349</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375350</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375295</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375296</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375259</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375260</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>375285</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>343777</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>343776</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>343772</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>343700 R</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>9</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20050111599</doc-number>
<kind>A1</kind>
<date>20050526</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Walton</last-name>
<first-name>J. Rodney</first-name>
<address>
<city>Carlisle</city>
<state>MA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Ketchum</last-name>
<first-name>John W.</first-name>
<address>
<city>Harvard</city>
<state>MA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Smee</last-name>
<first-name>John Edward</first-name>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Wallace</last-name>
<first-name>Mark S.</first-name>
<address>
<city>Bedford</city>
<state>MA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="005" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Howard</last-name>
<first-name>Steven J.</first-name>
<address>
<city>Ashland</city>
<state>MA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Rouse</last-name>
<first-name>Thomas R.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Franks</last-name>
<first-name>Ross L.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Nguyen</last-name>
<first-name>Thien T.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>QUALCOMM Incorporated</orgname>
<role>02</role>
<address>
<city>San Diego</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Kumar</last-name>
<first-name>Pankaj</first-name>
<department>2611</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An uplink channel response matrix is obtained for each terminal and decomposed to obtain a steering vector used by the terminal to transmit on the uplink. An “effective” uplink channel response vector is formed for each terminal based on its steering vector and its channel response matrix. Multiple sets of terminals are evaluated based on their effective channel response vectors to determine the best set (e.g., with highest overall throughput) for uplink transmission. Each selected terminal performs spatial processing on its data symbol stream with its steering vector and transmits its spatially processed data symbol stream to an access point. The multiple selected terminals simultaneously transmit their data symbol streams via their respective MIMO channels to the access point. The access point performs receiver spatial processing on its received symbol streams in accordance with a receiver spatial processing technique to recover the data symbol streams transmitted by the selected terminals.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="256.12mm" wi="135.55mm" file="US07298805-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="218.86mm" wi="135.97mm" orientation="landscape" file="US07298805-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="256.96mm" wi="142.75mm" file="US07298805-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="256.03mm" wi="150.28mm" file="US07298805-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="257.56mm" wi="182.03mm" orientation="landscape" file="US07298805-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="209.80mm" wi="176.02mm" orientation="landscape" file="US07298805-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="246.80mm" wi="133.18mm" orientation="landscape" file="US07298805-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="229.02mm" wi="190.16mm" file="US07298805-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="211.58mm" wi="136.65mm" orientation="landscape" file="US07298805-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">I. Field</p>
<p id="p-0003" num="0002">The present invention relates generally to data communication, and more specifically to multi-antenna transmission for spatial division multiple access (SDMA) in a multiple-input multiple-output (MIMO) communication system.</p>
<p id="p-0004" num="0003">II. Background</p>
<p id="p-0005" num="0004">A MIMO system employs multiple (N<sub>T</sub>) transmit antennas and multiple (N<sub>R</sub>) receive antennas for data transmission. A MIMO channel formed by the N<sub>T </sub>transmit and N<sub>R </sub>receive antennas may be decomposed into N<sub>S </sub>spatial channels, where N<sub>S</sub>≦min{N<sub>T</sub>, N<sub>R</sub>}. The N<sub>S </sub>spatial channels may be used to transmit N<sub>S </sub>independent data streams to achieve greater overall throughput.</p>
<p id="p-0006" num="0005">In a multiple-access MIMO system, an access point can communicate with one or more user terminals at any given moment. If the access point communicates with a single user terminal, then the N<sub>T </sub>transmit antennas are associated with one transmitting entity (either the access point or the user terminal), and the N<sub>R </sub>receive antennas are associated with one receiving entity (either the user terminal or the access point). The access point can also communicate with multiple user terminals simultaneously via SDMA. For SDMA, the access point utilizes multiple antennas for data transmission and reception, and each of the user terminals typically utilizes one antenna for data transmission and multiple antennas for data reception.</p>
<p id="p-0007" num="0006">Some key challenges for SDMA in a multiple-access MIMO system are (1) selecting the proper set of user terminals for simultaneous transmission and (2) transmitting data to and/or from each selected user terminal in a manner to achieve good system performance. There is therefore a need in the art for techniques to efficiently support SDMA for a multiple-access MIMO system.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0008" num="0007">Techniques for performing multi-antenna transmission for SDMA in a MIMO system are described herein. These techniques may be used in combination with various wireless technologies such as Code Division Multiple Access (CDMA), Orthogonal Frequency Division Multiplexing (OFDM), Time Division Multiple Access (TDMA), and so on. For uplink transmission by multiple user terminals to a single access point, an uplink channel response matrix is obtained for each active user terminal (e.g., a terminal desiring to transmit on the uplink) and decomposed to obtain a steering vector for the user terminal. Each user terminal uses its steering vector for spatial processing to transmit on the uplink, if selected for uplink transmission. An “effective” uplink channel response vector is formed for each user terminal based on the steering vector and the uplink channel response matrix for the user terminal.</p>
<p id="p-0009" num="0008">For each scheduling interval (e.g., each time slot), multiple sets of active user terminals are formed and evaluated based on their effective channel response vectors (or their channel response matrices) to determine the best set of N<sub>up </sub>user terminals for uplink transmission in that scheduling interval. For example, the user set with the highest overall throughput may be selected. In effect, the spatial signatures of the user terminals as well as multi-user diversity are exploited to select a set of “spatially compatible” user terminals for simultaneous transmission on the uplink, as described below. The same or different number of user terminals may be selected for uplink transmission in different scheduling intervals.</p>
<p id="p-0010" num="0009">Each user terminal selected for uplink transmission processes its data stream in accordance with the underlying wireless technology (e.g., CDMA, OFDM, or TDMA) to obtain a data symbol stream. Each user terminal further performs spatial processing on its data symbol stream with its steering vector to obtain a set of transmit symbol streams, one transmit symbol stream for each antenna at the user terminal. Each user terminal then transmits its transmit symbol streams from its multiple antennas and via its MIMO channel to the access point. The N<sub>up </sub>selected user terminals simultaneously transmit their N<sub>up </sub>data symbol streams (e.g., one data symbol stream for each terminal) via their respective MIMO channels to the access point. The access point obtains multiple received symbol streams from its multiple antennas. The access point then performs receiver spatial processing on the received symbol streams in accordance with a linear or non-linear receiver spatial processing technique to recover the N<sub>up </sub>data symbol streams transmitted by the N<sub>up </sub>selected user terminals, as described below.</p>
<p id="p-0011" num="0010">The techniques to support SDMA transmission on the downlink are also described herein. Various aspects and embodiments of the invention are described in further detail below.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 1</figref> shows a multiple-access MIMO system;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 2</figref> shows a process for performing multi-antenna transmission on the uplink for SDMA;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 3</figref> shows a process for evaluating and selecting user terminals for simultaneous transmission on the uplink;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 4</figref> shows a block diagram of an access point and two user terminals;</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIGS. 5A and 5B</figref> show block diagrams of transmit (TX) data processors for CDMA and OFDM, respectively;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 6</figref> shows the spatial processing at the access point and one user terminal for downlink and uplink transmission;</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 7</figref> shows a receive spatial processor and a receive data processor; and</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 8</figref> shows a controller and a scheduler at the access point.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0020" num="0019">The word “exemplary” is used herein to mean “serving as an example, instance, or illustration.” Any embodiment described herein as “exemplary” is not necessarily to be construed as preferred or advantageous over other embodiments.</p>
<p id="p-0021" num="0020">The multi-antenna transmission techniques described herein may be used in combination with various wireless technologies such as CDMA, OFDM, TDMA, and so on. Multiple user terminals can concurrently transmit/receive data via different (1) orthogonal code channels for CDMA, (2) time slots for TDMA, or (3) subbands for OFDM. A CDMA system may implement IS-2000, IS-95, IS-856, Wideband-CDMA (W-CDMA), or some other standards. An OFDM system may implement IEEE 802.11 or some other standards. A TDMA system may implement GSM or some other standards. These various standards are known in the art. The spatial processing for multi-antenna transmission may be performed on top of (either before or after) the data processing for the underlying wireless technology, as described below.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 1</figref> shows a multiple-access MIMO system <b>100</b> with access points and user terminals. For simplicity, only one access point <b>110</b> is shown in <figref idref="DRAWINGS">FIG. 1</figref>. An access point is generally a fixed station that communicates with the user terminals and may also be referred to as a base station or some other terminology. A user terminal may be fixed or mobile and may also be referred to as a mobile station, a wireless device, or some other terminology. Access point <b>110</b> may communicate with one or more user terminals <b>120</b> at any given moment on the downlink and uplink. The downlink (i.e., forward link) is the communication link from the access point to the user terminals, and the uplink (i.e., reverse link) is the communication link from the user terminals to the access point. A user terminal may also communicate peer-to-peer with another user terminal. A system controller <b>130</b> couples to and provides coordination and control for the access points.</p>
<p id="p-0023" num="0022">System <b>100</b> employs multiple transmit and multiple receive antennas for data transmission on the downlink and uplink. Access point <b>110</b> is equipped with N<sub>ap </sub>antennas and represents the multiple-input (MI) for downlink transmissions and the multiple-output (MO) for uplink transmissions. A set of N<sub>u </sub>selected user terminals <b>120</b> collectively represents the multiple-output for downlink transmissions and the multiple-input for uplink transmissions. For pure SDMA, it is desired to have N<sub>ap</sub>≧N<sub>u</sub>≧1 if the data symbol streams for the N<sub>u </sub>user terminals are not multiplexed in code, frequency, or time by some means. N<sub>u </sub>may be greater than N<sub>ap </sub>if the data symbol streams can be multiplexed using different code channels with CDMA, disjoint sets of subbands with OFDM, and so on. Each selected user terminal transmits user-specific data to and/or receives user-specific data from the access point. In general, each selected user terminal may be equipped with one or multiple antennas (i.e., N<sub>ut</sub>≧1). The N<sub>u </sub>selected user terminals can have the same or different number of antennas.</p>
<p id="p-0024" num="0023">System <b>100</b> may be a time division duplex (TDD) system or a frequency division duplex (FDD) system. For a TDD system, the downlink and uplink share the same frequency band. For an FDD system, the downlink and uplink use different frequency bands. MIMO system <b>100</b> may also utilize a single carrier or multiple carriers for transmission. For simplicity, the following description assumes that (1) system <b>100</b> is a single-carrier system and (2) each user terminal is equipped with multiple antennas. For clarity, data transmission on the uplink is described below.</p>
<p id="p-0025" num="0024">An uplink MIMO channel formed by the N<sub>ap </sub>antennas at the access point and the N<sub>ut,m </sub>antennas at a given user terminal m may be characterized by an N<sub>ap</sub>×N<sub>ut,m </sub>channel response matrix H<sub>up,m</sub>, which may be expressed as:</p>
<p id="p-0026" num="0025">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <munder>
              <mi>H</mi>
              <mi>_</mi>
            </munder>
            <mrow>
              <mi>up</mi>
              <mo>,</mo>
              <mi>m</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <mo>[</mo>
            <mtable>
              <mtr>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <mn>1</mn>
                      <mo>,</mo>
                      <mn>1</mn>
                    </mrow>
                  </msub>
                </mtd>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <mn>1</mn>
                      <mo>,</mo>
                      <mn>2</mn>
                    </mrow>
                  </msub>
                </mtd>
                <mtd>
                  <mi>⋯</mi>
                </mtd>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <mn>1</mn>
                      <mo>,</mo>
                      <msub>
                        <mi>N</mi>
                        <mrow>
                          <mi>ut</mi>
                          <mo>,</mo>
                          <mi>m</mi>
                        </mrow>
                      </msub>
                    </mrow>
                  </msub>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <mn>2</mn>
                      <mo>,</mo>
                      <mn>1</mn>
                    </mrow>
                  </msub>
                </mtd>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <mn>2</mn>
                      <mo>,</mo>
                      <mn>2</mn>
                    </mrow>
                  </msub>
                </mtd>
                <mtd>
                  <mi>⋯</mi>
                </mtd>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <mn>2</mn>
                      <mo>,</mo>
                      <msub>
                        <mi>N</mi>
                        <mrow>
                          <mi>ut</mi>
                          <mo>,</mo>
                          <mi>m</mi>
                        </mrow>
                      </msub>
                    </mrow>
                  </msub>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>⋮</mi>
                </mtd>
                <mtd>
                  <mi>⋮</mi>
                </mtd>
                <mtd>
                  <mi>⋰</mi>
                </mtd>
                <mtd>
                  <mi>⋮</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <msub>
                        <mi>N</mi>
                        <mi>ap</mi>
                      </msub>
                      <mo>,</mo>
                      <mn>1</mn>
                    </mrow>
                  </msub>
                </mtd>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <msub>
                        <mi>N</mi>
                        <mi>ap</mi>
                      </msub>
                      <mo>,</mo>
                      <mn>2</mn>
                    </mrow>
                  </msub>
                </mtd>
                <mtd>
                  <mi>⋯</mi>
                </mtd>
                <mtd>
                  <msub>
                    <mi>h</mi>
                    <mrow>
                      <msub>
                        <mi>N</mi>
                        <mi>ap</mi>
                      </msub>
                      <mo>,</mo>
                      <msub>
                        <mi>N</mi>
                        <mrow>
                          <mi>ut</mi>
                          <mo>,</mo>
                          <mi>m</mi>
                        </mrow>
                      </msub>
                    </mrow>
                  </msub>
                </mtd>
              </mtr>
            </mtable>
            <mo>]</mo>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>1</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where entry h<sub>i,j</sub>, for i=1 . . . N<sub>ap </sub>and j=1 . . . N<sub>ut,m</sub>, is the coupling (i.e., complex gain) between access point antenna i and user terminal antenna j. For simplicity, the MIMO channel is assumed to be non-dispersive (i.e., flat fading), and the coupling between each transmit and receive antenna pair is represented with a single complex gain h<sub>i,j</sub>. In general, each user terminal is associated with a different uplink channel response matrix having dimensions determined by the number of antennas at that user terminal.
</p>
<p id="p-0027" num="0026">The uplink channel response matrix H<sub>up,m </sub>for user terminal m may be “diagonalized” using either singular value decomposition or eigenvalue decomposition to obtain N<sub>m </sub>eigenmodes of H<sub>up,m</sub>. The singular value decomposition of H<sub>up,m </sub>may be expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>H</i><sub>up,m</sub><i>=U</i><sub>up,m</sub><i><u style="single">Σ</u></i><sub>up,m</sub><i>V</i><sub>up,m</sub><sup>H</sup>,  Eq (2)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where U<sub>up,m </sub>is an N<sub>ap</sub>×N<sub>ap </sub>unitary matrix of left eigenvectors of H<sub>up,m</sub>;
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0027"><u style="single">Σ</u><sub>up,m </sub>is an N<sub>ap</sub>×N<sub>ut,m </sub>diagonal matrix of singular values of H<sub>up,m</sub>;</li>
        <li id="ul0002-0002" num="0028">V<sub>up,m </sub>is an N<sub>ut,m</sub>×N<sub>ut,m </sub>unitary matrix of right eigenvectors of H<sub>up,m</sub>; and</li>
        <li id="ul0002-0003" num="0029">“<sup>H</sup>” denotes the conjugate transpose.
<br/>
A unitary matrix M is characterized by the property M<sup>H</sup>M=I, where I is matrix. The columns of a unitary matrix are orthogonal to one another.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0028" num="0030">The eigenvalue decomposition of a correlation matrix of H<sub>up,m </sub>may be expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i><u style="single">R</u></i><sub>up,m</sub><i>=H</i><sub>up,m</sub><sup>H</sup><i>H</i><sub>up,m</sub><i>=V</i><sub>up,m</sub><i>Λ</i><sub>up,m</sub><i>V</i><sub>up,m</sub><sup>H</sup>,  Eq (3)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where <u style="single">R</u><sub>up,m </sub>is the N<sub>ut,m</sub>×N<sub>ut,m </sub>correlation matrix of H<sub>up,m</sub>; and
<ul id="ul0003" list-style="none">
    <li id="ul0003-0001" num="0000">
    <ul id="ul0004" list-style="none">
        <li id="ul0004-0001" num="0031">Λ<sub>up,m </sub>is an N<sub>ut,m</sub>×N<sub>ut,m </sub>diagonal matrix of eigenvalues of <u style="single">R</u><sub>up,m</sub>.
<br/>
Singular value decomposition and eigenvalue decomposition are known in the art and described, for example, by Gilbert Strang in “Linear Algebra and Its Applications,” Second Edition, Academic Press, 1980.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0029" num="0032">As shown in equations (2) and (3), the columns of V<sub>up,m </sub>are the right eigenvectors of H<sub>up,m </sub>as well as the eigenvectors of <u style="single">R</u><sub>up,m</sub>. The right eigenvectors of H<sub>up,m </sub>are also referred to as “steering” vectors and may be used for spatial processing by user terminal m to transmit data on the N<sub>m </sub>eigenmodes of H<sub>up,m</sub>. The eigenmodes may be viewed as orthogonal spatial channels obtained through decomposition.</p>
<p id="p-0030" num="0033">The diagonal matrix <u style="single">Σ</u><sub>up,m </sub>contains non-negative real values along the diagonal and zeros elsewhere. These diagonal entries are known as the singular values of H<sub>up,m </sub>and represent the channel gains for the N<sub>m </sub>eigenmodes of H<sub>up,m</sub>. The singular values in <u style="single">Σ</u><sub>up,m </sub>are also the square roots of the eigenvalues in Λ<sub>up,m</sub>. The singular values in <u style="single">Σ</u><sub>up,m </sub>may be ordered from largest to smallest, and the eigenvectors in V<sub>up,m </sub>may be ordered correspondingly. The principal (i.e., dominant) eigenmode is the eigenmode associated with the largest singular value in <u style="single">Σ</u><sub>up,m</sub>, which is the first singular value after the ordering. The eigenvector for the principal eigenmode of H<sub>up,m </sub>is the first column of V<sub>up,m </sub>after the ordering and is denoted as <u style="single">v</u><sub>up,m</sub>.</p>
<p id="p-0031" num="0034">In a practical system, only an estimate of H<sub>up,m </sub>can be obtained, and only estimates of V<sub>up,m</sub>, <u style="single">Σ</u><sub>up,m </sub>and U<sub>up,m </sub>can be derived. For simplicity, the description herein assumes channel estimation and decomposition without errors.</p>
<p id="p-0032" num="0035">With SDMA, N<sub>up </sub>user terminals can transmit data concurrently on the uplink to the access point. Each user terminal performs spatial processing on its data using a steering vector, which may be derived (1) based on the eigenvector <u style="single">v</u><sub>up,m </sub>for the principal eigenmode of the wireless channel for that terminal or (2) in some other manner. Each of the N<sub>up </sub>user terminals can transmit data on the principal eigenmode of its uplink MIMO channel using either “beam-forming” or “beam-steering”, as described below.</p>
<p id="p-0033" num="0036">1. Beam-Forming</p>
<p id="p-0034" num="0037">For beam-forming, each user terminal m spatially processes its data symbol stream {s<sub>up,m</sub>} with its steering vector V<sub>up,m </sub>to obtain N<sub>ut,m </sub>transmit symbol streams, as follows:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i><sub>up,m</sub><i>=<u style="single">v</u></i><sub>up,m</sub><i>·s</i><sub>up,m</sub>,  Eq (4)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where s<sub>up,m </sub>is a data symbol to be transmitted by user terminal m; and
<ul id="ul0005" list-style="none">
    <li id="ul0005-0001" num="0000">
    <ul id="ul0006" list-style="none">
        <li id="ul0006-0001" num="0038">x<sub>up,m </sub>is an N<sub>ut,m</sub>×1 vector with N<sub>ut,m </sub>transmit symbols to be sent from the N<sub>ut,m </sub>antennas at user terminal m.
<br/>
As used herein, a “data symbol” refers to a modulation symbol for data, and a “pilot symbol” refers to a modulation symbol for pilot. Although not shown in equation (4) for simplicity, each user terminal m may further scale each of the N<sub>ut,m </sub>transmit symbols in the vector x<sub>up,m </sub>with a scaling factor G<sub>m </sub>such that the total energy for the N<sub>ut,m </sub>transmit symbols is unity or some other selected value. Each user terminal m transmits its N<sub>ut,m </sub>transmit symbol streams via its uplink MIMO channel to the access point.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0035" num="0039">At the access point, the received symbols obtained for each user terminal m may be expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i><u style="single">r</u></i><sub>up,m</sub><i>=H</i><sub>up,m</sub><i>x</i><sub>up,m</sub><i>+<u style="single">n</u></i><sub>up,m</sub><i>=H</i><sub>up,m</sub><i><u style="single">v</u></i><sub>up,m</sub><i>s</i><sub>up,m</sub><i>+<u style="single">n</u></i><sub>up,m</sub><i>=h</i><sub>up,eff,m</sub><i>s</i><sub>up,m</sub><i>+<u style="single">n</u></i><sub>up,m</sub>,  Eq (5)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where <u style="single">r</u><sub>up,m </sub>is an N<sub>ap</sub>×1 vector with N<sub>ap </sub>received symbols obtained from the N<sub>ap </sub>access point antennas for user terminal m;
<ul id="ul0007" list-style="none">
    <li id="ul0007-0001" num="0000">
    <ul id="ul0008" list-style="none">
        <li id="ul0008-0001" num="0040">h<sub>up,eff,m </sub>is an N<sub>ap</sub>×1 “effective” uplink channel response vector for user terminal m, which is h<sub>up,eff,m</sub>=H<sub>up,m</sub><u style="single">v</u><sub>up,m</sub>; and</li>
        <li id="ul0008-0002" num="0041"><u style="single">n</u><sub>up,m </sub>is an N<sub>ap</sub>×1 noise vector for user terminal m.
<br/>
The spatial processing by each user terminal m effectively transforms its MIMO channel with a channel response matrix of H<sub>up,m </sub>into a single-input multiple-output (SIMO) channel with a channel response vector of h<sub>up,eff,m</sub>.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0036" num="0042">The received symbols at the access point for all N<sub>up </sub>user terminals transmitting simultaneously may be expressed as:</p>
<p id="p-0037" num="0043">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <msub>
                <munder>
                  <mi>r</mi>
                  <mi>_</mi>
                </munder>
                <mi>up</mi>
              </msub>
              <mo>=</mo>
              <mrow>
                <mrow>
                  <msub>
                    <munder>
                      <mi>H</mi>
                      <mi>_</mi>
                    </munder>
                    <mrow>
                      <mi>up</mi>
                      <mo>,</mo>
                      <mi>eff</mi>
                    </mrow>
                  </msub>
                  <mo>⁢</mo>
                  <msub>
                    <munder>
                      <mi>s</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>up</mi>
                  </msub>
                </mrow>
                <mo>+</mo>
                <msub>
                  <munder>
                    <mi>n</mi>
                    <mi>_</mi>
                  </munder>
                  <mi>up</mi>
                </msub>
              </mrow>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <munderover>
                      <mo>∑</mo>
                      <mrow>
                        <mi>m</mi>
                        <mo>=</mo>
                        <mn>1</mn>
                      </mrow>
                      <msub>
                        <mi>N</mi>
                        <mi>up</mi>
                      </msub>
                    </munderover>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <msub>
                      <munder>
                        <mi>r</mi>
                        <mi>_</mi>
                      </munder>
                      <mrow>
                        <mi>up</mi>
                        <mo>,</mo>
                        <mi>m</mi>
                      </mrow>
                    </msub>
                  </mrow>
                  <mo>=</mo>
                  <mrow>
                    <mrow>
                      <munderover>
                        <mo>∑</mo>
                        <mrow>
                          <mi>m</mi>
                          <mo>=</mo>
                          <mn>1</mn>
                        </mrow>
                        <msub>
                          <mi>N</mi>
                          <mi>up</mi>
                        </msub>
                      </munderover>
                      <mo>⁢</mo>
                      <mstyle>
                        <mspace width="0.3em" height="0.3ex"/>
                      </mstyle>
                      <mo>⁢</mo>
                      <mrow>
                        <msub>
                          <munder>
                            <mi>h</mi>
                            <mi>_</mi>
                          </munder>
                          <mrow>
                            <mi>up</mi>
                            <mo>,</mo>
                            <mi>eff</mi>
                            <mo>,</mo>
                            <mi>m</mi>
                          </mrow>
                        </msub>
                        <mo>⁢</mo>
                        <msub>
                          <mi>s</mi>
                          <mrow>
                            <mi>up</mi>
                            <mo>,</mo>
                            <mi>m</mi>
                          </mrow>
                        </msub>
                      </mrow>
                    </mrow>
                    <mo>+</mo>
                    <msub>
                      <munder>
                        <mi>n</mi>
                        <mi>_</mi>
                      </munder>
                      <mrow>
                        <mi>up</mi>
                        <mo>,</mo>
                        <mi>m</mi>
                      </mrow>
                    </msub>
                  </mrow>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>6</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where <u style="single">s</u><sub>up </sub>is an N<sub>up</sub>×1 vector with N<sub>up </sub>data symbols transmitted by the N<sub>up </sub>user terminals, which is <u style="single">s</u><sub>up</sub>=[s<sub>up,1</sub>, s<sub>up,2 </sub>. . . s<sub>up,N</sub><sub><sub2>ap</sub2></sub>]<sup>T</sup>;
<ul id="ul0009" list-style="none">
    <li id="ul0009-0001" num="0000">
    <ul id="ul0010" list-style="none">
        <li id="ul0010-0001" num="0044">H<sub>up,eff </sub>is an N<sub>ap</sub>×N<sub>up </sub>effective uplink channel response matrix for all N<sub>up </sub>user terminals, which is H<sub>up,eff</sub>=[h<sub>up,eff,1 </sub>h<sub>up,eff,2 </sub>. . . h<sub>up,eff,N</sub><sub><sub2>ap</sub2></sub>]; and</li>
        <li id="ul0010-0002" num="0045"><u style="single">n</u><sub>up </sub>is an N<sub>ap</sub>×1 noise vector at the access point.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0038" num="0046">The access point can recover the N<sub>up </sub>data symbol streams transmitted by the N<sub>up </sub>user terminals using various receiver processing techniques such as a channel correlation matrix inversion (CCMI) technique (which is also commonly referred to as a zero-forcing technique), a minimum mean square error (MMSE) technique, a successive interference cancellation (SIC) technique, and so on.</p>
<p id="p-0039" num="0047">A. CCMI Spatial Processing</p>
<p id="p-0040" num="0048">For the CCMI technique, the access point performs receiver spatial processing as follows:</p>
<p id="p-0041" num="0049">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <msub>
                  <munder>
                    <mover>
                      <mi>s</mi>
                      <mo>^</mo>
                    </mover>
                    <mi>_</mi>
                  </munder>
                  <mi>ccmi</mi>
                </msub>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <munder>
                      <mi>M</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>ccmi</mi>
                  </msub>
                  <mo>⁢</mo>
                  <msub>
                    <munder>
                      <mi>r</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>up</mi>
                  </msub>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mo>=</mo>
                <mrow>
                  <msubsup>
                    <munder>
                      <mi>R</mi>
                      <mi>_</mi>
                    </munder>
                    <mrow>
                      <mi>up</mi>
                      <mo>,</mo>
                      <mi>eff</mi>
                    </mrow>
                    <mrow>
                      <mo>-</mo>
                      <mn>1</mn>
                    </mrow>
                  </msubsup>
                  <mo>⁢</mo>
                  <mrow>
                    <msubsup>
                      <munder>
                        <mi>H</mi>
                        <mi>_</mi>
                      </munder>
                      <mrow>
                        <mi>up</mi>
                        <mo>,</mo>
                        <mi>eff</mi>
                      </mrow>
                      <mi>H</mi>
                    </msubsup>
                    <mo>⁡</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mrow>
                          <msub>
                            <munder>
                              <mi>H</mi>
                              <mi>_</mi>
                            </munder>
                            <mrow>
                              <mi>up</mi>
                              <mo>,</mo>
                              <mi>eff</mi>
                            </mrow>
                          </msub>
                          <mo>⁢</mo>
                          <msub>
                            <munder>
                              <mi>s</mi>
                              <mi>_</mi>
                            </munder>
                            <mi>up</mi>
                          </msub>
                        </mrow>
                        <mo>+</mo>
                        <msub>
                          <munder>
                            <mi>n</mi>
                            <mi>_</mi>
                          </munder>
                          <mi>up</mi>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <munder>
                      <mi>s</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>up</mi>
                  </msub>
                  <mo>+</mo>
                  <msub>
                    <munder>
                      <mi>n</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>ccmi</mi>
                  </msub>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>7</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where M<sub>ccmi </sub>is an N<sub>up</sub>×N<sub>ap </sub>spatial filter matrix for the CCMI technique, which is M<sub>ccmi</sub>=<u style="single">R</u><sub>up,eff</sub><sup>−1</sup>H<sub>up,eff</sub><sup>H</sup>, where <u style="single">R</u><sub>up,eff</sub>=<u style="single">H</u><sub>up,eff</sub><sup>H</sup>H<sub>up,eff</sub>;
<ul id="ul0011" list-style="none">
    <li id="ul0011-0001" num="0000">
    <ul id="ul0012" list-style="none">
        <li id="ul0012-0001" num="0050"><u style="single">ŝ</u><sub>ccmi </sub>is an N<sub>up</sub>×1 vector with N<sub>up </sub>recovered data symbols for the N<sub>up </sub>user terminals with the CCMI technique; and</li>
        <li id="ul0012-0002" num="0051"><u style="single">n</u><sub>ccmi</sub>=M<sub>ccmi</sub><u style="single">n</u><sub>up </sub>is the CCMI filtered noise.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0042" num="0052">For simplicity, the noise <u style="single">n</u><sub>up </sub>is assumed to be additive white Gaussian noise (AWGN) with zero mean, a variance of σ<sub>n</sub><sup>2</sup>, and an autocovariance matrix of φ<sub>nn</sub>=E[<u style="single">n</u><sub>up</sub><u style="single">n</u><sub>up</sub><sup>H</sup>]=σ<sub>n</sub><sup>2</sup>I, where E[x] is the expected value of x. In this case, the signal-to-noise-and-interference ratio (SNR) of the recovered data symbol stream {ŝ<sub>ccmi,m</sub>} for each user terminal m may be expressed as:</p>
<p id="p-0043" num="0053">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>γ</mi>
            <mrow>
              <mi>ccmi</mi>
              <mo>,</mo>
              <mi>m</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mfrac>
            <msub>
              <mi>P</mi>
              <mrow>
                <mi>ut</mi>
                <mo>,</mo>
                <mi>m</mi>
              </mrow>
            </msub>
            <mrow>
              <msub>
                <mi>r</mi>
                <mrow>
                  <mi>m</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>m</mi>
                </mrow>
              </msub>
              <mo>⁢</mo>
              <msubsup>
                <mi>σ</mi>
                <mi>n</mi>
                <mn>2</mn>
              </msubsup>
            </mrow>
          </mfrac>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mrow>
            <mi>for</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>m</mi>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.6em" height="0.6ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>…</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.6em" height="0.6ex"/>
            </mstyle>
            <mo>⁢</mo>
            <msub>
              <mi>N</mi>
              <mi>up</mi>
            </msub>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>8</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where P<sub>ut,m </sub>is the transmit power used by user terminal m;
<ul id="ul0013" list-style="none">
    <li id="ul0013-0001" num="0000">
    <ul id="ul0014" list-style="none">
        <li id="ul0014-0001" num="0054">r<sub>mm </sub>is the m-th diagonal element of <u style="single">R</u><sub>up,eff</sub>; and</li>
        <li id="ul0014-0002" num="0055">γ<sub>ccmi,m </sub>is the SNR for user terminal m with the CCMI technique.
<br/>
Due to the structure of <u style="single">R</u><sub>up,eff</sub>, the CCMI technique may amplify the noise.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0044" num="0056">B. MMSE Spatial Processing</p>
<p id="p-0045" num="0057">For the MMSE technique, a spatial filter matrix M<sub>mmse </sub>is derived such that the mean square error between the estimated data vector from the MMSE spatial filter and the data vector <u style="single">s</u><sub>up </sub>is minimized. This MMSE criterion may be expressed as:</p>
<p id="p-0046" num="0058">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <munder>
            <mi>min</mi>
            <msub>
              <munder>
                <mi>M</mi>
                <mi>_</mi>
              </munder>
              <mi>mmse</mi>
            </msub>
          </munder>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mrow>
            <mi>E</mi>
            <mo>⁡</mo>
            <mrow>
              <mo>[</mo>
              <mrow>
                <msup>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mrow>
                        <msub>
                          <munder>
                            <mi>M</mi>
                            <mi>_</mi>
                          </munder>
                          <mi>mmse</mi>
                        </msub>
                        <mo>⁢</mo>
                        <msub>
                          <munder>
                            <mi>r</mi>
                            <mi>_</mi>
                          </munder>
                          <mi>up</mi>
                        </msub>
                      </mrow>
                      <mo>-</mo>
                      <msub>
                        <munder>
                          <mi>s</mi>
                          <mi>_</mi>
                        </munder>
                        <mi>up</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                  <mi>H</mi>
                </msup>
                <mo>⁢</mo>
                <mrow>
                  <mo>(</mo>
                  <mrow>
                    <mrow>
                      <msub>
                        <munder>
                          <mi>M</mi>
                          <mi>_</mi>
                        </munder>
                        <mi>mmse</mi>
                      </msub>
                      <mo>⁢</mo>
                      <msub>
                        <munder>
                          <mi>r</mi>
                          <mi>_</mi>
                        </munder>
                        <mi>up</mi>
                      </msub>
                    </mrow>
                    <mo>-</mo>
                    <msub>
                      <munder>
                        <mi>s</mi>
                        <mi>_</mi>
                      </munder>
                      <mi>up</mi>
                    </msub>
                  </mrow>
                  <mo>)</mo>
                </mrow>
              </mrow>
              <mo>]</mo>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="1.1em" height="1.1ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>9</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where M<sub>mmse </sub>is the N<sub>up</sub>×N<sub>ap </sub>spatial filter matrix for the MMSE technique.
</p>
<p id="p-0047" num="0059">The solution to the optimization problem posed in equation (9) may be obtained in various manners. In one exemplary method, the MMSE spatial filter matrix M<sub>mmse </sub>is derived as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>M</i><sub>mmse</sub><i>=H</i><sub>up,eff</sub><sup>H</sup><i>[H</i><sub>up,eff</sub><i>H</i><sub>up,eff</sub><sup>H</sup>+σ<sub>n</sub><sup>2</sup><i>I]</i><sup>−1</sup>.  Eq (10)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The spatial filter matrix M<sub>mmse </sub>contains N<sub>up </sub>rows for N<sub>up </sub>MMSE spatial filter row vectors for the N<sub>up </sub>user terminals. The MMSE spatial filter row vector for each user terminal may be expressed as <u style="single">m</u><sub>mmse,m</sub>=h<sub>up,eff,m</sub><sup>H</sup>G, where G=[H<sub>up,eff</sub>H<sub>up,eff</sub><sup>H</sup>+σ<sub>n</sub><sup>2</sup>I]<sup>−1</sup>.
</p>
<p id="p-0048" num="0060">The access point performs receiver spatial processing as follows:</p>
<p id="p-0049" num="0061">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <msub>
                  <munder>
                    <mover>
                      <mi>s</mi>
                      <mo>^</mo>
                    </mover>
                    <mi>_</mi>
                  </munder>
                  <mi>mmse</mi>
                </msub>
                <mo>=</mo>
                <mrow>
                  <msubsup>
                    <munder>
                      <mi>D</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>mmse</mi>
                    <mrow>
                      <mo>-</mo>
                      <mn>1</mn>
                    </mrow>
                  </msubsup>
                  <mo>⁢</mo>
                  <msub>
                    <munder>
                      <mi>M</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>mmse</mi>
                  </msub>
                  <mo>⁢</mo>
                  <msub>
                    <munder>
                      <mi>r</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>up</mi>
                  </msub>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mo>=</mo>
                <mrow>
                  <msubsup>
                    <munder>
                      <mi>D</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>mmse</mi>
                    <mrow>
                      <mo>-</mo>
                      <mn>1</mn>
                    </mrow>
                  </msubsup>
                  <mo>⁢</mo>
                  <mrow>
                    <msub>
                      <munder>
                        <mi>M</mi>
                        <mi>_</mi>
                      </munder>
                      <mi>mmse</mi>
                    </msub>
                    <mo>⁡</mo>
                    <mrow>
                      <mo>(</mo>
                      <mrow>
                        <mrow>
                          <msub>
                            <munder>
                              <mi>H</mi>
                              <mi>_</mi>
                            </munder>
                            <mrow>
                              <mi>up</mi>
                              <mo>,</mo>
                              <mi>eff</mi>
                            </mrow>
                          </msub>
                          <mo>⁢</mo>
                          <msub>
                            <munder>
                              <mi>s</mi>
                              <mi>_</mi>
                            </munder>
                            <mi>up</mi>
                          </msub>
                        </mrow>
                        <mo>+</mo>
                        <msub>
                          <munder>
                            <mi>n</mi>
                            <mi>_</mi>
                          </munder>
                          <mi>up</mi>
                        </msub>
                      </mrow>
                      <mo>)</mo>
                    </mrow>
                  </mrow>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mo>=</mo>
                <mrow>
                  <msub>
                    <munder>
                      <mi>s</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>up</mi>
                  </msub>
                  <mo>+</mo>
                  <msub>
                    <munder>
                      <mi>n</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>mmse</mi>
                  </msub>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>11</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where D<sub>mmse </sub>is an N<sub>up</sub>×N<sub>up </sub>diagonal matrix whose diagonal elements are the diagonal elements of M<sub>mmse</sub>H<sub>up,eff</sub>, i.e., D<sub>mmse</sub>=diag[M<sub>mmse</sub>H<sub>up,eff</sub>];
<ul id="ul0015" list-style="none">
    <li id="ul0015-0001" num="0000">
    <ul id="ul0016" list-style="none">
        <li id="ul0016-0001" num="0062"><u style="single">ŝ</u><sub>mmse </sub>is an N<sub>up</sub>×1 recovered data symbol vector for the MMSE technique; and</li>
        <li id="ul0016-0002" num="0063"><u style="single">n</u><sub>mmse</sub>=M<sub>mmse</sub><u style="single">n</u><sub>up </sub>is the MMSE filtered noise.
<br/>
In equation (11), the MMSE spatial filter provides an unnormalized estimate of <u style="single">s</u><sub>up</sub>, and the scaling by the diagonal matrix D<sub>mmse</sub><sup>−1 </sup>provides a normalized estimate of <u style="single">s</u><sub>up</sub>.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0050" num="0064">The SNR of the recovered data symbol stream {ŝ<sub>mmse,m</sub>} for each user terminal m may be expressed as:</p>
<p id="p-0051" num="0065">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>γ</mi>
            <mrow>
              <mi>mmse</mi>
              <mo>,</mo>
              <mi>m</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <mfrac>
              <msub>
                <mi>q</mi>
                <mrow>
                  <mi>m</mi>
                  <mo>⁢</mo>
                  <mstyle>
                    <mspace width="0.3em" height="0.3ex"/>
                  </mstyle>
                  <mo>⁢</mo>
                  <mi>m</mi>
                </mrow>
              </msub>
              <mrow>
                <mn>1</mn>
                <mo>-</mo>
                <msub>
                  <mi>q</mi>
                  <mrow>
                    <mi>m</mi>
                    <mo>⁢</mo>
                    <mstyle>
                      <mspace width="0.3em" height="0.3ex"/>
                    </mstyle>
                    <mo>⁢</mo>
                    <mi>m</mi>
                  </mrow>
                </msub>
              </mrow>
            </mfrac>
            <mo>⁢</mo>
            <msub>
              <mi>P</mi>
              <mrow>
                <mi>ut</mi>
                <mo>,</mo>
                <mi>m</mi>
              </mrow>
            </msub>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mrow>
            <mi>for</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>m</mi>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.6em" height="0.6ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>…</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.6em" height="0.6ex"/>
            </mstyle>
            <mo>⁢</mo>
            <msub>
              <mi>N</mi>
              <mi>up</mi>
            </msub>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>12</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where q<sub>mm </sub>is the m-th diagonal element of M<sub>mmse</sub>H<sub>up,eff</sub>, i.e., q<sub>mm</sub>=<u style="single">m</u><sub>mmse,m</sub>h<sub>up,eff,m</sub>; and
<ul id="ul0017" list-style="none">
    <li id="ul0017-0001" num="0000">
    <ul id="ul0018" list-style="none">
        <li id="ul0018-0001" num="0066">γ<sub>mmse,m </sub>is the SNR for user terminal m with the MMSE technique.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0052" num="0067">C. Successive Interference Cancellation Spatial Processing</p>
<p id="p-0053" num="0068">The access point can process the N<sub>ap </sub>received symbol streams using the SIC technique to recover the N<sub>up </sub>data symbol streams. For the SIC technique, the access point initially performs spatial processing on the N<sub>ap </sub>received symbol streams (e.g., using CCMI, MMSE, or some other technique) and obtains one recovered data symbol stream. The access point then processes (e.g., demodulates/symbol demaps, deinterleaves, and decodes) this recovered data symbol stream to obtain a decoded data stream. The access point next estimates the interference this stream causes to the other N<sub>up</sub>−1 data symbol streams and cancels the estimated interference from the N<sub>ap </sub>received symbol streams to obtain N<sub>ap </sub>modified symbol streams. The access point then repeats the same processing on the N<sub>ap </sub>modified symbol streams to recover another data symbol stream.</p>
<p id="p-0054" num="0069">For the SIC technique, the input (i.e., received or modified) symbol streams for stage l, where l=1 . . . N<sub>up</sub>, may be expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i><u style="single">r</u></i><sub>sic</sub><sup>l</sup>(<i>k</i>)=<i>H</i><sub>up,eff</sub><sup>l</sup><i><u style="single">s</u></i><sub>up</sub><sup>l</sup><i>+<u style="single">n</u></i><sub>up</sub><sup>l</sup>,  Eq (13)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where <u style="single">r</u><sub>sic</sub><sup>l </sup>is an N<sub>ap</sub>×1 vector with N<sub>ap </sub>input symbols for stage l, and <u style="single">r</u><sub>sic</sub><sup>l</sup>=<u style="single">r</u><sub>up </sub>for the first stage;
<ul id="ul0019" list-style="none">
    <li id="ul0019-0001" num="0000">
    <ul id="ul0020" list-style="none">
        <li id="ul0020-0001" num="0070"><u style="single">s</u><sub>up</sub><sup>l </sup>is an N<sub>nr</sub>×1 vector for N<sub>nr </sub>data symbol streams not yet recovered at stage l, where N<sub>nr</sub>=N<sub>up</sub>−l+1; and</li>
        <li id="ul0020-0002" num="0071">H<sub>up,eff</sub><sup>l </sup>is an N<sub>ap</sub>×N<sub>nr </sub>reduced effective channel response matrix for stage l.</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0055" num="0072">Equation (13) assumes that the data symbol streams recovered in the l−1 prior stages are canceled. The dimensionality of the effective channel response matrix H<sub>up,eff </sub>successively reduces by one column for each stage as a data symbol stream is recovered and canceled. For stage l, the reduced effective channel response matrix H<sub>up,eff</sub><sup>l </sup>is obtained by removing l−1 columns in the original matrix H<sub>up,eff </sub>corresponding to the l−1 data symbol streams already recovered in prior stages, i.e., H<sub>up,eff</sub><sup>l</sup>=[h<sub>up,eff,j</sub><sub><sub2>l </sub2></sub>h<sub>up,eff,j</sub><sub><sub2>l+1 </sub2></sub>. . . h<sub>up,eff,j</sub><sub><sub2>Nup</sub2></sub>], where h<sub>up,eff,j</sub><sub><sub2>n </sub2></sub>is an N<sub>ap</sub>×1 effective channel response vector for user terminal j<sub>n</sub>. For stage l, the l−1 data symbol streams recovered in the prior stages are given indices of {j<sub>1 </sub>j<sub>2 </sub>. . . j<sub>l−1</sub>} and the N<sub>nr </sub>data symbol streams not yet recovered are given indices of {j<sub>l </sub>j<sub>l+1 </sub>. . . j<sub>N</sub><sub><sub2>up</sub2></sub>}.</p>
<p id="p-0056" num="0073">For stage l, the access point derives an N<sub>nr</sub>×N<sub>ap </sub>spatial filter matrix M<sub>sic</sub><sup>l </sup>based on the reduced effective channel response matrix H<sub>up,eff</sub><sup>l </sup>(instead of the original matrix H<sub>up,eff</sub>) using the CCMI, MMSE, or some other technique. Since H<sub>up,eff</sub><sup>l </sup>is different for each stage, the spatial filter matrix M<sub>sic</sub><sup>l </sup>is also different for each stage.</p>
<p id="p-0057" num="0074">The access point multiplies the vector <u style="single">r</u><sub>sic</sub><sup>l </sup>for the N<sub>ap </sub>modified symbol streams with the spatial filter matrix M<sub>sic</sub><sup>l </sup>to obtain a vector <u style="single">{tilde over (s)}</u><sub>sic</sub><sup>l </sup>for N<sub>nr </sub>detected symbol streams, as follows:</p>
<p id="p-0058" num="0075">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mtable>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <msubsup>
                  <munder>
                    <mover>
                      <mi>s</mi>
                      <mo>∼</mo>
                    </mover>
                    <mi>_</mi>
                  </munder>
                  <mi>sic</mi>
                  <mi>l</mi>
                </msubsup>
                <mo>=</mo>
                <mrow>
                  <msubsup>
                    <munder>
                      <mi>M</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>sic</mi>
                    <mi>l</mi>
                  </msubsup>
                  <mo>⁢</mo>
                  <msubsup>
                    <munder>
                      <mi>r</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>sic</mi>
                    <mi>l</mi>
                  </msubsup>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mo>=</mo>
                <mrow>
                  <msubsup>
                    <munder>
                      <mi>M</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>sic</mi>
                    <mi>l</mi>
                  </msubsup>
                  <mo>⁡</mo>
                  <mrow>
                    <mo>(</mo>
                    <mrow>
                      <mrow>
                        <msubsup>
                          <munder>
                            <mi>H</mi>
                            <mi>_</mi>
                          </munder>
                          <mrow>
                            <mi>up</mi>
                            <mo>,</mo>
                            <mi>eff</mi>
                          </mrow>
                          <mi>l</mi>
                        </msubsup>
                        <mo>⁢</mo>
                        <msubsup>
                          <munder>
                            <mi>s</mi>
                            <mi>_</mi>
                          </munder>
                          <mi>up</mi>
                          <mi>l</mi>
                        </msubsup>
                      </mrow>
                      <mo>+</mo>
                      <msub>
                        <munder>
                          <mi>n</mi>
                          <mi>_</mi>
                        </munder>
                        <mi>up</mi>
                      </msub>
                    </mrow>
                    <mo>)</mo>
                  </mrow>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
        <mtr>
          <mtd>
            <mrow>
              <mrow>
                <mo>=</mo>
                <mrow>
                  <mrow>
                    <msubsup>
                      <munder>
                        <mi>Q</mi>
                        <mi>_</mi>
                      </munder>
                      <mi>sic</mi>
                      <mi>l</mi>
                    </msubsup>
                    <mo>⁢</mo>
                    <msubsup>
                      <munder>
                        <mi>s</mi>
                        <mi>_</mi>
                      </munder>
                      <mi>up</mi>
                      <mi>l</mi>
                    </msubsup>
                  </mrow>
                  <mo>+</mo>
                  <msubsup>
                    <munder>
                      <mi>n</mi>
                      <mi>_</mi>
                    </munder>
                    <mi>sic</mi>
                    <mi>l</mi>
                  </msubsup>
                </mrow>
              </mrow>
              <mo>,</mo>
            </mrow>
          </mtd>
        </mtr>
      </mtable>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>14</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where Q<sub>sic</sub><sup>l</sup>=M<sub>sic</sub><sup>l</sup>H<sub>up,eff</sub><sup>l </sup>and <u style="single">n</u><sub>sic</sub><sup>l</sup>=M<sub>sic</sub><sup>l</sup><u style="single">n</u> is the filtered noise for stage l. The access point then selects one of the N<sub>nr </sub>detected symbol streams for recovery, where the selection criterion may be based on SNR and/or other factors. For example, the detected symbol stream with the highest SNR among the N<sub>nr </sub>detected symbol streams may be selected for recovery. Since only one data symbol stream is recovered in each stage, the access point can simply derive one 1×N<sub>ap </sub>spatial filter row vector m<sub>j</sub><sub><sub2>l</sub2></sub><sup>l </sup>for the data symbol stream {s<sub>up,j</sub><sub><sub2>l</sub2></sub>} to be recovered in stage l. The row vector <u style="single">m</u><sub>j</sub><sub><sub2>l</sub2></sub><sup>l </sup>is one row of the matrix M<sub>sic</sub><sup>l</sup>. In this case, the spatial processing for stage l to recover the data symbol stream {s<sub>up,j</sub><sub><sub2>l</sub2></sub>} may be expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>{tilde over (s)}</i><sub>up,j</sub><sub><sub2>l</sub2></sub><i>=<u style="single">m</u></i><sub>j</sub><sub><sub2>l</sub2></sub><sup>l</sup><i><u style="single">r</u></i><sub>sic</sub><sup>l</sup><i>=<u style="single">q</u></i><sub>j</sub><sub><sub2>l</sub2></sub><sup>l</sup><i><u style="single">s</u></i><sub>up</sub><sup>l</sup><i>+<u style="single">m</u></i><sub>j</sub><sub><sub2>l</sub2></sub><sup>l</sup><i><u style="single">n</u></i><sub>up</sub>,  Eq (15)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where <u style="single">q</u><sub>j</sub><sub><sub2>l</sub2></sub><sup>l </sup>is the row of Q<sub>sic</sub><sup>l </sup>corresponding to data symbol stream {s<sub>up,j</sub><sub><sub2>l</sub2></sub>};
</p>
<p id="p-0059" num="0076">In any case, the access point scales the detected symbol stream {{tilde over (s)}<sub>up,j</sub><sub><sub2>l</sub2></sub>} to obtain a recovered data symbol stream {ŝ<sub>up,j</sub><sub><sub2>l</sub2></sub>} and further demodulates, deinterleaves, and decodes this stream {ŝ<sub>up,j</sub><sub><sub2>l</sub2></sub>} to obtain a decoded data stream {{circumflex over (d)}<sub>up,j</sub><sub><sub2>l</sub2></sub>}. The access point also forms an estimate of the interference this stream causes to the other data symbol streams not yet recovered. To estimate the interference, the access point re-encodes, interleaves, and modulates the decoded data stream {{circumflex over (d)}<sub>up,j</sub><sub><sub2>l</sub2></sub>} in the same manner as performed at user terminal j<sub>l </sub>and obtains a stream of “remodulated” symbols {{hacek over (s)}<sub>up,j</sub><sub><sub2>l</sub2></sub>}, which is an estimate of the data symbol stream {s<sub>up,j</sub><sub><sub2>l</sub2></sub>} just recovered. The access point then spatially processes the remodulated symbol stream with the effective channel response vector h<sub>up,eff,j</sub><sub><sub2>l </sub2></sub>for user terminal j<sub>l </sub>to obtain a vector <u style="single">i</u><sub>j</sub><sub><sub2>l </sub2></sub>with N<sub>ap </sub>interference components caused by this stream. The N<sub>ap </sub>interference components <u style="single">i</u><sub>j</sub><sub><sub2>l </sub2></sub>are then subtracted from the N<sub>ap </sub>modified symbol streams <u style="single">r</u><sub>sic</sub><sup>l </sup>for stage l to obtain N<sub>ap </sub>modified symbol streams <u style="single">r</u><sub>sic</sub><sup>l+1 </sup>for the next stage l+1, i.e., <u style="single">r</u><sub>sic</sub><sup>l+1</sup>=<u style="single">r</u><sub>sic</sub><sup>l</sup>−<u style="single">i</u><sub>j</sub><sub><sub2>l</sub2></sub>. The modified symbol streams <u style="single">r</u><sub>sic</sub><sup>l+1 </sup>represent the streams that would have been received by the access point if the data symbol stream {s<sub>up,j</sub><sub><sub2>l</sub2></sub>} had not been transmitted (i.e., assuming that the interference cancellation was effectively performed).</p>
<p id="p-0060" num="0077">The access point processes the N<sub>ap </sub>received symbol streams in N<sub>up </sub>successive stages. For each stage, the access point (1) performs receiver spatial processing on either the N<sub>ap </sub>received symbol streams or the N<sub>ap </sub>modified symbol streams from the preceding stage to obtain one recovered data symbol stream, (2) processes this recovered data symbol stream to obtain a corresponding decoded data stream, (3) estimates and cancels the interference due to this stream, and (4) obtains N<sub>ap </sub>modified symbol streams for the next stage. If the interference due to each data stream can be accurately estimated and canceled, then later recovered data streams experience less interference and may be able to achieve higher SNRs.</p>
<p id="p-0061" num="0078">For the SIC technique, the SNR of each recovered data symbol stream is dependent on (1) the spatial processing technique (e.g., CCMI or MMSE) used for each stage, (2) the specific stage in which the data symbol stream is recovered, and (3) the amount of interference due to data symbol streams recovered in subsequent stages. In general, the SNR progressively improves for data symbol streams recovered in later stages because the interference from data symbol streams recovered in prior stages is canceled. This then allows higher rates to be used for data symbol streams recovered later.</p>
<p id="p-0062" num="0079">2. Beam-Steering</p>
<p id="p-0063" num="0080">For beam-steering, each user terminal m performs spatial processing with a normalized steering vector <u style="single">{tilde over (v)}</u><sub>up,m</sub>, which is derived using the phase information in the steering vector <u style="single">v</u><sub>up,m</sub>. The normalized steering vector <u style="single">{tilde over (v)}</u><sub>up,m </sub>may be expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><u style="single">{tilde over (v)}</u><sub>up,m</sub>=[Ae<sup>jθ</sup><sup><sub2>m,1 </sub2></sup>Ae<sup>jθ</sup><sup><sub2>m,2 </sub2></sup>. . . Ae<sup>jθ</sup><sup><sub2>m,Nut</sub2></sup>]<sup>T</sup>,  Eq (16)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where A is a constant (e.g., A=1/√{square root over (N<sub>ut,m</sub>)}); and
<ul id="ul0021" list-style="none">
    <li id="ul0021-0001" num="0000">
    <ul id="ul0022" list-style="none">
        <li id="ul0022-0001" num="0081">θ<sub>m,i </sub>is the phase for antenna i at user terminal m, which is:</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0064" num="0082">
<maths id="MATH-US-00009" num="00009">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>θ</mi>
          <mrow>
            <mi>m</mi>
            <mo>,</mo>
            <mi>i</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <msub>
            <mi>∠v</mi>
            <mrow>
              <mi>up</mi>
              <mo>,</mo>
              <mi>m</mi>
              <mo>,</mo>
              <mi>i</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <mrow>
              <msup>
                <mi>tan</mi>
                <mrow>
                  <mo>-</mo>
                  <mn>1</mn>
                </mrow>
              </msup>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mfrac>
                  <mrow>
                    <mi>Im</mi>
                    <mo>⁢</mo>
                    <mrow>
                      <mo>{</mo>
                      <msub>
                        <mi>v</mi>
                        <mrow>
                          <mi>up</mi>
                          <mo>,</mo>
                          <mi>m</mi>
                          <mo>,</mo>
                          <mi>i</mi>
                        </mrow>
                      </msub>
                      <mo>}</mo>
                    </mrow>
                  </mrow>
                  <mrow>
                    <mi>Re</mi>
                    <mo>⁢</mo>
                    <mrow>
                      <mo>{</mo>
                      <msub>
                        <mi>v</mi>
                        <mrow>
                          <mi>up</mi>
                          <mo>,</mo>
                          <mi>m</mi>
                          <mo>,</mo>
                          <mi>i</mi>
                        </mrow>
                      </msub>
                      <mo>}</mo>
                    </mrow>
                  </mrow>
                </mfrac>
                <mo>)</mo>
              </mrow>
            </mrow>
            <mo>.</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>17</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
As shown in equation (16), the N<sub>ut,m </sub>elements of <u style="single">{tilde over (v)}</u><sub>up,m </sub>have equal magnitude. As shown in equation (17), the phase of each element in <u style="single">{tilde over (v)}</u><sub>up,m </sub>is equal to the phase of a corresponding element in <u style="single">v</u><sub>up,m </sub>(i.e., θ<sub>m,i </sub>is obtained from v<sub>up,m,i</sub>, where <u style="single">v</u><sub>up,m</sub>=[v<sub>up,m,1 </sub>v<sub>up,m,2 </sub>. . . v<sub>up,m,N</sub><sub><sub2>ut</sub2></sub>]<sup>T</sup>).
</p>
<p id="p-0065" num="0083">Each user terminal m spatially processes its data symbol stream {s<sub>up,m</sub>} with its normalized steering vector <u style="single">{tilde over (v)}</u><sub>up,m </sub>to obtain N<sub>ut,m </sub>transmit symbol streams, as follows:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>{tilde over (x)}</i><sub>up,m</sub><i>=<u style="single">{tilde over (v)}</u></i><sub>up,m</sub><i>·s</i><sub>up,m</sub>.  Eq (18)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The constant A in equation (16) may be selected such that the total energy of the N<sub>ut,m </sub>transmit symbols in the vector {tilde over (x)}<sub>up,m </sub>is unity or some other selected value. The N<sub>ap</sub>×1 effective uplink channel response vector <u style="single">{tilde over (h)}</u><sub>up,eff,m </sub>for each user terminal m with beam-steering may be expressed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>{tilde over (h)}<sub>up,eff,m</sub>=H<sub>up,m</sub><u style="single">{tilde over (v)}</u><sub>up,m</sub>.  Eq (19)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
The N<sub>ap</sub>×N<sub>up </sub>effective uplink channel response matrix {tilde over (H)}<sub>up,eff </sub>for all N<sub>up </sub>user terminal for beam-steering is then {tilde over (H)}<sub>up,eff</sub>=[{tilde over (h)}<sub>up,eff,1 </sub>{tilde over (h)}<sub>up,eff,2 </sub>. . . {tilde over (h)}<sub>up,eff,N</sub><sub><sub2>up</sub2></sub>].
</p>
<p id="p-0066" num="0084">The access point can perform receiver spatial processing using the CCMI, MMSE, or SIC technique described above, or some other technique. However, the spatial filter matrix is derived with the matrix {tilde over (H)}<sub>up,eff </sub>instead of the matrix H<sub>up,eff</sub>.</p>
<p id="p-0067" num="0085">3. SDMA Transmission</p>
<p id="p-0068" num="0086"><figref idref="DRAWINGS">FIG. 2</figref> shows a process <b>200</b> for performing multi-antenna transmission on the uplink for SDMA. Initially, an uplink channel response matrix H<sub>up,m </sub>is obtained for each active user terminal desiring to transmit on the uplink (block <b>210</b>). The matrix H<sub>up,m </sub>for each user terminal is decomposed to obtain a steering vector <u style="single">v</u><sub>up,m </sub>or <u style="single">{tilde over (v)}</u><sub>up,m </sub>for the user terminal (block <b>212</b>). An effective uplink channel response vector h<sub>up,eff,m </sub>is formed for each user terminal based on the steering vector and the uplink channel response matrix for the user terminal (block <b>214</b>). Blocks <b>210</b> through <b>214</b> are for channel estimation and decomposition and may be performed by the access point, the user terminals, or both.</p>
<p id="p-0069" num="0087">Different sets of active user terminals are formed and evaluated based on their effective uplink channel response vectors h<sub>up,eff,m </sub>or their uplink channel response matrices H<sub>up,m </sub>(block <b>220</b>). The evaluation may be performed as described below. The best set of N<sub>up </sub>user terminals is selected for transmission (also block <b>220</b>). The rate to use by each selected user terminal (which is obtained from the evaluation in block <b>220</b>) is sent to the user terminal (block <b>222</b>). Blocks <b>220</b> and <b>222</b> are for user scheduling and are typically performed by the access point.</p>
<p id="p-0070" num="0088">Each selected user terminal performs spatial processing on its data symbol stream {s<sub>up,m</sub>} with its steering vector <u style="single">v</u><sub>up,m </sub>or <u style="single">{tilde over (v)}</u><sub>up,m </sub>and transmits N<sub>ut,m </sub>transmit symbol streams from its N<sub>ut,m </sub>antennas and via its MIMO channel to the access point (block <b>230</b>). The N<sub>up </sub>selected user terminals simultaneously transmit their N<sub>up </sub>data symbol streams via their MIMO channels to the access point. Block <b>230</b> is for data transmission and is performed by each selected user terminal.</p>
<p id="p-0071" num="0089">The access point obtains N<sub>ap </sub>received symbol streams from its N<sub>ap </sub>antennas (block <b>240</b>). The access point then performs receiver spatial processing on the N<sub>ap </sub>received symbol streams in accordance with the CCMI, MMSE, SIC, or some other technique to obtain N<sub>up </sub>recovered data symbol streams, which are estimates of the N<sub>up </sub>data symbol streams transmitted by the N<sub>up </sub>selected user terminals (block <b>242</b>). Blocks <b>240</b> and <b>242</b> are for data reception and are performed by the access point.</p>
<p id="p-0072" num="0090">Multiple user terminals can be selected for simultaneous transmission on the uplink. The user selection may be based on various factors. Some factors may relate to system constraints and requirements such as quality of service, maximum latency, average data rate, and so on. These factors may need to be satisfied for each user terminal. Other factors may relate to system performance, which may be quantified by overall system throughput or some other indication of performance. A scheduling scheme can evaluate user terminals for transmission based on one or more metrics and one or more factors. Different scheduling schemes may use different metrics, take into account different factors, and/or weigh the metrics and factors differently.</p>
<p id="p-0073" num="0091">Regardless of the particular scheduling scheme selected for use, different sets of user terminals can be evaluated in accordance with the scheduling scheme. The “spatial signatures” of the individual user terminals (e.g., their MIMO channel responses) and multi-user diversity can be exploited to select the “best” set of “spatially compatible” user terminals for simultaneous transmission. Spatial compatibility may be quantified by a metric such as overall throughput or some other measure of performance. The best user set may be the one that achieves the highest score for the metric (e.g., the highest overall throughput) while conforming to the system constraints and requirements.</p>
<p id="p-0074" num="0092">For clarity, a specific scheduling scheme that selects user terminals based on overall throughput is described below. In the following description, N<sub>act </sub>user terminals are active and desire to transmit data on the uplink.</p>
<p id="p-0075" num="0093"><figref idref="DRAWINGS">FIG. 3</figref> shows a process <b>220</b><i>a </i>for evaluating and selecting user terminals for transmission on the uplink. Process <b>220</b><i>a </i>represents a specific scheduling scheme and may be used for block <b>220</b> in <figref idref="DRAWINGS">FIG. 2</figref>. Initially, a variable R<sub>max </sub>for the highest overall throughput is set to zero (block <b>310</b>).</p>
<p id="p-0076" num="0094">A new set of user terminals is selected from among the N<sub>act </sub>active user terminals (block <b>312</b>). This user set forms a hypothesis to be evaluated and is denoted as <u style="single">u</u><sub>n</sub>={u<sub>n,1 </sub>u<sub>n,2 </sub>. . . u<sub>n,N</sub><sub><sub2>up</sub2></sub>}, where n denotes the n-th user set being evaluated and u<sub>n,i </sub>is the i-th user terminal in set n. An effective uplink channel response matrix H<sub>up,eff,n </sub>is formed for user set n with the effective uplink channel response vectors h<sub>up,eff,u</sub><sub><sub2>n,1 </sub2></sub>through</p>
<p id="p-0077" num="0095">
<maths id="MATH-US-00010" num="00010">
<math overflow="scroll">
<msub>
  <munder>
    <mi>h</mi>
    <mi>_</mi>
  </munder>
  <mrow>
    <mi>up</mi>
    <mo>,</mo>
    <mi>eff</mi>
    <mo>,</mo>
    <msub>
      <mi>u</mi>
      <mrow>
        <mi>n</mi>
        <mo>,</mo>
        <msub>
          <mi>N</mi>
          <mi>up</mi>
        </msub>
      </mrow>
    </msub>
  </mrow>
</msub>
</math>
</maths>
<br/>
for the N<sub>up </sub>user terminals in set n (block <b>314</b>).
</p>
<p id="p-0078" num="0096">The SNR for each user terminal in set n is then computed based on the effective uplink channel response matrix H<sub>up,eff,n </sub>and using the CCMI, MMSE, SIC, or some other technique employed by the access point (block <b>316</b>). The SNRs for the user terminals with the CCMI and MMSE techniques can be computed as shown in equations (8) and (12), respectively. The SNRs for the user terminals with the SIC technique are dependent on the order in which the user terminals are recovered. For the SIC technique, one or multiple orderings of user terminals may be evaluated. For example, a specific ordering may be evaluated whereby the user terminal with the highest SNR at each stage is processed by the access point. In any case, the SNRs for the N<sub>up </sub>user terminals in set n are denoted as {γ<sub>n,1 </sub>γ<sub>n,2 </sub>. . . <sub>n,N</sub><sub><sub2>up</sub2></sub>}.</p>
<p id="p-0079" num="0097">The throughput for each user terminal in set n is then computed based on the SNR for the user terminal (block <b>318</b>), as follows:</p>
<p id="p-0080" num="0098">
<maths id="MATH-US-00011" num="00011">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <msub>
            <mi>r</mi>
            <mrow>
              <mi>n</mi>
              <mo>,</mo>
              <mi>i</mi>
            </mrow>
          </msub>
          <mo>=</mo>
          <mrow>
            <mo>·</mo>
            <mrow>
              <msub>
                <mi>log</mi>
                <mn>2</mn>
              </msub>
              <mo>⁡</mo>
              <mrow>
                <mo>(</mo>
                <mrow>
                  <mn>1</mn>
                  <mo>+</mo>
                  <mfrac>
                    <msub>
                      <mi>γ</mi>
                      <mrow>
                        <mi>n</mi>
                        <mo>,</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                    <msub>
                      <mi>c</mi>
                      <mrow>
                        <mi>n</mi>
                        <mo>,</mo>
                        <mi>i</mi>
                      </mrow>
                    </msub>
                  </mfrac>
                </mrow>
                <mo>)</mo>
              </mrow>
            </mrow>
          </mrow>
        </mrow>
        <mo>,</mo>
        <mrow>
          <mrow>
            <mi>for</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.8em" height="0.8ex"/>
            </mstyle>
            <mo>⁢</mo>
            <mi>i</mi>
          </mrow>
          <mo>=</mo>
          <mrow>
            <mn>1</mn>
            <mo>⁢</mo>
            <mi>…</mi>
            <mo>⁢</mo>
            <mstyle>
              <mspace width="0.6em" height="0.6ex"/>
            </mstyle>
            <mo>⁢</mo>
            <msub>
              <mi>N</mi>
              <mi>up</mi>
            </msub>
          </mrow>
        </mrow>
        <mo>,</mo>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>20</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
<br/>
where c<sub>n,i </sub>is a positive constant that reflects the fraction of the theoretical capacity achieved by the coding and modulation schemes to be used by user terminal u<sub>n,i </sub>(e.g., c<sub>n,i</sub>=2 for a coding and modulation scheme that is 3 dB from Shannon capacity) and r<sub>n,i </sub>is the throughput or spectral efficiency for user terminal u<sub>n,i </sub>given in units of bits per second per Hertz (bps/Hz). The overall throughput R<sub>n </sub>achieved by user set n can be computed (block <b>320</b>), as follows:
</p>
<p id="p-0081" num="0099">
<maths id="MATH-US-00012" num="00012">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <msub>
          <mi>R</mi>
          <mi>n</mi>
        </msub>
        <mo>=</mo>
        <mrow>
          <munderover>
            <mo>∑</mo>
            <mrow>
              <mi>i</mi>
              <mo>=</mo>
              <mn>1</mn>
            </mrow>
            <msub>
              <mi>N</mi>
              <mi>up</mi>
            </msub>
          </munderover>
          <mo>⁢</mo>
          <mstyle>
            <mspace width="0.3em" height="0.3ex"/>
          </mstyle>
          <mo>⁢</mo>
          <mrow>
            <msub>
              <mi>r</mi>
              <mrow>
                <mi>n</mi>
                <mo>,</mo>
                <mi>i</mi>
              </mrow>
            </msub>
            <mo>.</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mi>Eq</mi>
        <mo>⁢</mo>
        <mstyle>
          <mspace width="0.8em" height="0.8ex"/>
        </mstyle>
        <mo>⁢</mo>
        <mrow>
          <mo>(</mo>
          <mn>21</mn>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0082" num="0100">A determination is then made whether or not the overall throughput R<sub>n </sub>for user set n is greater than the maximum overall throughput achieved thus far for all user sets that have been evaluated (block <b>330</b>). If the answer is yes, then user set n and the overall throughput R<sub>n </sub>for this set are saved (block <b>332</b>). Otherwise, user set n is discarded.</p>
<p id="p-0083" num="0101">A determination is then made whether or not all user sets have been evaluated (block <b>340</b>). If the answer is no, then the process returns to block <b>312</b> to select another set of user terminals for evaluation. Otherwise, the user terminals in the saved set are scheduled for transmission on the uplink (block <b>342</b>).</p>
<p id="p-0084" num="0102">For the embodiment described above, a metric based on theoretical capacity (albeit with a compensation factor c<sub>n,i</sub>) is used to select the best user set for uplink transmission. In another embodiment, a metric based on realizable throughput is used to select the best user set. For this embodiment, the user sets may be evaluated based on a set of “rates” supported by the system. These rates may be viewed as quantized values of the throughputs computed in equation (20). Each non-zero rate is associated with specific coding and modulation schemes, a particular spectral efficiency (which is typically given in units of bps/Hz), and a particular required SNR. The required SNR for each rate may be determined by computer simulation, empirical measurement, and so on, and based on an assumption of an AWGN channel. A look-up table (LUT) can store the set of supported rates and their required SNRs. The SNR for each user terminal is mapped to a selected rate, which is the highest rate in the look-up table with a required SNR that is equal to or lower than the SNR for the user terminal. The selected rates for all user terminals in each set are accumulated to obtain an aggregate rate for the set. The user set with the highest aggregate rate is scheduled for transmission.</p>
<p id="p-0085" num="0103">User sets of different sizes may be evaluated to determine the best user set for transmission. For example, sets with one user terminal (i.e., N<sub>up</sub>=1) may be evaluated first, then sets with two user terminals (i.e., N<sub>up</sub>=2) may be evaluated next, and so on, and sets with N<sub>ap </sub>user terminals (i.e., N<sub>up</sub>=N<sub>ap</sub>) may be evaluated last.</p>
<p id="p-0086" num="0104">Depending on the values for N<sub>up</sub>, N<sub>act </sub>and N<sub>ap</sub>, a large number of user sets may need to be evaluated for an exhaustive search for the best user set. The number of user sets to evaluate may be reduced by prioritizing the active user terminals, considering other factors, and so on. The priority of each active user terminal may be determined based on various factors such as the service category for the user terminal (e.g., premium or normal), the average throughput achieved by the user terminal, the amount of data the user terminal has to send, the delay experienced by the user terminal, and so on. The priority of each user terminal may be updated over time to reflect the current status of the user terminal. As an example, only the N<sub>ap </sub>highest priority user terminals may be evaluated in each scheduling interval.</p>
<p id="p-0087" num="0105">In the exemplary scheduling scheme described above for <figref idref="DRAWINGS">FIG. 3</figref>, the effective uplink channel response vector h<sub>up,eff u</sub><sub><sub2>n,i </sub2></sub>is derived independently (or “locally”) for each user terminal based only on the uplink channel response matrix H<sub>up,u</sub><sub><sub2>n,i </sub2></sub>for the user terminal. The effective channel response matrix H<sub>up,eff,n </sub>for each user set n is formed with the independently derived effective channel response vectors for the user terminals in the set. The vectors h<sub>up,eff,u</sub><sub><sub2>n,i</sub2></sub>, for i=1 . . . N<sub>up</sub>, in the matrix H<sub>up,eff,n </sub>may not yield the highest possible overall throughput for user set n. Multiple sub-hypotheses may be evaluated for each user set, where the vectors in H<sub>up,eff,n </sub>may be adjusted by different amounts for each sub-hypothesis. For example, the phases of the steering vectors for the user terminals in set n may be modified in a deterministic manner (e.g., by some ±percentage) or in a pseudo-random manner for each sub-hypothesis while maintaining the power of each steering vector at unity (i.e., a unit norm for each steering vector).</p>
<p id="p-0088" num="0106">A scheduling scheme may also evaluate each user set n based on the uplink MIMO channel response matrices H<sub>up,u</sub><sub><sub2>n,i </sub2></sub>instead of the effective uplink channel response vectors h<sub>up,eff,u</sub><sub><sub2>n,i </sub2></sub>for the user terminals in the set. A steering vector <u style="single">v′</u><sub>up,u</sub><sub><sub2>n,i </sub2></sub>may be derived (“globally”) for each user terminal in set n in the presence of all user terminals in the set. The effective uplink channel response vector h′<sub>up,eff,u</sub><sub><sub2>n,i </sub2></sub>for each user terminal can be computed based on the (globally derived) steering vector <u style="single">v′</u><sub>up,u</sub><sub><sub2>n,i </sub2></sub>and the uplink channel response matrix H<sub>up,u</sub><sub><sub2>n,i </sub2></sub>as follows: h′<sub>up,eff,u</sub><sub><sub2>n,i</sub2></sub>=H<sub>up,u</sub><sub><sub2>n,i</sub2></sub><u style="single">v′</u><sub>up,u</sub><sub><sub2>n,i</sub2></sub>. An effective uplink channel response matrix H′<sub>up,eff,n </sub>is then formed for user set n based on the effective uplink channel response vectors h′<sub>up,eff,u</sub><sub><sub2>n,i </sub2></sub>for the user terminals in the set. The performance (e.g., overall throughput) of user set n is then evaluated with the matrix H′<sub>up,eff,n </sub>(instead of the matrix H<sub>up,eff,n</sub>). As an example, multiple sub-hypotheses may be evaluated for user set n, where each sub-hypothesis corresponds to a different set of steering vectors for the user terminals in the set. The best sub-hypothesis is then selected for user set n. Multiple user sets may be evaluated in similar manner and the best user set is selected for uplink transmission.</p>
<p id="p-0089" num="0107">Various other scheduling schemes may also be implemented and this is within the scope of the invention. Different scheduling schemes may consider different factors in selecting the user terminals for each set, derive the steering vectors for the user terminals in different manners, use other metrics to quantify the performance of each user set, and so on.</p>
<p id="p-0090" num="0108">The uplink channel response matrix H<sub>up,m </sub>for each user terminal m may be estimated in various manners. Different channel estimation techniques may be used for TDD and FDD systems.</p>
<p id="p-0091" num="0109">In an FDD system, the downlink and uplink use different frequency bands. The channel response for one link may not be correlated with the channel response for the other link. In this case, the access point can estimate the uplink MIMO channel response for each user terminal based on a pilot transmitted by the user terminal. The access point can perform decomposition of H<sub>up,m </sub>for each user terminal, derive the steering vector <u style="single">v</u><sub>up,m </sub>or <u style="single">{tilde over (v)}</u><sub>up,m</sub>, and send the steering vector to each user terminal selected for transmission.</p>
<p id="p-0092" num="0110">For the FDD system, each user terminal m can transmit an unsteered pilot (or a MIMO pilot) to allow the access point to estimate the uplink MIMO channel response and obtain the matrix H<sub>up,m</sub>. The unsteered pilot comprises N<sub>ut,m </sub>orthogonal pilot transmissions sent from N<sub>ut,m </sub>user terminal antennas, where orthogonality may be achieved in time, frequency, code, or a combination thereof. For code orthogonality, user terminal m sends N<sub>ut,m </sub>pilot transmissions simultaneously from its N<sub>ut,m </sub>antennas, with the pilot transmission from each antenna being “covered” with a different orthogonal (e.g., Walsh) sequence. The access point “decovers” the received pilot symbols from each access point antenna i with the same N<sub>ut,m </sub>orthogonal sequences used by user terminal m to obtain estimates of the complex channel gain between access point antenna i and each of the N<sub>ut,m </sub>user terminal antennas. The covering at the user terminal and the decovering at the access point can be performed in similar manner as for a Code Division Multiple Access (CDMA) system. For frequency orthogonality, the N<sub>ut,m </sub>pilot transmissions for the N<sub>ut,m </sub>user terminal antennas can be sent simultaneously on different subbands of the overall system bandwidth. For time orthogonality, the N<sub>ut,m </sub>pilot transmissions for the N<sub>ut,m </sub>user terminal antennas can be sent in different time slots. In any case, the orthogonality among the N<sub>ut,m </sub>pilot transmissions allows the access point to distinguish the pilot transmission from each user terminal antenna.</p>
<p id="p-0093" num="0111">Multiple user terminals can simultaneously transmit unsteered pilots on the uplink to the access point. The pilot transmissions for all user terminals are orthogonal in code, time, and/or frequency to allow the access point to estimate the uplink channel response for each user terminal.</p>
<p id="p-0094" num="0112">In a TDD system, the downlink and uplink share the same frequency band. A high degree of correlation normally exists between the downlink and uplink channel responses. However, the responses of the transmit/receive chains at the access point may not be the same as the responses of the transmit/receive chains at the user terminal. If the differences can be determined via calibration and accounted for by applying the proper correction matrices at the access point and/or user terminal, then the overall downlink and uplink channel responses may be assumed to be reciprocal (i.e., transpose) of each other.</p>
<p id="p-0095" num="0113">For the TDD system, the access point can transmit an unsteered pilot from N<sub>ap </sub>access point antennas. Each user terminal m can (1) process the downlink unsteered pilot to obtain its downlink MIMO channel response matrix H<sub>dn,m</sub>, (2) estimate the uplink MIMO channel response as the transpose of the downlink MIMO channel response (i.e., H<sub>up,m</sub>≅H<sub>dn,m</sub><sup>T</sup>), (3) derive the steering vector <u style="single">v</u><sub>up,m </sub>or <u style="single">{tilde over (v)}</u><sub>up,m </sub>based on H<sub>up,m</sub>, and (4) compute the effective uplink channel response vector h<sub>up,eff,m</sub>. Each user terminal can send the vector h<sub>up,eff,m </sub>to the access point in a direct form (e.g., by sending the entries of h<sub>up,eff,m</sub>) or an indirect form (e.g., by transmitting a steered pilot that is generated with the steering vector <u style="single">v</u><sub>up,m </sub>or <u style="single">{tilde over (v)}</u><sub>up,m </sub>used for uplink transmission).</p>
<p id="p-0096" num="0114">For clarity, the SDMA transmission techniques have been described for uplink transmission. These techniques may also be used for downlink transmission. A downlink MIMO channel response matrix H<sub>dn,m </sub>can be obtained for each user terminal m and decomposed to obtain a downlink steering vector <u style="single">v</u><sub>dn,m </sub>for the user terminal. The access point can evaluate different sets of user terminals for downlink transmission (e.g., in similar manner as that described above for the uplink) and select the best set of N<sub>dn </sub>user terminals for downlink transmission.</p>
<p id="p-0097" num="0115">For downlink transmission, the access point spatially processes N<sub>dn </sub>data symbol streams with N<sub>dn </sub>downlink steering vectors for the N<sub>dn </sub>selected user terminals to obtain N<sub>ap </sub>transmit symbol streams, as follows:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>x</i><sub>dn</sub><i>=V</i><sub>dn</sub><i>·<u style="single">s</u></i><sub>dn</sub>,  Eq (22)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where <u style="single">s</u><sub>dn </sub>is an N<sub>dn</sub>×1 vector with N<sub>dn </sub>data symbols to be transmitted on the downlink to the N<sub>dn </sub>selected user terminals;
<ul id="ul0023" list-style="none">
    <li id="ul0023-0001" num="0000">
    <ul id="ul0024" list-style="none">
        <li id="ul0024-0001" num="0116">V<sub>dn </sub>is an N<sub>ap</sub>×N<sub>dn </sub>matrix with N<sub>dn </sub>downlink steering vectors for the N<sub>dn </sub>selected user terminals, which is V<sub>dn</sub>=[<u style="single">v</u><sub>dn,1 </sub><u style="single">v</u><sub>dn,2 </sub>. . . <u style="single">v</u><sub>dn,N</sub><sub><sub2>dn</sub2></sub>]; and</li>
        <li id="ul0024-0002" num="0117">x<sub>dn </sub>is an N<sub>ap</sub>×1 vector with N<sub>ap </sub>transmit symbols to be sent from the N<sub>ap </sub>access point antennas.
<br/>
The access point may also spatially process the downlink data symbol stream for each user terminal with a normalized downlink steering vector <u style="single">{tilde over (v)}</u><sub>dn,m </sub>for beam-steering.
</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0098" num="0118">If a user terminal is equipped with at least N<sub>ap </sub>antennas (i.e., N<sub>ut,m</sub>≧N<sub>ap</sub>), then the user terminal can perform receiver spatial processing using CCMI, MMSE, or some other technique to isolate and recover its downlink data symbol stream. If a user terminal is equipped with less than N<sub>ap </sub>antennas (i.e., N<sub>ut,m</sub>&lt;N<sub>ap</sub>), then the user terminal can recover its downlink data symbol stream in the presence of crosstalk from the other data symbol streams.</p>
<p id="p-0099" num="0119">For clarity, the SDMA transmission techniques have been described for a single-carrier narrowband MIMO system with flat-fading. These techniques may also be used for a wideband MIMO system and a multi-carrier MIMO system. A wideband MIMO system may utilize CDMA as the underlying wireless technology. A multi-carrier MIMO system may utilize OFDM or some other multi-carrier modulation technique. OFDM effectively partitions the overall system bandwidth into multiple (N<sub>F</sub>) orthogonal subbands. Each subband is associated with a respective carrier that may be modulated with data.</p>
<p id="p-0100" num="0120">For a MIMO OFDM system, for each user terminal, the channel estimation may be performed for each of the N<sub>F </sub>subbands to obtain N<sub>F </sub>frequency-domain channel response matrices for the N<sub>F </sub>subbands. The spatial processing may be performed in various manners. In one embodiment, each of the N<sub>F </sub>channel response matrices is independently decomposed to obtain N<sub>F </sub>steering vectors for the N<sub>F </sub>subbands. Spatial processing is then performed for each subband with the steering vector obtained for that subband. In another embodiment, a single frequency-independent steering vector is derived for each user terminal based on the N<sub>F </sub>channel response matrices. Spatial processing is then performed for all N<sub>F </sub>subbands with this single steering vector. In any case, N<sub>F </sub>effective uplink channel response vectors h<sub>up,eff,m</sub>(k), for k=1 . . . N<sub>F</sub>, are formed for each user terminal with either the single or N<sub>F </sub>steering vectors. The user terminals may be evaluated based on their frequency-dependent effective channel response vectors.</p>
<p id="p-0101" num="0121">For a wideband MIMO system, for each user terminal, a time-domain channel impulse response matrix may be obtained for each of multiple (N<sub>P</sub>) resolvable signal paths in the MIMO channel. In one embodiment, N<sub>P </sub>steering vectors are derived for each user terminal based on the N<sub>P </sub>channel impulse response matrices and used to account for the frequency-selective nature of the MIMO channel. In another embodiment, one steering vector is derived for each user terminal, for example, based on the channel impulse response matrix for the main signal path with the highest energy. In any case, the steering vector(s) may be used to derive one or more effective channel response vectors, which are in turn used to evaluate and select user terminals for transmission.</p>
<p id="p-0102" num="0122">4. Exemplary MIMO System</p>
<p id="p-0103" num="0123"><figref idref="DRAWINGS">FIG. 4</figref> shows a block diagram of access point <b>110</b> and two user terminals <b>120</b><i>m </i>and <b>120</b><i>x </i>in MIMO system <b>100</b>. Access point <b>110</b> is equipped with N<sub>ap </sub>antennas <b>424</b><i>a </i>through <b>424</b><i>ap</i>. User terminal <b>120</b><i>m </i>is equipped with N<sub>ut,m </sub>antennas <b>452</b><i>ma </i>through <b>452</b><i>mu</i>, and user terminal <b>120</b><i>x </i>is equipped with N<sub>ut,x </sub>antennas <b>452</b><i>xa </i>through <b>452</b><i>xu</i>. Access point <b>110</b> is a transmitting entity for the downlink and a receiving entity for the uplink. Each user terminal <b>120</b> is a transmitting entity for the uplink and a receiving entity for the downlink. As used herein, a “transmitting entity” is an independently operated apparatus or device capable of transmitting data via a wireless channel, and a “receiving entity” is an independently operated apparatus or device capable of receiving data via a wireless channel. In the following description, the subscript “dn” denotes the downlink, the subscript “up” denotes the uplink, N<sub>up </sub>user terminals are selected for simultaneous transmission on the uplink, N<sub>dn </sub>user terminals are selected for simultaneous transmission on the downlink, N<sub>up </sub>may or may not be equal to N<sub>dn</sub>, and N<sub>up </sub>and N<sub>dn </sub>may be static values or can change for each scheduling interval. For simplicity, beam-steering is used in the following description.</p>
<p id="p-0104" num="0124">On the uplink, at each user terminal <b>120</b> selected for uplink transmission, a TX data processor <b>488</b> receives traffic data from a data source <b>486</b> and control data from a controller <b>480</b>. TX data processor <b>488</b> processes (e.g., encodes, interleaves, and modulates) the traffic data {d<sub>up,m</sub>} for the user terminal based on the coding and modulation schemes associated with the rate selected for the user terminal and provides a data symbol stream {s<sub>up,m</sub>}. A TX spatial processor <b>490</b> performs spatial processing on the data symbol stream {s<sub>up,m</sub>} with the steering vector <u style="single">v</u><sub>up,m</sub>, multiplexes in pilot symbols as needed, and provides N<sub>ut,m </sub>transmit symbol streams for the N<sub>ut,m </sub>antennas. The steering vector <u style="single">v</u><sub>up,m </sub>is derived based on the uplink channel response matrix H<sub>up,m </sub>for the user terminal, as described above. Each transmitter unit (TMTR) <b>454</b> receives and processes (e.g., converts to analog, amplifies, filters, and frequency upconverts) a respective transmit symbol stream to generate an uplink signal. N<sub>ut,m </sub>transmitter units <b>454</b> provide N<sub>ut,m </sub>uplink signals for transmission from N<sub>ut,m </sub>antennas <b>452</b> to the access point.</p>
<p id="p-0105" num="0125">N<sub>up </sub>user terminals may be scheduled for simultaneous transmission on the uplink. Each of these user terminals performs spatial processing on its data symbol stream with its steering vector and transmits its set of transmit symbol streams on the uplink to the access point.</p>
<p id="p-0106" num="0126">At access point <b>110</b>, N<sub>ap </sub>antennas <b>424</b><i>a </i>through <b>424</b><i>ap </i>receive the uplink signals from all N<sub>up </sub>user terminals transmitting on the uplink. Each antenna <b>424</b> provides a received signal to a respective receiver unit (RCVR) <b>422</b>. Each receiver unit <b>422</b> performs processing complementary to that performed by transmitter unit <b>454</b> and provides a received symbol stream. An RX spatial processor <b>440</b> performs receiver spatial processing on the N<sub>ap </sub>received symbol streams from N<sub>ap </sub>receiver units <b>422</b> and provides N<sub>up </sub>recovered uplink data symbol streams. The receiver spatial processing is performed in accordance with the CCMI, MMSE, SIC, or some other technique. A spatial filter matrix M<sub>ap </sub>for the access point is derived based on (1) the receiver spatial processing technique used by the access point and (2) the effective uplink channel response matrix H<sub>up,eff </sub>for the N<sub>up </sub>user terminals. Each recovered uplink data symbol stream {ŝ<sub>up,m</sub>} is an estimate of a data symbol stream {s<sub>up,m</sub>} transmitted by a respective user terminal. An RX data processor <b>442</b> processes (e.g., demodulates, deinterleaves, and decodes) each recovered uplink data symbol stream {ŝ<sub>up,m</sub>} in accordance with the rate used for that stream to obtain decoded data. The decoded data for each user terminal may be provided to a data sink <b>444</b> for storage and/or a controller <b>430</b> for further processing.</p>
<p id="p-0107" num="0127">On the downlink, at access point <b>110</b>, a TX data processor <b>410</b> receives traffic data from a data source <b>408</b> for N<sub>dn </sub>user terminals scheduled for downlink transmission, control data from a controller <b>430</b>, and possibly other data from a scheduler <b>434</b>. The various types of data may be sent on different transport channels. TX data processor <b>410</b> processes (e.g., encodes, interleaves, and modulates) the traffic data for each user terminal based on the rate selected for that user terminal. TX data processor <b>410</b> provides N<sub>dn </sub>downlink data symbol streams for the N<sub>dn </sub>user terminals. A TX spatial processor <b>420</b> performs spatial processing on the N<sub>dn </sub>downlink data symbol streams with a matrix V<sub>dn </sub>of N<sub>dn </sub>downlink steering vectors for the N<sub>dn </sub>user terminals, multiplexes in pilot symbols, and provides N<sub>ap </sub>transmit symbol streams for the N<sub>ap </sub>antennas. Each transmitter unit <b>422</b> receives and processes a respective transmit symbol stream to generate a downlink signal. N<sub>ap </sub>transmitter units <b>422</b> provide N<sub>ap </sub>downlink signals for transmission from N<sub>ap </sub>antennas <b>424</b> to the user terminals.</p>
<p id="p-0108" num="0128">At each user terminal <b>120</b>, N<sub>ut,m </sub>antennas <b>452</b> receive the N<sub>ap </sub>downlink signals from access point <b>110</b>. Each receiver unit <b>454</b> processes a received signal from an associated antenna <b>452</b> and provides a received symbol stream. An RX spatial processor <b>460</b> performs receiver spatial processing on N<sub>ut,m </sub>received symbol streams from N<sub>ut,m </sub>receiver units <b>454</b> and provides a recovered downlink data symbol stream {ŝ<sub>dn,m</sub>} for the user terminal. The receiver spatial processing is performed in accordance with the CCMI, MMSE, or some other technique. A spatial filter matrix M<sub>ut,m </sub>for each user terminal is derived based on (1) the receiver spatial processing technique used by the user terminal and (2) the downlink channel response matrix H<sub>dn,m </sub>for the user terminal. An RX data processor <b>470</b> processes (e.g., demodulates, deinterleaves, and decodes) the recovered downlink data symbol stream to obtain decoded data for the user terminal.</p>
<p id="p-0109" num="0129">At each user terminal <b>120</b>, a channel estimator <b>478</b> estimates the downlink channel response and provides downlink channel estimates, which may include channel gain estimates, SNR estimates, and so on. Similarly, a channel estimator <b>428</b> estimates the uplink channel response and provides uplink channel estimates. The steering vectors for downlink and uplink transmission may be derived in various manners depending on whether the MIMO system is a TDD system or an FDD system, as described above. If the steering vector is derived by one entity (e.g., the access point) and needed by another entity (e.g., the user terminal), then the one entity sends the steering vector to the other entity.</p>
<p id="p-0110" num="0130">Controller <b>480</b> for each user terminal typically derives the spatial filter matrix M<sub>ut,m </sub>for the user terminal based on the downlink channel response matrix H<sub>dn,m </sub>for that user terminal. Controller <b>430</b> derives the spatial filter matrix M<sub>ap </sub>for the access point based on the effective uplink channel response matrix H<sub>up,eff</sub>. Controller <b>480</b> for each user terminal may send feedback information (e.g., the downlink and/or uplink steering vectors, SNR estimates, and so on) to the access point. Controllers <b>430</b> and <b>480</b> also control the operation of various processing units at access point <b>110</b> and user terminal <b>120</b>, respectively.</p>
<p id="p-0111" num="0131"><figref idref="DRAWINGS">FIG. 5A</figref> shows a block diagram of a TX data processor <b>410</b><i>a </i>that supports CDMA. TX data processor <b>410</b><i>a </i>may be used for TX data processors <b>410</b> and <b>488</b> in <figref idref="DRAWINGS">FIG. 4</figref>. Within TX data processor <b>410</b><i>a</i>, an encoder <b>512</b> receives and codes a data stream {d<sub>m</sub>} for user terminal m based on the coding scheme for the selected rate and provides code bits. The data stream may carry one or more data packets, and each data packet is typically coded separately to obtain a coded data packet. The coding increases the reliability of the data transmission. The coding scheme may include cyclic redundancy check (CRC) coding, convolutional coding, turbo coding, block coding, and so on, or a combination thereof. A channel interleaver <b>514</b> interleaves the code bits based on an interleaving scheme. The interleaving provides time, frequency, and/or spatial diversity for the code bits. A symbol mapping unit <b>516</b> maps the interleaved bits based on the modulation scheme for the selected rate and provides data symbols. Unit <b>516</b> groups each set of B interleaved bits to form a B-bit binary value, where B≧1, and further maps each B-bit value to a specific modulation symbol based on the modulation scheme (e.g., QPSK, M-PSK, or M-QAM, where M=2<sup>B</sup>). Each modulation symbol is a complex value in a signal constellation defined by the modulation scheme.</p>
<p id="p-0112" num="0132">A CDMA modulator <b>520</b> performs modulation for CDMA. Within CDMA modulator <b>520</b>, a channelizer <b>522</b> receives and channelizes the data symbols and pilot symbols onto different code channels. Each code channel is associated with a respective orthogonal sequence, which may be a Walsh sequence, an orthogonal variable spreading factor (OVSF) sequence, and so on. The channelization is referred to as “covering” in IS-2000 and IS-95 and “spreading” in W-CDMA. A scrambler <b>524</b> receives and spectrally spreads the channelized data for multiple code channels with a pseudo-random number (PN) sequence and provides a stream of data chips, which for simplicity is denoted as a data symbol stream {s<sub>m</sub>}. The spectral spreading is referred to as “spreading” in IS-2000 and IS-95 and “scrambling” in W-CDMA. The channelization and spectral spreading are known in the art and not described herein.</p>
<p id="p-0113" num="0133">For the uplink, each data symbol stream is transmitted on a respective code channel, which is achieved by channelization with an orthogonal sequence. The N<sub>up </sub>selected user terminals may concurrently transmit N<sub>up </sub>or more data streams on different orthogonal code channels. Each user terminal performs spatial processing on all of its data symbol streams (or its data chip stream) with the same steering vector <u style="single">v</u><sub>up,m </sub>or <u style="single">{tilde over (v)}</u><sub>up,m</sub>. Similar processing occurs for the downlink.</p>
<p id="p-0114" num="0134"><figref idref="DRAWINGS">FIG. 5B</figref> shows a block diagram of a TX data processor <b>410</b><i>b </i>that supports OFDM. TX data processor <b>410</b><i>b </i>may also be used for TX data processors <b>410</b> and <b>488</b> in <figref idref="DRAWINGS">FIG. 4</figref>. TX data processor <b>410</b><i>b </i>includes encoder <b>512</b>, channel interleaver <b>514</b>, and symbol mapping unit <b>516</b>, which operate as described above for <figref idref="DRAWINGS">FIG. 5A</figref>. TX data processor <b>410</b><i>b </i>further includes an OFDM modulator <b>530</b> that performs modulation for OFDM. Within OFDM modulator <b>530</b>, an inverse fast Fourier transform (IFFT) unit <b>532</b> receives the data symbols from symbol mapping unit <b>516</b> and pilot symbols, provides the data and pilot symbols on subbands designated for data and pilot transmission, and provides a signal value of zero (a “zero” symbol) for each subband not used for data/pilot transmission. For each OFDM symbol period, IFFT unit <b>532</b> transforms a set of N<sub>F </sub>data, pilot, and zero symbols to the time domain using an N<sub>F</sub>-point inverse fast Fourier transform and provides a corresponding transformed symbol that contains N<sub>F </sub>chips. A cyclic prefix generator <b>534</b> repeats a portion of each transformed symbol to obtain a corresponding OFDM symbol that contains N<sub>F</sub>+N<sub>cp </sub>chips. The repeated portion is referred to as a cyclic prefix, and N<sub>cp </sub>is the number of chips being repeated. The cyclic prefix ensures that the OFDM symbol retains its orthogonal properties in the presence of multipath delay spread caused by frequency selective fading (i.e., a frequency response that is not flat). Cyclic prefix generator <b>534</b> provides a stream of OFDM symbols, which for simplicity is also denoted as a data symbol stream {s<sub>m</sub>}.</p>
<p id="p-0115" num="0135">For the uplink, each data symbol stream is transmitted on a respective set of subbands assigned for that stream. The N<sub>up </sub>selected user terminals may concurrently transmit N<sub>up </sub>or more data streams on different disjoint sets of subbands, where each of the N<sub>F </sub>subbands is assigned to at most one set. Each user terminal performs spatial processing on all of its data symbol streams (or its OFDM symbol stream) with the same steering vector <u style="single">v</u><sub>up,m </sub>or <u style="single">{tilde over (v)}</u><sub>up,m</sub>. Similar processing occurs for the downlink.</p>
<p id="p-0116" num="0136">For simplicity, <figref idref="DRAWINGS">FIGS. 5A and 5B</figref> show the processing for one data stream {d<sub>m</sub>} to obtain one data symbol steam {s<sub>m</sub>}. Multiple data steams (e.g., for multiple user terminals on the downlink) may be processed with multiple instances of the TX data processor to obtain multiple data symbol steams.</p>
<p id="p-0117" num="0137"><figref idref="DRAWINGS">FIGS. 5A and 5B</figref> show specific implementations in which the processing for CDMA and OFDM are performed prior to the spatial processing for multi-antenna transmission. In this case, the TX data processor includes the CDMA modulator or OFDM modulator, as shown in <figref idref="DRAWINGS">FIGS. 5A and 5B</figref>. The processing for CDMA and OFDM may also be performed after the spatial processing for multi-antenna transmission. In this case, each transmitter unit (TMTR) would include a CDMA modulator or an OFDM modulator that performs CDMA or OFDM processing on a respective transmit symbol stream to generate a corresponding modulated signal.</p>
<p id="p-0118" num="0138"><figref idref="DRAWINGS">FIG. 6</figref> shows the spatial processing at access point <b>110</b> and one user terminal <b>120</b><i>m </i>for downlink and uplink transmission. For the uplink, at user terminal <b>120</b><i>m</i>, the data symbol stream {s<sub>up,m</sub>} is multiplied with the steering vector <u style="single">v</u><sub>up,m </sub>by TX spatial processor <b>490</b><i>m </i>to obtain the transmit symbol vector x<sub>up,m </sub>for the uplink. At access point <b>110</b>, the received symbol vector <u style="single">r</u><sub>up </sub>(for user terminal <b>120</b><i>m </i>as well as other user terminals) is multiplied with a spatial filter matrix M<sub>up </sub>by a unit <b>640</b> and further scaled with a diagonal matrix D<sub>ap</sub><sup>−1 </sup>by a unit <b>642</b> to obtain the recovered data symbol vector <u style="single">ŝ</u><sub>up </sub>for the uplink. Units <b>640</b> and <b>642</b> are part of an RX spatial processor <b>440</b><i>a</i>. The matrices M<sub>ap </sub>and D<sub>ap</sub><sup>−1 </sup>are derived based on the effective uplink channel response matrix H<sub>up,eff </sub>and using the CCMI, MMSE, or some other technique.</p>
<p id="p-0119" num="0139">For the downlink, at access point <b>110</b>, the data symbol vector <u style="single">s</u><sub>dn </sub>(which includes the downlink data symbol streams for user terminal <b>120</b><i>m </i>as well as other user terminals) is multiplied with the downlink steering matrix V<sub>dn </sub>by TX spatial processor <b>420</b> to obtain the transmit symbol vector x<sub>dn </sub>for the downlink. At user terminal <b>120</b><i>m</i>, the received symbol vector <u style="single">r</u><sub>dn,m </sub>is multiplied with a spatial filter matrix M<sub>ut,m </sub>by a unit <b>660</b> and further scaled with a diagonal matrix D<sub>ut,m</sub><sup>−1 </sup>by a unit <b>662</b> to obtain a downlink recovered data symbol stream {ŝ<sub>dn,m</sub>} for user terminal <b>120</b><i>m</i>. Units <b>660</b> and <b>662</b> are part of RX spatial processor <b>460</b><i>m</i>. The matrices M<sub>ut,m </sub>and D<sub>ut,m</sub><sup>−1 </sup>are derived based on the downlink channel response matrix H<sub>dn,m </sub>for user terminal <b>120</b><i>m </i>and using the CCMI, MMSE, or some other technique.</p>
<p id="p-0120" num="0140"><figref idref="DRAWINGS">FIG. 7</figref> shows a block diagram of an RX spatial processor <b>440</b><i>b </i>and an RX data processor <b>442</b><i>b</i>, which implement the SIC technique and may be used for access point <b>110</b>. RX spatial processor <b>440</b><i>b </i>and RX data processor <b>442</b><i>b </i>implement N<sub>up </sub>successive (i.e., cascaded) receiver processing stages for N<sub>up </sub>data symbol streams transmitted by N<sub>up </sub>user terminals. Each of stages <b>1</b> to N<sub>up</sub>−1 includes a spatial processor <b>710</b>, an interference canceller <b>720</b>, an RX data stream processor <b>730</b>, and a TX data stream processor <b>740</b>. The last stage includes only a spatial processor <b>710</b><i>u </i>and an RX data stream processor <b>730</b><i>u. </i></p>
<p id="p-0121" num="0141">For stage <b>1</b>, spatial processor <b>710</b><i>a </i>performs receiver spatial processing on the N<sub>ap </sub>received symbol streams and provides one recovered data symbol stream {ŝ<sub>up,j</sub><sub><sub2>1</sub2></sub>} for user terminal j<sub>1 </sub>being recovered in the first stage. RX data stream processor <b>730</b><i>a </i>demodulates, deinterleaves, and decodes the recovered data symbol stream {ŝ<sub>up,j</sub><sub><sub2>1</sub2></sub>} and provides a decoded data stream {{circumflex over (d)}<sub>up,j</sub><sub><sub2>1</sub2></sub>}. TX data stream processor <b>740</b><i>a </i>encodes, interleaves, and modulates the decoded data stream {{circumflex over (d)}<sub>up,j</sub><sub><sub2>1</sub2></sub>} in the same manner performed by user terminal j<sub>1 </sub>for that stream and provides a remodulated symbol stream {{hacek over (s)}<sub>up,j</sub><sub><sub2>1</sub2></sub>}. Interference canceller <b>720</b><i>a </i>performs transmitter spatial processing on the remodulated symbol stream {{hacek over (s)}<sub>up,j</sub><sub><sub2>1</sub2></sub>} with the effective channel response vector h<sub>up,eff,j</sub><sub><sub2>1 </sub2></sub>for user terminal j<sub>1 </sub>to obtain N<sub>ap </sub>interference components due to the data symbol stream {s<sub>up,j</sub><sub><sub2>1</sub2></sub>}. The N<sub>ap </sub>interference components are subtracted from the N<sub>ap </sub>received symbol streams to obtain N<sub>ap </sub>modified symbol streams, which are provided to stage <b>2</b>.</p>
<p id="p-0122" num="0142">Each of stages <b>2</b> through N<sub>up</sub>−1 performs the same processing as stage <b>1</b>, albeit on the N<sub>ap </sub>modified symbol streams from the preceding stage instead of the N<sub>ap </sub>received symbol streams. The last stage performs spatial processing and decoding on the N<sub>ap </sub>modified symbol streams from stage N<sub>up</sub>−1 and does not perform interference estimation and cancellation.</p>
<p id="p-0123" num="0143">Spatial processors <b>710</b><i>a </i>through <b>710</b><i>u </i>may each implement the CCMI, MMSE, or some other technique. Each spatial processor <b>710</b> multiplies an input (received or modified) symbol vector <u style="single">r</u><sub>sic</sub><sup>l </sup>with a spatial filter matrix M<sub>ap</sub><sup>l </sup>to obtain a detected symbol vector <u style="single">{tilde over (s)}</u><sub>up</sub><sup>l</sup>, selects and scales one of the detected symbol streams, and provides the scaled symbol stream as the recovered data symbol stream for that stage. The matrix M<sub>ap</sub><sup>l </sup>is derived based on a reduced effective channel response matrix H<sub>up,eff</sub><sup>l </sup>for the stage.</p>
<p id="p-0124" num="0144"><figref idref="DRAWINGS">FIG. 8</figref> shows a block diagram of an embodiment of controller <b>430</b> and scheduler <b>434</b> for evaluating and scheduling user terminals for transmission on the downlink and uplink. Within controller <b>430</b>, a request processor <b>810</b> receives access requests sent by user terminals <b>120</b> and possibly access requests from other sources. These access requests are for data transmission on the downlink and/or uplink. For clarity, scheduling for uplink transmission is described below.</p>
<p id="p-0125" num="0145">Request processor <b>810</b> processes the received access requests and provides the identities (IDs) and the status of all active user terminals. A user selector <b>820</b> selects different sets of user terminals from among all active user terminals for evaluation. The user terminals may be selected for evaluation based on various factors such as user priority, the amount of data to send, system requirements, and so on.</p>
<p id="p-0126" num="0146">An evaluation unit <b>830</b> evaluates each set of user terminals and provides a value for a metric for the set. For simplicity, the following description assumes that (1) overall throughput is used as the metric and (2) the effective uplink channel response vector is available for each active user terminal. Evaluation unit <b>830</b> includes a matrix computation unit <b>840</b> and a rate selector <b>850</b>. Matrix computation unit <b>840</b> performs the SNR computation for each set of user terminals. For each set, unit <b>840</b> forms the effective uplink channel response matrix H<sub>up,eff,n </sub>for the set and computes the SNR for each user terminal in the set based on H<sub>up,eff,n </sub>and the receiver spatial processing technique used by the access point. Rate selector <b>850</b> receives a set of SNRs for each user set and determines the rate for each user terminal in the set as well as the overall throughput R<sub>n </sub>for the set. Rate selector <b>850</b> may access a look-up table (LUT) <b>852</b>, which stores a set of rates supported by the system and their required SNRs. Rate selector <b>850</b> determines the highest rate that may be used for uplink transmission by each user terminal based on the SNR computed for the user terminal. Rate selector <b>850</b> also accumulates the rates or throughputs for all user terminals in each set to obtain the overall throughput R<sub>n </sub>for the set.</p>
<p id="p-0127" num="0147">Scheduler <b>434</b> receives (1) the different sets of user terminals from user selector <b>820</b> and (2) the rates for the user terminals and the overall throughput for each set from rate selector <b>850</b>. Scheduler <b>434</b> selects the best set of user terminals among all sets evaluated for each scheduling interval and schedules the selected user terminals for transmission on the uplink. Scheduler <b>434</b> provides scheduling information, which includes the identities of the selected user terminals, their rates, the scheduled transmission time (e.g., the start and the duration of the transmission), and so on. The scheduling information is sent to the selected user terminals.</p>
<p id="p-0128" num="0148">The scheduling for downlink transmission may be performed in similar manner.</p>
<p id="p-0129" num="0149">The SDMA transmission techniques described herein may be implemented by various means. For example, these techniques may be implemented in hardware, software, or a combination thereof. For a hardware implementation, the processing units used to support the underlying wireless technology (e.g., CDMA or OFDM) and the SDMA transmission on the downlink and uplink (e.g., the transmit and receive spatial processing at the access point and user terminal, the evaluation of different user sets, and so on) may be implemented within one or more application specific integrated circuits (ASICs), digital signal processors (DSPs), digital signal processing devices (DSPDs), programmable logic devices (PLDs), field programmable gate arrays (FPGAs), processors, controllers, micro-controllers, microprocessors, other electronic units designed to perform the functions described herein, or a combination thereof.</p>
<p id="p-0130" num="0150">For a software implementation, the SDMA transmission techniques described herein may be implemented with modules (e.g., procedures, functions, and so on) that perform the functions described herein. The software codes may be stored in a memory unit (e.g., memory units <b>432</b> and <b>482</b> in <figref idref="DRAWINGS">FIG. 4</figref>) and executed by a processor (e.g., controllers <b>430</b> and <b>480</b>). The memory unit may be implemented within the processor or external to the processor, in which case it can be communicatively coupled to the processor via various means as is known in the art.</p>
<p id="p-0131" num="0151">Headings are included herein for reference and to aid in locating certain sections. These headings are not intended to limit the scope of the concepts described therein under, and these concepts may have applicability in other sections throughout the entire specification.</p>
<p id="p-0132" num="0152">The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the invention. Thus, the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298805-20071120-M00001.NB">
<img id="EMI-M00001" he="17.61mm" wi="76.20mm" file="US07298805-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US07298805-20071120-M00002.NB">
<img id="EMI-M00002" he="14.14mm" wi="76.20mm" file="US07298805-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US07298805-20071120-M00003.NB">
<img id="EMI-M00003" he="14.14mm" wi="76.20mm" file="US07298805-20071120-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US07298805-20071120-M00004.NB">
<img id="EMI-M00004" he="7.03mm" wi="76.20mm" file="US07298805-20071120-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US07298805-20071120-M00005.NB">
<img id="EMI-M00005" he="6.35mm" wi="76.20mm" file="US07298805-20071120-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US07298805-20071120-M00006.NB">
<img id="EMI-M00006" he="14.14mm" wi="76.20mm" file="US07298805-20071120-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US07298805-20071120-M00007.NB">
<img id="EMI-M00007" he="6.35mm" wi="76.20mm" file="US07298805-20071120-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US07298805-20071120-M00008.NB">
<img id="EMI-M00008" he="14.82mm" wi="76.20mm" file="US07298805-20071120-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00009" nb-file="US07298805-20071120-M00009.NB">
<img id="EMI-M00009" he="7.03mm" wi="76.20mm" file="US07298805-20071120-M00009.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00010" nb-file="US07298805-20071120-M00010.NB">
<img id="EMI-M00010" he="5.33mm" wi="76.20mm" file="US07298805-20071120-M00010.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00011" nb-file="US07298805-20071120-M00011.NB">
<img id="EMI-M00011" he="7.03mm" wi="76.20mm" file="US07298805-20071120-M00011.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00012" nb-file="US07298805-20071120-M00012.NB">
<img id="EMI-M00012" he="9.57mm" wi="76.20mm" file="US07298805-20071120-M00012.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A method of receiving data in a multiple-input multiple-output (MIMO) communication system, comprising:
<claim-text>obtaining, from a plurality of receive antennas at a receiving entity, a plurality of received symbol streams for a plurality of data symbol streams sent by a plurality of transmitting entities, one data symbol stream for each transmitting entity, wherein the data symbol stream for each transmitting entity is spatially processed with a steering vector for the transmitting entity and sent from a plurality of transmit antennas at the transmitting entity; and</claim-text>
<claim-text>processing the plurality of received symbol streams in accordance with a receiver spatial processing technique to obtain a plurality of recovered data symbol streams, which are estimates of the plurality of data symbol streams,</claim-text>
<claim-text>wherein the steering vector for each transmitting entity is derived by:
<claim-text>decomposing a channel response matrix for the transmitting entity to obtain a plurality of eigenvectors and a plurality of singular values, and</claim-text>
<claim-text>forming the steering vector for the transmitting entity based on an eigenvector corresponding to a largest singular value among the plurality of singular values.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver spatial processing technique is a channel correlation matrix inversion (CCMI) technique or a minimum mean square error (MMSE) technique.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the receiver spatial processing technique is a successive interference cancellation (SIC) technique.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the steering vector for each transmitting entity is equal to the eigenvector corresponding to the largest singular value.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the steering vector for each transmitting entity contains a plurality of elements having same magnitude and phases equal to phases of a plurality of elements of the eigenvector corresponding to the largest singular value.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method of receiving data in a multiple-input multiple-output (MIMO) communication system, comprising:
<claim-text>obtaining, from a plurality of receive antennas at a receiving entity, a plurality of received symbol streams for a plurality of data symbol streams sent by a plurality of transmitting entities, one data symbol stream for each transmitting entity, wherein the data symbol stream for each transmitting entity is spatially processed with a steering vector for the transmitting entity and sent from a plurality of transmit antennas at the transmitting entity;</claim-text>
<claim-text>processing the plurality of received symbol streams in accordance with a receiver spatial processing technique to obtain a plurality of recovered data symbol streams, which are estimates of the plurality of data symbol streams;</claim-text>
<claim-text>evaluating each of a plurality of sets of transmitting entities for possible transmission based on a metric and steering vectors for the transmitting entities in the set; and</claim-text>
<claim-text>selecting a set of transmitting entities with a highest metric value for transmission.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. An apparatus at a receiving entity in a multiple-input multiple-output (MIMO) communication system, comprising:
<claim-text>a plurality of receiver units operative to obtain from a plurality of receive antennas a plurality of received symbol streams for a plurality of data symbol streams sent by a plurality of transmitting entities, one data symbol stream for each transmitting entity, wherein the data symbol stream for each transmitting entity is spatially processed with a steering vector for the transmitting entity and sent from a plurality of transmit antennas at the transmitting entity; and</claim-text>
<claim-text>a receive spatial processor operative to process the plurality of received symbol streams in accordance with a receiver spatial processing technique to obtain a plurality of recovered data symbol streams, which are estimates of the plurality of data symbol streams,</claim-text>
<claim-text>wherein the steering vector for each transmitting entity is derived by:
<claim-text>decomposing a channel response matrix for the transmitting entity to obtain a plurality of eigenvectors and a plurality of singular values, and</claim-text>
<claim-text>forming the steering vector for the transmitting entity based on an eigenvector corresponding to a largest singular value among the plurality of singular values.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the receiver spatial processing technique is a channel correlation matrix inversion (CCMI) technique or a minimum mean square error (MMSE) technique.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An apparatus at a receiving entity in a multiple-input multiple-output (MIMO) communication system, comprising:
<claim-text>means for obtaining from a plurality of receive antennas a plurality of received symbol streams for a plurality of data symbol streams sent by a plurality of transmitting entities, one data symbol stream for each transmitting entity, wherein the data symbol stream for each transmitting entity is spatially processed with a steering vector for the transmitting entity and sent from a plurality of transmit antennas at the transmitting entity; and</claim-text>
<claim-text>means for processing the plurality of received symbol streams in accordance with a receiver spatial processing technique to obtain a plurality of recovered data symbol streams, which are estimates of the plurality of data symbol streams,</claim-text>
<claim-text>wherein the steering vector for each transmitting entity is derived by:
<claim-text>decomposing a channel response matrix for the transmitting entity to obtain a plurality of eigenvectors and a plurality of singular values, and</claim-text>
<claim-text>forming the steering vector for the transmitting entity based on an eigenvector corresponding to a largest singular value among the plurality of singular values.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the receiver spatial processing technique is a channel correlation matrix inversion (CCMI) technique or a minimum mean square error (MMSE) technique.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. A method of deriving steering vector for data transmission in a multiple-input multiple-output (MIMO) communication system, comprising:
<claim-text>obtaining a channel response matrix indicative of a response of a MIMO channel between a transmitting entity and a receiving entity in the MIMO system;</claim-text>
<claim-text>decomposing the channel response matrix to obtain a plurality of eigenvectors and a plurality of singular values, one eigenvector for each singular value; and</claim-text>
<claim-text>deriving the steering vector for the transmitting entity based on an eigenvector corresponding to a largest singular value among the plurality of singular values, and</claim-text>
<claim-text>wherein a plurality of steering vectors are derived for a plurality of transmitting entities and used for spatial processing by the plurality of transmitting entities to concurrently transmit a plurality of data symbol streams to the receiving entity.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the steering vector for each transmitting entity is the eigenvector corresponding to the largest singular value.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the steering vector for each transmitting entity contains a plurality of elements having same magnitude and phases equal to phases of a plurality of elements of the eigenvector corresponding to the largest singular value.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. An apparatus in a multiple-input multiple-output (MIMO) communication system, comprising:
<claim-text>a channel estimator operative to obtain a channel response matrix indicative of a response of a MIMO channel between a transmitting entity and a receiving entity in the MIMO system; and</claim-text>
<claim-text>a controller operative to decompose the channel response matrix to obtain a plurality of eigenvectors and a plurality of singular values, one eigenvector for each singular value and to derive the steering vector for the transmitting entity based on an eigenvector corresponding to a largest singular value among the plurality of singular values, and</claim-text>
<claim-text>wherein a plurality of steering vectors are derived for a plurality of transmitting entities and used for spatial processing by the plurality of transmitting entities to concurrently transmit a plurality of data symbol streams to the receiving entity.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. An apparatus in a multiple-input multiple-output (MIMO) communication system, comprising:
<claim-text>means for obtaining a channel response matrix indicative of a response of a MIMO channel between a transmitting entity and a receiving entity in the MIMO system;</claim-text>
<claim-text>means for decomposing the channel response matrix to obtain a plurality of eigenvectors and a plurality of singular values, one eigenvector for each singular value; and</claim-text>
<claim-text>means for deriving the steering vector for the transmitting entity based on an eigenvector corresponding to a largest singular value among the plurality of singular values, and</claim-text>
<claim-text>wherein a plurality of steering vectors are derived for a plurality of transmitting entities and used for spatial processing by the plurality of transmitting entities to concurrently transmit a plurality of data symbol streams to the receiving entity.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
