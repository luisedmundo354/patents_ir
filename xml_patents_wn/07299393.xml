<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299393-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299393</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11416438</doc-number>
<date>20060502</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>KR</country>
<doc-number>02-34814</doc-number>
<date>20020621</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<disclaimer>
<text>This patent is subject to a terminal disclaimer.</text>
</disclaimer>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>R</subclass>
<main-group>31</main-group>
<subgroup>28</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>13</main-group>
<subgroup>14</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>714734</main-classification>
<further-classification>710129</further-classification>
</classification-national>
<invention-title id="d0e69">Microprocessor with trace module</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4674089</doc-number>
<kind>A</kind>
<name>Poret et al.</name>
<date>19870600</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>371 25</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5724505</doc-number>
<kind>A</kind>
<name>Argade et al.</name>
<date>19980300</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>39518321</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5961653</doc-number>
<kind>A</kind>
<name>Kalter et al.</name>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  7</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6145100</doc-number>
<kind>A</kind>
<name>Madduri</name>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>714 45</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6145123</doc-number>
<kind>A</kind>
<name>Torrey et al.</name>
<date>20001100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>717  4</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6175913</doc-number>
<kind>B1</kind>
<name>Chesters et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>712227</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6185732</doc-number>
<kind>B1</kind>
<name>Mann et al.</name>
<date>20010200</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>717  4</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6243836</doc-number>
<kind>B1</kind>
<name>Whalen</name>
<date>20010600</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>714 45</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6728910</doc-number>
<kind>B1</kind>
<name>Huang</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714711</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>60-159949</doc-number>
<date>19850800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>06-103108</doc-number>
<date>19940400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>JP</country>
<doc-number>06-119258</doc-number>
<date>19940800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>JP</country>
<doc-number>06-231010</doc-number>
<date>19940800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>JP</country>
<doc-number>07-084827</doc-number>
<date>19950300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>JP</country>
<doc-number>10-011321</doc-number>
<date>19980100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>JP</country>
<doc-number>10-275092</doc-number>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>10-289127</doc-number>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>11-282713</doc-number>
<date>19991000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>JP</country>
<doc-number>11-306040</doc-number>
<date>19991100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>JP</country>
<doc-number>11-345150</doc-number>
<date>19991200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>JP</country>
<doc-number>2000-010816</doc-number>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>JP</country>
<doc-number>2000-112789</doc-number>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>16</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>2</number-of-drawing-sheets>
<number-of-figures>2</number-of-figures>
</figures>
<us-related-documents>
<continuation>
<relation>
<parent-doc>
<document-id>
<country>US</country>
<doc-number>10412979</doc-number>
<kind>00</kind>
<date>20030414</date>
</document-id>
<parent-grant-document>
<document-id>
<country>US</country>
<doc-number>7055078</doc-number>
<kind>A </kind>
</document-id>
</parent-grant-document>
</parent-doc>
<child-doc>
<document-id>
<country>US</country>
<doc-number>11416438</doc-number>
</document-id>
</child-doc>
</relation>
</continuation>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060242527</doc-number>
<kind>A1</kind>
<date>20061026</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kwon</last-name>
<first-name>Jung-Mi</first-name>
<address>
<city>Seongnam-shi</city>
<country>KR</country>
</address>
</addressbook>
<nationality>
<country>KR</country>
</nationality>
<residence>
<country>KR</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Mills &amp; Onello LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Samsung Electronics Co., Ltd.</orgname>
<role>03</role>
<address>
<country>KR</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tu</last-name>
<first-name>Christine T.</first-name>
<department>2117</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A processor-based device includes a processor, a trace module, a plurality of data input/output pins, and an input/output interface circuit. The input/output interface circuit, when operating in a trace mode, externally outputs trace data signals from the trace module to an external device via at least one of the data input/output pins. When in a normal mode, the input/output interface circuit transfers data from the processor core to the data input/output pins and transfers data received at the data input/output pins to the processor core. In this manner, the processor-based device according to the present invention can output trace data using normal data input/output pins without the need for additional pins for outputting the trace data.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="251.04mm" wi="185.34mm" file="US07299393-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="220.39mm" wi="162.98mm" orientation="landscape" file="US07299393-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="262.89mm" wi="185.93mm" file="US07299393-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<p id="p-0002" num="0001">This application is a continuation application of U.S. application Ser. No. 10/412,979, filed on Apr. 14, 2003 now U.S. Pat. No. 7,055,078, which relies for priority upon Korean Patent Application No. 2002-34814, filed on Jun. 21, 2002, the contents of which are herein incorporated by reference in their entirety.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention is related to a microprocessor that is capable of supporting program trace functionality, and in particular to a microprocessor having a trace module.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">Program trace is one of the important debugging tools that are commonly used by programmers and software engineers. The program trace takes the form of a set of instructions executed by a digital processor. By determining whether certain instructions have been executed, users (for example, programmers or software engineers) can judge whether the hardware and software have properly executed a process. If abnormal operation is determined, a user can then discriminate the source of the problem.</p>
<p id="p-0005" num="0004">A processor chip such as a microprocessor or microcontroller commonly includes a trace module for the purpose of accommodating firmware development and debugging. In order to monitor information generated by the trace module, a trace data output pin is further required in addition to the standard data input/output pins.</p>
<p id="p-0006" num="0005">However, the addition of a trace data output pin to a processor chip gives rise to an increase in chip size and cost. Accordingly, it is more burdensome to manufacture a processor chip in this manner.</p>
<heading id="h-0003" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0007" num="0006">In view of the above limitations of the conventional embodiments, it is therefore an object of the present invention to provide a microprocessor integrated circuit capable of outputting trace data through normal data input/output pins of a processor chip.</p>
<p id="p-0008" num="0007">In accordance with one aspect of the present invention, there is provided a processor-based device provided with pins that permit connection to at least one external device. The device includes a processor core, a trace module for generating trace data signals, and a plurality of data input/output pins which input and output data from and to the at least one external device. An input/output interface circuit, when operating in a trace mode, externally outputs the trace data signals from the trace module to the at least one external device via at least one of the data input/output pins.</p>
<p id="p-0009" num="0008">The input/output interface circuit, when operating in a normal mode, transfers data from the processor core to the data input/output pins and transfers data received from the data input/output pins to the processor core.</p>
<p id="p-0010" num="0009">The input/output interface circuit includes a serial port which receives standardized serial signals, and a controller which generates a mode select signal and trace output pin select signals in response to the serial signals. The mode select signal indicates whether a current operating mode is the trace mode or the normal mode. The trace output pin select signal is used to select the at least one data input/output pins that output the trace data signals during trace mode. The trace output pin select signals correspond to the plurality of data input/output pins, respectively.</p>
<p id="p-0011" num="0010">The trace module activates a trace output enable signal when the mode select signal indicates that the current operating mode is the trace mode. The input/output interface circuit further includes a plurality of logic circuits corresponding to the trace output pin select signals respectively. Each of the input/output interface circuits selects one of first and second trace data signals from the trace module and transfers the selected one of the first and second trace data signals to a corresponding data input/output pin when a corresponding trace output pin select signal and the corresponding trace output enable signal are activated.</p>
<p id="p-0012" num="0011">In a preferred embodiment, the serial port is essentially compliant with the IEEE-1149.1-1990 JTAG interface standard or other similar standard.</p>
<p id="p-0013" num="0012">The processor core generates an output enable signal, and the input/output interface circuit transfers data from the processor core to the data input/output pins when the mode select signal indicates that the current operating mode is the normal mode and the output enable signal is activated. The input/output interface circuit transfers data received from the data input/output pins to the processor core when the mode select signal indicates that the current operating mode is the normal mode and the output enable signal is inactivated.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0014" num="0013">A more complete appreciation of the present invention, and many of the attendant advantages thereof, will become readily apparent as the same becomes better understood by reference to the following detailed description when considered in conjunction with the accompanying drawings in which like reference symbols indicate the same or similar components, wherein:</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram of a target system according to the present invention; and</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 2</figref> is a preferred embodiment of an input/output interface circuit of an embedded processor device for the target system illustrated in <figref idref="DRAWINGS">FIG. 1</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS</heading>
<p id="p-0017" num="0016">The preferred embodiment of the invention will now be more fully described with reference to the attached drawings.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1</figref> schematically depicts a target system according to the present invention. Referring to <figref idref="DRAWINGS">FIG. 1</figref>, a target system <b>10</b> according to the present invention includes an embedded processor device <b>200</b> coupled to a system memory <b>100</b>. The embedded processor device <b>200</b> incorporates a processor core <b>210</b>, a trace module <b>220</b>, and an input/output interface circuit <b>230</b>. Although not considered critical to the present invention, the embedded processor device <b>200</b> may incorporate additional circuitry (not shown) for performing application specific functions, or, optionally, may take the form of a stand-alone processor or digital signal processor (DSP).</p>
<p id="p-0019" num="0018">A host system <b>20</b> is used- to execute debug control software <b>21</b> for transferring high-level commands and for controlling the extraction and analysis of debug information generated by the target system <b>10</b>. The host system <b>20</b> and the target system <b>10</b> of the disclosed embodiment of the invention communicate, for example, via a serial link <b>30</b>.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> is a preferred embodiment of an input/output interface circuit <b>230</b> of the embedded processor device <b>200</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref>. Referring to <figref idref="DRAWINGS">FIG. 2</figref>, an input/output interface circuit <b>230</b> includes a TAP (Test Access Port) controller <b>231</b> coupled with a JTAG (Joint Test Action Group) port <b>250</b>, a register <b>232</b>, and logic circuits <b>310</b>-<b>340</b> connected respectively to data input/output pins <b>241</b>-<b>244</b>. In this embodiment, the embedded processor device <b>200</b> has four data input/output pins <b>241</b>-<b>244</b>. It would be apparent to those skilled in the art that the number of data input/output pins can be modified according to circuit specifications.</p>
<p id="p-0021" num="0020">The JTAG port <b>250</b> uses an IEEE-1149.1-1990 compliant JTAG interface or other similar standardized serial port interfaces.</p>
<p id="p-0022" num="0021">The TAP controller <b>231</b> generates a mode select signal MODE in response to an input of the JTAG port <b>250</b>. The mode select signal MODE indicates whether the current operating mode is a normal mode or a trace mode. A trace module <b>220</b> activates a trace output enable (TOE) signal at a high level when the mode select signal MODE indicates that trace, mode is operational. The trace module <b>220</b> inactivates the trace output enable TOE signal at a low level when the mode select signal MODE indicates that normal mode is operational. The TAP controller <b>231</b> generates select signals TP<b>1</b>-TP<b>4</b> in response to an input of the JTAG port <b>250</b>. The select signals TP<b>1</b>-TP<b>4</b> are used to select which pins, for example two pins, of the data input/output pins, at which trace data TD<b>1</b> and TD<b>2</b> from the trace module <b>220</b> are to be output. The select signals TP<b>1</b>-TP<b>4</b> from the TAP controller <b>231</b> are stored in the register <b>232</b>.</p>
<p id="p-0023" num="0022">In the embodiment illustrated, the trace module <b>220</b> outputs two trace data bits TD<b>1</b> and TD<b>2</b>. It would however be apparent to those skilled in the art that the number of trace data bits from the trace module <b>220</b> may be modified according to circuit specifications. For the case where trace data is formed of two bits and the number of data input/output pins is 4, the select signals TP<b>1</b>-TP<b>4</b> are used to select two data input/output pins from the four available pins for outputting the trace data bits TD<b>1</b> and TD<b>2</b>.</p>
<p id="p-0024" num="0023">The logic circuit <b>310</b> incorporates AND gates <b>311</b>, <b>313</b> and <b>318</b>, an OR gate <b>314</b>, inverters (or buffers) <b>316</b> and <b>317</b>, and multiplexers <b>312</b> and <b>315</b>. Each of the AND gates <b>313</b> and <b>318</b> has an inverting input terminal and a non-inverting input terminal. The AND gate <b>311</b> receives the trace output enable signal TOE from the trace module <b>220</b> and the select signal TP<b>1</b> from the register <b>232</b>. The multiplexer <b>312</b> receives the trace data signals TD<b>1</b> and TD<b>2</b> and outputs one of the received signals in response to a select signal S<b>1</b> from the trace module <b>220</b>. The AND gate <b>313</b> receives an output enable signal OE via its non-inverting input terminal and an output signal of the AND gate <b>311</b> via its inverting input terminal. The OR gate <b>314</b> receives output signals of gates <b>311</b> and <b>313</b>. The multiplexer <b>315</b> receives an output data signal DOUT<b>1</b> from the processor <b>210</b> and an output signal of the multiplexer <b>312</b>, and selects one of the received signals in response to an output signal of the AND gate <b>311</b>. An output signal of the multiplexer <b>315</b> is transferred to the data input/output pin <b>241</b> via the inverter <b>316</b>. The inverter <b>316</b> is controlled by an output signal of the OR gate <b>314</b>. For example, when the output signal of the OR gate <b>314</b> is activated, the inverter <b>316</b> is activated to form its transfer path. When the output signal of the OR gate <b>314</b> is inactivated, the inverter <b>316</b> is inactivated to cut off its transfer path. An input signal received via the pin <b>241</b> is transferred to a non-inverting input terminal of the AND gate <b>318</b>. An output signal of the AND gate <b>311</b> is provided to an inverting input terminal of the AND gate <b>318</b>. An output signal DIN<b>1</b> of the AND gate <b>318</b> is transferred to the processor <b>210</b>.</p>
<p id="p-0025" num="0024">Remaining logic circuits <b>320</b>-<b>340</b> are configured the same as the logic circuit <b>310</b>. Constituent elements in the respective logic circuits <b>320</b>-<b>340</b> are marked by the same or similar reference numerals and symbols as or to those of the logic circuit <b>310</b>. Description thereof will be thus omitted for the sake of brevity.</p>
<p id="p-0026" num="0025">The operation of the processor device <b>200</b> according to a preferred embodiment of the present invention will be described below.</p>
<p id="p-0027" num="0026">To begin with, during a normal mode of operation, the mode select signal MODE becomes low such that output data bits DOUT<b>1</b>-DOUT<b>4</b> from the processor <b>210</b> are transmitted to the external via data input/output pins <b>241</b>-<b>244</b>. A trace module <b>220</b> inactivates the trace output enable signal TOE to a low level in response to the mode select signal MODE being at a low level. Meanwhile, during the normal mode of operation, the processor <b>210</b> activates an output enable signal OE to a high level, in order to externally output the output data bits DOUT<b>1</b>-DOUT<b>4</b>. Under these, the output signal of the AND gate <b>311</b> becomes low and the output signal of the AND gate <b>313</b> becomes high. Multiplexer <b>315</b> outputs a data signal DOUT<b>1</b> generated by the processor <b>210</b> in response to the low-level signal output of the AND gate <b>311</b>. Since the output signal of the AND gate <b>313</b> is at a high level, an OR gate <b>314</b> outputs a high-level signal. When the output signal of the OR gate <b>314</b> has a low-to-high transition, the output signal of the multiplexer <b>315</b>, that is, the data bit DOUT<b>1</b> from the processor <b>210</b> is transferred to the data input/output pin <b>241</b> via the inverter <b>316</b>.</p>
<p id="p-0028" num="0027">When the signals OE and TOE are both at a low level, data received via the pin <b>241</b> is provided to the processor <b>210</b> via a data input path, that is, via the inverter <b>317</b> and the AND gate <b>318</b>. Logic circuits <b>320</b>-<b>340</b> connected to remaining pins <b>242</b>-<b>244</b> operate the same as the logic circuit <b>310</b>, and description thereof will be thus omitted.</p>
<p id="p-0029" num="0028">Meanwhile, during trace mode, the mode select signal MODE goes high for externally outputting trace data TD<b>1</b> and TD<b>2</b> via selected data input/output pins <b>241</b>-<b>244</b>. The trace module <b>220</b> activates the trace output enable signal TOE to a high level in response to the mode select signal MODE being at a high level. At this time, the output enable signal OE from the processor <b>210</b> is inactivated to a low level.</p>
<p id="p-0030" num="0029">It is assumed in this example that select signals TP<b>1</b>-TP<b>4</b> in the register <b>232</b> have values of ‘1’, ‘1’, ‘0’ and ‘0’ respectively, and that select signals S<b>1</b>-S<b>4</b> from the trace module <b>220</b> have ‘0’, ‘1’, ‘x’ and ‘x’ values respectively. The symbol ‘x’ indicates the “don't care” state.</p>
<p id="p-0031" num="0030">The multiplexer <b>312</b> selects one (e.g., TD<b>1</b>) of trace data bits TD<b>1</b> and TD<b>2</b> in response to the select signal S<b>1</b>. Since the trace output enable signal TOE and the select signal TP<b>1</b> both have a high level, the output signal of the AND gate <b>311</b> becomes high. At this time, since the OR gate <b>314</b> outputs a high-level signal, the multiplexer <b>315</b> selects for output the output of multiplexer <b>312</b>, that is, the trace data TD<b>1</b> from the trace module <b>220</b>. The output signal of the multiplexer <b>315</b> is transferred to the data input/output pin <b>241</b> via the inverter <b>316</b>, which is activated by a high-level signal from the OR gate <b>314</b>. That is, during the trace mode, the trace data TD<b>1</b> is output via the data input/output pin <b>241</b> as a normal data input/output pin of the processor device <b>200</b>.</p>
<p id="p-0032" num="0031">In a similar manner, the trace data TD<b>2</b> from the trace module <b>220</b> can be externally output to a data input/output pin, for example pin <b>242</b>, through the logic circuit <b>320</b>.</p>
<p id="p-0033" num="0032">Namely, when the trace output enable signal TOE is activated to a high level under the aforementioned assumption, the trace data bits TD<b>1</b> and TD<b>2</b> are externally output through normal data input/output pins <b>241</b> and <b>242</b>. As described above, it is assumed that select signals TP<b>1</b>-TP<b>4</b> in the register <b>232</b> have ‘1’, ‘1’, ‘0’ and ‘0’ values respectively and select signals S<b>1</b>-S<b>4</b> from the trace module <b>220</b> have ‘0’, ‘1’, ‘x’ and ‘x’ values respectively. In order to output the data bits TD<b>1</b> and TD<b>2</b> via data input/output pins <b>243</b> and <b>244</b>, the select signals TP<b>1</b>-TP<b>4</b> are set to ‘0’, ‘0’, ‘1’ and ‘1’ respectively and the select signals S<b>1</b>-S<b>4</b> are set to ‘x’, ‘x’, ‘0’, and ‘1’ respectively. Accordingly, trace data from the trace module <b>220</b> can be output through two pins of the data input/output pins <b>241</b>-<b>244</b> of the processor device <b>200</b>.</p>
<p id="p-0034" num="0033">In accordance with the present invention, trace data is output using normal data input/output pins of a processor device rather than trace-dedicated pins. This means that additional pins for outputting the trace data are not required. Accordingly, the present invention prevents an increase in the chip size and an increase in the cost involved in providing additional pins for the trace data.</p>
<p id="p-0035" num="0034">While this invention has been particularly shown and described with references to preferred embodiments thereof, it will be understood by those skilled in the art that various changes in form and details may be made herein without departing from the spirit and scope of the invention as defined by the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A semiconductor device including pins that permit connection to at least one external device, comprising:
<claim-text>an internal core that receives and generates data signals;</claim-text>
<claim-text>a trace module that generates trace data signals;</claim-text>
<claim-text>a plurality of data input/output pins which, when the semiconductor device is operating in a normal mode, input and output the data signals from and to the at least one external device; and</claim-text>
<claim-text>a plurality of logic circuits, each corresponding to one of the plurality of data input/output pins, and each, when the semiconductor device is operating in a trace mode, externally outputs one of the trace data signals from the trace module to the at least one external device via the corresponding one of the plurality of data input/output pins in response to a plurality of trace output pin select signals.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The semiconductor device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a serial port which receives standardized serial signals; and</claim-text>
<claim-text>a test access port (TAP) controller which generates a mode select signal and the plurality of trace output pin select signals in response to the serial signals received at the serial port, wherein the mode select signal indicates whether a current operating mode of the device is the trace mode or the normal mode.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The semiconductor device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the trace module activates a trace output enable signal when the mode select signal indicates that the current operating mode is the trace mode.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The semiconductor device of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein each of plurality of logic circuits selects one of the trace data signals from the trace module and transfers the selected one of the trace data signals to a corresponding data input/output pin when the corresponding trace output pin select signal and the corresponding trace output enable signal are activated.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The semiconductor device of <claim-ref idref="CLM-00002">claim 2</claim-ref>, wherein the serial port is essentially compliant with the IEEE-1149.1-1990 JTAG interface standard or other similar standard.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The semiconductor device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the plurality of logic circuits, when the semiconductor device is operating in the normal mode, transfer data from the internal core to the plurality of data input/output pins and transfer data received at the data input/output pins to the internal core.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The semiconductor device of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the internal core generates an output enable signal, and wherein the plurality of logic circuits each transfer data from the internal core to the corresponding data input/output pin when the mode select signal indicates that the current operating mode is the normal mode and when the output enable signal is activated.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The semiconductor device of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the plurality of logic circuits each transfer data received from the data input/output pins to the internal core when the mode select signal indicates that the current operating mode is the normal mode and when the output enable signal is inactivated.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. A method of operating a semiconductor device including pins that permit connection to at least one external device, comprising:
<claim-text>receiving and generating data signals at an internal core;</claim-text>
<claim-text>generating trace data signals at a trace module;</claim-text>
<claim-text>inputting and outputting the data signals from and to the at least one external device at a plurality of data input/output pins when the semiconductor device is operating in a normal mode; and</claim-text>
<claim-text>externally outputting one of the trace data signals from the trace module to the at least one external device via the corresponding one of the plurality of data input/output pins in response to a plurality of trace output pin select signals at a plurality of logic circuits, each logic circuit corresponding to one of the plurality of data input/output pins, when the semiconductor device is operating in a trace mode.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, further comprising:
<claim-text>receiving standardized serial signals at a serial port; and</claim-text>
<claim-text>generating a mode select signal and the plurality of trace output pin select signals at a test access port (TAP) controller in response to the serial signals received at the serial port, wherein the mode select signal indicates whether a current operating mode of the device is the trace mode or the normal mode.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the plurality of logic circuits, when the semiconductor device is operating in the normal mode, transfer data from the internal core to the plurality of data input/output pins and transfer data received at the data input/output pins to the internal core.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the trace module activates a trace output enable signal when the mode select signal indicates that the current operating mode is the trace mode.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein each of the plurality of logic circuits selects one of the trace data signals from the trace module and transfers the selected one of the trace data signals to a corresponding data input/output pin when the corresponding trace output pin select signal and the corresponding trace output enable signal are activated.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the serial port is essentially compliant with the IEEE-1149.1-1990 JTAG interface standard or other similar standard.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the internal core generates an output enable signal, and wherein the plurality of logic circuits each transfer data from the internal core to the corresponding data input/output pin when the mode select signal indicates that the current operating mode is the normal mode and when the output enable signal is activated.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the plurality of logic circuits each transfer data received from the data input/output pins to the internal core when the mode select signal indicates that the current operating mode is the normal mode and when the output enable signal is inactivated.</claim-text>
</claim>
</claims>
</us-patent-grant>
