<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298402-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298402</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10045530</doc-number>
<date>20011023</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2000-326522</doc-number>
<date>20001026</date>
</priority-claim>
<priority-claim sequence="02" kind="national">
<country>JP</country>
<doc-number>2001-019044</doc-number>
<date>20010126</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>908</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>235</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>3</main-group>
<subgroup>14</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>335</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>N</subclass>
<main-group>5</main-group>
<subgroup>238</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>3482291</main-classification>
<further-classification>348296</further-classification>
<further-classification>348364</further-classification>
</classification-national>
<invention-title id="d0e89">Image-pickup apparatus with expanded dynamic range capabilities</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4647975</doc-number>
<kind>A</kind>
<name>Alston et al.</name>
<date>19870300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482221</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5194960</doc-number>
<kind>A</kind>
<name>Ota</name>
<date>19930300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348362</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5745175</doc-number>
<kind>A</kind>
<name>Anderson</name>
<date>19980400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348345</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5801773</doc-number>
<kind>A</kind>
<name>Ikeda</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482291</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5828793</doc-number>
<kind>A</kind>
<name>Mann</name>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382284</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5917546</doc-number>
<kind>A</kind>
<name>Fukui</name>
<date>19990600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348296</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5929908</doc-number>
<kind>A</kind>
<name>Takahashi et al.</name>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348364</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6765619</doc-number>
<kind>B1</kind>
<name>Deng et al.</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348362</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6833864</doc-number>
<kind>B1</kind>
<name>Ashida</name>
<date>20041200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482291</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6839087</doc-number>
<kind>B1</kind>
<name>Sato</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348362</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6850642</doc-number>
<kind>B1</kind>
<name>Wang</name>
<date>20050200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382169</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6903770</doc-number>
<kind>B1</kind>
<name>Kobayashi et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348296</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>2002/0012064</doc-number>
<kind>A1</kind>
<name>Yamaguchi</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348362</main-classification></classification-national>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>EP</country>
<doc-number>0387817</doc-number>
<date>19900900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>EP</country>
<doc-number>0930780</doc-number>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>EP</country>
<doc-number>0982938</doc-number>
<date>20000300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>6-38092</doc-number>
<date>19940200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>7-298142</doc-number>
<date>19951100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>JP</country>
<doc-number>11-205661</doc-number>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>19</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>348296</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348362</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482291</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482181</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482171</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482161</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348297</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3482211</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>348364</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382270</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382168</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>19</number-of-drawing-sheets>
<number-of-figures>32</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20030095192</doc-number>
<kind>A1</kind>
<date>20030522</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Horiuchi</last-name>
<first-name>Kazuhito</first-name>
<address>
<city>Nagano</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Ostrolenk, Faber, Gerb &amp; Soffen, LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Olympus Corporation</orgname>
<role>03</role>
<address>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Vu</last-name>
<first-name>Ngoc-Yen</first-name>
<department>2622</department>
</primary-examiner>
<assistant-examiner>
<last-name>Madden</last-name>
<first-name>Gregory V</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The present invention provides an image-pickup apparatus such as a digital still camera. Herein, prior to actual photographing, pre-photographing is performed with a shutter speed set to a plurality of different values. A signal synthesizing circuit synthesizes the resultant image values to acquire information concerning a dynamic range required to photograph a photographic scene. A signal distribution arithmetic circuit produces a histogram using the acquired information. A signal distribution analyzing circuit analyzes the peak frequencies of the histogram. A shutter timing calculating circuit produces shutter timing signals optimal for actual photographing according to the result of the analysis. An image-pickup device or the like is driven in response to each of the produced shutter timing signals, whereby actual photographing is achieved.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="132.67mm" wi="204.89mm" file="US07298402-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="232.58mm" wi="159.26mm" orientation="landscape" file="US07298402-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="242.74mm" wi="115.40mm" orientation="landscape" file="US07298402-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="222.25mm" wi="130.64mm" file="US07298402-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="157.73mm" wi="131.40mm" file="US07298402-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="218.86mm" wi="132.00mm" orientation="landscape" file="US07298402-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="219.03mm" wi="119.21mm" orientation="landscape" file="US07298402-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="208.87mm" wi="146.30mm" orientation="landscape" file="US07298402-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="237.07mm" wi="161.63mm" orientation="landscape" file="US07298402-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="235.46mm" wi="112.52mm" orientation="landscape" file="US07298402-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="223.52mm" wi="137.24mm" orientation="landscape" file="US07298402-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="221.49mm" wi="150.28mm" orientation="landscape" file="US07298402-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="227.92mm" wi="154.09mm" orientation="landscape" file="US07298402-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="249.43mm" wi="168.32mm" orientation="landscape" file="US07298402-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="214.88mm" wi="167.89mm" file="US07298402-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="224.96mm" wi="163.58mm" file="US07298402-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="245.70mm" wi="151.38mm" orientation="landscape" file="US07298402-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="223.94mm" wi="168.40mm" file="US07298402-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="249.51mm" wi="164.42mm" orientation="landscape" file="US07298402-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00019" num="00019">
<img id="EMI-D00019" he="132.93mm" wi="142.16mm" file="US07298402-20071120-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">This application claims benefit of Japanese Application No. 2000-326522 filed in Japan on Oct. 26, 2000, Japanese Application No. 2001-019044 filed in Japan on Jan. 26, 2001, the contents of which are incorporated by this reference.</p>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates to an image-pickup apparatus, or more particularly, an image-pickup apparatus capable of substantially reproducing an image obtainable with a wide dynamic range.</p>
<p id="p-0005" num="0004">2. Description of the Related Art</p>
<p id="p-0006" num="0005">Various types of image-pickup apparatus for electrically producing an object image have been proposed in the past. In a digital still camera that is one type of image-pickup apparatus, a solid-state image-pickup device converts a light image, which is converged on a surface of the solid-state image-pickup device through a lens, into electric information and thus produces an image.</p>
<p id="p-0007" num="0006">The solid-state image-pickup device incorporated in the digital still camera can produce many pixels at present and can therefore produce an image of a higher resolution. However, since the image-pickup device can offer only a very narrow dynamic range, a resultant image suffers from a narrow latitude (a range of reproduced brightness levels from a highlight to a shadow).</p>
<p id="p-0008" num="0007">What is essential to reproduce an image despite the narrow dynamic range is an automatic exposure setting (AE) facility that properly determines a condition for exposure optimal to a photographic scene (exposure time (shutter speed) or an f-number). Some proposals have been made for a technology of reproducing an image using the AE facility in the past.</p>
<p id="p-0009" num="0008">As an example of such a technology, Japanese Patent Unexamined Publication No. 6-38092 describes a technology concerning a video camera that can properly determine a condition for exposure and a photometry method employed in the camera. More particularly, according to the technology, when a value calculated by integrating luminance values that are specified in image information acquired for a photometric period within a horizontal scanning period is judged to fall within a predetermined range, photometry is performed based on the value. Furthermore, the patent unexamined publication describes that if the number of times by which the value calculated by integrating the luminance values is judged to fall outside the predetermined range exceeds a predetermined value, the condition for exposure is changed.</p>
<p id="p-0010" num="0009">In order to acquire image information, which is obtainable with a wide dynamic range, from a solid-state image-pickup device suffering a narrow dynamic range, exposure is performed a plurality of times with an exposure level varied. This technology is well known.</p>
<p id="p-0011" num="0010">The foregoing technologies will be described with reference to <figref idref="DRAWINGS">FIG. 19A</figref>, <figref idref="DRAWINGS">FIG. 19B</figref>, and <figref idref="DRAWINGS">FIG. 19C</figref> that show a photographic scene whose objects having a difference in luminance are exposed with an exposure level varied and which is thus exposed a plurality of times.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 19A</figref> shows a photographic scene having a figure, which is a dark major object, located nearly in the center of a background that is bright scenery. In order to pick up an image of the scenery using a solid-state image-pickup device that suffers a narrow dynamic range, exposure is performed with an exposure level lowered so that the background will appear more distinctly as shown in <figref idref="DRAWINGS">FIG. 19B</figref>. Moreover, exposure is performed with the exposure level raised so that the figure will appear more distinctly as shown in <figref idref="DRAWINGS">FIG. 19C</figref>. The background portion of the image shown in <figref idref="DRAWINGS">FIG. 19B</figref> and the figure portion of the image shown in <figref idref="DRAWINGS">FIG. 19C</figref> are combined in order to produce an image obtainable with a wide dynamic range. The image obtainable with a wide dynamic range shows both the background and figure distinctly.</p>
<p id="p-0013" num="0012">Even when the foregoing technology of performing exposure a plurality of times is used to produce an image obtainable with a wide dynamic range, the AE facility plays a significant role in reproducing an optimal image. Specifically, when a scene which requires a wide dynamic range and in which a dark major object (figure) and a bright background coexist as shown in <figref idref="DRAWINGS">FIG. 19A</figref>, <figref idref="DRAWINGS">FIG. 19B</figref>, and <figref idref="DRAWINGS">FIG. 19C</figref> is imaged, the major object and background alike must be imaged while being exposed optimally.</p>
<p id="p-0014" num="0013">Some technologies have been proposed for controlling photographing according to a photographic scene, which requires a wide dynamic range, so that both a major object and a background can be exposed optimally. For example, Japanese Patent Unexamined Publication No. 7-298142 describes an image-pickup apparatus that has a gray scale control facility. The gray scale control facility properly exposes both a major object and a background contained in a backlit photographic scene. To be more specific, the technology described in the patent unexamined publication requires a gray scale control means that switches timings, which set storing time of light information, according to whether a luminance value specified in image information indicates a high-luminance point or a low-luminance point.</p>
<p id="p-0015" num="0014">Moreover, Japanese Patent Unexamined Publication No. 11-205661 describes a means that synthesizes a long-time exposure image produced under the predetermined condition for exposure, and a short-time exposure image produced while being exposed for a shorter exposure time. The means adjusts a ratio of exposure levels according to the position of a peak level point in a synthetic image.</p>
<p id="p-0016" num="0015">However, according to the Japanese Patent Unexamined Publication No. 6-38092, if the number of times by which a value calculated by integrating luminance information falls outside a predetermined range exceeds a predetermined value, a condition for exposure is changed. Thereafter, photometry is performed in the same manner. As long as the scene shown in <figref idref="DRAWINGS">FIG. 19A</figref>, <figref idref="DRAWINGS">FIG. 19B</figref>, and <figref idref="DRAWINGS">FIG. 19C</figref> is concerned, after an initial condition for exposure is changed, it must be judged whichever of a bright point and a dark point should be subjected to photometry. Furthermore, according to the means, the condition for exposure under which either the bright point or dark point is imaged is optimized, and the condition for exposure under which the other point is imaged remains improper.</p>
<p id="p-0017" num="0016">Moreover, according to the Japanese Patent Unexamined Publication No. 7-298142, in order to produce an image that enjoys excellent reproducibility, information concerning a photographic scene must be read from a solid-state image-pickup device or the like all the time. This results in an increase of power consumption. Furthermore, when photographing is performed a plurality of times with an exposure level varied, information of a bright point and information of a dark point must be read independently of each other. Based on the read information, control must be extended so that both the bright and dark points will be imaged properly all the time. This may lead to a larger amount of consumed power compared with an amount normally consumed power.</p>
<p id="p-0018" num="0017">As a measure to be taken for lightening a load imposed on the AE facility, a means is conceivable. Namely, the AE facility is used to control exposure of either a major object or a background. The other of the controlled major object or background is exposed at a fixed exposure ratio. If an exposure ratio is thus fixed, the AE facility can be designed similarly to that adopted for a typical digital still camera.</p>
<p id="p-0019" num="0018">However, a backlit state in which a major object and a background are distinguished from each other includes various cases. If brightness changes moderately between the major object and background, photographing may fail. Moreover, if a difference in brightness is as large as a difference in brightness between a dark indoor and a bright outdoor is, a scene may not be reproduced with an exposure ratio set to a value permissible for imaging of a normally backlit scene.</p>
<p id="p-0020" num="0019">Furthermore, the condition for exposure under which one of bright and dark points is photographed may not be determined using the AE facility, and the condition for exposure under which the other point is photographed may not be determined using a fixed ratio. Instead, a means enabling a user to designate an exposure time and an exposure ratio is conceivable. However, a user may have difficulty in judging a proper exposure time or exposure ratio according to a difference in brightness. But for a certain experience or knowledge, it may be hard to judge what exposure time or exposure ratio is optimal. The means is therefore unpractical.</p>
<p id="p-0021" num="0020">In addition, a means is conceivable for preparing a plurality of exposure settings in association with photographic scenes, and allowing a user to select any of the exposure settings. However, a user who does not have for a certain experience or knowledge may have difficulty in subjectively judging from a difference in brightness or the like what exposure setting is optimal for an actual photographic scene. The means cannot therefore be said to be practical.</p>
<p id="p-0022" num="0021">According to the Japanese Patent Unexamined Publication No. 7-298142, when exposure is performed a plurality of times with an exposure level varied, a high-luminance point and a low-luminance point are specified manually in units of each of blocks into which an image field is divided. It is not clearly described how to automatically identify the high-luminance point and low-luminance point. Besides, how to identify the high-luminance point and low-luminance point after photographic scenes are changed is not clarified.</p>
<p id="p-0023" num="0022">Moreover, according to the Japanese Patent Unexamined Publication No. 11-205661, the long exposure-time image and short exposure-time image are produced under the predetermined condition for exposure. If the levels of a signal representing an object do not fall within the range from the level of the signal representing the long exposure-time image to the level of the signal representing the short exposure-time image, an incorrect peak level may be detected. This poses a problem in that the ratio of exposure levels is not calculated properly.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0024" num="0023">Accordingly, an object of the present invention is to provide an image-pickup apparatus capable of properly photographing even a photographic scene, which exhibits a large difference in brightness and contains an object that exhibits a brightness range comparable to an arbitrary dynamic range, without the necessity of driving an AE facility all the time. The image-pickup apparatus can thus reproduce an image that requires a wide dynamic range.</p>
<p id="p-0025" num="0024">Another object of the present invention is to provide an image-pickup apparatus capable of automatically determining a condition for exposure optimal to a dynamic range comparable to a brightness range exhibited by a photographic scene. Consequently, the image-pickup apparatus can reproduce an image that exhibits a brightness range comparable to the dynamic range required by the photographic scene.</p>
<p id="p-0026" num="0025">Briefly, according to the present invention, there is provided an image-pickup apparatus consisting mainly of an information acquiring means, an analyzing means, a conditions-for-photographing setting means, and a photographing means. The information acquiring means acquires information concerning a dynamic range, which is required to photograph a photographic scene, with a condition for exposure varied before performing actual photographing. The analyzing means analyzes the information acquired by the information acquiring means. The conditions-for-photographing setting means sets the conditions for actual photographing according to the result of the analysis performed by the analyzing means. The photographing means performs actual photographing under the actual photographing conditions set by the conditions-for-photographing setting means.</p>
<p id="p-0027" num="0026">The above and other objects, features and advantages of the invention will become more clearly understood from the following description referring to the accompanying drawings.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing the basic configuration of a digital still camera in accordance with a first embodiment of the present invention;</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram showing an example of the configuration of a shutter timing control circuit shown in <figref idref="DRAWINGS">FIG. 1</figref>;</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart describing operation to be performed in the digital still camera in accordance with the first embodiment in a photographic scene dependent photographing mode;</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 4A</figref> shows an example of a photographic scene treated in the first embodiment;</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 4B</figref> shows the distribution of brightness levels in the photographic scene shown in <figref idref="DRAWINGS">FIG. 4A</figref>;</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 5</figref> is an explanatory diagram concerning operation to be performed for pre-photographing in the digital still camera of the first embodiment;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 6</figref> is an explanatory diagram concerning operation to be performed for detecting peak frequencies of a histogram that are used to produce shutter timing signals, which are used for actual photographing, according to the first embodiment;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 7</figref> is an explanatory diagram concerning operation to be performed for producing shutter timing signals using the peak frequencies of the histogram according to the first embodiment;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 8</figref> is a block diagram showing the basic configuration of a digital still camera in accordance with a second embodiment of the present invention;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram showing an example of the configuration of a shutter timing control/gray scale calculating circuit shown in <figref idref="DRAWINGS">FIG. 8</figref>;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 10A</figref> is a diagram showing an example of the frequencies of brightness levels observed in the second embodiment;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 10B</figref> is a diagram showing a cumulative histogram of cumulative frequencies produced using frequencies that are expressed in the input histogram shown in <figref idref="DRAWINGS">FIG. 1A</figref> and are equal to or larger than a predetermined threshold;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 11</figref> is an explanatory diagram concerning operation to be performed for producing shutter timing signals using a gray scale conversion characteristic curve;</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 12</figref> is a block diagram showing the basic configuration of a digital still camera in accordance with a third embodiment of the present invention;</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram showing the detailed configuration of a shutter control information circuit employed in the third embodiment;</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart describing processing to be performed by the shutter control information circuit employed in the third embodiment;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 15A</figref>, <figref idref="DRAWINGS">FIG. 15B</figref>, <figref idref="DRAWINGS">FIG. 15C</figref>, <figref idref="DRAWINGS">FIG. 15D</figref>, <figref idref="DRAWINGS">FIG. 15E</figref>, <figref idref="DRAWINGS">FIG. 15F</figref>, <figref idref="DRAWINGS">FIG. 15G</figref>, <figref idref="DRAWINGS">FIG. 15H</figref>, <figref idref="DRAWINGS">FIG. 15I</figref>, and <figref idref="DRAWINGS">FIG. 15J</figref> show images concerning processing to be performed by the shutter control information circuit employed in the third embodiment;</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 16</figref> is a block diagram showing the detailed configuration of a shutter control information circuit employed in a fourth embodiment of the present invention;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 17</figref> is a flowchart describing processing to be performed by the shutter control information circuit employed in the fourth embodiment;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 18</figref> shows an example of a lookup table which an exposure ratio adjusting circuit employed in the fourth embodiment references to obtain an exposure ratio ss; and</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 19A</figref>, <figref idref="DRAWINGS">FIG. 19B</figref>, and <figref idref="DRAWINGS">FIG. 19C</figref> show a scene that consists of objects which have a difference in luminance and that is exposed a plurality of times with an exposure level varied.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0049" num="0048">Embodiments of the present invention will be described with reference to the drawings below.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 1</figref> to <figref idref="DRAWINGS">FIG. 7</figref> show a first embodiment of the present invention. <figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing the basic configuration of a digital still camera that is an image-pickup apparatus. <figref idref="DRAWINGS">FIG. 2</figref> is a block diagram showing an example of the configuration of a shutter timing control circuit shown in <figref idref="DRAWINGS">FIG. 1</figref>. <figref idref="DRAWINGS">FIG. 3</figref> is a flowchart describing operation to be performed by the digital still camera in a photographic scene dependent photographing mode. <figref idref="DRAWINGS">FIG. 4A</figref> shows an example of a photographic scene. <figref idref="DRAWINGS">FIG. 4B</figref> shows the distribution of brightness levels in the photographic scene shown in <figref idref="DRAWINGS">FIG. 4A</figref>. <figref idref="DRAWINGS">FIG. 5</figref> is an explanatory diagram concerning operation to be performed for pre-photographing. <figref idref="DRAWINGS">FIG. 6</figref> is an explanatory diagram showing operation to be performed for detecting peak frequencies of a histogram. <figref idref="DRAWINGS">FIG. 7</figref> is an explanatory diagram concerning operation to be performed for producing shutter timing signals using the peak frequencies of the histogram.</p>
<p id="p-0051" num="0050">A digital still camera shown in <figref idref="DRAWINGS">FIG. 1</figref> employs an image-pickup device <b>1</b> that is a single-plate color CCD or the like having an electronic shutter facility. An object image is converged on the image-pickup device <b>1</b> via a lens <b>2</b> and a diaphragm/shutter mechanism <b>3</b>. The object image is photoelectrically converted and transmitted as an image signal. The image signal representing the object image and being transmitted from the image-pickup device <b>1</b> has a noise component thereof removed by a correlative double sampling circuit or the like that is not shown. The resultant signal is amplified by an amplifier <b>4</b>, digitized by an A/D converter <b>5</b>, and transferred to a camera signal processing circuit <b>6</b>. The camera signal processing circuit <b>6</b> processes the signal as image data.</p>
<p id="p-0052" num="0051">An output of the A/D converter <b>5</b> is transferred to an AF/AE/AWB wave detecting circuit <b>7</b> and a shutter timing control circuit <b>21</b>. The AF/AE/AWB wave detecting circuit <b>7</b> performs AF wave detection to acquire AF-related information that is needed to automatically control the focus of the camera prior to actual photographing. The AF/AE/AWB wave detecting circuit <b>7</b> also performs AE wave detection to acquire AE-related information that is needed to automatically control exposure. Moreover, the AF/AE/AWB wave detecting circuit <b>7</b> performs AWB wave detection to acquire AWB-related information that is needed to automatically set a white balance. The AF-related information, AE-related information, and AWB-related information are transferred to a CPU <b>8</b> that is a control means. The CPU <b>8</b> transfers the received information to the lens <b>2</b>, diaphragm/shutter mechanism <b>3</b>, and camera signal processing circuit <b>6</b>. In a normal photographing mode, the CPU <b>8</b> produces a shutter timing signal using the AE-related information, and transmits the signals to a selection switch <b>22</b>.</p>
<p id="p-0053" num="0052">A shutter timing control circuit <b>21</b> that is an analyzing means produces photographing control information, which is needed to perform actual photographing, in a photographic scene dependent photographing mode (wide dynamic range photographing mode) under the control of the CPU <b>8</b> that is a conditions-for-photographing setting means. The photographing control information is provided as a shutter timing signal in the present embodiment. The shutter timing signal is transferred to the selection switch <b>22</b> and CPU <b>8</b>.</p>
<p id="p-0054" num="0053">The camera signal processing circuit <b>6</b> and CPU <b>8</b> are interconnected via a bus <b>23</b>. A DRAM <b>11</b> used as a work memory to process color data contained in image data is connected on the bus <b>23</b> with a memory controller <b>10</b> between them. A compression circuit <b>9</b> for compressing image data sent from the camera signal processing circuit <b>6</b> in compliance with the JPEG or the like is connected to the bus <b>23</b>. Moreover, a memory card interface <b>14</b> is connected to the bus <b>23</b> so that the image data compressed by the compression circuit <b>9</b> can be recorded on a memory card <b>15</b>. A liquid crystal display (LCD) <b>13</b> is connected on the bus <b>23</b> with a display circuit <b>12</b> between them, whereby image data may be read from the memory card <b>15</b> and displayed on the LCD or a photographic state is presented on the LCD. A personal computer (PC) interface <b>16</b> is connected on the bus <b>23</b> so that image data recorded on the memory card <b>15</b> can be transferred to a personal computer <b>17</b>.</p>
<p id="p-0055" num="0054">A strobe <b>19</b>, an input key <b>20</b>, and a shutter timing ROM <b>24</b> are connected to the CPU <b>8</b>. The strobe <b>19</b> is a flashlight emitting means that is controlled based on AE-related information produced by the AF/AE/AWB wave detecting circuit <b>7</b> or a shutter timing signal produced by the shutter timing control circuit <b>21</b>. The input key <b>20</b> is used to designate any of various imaging modes or drive a trigger switch. A plurality of different shutter timing signals, that is, three shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> employed in the present embodiment are stored in the shutter timing ROM <b>24</b>. In a photographic scene dependent photographing mode, during pre-photographing succeeding actual photographing, information concerning a dynamic range, which is required to photograph a photographic scene, is acquired with a condition for exposure varied sequentially in response to the shutter timing signals. For example, the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> indicate shutter speed values of 1/30 sec. 1/500 sec, and 1/8000 sec respectively.</p>
<p id="p-0056" num="0055">In a normal photographing mode, the selection switch <b>22</b> selects a shutter timing signal produced by the CPU <b>8</b> according to AE-related information under the control of the CPU <b>8</b>, and transfers the shutter timing signal to a timing generator (TG) <b>18</b>. In a photographic scene dependent photographing mode, the selection switch <b>22</b> selects a shutter timing signal produced by the shutter timing control circuit <b>21</b> and transfers the shutter timing signal to the timing generator <b>18</b>. For actual photographing, the selection switch <b>22</b> selects a shutter timing signal produced by the shutter timing control circuit <b>21</b> and transfers the shutter timing signal to the timing generator <b>18</b>. Based on the shutter timing signal selected by the selection switch <b>22</b>, the timing generator <b>18</b> controls the electronic shutter facility included in the image-pickup device <b>1</b>.</p>
<p id="p-0057" num="0056">In the image-pickup apparatus shown in <figref idref="DRAWINGS">FIG. 1</figref>, the input key <b>20</b> is manipulated in order to manually select either the normal photographing mode in which images are not synthesized or the photographic scene dependent photographing mode in which images are synthesized if necessary. Otherwise, the CPU <b>8</b> detects a highlight represented by image information produced by the image-pickup device <b>1</b> by analyzing an output of the AF/AE/AWB wave detecting circuit <b>7</b>. Thus, either the normal photographing mode or photographic scene dependent photographing mode is selected automatically. Based on the selected imaging mode, the CPU <b>8</b> controls imaging.</p>
<p id="p-0058" num="0057">Specifically, when the normal photographing mode is selected, a photographic scene is photographed once with normal operation. Photographing information for one image field is acquired from the image-pickup device <b>1</b>, and processed by the camera signal processing circuit <b>6</b>. When the photographic scene dependent photographing mode is selected, a photographic scene is pre-photographed three times according to three shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> stored in the shutter timing ROM <b>24</b>. Information concerning a dynamic range required to construct three image fields is acquired from the image-pickup device <b>1</b> with an exposure level varied. A shutter timing signal is produced for actual photographing using the information concerning a dynamic range, and actual photographing is performed. The camera signal processing circuit <b>6</b> processes the image information resulting from the actual photographing.</p>
<p id="p-0059" num="0058">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, an example of the configuration of the shutter timing control circuit <b>21</b> shown in <figref idref="DRAWINGS">FIG. 1</figref> will be described below.</p>
<p id="p-0060" num="0059">The shutter timing control circuit <b>21</b> includes a switch <b>31</b>, a signal synthesizing circuit <b>32</b>, a signal distribution arithmetic circuit <b>33</b>, a signal distribution analyzing circuit <b>34</b>, a shutter timing calculating circuit <b>35</b>, and a shutter timing calculation lookup table (LUT) <b>36</b>.</p>
<p id="p-0061" num="0060">The CPU <b>8</b> controls the switch <b>31</b> in the photographic scene dependent photographing mode so that the switch <b>31</b> will be on only during pre-photographing. During the pre-photographing, a photographic scene is sequentially photographed according to the shutter timings ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> respectively. Image values (luminance values) acquired are transferred to the signal synthesizing circuit <b>32</b> via the A/D converter <b>5</b>.</p>
<p id="p-0062" num="0061">The signal synthesizing circuit <b>32</b> that is an information synthesizing means synthesizes the received image values for three image fields in accordance with the exposure levels attained for photographing, and produces luminance information obtainable with a wide dynamic range. The luminance information is then transferred to the signal distribution arithmetic circuit <b>33</b>.</p>
<p id="p-0063" num="0062">The signal distribution arithmetic circuit <b>33</b> that is a histogram arithmetic means arithmetically produces a histogram, which represents the distribution of luminance levels in a photographic scene, using the received luminance information obtainable with a wide dynamic range, and transfers the result of arithmetic operation to the signal distribution analyzing circuit <b>34</b>.</p>
<p id="p-0064" num="0063">The signal distribution analyzing circuit <b>34</b> detects a luminance level relevant to a peak frequency of the received histogram, and transfers the luminance value of a peak frequency to the shutter timing calculating circuit <b>35</b>. If the histogram contains a plurality of peak frequencies, the luminance levels relevant to each peak frequencies are detected.</p>
<p id="p-0065" num="0064">The shutter timing calculating circuit <b>35</b> reads a shutter speed, which is indicated by a shutter timing signal, from the shutter timing calculation LUT <b>36</b> according to the received luminance value. The shutter timing signal indicating the read shutter speed is then transferred to the timing generator <b>18</b>. The shutter timing signal is also transferred to the CPU <b>8</b> as data for use in controlling the strobe, whereby an amount of flashlight to be emitted from the strobe <b>19</b> is controlled in proportion to the shutter speed indicated by the shutter timing signal. Actual photographing is then performed.</p>
<p id="p-0066" num="0065">In the shutter timing calculation LUT <b>36</b>, the shutter timing signals that permit proper exposure are stored in association with luminance levels.</p>
<p id="p-0067" num="0066">Operation to be performed in the photographic scene dependent photographing mode will be described with reference to <figref idref="DRAWINGS">FIG. 3</figref> to <figref idref="DRAWINGS">FIG. 7</figref>.</p>
<p id="p-0068" num="0067"><figref idref="DRAWINGS">FIG. 3</figref> is a flowchart describing the operation to be performed in the photographic scene dependent photographing mode. In the photographic scene dependent photographing mode, first, the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> are read from the shutter timing ROM <b>24</b> (step S<b>1</b>). Based on the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b>, the timing generator <b>18</b> is driven in order to perform pre-photographing (step S<b>2</b>). Image values (luminance values) for three image fields are acquired with an exposure level varied (step S<b>3</b>). Incidentally, pre-photographing is started at step S<b>2</b> by, for example, pressing a release switch halfway.</p>
<p id="p-0069" num="0068">When pre-photographing is completed, the signal synthesizing circuit <b>32</b> synthesizes the luminance information of the images based on the exposure levels attained for pre-photographing, and produces luminance information obtainable with a wide dynamic range (step S<b>4</b>).</p>
<p id="p-0070" num="0069">Assume that a photographic scene contains, as shown in <figref idref="DRAWINGS">FIG. 4A</figref>, a backlit scene containing a figure that is a dark major object and a bright background, and exhibits a brightness distribution shown in <figref idref="DRAWINGS">FIG. 4B</figref>. In this case, the photographic scene is pre-photographed with the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b>. The luminance information acquired in response to the shutter timing signals are matched to the exposure levels attained during pre-photographing. This results in photographic scene information shown in <figref idref="DRAWINGS">FIG. 5</figref>. Luminance values relevant to the same exposure level or brightness level are weighted with a coefficient proportional to the brightness level, and then added up. All the luminance values are then synthesized at step S<b>4</b>, whereby luminance information acquirable with a wide dynamic range is produced.</p>
<p id="p-0071" num="0070">For example, assume that a luminance information acquired by performing pre-photographing with each shutter timing signal is expressed with 8 bits. In this case, the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> are determined so that luminance information acquired in response to two adjoining shutter timing signals and related to the same exposure level will be 2 bits long. Information of 20 bits long (approximately 120 dB) can be acquired as a result.</p>
<p id="p-0072" num="0071">In reality, a photographic scene exhibiting such a large difference in brightness as to be expressed with luminance information of 20 bits long is exceptional. For example, assuming that luminance values related to the same exposure level are 4 bits long, luminance information of 16 bits long (approximately 96 dB) is acquired. In this case, since luminance values related to the same exposure level are 4 bits long out of 8 bits long, the ratio of the shutter speed values indicated by the adjoining shutter timing signals is 1:16. For example, as mentioned above, the shutter speed (exposure time) value indicated by the shutter timing signal ST<b>1</b> is set to 1/30 sec. The shutter speed value indicated by the shutter timing signal ST<b>2</b> is set to 1/500 sec. The shutter speed value indicated by the shutter timing signal ST<b>3</b> is set to 1/8000 sec. Thus, assuming that luminance values acquired with the shutter speed set sequentially to the values indicated by the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> are Y<b>1</b>, Y<b>2</b>, and Y<b>3</b>, synthetic luminance information Y is calculated as Y=Y<b>1</b>+16×Y<b>2</b>+16××16×Y<b>3</b>.</p>
<p id="p-0073" num="0072">Referring to <figref idref="DRAWINGS">FIG. 3</figref>, luminance information acquirable with a wide dynamic range is produced at step S<b>4</b> as mentioned above. Thereafter, the signal distribution arithmetic circuit <b>33</b> produces a histogram, which represents the distribution of frequencies of brightness levels, using the luminance information (step S<b>5</b>). For example, when a photographic scene is the one shown in <figref idref="DRAWINGS">FIG. 4A</figref>, the produced histogram is outlined with a curve shown in <figref idref="DRAWINGS">FIG. 6</figref>.</p>
<p id="p-0074" num="0073">Thereafter, the signal distribution analyzing circuit <b>34</b> detects a peak frequency of the histogram produced at step S<b>5</b>, and retrieves a luminance level related to the peak frequency (step S<b>6</b>). At step S<b>6</b>, a peak detection interval between instants at which a peak frequency of a histogram is detected is pre-set. When a slope determined by frequency values detected at the start and end of each peak detection interval changes from a positive value to a negative value, the frequency detected at the end of an immediately preceding peak detection interval is regarded as a peak frequency. A luminance level related to the peak frequency is then retrieved. In the case of the histogram shown in <figref idref="DRAWINGS">FIG. 6</figref>, a frequency indicated with a hatched bar and concerned with a figure is detected as a peak frequency, and a luminance level related to the peak frequency is retrieved. Referring to <figref idref="DRAWINGS">FIG. 6</figref>, the slope hardly changes during adjoining peak detection intervals (including an interval during which the slope determined with frequency values hardly changes from a positive value and an interval during which the slope changes to a negative value). The frequencies detected during the intervals are judged to share the same peak frequency value and detected as a peak frequency. A luminance level related to the peak frequency is then retrieved. Consequently, in the case of the histogram shown in <figref idref="DRAWINGS">FIG. 6</figref>, the adjoining frequencies indicated with the hatched bars and concerned with a background are detected as one peak frequency, and the luminance level related to the peak frequency is then retrieved. Therefore, when the photographic scene is as shown in <figref idref="DRAWINGS">FIG. 4A</figref>, two peak frequencies are detected, and related luminance levels are then retrieved.</p>
<p id="p-0075" num="0074">A peak frequency of a histogram is used to obtain the imaging timing at which a related luminance level permits relatively appropriate exposure. As shown in <figref idref="DRAWINGS">FIG. 6</figref>, even when the frequencies indicated with the hatched bars and concerned with a background are detected as a peak frequency, luminance levels related to the frequencies do not vary very greatly but result from the same exposure. The peak frequency need therefore not be detected very strictly. Consequently, the signal distribution analyzing circuit <b>34</b> can be configured simply.</p>
<p id="p-0076" num="0075">The luminance levels related to the peak frequencies are retrieved from the histogram at step S<b>6</b>. Thereafter, the shutter timing calculating circuit <b>35</b> retrieves, as shown in <figref idref="DRAWINGS">FIG. 7</figref>, a shutter speed value, which is indicated by a shutter timing signal and associated with each luminance level, from the shutter timing calculation LUT <b>36</b> (step S<b>7</b>). The shutter timing signal indicating the retrieved shutter speed value is used as shutter timing signals for actual photographing (step S<b>8</b>). With the shutter timing signal, for example, the release switch is pressed fully in order to start actual photographing (step S<b>9</b>).</p>
<p id="p-0077" num="0076">Consequently, when a photographic scene is like the one shown in <figref idref="DRAWINGS">FIG. 4A</figref>, actual photographing makes it possible to acquire image information for two image fields at the exposure levels determined with the shutter speed values of 1/60 sec and 1/500 sec shown in <figref idref="DRAWINGS">FIG. 7</figref>. The camera signal processing circuit <b>6</b> that is an image information converting means synthesizes the image values for two image fields acquired during the actual photographing according to a known means. Eventually, an image obtainable with a wide dynamic range that is matched to a brightness range exhibited by the photographic scene can be produced.</p>
<p id="p-0078" num="0077">As mentioned above, according to the present embodiment, in the photographic scene dependent photographing mode, a photographic scene is pre-photographed with the shutter speed set to the pre-set values indicated by the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> in order to acquire information concerning a dynamic range. A histogram graphically expressing synthetic information is produced. A shutter speed value to be indicated with a shutter timing signal is determined so that a luminance level related to a peak frequency of the histogram will permit relatively appropriate exposure. Actual photographing is then performed with the shutter speed set to the determined value. Even when a photographic scene exhibits a large brightness difference, the AE facility need not be driven all the time but imaging can be achieved optimally for the photographic scene. Eventually, an image obtainable with a wide dynamic range can be reproduced.</p>
<p id="p-0079" num="0078">According to the present embodiment, all pixels are read during pre-photographing during which photographing is performed with the shutter speed set sequentially to the values indicated with the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> respectively. A histogram is then produced. The present invention is not limited to this mode. For example, the camera signal processing circuit <b>6</b> may thin out the pixels to read one pixel per two to eight pixels lined in a horizontal or vertical direction under the control of the CPU <b>8</b>. A histogram may then be produced using the read pixels. In this case, precision deteriorates a little but a processing time can be shortened.</p>
<p id="p-0080" num="0079"><figref idref="DRAWINGS">FIG. 8</figref> to <figref idref="DRAWINGS">FIG. 11</figref> show a second embodiment of the present invention. <figref idref="DRAWINGS">FIG. 8</figref> is a block diagram showing the basic configuration of a digital still camera that is an image-pickup apparatus. <figref idref="DRAWINGS">FIG. 9</figref> is a block diagram showing an example of the configuration of a shutter timing control/gray scale calculating circuit shown in <figref idref="DRAWINGS">FIG. 8</figref>. <figref idref="DRAWINGS">FIG. 10A</figref> shows an example of frequencies related to brightness levels. <figref idref="DRAWINGS">FIG. 10B</figref> is a diagram outlining a cumulative histogram that represents the distribution of cumulative frequencies and is produced using frequencies that are contained in the received histogram shown in <figref idref="DRAWINGS">FIG. 10A</figref> and that are equal to or larger than a predetermined threshold. <figref idref="DRAWINGS">FIG. 11</figref> is an explanatory diagram concerning operation to be performed for calculating a shutter speed value, which is indicated by a shutter timing signal, using a gray scale conversion characteristic curve.</p>
<p id="p-0081" num="0080">The digital still camera in accordance with the second embodiment includes a shutter timing control/gray scale calculating circuit <b>40</b> on behalf of the shutter timing control circuit <b>21</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>. The other components are identical to those shown in <figref idref="DRAWINGS">FIG. 1</figref>. The same reference numerals will be assigned to components having the same capabilities, and the description of the components will be omitted.</p>
<p id="p-0082" num="0081">The shutter timing control/gray scale calculating circuit <b>40</b> that is an analyzing means includes, as shown in <figref idref="DRAWINGS">FIG. 9</figref>, a switch <b>41</b>, a signal synthesizing circuit <b>42</b> that is an information synthesizing means, a signal distribution arithmetic circuit <b>43</b> that is a histogram arithmetic means, a gray scale conversion characteristic calculating circuit <b>44</b>, a shutter timing calculating circuit <b>45</b>, and a shutter timing calculation LUT <b>46</b>.</p>
<p id="p-0083" num="0082">According to the second embodiment, similarly to the aforesaid first embodiment, when the photographic scene dependent photographing mode is designated, the CPU <b>8</b> controls the switch <b>41</b> so that the switch <b>41</b> will be on only during pre-photographing. During pre-photographing, a photographic scene is imaged with the shutter speed set to the values indicated by the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b> respectively. The acquired image values (luminance values) are transferred to the signal synthesizing circuit <b>42</b> via the A/D converter <b>5</b>. The image values for three image fields are synthesized based on exposure levels attained during imaging, whereby luminance information acquirable with a wide dynamic range is produced. The luminance information is transferred to the signal distribution arithmetic circuit <b>43</b>. A histogram representing the distribution of luminance levels in the photographic scene is then produced arithmetically.</p>
<p id="p-0084" num="0083">The histogram arithmetically produced by the signal distribution arithmetic circuit <b>43</b> is transferred to the gray scale conversion characteristic calculating circuit <b>44</b> that is a gray scale arithmetic means. The gray scale conversion characteristic calculating circuit <b>44</b> produces a gray scale conversion characteristic curve using the received histogram. According to the present embodiment, frequencies equal to or larger than a predetermined threshold are retrieved from the receive histogram shown in <figref idref="DRAWINGS">FIG. 10A</figref>, and a histogram of cumulative frequencies is then arithmetically produced. This results in the cumulative histogram that is, as shown in <figref idref="DRAWINGS">FIG. 10B</figref>, devoid of frequencies of luminance levels affected by noise. The cumulative histogram is transferred as a gray scale conversion characteristic curve to the camera signal processing circuit <b>6</b>. The cumulative histogram is used to convert image information acquired during actual photographing, and then transferred to the shutter timing calculating circuit <b>45</b>.</p>
<p id="p-0085" num="0084">The shutter timing calculating circuit <b>45</b> reads a shutter speed value, which is represented by a shutter timing signal, from the shutter timing calculation LUT <b>46</b> using the received gray scale conversion characteristic curve. The shutter timing signal indicating the read shutter speed value is transferred to the timing generator <b>18</b>, and also transferred to the CPU <b>8</b> as a strobe control signal in the same manner as it is in the first embodiment. Actual photographing is then performed. Similarly to the first embodiment, in the second embodiment, shutter speed values that are indicated by shutter timing signals and permit appropriate exposure are stored in association with luminance levels in the shutter timing calculation LUT <b>46</b>.</p>
<p id="p-0086" num="0085">In order to determine a shutter speed value, which is indicated by a shutter timing signal and used for actual photographing, using the gray scale conversion characteristic curve, a domain having a slope, that is, a domain interposed between those whose slopes are equal to or smaller than a predetermined value is detected. In other words, a domain indicating an area in an image field in which image data is present at a high density is detected in the characteristic curve. Frequencies contained in the domain detected in the characteristic curve that outlines a cumulative histogram are weighted, and luminance levels related to the weighted frequencies are averaged or a mean of the luminance levels is obtained. A shutter speed value associated with the obtained luminance level is retrieved from the shutter timing calculation LUT <b>46</b> and indicated by a shutter timing signal.</p>
<p id="p-0087" num="0086">Assume that a luminance histogram concerning a photographic scene is like the one shown in <figref idref="DRAWINGS">FIG. 10A</figref>. In this case, similarly to the first embodiment, actual photographing makes it possible to acquire image values for two image fields at different exposure levels determined with shutter speed values of 1/60 sec and 1/500 sec shown in <figref idref="DRAWINGS">FIG. 11</figref>. The camera signal processing circuit <b>6</b> synthesizes the image values for two image fields acquired during the actual photographing according to a known means. Eventually, an image obtainable with a wide dynamic range that is matched to a brightness range exhibited by the photographic scene is produced.</p>
<p id="p-0088" num="0087">As mentioned above, according to the present embodiment, in the photographic scene dependent photographing mode, a photographic scene is pre-photographed with the shutter speed set to the pre-set values indicated by the shutter timing signals ST<b>1</b>, ST<b>2</b>, and ST<b>3</b>. Information concerning a dynamic range is then acquired. A gray scale conversion characteristic curve is produced by removing frequencies of luminance levels affected by noise from a histogram produced using the synthetic information. A shutter speed value to be indicated by a shutter timing signal and adopted for actual photographing is determined using the gray scale conversion characteristic curve. Actual photographing is then performed with the shutter speed set to the determined value. Eventually, even if a photographic scene exhibits a large brightness difference, a good-quality image obtainable with a wide dynamic range that is matched to a brightness range exhibited by the photographic scene can be produced. Moreover, the gray scale conversion characteristic curve produced by the gray scale conversion characteristic calculating circuit <b>44</b> is transferred to the camera signal processing circuit <b>6</b> so that it will be used to convert image information acquired during actual photographing. It is therefore unnecessary to produce a gray scale conversion characteristic curve in the course of processing image information values acquired during actual photographing. Consequently, image values acquired during actual photographing can be processed readily and quickly.</p>
<p id="p-0089" num="0088">The present invention is not limited to the aforesaid embodiments. Various variants or modifications can be made. For example, according to the aforesaid embodiments, in the photographic scene dependent photographing mode, a photographic scene is pre-photographed in response to three shutter timing signals in order to acquire information concerning a dynamic range that is required to photograph the photographic scene. The number of shutter timing signals is not limited to three but may be any value equal to or larger than 2. Moreover, the aforesaid embodiments have been described by taking for instance a photographic scene that is actually photographed in response to two shutter timing signals to be produced. Depending on a photographic scene, one or more than three shutter timing signals may be produced for actual photographing. Therefore, when only one shutter timing signal is produced, the camera signal processing circuit <b>6</b> need not perform image synthesis. When two or more shutter timing signals are produced, image synthesis is performed in order to produce an image optimal to a photographic scene.</p>
<p id="p-0090" num="0089">Moreover, according to the aforesaid embodiments, when pre-photographing or actual photographing is performed in the photographic scene dependent photographing mode, the electronic shutter facility included in the image-pickup device <b>1</b> is controlled via the timing generator <b>18</b> that receives a shutter timing signal. The diaphragm/shutter mechanism <b>3</b> may be controlled on behalf of the electronic shutter facility included in the image-pickup device <b>1</b>. Otherwise, both the electronic shutter facility included in the image-pickup device <b>1</b> and the diaphragm/shutter mechanism <b>3</b> may be controlled in order to acquire image information of a photographic scene under a desired condition for exposure.</p>
<p id="p-0091" num="0090">A photographic scene is pre-photographed with a condition for exposure varied prior to actual photographing, whereby information concerning a dynamic range is acquired. Actual photographing is then performed based on the acquired information concerning a dynamic range. Therefore, even when a photographic scene exhibits a large brightness difference, an image obtainable with a wide dynamic range that is matched to a brightness range exhibited by the photographic scene can be produced without the necessity of driving the AE facility all the time.</p>
<p id="p-0092" num="0091"><figref idref="DRAWINGS">FIG. 12</figref> to <figref idref="DRAWINGS">FIG. 15J</figref> show a third embodiment of the present invention. <figref idref="DRAWINGS">FIG. 12</figref> is a block diagram showing the basic configuration of a digital still camera.</p>
<p id="p-0093" num="0092">The major portion of the digital still camera in accordance with the third embodiment is substantially identical to that of the digital still camera in accordance with the first embodiment. The same reference numerals are assigned to components that have the same capabilities as those included in the first embodiment. A significant difference lies in that a shutter control information circuit <b>50</b> is substituted for the shutter timing control circuit <b>21</b> and the shutter timing ROM <b>24</b> is excluded.</p>
<p id="p-0094" num="0093">To be more specific, the digital still camera consists mainly of, as shown in <figref idref="DRAWINGS">FIG. 12</figref>, an image-pickup device <b>1</b>, a lens <b>2</b>, a diaphragm/shutter mechanism <b>3</b>, an amplifier <b>4</b>, an A/D converter <b>5</b>, a camera signal processing circuit <b>6</b>, an AF/AE/AWB wave detecting circuit <b>7</b>, a compression circuit <b>9</b>, a memory card interface <b>14</b>, and a memory card <b>15</b>. The image-pickup device <b>1</b> includes a single-plate color CCD that has an electronic shutter facility, and serves as a photographing means for photoelectrically converting an object image and providing image information. The lens <b>2</b> causes the object image to converge at the image-pickup device <b>1</b>. The diaphragm/shutter mechanism <b>3</b> controls a passage range of light that passes through the lens <b>2</b> and a passage time required for the light that passes through the lens <b>2</b>. The amplifier <b>4</b> amplifies image information of which noise component is removed by a correlative double sampling circuit, which is not shown, after being transferred from the image-pickup device <b>1</b>. The A/D converter <b>5</b> converts analog information, which is amplified by the amplifier <b>4</b>, into digital information. The camera signal processing circuit <b>6</b> performs various kinds of processing on the signal digitized by the A/D converter <b>5</b>. The AF/AE/AWB wave detecting circuit <b>7</b> receives the digital signal from the A/D converter <b>5</b>, and detects automatic focusing (AF)-related information, automatic exposure (AE)-related information, and automatic white balance control (AWB)-related information. The compression circuit <b>9</b> compresses image data sent from the camera signal processing circuit <b>6</b> in compliance with the JPEG or the like. The memory card interface <b>14</b> extends control so that the image data compressed by the compression circuit <b>9</b> can be recorded on the memory card <b>15</b>. The memory card <b>15</b>, which is a nonvolatile recording medium, records the image data under the control of the memory card interface <b>14</b>. The digital still camera further includes a DRAM <b>11</b>, a memory controller <b>10</b>, a personal computer interface (PC I/F) <b>16</b>, a display circuit <b>12</b>, an LCD <b>13</b>, a strobe <b>19</b>, a timing generator (TG) <b>18</b>, an input key <b>20</b>, a shutter control information circuit <b>50</b>, a selection switch <b>22</b>, and a CPU <b>8</b>. The DRAM <b>11</b> is used as a work memory to process color data contained in image data. The memory controller <b>10</b> controls the DRAM <b>11</b>. The personal computer (PC) interface <b>16</b> is an interface for transferring image data from the memory card <b>15</b> to a personal computer (PC) <b>17</b> or the like. The display circuit <b>12</b> controls the LCD <b>13</b> that will be described later. The LCD <b>13</b> reproduces and displays image data recorded on the memory card <b>15</b> under the control of the display circuit <b>12</b>, and presents various photographic states of the digital still camera. The strobe <b>19</b> serves as a flashlight emitting means for emitting illumination light with which an object is illuminated. The timing generator <b>18</b> generates a timing pulse that is used to drive the image-pickup device <b>1</b>. The input key <b>20</b> includes a switch used to designate any of various imaging modes and a trigger switch used to instruct start of photographing operation. The shutter control information circuit <b>50</b> receives a digital signal from the A/D converter <b>5</b>, and designates a condition for exposure as one of the conditions for actual photographing that is performed in a wide dynamic range photographing mode that will be described later. Moreover, the shutter control information circuit <b>50</b> outputs information concerning an exposure level, such as, an exposure time. The selection switch <b>22</b> controls input of information concerning an exposure level according to what imaging mode is designated. The CPU <b>8</b> is connected to the camera signal processing circuit <b>6</b>, compression circuit <b>9</b>, memory controller <b>10</b>, display circuit <b>12</b>, memory card interface <b>14</b>, and personal computer interface <b>16</b> over a bus <b>23</b>. The CPU <b>8</b> receives the result of detection performed by the AF/AE/AWB wave detecting circuit <b>7</b>, an input signal that is produced responsively to a manipulation performed on the input key <b>20</b>, control information sent from the shutter control information circuit <b>50</b>, or light emission information sent from the strobe <b>19</b>. The CPU <b>8</b> controls the whole of the digital still camera including the lens <b>2</b>, diaphragm/shutter mechanism <b>3</b>, selection switch <b>22</b>, camera signal processing circuit <b>6</b>, strobe <b>19</b>, input key <b>20</b>, and other circuits interconnected over the bus <b>23</b>.</p>
<p id="p-0095" num="0094">The digital still camera can be set to a normal photographing mode or a wide dynamic range photographing mode. In the normal photographing mode, one image is picked up through one exposure and image data is produced. In the wide dynamic range photographing mode, a plurality of images is picked up at mutually close time instants with an exposure level varied, and synthesized in order to produce an image obtainable with a wide dynamic range.</p>
<p id="p-0096" num="0095">A user manipulates the input key <b>20</b> to designate either of the imaging modes. Otherwise, the CPU <b>8</b> detects a highlight represented by image information sent from the image-pickup device <b>1</b>, and autonomously designates an imaging mode. Depending on which of the imaging modes is designated, the CPU <b>8</b> controls imaging.</p>
<p id="p-0097" num="0096">Specifically, when the normal photographing mode is selected, exposure is performed once during photographing in order to acquire image information for one image field from the image-pickup device <b>1</b>. When the wide dynamic range photographing mode is selected, the same object is exposed a plurality of times in order to acquire image information for a plurality of image fields (for example, two image fields) from the image-pickup device <b>1</b> with an exposure level varied. The camera signal processing circuit <b>6</b> processes image data according to what imaging mode is selected.</p>
<p id="p-0098" num="0097">The exposure is performed according to a known means, that is, using the electronic shutter facility included in the image-pickup device <b>1</b> or using the electronic shutter facility in combination with the diaphragm/shutter mechanism <b>3</b>.</p>
<p id="p-0099" num="0098">Furthermore, when the normal photographing mode is selected, the CPU <b>8</b> produces shutter control information, with which exposure is performed to pick up one image, according to the result of detection performed by the AF/AE/AWB wave detecting circuit <b>7</b>. The CPU <b>8</b> drives the selection switch <b>22</b> so that the resultant information will be transferred to the timing generator <b>18</b>.</p>
<p id="p-0100" num="0099">When the wide dynamic range photographing mode is selected, the shutter control information circuit <b>50</b> produces shutter control information, with which exposure is performed to pick up a plurality of images with an exposure level varied. The shutter control information circuit <b>50</b> then drives the selection switch <b>22</b> so that the resultant information will be transferred to the timing generator <b>18</b>.</p>
<p id="p-0101" num="0100"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram showing the configuration of the shutter control information circuit <b>50</b>.</p>
<p id="p-0102" num="0101">According to the third embodiment, the shutter is controlled on the assumption that when the wide dynamic range photographing mode is selected, exposure is performed twice with a condition for exposure varied.</p>
<p id="p-0103" num="0102">When the conditions for actual photographing are determined, luminance information concerning a photographic scene is adopted as information concerning a dynamic range needed to photograph the photographic scene.</p>
<p id="p-0104" num="0103">First, pre-photographing is performed under a condition for exposure determined through normal automatic exposure (AE) in order to acquire luminance information concerning a photographic scene. Consequently, the A/D converter <b>5</b> transmits luminance information aa concerning the photographic scene.</p>
<p id="p-0105" num="0104">The scene information distribution calculating circuit <b>51</b> serving as an information acquiring means receives the luminance information aa, produces the distribution of luminance information (histogram), and transmits the distribution as luminance distribution information bb.</p>
<p id="p-0106" num="0105">The scene information analyzing circuit <b>52</b> serving as an analyzing means receives the luminance distribution information bb, analyzes the histogram concerning the luminance distribution information bb, and transmits the result of the analysis as luminance analysis information cc. During the analysis of the histogram, the frequency of a luminance level indicating a dark point (shadow) and the frequency of a luminance level indicating a bright point (highlight) are retrieved from the histogram.</p>
<p id="p-0107" num="0106">A conditions-for-exposure judging circuit <b>53</b> serving as an conditions-for-photographing setting means and a control means receives the luminance analysis information cc, and judges whether a currently set condition for exposure is appropriate. The judgment is made to reach the conclusion that the current condition for exposure should be changed and pre-photographing should be performed again (change of a condition for exposure) or that the current condition for exposure should be adopted as one of the conditions for actual photographing (determination of a condition for exposure). A destination to which information representing the condition for exposure is transmitted is changed based on the conclusion. At the same time, the result of the judgment is transmitted as exposure optimization information dd to the CPU <b>8</b>.</p>
<p id="p-0108" num="0107">First, assuming that the result of judgment made to see if a condition for exposure is appropriate is “determination of a condition for exposure”, the conditions-for-exposure judging circuit <b>53</b> transmits actual photographing exposure information ff as a condition for exposure that is one of the conditions for actual photographing. A shutter control information-for-actual photographing producing circuit <b>55</b> serving as a conditions-for-photographing setting means receives the actual photographing exposure information ff, produces shutter control information with which actual photographing is performed, and transmits the shutter control information as actual photographing shutter control information hh.</p>
<p id="p-0109" num="0108">On the other hand, when the result of judgment made to see if a condition for exposure is appropriate is “change of a condition for exposure”, the conditions-for-exposure judging circuit <b>53</b> transmits changed exposure information ee as a condition for exposure to be changed. A conditions-for-exposure changing circuit <b>54</b> serving as a conditions-for-photographing setting means and a control means receives the changed exposure information ee, changes the current condition for exposure, and produces shutter control information that matches the changed condition for exposure and that is used to perform pre-photographing again. The conditions-for-exposure changing circuit <b>54</b> then transmits the shutter control information as pre-photographing shutter control information gg.</p>
<p id="p-0110" num="0109">A shutter control information selection switch <b>56</b> switches input signals according to control information ii sent from the CPU <b>8</b> that has received the exposure optimization information dd from the conditions-for-exposure judging circuit <b>53</b>. Since the shutter control information selection switch <b>56</b> thus switches input signals, the pre-photographing shutter control information gg or actual photographing shutter control information hh is transmitted as shutter control information kk to the selection switch <b>22</b>.</p>
<p id="p-0111" num="0110">Moreover, the CPU <b>8</b> judges from the result of judgment, which is represented by the exposure optimization information dd, whether pre-photographing should be performed again or a standby state should be retained until actual photographing is started.</p>
<p id="p-0112" num="0111">Specifically, if the exposure optimization information dd represents “change of a condition for exposure”, the CPU <b>8</b> instructs that pre-photographing should be performed again according to the shutter control information kk produced by the conditions-for-exposure changing circuit <b>54</b> in order to acquire luminance information concerning a photographic scene. The CPU <b>8</b> then instructs the shutter control information circuit <b>50</b> to perform the foregoing processing according to the luminance information aa produced by the A/D converter <b>5</b>.</p>
<p id="p-0113" num="0112">If the exposure optimization information dd represents “determination of a condition for exposure”, the CPU <b>8</b> retains a standby state until actual photographing is started in order to produce an image obtainable with a wide dynamic range by performing imaging according to the shutter control information kk produced by the shutter control information-for-actual photographing producing circuit <b>55</b>.</p>
<p id="p-0114" num="0113"><figref idref="DRAWINGS">FIG. 14</figref> is a flowchart describing processing to be performed by the shutter control information circuit <b>50</b>.</p>
<p id="p-0115" num="0114">Referring to <figref idref="DRAWINGS">FIG. 14</figref>, a description will be made using each information shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0116" num="0115">When the processing is started, the scene information distribution calculating circuit <b>51</b> produces a histogram of luminance information aa concerning a photographic scene (step S<b>11</b>). The histogram to be produced is equivalent to luminance distribution information bb shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0117" num="0116">Thereafter, the scene information analyzing circuit <b>52</b> references the produced histogram to obtain the frequency of a luminance level indicating a dark point and the frequency of a luminance level indicating a bright point (step S<b>12</b>). The obtained frequencies and related luminance levels are equivalent to luminance analysis information cc shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0118" num="0117">Thereafter, the frequency of the luminance level indicating a bright (dark) point is compared with a predetermined value (for example, 10% of the sum total of frequency values contained in the histogram) (step S<b>13</b>).</p>
<p id="p-0119" num="0118">If it is judged at step S<b>13</b> that the frequency of the luminance level indicating a bright (dark) point is equal to or larger than the predetermined value, it is thought that a highlight (shadow) results from photographing to be performed under a current condition for exposure. The current condition for photographing is therefore changed to the one determining an exposure value (EV) that makes an image one-step darker (brighter) (step S<b>14</b>). The condition for exposure treated at step S<b>14</b> is equivalent to changed exposure information ee shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0120" num="0119">Thereafter, the conditions-for-exposure changing circuit <b>54</b> produces pre-photographing shutter control information gg, which is needed to perform pre-photographing again, according to the changed condition for exposure (step S<b>15</b>).</p>
<p id="p-0121" num="0120">The produced pre-photographing shutter control information gg is transmitted as shutter control information kk through the shutter control information selection switch <b>56</b>. The CPU <b>8</b> is thus instructed to perform pre-photographing again according to the shutter control information kk (step S<b>16</b>). The instruction given to the CPU <b>8</b> at step S<b>16</b> is equivalent to exposure optimization information dd shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0122" num="0121">On the other hand, if it is judged at step S<b>13</b> that the frequency of the luminance level indicating a bright (dark) point is smaller than the predetermined value, it is thought that imaging to be performed under a current condition for exposure is optimal for the relatively bright (dark) object. Under the current condition for exposure (that is, actual photographing exposure information ff shown in <figref idref="DRAWINGS">FIG. 13</figref>), the shutter control information-for-actual photographing producing circuit <b>55</b> produces actual photographing shutter control information hh that is needed to perform actual photographing (step S<b>17</b>).</p>
<p id="p-0123" num="0122">The produced actual photographing shutter control information hh is transmitted as shutter control information kk through the shutter control information selection switch <b>56</b>. The CPU <b>8</b> is thus informed of the fact that actual photographing can be performed based on the shutter control information kk (the standby state is retained). The information given to the CPU <b>8</b> is, like the instruction given at step S<b>16</b>, equivalent to the exposure optimization information dd shown in <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0124" num="0123">When step S<b>16</b> or S<b>18</b> is completed, the processing is terminated.</p>
<p id="p-0125" num="0124">Herein, when exposure is performed twice with a condition for exposure varied as it is in the present embodiment, imaging including the processing described in <figref idref="DRAWINGS">FIG. 14</figref> is performed as mentioned below.</p>
<p id="p-0126" num="0125">As mentioned above, an initial condition for exposure is determined based on normal automatic exposure (AE)-related information, and pre-photographing is performed.</p>
<p id="p-0127" num="0126">Thereafter, as described in <figref idref="DRAWINGS">FIG. 14</figref>, both processing concerning a bright point and processing concerning a dark point are carried out.</p>
<p id="p-0128" num="0127">When both the processing concerning a bright point and the processing concerning a dark point enter the step at which a standby state is retained until actual photographing is started, photographing is performed once. This is because it is unnecessary to perform imaging twice under the same condition for exposure (the photographing is the same as the photographing in the normal photographing mode).</p>
<p id="p-0129" num="0128">If a condition for exposure is changed in both the bright and dark points as they are at step S<b>14</b>, the condition for exposure is changed such that an exposure value (EV) makes an image one-step darker (condition for exposure determining a one-step smaller EV). Moreover, the condition for exposure is changed such that an EV makes an image one-step brighter (condition for exposure determining a one-step larger EV). Then, pre-photographing is performed again with the respective condition for exposure varied as mentioned above.</p>
<p id="p-0130" num="0129">Thereafter, the processing described in <figref idref="DRAWINGS">FIG. 14</figref> is performed. If the condition for exposure is the condition for exposure determining a one-step smaller EV, information concerning the bright point alone is processed. If the condition for exposure is changed as described as step S<b>14</b>, the condition for exposure is changed such that an EV makes an image one-more-step darker (that is, a two-steps smaller EV). Pre-photographing is then performed again. Thereafter, the processing described in <figref idref="DRAWINGS">FIG. 14</figref> is performed on the information concerning the bright point alone.</p>
<p id="p-0131" num="0130">If the condition for exposure is the condition for exposure determining a one-step larger EV, information concerning the dark point alone is processed. If the condition for exposure is changed as described as step S<b>14</b>, the condition for exposure is changed such that an EV makes an image one-more-step brighter (that is, a two-steps larger EV). Pre-photographing is then performed again. Thereafter, the processing described in <figref idref="DRAWINGS">FIG. 14</figref> is performed on the information concerning the dark point alone.</p>
<p id="p-0132" num="0131">Furthermore, in the case of the condition for exposure is changed as described as step S<b>14</b> relative to photographing of either the bright or dark point, changing of the condition is made as follows. When the condition for exposure may be changed relative to photographing of the bright point, the condition for exposure is changed such that an EV makes an image one-step darker (one-step smaller EV). When the condition for exposure is changed relative to photographing of the dark point, the condition for exposure is changed such that an EV makes an image one-step brighter (one-step larger EV). Thereafter, the processing of information concerning either the bright or dark point is performed.</p>
<p id="p-0133" num="0132"><figref idref="DRAWINGS">FIG. 15A</figref> to <figref idref="DRAWINGS">FIG. 15J</figref> show images concerning processing performed in the shutter control information circuit <b>50</b>.</p>
<p id="p-0134" num="0133">First, pre-photographing is performed under an initial condition for exposure (for example, with an exposure time set to 1/250 sec). Consequently, luminance information concerning a photographic scene shown in <figref idref="DRAWINGS">FIG. 15A</figref> is acquired. A luminance histogram produced this time represents a distribution like the one shown in <figref idref="DRAWINGS">FIG. 15B</figref>. In this case, the frequency of a luminance level indicating a dark point DK (left side of a left-hand dashed line) and the frequency of a luminance level indicating a bright point BR (right side of a right-hand dashed line) are so large as to exceed a frequency threshold Th. The frequency threshold Th is indicated with a dotted-chain line and used as a criterion for a condition for exposure. The condition for exposure must therefore be changed both the bright point BR and the dark point DK.</p>
<p id="p-0135" num="0134">Thereafter, the condition for exposure is changed relative to the bright point BR and the dark point DK respectively. Pre-photographing is performed again in order to acquire luminance information.</p>
<p id="p-0136" num="0135">First, an initial condition for exposure under which the dark point DK is imaged is changed such that an EV that makes an image one-step brighter (a one-step larger EV, that is, with an exposure time set to 1/125 sec). At this time, luminance information like the one shown in <figref idref="DRAWINGS">FIG. 15C</figref> is acquired. A luminance histogram like the one shown in <figref idref="DRAWINGS">FIG. 15D</figref> is then produced. In this case, the condition for exposure under which the dark point DK is imaged is checked based on the criterion for a condition for exposure. Since the frequency of the luminance level indicating the dark point DK still exceeds the frequency threshold Th, the condition for exposure is requested to be further changed. The condition for exposure is then changed such that an EV makes an image two-steps brighter (a two-steps larger EV, that is, with the exposure time set to 1/60 sec). Pre-photographing is performed again in order to acquire luminance information. The luminance information acquired under the condition for exposure determining a two-steps larger EV is, for example, like the one shown in <figref idref="DRAWINGS">FIG. 15G</figref>. A luminance histogram like the one shown in <figref idref="DRAWINGS">FIG. 15H</figref> is produced accordingly. As illustrated, the frequency of the luminance level indicating the dark point DK is smaller than the frequency threshold Th. The condition for exposure (the exposure time set to 1/60 sec) is adopted as one of the conditions for actual photographing. Consequently, the conditions for actual photographing are determined so that a figure contained in the photographic scene shown in <figref idref="DRAWINGS">FIG. 15A</figref> can be imaged while being exposed properly.</p>
<p id="p-0137" num="0136">On the other hand, the condition for exposure under which the bright point BR is imaged is changed such that an EV makes an image one-step darker (one-step smaller EV, that is, with the exposure time set to 1/500 sec). At this time, luminance information like the one shown in <figref idref="DRAWINGS">FIG. 15E</figref> is acquired, and a luminance histogram like the one shown in <figref idref="DRAWINGS">FIG. 15F</figref> is produced accordingly. The condition for exposure is checked based on the criterion for a condition for exposure to see if the bright point BR is photographed properly under the condition. In this case, the frequency of the luminance value indicating the bright point BR, which is contained in the histogram, exceeds the frequency threshold Th. Similarly to the case of the dark point DK, the condition for exposure is requested to be further changed. The condition for exposure is therefore changed such that an EV makes an image two-steps darker (two-steps smaller EV, that is, with the exposure time set to 1/1000 sec). Pre-photographing is then performed again in order to acquire luminance information. The luminance information acquired under the condition for exposure determining the two-steps smaller EV is, for example, like the one shown in <figref idref="DRAWINGS">FIG. 15I</figref>, and a luminance histogram like the one shown in <figref idref="DRAWINGS">FIG. 15J</figref> is produced accordingly. As illustrated, the frequency of the luminance level indicating the bright point BR, which is contained in the histogram, is smaller than the frequency threshold Th. The condition for exposure determined this time (the exposure time set to 1/1000 sec) is therefore adopted as the other one of the conditions for actual photographing. Consequently, the conditions for actual photographing are determined so that the background of the photographic scene like the one shown in <figref idref="DRAWINGS">FIG. 15A</figref> can be imaged while being exposed properly.</p>
<p id="p-0138" num="0137">When the photographic scene like the one shown in <figref idref="DRAWINGS">FIG. 15A</figref> is photographed in the wide dynamic range photographing mode, exposure is performed twice continuously under the conditions for imaging including the condition of the exposure time set to 1/60 sec and the condition of the exposure time set to 1/1000 sec. Both proper image information concerning the figure and proper image information concerning the background are acquired and then synthesized. This results in an image obtainable with a wide dynamic range. In the image, both the figure and background appear in a properly exposed state.</p>
<p id="p-0139" num="0138">According to the third embodiment, prior to actual photographing, information concerning a dynamic range needed to photograph a photographic scene is acquired and analyzed. The conditions for actual photographing are determined based on the results of the analysis. Imaging is then achieved by performing one exposure or by performing a plurality of exposures with a condition for exposure varied. The condition for exposure optimal for a dynamic range needed to image the photographic scene can be determined automatically in order to perform imaging. Eventually, an image obtainable with a dynamic range needed to photograph the photographic scene can be produced in order to reproduce the photographic scene. In particular, when exposure is performed a plurality of times with the condition for exposure varied, even if photographing a photographic scene requires a wide dynamic range, the photographic scene can be imaged optimally. Eventually, an image obtainable with the wide dynamic range can be substantially produced in order to reproduce the photographic scene.</p>
<p id="p-0140" num="0139"><figref idref="DRAWINGS">FIG. 16</figref> to <figref idref="DRAWINGS">FIG. 18</figref> show a fourth embodiment of the present invention. <figref idref="DRAWINGS">FIG. 16</figref> is a block diagram showing the configuration of a shutter control information circuit <b>60</b>. In the fourth embodiment, the names and reference numerals assigned to the components of the third embodiment are employed if necessary. The description of the components identical to those of the third embodiment will be omitted, and differences alone will be described mainly.</p>
<p id="p-0141" num="0140">The fourth embodiment is, similarly to the third embodiment, a digital still camera to which an image-pickup apparatus in accordance with the present invention is adapted. The configuration of the digital still camera is nearly identical to that shown in <figref idref="DRAWINGS">FIG. 12</figref>. However, the shutter control information circuit <b>60</b> is substituted for the shutter control information circuit <b>50</b>.</p>
<p id="p-0142" num="0141">In the digital still camera of the fourth embodiment, similarly to the aforesaid digital still cameras, the shutter is controlled on the assumption that when the wide dynamic range photographing mode is selected, exposure is performed twice with a condition for exposure varied.</p>
<p id="p-0143" num="0142">In the configuration shown in <figref idref="DRAWINGS">FIG. 16</figref>, pre-photographing is performed in order to acquire luminance information concerning a photographic scene. The processing from the step at which the A/D converter <b>5</b> produces luminance information aa concerning the photographic scene to the step at which a scene information distribution calculating circuit <b>61</b> produces luminance distribution information bb is identical to the processing described in <figref idref="DRAWINGS">FIG. 13</figref> implemented in the third embodiment. The scene information distribution calculating circuit <b>61</b> has the same configuration as the scene information distribution calculating circuit <b>51</b> and serves as an information acquiring means.</p>
<p id="p-0144" num="0143">Thereafter, a scene information analyzing circuit <b>62</b> that is an analyzing means receives the luminance distribution information (histogram) bb from the scene information distribution calculating circuit <b>61</b>, and receives strobe setting information mm from the CPU <b>8</b>. The scene information analyzing circuit <b>62</b> then analyzes the histogram. Specifically, according to the fourth embodiment, the strobe setting information mm is acquired in order to estimate within what range the brightness of a major object falls. The subsequent processing is performed so that the major object will be exposed properly. If the major object exists at a bright point, a condition for exposure is determined relative to imaging of the bright point alone. If the major object exists at a dark point, the condition for exposure is determined relative to imaging of the dark point alone. At this time, the condition for exposure is determined to realize proper exposure.</p>
<p id="p-0145" num="0144">For example, if the strobe setting information mm signifies that the strobe is used, a photographic scene in which a figure poses while being backlit in the daytime or a figure poses at night is estimated. At this time, the luminance distribution information (histogram) bb produced under an initial condition for exposure is referenced.</p>
<p id="p-0146" num="0145">Assume that the luminance distribution information (histogram) bb reveals that the frequency of a luminance level indicating a bright point (highlight) in the histogram is larger than a predetermined value. This means that the photographic scene contains many points equivalent to the highlight. The photographic scene is therefore thought to correspond to the photographic scene in which a figure poses while being backlit in the daytime. Since the strobe is used, a major object is estimated to lie at a relatively dark point. Consequently, the subsequent processing is performed in order to optimize a condition for exposure under which the dark point at which the major object lies is imaged.</p>
<p id="p-0147" num="0146">Moreover, if the frequency of a luminance level indicating a bright point (highlight) in the histogram is equal to or smaller than a predetermined value, it is thought that the photographic scene does not contain many points equivalent to the highlight. The photographic scene is therefore regarded to correspond to the photographic scene in which a figure poses at night. The strobe is therefore used to image the photographic scene, and the major object is estimated to lie at a relatively bright point. Consequently, the subsequent processing is performed in order to optimize the condition for exposure relative to the bright point under which the main object lies.</p>
<p id="p-0148" num="0147">In contrast, if the strobe setting information mm signifies that the strobe is unused, the subsequent processing is performed in order to optimize the condition for exposure under which the dark point is imaged.</p>
<p id="p-0149" num="0148">The scene information analyzing circuit <b>62</b> calculates the frequency of the luminance level indicating the bright or dark point, and transmits the result of the analysis as luminance analysis information nn.</p>
<p id="p-0150" num="0149">A conditions-for-exposure judging circuit <b>63</b> that serves as a conditions-for-photographing setting means and a control means receives the luminance analysis information nn, and then acts similarly to the conditions-for-exposure judging circuit <b>53</b> employed in the third embodiment.</p>
<p id="p-0151" num="0150">If the result of judgment made to see if the condition for exposure is appropriate is “change of a condition for exposure”, the conditions-for-exposure judging circuit <b>63</b> transmits changed exposure information pp as the condition for exposure to be changed. A conditions-for-exposure changing circuit <b>64</b> that serves as a conditions-for-photographing setting means and a control means receives the changed exposure information pp and acts similarly to the conditions-for-exposure changing circuit <b>54</b> employed in the third embodiment. The conditions-for-exposure changing circuit <b>64</b> then transmits pre-photographing shutter control information qq that is produced in compliance with the changed condition for exposure.</p>
<p id="p-0152" num="0151">In contrast, if the result of judgment made to see if the condition for exposure is appropriate is “determination of a condition for exposure”, the conditions-for-exposure judging circuit <b>63</b> transmits actual photographing exposure information oo as the condition for exposure that is one of the conditions for actual photographing to an exposure ratio adjusting circuit <b>65</b> and a shutter control information-for-actual photographing producing circuit <b>66</b> that will be described later.</p>
<p id="p-0153" num="0152">The exposure ratio adjusting circuit <b>65</b> that serves as a conditions-for-photographing setting means and an adjusting means receives the actual photographing exposure information oo and camera setting information rr that includes photometric area information and strobe information sent from the CPU <b>8</b>. The exposure ratio adjusting circuit <b>65</b> then calculates an exposure ratio at which imaging is performed twice with an exposure level varied.</p>
<p id="p-0154" num="0153">Herein, the actual photographing exposure information oo is information representing a condition for exposure optimal to a major object. Unlike the aforesaid third embodiment, the actual photographing exposure information oo represents the condition for exposure under which exposure is performed only once. The exposure ratio adjusting circuit <b>65</b> therefore calculates an exposure ratio to the actual photographing exposure information oo and transmits the exposure ratio as exposure ratio information ss. The exposure ratio is the ratio of a condition for exposure, under which an object other than the major object is photographed.</p>
<p id="p-0155" num="0154">The shutter control information-for-actual photographing producing circuit <b>66</b> that is a conditions-for-photographing setting means receives the actual photographing exposure information oo and exposure ratio information ss, and produces shutter control information needed to perform actual photographing during which exposure is performed twice with an exposure level varied. The shutter control information-for-actual photographing producing circuit <b>66</b> then transmits the shutter control information as actual photographing shutter control information tt.</p>
<p id="p-0156" num="0155">A shutter control information selection switch <b>67</b> switches contacts thereof in response to control information ii sent from the CPU <b>8</b>, and transmits the pre-photographing shutter control information qq or actual photographing shutter control information tt as shutter control information kk.</p>
<p id="p-0157" num="0156">The CPU <b>8</b> judges, similarly to the CPU included in the third embodiment, from the result of checking of the exposure optimization information dd whether pre-photographing should be performed again or a standby state should be retained until actual photographing is started.</p>
<p id="p-0158" num="0157"><figref idref="DRAWINGS">FIG. 17</figref> is a flowchart describing processing to be performed by the shutter control information circuit <b>60</b>. Some steps described in <figref idref="DRAWINGS">FIG. 17</figref> are identical to those described in <figref idref="DRAWINGS">FIG. 14</figref>. The reiteration of the steps will therefore be omitted.</p>
<p id="p-0159" num="0158">Step S<b>21</b> is identical to step S<b>11</b> in <figref idref="DRAWINGS">FIG. 14</figref>.</p>
<p id="p-0160" num="0159">Thereafter, based on the strobe setting information mm, a luminance level contained in a luminance histogram produced at step S<b>21</b> is determined in order to optimize a condition for exposure under which a point indicated by the luminance level is photographed (step S<b>22</b>). Herein, either a bright point or a dark point is selected in order to optimize the condition for exposure under which the point is photographed.</p>
<p id="p-0161" num="0160">The subsequent step S<b>23</b> and step S<b>24</b> are identical to step S<b>12</b> and step S<b>13</b> in <figref idref="DRAWINGS">FIG. 14</figref>.</p>
<p id="p-0162" num="0161">Step S<b>25</b>, step S<b>26</b>, and step S<b>27</b> are identical to step S<b>14</b>, step S<b>15</b>, and step S<b>16</b> in <figref idref="DRAWINGS">FIG. 14</figref>. Herein, control is passed successively to the steps S<b>25</b>, S<b>26</b>, and S<b>27</b> when it is judged at step S<b>24</b> that the frequency of the luminance level indicating a bright (dark) point is equal to or larger than a predetermined value (change of a condition for exposure).</p>
<p id="p-0163" num="0162">Moreover, if it is judged at step S<b>24</b> that the frequency of the luminance level indicating the bright (dark) point is smaller than the predetermined value (determination of a condition for exposure), the actual photographing exposure information oo is produced based on a current condition for exposure, and then transmitted (step S<b>28</b>).</p>
<p id="p-0164" num="0163">Thereafter, the camera setting information rr is used to calculate an exposure ratio at which exposure is performed a plurality of times with an exposure level varied (step S<b>29</b>).</p>
<p id="p-0165" num="0164">Herein, the camera setting information rr and actual photographing exposure information oo are referenced in order to calculate a ratio of photographing exposure information to the actual photographing exposure information oo. Herein, the actual photographing exposure information oo represents a condition for exposure under which a major object is exposed properly, and the photographing exposure information represents a condition for exposure under which an object other then the major object is photographed. The calculated ratio is transmitted as the exposure ratio information ss.</p>
<p id="p-0166" num="0165">Thereafter, the actual photographing shutter control information tt is produced based on the actual photographing exposure information oo and exposure ratio information ss, and then transmitted. The CPU <b>8</b> is thus informed of the fact that the standby state is retained until actual photographing is started (step S<b>30</b>).</p>
<p id="p-0167" num="0166">When step S<b>27</b> or step S<b>30</b> is completed, the processing is terminated.</p>
<p id="p-0168" num="0167">The processing flow described in <figref idref="DRAWINGS">FIG. 17</figref> and implemented in the fourth embodiment is basically identical to the processing flow described in <figref idref="DRAWINGS">FIG. 14</figref> and implemented in the third embodiment. When a histogram produced under an initial condition for exposure is analyzed (step S<b>23</b>), only the frequency of a luminance level indicating either a bright point or a dark point is checked. Even when pre-photographing must be performed again thereafter, it is unnecessary to check both the frequencies of luminance levels indicating the bright point and dark point. This is a difference from the third embodiment.</p>
<p id="p-0169" num="0168">Moreover, after the condition for exposure is changed, pre-photographing is performed. Thereafter, according to the processing flow described in <figref idref="DRAWINGS">FIG. 17</figref>, since it is already determined whichever of the bright point and dark point should be exposed properly, step S<b>22</b> need not be performed. Therefore, a flag indicating whether a condition for exposure has been changed may be set. If the flag is set, step S<b>22</b> may be skipped.</p>
<p id="p-0170" num="0169"><figref idref="DRAWINGS">FIG. 18</figref> shows an example of a lookup table which the exposure ratio adjusting circuit <b>65</b> references to retrieve exposure ratio information ss.</p>
<p id="p-0171" num="0170">In order to produce exposure ratio information ss by referencing the lookup table shown in <figref idref="DRAWINGS">FIG. 18</figref>, an exposure time required to properly expose a major object is adopted as the actual photographing exposure information oo, and a photometry level is adopted as the camera setting information rr. Moreover, an f-number and the strobe setting information mm are utilized. Herein, as far as the digital still camera of the present embodiment is concerned, the exposure time can be set to a value ranging from 1/8000 sec to ¼ sec, and the f-number can be set to a value ranging from 2.8 to 11.0.</p>
<p id="p-0172" num="0171">The exposure ratio information ss shown in <figref idref="DRAWINGS">FIG. 18</figref> is a ratio of an exposure time, which is required to expose an object other than a major object, to an exposure time (required to expose the major object) represented by the actual photographing exposure information oo. The exposure time required to expose an object other than the major object is calculated by multiplying the actual photographing exposure information oo by the ratio.</p>
<p id="p-0173" num="0172">Moreover, the ratio varies depending on whether the actual photographing exposure information oo is concerned with a bright point or a dark point.</p>
<p id="p-0174" num="0173">For example, if the actual photographing exposure information oo is information concerning the bright point, what must be produced is exposure information concerning the dark point. An exposure time required to expose the dark point is longer than the exposure time required to expose the bright point. Therefore, the exposure ratio, that is, the ratio of the exposure times assumes a value equal to or larger than 1.</p>
<p id="p-0175" num="0174">In contrast, when the actual photographing exposure information oo is information concerning the dark point, what must be produced is exposure information concerning the bright point. An exposure time required to expose the bright point is shorter than the exposure time required to expose the dark point. Therefore, the exposure ratio, that is, the ratio of the exposure times assumes a value equal to or smaller than 1.</p>
<p id="p-0176" num="0175">The bright point and dark point are entered as sub-items of item Major Object written on the first row of the table shown in <figref idref="DRAWINGS">FIG. 18</figref>. When the actual photographing exposure information oo is concerned with the bright point, a calculated exposure ratio is entered in association with item Bright Point. When the actual photographing exposure information oo is concerned with the dark point, a calculated exposure ratio is entered in association with item Dark Point. However, as mentioned above, a range of exposure times to which the digital still camera can be set is limited. The exposure ratio therefore assume values permitting realization of an exposure time that falls within the range.</p>
<p id="p-0177" num="0176">Next, a description will be made of items contained in the camera setting information rr and employed in the table shown in <figref idref="DRAWINGS">FIG. 18</figref>, and how to treat the items.</p>
<p id="p-0178" num="0177">A photometry level is information concerning a dynamic range required to photograph a photographic scene, and detected in units of an area included in a plurality of areas into which an image field is divided. A difference between a maximum value of the photometry level and a minimum value thereof which are detected in each area is calculated, and the ratio of the difference to the largest value of the photometry level detected in the image field is calculated. An exposure ratio value is retrieved from the lookup table shown in <figref idref="DRAWINGS">FIG. 18</figref> in association with the calculated ratio.</p>
<p id="p-0179" num="0178">In the example shown in <figref idref="DRAWINGS">FIG. 18</figref>, the ratio of the difference to the largest value is classified into five ranges. Depending on whether the actual photographing exposure information oo is concerned with a bright point or a dark point, a unique exposure ratio value is retrieved from the table. Specifically, assuming that the ratio of the difference to the largest value falls within a range of 50% or more, the exposure ratio assumes a value of, for example, <b>16</b>. That is to say, if the actual photographing exposure information oo is concerned with the bright point, the exposure ratio assumes a value of 16. If the actual photographing exposure information oo is concerned with the dark point, the exposure ratio assumes a value of 1/16. The same applies to any other value assumed by the ratio of the difference to the largest value. Namely, if the ratio of the difference to the largest value falls within a range from 25 to 50%, the exposure ratio assumes a value of 8. If the ratio of the difference to the largest value falls within a range from 10 to 25%, the exposure ratio assumes a value of 4. If the ratio of the difference to the largest value falls within a range from 5 to 10%, the exposure ratio assumes a value of 2. If the ratio of the difference to the largest value falls within a range less than 5%, the exposure ratio assumes a value of 1. If the ratio of the difference to the largest value is 1, an exposure time is equal to the exposure time represented by the actual photographing exposure information oo. Even in the wide dynamic range photographing mode, imaging is completed through one exposure.</p>
<p id="p-0180" num="0179">The f-number is an f-number to which an image-pickup optical system including the lens <b>2</b> and diaphragm/shutter mechanism <b>3</b> is set. An exposure ratio value is retrieved from the lookup table shown in <figref idref="DRAWINGS">FIG. 18</figref> in association with an f-number acquired from the image-pickup optical system.</p>
<p id="p-0181" num="0180">In the example shown in <figref idref="DRAWINGS">FIG. 18</figref>, the exposure ratio is associated with the f-number according to the same means as the means adopted for the photometry level. Specifically, when the f-number assumes a value of 2.8, the exposure ratio assumes a value of, for example, 16. Likewise, if the f-number assumes a value of 4.0, the exposure ratio assumes a value of 8. If the f-number assumes a value of 5.6, the exposure ratio assumes a value of 4. If the f-number assumes a value of 8.0, the exposure ratio assumes a value of 2. If the f-number assumes a value of 11.0, the exposure ratio assumes a value of 1.</p>
<p id="p-0182" num="0181">The strobe setting information mm is information indicating whether the strobe <b>19</b> is used or not. Based on the information, an exposure ratio value is retrieved from the lookup table shown in <figref idref="DRAWINGS">FIG. 18</figref>.</p>
<p id="p-0183" num="0182">In the example shown in <figref idref="DRAWINGS">FIG. 18</figref>, when the strobe is used (item Used), the exposure assumes a value of, for example, 4. When the strobe is unused (item Not Used), the exposure ratio assumes a value of 8.</p>
<p id="p-0184" num="0183">In addition, as shown in <figref idref="DRAWINGS">FIG. 18</figref>, the actual photographing exposure information oo may be used to retrieve an exposure ratio value.</p>
<p id="p-0185" num="0184">In consideration of whether the actual photographing exposure information oo is concerned with a luminance level indicating a bright point or a dark point, an exposure ratio value is retrieved from the lookup table shown in <figref idref="DRAWINGS">FIG. 18</figref>.</p>
<p id="p-0186" num="0185">In this example, when the actual photographing exposure information oo is information concerning the bright point (short-time exposure in the wide dynamic range photographing mode), the exposure ratio assumes a value of, for example, 4. When the actual photographing exposure information oo is information concerning the dark point (long-time exposure in the wide dynamic range photographing mode), the exposure ratio assumes a value of 8.</p>
<p id="p-0187" num="0186">The description has been made on the assumption that various kinds of information can be utilized. In reality, an exposure ratio value may be retrieved in association with any one kind of information. Otherwise, exposure ratio values retrieved in association with all the kinds of information may be averaged. Otherwise, the exposure ratio values retrieved in association with all the kinds of information may be weighted with coefficients proportional to the degrees of importance of the kinds of information, and then averaged. Thus, an exposure ratio value may be calculated. Nevertheless, the present invention is not limited to these means but can be applied to any other various means.</p>
<p id="p-0188" num="0187">According to the fourth embodiment, prior to actual photographing, information concerning a dynamic range required to photograph a photographic scene is acquired and analyzed. The conditions for actual photographing are determined based on the result of the analysis. Photographing is then achieved by performing one exposure or by performing a plurality of exposures with a condition for exposure varied. The fourth embodiment can therefore provide the same advantages as the third embodiment. In particular, when photographing is achieved by performing a plurality of exposures with the condition for exposure varied, the exposure ratio is adjusted. Therefore, even when a photographic scene requires a wide dynamic range, the photographic scene can be photographed optimally. Namely, an image obtainable with a wide dynamic range can be produced in order to reproduce the photographic scene.</p>
<p id="p-0189" num="0188">Having described the preferred embodiments of the invention referring to the accompanying drawings, it should be understood that the present invention is not limited to those precise embodiments and various changes and modifications thereof could be made by one skilled in the art without departing from the spirit or scope of the invention as defined in the appended claims.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image-pickup apparatus comprising:
<claim-text>an information acquiring means for, prior to actual photographing, acquiring information concerning a dynamic range, which is required to photograph a photographic scene, with a first condition for exposure and a second condition for exposure different from the first condition for exposure;</claim-text>
<claim-text>an analyzing means for analyzing the information acquired by said information acquiring means, including an information synthesizing means for synthesizing the information concerning a dynamic range with said first and second conditions for exposure acquired by said information acquiring means, wherein the information synthesizing means synthesizes at least first and second luminance information obtained during the first condition for exposure and the second condition for exposure, respectively, wherein the first and second luminance information are matched with a corresponding exposure level associated with the first condition for exposure and the second condition for exposure, respectively, to provide synthetic luminance information based on the first and second luminance information and a histogram arithmetic means for producing a histogram of the information synthesized by said information synthesizing means including the synthetic luminance information;</claim-text>
<claim-text>a conditions-for-photographing setting means for setting the conditions for actual photographing according to the result of the analysis performed by said analyzing means;</claim-text>
<claim-text>a photographing means for performing actual photographing under the conditions for actual photographing set by said conditions-for-photographing setting means, and</claim-text>
<claim-text>an image information converting means for converting an image produced during the actual photographing according to the result of analysis performed by said analyzing means.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said analyzing means further includes:
<claim-text>a gray scale arithmetic means for producing a gray scale conversion characteristic curve using a histogram, which represents the distribution of frequencies that are equal to or larger than a predetermined value among the values of frequencies contained in the histogram produced by said histogram arithmetic means.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the information concerning a dynamic range acquired by said information acquiring means is luminance information concerning a photographic scene.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the conditions for actual photographing set by said conditions-for-photographing setting means are information needed to drive a shutter.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said photographing means includes a flashlight emitting means that irradiates light to a photographic scene, and said flashlight emitting means is controlled based on the conditions for actual photographing set by said conditions-for-photographing setting means.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the conditions for actual photographing set by said conditions-for-photographing setting means are information concerning a plurality of exposure levels that signifies different exposures.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said photographing means performs actual photographing during which exposure is performed a plurality of times under the conditions for actual photographing with a condition for exposure, which is included in the conditions for actual photographing, varied.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein:
<claim-text>said conditions-for-photographing setting means includes a control means that judges from the result of analysis performed by said analyzing means whether a condition for exposure under which said information acquiring means acquires information is appropriate; and</claim-text>
<claim-text>if said control means judges that the condition for exposure is inappropriate, said control means changes the condition for exposure and instructs said information acquiring means to acquire information again.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The image-pickup apparatus according to <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein when said control means changes a condition for exposure that is judged to be inappropriate from the result of analysis performed by said analyzing means, said control means changes the condition for exposure to either or both of a condition for exposure making an image darker and a condition for exposure making an image brighter.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said conditions-for-photographing setting means includes an adjusting means that adjusts the conditions for actual photographing set based on the result of analysis performed by said analyzing means.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The image-pickup apparatus according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein said adjusting means adjusts the conditions for actual photographing, which are set based on the result of analysis performed by said analyzing means, according to a dynamic range required to photograph a photographic scene.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The image-pickup apparatus according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein said adjusting means checks the conditions for actual photographing set based on the result of analysis performed by said analyzing means, and adjusts the conditions for actual photographing if adjustment is judged to be necessary.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The image-pickup apparatus according to <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the conditions for actual photographing to be checked by said adjusting means include at least one of information concerning an exposure level and information of an f-number.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The image-pickup apparatus according to <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein said photographing means includes a flashlight emitting means that irradiates light to a photographic scene, and said adjusting means adjusts the conditions for actual photographing according to the use situation of said flashlight emitting means.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The image-pickup apparatus according to <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said conditions-for-photographing setting means includes an adjusting means that adjusts the ratio of different conditions for exposure which signify a plurality of exposures and which are included in the conditions for actual photographing set based on the result of analysis performed by said analyzing means.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The image-pickup apparatus according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein said adjusting means adjusts the conditions for actual photographing, which are set based on the result of analysis performed by said analyzing means, according to a dynamic range required to photograph a photographic scene.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The image-pickup apparatus according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein said adjusting means checks the conditions for actual photographing set based on the result of analysis performed by said analyzing means, and adjusts the conditions for actual photographing if adjustment is judged to be necessary.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The image-pickup apparatus according to <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein the conditions for actual photographing to be checked by said adjusting means include at least one of information concerning an exposure level and information of an f-number.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The image-pickup apparatus according to <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein said photographing means includes a flashlight emitting means that irradiates light to a photographic scene, and said adjusting means adjusts the conditions for actual photographing according to the use situation of said flashlight emitting means.</claim-text>
</claim>
</claims>
</us-patent-grant>
