<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299357-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299357</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10394441</doc-number>
<date>20030320</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>703</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>9</main-group>
<subgroup>08</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>9</main-group>
<subgroup>16</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>9</main-group>
<subgroup>18</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>L</subclass>
<main-group>9</main-group>
<subgroup>32</subgroup>
<symbol-position>L</symbol-position>
<classification-value>N</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>713171</main-classification>
<further-classification>713185</further-classification>
<further-classification>713159</further-classification>
<further-classification>380278</further-classification>
</classification-national>
<invention-title id="d0e53">Opaque message archives</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5588059</doc-number>
<kind>A</kind>
<name>Chandos et al.</name>
<date>19961200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5764772</doc-number>
<kind>A</kind>
<name>Kaufman et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380 30</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5903723</doc-number>
<kind>A</kind>
<name>Beck et al.</name>
<date>19990500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6118874</doc-number>
<kind>A</kind>
<name>Okamoto et al.</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380282</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6959394</doc-number>
<kind>B1</kind>
<name>Brickell et al.</name>
<date>20051000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>726  5</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7146009</doc-number>
<kind>B2</kind>
<name>Andivahis et al.</name>
<date>20061200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380277</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2003/0026432</doc-number>
<kind>A1</kind>
<name>Woodward</name>
<date>20030200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380278</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2004/0062400</doc-number>
<kind>A1</kind>
<name>Sovio et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>380286</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2005/0081039</doc-number>
<kind>A1</kind>
<name>Lee et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713176</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>EP</country>
<doc-number>0 869 652</doc-number>
<kind>A</kind>
<date>19981000</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>GB</country>
<doc-number>2410656</doc-number>
<kind>A</kind>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>WO</country>
<doc-number>WO 98 58332</doc-number>
<kind>A</kind>
<date>19981200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>WO</country>
<doc-number>WO 01 52485</doc-number>
<kind>A</kind>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>54</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>713171</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713185</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713159</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>380278</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>13</number-of-drawing-sheets>
<number-of-figures>17</number-of-figures>
</figures>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60401945</doc-number>
<kind>00</kind>
<date>20020807</date>
</document-id>
</us-provisional-application>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040030917</doc-number>
<kind>A1</kind>
<date>20040212</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Karamchedu</last-name>
<first-name>Murali M.</first-name>
<address>
<city>Beaverton</city>
<state>OR</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Sponaugle</last-name>
<first-name>Jeffrey B.</first-name>
<address>
<city>Hillsboro</city>
<state>OR</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Schwabe, Williamson &amp; Wyatt, P.C.</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Kryptiq Corporation</orgname>
<role>02</role>
<address>
<city>Beaverton</city>
<state>OR</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Barron, Jr.</last-name>
<first-name>Gilberto</first-name>
<department>2132</department>
</primary-examiner>
<assistant-examiner>
<last-name>Perungavoor</last-name>
<first-name>Venkat</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A system includes a server equipped to generate a split encryption key having at least a first key portion and a second key portion, that is used by the server to encrypt at least a portion of a message. Additionally, the first key portion of the split encryption key is retained by the server, while the second key portion of the split encryption key is delivered to a sending client and is discarded from the server. The sending client in turn provides the second key portion to one or more recipients of the message to facilitate recipient access to the message.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="129.62mm" wi="133.52mm" file="US07299357-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="241.30mm" wi="138.51mm" file="US07299357-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="150.71mm" wi="106.85mm" file="US07299357-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="232.16mm" wi="184.07mm" file="US07299357-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="234.27mm" wi="115.91mm" orientation="landscape" file="US07299357-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="234.78mm" wi="177.72mm" file="US07299357-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="150.79mm" wi="157.65mm" file="US07299357-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="247.23mm" wi="178.73mm" file="US07299357-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="119.21mm" wi="102.45mm" file="US07299357-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="193.55mm" wi="102.36mm" file="US07299357-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="211.50mm" wi="125.31mm" file="US07299357-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="187.88mm" wi="126.41mm" orientation="landscape" file="US07299357-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="147.07mm" wi="133.01mm" file="US07299357-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="243.25mm" wi="173.65mm" orientation="landscape" file="US07299357-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?RELAPP description="Other Patent Relations" end="lead"?>
<heading id="h-0001" level="1">RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This non-provisional patent application claims priority to U.S. provisional patent application No. 60/401,945, entitled “SYSTEM FOR TRANSMITTING RULE BASED STRUCTURES, SEMI-STRUCTURED AND UNSTRUCTURED DOCUMENTS”, filed on Aug. 7, 2003 and having common inventorship with the present application, which is hereby fully incorporated by reference.</p>
<?RELAPP description="Other Patent Relations" end="tail"?>
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of the Invention</p>
<p id="p-0004" num="0003">The present invention relates generally to the field of data processing. More specifically, the present invention relates to a system and method for secure data storage through opaque message archives.</p>
<p id="p-0005" num="0004">2. Background Information</p>
<p id="p-0006" num="0005">With advances in integrated circuit, microprocessor, networking and communication technologies, an increasing number of devices, in particular, digital computing devices, are being interconnected. This increased interconnectivity of computing devices has laid the groundwork for a communication infrastructure particularly well suited for electronic communications between such computing devices. More specifically, the increased interconnectivity of computing devices has led to the near ubiquitous adoption of electronic mail (email) as a standard mode of communication.</p>
<p id="p-0007" num="0006">In the past, electronic mail communications were limited to the exchange of text-based messages between a relatively small populous. Over time, however, email applications and associated communications protocols have become increasingly sophisticated enabling more complex messages to be exchanged between larger numbers of individuals. For example, in addition to enabling the exchange of simple text-messages, many modern day email clients allow users to exchange complex, multipart MIME (Multipurpose Internet Mail Extensions) encoded files as well as a wide variety of binary attachments. Furthermore, with the introduction of web-based email clients that utilize World Wide Web protocols, such as the hypertext transmission protocol (HTTP) for the exchange of messages, access to email has become even more prolific.</p>
<p id="p-0008" num="0007">Unfortunately, however, with increased email accessibility has come the need for improved security with respect to transmission and storage of messages and data. For example, although many existing email servers attempt to store email messages in a secure manner through techniques such as encryption, the access information needed to decrypt encrypted messages is typically co-located on the same server as the stored messages. Accordingly, anyone who is able to gain access to the storage server, whether it may be a system administrator or an unscrupulous hacker, will have access to the encrypted messages as well as access to the information needed to decrypt those messages. Thus, it should be readily apparent, that by storing the access information necessary to gain access to encrypted data on the same device as the encrypted data itself, the data may be susceptible to unauthorized viewing by anyone who is able to gain access to the storage server, whether sanctioned or otherwise. Furthermore, although many mail servers store secure messages on behalf of senders, even a larger number of mail servers store unsecured messages (and data) on behalf of senders. Accordingly, in the event that an unauthorized access did occur on a message storage server, it may be very difficult for the server operator to prove that a particular message or file was not accessed without authorization.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF DRAWINGS</heading>
<p id="p-0009" num="0008">The present invention will be described by way of exemplary embodiments, but not limitations, illustrated in the accompanying drawings in which like references denote similar elements, and in which:</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1</figref> illustrates an overview of a secure messaging system, including various logical device interactions in accordance with one embodiment of the invention;</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 2</figref> is a flow diagram illustrating an operational flow for secure message storage and server-based notification generation, in accordance with one embodiment of the invention;</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 3</figref> is a flow diagram illustrating an operational flow for secure message storage and sender-based notification generation, in accordance with one embodiment of the invention;</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a graphical representation of one embodiment of a secure message delivery dialog through which a sender may initiate delivery of a secure message to one or more recipients;</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 5</figref><i>a </i>illustrates a graphical representation of an example message notification designed for delivery to a recipient of a secure message, in accordance with one embodiment of the invention;</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref><i>b </i>illustrates example hypertext markup language code corresponding to message notification <b>550</b> of <figref idref="DRAWINGS">FIG. 5</figref><i>a; </i></p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref><i>a </i>illustrates a graphical representation of a secure message delivery dialog in which a sender can identify a predefined form to be delivered as a secure message to one or more recipients, in accordance with one embodiment of the invention;</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 6</figref><i>b </i>illustrates a graphical representation of an example “Pre-Visit Questionnaire” form as described above with respect to <figref idref="DRAWINGS">FIG. 6</figref><i>a; </i></p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 6</figref><i>c </i>illustrates a graphical representation of one embodiment of a secure message delivery dialog through which a sender may define a form or notification for post-delivery solicitation of data from one or more recipients;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 7</figref><i>a </i>illustrates an example message notification incorporating secure pre-delivery email solicitations in accordance with one embodiment of the present invention;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 7</figref><i>b </i>illustrates example HTML code that might be used to implement the message notification of <figref idref="DRAWINGS">FIG. 7</figref><i>a </i>in accordance with one embodiment;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 7</figref><i>c </i>is a flow diagram illustrating an operational flow for pre-delivery solicitation in accordance with one embodiment of the present invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 8</figref> is a flow diagram illustrating an operational flow for split encryption key storage in accordance with one embodiment of the invention;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 9</figref> is a flow diagram illustrating an operational flow for split encryption key storage in accordance with an alternative embodiment of the invention;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 10</figref> illustrates an example computer system suitable for use as a sending client or storage server for practicing the present invention;</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 11</figref> illustrates an enterprise based secure messaging system including various logical device interactions, in accordance with one embodiment of the invention; and</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 12</figref> illustrates domain relationships between a storage server and multiple message routing servers within a secure messaging system in accordance with one embodiment of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION</heading>
<p id="p-0027" num="0026">In the description to follow, various aspects of the present invention will be described, and specific configurations will be set forth. However, the present invention may be practiced with only some or all aspects, and/or without some of these specific details. In other instances, well-known features are omitted or simplified in order not to obscure the present invention.</p>
<p id="p-0028" num="0027">The description will be presented in terms of operations performed by a processor based device, using terms such as receiving, determining, rendering, displaying and the like, consistent with the manner commonly employed by those skilled in the art to convey the substance of their work to others skilled in the art. As is well understood by those skilled in the art, the quantities take the form of electrical, magnetic, or optical signals capable of being stored, transferred, combined, and otherwise manipulated through mechanical, electrical and/or optical components of the processor based device.</p>
<p id="p-0029" num="0028">Various operations will be described as multiple discrete steps in turn, in a manner that is most helpful in understanding the present invention, however, the order of description should not be construed as to imply that these operations are necessarily order dependent. In particular, these operations need not be performed in the order of presentation.</p>
<p id="p-0030" num="0029">The description repeatedly uses the phrase “in one embodiment”, which ordinarily does not refer to the same embodiment, although it may. Furthermore, the terms “comprising”, “including”, “having”, and the like, as used in the present application, are synonymous.</p>
<heading id="h-0005" level="1">Overview</heading>
<p id="p-0031" num="0030">In one embodiment, a storage server incorporated with the teachings of the present invention is employed to facilitate users of client devices in sending partially or fully secure email messages to one or more recipients. Similarly, a user (i.e. “sender”) of an email client (i.e. “sending client”) incorporated with the teachings of the present invention is able to compose an email message to be delivered to one or more recipients in either a fully secured or partially secured manner. Furthermore, the sender may employ one or more predefined or custom generated forms as a basis for the email message and/or a message delivery notification designed to alert the recipient(s) of the availability of the email message and any possible attachments. In one embodiment, a sender may require certain inputs to be entered by an intended recipient of a secure message (whether fully or partially secure), such as passwords or answers to survey questions, before the recipient may be provided with the secure email message. In one embodiment, the sender may elect to have the content of the delivered email be dependent upon the inputs provided by the recipient prior to delivery of the message. In a further embodiment, a split encryption key methodology is utilized in which secure messages or portions of messages are stored in an encrypted form on the storage server in conjunction with only a portion of the access information necessary to access a given secure message.</p>
<p id="p-0032" num="0031">In the following description including the claims, unless further particularized or otherwise noted, the term “message” is intended to broadly refer to electronic mail messages, attachments and/or data files in whole or in part, whether or not they comprise a text, binary, or otherwise encoded form, and whether or not they are transmitted via the Simple Mail Transport Protocol (SMTP), HTTP, file transfer protocol (FTP), trivial file transfer protocol (TFTP), or otherwise.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 1</figref> is a logical block diagram illustrating an overview of a secure messaging system in accordance with one embodiment of the present invention. In one embodiment, sending client <b>100</b> is equipped with a generic user agent to facilitate the composition and transmission of messages and/or data to one or more recipients <b>120</b>. In one embodiment, the user agent represents an electronic mail (email) client, such as “Outlook” from Microsoft Corporation or “Notes” from IBM Corporation, equipped to send and receive data and messages via SMTP and/or HTTP. In one embodiment, sending client <b>100</b> is further equipped with secure messaging services including message notification and form generation logic to facilitate the exchange of secure messages between sending client <b>100</b>, storage server <b>110</b>, and one or more recipients <b>120</b>, for example. The secure messaging services may be implemented as a plug-in, an application programming interface (API), or executable instructions integrated with or otherwise adjunct to the user agent.</p>
<p id="p-0034" num="0033">Storage server <b>110</b> represents a computing device equipped to receive communication requests from a sending client, and securely store one or more messages and/or data received from or identified by the sending client. In one embodiment, storage server <b>110</b> includes secure messaging services to encrypt messages/data on behalf of sending client <b>110</b>, and to generate one or more encryption keys to facilitate recipient access to the encrypted messages/data. In one embodiment, storage server includes message notification and form generation logic to generate message notifications designed to notify recipients of a message as to the existence of the message on storage server <b>110</b>.</p>
<p id="p-0035" num="0034">Recipients <b>120</b> represent one or more computing devices equipped with a generic user agent to receive and transmit network messages. In one embodiment, recipients <b>120</b> are equipped to receive SMTP based messages, and to both receive and transmit HTTP based requests.</p>
<p id="p-0036" num="0035">In the illustrated embodiment, sending client <b>100</b> transmits a request to storage server <b>110</b> to store an identified message (or portion of a message) in a secure manner (<b>50</b>). In one embodiment, the identified message is transmitted to storage server <b>110</b> in association with the request, whereas in another embodiment, sending client <b>100</b> merely indicates a message that has been previously stored by storage server <b>110</b>. In one embodiment, in response to the sending client's request (<b>50</b>), storage server <b>110</b> securely stores the identified message and generates access data associated with the securely stored message in the form of an access token. In one embodiment, storage server <b>110</b> securely stores the message by encrypting the message using a split encryption key having two or more key portions. In one embodiment, storage server <b>110</b> retains a first key portion and transmits a second key portion to the sending client. In other embodiments, however, storage server <b>110</b> may employ other means of securely storing the message besides encryption.</p>
<p id="p-0037" num="0036">Once generated, the access token is returned to sending client <b>100</b> by storage server <b>110</b> (<b>60</b>). In one embodiment, storage server <b>110</b> integrates the access token with a message notification before transmitting the integrated notification to sending client <b>100</b>. In another embodiment, storage server <b>110</b> transmits the access token to sending client <b>100</b> where the access token is then integrated with a message notification by sending client <b>100</b>. In various embodiments, the message notification may be selected from one or more predefined notifications or it may be dynamically or manually generated by storage server <b>110</b> and/or sending client <b>100</b>.</p>
<p id="p-0038" num="0037">Sending client <b>100</b> then transmits the integrated notification to one or more of recipients <b>120</b> to facilitate recipient access to the message (<b>70</b>). In one embodiment, message notifications are delivered from sending client <b>100</b> to one or more recipients <b>120</b> in the form of electronic mail messages using an email based communications protocol such as SMTP or X.400. Once a recipient has received a message notification (in e.g. their email inbox), the recipient may open and view the message notification as they would with any other email message. In one embodiment, the recipient may utilize a user input device such as a mouse to select a hyperlink or one or more controls incorporated within the notification to initiate retrieval of one or more corresponding secure messages stored by storage server <b>110</b>. In one embodiment, the access token is submitted to storage server <b>110</b> by one or more of recipients <b>120</b> in response to recipient input (<b>80</b>).</p>
<p id="p-0039" num="0038">In response to receiving the access token from the one or more recipient(s) <b>120</b>, storage server <b>110</b> transmits the corresponding secure message (or a portion thereof) to recipient(s) <b>120</b> (<b>90</b>). In one embodiment, communications between sending client <b>100</b> and storage server <b>110</b>, as well as communications between recipients <b>120</b> and storage server <b>110</b>, occur in accordance with a first communication protocol such as HTTP, whereas communications between sending client <b>100</b> and recipients <b>120</b> occur in accordance with a second communication protocol such as SMTP.</p>
<heading id="h-0006" level="1">Message and Notification Generation</heading>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 2</figref> is a flow diagram illustrating an operational flow for secure message storage and server-based notification generation, in accordance with one embodiment. In the illustrated embodiment, a message that is to be securely stored and delivered to one or more recipients in accordance with the teachings of the present invention is identified (by e.g. sending client <b>100</b>) to storage server <b>110</b>, (block <b>222</b>). In one embodiment, sending client <b>100</b> transmits the identified message to storage server <b>110</b>, whereas in another embodiment, sending client <b>100</b> merely identifies the message from amongst one or more messages previously stored by storage server <b>110</b>. Once the message has been identified to storage server <b>110</b>, storage server <b>110</b> encrypts the message (block <b>224</b>) and generates one or more access tokens corresponding to the encrypted message (block <b>226</b>). In one embodiment, each access token includes at least a portion of the access data needed for the one or more indicated recipients to access the message. In one embodiment, a single access token is generated for all recipients, whereas in an alternative embodiment, a recipient individualized access token is generated for each recipient. Storage server <b>110</b> then combines the access token(s) with one or more message notifications (block <b>228</b>). In one embodiment, a single message notification is generated for all recipients, whereas in another embodiment, recipient individualized message notifications are utilized. In one embodiment, storage server <b>110</b> combines the access token with an existing message notification, whereas in another embodiment server <b>110</b> generates a new message notification with which the token is then combined. Storage server <b>110</b> then transmits the token-enhanced (i.e. token integrated) notification to sending client <b>110</b> (block <b>230</b>), where it is further transmitted by sending client <b>110</b> to one or more of recipients <b>120</b> to facilitate access to the stored secure message by recipient(s) <b>120</b> (block <b>232</b>).</p>
<p id="p-0041" num="0040">In the process described in <figref idref="DRAWINGS">FIG. 2</figref>, the message notification was described as being generated and integrated with the access token by the server. In an alternative embodiment, the sending client integrates the server-generated access token with a message notification (whether it be pre-existing or dynamically generated). <figref idref="DRAWINGS">FIG. 3</figref> is a flow diagram illustrating an operational flow for secure message storage and sender-based notification generation, in accordance with one embodiment of the invention. In the illustrated embodiment, a message that is to be securely stored and delivered in accordance with the teachings of the present invention is first identified to storage server <b>110</b> (block <b>322</b>). In one embodiment, sending client <b>100</b> transmits the identified message to storage server <b>110</b>, whereas in another embodiment, sending client <b>100</b> identifies the message from amongst one or more messages previously stored by storage server <b>110</b>. Once the message has been identified by storage server <b>110</b>, storage server <b>110</b> encrypts the message (block <b>324</b>) and generates one or more access tokens corresponding to the encrypted message (block <b>326</b>). In one embodiment, the one or more access tokens include at least a portion of the access data needed to access the message. Once an access token is generated, storage server <b>110</b> transmits the token back to sending client <b>100</b> (block <b>328</b>) where the token is integrated with a message notification by sending client <b>100</b> (block <b>330</b>). Thereafter, sending client <b>100</b> transmits the integrated message notification to one or more designated recipients (block <b>332</b>)</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 4</figref> illustrates a graphical representation of one embodiment of a secure message delivery dialog through which a sender may initiate delivery of a secure message to one or more recipients. The sender may manifest their intent to have a particular message or attachment delivered in a secure manner through one or more graphical icons or controls such as “Send Secure” button <b>448</b> as shown in <figref idref="DRAWINGS">FIG. 4</figref>. In the illustrated embodiment, the sender may provide one or more addresses corresponding to one or more of message recipients <b>120</b> in the “To” data entry field <b>440</b>, as well as the subject matter of the message in the “Subject” data entry field <b>442</b>. In one embodiment, the sender may enter free-form text in message window <b>446</b> that may be stored by storage server <b>110</b> as part of a secure message, or that may be incorporated as part of a message notification. Additionally, the sender may identify one or more attachments, e.g. via attachment field <b>444</b>, that are to be securely stored and delivered by storage server <b>110</b> in association with the secure message.</p>
<p id="p-0043" num="0042">In one embodiment, as a result of the sender opting to deliver a message in a secure manner, sending client <b>100</b> transmits an HTTP based request to storage server <b>110</b> that includes the body of the message and optionally, any attachments that might accompany the message. The request may be characterized by a single exchange between sending client <b>100</b> where the message is transmitted to storage server <b>110</b> along with the request, or by a series of exchanges between sending client <b>100</b> and storage server <b>110</b> where the message is transmitted by sending client <b>100</b> at some point after an initial connection is established with storage server <b>110</b>.</p>
<p id="p-0044" num="0043">In one embodiment of the invention, storage server <b>110</b> generates message notifications to notify indicated recipients as to the presence of a secure message awaiting delivery to the recipients. <figref idref="DRAWINGS">FIG. 5</figref><i>a </i>illustrates a graphical representation of an example message notification designed for delivery to a recipient of a secure message, in accordance with one embodiment of the invention. As shown, message notification <b>550</b> includes notification window <b>556</b>, having a text-based notification displayed therein. In the illustrated embodiment, the text based notification includes hyperlink <b>557</b>, which when selected by a recipient, causes an access token associated with the corresponding secure message to be transmitted to storage server <b>110</b>.</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 5</figref><i>b </i>illustrates example hypertext markup language code corresponding to message notification <b>550</b> of <figref idref="DRAWINGS">FIG. 5</figref><i>a</i>. In the illustrated example, upon a recipient selecting hyperlink <b>557</b> of <figref idref="DRAWINGS">FIG. 5</figref><i>a</i>, token <b>558</b> is submitted to storage server <b>110</b> (as identified by URL <b>559</b>) via the secure hypertext transmission protocol (HTTPS).</p>
<p id="p-0046" num="0045">In accordance with one embodiment of the invention, secure message notifications may be selected by e.g. a sender from a group of predefined message notifications or dynamically generated based upon one or more properties or characteristics associated with the corresponding secure message, or based upon metadata that may accompany the message. In one embodiment, a message notification may be based on characteristics such as the identity of the sender or recipients, network domains associated with the sender or recipients, the message subject, the time that the message was sent, length of the message, and so forth. For example, storage server <b>110</b> might generate a message notification containing a particular branded logo for each secure message that is transmitted by an employee of a corresponding company/subsidiary. Similarly, storage server <b>110</b> might generate a message notification conveying a patriotic “look and feel” that is to be used in conjunction with secure messages transmitted e.g. on July fourth.</p>
<p id="p-0047" num="0046">In one embodiment of the invention, storage server <b>110</b> contains predefined forms that may be identified for secure delivery to one or more recipients. <figref idref="DRAWINGS">FIG. 6</figref><i>a </i>illustrates a graphical representation of a secure message delivery dialog in which a sender can identify a predefined form to be delivered as a secure message to one or more recipients, in accordance with one embodiment of the invention. The secure message delivery dialog illustrated in <figref idref="DRAWINGS">FIG. 6</figref><i>a </i>is similar to the secure message delivery dialog depicted in <figref idref="DRAWINGS">FIG. 4</figref>, except the secure message delivery dialog of <figref idref="DRAWINGS">FIG. 6</figref><i>a </i>includes form identification facilities, such as pull-down control <b>665</b>, that includes the names of available forms stored on storage server <b>110</b>. In one embodiment, the sender may select a predefined form and optionally provide supplemental information (such as text or graphics via e.g. message window <b>666</b>) to be associated with the form. In one embodiment, storage server <b>110</b> may intersperse the supplemental information with the selected form to create a combined secure message to be stored by storage server <b>110</b>. In another embodiment of the invention, storage server <b>110</b> may utilize the supplemental information to generate all or a portion of the message notification associated with the secure message.</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 6</figref><i>b </i>illustrates a graphical representation of an example “Pre-Visit Questionnaire” form as described above with respect to <figref idref="DRAWINGS">FIG. 6</figref><i>a</i>. As shown, form <b>670</b> includes a number of data entry facilities for soliciting post-delivery data from a recipient (i.e. data that is solicited from a recipient after delivery of an associated message). In the illustrated embodiment, form <b>670</b> includes a number of graphical controls through which a patient/recipient, for example, can provide information to a doctor/sender regarding an upcoming office visit by the patient to the doctor. In the illustrated embodiment, the patient can provide the requested data and submit the data to storage server <b>110</b> by e.g. selecting submit button <b>675</b>. In one embodiment of the invention, a hidden control is additionally utilized to facilitate submission of recipient individualized information in the form of an access token to the storage server in association with a corresponding form.</p>
<p id="p-0049" num="0048">In addition to predefined forms, a sender can cause a custom form (or notification) to be generated, whether by the storage server or by the sending client, in order to facilitate post-delivery solicitation of data from one or more message recipients. In one embodiment, a sending client submits metadata to the storage server to facilitate generation of the form by the server.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 6</figref><i>c </i>illustrates a graphical representation of one embodiment of a secure message delivery dialog through which a sender may define a form or message notification for post-delivery solicitation of data from one or more recipients. In the illustrated embodiment, a sender can initiate the custom form generation process by e.g. selecting a graphical control such as “define form” button <b>678</b>. In one embodiment, in response to a sender's input, form definition table <b>680</b> may be displayed to facilitate entry of definitional metadata by a sender, however other automatic and manual metadata and/or form definition techniques such as hand-coding of HTML may be used.</p>
<p id="p-0051" num="0050">In one embodiment, form data provided by the sender, such as that provided via table <b>680</b>, is transmitted to storage server <b>110</b>, which in turn utilizes the data to generate a corresponding form. In one embodiment, storage server <b>110</b> may update or supplement the generated form or form data based upon one or more rules, dependencies or heuristics, for example. After the form has been generated, storage server <b>110</b> stores the form in a secure manner and returns at least a portion of the access data corresponding to the form to sending client <b>100</b>, as described above. Sending client <b>100</b> then delivers the access data to one or more recipients <b>120</b> in association with a message notification generated by the sending client or the server. The recipient(s) may then retrieve the form using the access data, and provide the solicited information accordingly. In one embodiment, upon provision by the recipients of the solicited for data, the form data is submitted to the server for processing.</p>
<p id="p-0052" num="0051">In an alternative embodiment, the sending client rather than server <b>110</b> uses the form data provided by the sender, such as via table <b>680</b>, to generate the custom form. The sending client then returns all or a portion of the form to the server for secure storage, and the server returns access information associated with the stored form to the sending client. In one embodiment, the sending client then packages the remaining (i.e. non-secure) portion of the form along with the non-secure information, and delivers the package to the recipients. In one embodiment, portions of a message or document that are going to be encrypted or otherwise stored in a secure manner are stored on the server, whereas messages or portions of a message or document that are to remain non-secure are retained on the sending client.</p>
<heading id="h-0007" level="1">Pre-Delivery Solicitation</heading>
<p id="p-0053" num="0052">In one embodiment of the invention, a sender may solicit pre-delivery information (i.e. data that is solicited from a recipient before delivery of an associated message) from one or more recipients. In one embodiment, a sender may require that certain inputs, such as passwords or answers to survey questions, be entered by an intended recipient of a secure message before the recipient may be provided with the secure email message. Moreover, in one embodiment, the sender may elect to have the content of the delivered email be dependent upon the inputs provided by the recipient prior to delivery of the message. In one embodiment, the storage server utilizes one or more scripting technologies, such as active server pages (ASP) or common gateway interface (CGI) scripting, to dynamically determine a message or portion of a message to be delivered to one or more identified recipients based upon the inputs provided.</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 7</figref><i>a </i>illustrates an example message notification incorporating secure pre-delivery email solicitations in accordance with one embodiment of the present invention. As shown, message notification <b>700</b> includes notification text <b>710</b>, pre-delivery solicitation <b>715</b>, and data input controls <b>720</b> and <b>722</b>. Notification text <b>710</b> is designed to notify one or more recipients as to the presence of a secure message available for retrieval by the recipient(s), while pre-delivery solicitation <b>715</b> is designed to solicit information from the recipient prior to delivery of the secure message, and data input controls <b>720</b> and <b>722</b> are designed to facilitate data entry and submission by the recipient(s). In one embodiment, the storage server is equipped to receive the data submission, determine an appropriate message based upon the submission, and deliver the determined message to the recipients accordingly. For example, if a recipient were to indicate through e.g. data input control <b>720</b> that they were not pregnant, the server might return a message that reads: “OUR RECORDS INDICATE THAT YOU ARE DUE FOR A VACCINATION BOOSTER SHOT. PLEASE MAKE AN APPOINTMENT WITH OUR OFFICE IMMEDIATELY.” On the other hand, if a recipient were to indicate that they were pregnant, the server might return a message that reads: “OUR RECORDS INDICATE THAT YOU ARE DUE FOR A VACCINATION BOOSTER SHOT. HOWEVER, SINCE YOU ARE PREGNANT, YOU MAY WISH TO DELAY THE VACCINATION UNTIL 3 MONTHS AFTER YOUR DELIVERY DATE.” Thus, the content of the delivered email can be dependent upon the input provided by the recipient prior to delivery of the stored message.</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 7</figref><i>b </i>illustrates example HTML code that could be used to implement the message notification of <figref idref="DRAWINGS">FIG. 7</figref><i>a </i>in accordance with one embodiment. As shown in the illustrated embodiment, a FORM element (<b>724</b>) is utilized to gather recipient input data that is then submitted via a POST method (<b>730</b>) to a storage server corresponding to the address (<b>728</b>) associated with the ACTION attribute (<b>726</b>). In the illustrated embodiment, a simple drop-down menu selection is utilized to receive recipient input and return the input to the storage server. In one embodiment, a hidden field may be used to transmit an access token, such as a recipient individualized token or encryption key to the storage server as follows: &lt;INPUT TYPE=“hidden” NAME=“Token” VALUE=“{access token}”&gt;. In other embodiments, a wide variety of data input controls and interfaces might be utilized. For example, a sender may require recipients to be authenticated via a password before the recipients are able to retrieve the message.</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 7</figref><i>c </i>is a flow diagram illustrating an operational flow for pre-delivery solicitation in accordance with one embodiment of the present invention. In the illustrated embodiment, the process begins with the sender delivering a message notification form including data solicitation facilities to one or more recipients (block <b>732</b>). In one embodiment, the sending client generates the message notification form, whereas in an alternative embodiment, the storage server generates the message notification. Once the notification is received, the recipient views the form on e.g. a display device (block <b>734</b>), provides input data in response to the solicitation, and submits the form to the storage server (block <b>736</b>). In response, the storage server then determines the message to be delivered based on the pre-delivery submission of data by recipient (block <b>738</b>).</p>
<heading id="h-0008" level="1">Opaque Archives</heading>
<p id="p-0057" num="0056">As was previously mentioned above with respect to various embodiments of the invention, the storage server of the present invention stores messages and data in a secure manner on behalf of a sender for delivery to one or more recipients. In prior message storage arrangements, where encryption techniques are used to store data on a central server, it was often the case that the access information (such as an encryption key) necessary to access the stored data was stored on the same server as the data. These ‘secure storage’ schemes are premised on the idea that the storage server itself is secure notwithstanding the fact that server administrators are typically granted full access to the data stored on a managed server, and the fact that server is always susceptible to an attack by a hacker. Because the encrypted files and the access information (such as the encryption keys) necessary to access the files have historically been stored together on the same server, the files stored on such a server are inherently at risk to unauthorized access.</p>
<p id="p-0058" num="0057">In another aspect of the present invention, a split or partial encryption key methodology is utilized in which a first encryption key portion is retained by the server and a second encryption key portion is delivered to a recipient to facilitate access by the recipient to a corresponding message or other electronic document. In one embodiment of the invention, the server transmits the second encryption key portion to the sending client of the message, which in turn, delivers the second encryption key portion to a recipient in association with a message notification. Although for the purpose of clarity, the following description focuses primarily on an embodiment of the present invention in which two encryption key portions are utilized, the teachings herein may be extended to the use of multiple (i.e. more than two) key portions without departing from the intended spirit and scope of the invention.</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 8</figref> is a flow diagram illustrating an operational flow for split encryption key storage in accordance with one embodiment of the invention. In the illustrated embodiment, the process begins with a sending client transmitting a message (or portion of a message) that is to be stored in a secure manner to a storage server (block <b>802</b>). In one embodiment, the sending client additionally generates a randomized seed value, such as a globally unique identifier (GUID), and transmits the seed value to the storage server in association with the message. However, in other embodiments, the storage server may itself generate the randomized seed value or alternatively, no seed value need be used. Once the message has been received, the storage server then generates a split encryption key including at least a first encryption key portion and a second encryption key portion (block <b>804</b>). In one embodiment, one or more hash functions are applied to the randomized seed value to generate the first and second encryption key portions, which when combined, form the split encryption key. In an alternative embodiment, a first hash function is used to generate a single encryption key that is then bifurcated into the first encryption key portion and the second encryption key portion. Next, the storage server uses the split encryption key to encrypt and store the message (block <b>806</b>). Once the message has been encrypted, the storage server transmits the first key portion to the sending client, removes the first key portion from the server, and stores the second key portion (block <b>808</b>). In turn, the sending client transmits the first key portion to one or more designated recipients to facilitate recipient access to and decryption of the stored and encrypted message (or portion of message) (block <b>810</b>).</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 9</figref> is a flow diagram illustrating an operational flow for split encryption key storage in accordance with an alternative embodiment of the invention. In the illustrated embodiment, the process begins with the sending client requesting the storage server to encrypt a message or a portion of a message. In one embodiment, the request may be accompanied by a variety of metadata to be used by the storage server in conjunction with the message encryption process. For example, the metadata may be used by the storage server to facilitate message notification generation and/or form generation, rule definitions, data dependencies and/or heuristic definitions, and so forth. In one embodiment, the request may further include a randomized seed value such as a GUID.</p>
<p id="p-0061" num="0060">After receiving the request, the server generates a message identifier to be associated with and to uniquely identify the message. Additionally, the server generates a split encryption key including at least a first key portion and a second key portion to be used to encrypt the message (block <b>904</b>). In one embodiment, the message identifier represents a randomized seed value received in association with the sending client's request. In one embodiment, the storage server generates one recipient-individualized token for each recipient identified or enumerated to the storage server by the sending client. In one embodiment, each individualized token is associated with the message identifier and includes an obfuscated combination of the first encryption key portion and a recipient individualized identifier, in which the recipient individualized identifier may e.g. represent an email address or other means of differentiating one recipient from another.</p>
<p id="p-0062" num="0061">The storage server then returns the message identifier and the first encryption key portion to the sending client, and removes the first encryption key portion from the storage server (block <b>906</b>). In one embodiment, the storage server also returns the one or more recipient individualized tokens to the sending client. In response, the sending client transmits the message to the storage server in association with the message identifier and the first encryption key portion (block <b>908</b>). The storage server then compares the message identifier received from the sending client with one or more message identifiers known to the storage server in order to identify/determine the second encryption key portion associated with the message identifier(s) and, in turn, the message (block <b>910</b>). The storage server then uses the first and second encryption key portions to encrypt and store the message (block <b>911</b>). Additionally, the sending client delivers a message notification, including at least the first encryption key portion, to one or more intended recipients to facilitate recipient access to the stored message (block <b>912</b>). In one embodiment, the message notification (whether generated in whole or in part by the sending client or the storage server) includes a recipient individualized token.</p>
<p id="p-0063" num="0062">In one embodiment, each recipient access is logged by the storage server and associated with the message identifier. In one embodiment, the sending client deposits the message identifier and the first encryption key portion into one or more of the sending client's mail folders, such as a sent mail folder, for use e.g. in obtaining log information about the associated message such as whether a recipient has read the message or forwarded to message to another recipient.</p>
<heading id="h-0009" level="1">Example Client System</heading>
<p id="p-0064" num="0063"><figref idref="DRAWINGS">FIG. 10</figref> illustrates an example computer system suitable for use as a sending client or storage server in accordance with the teachings of the present invention. As shown, example computer system <b>1000</b> includes processor <b>1002</b>, ROM <b>1003</b> including basic input/output system (BIOS) <b>1005</b>, and system memory <b>1004</b> coupled to each other via “bus” <b>1006</b>. Also coupled to “bus” <b>1006</b> are non-volatile mass storage <b>1008</b>, display device <b>1010</b>, cursor control device <b>1012</b> and communication interface <b>1014</b>. During operation, memory <b>1004</b> may include working copies of operating system <b>11022</b>, and secure messaging services <b>11024</b>. In the case of the sending client, secure messaging services <b>11024</b> include message notification and form generation logic of the present invention to facilitate the exchange of secure messages between a sending client, storage server, and one or more recipients. In the case of a storage server, messaging services <b>11024</b> facilitate storage and encryption of messages/data on behalf of sending client, and the generation of one or more encryption keys to facilitate recipient access to the encrypted messages/data.</p>
<p id="p-0065" num="0064">Except for the teachings of the present invention as incorporated herein, each of these elements may represent a wide range of these devices known in the art, and otherwise performs its conventional functions. For example, processor <b>1002</b> may be a processor of the Pentium® family available from Intel Corporation of Santa Clara, Calif., which performs its conventional function of executing programming instructions of operating system <b>11022</b> and secure messaging services <b>11024</b>, including those implementing the teachings of the present invention. ROM <b>1003</b> may be EEPROM, Flash and the like, and memory <b>1004</b> may be SDRAM, DRAM and the like, from semiconductor manufacturers such as Micron Technology of Boise, Id. Bus <b>1006</b> may be a single bus or a multiple bus implementation. In other words, bus <b>1006</b> may include multiple properly bridged buses of identical or different kinds, such as Local Bus, VESA, ISA, EISA, PCI and the like.</p>
<p id="p-0066" num="0065">Mass storage <b>1008</b> may represent disk drives, CDROMs, DVD-ROMs, DVD-RAMs and the like. Typically, mass storage <b>1008</b> includes the permanent copy of operating system <b>11022</b> and secure messaging services <b>11024</b>. The permanent copy may be downloaded from a distribution server through a data network (such as the Internet), or installed in the factory, or in the field. For field installation, the permanent copy may be distributed using one or more articles of manufacture such as diskettes, CDROM, DVD and the like, having a recordable medium including but not limited to magnetic, optical, and other mediums of the like.</p>
<p id="p-0067" num="0066">Display device <b>1010</b> may represent any of a variety of display types including but not limited to a CRT and active/passive matrix LCD display, while cursor control <b>1012</b> may represent a mouse, a touch pad, a track ball, a keyboard, and the like to facilitate user input. Communication interface <b>1014</b> may represent a modem interface, an ISDN adapter, a DSL interface, an Ethernet or Token ring network interface and the like.</p>
<heading id="h-0010" level="1">Enterprise-Based Opaque Archives</heading>
<p id="p-0068" num="0067">In accordance with a further aspect of the invention, an enterprise based secure messaging system will now be described. <figref idref="DRAWINGS">FIG. 11</figref> illustrates an enterprise based secure messaging system including various logical device interactions, in accordance with one embodiment of the invention. The enterprise based messaging system of <figref idref="DRAWINGS">FIG. 11</figref> is similar in form to the messaging system of <figref idref="DRAWINGS">FIG. 1</figref>, except that message routing server <b>1104</b> and local mail server <b>1102</b> have been inserted between sending client <b>1100</b> and <b>1101</b> and storage server <b>110</b>. In accordance with one embodiment of the invention, local mail server <b>1102</b> represents a server equipped with electronic mail services, such as those provided by Exchange from Microsoft Corporation or Domino from IBM Corporation, to receive outgoing message transmission requests from clients <b>1100</b> and <b>1101</b>., to receive incoming messages to be delivered to clients <b>1100</b> and <b>1101</b>, and to temporarily store or queue both the outgoing and incoming messages until such time that the message destination domains/devices can be determined and contacted.</p>
<p id="p-0069" num="0068">Message routing server <b>1104</b> represents a server that routes mail traffic from local mail server <b>1102</b> (and sending clients <b>1100</b> and <b>1101</b>) to storage server <b>110</b> and recipients <b>120</b>, much like a mail gateway. In one embodiment, outgoing messages from local mail server <b>1102</b> are first directed to message routing server <b>1104</b> before they are delivered to storage server <b>110</b> or recipients <b>120</b>. In one embodiment, message routing server <b>1104</b> proxies the functionality of sending client <b>100</b> of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0070" num="0069">In one embodiment of the invention, a sender corresponding to either sending client <b>1100</b> or <b>1101</b> composes an SMTP-based electronic mail message addressed to one or more recipients <b>120</b>, that is first delivered to local mail server <b>1102</b> (<b>10</b>). In one embodiment, local mail server <b>1102</b> unconditionally transmits (e.g. via redirection or forwarding) messages it receives to message routing server <b>1104</b>, whereas in another embodiment, mail server <b>1102</b> may transmit messages to message routing server <b>1104</b> based upon whether or not the message is to be stored and delivered in a secure manner by storage server <b>110</b>. In another embodiment of the invention, sending client <b>1100</b>/<b>1101</b> transmits an HTTP-based request directly (e.g. via a browser application) to message routing server <b>1104</b> identifying the message to be securely stored and delivered, effectively bypassing local mail server <b>1102</b> (<b>15</b>).</p>
<p id="p-0071" num="0070">In one embodiment of the invention, message routing server <b>1104</b> determines (based e.g. upon a variety of criteria such as source or destination address, content of the message, size of the message . . . etc.) whether a particular message is to be stored and delivered by storage server <b>110</b> in a secure manner. In one embodiment, the SMTP or HTTP-based message includes an identifier (e.g. in an associated header field) that indicates to message routing server <b>1104</b> whether the message is to be securely stored and delivered in accordance with the teachings of the present invention.</p>
<p id="p-0072" num="0071">If it is determined that an identified message is to be securely stored and delivered, message routing server <b>1104</b> transmits a request to storage server <b>110</b> to store the identified message (or portion of a message) securely (<b>50</b>). In one embodiment, in response to the request of message routing server <b>1104</b>, storage server <b>110</b> securely stores the identified message and generates access data associated with the securely stored message. In one embodiment, the access data is represented by an access token that may include just the access data or supplemental information in addition to the access data. In one embodiment, storage server <b>110</b> encrypts the message using a split encryption key having two or more key portions, with storage server <b>110</b> retaining a first key portion and transmitting a second key portion to the sending client. In other embodiments, however, storage server <b>110</b> may employ other means of securely storing the message besides encryption.</p>
<p id="p-0073" num="0072">Once generated, the access token is returned to message routing server <b>1104</b> by storage server <b>110</b> (<b>60</b>). In one embodiment, storage server <b>110</b> combines/integrates the access token with a message notification and transmits the integrated message notification to message routing server <b>1104</b>. In another embodiment, storage server <b>110</b> transmits the access token to message routing server <b>1104</b> where message routing server <b>1104</b> integrates the access token with a message notification. In various embodiments, the message notification may be selected from one or more predefined notifications or it may be dynamically or manually generated by storage server <b>110</b> and/or message routing server <b>1104</b>. In one embodiment, where multiple such message routing servers are utilized by various subsidiaries of a parent company for example, each message routing server can be configured to generate subsidiary-specific notifications notwithstanding that the message routing servers are each associated with the same storage server.</p>
<p id="p-0074" num="0073">Once the access token is returned to message routing server <b>1104</b>, message routing server <b>1104</b> transmits the integrated notification to one or more of recipients <b>120</b> to facilitate recipient access to the message (<b>70</b>). In one embodiment, message notifications are delivered from message routing server <b>1104</b> to one or more recipients <b>120</b> in the form of an electronic mail messages using an email based communications protocol such as SMTP or X.400. Once a recipient has received a message notification in e.g. their email inbox, the recipient may open and view the message notification as they would with any other email message. In one embodiment, the recipient may utilize a user input device such as a mouse to select a hyperlink or one or more controls incorporated within the notification to initiate retrieval of one or more corresponding secure messages stored by storage server <b>110</b>. In one embodiment, the token is submitted to storage server <b>110</b> by one or more of recipients <b>120</b> in response to recipient input (<b>80</b>).</p>
<p id="p-0075" num="0074">In response to receiving the access token from the one or more recipients <b>120</b>, storage server <b>110</b> then transmits the corresponding secure message (or a portion thereof) to one or more indicated recipients <b>120</b> (<b>90</b>). In one embodiment, communications between message routing server <b>1104</b> and storage server <b>110</b>, as well as communications between recipients <b>120</b> and storage server <b>110</b>, occur in accordance with a first communication protocol such as HTTP, whereas communications between message routing server <b>1104</b> and recipients <b>120</b> occur in accordance with a second communication protocol such as SMTP.</p>
<p id="p-0076" num="0075">In one embodiment, in addition to storage server <b>110</b> returning the access token to message routing server <b>1104</b> (<b>60</b>), storage server <b>110</b> further returns one or more control parameters or instructions to message routing server <b>1104</b> to indicate whether any ‘post-processing’ in association with the message is to be performed. In one embodiment, storage server <b>110</b> returns one or more control parameters or instructions to message routing server <b>1104</b> to cause message routing server (e.g. via local mail server <b>1102</b> or directly) to return a message to sending client <b>1100</b>/<b>1101</b> that includes an access token to facilitate client <b>1100</b>/<b>1101</b> in accessing information as to the status of the corresponding message. In one embodiment, message routing server <b>1104</b> returns a message identifier (described above with respect to Opaque Archives) and the first encryption key portion to the sending client <b>1100</b>/<b>1101</b> for use e.g. by the sender in obtaining log information about the associated message such as whether a recipient has read the message or forwarded to message to another recipient.</p>
<p id="p-0077" num="0076">Due to the influx of unsolicited email messages (or SPAM) that has proliferated throughout the Internet, many mail servers have been configured to perform what are referred to as reverse domain name service (or reverse DNS) lookups. Each of these lookups typically entails a mail server determining the identity of a sending client through examination of data contained within or indicated by the “to” field appearing in the message header. The mail server then compares the address or domain corresponding to the determined sending client with the network address of the device from where the message originates (e.g. as determined by the address associated with the device that opened the SMTP port connection). If the two addresses/domains differ, the receiving mail server assumes the message has been relayed without authorization, designates the message as SPAM and rejects the message accordingly.</p>
<p id="p-0078" num="0077">To facilitate delivery of the message delivery notifications to recipients behind certain firewalls for example, without each notification being characterized as SPAM, each message routing server <b>1104</b> is co-located within the same domain of the sending client it supports. <figref idref="DRAWINGS">FIG. 12</figref> illustrates domain relationships between a storage server and multiple message routing servers within a secure messaging system in accordance with one embodiment of the invention. As shown, storage server <b>110</b> located in network domain <b>1202</b> is communicatively coupled to message routing servers <b>1104</b><i>a</i>-<i>b</i>. Each of message routing servers <b>1104</b><i>a</i>-<i>b </i>is in turn communicatively coupled to local mail servers <b>1102</b><i>a</i>-<i>b </i>and <b>103</b><i>a</i>-<i>b</i>, and sending clients <b>100</b><i>a</i><b>1</b>-<i>a</i><b>4</b> and <b>100</b><i>b</i><b>1</b>-<i>b</i><b>4</b>. Message routing server <b>1104</b><i>a </i>is co-located with local mail servers <b>1102</b><i>a </i>and <b>103</b><i>a</i>, and sending clients <b>100</b><i>a</i><b>1</b>-<i>a</i><b>4</b>, within domain <b>1204</b>, and message routing server <b>1104</b><i>b </i>is co-located with local mail servers <b>1102</b><i>b </i>and <b>103</b><i>b</i>, and sending clients <b>100</b><i>b</i><b>1</b>-<i>b</i><b>4</b> within network domain <b>1206</b>. Because message notifications are transmitted (e.g. via message routing server <b>1104</b><i>a</i>-<i>b</i>) from the same domain from which they originate (e.g. via sending clients <b>100</b><i>a</i><b>1</b>-<i>a</i><b>4</b> and <b>100</b><i>b</i><b>1</b>-<i>b</i><b>4</b>), a reverse DNS lookup performed on an associated message will not cause the message to be rejected by the receiving system.</p>
<heading id="h-0011" level="1">Epilog</heading>
<p id="p-0079" num="0078">While the present invention has been described in terms of the above-illustrated embodiments, those skilled in the art will recognize that the invention is not limited to the embodiments described. The present invention can be practiced with modification and alteration within the spirit and scope of the appended claims. Thus, the description is to be regarded as illustrative instead of restrictive on the present invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. In a server, a method comprising:
<claim-text>receiving from a sending client, a request to encrypt at least a first portion of a message generated by the sending client;</claim-text>
<claim-text>generating a split encryption key comprising at least a first key portion and a second key portion;</claim-text>
<claim-text>encrypting at least the first portion of the message, using the split encryption key;</claim-text>
<claim-text>providing the first key portion to the sending client; storing the encrypted portion of the message and the second key portion on the server;</claim-text>
<claim-text>discarding the first key portion from the server;</claim-text>
<claim-text>generating, by the server, a first identifier uniquely identifying the message;</claim-text>
<claim-text>generating, by the server, one or more recipient-individualized tokens before the first key portion is discarded from the server, each recipient-individualized token comprising a corresponding recipient-individualized identifier and the first key portion;</claim-text>
<claim-text>associating, by the server, each of the recipient-individualized tokens with the first identifier; and</claim-text>
<claim-text>providing the one or more recipient-individualized tokens to the sending client, the one or more recipient-individualized tokens to be provided by the sending client to corresponding one or more recipients to facilitate access by the one or more recipients to at least the first portion of the message.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein each of the one or more recipient-individualized tokens comprises an obfuscated combination of a corresponding recipient-individualized identifier and the first key portion.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the first key portion and the first identifier are generated based at least in part upon a randomized seed value, and the randomized seed value is discarded from the server after generation of the first and second key portions.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the randomized seed value is received from the sending client.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein the randomized seed value comprises a globally unique identifier (GUID).</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the randomized seed value is generated by the server.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein generating a split encryption key comprises:
<claim-text>applying a first hash function to the randomized seed value to form the first key portion; and</claim-text>
<claim-text>applying a second hash function to the randomized seed value to form the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein generating a split encryption key comprises:
<claim-text>applying a hash function to the randomized seed value to form an encryption key; and</claim-text>
<claim-text>bifurcating the encryption key to form the first key portion and the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. In a server, a method comprising:
<claim-text>generating a split encryption key to encrypt a message generated by a sending client, the split encryption key comprising at least a first key portion and a second key portion;</claim-text>
<claim-text>generating a message identifier corresponding to the message;</claim-text>
<claim-text>generating a recipient-individualized token comprising the first key portion;</claim-text>
<claim-text>associating the recipient-individualized token with a recipient-individualized message identifier;</claim-text>
<claim-text>providing the message identifier, the first key portion, and the recipient-individualized token to the sending client, the recipient-individualized token to be provided by the sending client to a corresponding recipient to facilitate access by the recipient to the message;</claim-text>
<claim-text>storing the encrypted message and the second key portion on the server; and</claim-text>
<claim-text>discarding the first key portion from the server.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein encrypting comprises:
<claim-text>receiving from the sending client, the message to be encrypted, the message identifier, and the first key portion;</claim-text>
<claim-text>identifying the second key portion based at least in part upon the message identifier; and</claim-text>
<claim-text>encrypting the message using a combination of the first and second key portions.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The method of <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein the split encryption key and the message identifier are each generated based at least in part upon a randomized seed value.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the randomized seed value is received from the sending client.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The method of <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein the randomized seed value comprises a globally unique identifier (GUID).</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the randomized seed value is generated by the server.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein generating a split encryption key comprises:
<claim-text>applying a first hash function to the randomized seed value to form the first key portion; and</claim-text>
<claim-text>applying a second hash function to the randomized seed value to form the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein generating a split encryption key comprises:
<claim-text>applying a hash function to the randomized seed value to form the encryption key; and</claim-text>
<claim-text>bifurcating the encryption key to form the first key portion and the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00011">claim 11</claim-ref>, further comprising:
<claim-text>discarding the randomized seed value from the server once the message has been encrypted.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the message is received from the sending client.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the message is stored on the server.</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the recipient-individualized token comprises an obfuscated combination of a corresponding recipient-individualized identifier and the first key portion.</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. In a sending client, a method comprising:
<claim-text>sending to a server, a request to encrypt at least a first part of a message generated by the sending client,</claim-text>
<claim-text>receiving from the server, a message identifier corresponding to the message, and a first key portion of a split encryption key to be used by the server to encrypt the message;</claim-text>
<claim-text>sending at least the first part of the message to the server in association with the message identifier and the first key portion, wherein
<claim-text>at least the first part of the message is encrypted on the server by using the split encryption key, the encrypted part of the message and a second key portion of the split encryption key are stored on the server, and the first key portion is discarded from the server;</claim-text>
</claim-text>
<claim-text>sending the first key portion to one or more recipients to facilitate access by the one or more recipients to at least the first part of the message from the server;</claim-text>
<claim-text>enumerating the one or more recipients to the server; and</claim-text>
<claim-text>receiving a corresponding one or more recipient-individualized tokens from the server, each recipient-individualized token comprising a corresponding recipient-individualized identifier and the first key portion, wherein the recipient-individualized identifier is associated with the message identifier and each recipient-individualized token is generated before the first key portion is discarded from the server.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The method of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein sending the first key portion to one or more recipients comprises sending the one or more recipient-individualized tokens to the one or more recipients.</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. The method of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein the first key portion and the message identifier are each generated by the server based at least in part upon a randomized seed value.</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the randomized seed value is generated by the sending client.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The method of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the randomized seed value is generated by the server.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The method of <claim-ref idref="CLM-00021">claim 21</claim-ref>, further comprising:
<claim-text>depositing the message identifier and the first key portion into a mail folder on the sending client.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. In a sending client, a method comprising:
<claim-text>transmitting to a server, a request for at least a first part of a message generated by the sending client to be encrypted, the request including a randomized seed value and one or more recipient identifiers enumerating one or more intended message recipients;</claim-text>
<claim-text>receiving from the server, a message identifier corresponding to the message, a first key portion of a split encryption key to be used by the storage server to encrypt at least the first part of the message, and one or more recipient-individualized tokens comprising a corresponding recipient-individualized identifier and the first key portion, the message identifier and the first key portion based at least in part upon the randomized seed value, wherein
<claim-text>at least the first part of the message is encrypted on the server by using the split encryption key, the encrypted first part of the message and at least a second key portion of the split encryption key are stored on the server, and the first key portion is discarded from the server; and</claim-text>
</claim-text>
<claim-text>providing a first recipient-individualized token to a corresponding message recipient to facilitate retrieval of at least the first part of the message by the corresponding recipient.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00028" num="00028">
<claim-text>28. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the first recipient-individualized token is provided to the corresponding message recipient in association with a markup language based form element.</claim-text>
</claim>
<claim id="CLM-00029" num="00029">
<claim-text>29. The method of <claim-ref idref="CLM-00028">claim 28</claim-ref>, wherein the form element comprises a network address associated with the server and recipient specific form data to be posted to the network address.</claim-text>
</claim>
<claim id="CLM-00030" num="00030">
<claim-text>30. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the first recipient-individualized token is provided to the corresponding message recipient in the form of a URL uniquely identifying the server and the corresponding message recipient.</claim-text>
</claim>
<claim id="CLM-00031" num="00031">
<claim-text>31. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the one or more recipient-individualized identifiers facilitate provisioning of recipient-individualized folders on the server.</claim-text>
</claim>
<claim id="CLM-00032" num="00032">
<claim-text>32. The method of <claim-ref idref="CLM-00031">claim 31</claim-ref>, wherein the one or more recipient-individualized identifiers comprise a corresponding one or more email addresses.</claim-text>
</claim>
<claim id="CLM-00033" num="00033">
<claim-text>33. A system comprising:
<claim-text>a server equipped to
<claim-text>generate a split encryption key for encrypting a message generated by a sending client, the split encryption key comprising at least a first key portion and a second key portion,</claim-text>
<claim-text>store the encrypted message and the first key portion,</claim-text>
<claim-text>provide the second key portion to the sending client,</claim-text>
<claim-text>generate a unique message identifier to be associated with the message.</claim-text>
<claim-text>associate the first key portion with the message identifier.</claim-text>
<claim-text>provide the message identifier to the sending client in association with the second key portion, and</claim-text>
<claim-text>discard the second key portion from the server; and</claim-text>
</claim-text>
<claim-text>the sending client equipped to
<claim-text>receive the second key portion from the server, and</claim-text>
<claim-text>provide the second key portion to a recipient to facilitate access to the message by the recipient.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00034" num="00034">
<claim-text>34. The system of <claim-ref idref="CLM-00033">claim 33</claim-ref>, wherein the sending client is further equipped to provide the message to the server in association with at least one of the unique message identifier and the second key portion.</claim-text>
</claim>
<claim id="CLM-00035" num="00035">
<claim-text>35. The system of <claim-ref idref="CLM-00034">claim 34</claim-ref>, wherein the server is further equipped to retrieve the first key portion based upon the unique message identifier received from the sending client, combine the first key portion with the second key portion received from the sending client, and encrypt the message using the first and second key portions.</claim-text>
</claim>
<claim id="CLM-00036" num="00036">
<claim-text>36. The system of <claim-ref idref="CLM-00033">claim 33</claim-ref>, wherein the server is further equipped to generate a recipient-specific token based upon an obfuscated combination of the second key portion and the unique message identifier, and to provide the recipient-specific token to the sending client.</claim-text>
</claim>
<claim id="CLM-00037" num="00037">
<claim-text>37. The system of <claim-ref idref="CLM-00036">claim 36</claim-ref>, wherein the sending client provides the recipient-specific token to a corresponding recipient to facilitate access to the encrypted message by the recipient.</claim-text>
</claim>
<claim id="CLM-00038" num="00038">
<claim-text>38. The system of <claim-ref idref="CLM-00036">claim 36</claim-ref>, wherein the server is further equipped to receive the recipient-specific token from a corresponding recipient, extract the unique message identifier and the second key portion from the recipient-specific token, retrieve the stored first key portion based at least in part upon the unique message identifier, and decrypt the encrypted message based at least in part upon the first key portion and the second key portion.</claim-text>
</claim>
<claim id="CLM-00039" num="00039">
<claim-text>39. An apparatus comprising:
<claim-text>a storage medium having stored therein programming instructions designed to enable the apparatus to:
<claim-text>receive from a sending client, a request to encrypt at least a first portion of a message generated by the sending client;</claim-text>
<claim-text>generate a split encryption key comprising at least a first key portion and a second key portion;</claim-text>
<claim-text>encrypt at least the first portion of the message, using the split encryption key;</claim-text>
<claim-text>generate a first identifier uniquely identifying the message;</claim-text>
<claim-text>generate one or more recipient-individualized tokens, each recipient-individualized token comprising a corresponding recipient-individualized identifier and the first key portion;</claim-text>
<claim-text>associate each of the recipient-individualized tokens with the first identifier;</claim-text>
<claim-text>provide the one or more recipient-individualized tokens to the sending client, the one or more recipient-individualized tokens to be provided by the sending client to the corresponding one or more recipients to facilitate access by the one or more recipients to at least the first portion of the message;</claim-text>
<claim-text>provide the first key portion to the sending client;</claim-text>
<claim-text>store the encrypted portion of the message and the second key portion; and</claim-text>
<claim-text>discard the first key portion from the server.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00040" num="00040">
<claim-text>40. The apparatus of <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein each of the one or more recipient-individualized tokens comprises an obfuscated combination of a corresponding recipient-individualized identifier and the first key portion.</claim-text>
</claim>
<claim id="CLM-00041" num="00041">
<claim-text>41. The apparatus of <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein the programming instructions are designed to enable the apparatus to generate the first identifier based at least in part upon a randomized seed value, and to discard the randomized seed value from the server after generation of the first and second key portions.</claim-text>
</claim>
<claim id="CLM-00042" num="00042">
<claim-text>42. The apparatus of <claim-ref idref="CLM-00041">claim 41</claim-ref>, wherein the programming instructions are further designed to enable the apparatus to receive the randomized seed value from the sending client.</claim-text>
</claim>
<claim id="CLM-00043" num="00043">
<claim-text>43. The apparatus of <claim-ref idref="CLM-00042">claim 42</claim-ref>, wherein the randomized seed value comprises a globally unique identifier (GUID).</claim-text>
</claim>
<claim id="CLM-00044" num="00044">
<claim-text>44. The apparatus of <claim-ref idref="CLM-00041">claim 41</claim-ref>, wherein the programming instructions are further designed to enable the apparatus to generate the randomized seed value.</claim-text>
</claim>
<claim id="CLM-00045" num="00045">
<claim-text>45. The apparatus of <claim-ref idref="CLM-00041">claim 41</claim-ref>, wherein the programming instructions designed to enable the apparatus to generate a split encryption key, are further designed to enable the apparatus to
<claim-text>apply a first hash function to the randomized seed value to form the first key portion; and</claim-text>
<claim-text>apply a second hash function to the randomized seed value to form the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00046" num="00046">
<claim-text>46. The apparatus of <claim-ref idref="CLM-00041">claim 41</claim-ref>, wherein the programming instructions designed to enable the apparatus to generate a split encryption key are further designed to enable the apparatus to
<claim-text>apply a hash function to the randomized seed value to form an encryption key; and</claim-text>
<claim-text>bifurcate the encryption key to form the first key portion and the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00047" num="00047">
<claim-text>47. An apparatus comprising:
<claim-text>a storage medium having stored therein programming instructions designed to enable the apparatus to:
<claim-text>send to a server, a request to encrypt at least a first part of a message generated by the apparatus,</claim-text>
<claim-text>receive from the server, a message identifier corresponding to the message, and a first key portion of a split encryption key to be used by the server to encrypt the message;</claim-text>
<claim-text>send at least the first part of the message to the server in association with the message identifier and the first key portion, wherein
<claim-text>at least the first part of the message is encrypted on the server by using the split encryption key, the encrypted part of the message and at least a second key portion of the split encryption key are stored on the server, and the first key portion is discarded from the server;</claim-text>
</claim-text>
<claim-text>send the first key portion to one or more recipients to facilitate access by the one or more recipients to at least the first part of the message from the server;</claim-text>
<claim-text>enumerate the one or more recipients to the server; and</claim-text>
<claim-text>receive a corresponding one or more recipient-individualized tokens from the server, each recipient-individualized token comprising a corresponding recipient-individualized identifier and the first key portion, wherein the recipient-individualized identifier is associated with the message identifier and each recipient-individualized token is generated before the first key portion is discarded from the server.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00048" num="00048">
<claim-text>48. The apparatus of <claim-ref idref="CLM-00047">claim 47</claim-ref>, wherein the programming instructions are further designed to enable the apparatus to send the one or more recipient-individualized tokens to the one or more recipients.</claim-text>
</claim>
<claim id="CLM-00049" num="00049">
<claim-text>49. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, the server is further equipped to:
<claim-text>receive the recipient-specific token from a corresponding recipient;</claim-text>
<claim-text>extract the unique message identifier and the first key portion from the recipient-specific token;</claim-text>
<claim-text>retrieve the stored second key portion based at least in part upon the unique message identifier; and</claim-text>
<claim-text>decrypt the encrypted portion of the message based at least in part upon the first key portion and the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00050" num="00050">
<claim-text>50. The method of <claim-ref idref="CLM-00009">claim 9</claim-ref>, the server is further equipped to:
<claim-text>receive the recipient-specific token from a corresponding recipient;</claim-text>
<claim-text>extract the unique message identifier and the first key portion from the recipient-specific token;</claim-text>
<claim-text>retrieve the stored second key portion based at least in part upon the unique message identifier; and</claim-text>
<claim-text>decrypt at least the encrypted first portion of the message based at least in part upon the first key portion and the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00051" num="00051">
<claim-text>51. The method of <claim-ref idref="CLM-00021">claim 21</claim-ref>, wherein one or more recipients:
<claim-text>receive the first key portion from the sending client; and</claim-text>
<claim-text>send the first key portion to the server, the server retrieving the stored second key portion and decrypting at least the encrypted first part of the message based at least in part upon the first key portion and the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00052" num="00052">
<claim-text>52. The method of <claim-ref idref="CLM-00027">claim 27</claim-ref>, wherein the corresponding recipient:
<claim-text>receive the recipient-specific token from the sending client; and</claim-text>
<claim-text>send the recipient-specific token to the storage server, the storage server
<claim-text>extracting the unique message identifier and the first key portion from the recipient-specific token,</claim-text>
<claim-text>retrieving the stored second key portion based at least in part upon the unique message identifier, and</claim-text>
<claim-text>decrypting at least the encrypted first part of the message based at least in part upon the first key portion and the second key portion.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00053" num="00053">
<claim-text>53. The apparatus of <claim-ref idref="CLM-00039">claim 39</claim-ref>, wherein the programming instructions are further designed to enable the apparatus to
<claim-text>receive the recipient-specific token from a corresponding recipient;</claim-text>
<claim-text>extract the unique message identifier and the first key portion from the recipient-specific token;</claim-text>
<claim-text>retrieve the stored second key portion based at least in part upon the unique message identifier; and</claim-text>
<claim-text>decrypt at least the encrypted message based at least in part upon the first key portion and the second key portion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00054" num="00054">
<claim-text>54. The method of <claim-ref idref="CLM-00047">claim 47</claim-ref>, wherein one or more recipients:
<claim-text>receive the first key portion from the sending client; and</claim-text>
<claim-text>send the first key portion to the server, the server retrieving the stored second key portion and decrypting at least the encrypted first part of the message based at least in part upon the first key portion and the second key portion.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
