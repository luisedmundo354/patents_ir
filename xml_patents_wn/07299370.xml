<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299370-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299370</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10459011</doc-number>
<date>20030610</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>222</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>01</class>
<subclass>R</subclass>
<main-group>23</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>713322</main-classification>
<further-classification>713300</further-classification>
<further-classification>713310</further-classification>
<further-classification>713320</further-classification>
<further-classification>713321</further-classification>
<further-classification>713323</further-classification>
<further-classification>713324</further-classification>
<further-classification>713330</further-classification>
<further-classification>713340</further-classification>
</classification-national>
<invention-title id="d0e53">Method and apparatus for improved reliability and reduced power in a processor by automatic voltage control during processor idle states</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6118306</doc-number>
<kind>A</kind>
<name>Orton et al.</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>327 44</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6125450</doc-number>
<kind>A</kind>
<name>Kardach</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713323</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6415388</doc-number>
<kind>B1</kind>
<name>Browning et al.</name>
<date>20020700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6678831</doc-number>
<kind>B1</kind>
<name>Mustafa et al.</name>
<date>20040100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713320</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6704877</doc-number>
<kind>B2</kind>
<name>Cline et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6735105</doc-number>
<kind>B2</kind>
<name>Nakano</name>
<date>20040500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365 52</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6754837</doc-number>
<kind>B1</kind>
<name>Helms</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713322</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6785829</doc-number>
<kind>B1</kind>
<name>George et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6792551</doc-number>
<kind>B2</kind>
<name>Dai</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713320</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6864600</doc-number>
<kind>B2</kind>
<name>Malinovitch</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>307 70</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6922783</doc-number>
<kind>B2</kind>
<name>Knee et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713320</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>6941480</doc-number>
<kind>B1</kind>
<name>Dai</name>
<date>20050900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713320</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6985952</doc-number>
<kind>B2</kind>
<name>Bohrer et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>709226</main-classification></classification-national>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>6988211</doc-number>
<kind>B2</kind>
<name>Cline et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>6993669</doc-number>
<kind>B2</kind>
<name>Sherburne, Jr.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713322</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>7000133</doc-number>
<kind>B2</kind>
<name>Dodd et al.</name>
<date>20060200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713324</main-classification></classification-national>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2003/0075735</doc-number>
<kind>A1</kind>
<name>Nakano</name>
<date>20030400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>257200</main-classification></classification-national>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2003/0237012</doc-number>
<kind>A1</kind>
<name>Jahagirdar et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2004/0117677</doc-number>
<kind>A1</kind>
<name>Jahagirdar et al.</name>
<date>20040600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>US</country>
<doc-number>2004/0163005</doc-number>
<kind>A1</kind>
<name>Kardach et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>713323</main-classification></classification-national>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>US</country>
<doc-number>2005/0091548</doc-number>
<kind>A1</kind>
<name>George et al.</name>
<date>20050400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>US</country>
<doc-number>2005/0149929</doc-number>
<kind>A1</kind>
<name>Srinivasan et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>718100</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00023">
<othercit>“Method for Reducing Power in the Halt and Stop Grant CPU states,” published anonymously at www.ip.com on Sep. 25, 2002 with identifier #IPCOM000009890D.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00024">
<othercit>U.S. Appl. No. 11/323,254, entitled Method and Apparatus for a Zero Voltage Processor Sleep State, filed Dec. 30, 2005, by Sanjeev Jahagirdar et al.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>27</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>713300</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713320-324</main-classification>
<additional-info>unstructured</additional-info>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713310</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713330</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>713340</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>8</number-of-drawing-sheets>
<number-of-figures>10</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040255176</doc-number>
<kind>A1</kind>
<date>20041216</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>George</last-name>
<first-name>Varghese</first-name>
<address>
<city>Folsom</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Newman</last-name>
<first-name>Mark A.</first-name>
<address>
<city>Folsom</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Jahagirdar</last-name>
<first-name>Sanjeev</first-name>
<address>
<city>Folsom</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Sodhi</last-name>
<first-name>Inder M.</first-name>
<address>
<city>Folsom</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="005" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Khondker</last-name>
<first-name>Tanjeer R.</first-name>
<address>
<city>Folsom</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="006" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Nazareth</last-name>
<first-name>Mathew B.</first-name>
<address>
<city>El Dorado Hills</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="007" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Conrad</last-name>
<first-name>John B.</first-name>
<address>
<city>Folsom</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Blakely, Sokoloff, Taylor &amp; Zafman LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Intel Corporation</orgname>
<role>02</role>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Elamin</last-name>
<first-name>A.</first-name>
<department>2116</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method and apparatus automatically transferring to an enhanced low-power state of a processor is disclosed. In one embodiment, either all or a portion of a processor core clock distribution grid may be powered down in these enhanced low-power states. In one embodiment, the processor may operate in a reduced power supply voltage and operate at a reduced frequency during these enhanced low-power states. In one embodiment, a portion of the clock distribution grid may be left on to support snoop operations at a reduced frequency.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="166.79mm" wi="149.27mm" file="US07299370-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="206.50mm" wi="160.95mm" file="US07299370-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="225.47mm" wi="178.90mm" file="US07299370-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="190.50mm" wi="140.80mm" orientation="landscape" file="US07299370-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="228.85mm" wi="181.27mm" orientation="landscape" file="US07299370-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="249.34mm" wi="179.92mm" orientation="landscape" file="US07299370-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="247.23mm" wi="177.38mm" orientation="landscape" file="US07299370-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="223.77mm" wi="178.56mm" orientation="landscape" file="US07299370-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="212.34mm" wi="144.10mm" orientation="landscape" file="US07299370-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">FIELD</heading>
<p id="p-0002" num="0001">The present disclosure relates generally to microprocessor systems, and more specifically to microprocessor systems capable of operating in low-power or reduced power states.</p>
<heading id="h-0002" level="1">BACKGROUND</heading>
<p id="p-0003" num="0002">In order to conserve energy and reduce thermal load, many processors include the option of operating in several operating states. During the times when the processor is operating, the greatest processor clock frequency that is available may be selected to enhance processor throughput. However, during the times when instructions are not being processed, the processor may transfer to one of several available low-power states. In these states, the processor clock frequency may be reduced or completely stopped, but cache-coherency snooping may be permitted. In other states, enough of the processor may be powered-down that cache-coherency snooping may not be permitted, and the operating system software must provide for cache coherency. In the Pentium® class processors produced by Intel® Corporation, the normal operation state may be called the C<b>0</b> state, the low-power states may be called the C<b>1</b>, C<b>2</b>, C<b>3</b>, and C<b>4</b> states.</p>
<p id="p-0004" num="0003">The existing low-power C<b>1</b> and C<b>2</b> states are not optimal with regards power conservation. The C<b>3</b> and C<b>4</b> states achieve higher levels of power conservation, but have several drawbacks that limit their use. One is the inability to participate in cache-coherency snoop operations. This could mean that they cannot be used when certain “bus mastering” peripherals are attached. Such bus mastering peripherals using such connections as universal serial bus (USB) and other quick-connection interfaces are becoming increasing common. Another problem is that the low-power states may have long exit latencies (the time required to come out of the low-power states). Therefore none of these existing low-power are optimal for future processor products.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0005" num="0004">The present invention is illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings and in which like reference numerals refer to similar elements and in which:</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 1</figref> is a state diagram of processor low-power states, according to one embodiment.</p>
<p id="p-0007" num="0006"><figref idref="DRAWINGS">FIG. 2</figref> is a system diagram of a processor system, according to one embodiment.</p>
<p id="p-0008" num="0007"><figref idref="DRAWINGS">FIG. 3A</figref> is diagram of an operating point register, according to one embodiment of the present disclosure.</p>
<p id="p-0009" num="0008"><figref idref="DRAWINGS">FIG. 3B</figref> is diagram of a configuration register, according to one embodiment of the present disclosure.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 4</figref> is a logic diagram of the selection of a frequency and voltage value, according to one embodiment of the present disclosure.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 5A</figref> is a timing diagram of turning a clock grid off, according to one embodiment of the present disclosure.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 5B</figref> is a timing diagram of turning a clock grid on, according to one embodiment of the present disclosure.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram of a break event handler, according to one embodiment of the present disclosure.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 7</figref> is a schematic diagram of a multi-processor system, according to an embodiment of the present disclosure.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION</heading>
<p id="p-0015" num="0014">The following description describes techniques for operating a processor in various extended low-power states. In the following description, numerous specific details such as logic implementations, software module allocation, bus signaling techniques, and details of operation are set forth in order to provide a more thorough understanding of the present invention. It will be appreciated, however, by one skilled in the art that the invention may be practiced without such specific details. In other instances, control structures, gate level circuits and full software instruction sequences have not been shown in detail in order not to obscure the invention. Those of ordinary skill in the art, with the included descriptions, will be able to implement appropriate functionality without undue experimentation. The invention is disclosed in the form of a microprocessor module with an extended halt state and an extended stop-grant state. However, the invention may be practiced in other forms of processors, such as digital signal processors.</p>
<p id="p-0016" num="0015">Referring now to <figref idref="DRAWINGS">FIG. 1</figref>, a state diagram of processor low-power states is shown, according to one embodiment. In one embodiment, a processor may operate in a normal operation state (or C<b>0</b> state) <b>110</b> when actively processing instructions. In the normal operation state, the processor may be operating under conditions of supply voltage V<sub>0 </sub>and processor core clock frequency F<sub>0</sub>. During other operational situations, there may be many other combinations of supply voltage and processor core clock frequency Vi, Fi.</p>
<p id="p-0017" num="0016">In order to conserve power, reduce thermal load, and in some cases extend reliability by reducing the voltage across gate insulation layers, the processor may transfer to a low-power state <b>120</b> whenever the processor is able. The low-power state <b>120</b> may be one of several such states well-known in the art. For example, low-power state <b>120</b> may be a halt state (or C<b>1</b> state), wherein the halt state may be entered by software executing a special HALT or MWAIT instruction. During operation in halt state, large portions of the circuitry of the processor may be powered-down. Many of the processor clock circuits may be powered-down, although the distribution clock grid of the processor may be left powered-on. During the halt state, the supply voltage V<sub>0 </sub>does not change: neither does the assigned processor core clock frequency F<sub>0</sub>.</p>
<p id="p-0018" num="0017">In addition to the halt state, the low-power state <b>120</b> may be a stop grant state (or C<b>2</b> state). The stop grant state may be somewhat different than the halt state. For example, the stop grant state may be entered upon hardware in the processor receiving a stop clock STPCLK signal, which may originate in a chipset after an advanced configuration and power interface (ACPI) register is read. During operation in stop grant state, large portions of the circuitry of the processor may be powered-down. Many of the processor clock circuits may be powered-down, although the distribution clock grid of the processor may be left powered-on. During the halt state, the supply voltage V<sub>0 </sub>does not change: neither does the assigned processor core clock frequency F<sub>0</sub>.</p>
<p id="p-0019" num="0018">When a processor is operating in a multi-processor system, it may need to cooperate in cache-coherency schemes by responding to snoop requests. If the processor is operating in a low-power state <b>120</b>, such as the halt state or the stop grant state, the processor clock and cache circuits may be powered-down when a snoop request is received. Therefore a low-power state <b>120</b> may transfer to an existing (or “old”) snoop state <b>140</b>, where enough of the circuits and clocks are powered-on to respond to the cache-coherency snoop request. After the request is serviced, the existing snoop state <b>140</b> may transfer back to the low-power state <b>120</b>.</p>
<p id="p-0020" num="0019">In order to enhance the power conservation and improve reliability provided by low-power state <b>120</b>, in one embodiment an enhanced low-power state <b>130</b> may be used. Unlike the low-power state <b>120</b>, no external stimuli are required to enter the enhanced low-power state <b>130</b>. If the processor is operating in the low-power state <b>120</b>, then when the enhanced low-power state <b>130</b> is enabled the processor automatically transfers from low-power state <b>120</b> to enhanced low-power state <b>130</b>. When transferring in from a halt state (C<b>1</b>), the enhanced low-power state <b>130</b> may be called a C<b>1</b>E state. When transferring in from a stop grant state (C<b>2</b>), the enhanced low-power state <b>130</b> may be called a C<b>2</b>E state.</p>
<p id="p-0021" num="0020">When the processor enters an enhanced low-power state <b>130</b>, it may select one of many combinations of supply voltage and processor core clock frequency Vi, Fi different from the normal operation state <b>110</b> combination V<sub>0</sub>, F<sub>0</sub>. In one embodiment, the frequency F<sub>L</sub>, corresponding to the lowest permitted ratio of bus clock frequency to processor core clock frequency, is paired with the lowest voltage V<sub>L</sub>compatible with F<sub>L</sub>. In one embodiment, the lowest permitted ratio is 16:1. This combination F<sub>L</sub>, V<sub>L </sub>may then be used by an enhanced low-power state <b>130</b>.</p>
<p id="p-0022" num="0021">In an enhanced low-power state <b>130</b>, the distribution clock grid of the processor may in some embodiments be turned off, as well as many of the clocks of the processor. The processor core phase-locked loop (PLL) which may serve as a clock reference may in some embodiments be left powered on in order to reduce the time required to synchronize clocks when leaving the enhanced low-power state <b>130</b>. In such embodiments, there may be an alternate feedback path for the processor core PLL to permit locking when certain circuit elements are powered off.</p>
<p id="p-0023" num="0022">In some embodiments, the distribution clock grid of the processor may be subdivided to create a processor bus interface domain as a subset of the overall clock grid. In some embodiments, a processor bus interface domain may be an input/output clock domain, which may be considered the distribution clock grid subset for the buffers and signals available at the boundaries of the processor. In other embodiments, the processor bus interface domain may be a clock domain of the sections of the processor that need to be on to monitor the internal and external break events, or may be a clock domain of the sections of the processor that need to be on to service cache-coherency snooping. In these embodiments, the enhanced low-power states may turn the power off to the distribution clock grid of the processor with the exception of the processor bus interface domain. This may permit the processor to act upon interrupts, signals on the system bus, and other interface signals. In one embodiment, the processor may support an enhanced snoop state <b>150</b>. In enhanced snoop state <b>150</b>, the snoop request may be serviced with the processor in operating in the supply voltage and frequency combination F<sub>L</sub>, V<sub>L</sub>. The snoop request may be adequately serviced at F<sub>L</sub>, V<sub>L </sub>as the snoop request servicing is not processor computationally intensive. In some embodiments, the enhanced low-power state may need to transfer to the old snoop state <b>140</b> via the low-power state <b>120</b> in order to service snoop requests.</p>
<p id="p-0024" num="0023">Referring now to <figref idref="DRAWINGS">FIG. 2</figref>, a system diagram of a processor system <b>200</b> is shown, according to one embodiment. In the <figref idref="DRAWINGS">FIG. 2</figref> embodiment, processor <b>210</b> is shown connected with chipset <b>220</b> via a bus <b>230</b>. The <figref idref="DRAWINGS">FIG. 2</figref> embodiment may be a uniprocessor system, or there may be other processors (not shown) connected via bus <b>230</b>. Chipset <b>220</b> may be a single integrated circuit, or may have its functional elements distributed among 2 or more integrated circuits. Chipset <b>220</b> is shown including an advanced configuration and power interface (ACPI) register <b>222</b>. When processor <b>210</b> reads from a location in ACPI register <b>222</b>, the chipset may respond with a stop clock STPCLK signal <b>224</b> to processor <b>210</b>, putting processor into a stop grant (C<b>2</b>) state. Processor <b>210</b> also may send signals on a voltage identifier (VID) signal line <b>214</b> to a voltage regulation module <b>240</b> that supplies power to the processor <b>210</b> and possibly to other circuit elements. The signals presented by processor <b>210</b> on the VID signal line <b>214</b> may configure the power supply voltage on power line <b>242</b> supplied to the processor <b>210</b>.</p>
<p id="p-0025" num="0024">Processor <b>210</b> may in one embodiment include an enhanced state policy logic <b>212</b> that may contain logic elements that support the automatic transfer of the processor <b>210</b> from a low-power state <b>120</b> to a corresponding enhanced low-power state <b>130</b>, as discussed above in connection with <figref idref="DRAWINGS">FIG. 1</figref>. Enhanced state policy logic <b>212</b> may in one embodiment turn off clock circuits within processor <b>210</b>, but may permit a core PLL to continue in operation via an alternate feedback path. Enhanced state policy logic <b>212</b> may in one embodiment turn off the clock grid for the processor <b>210</b>. In other embodiments, processor <b>210</b> may have the clock grid subdivided to create a processor bus interface domain <b>216</b> that supports processor <b>210</b> interface circuits such as VID signal line <b>214</b>, the STPCLK signal line <b>224</b>, and bus <b>230</b>. In this embodiment, the enhanced state policy logic <b>212</b> may turn off portions of the clock grid other than processor bus interface domain <b>216</b> while leaving the processor bus interface domain <b>216</b> powered on. The processor <b>210</b> may respond to cache-coherency snoop requests initiated by a bus priority (BPRI) signal <b>226</b> by transferring to an enhanced snoop state <b>150</b>. In embodiments without a processor bus interface domain <b>216</b>, the processor <b>210</b> may respond to cache-coherency snoop requests initiated by a bus priority (BPRI) signal <b>226</b> by transferring to an old snoop state <b>140</b> via the low-power state <b>120</b>. This may require not powering down the processor clock grid.</p>
<p id="p-0026" num="0025">In some embodiments, enhanced state policy logic <b>212</b> may reduce the processor <b>210</b> operating voltage within an enhanced low-power state by signaling the voltage regulation module <b>240</b> via the VID signal lines <b>214</b>. The enhanced state policy logic <b>212</b> may also reduce the processor core clock frequency. In one embodiment, the frequency F<sub>L</sub>, corresponding to the lowest permitted ratio of bus clock frequency to processor core clock frequency, is paired with the lowest voltage V<sub>L </sub>compatible with F<sub>L</sub>. In one embodiment, the lowest permitted ratio is 16:1. This combination F<sub>L</sub>, V<sub>L </sub>may then be set by the enhanced state policy logic <b>212</b> during the automatic transfer from a low-power state <b>120</b> to a corresponding enhanced low-power state <b>130</b>. In one embodiment, the transfer to the lower processor core clock frequency occurs somewhat before the transfer to the lower voltage.</p>
<p id="p-0027" num="0026">Referring now to <figref idref="DRAWINGS">FIG. 3A</figref>, a diagram of an operating point register is shown, according to one embodiment of the present disclosure. When a processor <b>210</b> has the enhanced low-power states enabled, which may be an enhanced halt state (C<b>1</b>E) or an enhanced stop grant state (C<b>2</b>E), the reduced supply voltage and frequency may be set by using an operating point register, which may be one of several model specific registers (MSRs) of the processor. In one embodiment, the ratio of bus clock frequency to processor core clock frequency may be set by the bits located at bits <b>9</b> through <b>15</b> in the operating point register. Similarly, the VID signal bits for the VID signal line <b>214</b> may be set by the bits located at bits <b>0</b> through <b>7</b> in the operating point register. At reset, bits <b>0</b> through <b>7</b> may be initialized with a value predetermined by the processor. In other embodiments, these operating points may be set in other ways, including being set by the system basic input/output system (BIOS).</p>
<p id="p-0028" num="0027">Referring now to <figref idref="DRAWINGS">FIG. 3B</figref>, a diagram of a configuration register is shown, according to one embodiment of the present disclosure. The configuration register may be another MSR. In one embodiment, bit <b>25</b> may be set to enable the enhanced halt state (C<b>1</b>E) automatically being entered upon halt state (C<b>1</b>) entry. In one embodiment, bit <b>27</b> may be set to enable the enhanced stop grant state (C<b>2</b>E) automatically being entered upon stop grant state (C<b>2</b>) entry.</p>
<p id="p-0029" num="0028">Referring now to <figref idref="DRAWINGS">FIG. 4</figref>, a logic diagram of the selection of a frequency and voltage value is shown, according to one embodiment of the present disclosure. In the <figref idref="DRAWINGS">FIG. 4</figref> embodiment, there may be three registers containing a normal operation frequency and voltage value (Gv3 F/V) register <b>410</b>, a thermal monitor <b>2</b> frequency and voltage value (TM2 F/V) register <b>412</b>, and an enhanced low-power state (C<b>1</b>E C<b>2</b>E F/V) register <b>414</b>. The values for the enhanced low-power state (C<b>1</b>E C<b>2</b>E F/V) register <b>414</b> may be as set in the operating point register of <figref idref="DRAWINGS">FIG. 3A</figref>. The values of the three registers may be selected by a frequency and voltage selection multiplexor <b>418</b> on the basis of a thermal monitor <b>2</b> sensor trip logic <b>416</b> and a HALT/MWAIT or STPCLK assertion logic <b>420</b>. Multiplexor <b>418</b> generally passes to the goal frequency and voltage register <b>422</b> the value from the normal operation frequency and voltage value (Gv3 F/V) register <b>410</b>, unless either thermal monitor <b>2</b> sensor trip logic <b>416</b> and a HALT/MWAIT or STPCLK assertion logic <b>420</b> override it. In that case, if thermal monitor <b>2</b> sensor trip logic <b>416</b> is asserted, then the value from the thermal monitor <b>2</b> frequency and voltage value (TM2 F/V) register <b>412</b> is passed to the goal frequency and voltage register <b>422</b>. If the HALT/MWAIT or STPCLK assertion logic <b>420</b> is asserted, then the value from the enhanced low-power state (C<b>1</b>E C<b>2</b>E F/V) register <b>414</b> is passed to the goal frequency and voltage register <b>422</b>. In case both the thermal monitor two sensor trip logic <b>416</b> and the HALT/MWAIT or STPCLK assertion logic <b>420</b> are asserted, the thermal monitor two takes priority and the value from the thermal monitor two frequency and voltage value (TM2 F/V) register <b>412</b> is passed to the goal frequency and voltage register <b>422</b>.</p>
<p id="p-0030" num="0029">If the comparator <b>426</b> determines that the value in the goal frequency and voltage register matches the value in the actual frequency and voltage register <b>424</b>, then no action is needed. However, if they do not match, then a action is initiated in ratio change request logic <b>428</b> which initiates a new central processor power down (CPD) entry utilizing CPD_ENTRY logic <b>430</b>.</p>
<p id="p-0031" num="0030">Referring now to <figref idref="DRAWINGS">FIG. 5A</figref>, a timing diagram of turning a clock grid off is shown, according to one embodiment of the present disclosure. In one embodiment, the clock grid shut down is initiated by a bus priority (BPRI#) going inactive (logic high) during bus clock cycle <b>1</b>. This may be in response to a cache-coherency snoop request having completed. Then in bus clock cycle <b>2</b> a shutdown signal is sent to grid signal point of distribution (POD) and PLL is initiated. After a distribution delay, the shutdown signal reaches the POD and PLL, and the clock at the PLL ceases operation. The clock from the PLL ceases at other points during bus clock cycle <b>3</b> due to distribution delay.</p>
<p id="p-0032" num="0031">Referring now to <figref idref="DRAWINGS">FIG. 5B</figref>, a timing diagram of turning a clock grid on is shown, according to one embodiment of the present disclosure. In one embodiment, the clock grid shut down is initiated by a bus priority (BPRI#) going active (logic low) during bus clock cycle <b>1</b>. This may be in response to a cache-coherency snoop request initiation. A wakeup signal is sent to the grid POD and PLL, which arrives at the grid POD and PLL after a distribution delay. The PLL clock begins operation a short time later, and arrives at the external bus clock (EBC) circuit. During bus clock cycle <b>3</b>, the EBC circuit is synchronized, and then the ratio of bus clock to processor core clock is set during bus clock cycle <b>4</b>. Then the processor may act upon bus data during bus clock cycle <b>5</b>.</p>
<p id="p-0033" num="0032">Referring now to <figref idref="DRAWINGS">FIG. 6</figref>, a diagram of a break event handler is shown, according to one embodiment of the present disclosure. In one embodiment, the processor clock grid may be powered down during an enhanced low-power state. External pins of processor <b>210</b> may characterize break events from the enhanced low-power state that cause the enhanced low-power state to transfer (“break”) away to another state. In some embodiments, these break event pins may include STPCLK de-assertion, reset assertion, interrupt assertion, non-maskable interrupt (NMI) assertion, system management interrupt (SMI) assertion, or machine check assertion. In other embodiments, other external break events may be used. A break event monitor <b>620</b> may be used in processor <b>210</b> to determine these break events. If one is detected, then break event monitor <b>620</b> may signal trigger enhanced low-power state transition logic <b>610</b> to change value in the goal frequency and voltage register <b>422</b> of <figref idref="DRAWINGS">FIG. 4</figref>. The trigger enhanced low-power state transition logic <b>610</b> operates under the status provided by enhanced low-power state status logic <b>612</b>. Break event monitor <b>620</b> may also signal clock grid control <b>640</b> to power up the clock distribution grid.</p>
<p id="p-0034" num="0033">Similarly, snoop pins may include bus priority (BPRI) signal pins and other pins related to cache-coherency snooping. If a snoop request is detected, then snoop monitor <b>630</b> may not signal trigger enhanced low-power state transition logic <b>610</b> to change value in the goal frequency and voltage register <b>422</b> of <figref idref="DRAWINGS">FIG. 4</figref>. Snoop monitor <b>630</b> will signal clock grid control <b>640</b> to power up the clock distribution grid, in order to service the snoop request.</p>
<p id="p-0035" num="0034">Referring now to <figref idref="DRAWINGS">FIG. 7</figref>, a schematic diagram of a microprocessor system is shown, according to one embodiment of the present disclosure. The <figref idref="DRAWINGS">FIG. 7</figref> system may include several processors of which only two, processors <b>40</b>, <b>60</b> are shown for clarity. Processors <b>40</b>, <b>60</b> may be the processor <b>210</b> of <figref idref="DRAWINGS">FIG. 2</figref>. Processors <b>40</b>, <b>60</b> may include caches <b>42</b>, <b>62</b>. The <figref idref="DRAWINGS">FIG. 7</figref> multiprocessor system may have several functions connected via bus interfaces <b>44</b>, <b>64</b>, <b>12</b>, <b>8</b> with a system bus <b>6</b>. In one embodiment, system bus <b>6</b> may be the front side bus (FSB) utilized with Pentium® class microprocessors manufactured by Intel® Corporation. A general name for a function connected via a bus interface with a system bus is an “agent”. Examples of agents are processors <b>40</b>, <b>60</b>, bus bridge <b>32</b>, and memory controller <b>34</b>. In some embodiments memory controller <b>34</b> and bus bridge <b>32</b> may collectively be referred to as a chipset, and may be the chipset <b>220</b> of <figref idref="DRAWINGS">FIG. 2</figref>. In some embodiments, functions of a chipset may be divided among physical chips differently than as shown in the <figref idref="DRAWINGS">FIG. 7</figref> embodiment.</p>
<p id="p-0036" num="0035">Memory controller <b>34</b> may permit processors <b>40</b>, <b>60</b> to read and write from system memory <b>10</b> and from a basic input/output system (BIOS) erasable programmable read-only memory (EPROM) <b>36</b>. In some embodiments BIOS EPROM <b>36</b> may utilize flash memory. Memory controller <b>34</b> may include a bus interface <b>8</b> to permit memory read and write data to be carried to and from bus agents on system bus <b>6</b>. Memory controller <b>34</b> may also connect with a high-performance graphics circuit <b>38</b> across a high-performance graphics interface <b>39</b>. In certain embodiments the high-performance graphics interface <b>39</b> may be an advanced graphics port AGP interface, or an AGP interface operating at multiple speeds such as 4X AGP or 8X AGP. Memory controller <b>34</b> may direct read data from system memory <b>10</b> to the high-performance graphics circuit <b>38</b> across high-performance graphics interface <b>39</b>.</p>
<p id="p-0037" num="0036">Bus bridge <b>32</b> may permit data exchanges between system bus <b>6</b> and bus <b>16</b>, which may in some embodiments be a industry standard architecture (ISA) bus or a peripheral component interconnect (PCI) bus. There may be various input/output I/O devices <b>14</b> on the bus <b>16</b>, including in some embodiments low performance graphics controllers, video controllers, and networking controllers. Another bus bridge <b>18</b> may in some embodiments be used to permit data exchanges between bus <b>16</b> and bus <b>20</b>. Bus <b>20</b> may in some embodiments be a small computer system interface (SCSI) bus, an integrated drive electronics (IDE) bus, or a universal serial bus (USB) bus. Additional I/O devices may be connected with bus <b>20</b>. These may include keyboard and cursor control devices <b>22</b>, including mice, audio I/O <b>24</b>, communications devices <b>26</b>, including modems and network interfaces, and data storage devices <b>28</b>. Software code <b>30</b> may be stored on data storage device <b>28</b>. In some embodiments, data storage device <b>28</b> may be a fixed magnetic disk, a floppy disk drive, an optical disk drive, a magneto-optical disk drive, a magnetic tape, or non-volatile memory including flash memory.</p>
<p id="p-0038" num="0037">In the foregoing specification, the invention has been described with reference to specific exemplary embodiments thereof. It will, however, be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the invention as set forth in the appended claims. The specification and drawings are, accordingly, to be regarded in an illustrative rather than a restrictive sense.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An apparatus comprising:
<claim-text>a processor having an operation state, a stop grant state, and an enhanced stop grant state, the processor including logic to reduce voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the enhanced stop grant state from the stop grant state;</claim-text>
<claim-text>wherein the logic is to turn off at least a portion of a clock grid for the processor in response to the processor entering the enhanced stop grant state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the logic is to reduce a clock frequency in response to the processor entering the enhanced stop grant state.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the logic is to issue a voltage identification code to reduce voltage.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the logic is to leave on a clock grid portion for a processor bus interface domain in response to the processor entering the stop grant state.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is to enter the stop grant state in response to a stop clock signal.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is to service at the reduced voltage a snoop request received while in the enhanced stop grant state.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor is to reduce voltage based on a ratio of bus clock frequency to processor core clock frequency.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The apparatus of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the processor has a halt state and wherein the logic is to reduce voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the halt state.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. An apparatus comprising:
<claim-text>a processor having an operation state, a halt state, and an enhanced halt state, the processor including logic to reduce voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the enhanced halt state from the halt state;</claim-text>
<claim-text>wherein the logic is to turn off at least a portion of a clock grid for the processor in response to the processor entering the enhanced halt state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the logic is to reduce a clock frequency in response to the processor entering the enhanced halt state.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the logic is to issue a voltage identification code to reduce voltage.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the logic is to leave on a clock grid portion for a processor bus interface domain in response to the processor entering the halt state.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the processor is to enter the halt state in response to execution of an instruction.</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the processor is to service at the reduced voltage a snoop request received while in the enhanced halt state.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The apparatus of <claim-ref idref="CLM-00009">claim 9</claim-ref>, wherein the processor is to reduce voltage based on a ratio of bus clock frequency to processor core clock frequency.</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. A method comprising:
<claim-text>entering a processor into an enhanced stop grant state from a stop grant state; and reducing voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the enhanced stop grant state;</claim-text>
<claim-text>turning-off at least a portion of a clock grid for the processor in response to the processor entering the enhanced stop grant state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, comprising leaving on a clock grid portion for a processor bus interface domain in response to the processor entering the stop grant state.</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, comprising servicing at the reduced voltage a snoop request received while in the enhanced stop grant state.</claim-text>
</claim>
<claim id="CLM-00019" num="00019">
<claim-text>19. The method of <claim-ref idref="CLM-00016">claim 16</claim-ref>, comprising:
<claim-text>entering the processor into an enhanced halt state from a halt state; and</claim-text>
<claim-text>reducing voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the halt state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00020" num="00020">
<claim-text>20. An apparatus comprising:
<claim-text>means for entering a processor into an enhanced stop grant state from a stop grant state;</claim-text>
<claim-text>means for reducing voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the enhanced stop grant state; and</claim-text>
<claim-text>means for turning-off at least a portion of a clock grid for the processor in response to the processor entering the enhanced stop grant state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00021" num="00021">
<claim-text>21. The apparatus of <claim-ref idref="CLM-00020">claim 20</claim-ref>, comprising means for servicing at the reduced voltage a snoop request received while in the enhanced stop grant state.</claim-text>
</claim>
<claim id="CLM-00022" num="00022">
<claim-text>22. The apparatus of <claim-ref idref="CLM-00020">claim 20</claim-ref>, comprising:
<claim-text>means for entering the processor into an enhanced halt state from a halt state; and</claim-text>
<claim-text>means for reducing voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the enhanced halt state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00023" num="00023">
<claim-text>23. A system comprising:
<claim-text>a processor having an operation state, stop grant state, and an enhanced stop grant state, the processor including logic to reduce voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the enhanced stop grant state from the stop grant state;</claim-text>
<claim-text>an audio input/output device; and</claim-text>
<claim-text>wherein the logic is to turn off at least a portion of a clock grid for the processor in response to the processor entering the enhanced stop grant state.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00024" num="00024">
<claim-text>24. The system of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the processor is to service at the reduced voltage a snoop request received while in the enhanced stop grant state.</claim-text>
</claim>
<claim id="CLM-00025" num="00025">
<claim-text>25. The system of <claim-ref idref="CLM-00023">claim 23</claim-ref>, wherein the processor has an enhanced halt state and wherein the logic is to reduce voltage supplied to the processor to power the processor at a reduced voltage in response to the processor entering the enhanced halt state.</claim-text>
</claim>
<claim id="CLM-00026" num="00026">
<claim-text>26. The apparatus of <claim-ref idref="CLM-00007">claim 7</claim-ref>, wherein the bus clock frequency is the lowest frequency that is compatible with the processor core clock voltage of the lowest voltage level of the processor core.</claim-text>
</claim>
<claim id="CLM-00027" num="00027">
<claim-text>27. The apparatus of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the bus clock frequency is the lowest frequency that is compatible with the processor core clock voltage of the lowest voltage level of the processor core.</claim-text>
</claim>
</claims>
</us-patent-grant>
