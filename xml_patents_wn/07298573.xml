<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298573-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298573</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11304203</doc-number>
<date>20051214</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2004-362332</doc-number>
<date>20041215</date>
</priority-claim>
</priority-claims>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>21</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>11</class>
<subclass>B</subclass>
<main-group>27</main-group>
<subgroup>36</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>360 75</main-classification>
<further-classification>360 31</further-classification>
</classification-national>
<invention-title id="d0e61">Magnetic disk drive with offset detection of composite magnetic head</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6021024</doc-number>
<kind>A</kind>
<name>Akiyama et al.</name>
<date>20000200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6268983</doc-number>
<kind>B1</kind>
<name>Imada et al.</name>
<date>20010700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6476992</doc-number>
<kind>B1</kind>
<name>Shimatani</name>
<date>20021100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 46</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0190174</doc-number>
<kind>A1</kind>
<name>Yoshida et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 51</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2005/0002121</doc-number>
<kind>A1</kind>
<name>Allen et al.</name>
<date>20050100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 75</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2005/0128632</doc-number>
<kind>A1</kind>
<name>Nakamura et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 75</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0056093</doc-number>
<kind>A1</kind>
<name>Ehrlich et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>360 75</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>JP</country>
<doc-number>05-081796</doc-number>
<date>19930400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>JP</country>
<doc-number>05-133974</doc-number>
<date>19930500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>JP</country>
<doc-number>06-187624</doc-number>
<date>19940700</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>JP</country>
<doc-number>06-314479</doc-number>
<date>19941100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>JP</country>
<doc-number>2001-014606</doc-number>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>JP</country>
<doc-number>2001-101633</doc-number>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>JP</country>
<doc-number>2001-143412</doc-number>
<date>20010500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>14</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>6</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060126213</doc-number>
<kind>A1</kind>
<date>20060615</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kitamura</last-name>
<first-name>Nobuhito</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Sumiya</last-name>
<first-name>Noriyuki</first-name>
<address>
<city>Kanagawa</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Townsend and Townsend and Crew LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Duncan</last-name>
<first-name>Patrick</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Hitachi Global Storage Technologies Netherlands B.V.</orgname>
<role>03</role>
<address>
<city>Amsterdam</city>
<country>NL</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Sniezek</last-name>
<first-name>Andrew L.</first-name>
<department>2627</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">Embodiments of the invention detect a head offset in a data region between servo regions in a data write operation. To detect a head offset even in a data region between servo regions, a magnetic disk drive according to an embodiment of the invention makes adjustments to maintain a fixed relative position between the write head and the read head and reads positional information embedded in certain data by use of the read head until just before writing data. This allows the magnetic disk drive to detect a head offset until just before writing data, leading to enhanced reliability.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="109.73mm" wi="165.35mm" file="US07298573-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="225.30mm" wi="122.43mm" file="US07298573-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="193.21mm" wi="169.59mm" file="US07298573-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="210.65mm" wi="185.17mm" file="US07298573-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="154.77mm" wi="130.13mm" file="US07298573-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCES TO RELATED APPLICATIONS</heading>
<p id="p-0002" num="0001">This application claims priority from Japanese Patent Application No. JP2004-362332, filed Dec. 15, 2004, the entire disclosure of which is incorporated herein by reference.</p>
<heading id="h-0002" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">The present invention relates to a magnetic disk drive having a composite magnetic head made up of a write head and a read head, and more particularly to a mechanism for, in a write operation, detecting a head offset even in a data region between servo regions.</p>
<p id="p-0004" num="0003">The following procedure is used to write data in a magnetic disk drive employing a “data surface servo system” in which data recording regions and servo information regions are formed on the same magnetic disk medium. First, the magnetic disk drive positions the write head at the track that includes the sector to which to write the data. Then, the drive reads the servo information until the target sector is reached, thereby obtaining the disk radial position of the head. The drive then calculates the amount of displacement between the ideal radial position and the current radial position (hereinafter referred to as the offset amount) and if it exceeds a predetermined threshold value, the drive does not write the data to the sector. If, on the other hand, the offset amount is within the threshold value, the drive writes the data to the sector. Furthermore, after writing the data, the drive obtains an offset amount from the next servo information and determines whether it is within a predetermined threshold value, as in the above. If the offset amount is within the threshold value, the magnetic disk drive determines that it has been able to write the data to the proper position. If, on the other hand, the offset amount exceeds the threshold value, the magnetic disk drive determines that it has not been able to write the data to the proper position and hence performs processing for rewriting the data.</p>
<p id="p-0005" num="0004">Thus, the conventional magnetic disk drive writes data to the disk without detecting the head offset amount in the data recording regions between servo information regions. This means that even when a head offset has occurred within a data recording region, the magnetic disk drive writes data without correcting the head position until it reaches the next servo information. In such a case, the data is not written to the proper position on the target tack, and data on an adjacent track(s) may be lost. If this happens, the drive cannot properly read data from the adjacent track(s). Further, assume that a head offset occurred in a data recording region but the head has returned to the proper position when it has reached the next servo information region. In such a case, the drive erroneously determines that the data has been properly written. This leads to an inability to read the proper data in a data read operation.</p>
<p id="p-0006" num="0005">Various techniques have been used to prevent data from being written when a head offset has occurred in a data recording region. For example, when servo information obtained right after a data write operation to a data recording region indicates that a head offset has occurred between the current and previous servo information regions, the technique disclosed in Patent Document 1 (Japanese Patent Laid-Open No. 2001-14606) determines the offset direction based on the servo information and performs processing to prevent loss of data from the track on the offset side of the current track. Further, the technique disclosed in Patent Document 2 (Japanese Patent Laid-Open No. 05-133974 (1993)) detects external shock by using an acceleration sensor, and upon detecting a shock, this technique stops the current data write operation, since a head offset may have occurred in a data recording region (between servo regions), thereby increasing the data writing reliability.</p>
<heading id="h-0003" level="1">BRIEF SUMMARY OF THE INVENTION</heading>
<p id="p-0007" num="0006">The technique of Patent Document 1 is only a recovery technique used when data has been written with an offset, and is not useful in the case of a head offset in a data recording region if there is no head offset between the servo regions adjacent to the data recording region. As for the technique of Patent Document 2, it is useful in preventing data from being written when a head offset has occurred due to an external shock. However, this technique cannot be applied to head offsets caused by other factors such as an overshoot due to a seek operation between tracks.</p>
<p id="p-0008" num="0007">In contrast with the above conventional techniques, the present invention can detect a head offset in a data recording region (between servo regions) caused by a factor other than an external shock, thereby enhancing data writing reliability.</p>
<p id="p-0009" num="0008">According to an aspect of the present invention, a magnetic disk drive includes, or embeds, positional information in data to be written to each track. Furthermore, the magnetic disk drive adjusts the positional relationship between the write head and the read head in a disk radial direction by use of a two-stage actuator using a piezoelectric element, etc. capable of such adjustment. Specifically, in a data write operation, the read head is positioned approximately over the center of the same track at which the write head is positioned, or over the center of another track. In this state, the magnetic disk drive reads positional information written in data recording regions by use of the read head and detects head offsets in these data recording regions (between servo regions) based on the positional information until just before it begins writing data. The magnetic disk drive then controls the data write operation based on the offset amount detected in the data recording regions (between servo regions).</p>
<p id="p-0010" num="0009">The present invention allows a magnetic disk drive to detect head offsets in data regions (between servo regions) until just before it starts writing data, thereby enhancing reliability.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0004" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 1</figref> shows the positional relationship between a write head and a read head according to an embodiment of the present invention.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 2</figref> shows the positional relationship between a conventional write head and a conventional read head.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 3</figref>, which includes <figref idref="DRAWINGS">FIGS. 3(A) to 3(C)</figref>, shows an example (an exemplary head arrangement) according to the present invention.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 4</figref> shows the system configuration of a magnetic disk drive according to an embodiment of the present invention.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 5</figref> shows the recording format of a data sector of the embodiment.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 6</figref> shows track regions according to the embodiment.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0005" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0017" num="0016">An embodiment of the present invention will be described below. <figref idref="DRAWINGS">FIG. 4</figref> is a diagram showing the system configuration of a magnetic disk drive according to the embodiment. The magnetic disk drive comprises: a disk <b>2</b> for storing data; a read/write head (assembly) <b>1</b> for writing/reading data to/from the disk <b>2</b>; a head support mechanism <b>9</b> for holding the read/write head <b>1</b>; and a VCM <b>3</b> for moving the head support mechanism <b>9</b> around a pivot point (not shown). The head support mechanism <b>9</b> includes a microactuator unit <b>10</b> for finely controlling the movement of the read/write head <b>1</b>. The microactuator unit <b>10</b> and the VCM <b>3</b> constitute a two-stage actuator. A piezoelectric element may be used as the microactuator unit <b>10</b>. An actuator control unit <b>4</b> controls the operation of the VCM <b>3</b> and the microactuator unit <b>10</b> to move the write/read head <b>1</b> to a given position with high precision. Upon receiving a write command from the host device (not shown) through an interface control unit <b>8</b>, a read/write control unit <b>5</b> performs processing for scrambling or encoding the write data. Upon receiving a read command, on the other hand, the read/write control unit <b>5</b> performs processing for demodulating the read data from the read/write head <b>1</b>.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 5</figref> shows an exemplary write data format of the data written to each sector on the disk <b>2</b>. The write data format includes: a preamble field <b>51</b> used for pull-in operation of a PLL (Phase Locked Loop) circuit (not shown); a Sync mark <b>52</b> which is a synchronization signal for, in a read operation, obtaining a timing signal to demodulate modulated code after detecting the start position of a data field <b>53</b>; the data field <b>53</b> to which user data is written or from which user data is read; an ECC <b>54</b> for error detection or correction; and a postamble <b>55</b> used for signal processing for PRML (Partial Response Maximum Likelihood), etc.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1</figref> shows the positional relationship between the write head and read head of the present embodiment over the disk <b>2</b>, while <figref idref="DRAWINGS">FIG. 2</figref> shows the positional relationship between a conventional write head and read head over the disk <b>2</b>. The write/read head <b>1</b> includes: a slider; a read head R laminated onto the end surface of the slider; and a write head W laminated onto the read head R.</p>
<p id="p-0020" num="0019">Referring to <figref idref="DRAWINGS">FIGS. 1 and 2</figref>, reference numerals s<b>0</b> and d<b>0</b> denote a servo region and a data region of a track <b>0</b>, respectively. Likewise, s<b>1</b> to s<b>3</b> denote servo regions of tracks <b>1</b> to <b>3</b>, respectively, while d<b>1</b> to d<b>3</b> denote data regions of the tracks <b>1</b> to <b>3</b>, respectively. Reference characters W<b>1</b> and R<b>1</b> indicate the write and read heads, respectively, when data is written to the track <b>1</b>. Likewise, W<b>2</b> and R<b>2</b> indicate the write and read heads when data is written to the track <b>2</b>, and W<b>3</b> and R<b>3</b> indicate the write and read heads when data is written to the track <b>3</b>.</p>
<p id="p-0021" num="0020">In the example shown in <figref idref="DRAWINGS">FIG. 2</figref>, when the write head is located over the center of the track <b>1</b>, the read head is also located over the center of the track <b>1</b>, as indicated by W<b>1</b> and R<b>1</b>. When the write head is moved to the center of the track <b>2</b> by action of the actuator, however, the read head is moved to a position near the intermediate position between the tracks <b>1</b> and <b>2</b>, as indicated by W<b>2</b> and R<b>2</b>. Further, when the head support mechanism <b>9</b> is rotated such that the write head is moved to the center of the track <b>3</b>, the read head is moved to the center of the track <b>2</b>, as indicated by W<b>3</b> and R<b>3</b>. Thus, with conventional composite magnetic heads made up of a write head and a read head, the positional relationship between the write and read heads varies depending on their radial positions on the disk <b>2</b>. This means that even when the write head is located over the center of a given tack for a data write operation, the read head may not necessarily be located over the center of any track. To address this problem, the magnetic disk drive of the present embodiment uses the two-stage actuator including the microactuator unit <b>10</b> (a piezoelectric element, etc.) to adjust the composite head such that when the write head is positioned over a given track for a data write operation, the read head is positioned over the same track or another track. In the example shown in <figref idref="DRAWINGS">FIG. 1</figref>, the positional relationship between the write and read heads is adjusted by the two-stage actuator such that: when the write head is located over the track <b>1</b>, the read head is located over the track <b>0</b>, as indicated by W<b>1</b> and R<b>1</b> in the figure; and when the write head is located over the track <b>2</b>, the read head is located over the track <b>1</b>, as indicated by W<b>2</b> and R<b>2</b>. This positional relationship is stored in a memory <b>7</b>. In the example shown in <figref idref="DRAWINGS">FIG. 1</figref>, the positional relationship between the write and read heads is adjusted such that they are always positioned over adjacent tracks. However, the present embodiment is not limited to this particular positional relationship. The write and read heads may be always spaced N tracks apart (where N is an integer). Further, according to the present embodiment, the tracks may be grouped into a plurality of track regions, and the positional relationship between the write and read heads may be changed for each track region. For example, as shown in <figref idref="DRAWINGS">FIG. 6</figref>, the write and read heads may be spaced such that: in the innermost track region <b>61</b> of the disk <b>2</b>, they are −M tracks apart (where M is a positive integer); in the outermost track region <b>63</b>, they are M tracks apart; and in the track region <b>62</b> in between, they are positioned over the same track, that is, the skew angle (defined as the angle between the line connecting the centers of the write and read heads and a normal line of the disk <b>2</b>) is substantially zero. In this case, the memory <b>7</b> stores the positional relationship between the write head W and the read head R on a track region basis. This arrangement allows the movement and control of the microactuator unit <b>10</b> to be reduced as a whole, which speeds up the positioning operation.</p>
<p id="p-0022" num="0021">Further, the magnetic disk drive of the present embodiment includes, or embeds, positional information in data to be written to each track. For example, such positional information may be embedded in a pattern used to scramble (or encrypt) data to be written to the user data field <b>53</b>, or it may be embedded in the pattern of the Sync mark <b>52</b>.</p>
<p id="p-0023" num="0022">With reference to <figref idref="DRAWINGS">FIG. 3</figref>, a description will be given below of a method for writing data when the positional relationship between the write and read heads are set as described above. Reference characters s<b>00</b> and s<b>01</b> denote servo regions of the track <b>0</b>, while d<b>00</b>, d<b>01</b>, and d<b>02</b> denote data sectors on the track <b>0</b>. Likewise, s<b>10</b> and s<b>11</b> denote servo regions of the track <b>1</b>, while d<b>10</b>, d<b>11</b>, and d<b>12</b> denote data sectors on track <b>1</b>. The disk <b>2</b> rotates in such a direction that the write/read head <b>1</b> moves from the servo region s<b>00</b> side to the servo region s<b>01</b> side, as shown in <figref idref="DRAWINGS">FIGS. 2 and 3</figref>. The outer circumferential side of the disk <b>2</b> corresponds to the upper side of <figref idref="DRAWINGS">FIG. 3</figref>, while the inner circumferential side of the disk <b>2</b> corresponds to the lower side of <figref idref="DRAWINGS">FIG. 3</figref>. For simplicity, the following assumptions are made: when the write head is located over the track <b>1</b>, the read head is located over the track <b>0</b>, as indicated by W<b>4</b> and R<b>4</b>; each Sync mark <b>52</b> on the track <b>0</b> is pattern A, that on the track <b>1</b> is pattern B, and that on the subsequent track is pattern C; and these Sync mark patterns A, B, and C are sequentially repeated through all tracks.</p>
<p id="p-0024" num="0023">A description will be given below of a process of writing to the data sector d<b>12</b> on the track <b>1</b>. First of all, upon receiving an instruction to write data to the track <b>1</b>, the magnetic disk drive calculates the amount of adjustment required to establish a desired positional relationship between the read head and the write head indicated by R<b>4</b> and W<b>4</b> by use of an MPU <b>6</b> based on positional information stored in the memory <b>7</b>. Based on the calculation results, the drive controls the positional relationship between the read head (R<b>4</b>) and write head (W<b>4</b>) in a disk radial direction by use of the two-stage actuator, etc. As a result, the write head (W<b>4</b>) is positioned over the track <b>1</b> and the read head (R<b>4</b>) is positioned over the track <b>0</b>. As shown in <figref idref="DRAWINGS">FIG. 3(A)</figref>, the read head (R<b>4</b>) has passed over the data sectors d<b>00</b> and d<b>01</b> on the track <b>0</b> when the write head (W<b>4</b>) begins writing data to the data sector d<b>12</b>. When a conventional magnetic disk drive writes to the data sector d<b>12</b>, it cannot obtain any positional information after the servo region s<b>00</b> until it reaches the servo region sol. This means that the magnetic disk drive cannot detect offsets of the write head (W<b>4</b>) which may occur in the data sectors d<b>10</b> to d<b>12</b>. To address this problem, the magnetic disk drive of the present embodiment reads the data sectors d<b>00</b> and d<b>01</b> by use of the read head (R<b>4</b>) after reading the servo region s<b>00</b> until it begins writing to the data sector d<b>12</b>. Then, the drive checks each Sync mark <b>52</b> in the read data. If it coincides with the pattern A, the read head (R<b>4</b>) is determined to be located over the track <b>0</b>. This means that the write head (W<b>4</b>) is located over the track <b>1</b> as indicated by the positional information stored in the memory <b>7</b>. If the Sync mark <b>52</b> is pattern B, however, the read head (R<b>4</b>) is determined to be located over the track <b>1</b>, meaning that the write head (W<b>4</b>) is not located over the track <b>1</b> and is offset toward the inner circumferential side. Further, if the Sync mark <b>52</b> is pattern C, the read head (R<b>4</b>) is determined to be located over the track (not shown) on the outer circumferential side of the track <b>0</b>, meaning that the write head (W<b>4</b>) is not located over the track <b>1</b> and is offset toward the outer circumferential side. Therefore, if the Sync mark is pattern A, the magnetic disk drive writes data to the data sector d<b>12</b>; if it is pattern B or C, or if no Sync mark <b>52</b> has been found, the drive performs no write operation since the write head (W<b>4</b>) is offset from the right position. The above determination process is performed by the MPU <b>6</b>. It should be noted that the detection of the offset may be finely controlled by increasing or decreasing the threshold value for detecting the Sync mark <b>52</b>. The above process allows a magnetic disk drive to detect a head offset in each data sector (between servo regions). Conventional processes cannot detect such a head offset since no positional information on the write and read heads in data sectors is available to them. It should be noted that the threshold value used to detect each Sync mark <b>52</b> is stored in the memory <b>7</b>.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 3(B)</figref> shows the state of the write and read heads immediately before the magnetic disk drive writes data to the data sector d<b>12</b> after reading a Sync mark <b>52</b> on the track <b>0</b> by use of the read head (R<b>4</b>) and checking for the occurrence of a head offset or checking whether the above conditions are satisfied. Whether the magnetic disk drive can start a write operation immediately after reading a Sync mark <b>52</b> depends on the length of the Sync mark <b>52</b>, the last bit position, and the distance between the read head (R<b>4</b>) and the write head (W<b>4</b>). If the magnetic disk drive can start a write operation in this way, it is desirable that the drive determine the position (of the write head) based on the pattern of the Sync mark <b>52</b> and perform offset detection processing accordingly.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 3(C)</figref> shows the state of the write and read heads immediately before the magnetic disk drive writes data to the data sector d<b>12</b> after reading the data in a user data field <b>53</b> on the track <b>0</b> by use of the read head (R<b>4</b>) and checking for the occurrence of a head offset or checking whether the above conditions are satisfied. Whether the magnetic disk drive can start a write operation immediately after reading the data in a user data field <b>53</b> depends on the length of the user data field <b>53</b>, the last bit position, and the distance between the read head (R<b>4</b>) and the write head (W<b>4</b>). If the magnetic disk drive can start a write operation in this way, it is desirable that the drive determine the position of the write head based on the pattern used to scramble the data in the user data field <b>53</b> and perform offset detection processing accordingly. In this example, pattern AA, pattern BB, and pattern CC are used to scramble the data in the user data fields on the track <b>0</b>, the track <b>1</b>, and the subsequent track, respectively. The magnetic disk drive performs the same offset detection processing as that described in connection with <figref idref="DRAWINGS">FIG. 3(A)</figref>.</p>
<p id="p-0027" num="0026">According to the above description, the present embodiment detects a head offset by identifying the pattern of the Sync mark <b>52</b> in the data (shown in <figref idref="DRAWINGS">FIG. 5</figref>) stored in each data sector (between servo information regions) or identifying the pattern used to scramble the data in the user data field <b>53</b> in each data sector. However, the offset detection may be achieved by using another type of data or a combination of two types of data. In either case, the memory <b>7</b> stores information indicating which type or types of data should be used to detect a head offset.</p>
<p id="p-0028" num="0027">Further according to the present embodiment, the read processing by the read head (R<b>4</b>) and the write processing by the write head (W<b>4</b>) are not simultaneously carried out. That is, the magnetic disk drive performs no read processing when it writes to the disk <b>2</b> after reading written data such as Sync marks <b>52</b>. The reason for this is that if read processing and write processing are simultaneously carried out, the leakage field from the write head (W<b>4</b>) degrades the accuracy of the read processing by the read head (R<b>4</b>). However, they may be simultaneously carried out if no problem arises with the read/write head <b>1</b>. Specifically, referring to <figref idref="DRAWINGS">FIG. 3(A)</figref>, the read head (R<b>4</b>) continues to read the data written in the data sector d<b>02</b> on the track <b>0</b> even when the write head (W<b>4</b>) begins and continues a write operation to the data sector d<b>12</b>. Therefore, the magnetic disk drive can detect the offset of the write head (W<b>4</b>) even while the write head (W<b>4</b>) is performing a write operation. The magnetic disk drive causes the write head (W<b>4</b>) to retry the write operation when it has detected a head offset or found that the above threshold value has been exceeded.</p>
<p id="p-0029" num="0028">The present invention can be applied to magnetic disk drives having a composite magnetic head made up of a write head and a read head, allowing the drives to detect a head offset in data regions (between servo regions) in a write operation. Therefore, the present invention is useful in enhancing the reliability of magnetic disk drives.</p>
<p id="p-0030" num="0029">It is to be understood that the above description is intended to be illustrative and not restrictive. Many embodiments will be apparent to those of skill in the art upon reviewing the above description. The scope of the invention should, therefore, be determined not with reference to the above description, but instead should be determined with reference to the appended claims alone with their full scope of equivalents.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A magnetic disk drive comprising:
<claim-text>a composite magnetic head including a write head and a read head; and</claim-text>
<claim-text>an offset detecting unit configured, before initiation of a data write operation, to detect a head offset in a data region between servo regions based on data written in a data region between servo regions, said written data being read by said read head; and</claim-text>
<claim-text>a memory for storing information indicating which type of data is to be used by said offset detecting unit to perform said detecting.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The magnetic disk drive as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said offset detecting unit uses a pattern of a synchronization signal in said written data to perform said detecting.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The magnetic disk drive as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said offset detecting unit uses a scrambling pattern to perform said detecting, said scrambling pattern being used to scramble user data in said written data.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The magnetic disk drive as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said offset detecting unit uses pattern information related to a portion of said written data to perform said detecting.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The magnetic disk drive as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said offset detecting unit uses pattern information related to multiple types of data contained in said written data to perform said detecting.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The magnetic disk drive as claimed in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a memory for storing information on a positional relationship between said write head and said read head in a write operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The magnetic disk drive as claimed in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said positional relationship information is set for each predetermined track region.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. A magnetic disk drive comprising:
<claim-text>a composite magnetic head including a write head and a read head; and</claim-text>
<claim-text>a processing unit configured, before initiation of a data write operation, to perform processing for detecting a head offset in a data region between servo regions based on data written in a data region between servo regions, said written data being read by said read head; and</claim-text>
<claim-text>a memory for storing information indicating which type of data is to be used by said processing unit to perform said processing.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The magnetic disk drive as claimed in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein said processing unit uses a pattern of a synchronization signal in said written data to perform said processing.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The magnetic disk drive as claimed in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein processing unit uses a scrambling pattern to perform said processing, said scrambling pattern being used to scramble user data in said written data.</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The magnetic disk drive as claimed in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein said processing unit uses pattern information related to a portion of said written data to perform said processing.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The magnetic disk drive as claimed in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein said processing unit uses pattern information related to multiple types of data contained in said written data to perform said processing.</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The magnetic disk drive as claimed in <claim-ref idref="CLM-00008">claim 8</claim-ref>, further comprising:
<claim-text>a memory for storing information on a positional relationship between said write head and said read head in a write operation.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The magnetic disk drive as claimed in <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein said positional relationship information is set for each predetermined track region.</claim-text>
</claim>
</claims>
</us-patent-grant>
