<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07299331-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07299331</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10348181</doc-number>
<date>20030121</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>628</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>12</main-group>
<subgroup>02</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>F</subclass>
<main-group>12</main-group>
<subgroup>16</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>711170</main-classification>
<further-classification>711165</further-classification>
</classification-national>
<invention-title id="d0e53">Method and apparatus for adding main memory in computer systems operating with mirrored main memory</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>5928367</doc-number>
<kind>A</kind>
<name>Nelson et al.</name>
<date>19990700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  6</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6177808</doc-number>
<kind>B1</kind>
<name>Heinrich et al.</name>
<date>20010100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 57</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6295591</doc-number>
<kind>B1</kind>
<name>Bealkowski et al.</name>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711165</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6587909</doc-number>
<kind>B1</kind>
<name>Olarig et al.</name>
<date>20030700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>710302</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>6766429</doc-number>
<kind>B1</kind>
<name>Bland et al.</name>
<date>20040700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711161</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>6775791</doc-number>
<kind>B2</kind>
<name>McAfee</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>714  6</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>6928514</doc-number>
<kind>B2</kind>
<name>Chatterjee et al.</name>
<date>20050800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>711114</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2002/0010875</doc-number>
<kind>A1</kind>
<name>Johnson et al.</name>
<date>20020100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2002/0042893</doc-number>
<kind>A1</kind>
<name>Larson et al.</name>
<date>20020400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00010">
<othercit>Krontz et al., “Computer System Architecture With Hot Pluggable Main Memory Boards,” U.S. Appl. No. 10/179,001, filed Jun. 25, 2002, 36 pp.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00011">
<othercit>Jansen et al., “Hot-plug memory curtails server downtime,” EE Times, Jan. 9, 2002, 5 pp., [online] http://www.eetimes.com/in<sub>—</sub>focus/communications/OEG20020109S0040.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>8</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>None</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>1</number-of-drawing-sheets>
<number-of-figures>2</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040153723</doc-number>
<kind>A1</kind>
<date>20040805</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Depew</last-name>
<first-name>Kevin G.</first-name>
<address>
<city>Kingwood</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Heinrich</last-name>
<first-name>David F.</first-name>
<address>
<city>Tomball</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="003" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Nguyen</last-name>
<first-name>Vincent</first-name>
<address>
<city>Houston</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="004" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Engler</last-name>
<first-name>David W.</first-name>
<address>
<city>Cypress</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Hewlett-Packard Development Company, L.P.</orgname>
<role>02</role>
<address>
<city>Houston</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Sough</last-name>
<first-name>Hyung</first-name>
<department>2188</department>
</primary-examiner>
<assistant-examiner>
<last-name>Doan</last-name>
<first-name>Duc T.</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">The specification may disclose a computer system that may have two memory boards operated in a mirrored mode. The computer system may have the ability to operate in a mirrored mode with the memory boards having varying amounts of memory. This feature may allow for adding main memory to the computer system while the computer system is operational.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="75.35mm" wi="129.29mm" file="US07299331-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="250.78mm" wi="178.39mm" file="US07299331-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">Computer systems may have main memory operated in a mirrored mode, meaning that two sets of main memory contents may be maintained within the computer. Should one of the sets of main memory contents fail as indicated, for example, by an uncorrectable error, the computer system may continue operating using the mirrored or second set, rather than experiencing a computer system failure. Computer systems operating mirrored main memory may implement the mirroring feature across two independent memory boards. Thus, if memory on one memory board experiences a failure, the computer system may continue to operate (in a non-mirrored state) using the remaining functional memory board while the failed memory board may be removed, repaired and/or replaced.</p>
<p id="p-0003" num="0002">After initial insertion of a new or repaired memory board in a computer system designed to operate in mirrored mode, the newly inserted board may not have a complete copy of the main memory contents. The computer system may copy the data and programs, on a location-by-location basis, from the active memory board to a corresponding location in the new memory board. Because of the location-by-location copying, it may be necessary to operate main memory boards having the same amount of memory. Expanding the amount of main memory in a computer system designed to operate mirrored main memory may therefore require powering down the computer system and adding memory to the memory boards. Thus, it may not be possible to add main memory to a computer system while in operation, because at some point one of the memory boards may have a different amount of memory.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0002" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0004" num="0003">For a detailed description of the embodiments of the invention, reference will now be made to the accompanying drawings in which:</p>
<p id="p-0005" num="0004"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a computer system constructed in accordance with embodiments of the invention; and</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 2</figref> illustrates a partial computer system implementation in accordance with embodiments of the invention.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0003" level="1">NOTATION AND NOMENCLATURE</heading>
<p id="p-0007" num="0006">Certain terms are used throughout the following description and claims to refer to particular system components. As one skilled in the art will appreciate, computer companies may refer to a component by different names. This document does not intend to distinguish between components that differ in name but not function.</p>
<p id="p-0008" num="0007">In the following discussion and in the claims, the terms “including” and “comprising” are used in an open-ended fashion, and thus should be interpreted to mean “including, but not limited to . . . ”. Also, the term “couple” or “couples” is intended to mean either an indirect or direct electrical connection. Thus, if a first device couples to a second device, that connection may be through a direct electrical connection, or through an indirect electrical connection via other devices and connections.</p>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION</heading>
<p id="p-0009" num="0008">The following discussion is directed to various embodiments of the invention. The embodiments disclosed should not be interpreted or otherwise used as limiting the scope of the disclosure, including the claims, unless otherwise specified. In addition, one skilled in the art will understand that the following description has broad application. The discussion of any embodiment is meant only to be exemplary, and not intended to intimate that the scope of the disclosure, including the claims, is limited to these embodiments.</p>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1</figref> illustrates a computer system <b>100</b> implemented in accordance with embodiments of the invention. In particular, the computer system <b>100</b> may comprise a plurality of central processing units (CPUs or processors) <b>2</b>A-D coupled to a main memory, which may be implemented using memory arrays on one or more memory boards <b>4</b>, <b>6</b>. The processors <b>2</b> may couple to the memory array on each memory board <b>4</b>, <b>6</b> by way of a bridge logic unit <b>8</b>. In the exemplary computer system <b>100</b>, the bridge logic unit <b>8</b> may be termed “North Bridge” based on its location in computer system drawings. The processors may be Intel® Pentium® 4 XEON processors, or Itanium™ processors; however, any suitable processor or array of processors may be used without departing from the scope and spirit of the invention. The system <b>100</b> may be implemented using only a signal processor, if desired. The processors <b>2</b> may couple to the North Bridge <b>8</b> by way of a host bus <b>10</b>.</p>
<p id="p-0011" num="0010">The main memory on memory boards <b>4</b>, <b>6</b> may couple to the North Bridge <b>8</b> through a memory bus <b>12</b>. North Bridge <b>8</b> may comprise a memory control unit (not shown) that controls transactions to the main memory on memory boards <b>4</b>, <b>6</b> by sending the necessary control signals during memory accesses. The main memory on the memory boards <b>4</b>, <b>6</b> may function as the working memory for the processors <b>2</b> and may comprise, on each memory board, a conventional memory device or array of memory devices in which programs, instructions and data may be stored. Thus memory boards <b>4</b>, <b>6</b> may each contain any suitable type of memory, such as dynamic random access memory (DRAM) or any other various types of DRAM devices such as synchronous (SDRAM), extended data output DRAM (EDO-DRAM), double-data-rate SDRAM (DDR SDRAM), and the like. In at least some of the embodiments, however, the main memory on memory boards <b>4</b>, <b>6</b> may be implemented using DDR SDRAM packaged in dual in-line memory modules (DIMMS).</p>
<p id="p-0012" num="0011">The computer system <b>100</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref> may also comprise a second bridge logic device <b>14</b> that bridges a primary expansion bus <b>16</b> to various secondary buses, such as a low pin count (LPC) bus <b>18</b>, a read only memory (ROM) bus <b>20</b>, and a peripheral component interconnect (PCI) bus <b>22</b>. Much like the North Bridge <b>8</b>, the bridge device <b>14</b> may be referred to as a “South Bridge” based on its location in computer system drawings. In at least some embodiments, the North Bridge <b>8</b> and South Bridge <b>14</b> may be part of a chipset produced by Server Works, Inc., such as the Grand Champion™ HE Chipset.</p>
<p id="p-0013" num="0012">In embodiments such as those illustrated by <figref idref="DRAWINGS">FIG. 1</figref> utilizing the Grand Champion™ HE chipset, the primary expansion bus <b>16</b> may comprise a Thin Intermodule Bus, which is a proprietary bus of Server Works, Inc.; however, the computer system <b>100</b> illustrated in <figref idref="DRAWINGS">FIG. 1</figref> is not limited to any particular type of chipset, and thus the primary expansion bus <b>16</b> may comprise other suitable buses such as a PCI bus, or a Hub-link bus (which is a proprietary bus of Intel Corporation).</p>
<p id="p-0014" num="0013">Referring still to <figref idref="DRAWINGS">FIG. 1</figref>, a ROM device <b>24</b> may couple, by way of the ROM bus <b>20</b>, to the South Bridge <b>14</b>. The ROM <b>24</b> may contain software programs executable by the processors <b>2</b>. The programs on ROM <b>26</b> may be basic input/output system (BIOS) commands, stackless code executed during power-on self test (POST) procedures, as well as dedicated programs that are executed based on the issuance of system management interrupts (SMIs) by various computer system devices, discussed more fully below.</p>
<p id="p-0015" num="0014">Still referring to <figref idref="DRAWINGS">FIG. 1</figref>, the computer system <b>100</b> may also comprise a input/output (I/O) controller <b>26</b> that may couple to the South Bridge <b>14</b> by way of LPC bus <b>18</b>. The I/O controller <b>26</b> may couple a keyboard <b>28</b>, mouse <b>30</b> and various other input/output devices to the computer system <b>100</b>.</p>
<p id="p-0016" num="0015">The computer system <b>100</b> may further comprise a hard disk or hard drive (HD) <b>32</b> that may couple to the South Bridge <b>14</b> by way of PCI bus <b>22</b>. While only a single hard disk is illustrated in <figref idref="DRAWINGS">FIG. 1</figref>, there may be multiple hard disks <b>32</b> operated as individual storage devices, or possibly in a redundant array of independent devices (RAID) configuration.</p>
<p id="p-0017" num="0016">The computer system <b>100</b> may also comprise an advanced server management (ASM) device <b>34</b>. The ASM <b>34</b> may couple to the South Bridge <b>14</b>, and remaining computer system components, by way of the PCI bus <b>22</b>. The ASM <b>34</b> may be a microcontroller programmed to act as a gateway between the internet, or other network systems, and components of the computer system <b>100</b>. The ASM <b>34</b> may also couple to the processors <b>2</b> by way of a SMI# signal line <b>35</b>. Assertion of the signal line <b>35</b> by the ASM <b>34</b> may act as a system management interrupt (SMI) to the processors, which in response may temporarily cease execution of an operating system and user level programs, and execute SMI routines to perform a variety of hardware level functions.</p>
<p id="p-0018" num="0017">The memory boards <b>4</b>, <b>6</b> may be selectively removed and added to the computer system without requiring the computer system <b>100</b> to shut down. Programmable array logic <b>36</b>, which may couple to quick switch (QS) devices <b>38</b>, may assist the computer system <b>100</b> in continuing to operate as the memory boards <b>4</b>, <b>6</b> are removed and added to the system. In particular, the PAL <b>36</b> may assist with insertion and removal of the memory boards such as moving a latch prior to removal, opening the quick switch devices, detecting removal, detecting insertion, closing quick switch devices, communicating with the ASM <b>34</b>, and the like. Co-pending patent application Ser. No. 10/179,001 filed Jun. 25, 2002 titled “Computer System Architecture With Hot Pluggable Main Memory Boards,” incorporated by reference herein as if reproduced in full below, illustrates computer systems having the ability to accept hot pluggable main memory boards.</p>
<p id="p-0019" num="0018">Embodiments of the invention, such as computer system <b>100</b> shown in <figref idref="DRAWINGS">FIG. 1</figref>, may utilize the main memory on memory boards <b>4</b>, <b>6</b> in a mirrored fashion. That is, memory board <b>4</b> may contain a set of data and programs utilized by the processors <b>2</b>. Likewise, memory board <b>6</b> may also contain a duplicate set of the data and programs used by processors <b>2</b>—mirrored main memory. While one of the memory boards <b>4</b>, <b>6</b> may be designated as the primary board for memory reads, each data write may take place to each memory board <b>4</b>, <b>6</b>. Should the memory board designated as “primary” experience a memory error, computer system <b>100</b> may remain operational by reading and writing to the memory board that did not experience the failure. In such a circumstance, the computer system <b>100</b> may also notify a computer system user of the fault, allowing the user to correct the problem with the faulty memory board, such as replacing or repairing the board.</p>
<p id="p-0020" num="0019">Situations may exist where additional memory is desired in a computer system operating mirrored main memory. For example, computer system <b>100</b> operating in a mirrored mode may have four gigabytes of main memory, two gigabytes on each memory board <b>4</b>, <b>6</b>. Because of the mirrored operation, the processors <b>2</b> may only have an operational amount of two gigabytes of main memory. If it is desired to increase the operational amount of main memory, for example to four gigabytes, the memory capacity of each memory board <b>4</b>, <b>6</b> may be increased to four gigabytes (eight gigabytes total).</p>
<p id="p-0021" num="0020">In various embodiments of the present invention, memory may be added to the computer system <b>100</b> while it is in an operational state, even if the computer system <b>100</b> has no further available slots for insertion of memory boards. A first act in adding main memory may be removal of one of the memory boards <b>4</b>, <b>6</b>. Co-pending application Ser. No. 10/179,001 titled “Computer System Architecture with Hot Pluggable Main Memory Boards,” incorporated by reference above, may describe the acts the computer system <b>100</b> may utilize in powering-down, disconnecting, and allowing removal of a memory board. The first step in this process may be notifying. The computer system first may be notified that a memory board is to be removed. This notification may take place electronically, or may take place by changing the position of a latch or switch on the memory board. Once the computer system is notified that the board is to be removed, the computer system may “break the mirror,” forcing the computer system to operate in a non-mirrored state using the remaining memory board. Thereafter, the computer system may power-down the board to be removed and notify a user that removal is possible. Once the memory board has been removed, main memory may be added to the removed memory board, such as by installing additional main memory devices or replacing existing devices with devices of larger capacity. Once the computer user has completed the memory upgrade on the removed memory board, the memory board may be inserted into the computer system <b>100</b>.</p>
<p id="p-0022" num="0021">Insertion of the memory board with additional memory may invoke BIOS routines which may apply power, and configure and initialize the memory on the newly inserted memory board. Once initialized, in at least some embodiments, the North Bridge <b>8</b> may copy data and programs to the newly installed memory board from the memory board that remained in the system. The copying may be in preparation for returning to mirrored operation.</p>
<p id="p-0023" num="0022">Embodiments of the invention copy data from the memory board <b>4</b>, <b>6</b> that remained to the newly installed memory board, possibly on a row-by-row basis within each memory bank. A memory board <b>4</b>, <b>6</b> in accordance with embodiments of this invention may comprise a plurality of sockets (not specifically shown) for accepting main memory packaged in memory modules, such as dual inline memory modules (DIMMS). The main memory on each DIMM device may be divided logically into a plurality of banks, and the data within each bank may be accessed on a row and column basis. Copying data from the memory board that remained in the computer system to the newly installed memory board may take place by copying, on a row-by-row basis within each bank, to a corresponding bank in the newly installed memory board. Main memory may be added to the memory board by installing additional memory modules in empty sockets on the memory boards <b>4</b>, <b>6</b>. Alternatively, the additional main memory may be installed by replacing memory modules on the memory boards <b>4</b>, <b>6</b> with memory modules having larger memory capacity, i.e., longer rows, greater number of columns, or both.</p>
<p id="p-0024" num="0023">Once the memory contents of the memory board that remained in the computer system are copied to the newly inserted memory board, mirroring may again be implemented with either memory board designated as “primary” for read purposes. The newly installed memory board may have a larger memory capacity than the memory board that remained; however, because the computer system <b>100</b> may be operating in a mirrored state without the memory board that remained in the system having a corresponding set of additional memory, the operating system may not be notified that additional memory is available.</p>
<p id="p-0025" num="0024">The next step in adding memory to the computer system <b>100</b> may be removal of the second memory board in the computer system. Implementation of the removal of the second board may be similar to that of the first memory board. Once removed, the amount of memory on the removed memory board may be increased, such as by installing additional memory modules, replacing existing memory modules with modules having larger capacity, or a combination of both.</p>
<p id="p-0026" num="0025">Upon insertion of the second memory board having an expanded memory capacity into the computer system <b>100</b>, the BIOS may recognize the insertion, and power and initialize the memory on the newly inserted board. Thereafter, the BIOS may copy memory contents from the memory board that remained (and which has an expanded, but partially unused, memory capacity in this exemplary discussion) to the newly inserted board, and enable mirroring. Finally, once both memory boards <b>4</b>, <b>6</b> have additional main memory, the BIOS may notify the operating system that additional memory may be available, possibly through Advanced Configuration Power Interface (ACPI) methods. Co-pending application Ser. No. 10/179,001 titled “Computer System Architecture With Hot Pluggable Main Memory Boards” may discuss making available the additional memory to the operating system.</p>
<p id="p-0027" num="0026">In the embodiments described with respect to <figref idref="DRAWINGS">FIG. 1</figref>, the chipset, in particular the North Bridge <b>8</b>, may be responsible for implementing mirroring as well as copying memory contents from board to board after insertion of a new memory board. <figref idref="DRAWINGS">FIG. 2</figref> illustrates alternative embodiments of the invention in which a North Bridge <b>50</b> may not directly support main memory operating in a mirrored mode. In the alternative embodiments, a programmable array logic <b>52</b> may couple between the memory boards <b>54</b>, <b>56</b> and the North Bridge <b>50</b> on the memory bus <b>12</b>. In the alternative embodiments, the North Bridge <b>50</b> may not be aware that memory mirroring is utilized in the computer system. In this situation, the North Bridge <b>50</b> may make memory writes, which the PAL <b>52</b> may accept and convert such that each memory write takes place to both memory board <b>54</b>, <b>56</b>. For memory reads, the North Bridge <b>50</b> may assert various control signals to the PAL <b>52</b>, which may in turn read the requested data from either memory board <b>54</b> or memory board <b>56</b>, whichever may be designated as primary.</p>
<p id="p-0028" num="0027">Increasing the amount of memory in the embodiments illustrated in <figref idref="DRAWINGS">FIG. 2</figref> may involve removal of one of the memory boards <b>54</b>, <b>56</b>, and to facilitate removal, PAL <b>52</b> may control the quick switches <b>58</b> in a manner similar to PAL <b>36</b> of the embodiments illustrated of <figref idref="DRAWINGS">FIG. 1</figref>. After reinsertion of the upgraded memory board, PAL <b>52</b> may invoke, or cause to be invoked, system management interrupts (SMIs) by communicating with ASM <b>34</b>, which in turn may assert the SMI# signal line <b>35</b>. The SMIs may invoke BIOS routines to perform the copying of memory contents from the memory board that remained in the computer system to the newly inserted memory board. This may be accomplished, for example, by reading memory locations on the memory board that remained, then writing the same location (with PAL <b>52</b> directing the writes to both memory boards). Data may be copied in small portions using numerous SMIs to avoid staying in the SMI mode too long, which may adversely affect computer system operation. Once copying is complete, either the North Bridge <b>50</b> or the PAL <b>52</b> may designate the newly inserted board as the primary memory board in the system, thus allowing removal of the other memory board, upgrading of the memory of the other memory board, and re-installation. Once the memory contents have been copied to the re-installed board, the computer system <b>100</b> again may operate in a mirrored mode. The BIOS may then notify the operating system, possibly through ACPI methods, of the newly available main memory.</p>
<p id="p-0029" num="0028">The above discussion is meant to be illustrative of the principles and various embodiments of the present invention. Numerous variations and modifications will become apparent to those skilled in the art once the above disclosure is fully appreciated. It is intended that the following claims be interpreted to embrace all such variations and modifications.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A computer system comprising:
<claim-text>a processor;</claim-text>
<claim-text>a first memory array and a second memory array;</claim-text>
<claim-text>a first bridge logic coupling the processor to the first and second memory arrays;</claim-text>
<claim-text>wherein the computer system operates the first and second memory arrays in a mirrored mode even if the first and second memory arrays have differing memory capacities;</claim-text>
<claim-text>a programmable array logic (PAL) coupled between the first bridge logic and the first and second memory arrays, wherein the programmable array logic operates the first and second memory arrays in the mirrored mode;</claim-text>
<claim-text>wherein the computer system remains operational if the first memory array is removed from the computer system, and wherein the PAL invokes basic input output system (BIOS) routines to copy the information from the second memory array to the first memory array if the first memory array is installed with a greater memory capacity than the second memory array.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The computer system as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>wherein the first memory array further comprises a memory board comprising at least one dual inline memory module (DIMM); and</claim-text>
<claim-text>wherein the second memory array further comprises a memory board comprising at least one dual inline memory module (DIMM).</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The computer system as defined in <claim-ref idref="CLM-00001">claim 1</claim-ref> further comprising:
<claim-text>wherein the first memory array further comprises double-data-rate synchronous dynamic random access memory (DDR SDRAM); and</claim-text>
<claim-text>wherein the second memory array further comprises DDR SDRAM.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. A method comprising:
<claim-text>operating a computer system having a first and second main memory boards in a fully mirrored mode of operation, the mirroring across the first and second main memory boards;</claim-text>
<claim-text>removing the first main memory board from the computer system while continuing to read and write the second main memory board;</claim-text>
<claim-text>installing a third main memory board in the computer system while continuing to read and write the second main memory board, the third main memory board having a larger memory capacity than the second main memory board;</claim-text>
<claim-text>invoking basic input output system (BIOS) routines by a programmable array logic (PAL) coupled between the memory boards and a bridge device, the BIOS routines copy the information from the second memory board to the third memory board; and</claim-text>
<claim-text>operating the computer in the fully mirrored memory mode across the second and third main memory boards.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method as defined in <claim-ref idref="CLM-00004">claim 4</claim-ref> wherein the first and third main memory boards are the same memory board.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method as defined in <claim-ref idref="CLM-00004">claim 4</claim-ref> further comprising:
<claim-text>removing the second main memory board from the computer system while continuing to read and write the third main memory board;</claim-text>
<claim-text>installing a fourth main memory board in the computer system while continuing to read and write the third main memory board, the fourth main memory board having a same memory capacity as the third main memory board;</claim-text>
<claim-text>invoking basic input output system (BIOS) routines to copy the information from the third memory board to the fourth memory board; and</claim-text>
<claim-text>operating the computer in the mirrored memory mode across the third and fourth main memory boards.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method as defined in <claim-ref idref="CLM-00006">claim 6</claim-ref> wherein the second and fourth main memory boards are the same memory board.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method as defined in <claim-ref idref="CLM-00007">claim 7</claim-ref> wherein the first and third main memory boards are the same memory board.</claim-text>
</claim>
</claims>
</us-patent-grant>
