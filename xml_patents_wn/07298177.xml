<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298177-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298177</doc-number>
<kind>B1</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11118897</doc-number>
<date>20050429</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>142</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>K</subclass>
<main-group>19</main-group>
<subgroup>096</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>326121</main-classification>
<further-classification>326 98</further-classification>
</classification-national>
<invention-title id="d0e53">Method and mechanism to determine keeper size</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>6784695</doc-number>
<kind>B1</kind>
<name>Yeager et al.</name>
<date>20040800</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 98</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>6914452</doc-number>
<kind>B2</kind>
<name>Gauthier et al.</name>
<date>20050700</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 98</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>2004/0076059</doc-number>
<kind>A1</kind>
<name>Khellah et al.</name>
<date>20040400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>365203</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>2004/0189347</doc-number>
<kind>A1</kind>
<name>Hsu et al.</name>
<date>20040900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326121</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>2006/0049850</doc-number>
<kind>A1</kind>
<name>Chu et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 98</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>2006/0132187</doc-number>
<kind>A1</kind>
<name>Tschanz et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 95</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2006/0214695</doc-number>
<kind>A1</kind>
<name>Lih et al.</name>
<date>20060900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>326 98</main-classification></classification-national>
</citation>
</references-cited>
<number-of-claims>15</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>326121</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>7</number-of-drawing-sheets>
<number-of-figures>8</number-of-figures>
</figures>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Im</last-name>
<first-name>Yonghee</first-name>
<address>
<city>Pleasanton</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Qin</last-name>
<first-name>Yong</first-name>
<address>
<city>Sunnyvale</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Truong</last-name>
<first-name>Bobby K.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<orgname>Hickman Palermo Troung &amp; Becker LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Sun Microsystems, Inc.</orgname>
<role>02</role>
<address>
<city>Santa Clara</city>
<state>CA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Barnie</last-name>
<first-name>Rexford</first-name>
<department>2819</department>
</primary-examiner>
<assistant-examiner>
<last-name>Tran</last-name>
<first-name>Thienvu</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method and apparatus for determining the size of a keeper transistor in a dynamic circuit is provided. A first portion of a dynamic circuit, comprising the keeper transistor, is analyzed to determine keeper current data that describes what size the keeper transistor would need to be to supply a specified amount of keeper current. A second portion of the dynamic circuit is analyzed, separate from the first portion, to determine an estimated amount of leakage current that passes through the PDN when the PDN is not actively discharging the dynamic node may be determined. The size for the keeper transistor that enables the keeper transistor, when activated, to produce an amount of keeper current that is substantially equal to the estimated amount of leakage current may be determined based on the analysis performed on the first and second portion.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="188.89mm" wi="257.05mm" file="US07298177-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="183.22mm" wi="155.36mm" file="US07298177-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="168.40mm" wi="158.58mm" file="US07298177-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="232.66mm" wi="117.18mm" file="US07298177-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="158.07mm" wi="130.30mm" file="US07298177-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="189.06mm" wi="109.47mm" file="US07298177-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="214.88mm" wi="148.17mm" file="US07298177-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="230.63mm" wi="136.48mm" orientation="landscape" file="US07298177-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND</heading>
<p id="p-0002" num="0001">A dynamic circuit is a circuit whose output is triggered by a clock signal applied to the dynamic circuit. A dynamic circuit operates in two different modes, namely an evaluation mode and a pre-charge mode, depending on whether the value of the clock signal, applied to the dynamic circuit, has a logic high value (in other words, a “1”) or a logic low value (in other words, a “0”).</p>
<p id="p-0003" num="0002">When the clock signal applied to the dynamic circuit has a logic high value, the dynamic circuit is in evaluation mode. In evaluation mode, the logic of the dynamic circuit is evaluated using the inputs to the dynamic circuit. Thus, when a dynamic circuit is in evaluation mode, the output of the dynamic circuit depends upon the evaluation of the logic of the dynamic circuit using the inputs applied to the dynamic circuit.</p>
<p id="p-0004" num="0003">When the clock signal applied to the dynamic circuit has a logic low value, the dynamic circuit is in pre-charge mode. In pre-charge mode, the logic of the dynamic circuit is not evaluated. The output of a dynamic circuit in pre-charge mode is driven to a logical low value, since the logic of the dynamic circuit is not being evaluated.</p>
<p id="p-0005" num="0004"><figref idref="DRAWINGS">FIGS. 1A and 1B</figref> are both illustrations of illustrative dynamic circuits. When the dynamic circuit <b>100</b> of <figref idref="DRAWINGS">FIG. 1A</figref> is in pre-charge mode, the clock signal will have a logic low value. As a result, the dynamic node <b>104</b> will be driven to a logic high value because the transistor <b>110</b> will be turned on, thereby coupling the dynamic node <b>104</b> to voltage source <b>112</b>. This causes the output signal <b>106</b> of the dynamic circuit <b>100</b> to be driven to a logic low value (due to inverter <b>108</b>).</p>
<p id="p-0006" num="0005">During the evaluation mode of the dynamic circuit <b>100</b>, the clock signal will have a logic high value, which turns off transistor <b>110</b>. Since transistor <b>110</b> is turned off, the dynamic node <b>104</b> is not connected to voltage source <b>112</b> when the dynamic circuit <b>100</b> is in evaluation mode.</p>
<p id="p-0007" num="0006">If, during evaluation mode, the logic of the pull down network (PDN) <b>102</b> is evaluated to a logic high, the PDN <b>102</b> will discharge the dynamic node <b>104</b> and pull the voltage of the dynamic node <b>104</b> down to a logic low voltage (to ground). This causes the output signal <b>106</b> of the dynamic circuit <b>100</b> to have a logic high value due to inverter <b>108</b>.</p>
<p id="p-0008" num="0007">On the other hand, if during evaluation mode, the PDN <b>102</b> is not evaluated to a logic high value, then the PDN <b>102</b> will not drive the dynamic node <b>104</b> to a logic low voltage since the dynamic node <b>104</b> will not be connected to ground <b>114</b>. Rather, the PDN <b>102</b> simply leaves the voltage of the dynamic node <b>104</b> as is. The charge that was imposed on the dynamic node <b>104</b> during the pre-charge mode is relied upon to keep the dynamic node <b>104</b> at a logic high level. When the voltage of the dynamic node <b>104</b> has a logic high value, the output of the dynamic circuit <b>100</b> has a logic low value because of inverter <b>108</b>. As the above discussion shown, when the dynamic circuit is in evaluation mode and the PDN <b>102</b> is evaluated as having a logic low value, nothing is driving the dynamic node <b>104</b>. Thus, under these conditions, the dynamic node <b>104</b> is a floating node.</p>
<p id="p-0009" num="0008">While the dynamic node <b>104</b> is a floating node, current may leak from the dynamic node <b>104</b> through the PDN <b>102</b>. If enough current leaks from the dynamic node <b>104</b> through the PDN <b>102</b>, the resulting reduction in the charge of the dynamic node <b>104</b> may cause the dynamic node <b>104</b> to cross over from a logic high level to a logic low level. This would, in turn, cause the output of the dynamic circuit to change from having a logic low value to a logic high value. If this happens, a logical failure results because the output signal <b>106</b> should have been a logic low value.</p>
<p id="p-0010" num="0009">The keeper transistor <b>152</b> of <figref idref="DRAWINGS">FIG. 1B</figref> prevents this situation from occurring in dynamic circuit <b>150</b>. As shown in <figref idref="DRAWINGS">FIG. 1B</figref>, if the PDN <b>154</b> does not discharge the dynamic node <b>156</b>, then the dynamic node <b>156</b> will retain a logical high voltage due to the keeper transistor <b>152</b>, and the output signal <b>158</b> of the dynamic circuit will remain at logic low voltage. When the keeper transistor <b>152</b> is turned on (as is the case when the output signal <b>158</b> has a logic low value), the keeper transistor <b>152</b> provides an amount of current to the dynamic node <b>156</b> to compensate the current leaking from the dynamic node <b>156</b>. Thus, the keeper transistor <b>152</b> serves to retain the pre-charged voltage level at the dynamic node <b>156</b> of dynamic circuit <b>150</b> when the dynamic circuit <b>150</b> is in evaluation mode.</p>
<p id="p-0011" num="0010">The size of the transistor can directly impact the delay of the circuit. Thus, it is desirable to use a keeper transistor whose size is large enough that the keeper transistor provides enough current to the dynamic node to compensate for the current leaking from the dynamic node, but not so large as to unduly slow down the evaluation of the dynamic circuit, as larger keeper transistors require additional time to transition from being turned on and off.</p>
<p id="p-0012" num="0011">Traditionally, to determine the size of a keeper transistor, an arbitrary initial size is chosen by a circuit designer for the keeper transistor. The initial size of the keeper transistor may be based on the size of the keeper transistor that the circuit designer feels is a good starting point based on the experience of the circuit designer in view of the characteristics of the dynamic circuit. After selecting the initial size of the keeper transistor, the circuit designer may perform a simulation of the dynamic circuit using the initial selected keeper transistor size to ensure that the selected size of the keeper transistor causes the dynamic circuit to perform within a specified set of requirements, such as a requirement that the voltage level of the dynamic node remains at some specified level when the dynamic circuit is in the evaluation mode.</p>
<p id="p-0013" num="0012">If a chosen size of the keeper transistor does not perform as expected, then the circuit designer may fine-tune the size of the keeper transistor by (a) choosing a new size of the keeper transistor and (b) performing another simulation of the dynamic circuit using the new size of the keeper transistor. The circuit designer may repeat these steps as necessary to ensure that the chosen size of the keeper transistor causes the dynamic circuit to perform within a specified set of requirements. Unfortunately, such an approach requires numerous iterations.</p>
<heading id="h-0002" level="1">SUMMARY</heading>
<p id="p-0014" num="0013">Techniques are provided for an efficient approach for determining the size of a keeper transistor in a dynamic circuit. Embodiments of the invention operate under the recognition that such an efficient approach may be performed by analyzing the simulated behavior of each of a first portion of the dynamic circuit, comprising a keeper transistor, and a second portion of the dynamic circuit, comprising a PDN and a pre-charge transistor, separate from each other. After analyzing each of the first portion and the second portion of the dynamic circuit separately from each other, a size for the keeper transistor that enables the keeper transistor, when activated, to produce an amount of keeper current that is substantially equal to the estimated amount of current leaking from the dynamic node may be determined.</p>
<p id="p-0015" num="0014">In one embodiment, initially the first portion of the dynamic circuit is analyzed to determine keeper current data that describes what size the keeper transistor would need to be to supply a specified amount of keeper current. Thereafter, the second portion of the dynamic circuit is analyzed, separate from the first portion of the dynamic circuit, to determine characteristics of components in the second portion, e.g., an estimated amount of leakage current that passes through the PDN when the PDN is not actively discharging the dynamic node may be determined.</p>
<p id="p-0016" num="0015">After analyzing the first portion and the second portion separately, the size for the keeper transistor that enables the keeper transistor, when activated, to produce an amount of keeper current that is substantially equal to the estimated amount of leakage current may be determined based on the analysis performed on the second portion of the dynamic circuit and the keeper current data. For example, the size of the keeper transistor may be determined by using the keeper current data to identify what size the keeper transistor would need to be to supply an amount of keeper current substantially equal to the estimated amount of leakage current.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0017" num="0016">The embodiments of invention described herein are illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings and in which like reference numerals refer to similar elements and in which:</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIG. 1A</figref> is an illustration of a first illustrative dynamic circuit;</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 1B</figref> is an illustration of a second illustrative dynamic circuit;</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart illustrating the steps of determining the size of a keeper transistor according to an embodiment of the invention;</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 3</figref> is an illustration of a first portion of a dynamic circuit, which includes a keeper transistor, according to an embodiment of the invention;</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 4</figref> is an illustration of keeper current data according to an embodiment of the invention;</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 5</figref> is an illustration of a second portion of a dynamic circuit, which includes a PDN and a pre-charge transistor, according to an embodiment of the invention;</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 6</figref> is an illustration of a dynamic circuit according to an embodiment of the invention; and</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram that illustrates a computer system upon which an embodiment of the invention may be implemented.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF EMBODIMENT(S)</heading>
<p id="p-0026" num="0025">In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the embodiments of invention described herein. It will be apparent, however, that the embodiments of invention described herein may be practiced without these specific details. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the embodiments of invention described herein.</p>
<heading id="h-0005" level="1">Functional Overview</heading>
<p id="p-0027" num="0026">Embodiments of the invention advantageously provide an efficient approach for determining the size of a keeper transistor in a dynamic circuit. Embodiments of the invention operate under the recognition that such an efficient approach may be performed by analyzing the simulated behavior of each of a first portion of the dynamic circuit, comprising a keeper transistor, and a second portion of the dynamic circuit, comprising a PDN and a pre-charge transistor, separate from each other. After analyzing each of the first portion and the second portion of the dynamic circuit separately from each other, a size for the keeper transistor that enables the keeper transistor, when activated, to produce an amount of keeper current that is substantially equal to the estimated amount of current leaking from the dynamic node may be determined.</p>
<p id="p-0028" num="0027">In one embodiment, initially the first portion of the dynamic circuit is analyzed to determine keeper current data. Keeper current data is data that describes what size the keeper transistor would need to be to supply a specified amount of keeper current (which is current flowing through the keeper transistor when the keeper transistor is turned on). Since the amount of current supplied by a transistor is substantially proportional to its size, keeper current data for a large set of keeper transistor sizes may be extrapolated from keeper current data for a smaller set of keeper transistor sizes. This step is performed by analyzing the keeper transistor of a dynamic circuit separate from the PDN and pre-charge transistor of the dynamic circuit. Note that this step be omitted if keeper current data is already obtained or otherwise available.</p>
<p id="p-0029" num="0028">Thereafter, the second portion of the dynamic circuit may be analyzed separate from the first portion of the dynamic circuit to determine characteristics of components in the second portion. For example, an estimated amount of leakage current that passes through the PDN when the pre-charge transistor is not pre-charging the dynamic node and the PDN is not actively discharging the dynamic node may be determined.</p>
<p id="p-0030" num="0029">After analyzing the first portion and the second portion separately, the size for the keeper transistor that enables the keeper transistor, when activated, to produce an amount of keeper current that is substantially equal to the estimated amount of leakage current may be determined based on the analysis performed on the second portion of the dynamic circuit and the keeper current data. For example, the size of the keeper transistor may be determined by using the keeper current data to identify what size the keeper transistor would need to be to supply an amount of keeper current substantially equal to the estimated amount of leakage current.</p>
<p id="p-0031" num="0030">A keeper transistor-sizing tool, which is a software program capable of simulating the operation of circuits, may be used to perform one or more of the above-described steps. Having described the high-level functional steps performed by an embodiment of the invention to determine the size of a keeper transistor, additional embodiments of the invention shall now be presented in greater detail.</p>
<heading id="h-0006" level="1">Determining Keeper Current Data</heading>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 2</figref> is a flowchart illustrating the functional steps of determining the size of a keeper transistor according to an embodiment of the invention. In an embodiment of the invention, the functional steps of <figref idref="DRAWINGS">FIG. 2</figref> may be performed by a keeper transistor-sizing tool, which is explained in further detail below. As explained in more detail below, steps <b>210</b> and <b>220</b> each analyze a different portion of a dynamic circuit independently from one another, while in step <b>230</b>, the results of steps <b>210</b> and <b>220</b> are used in conjunction to determine the size of the keeper transistor.</p>
<p id="p-0033" num="0032">Initially, in step <b>210</b>, keeper current data is determined. <figref idref="DRAWINGS">FIG. 3</figref> is an illustration of a first portion <b>300</b> of a dynamic circuit, which includes a keeper transistor <b>310</b>, according to an embodiment of the invention. The performance of step <b>210</b> may be performed by generating keeper current data for the keeper transistor <b>310</b> of <figref idref="DRAWINGS">FIG. 3</figref>. Keeper current data is data that describes what size the keeper transistor <b>310</b> would need to be to supply a specified amount of keeper current <b>320</b>.</p>
<p id="p-0034" num="0033">Since the amount of current supplied by a transistor is substantially proportional to its size, keeper current data for a large set of keeper transistor sizes may be extrapolated from keeper current data for a smaller set of keeper transistor sizes. Thus, keeper current data may be generated by performing a simulation of the circuit of <figref idref="DRAWINGS">FIG. 3</figref> for a small number of sizes of keeper transistor <b>310</b> to determine the amount of keeper current <b>320</b> produced by each size, and thereafter interpolating the data to determine the amount of keeper current <b>320</b> produced by other sizes of keeper transistor <b>310</b> not directly simulated.</p>
<p id="p-0035" num="0034">Keeper current data may be represented in a variety of formats. In one embodiment of the invention, keeper current data may be represented in a graphical format. <figref idref="DRAWINGS">FIG. 4</figref> is an illustration <b>400</b> of keeper current data, represented in a graphical format, according to an embodiment of the invention. Keeper current may also be referred to as the “saturation current” of the keeper transistor <b>310</b> since the keeper current <b>320</b> refers to the current when the operation of the keeper transistor <b>310</b> enters into the saturation region <b>404</b>. Once the operation of the keeper transistor <b>310</b> enters into the saturation region <b>404</b>, the amount of keeper current <b>320</b> supplied by the keeper transistor <b>310</b> is roughly proportional to the width of the keeper transistor <b>310</b>. Thus, once a set of points on the curve <b>406</b> is identified, the position of the curve <b>406</b>, in its entirety in the saturation region <b>404</b>, may be determined or predicted.</p>
<p id="p-0036" num="0035">In another embodiment of the invention, keeper current data may be represented in a tabular format comprising a plurality of records, and each record describes a particular size of a keeper transistor with a particular amount of keeper current that is provided by a keeper transistor of the particular size when the particular keeper transistor is turned on.</p>
<p id="p-0037" num="0036">In an embodiment of the invention, the performance of step <b>210</b> is optional. Step <b>210</b> may be omitted if keeper current data is already obtained or otherwise available. For example, as the amount of current supplied by any transistor is substantially proportional to its size, keeper current data may already be known for the characteristics of the dynamic circuit without analyzing keeper transistor <b>310</b>. After the keeper current data has been obtained, processing proceeds to step <b>220</b>.</p>
<p id="p-0038" num="0037">Determining an Estimated Amount of Leakage Current</p>
<p id="p-0039" num="0038">In step <b>220</b>, an estimated amount of leakage current that passes through the PDN is determined. <figref idref="DRAWINGS">FIG. 5</figref> is an illustration of a second portion <b>500</b> of a dynamic circuit, which includes a PDN <b>520</b> and a pre-charge transistor <b>510</b>, according to an embodiment of the invention. Step <b>220</b> may be performed by analyzing the characteristics of the circuit portion <b>500</b> shown in <figref idref="DRAWINGS">FIG. 5</figref>. In an embodiment, the analysis performed in step <b>220</b> is performed by analyzing only those components depicted in <figref idref="DRAWINGS">FIG. 5</figref>, e.g., the keeper transistor plays no parts in the analysis of step <b>220</b>.</p>
<p id="p-0040" num="0039">In an embodiment of the invention, step <b>220</b> is performed by performing an operating simulation on partial circuit <b>500</b>. The simulation simulates behavior of the partial circuit <b>500</b> when the PDN <b>520</b> is not actively discharging the dynamic node <b>530</b>. The estimated amount of leakage current <b>540</b> that passes through the PDN <b>520</b> may be obtained from a set of simulation results.</p>
<p id="p-0041" num="0040">In an embodiment of the invention, for purposes of the simulation performed in step <b>520</b>, the voltage associated with dynamic node <b>530</b> is assumed to be equivalent to the voltage associated with a logic high voltage. A logic high voltage is the maximum voltage associated with Vcc, or the power source. For example, if Vcc supplies 1 volt, then the logic high voltage is 1 volt. In reality, the dynamic node <b>530</b> may have a voltage less than 100% of a logic high voltage (such as 0.95 volts), while still being evaluated to a logic high value. As explained in further detail below, assuming the dynamic node <b>530</b> is associated with a logic high voltage guarantees that, as a result of performing the steps of <figref idref="DRAWINGS">FIG. 2</figref>, the keeper transistor size, determined in step <b>230</b>, is the maximum size for the keeper transistor, although the size of the keeper transistor may be reduced for reasons discussed hereafter.</p>
<p id="p-0042" num="0041">After the estimated amount of leakage current <b>540</b> that passes through the PDN <b>520</b> is determined in step <b>220</b>, processing proceeds to step <b>230</b>.</p>
<heading id="h-0007" level="1">Determining the Size of the Keeper Transistor</heading>
<p id="p-0043" num="0042">In step <b>230</b>, a size for the keeper transistor is determined. The performance of step <b>230</b> will be discussed with reference to <figref idref="DRAWINGS">FIG. 6</figref>, which is an illustration of a dynamic circuit <b>600</b> according to an embodiment of the invention.</p>
<p id="p-0044" num="0043">In an embodiment of the invention, a representation of a dynamic circuit <b>600</b> is generated by combining the first circuit portion of <figref idref="DRAWINGS">FIG. 3</figref> with the second circuit portion of <figref idref="DRAWINGS">FIG. 5</figref>. The combined dynamic circuit <b>600</b> includes (a) pre-charge transistor <b>610</b>, (b) the PDN <b>620</b>, and (c) the keeper transistor <b>630</b>, each of which is coupled to the dynamic node <b>640</b>, as shown in <figref idref="DRAWINGS">FIG. 6</figref>. The size of the keeper transistor <b>630</b> is determined in step <b>230</b> by ascertaining, using the keeper current data obtaining in step <b>210</b>, which size of the keeper transistor <b>630</b> is needed to supply an amount of keeper current that is substantially equal to the estimated amount of leakage current that passes through the PDN <b>620</b> when the pre-charge transistor <b>610</b> is not pre-charging the dynamic node <b>640</b> and the PDN <b>620</b> is not actively discharging the dynamic node <b>640</b>.</p>
<p id="p-0045" num="0044">Advantageously, by performing the steps of <figref idref="DRAWINGS">FIG. 2</figref>, embodiments of the invention provide a systematic approach for determining, in a single pass of analyzing a dynamic circuit, the optimal size of the keeper transistor if the voltage level of the dynamic node is at 100% of a logic high voltage. As explained below, additional embodiments of the invention may be used to provide a systematic approach for determining, in one or more passes of analyzing a dynamic circuit, the optimal size of the keeper transistor if the voltage level of the dynamic node is not 100% of a logic high voltage.</p>
<heading id="h-0008" level="1">Multi-Pass Approach</heading>
<p id="p-0046" num="0045">If the voltage level of the dynamic node is assumed to be 100% of a logic high voltage in step <b>220</b>, then the performance of step <b>230</b> will yield the most conservative size (i.e., largest) of the keeper transistor. In reality, the dynamic node may have a voltage less than 100% of a logic high voltage, while still being evaluated to a logic high value. As a result, embodiments of the invention may perform one or more additional passes to reduce the size of the keeper transistor based, at least in part, on an acceptable level of voltage loss at the dynamic node.</p>
<p id="p-0047" num="0046">For example, assume that conditions of a dynamic circuit are such that it is acceptable for the dynamic node to lose 5% of its voltage while still operating within a margin of safety. In other words, when the dynamic circuit is in evaluation mode, if the PDN does not discharge the dynamic node, it is permissible for the voltage level at the dynamic node to drop to 95% of a logic high voltage without danger of the dynamic node not being evaluated as having a logic high value. In such as case, the size of the keeper transistor <b>630</b> may be reduced to account for the acceptable level of voltage loss at the dynamic node. After reducing the size of the keeper transistor <b>630</b>, additional simulations of the dynamic circuit <b>600</b> may be performed, using the reduced size of the keeper transistor <b>630</b>, to ensure the reduced size of the keeper transistor <b>630</b> operates within acceptable parameters.</p>
<p id="p-0048" num="0047">Alternatively, the acceptable level of voltage loss may be factored into the performance of step <b>220</b>. For example, in the performance of step <b>220</b>, instead of assuming that the voltage at the dynamic node is 100% of the logic high voltage, the voltage at the dynamic node may be assumed to be a lower level to reflect the acceptable level of voltage loss at the dynamic node. For example, in performing step <b>220</b>, instead of assuming the dynamic node has a voltage level associated with a logic high voltage, the estimated amount of leakage current that passes through the PDN may be determined assuming the dynamic node has a voltage level 95% of a logic high voltage.</p>
<heading id="h-0009" level="1">Keeper Transistor Sizing Tool</heading>
<p id="p-0049" num="0048">An administrator may use a keeper transistor-sizing tool to perform one or more of the steps depicted in <figref idref="DRAWINGS">FIG. 2</figref>. In an embodiment of the invention, a keeper transistor-sizing tool may be implemented as a set of instructions executing on a computer system accessible to the administrator.</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram that illustrates a computer system <b>700</b> upon which an embodiment of the invention may be implemented. Computer system <b>700</b> includes a bus <b>702</b> or other communication mechanism for communicating information, and a processor <b>704</b> coupled with bus <b>702</b> for processing information. Computer system <b>700</b> also includes a main memory <b>706</b>, such as a random access memory (RAM) or other dynamic storage device, coupled to bus <b>702</b> for storing information and instructions to be executed by processor <b>704</b>. Main memory <b>706</b> also may be used for storing temporary variables or other intermediate information during execution of instructions to be executed by processor <b>704</b>. Computer system <b>700</b> further includes a read only memory (ROM) <b>708</b> or other static storage device coupled to bus <b>702</b> for storing static information and instructions for processor <b>704</b>. A storage device <b>710</b>, such as a magnetic disk or optical disk, is provided and coupled to bus <b>702</b> for storing information and instructions.</p>
<p id="p-0051" num="0050">Computer system <b>700</b> may be coupled via bus <b>702</b> to a display <b>712</b>, such as a cathode ray tube (CRT), for displaying information to a computer user. An input device <b>714</b>, including alphanumeric and other keys, is coupled to bus <b>702</b> for communicating information and command selections to processor <b>704</b>. Another type of user input device is cursor control <b>716</b>, such as a mouse, a trackball, or cursor direction keys for communicating direction information and command selections to processor <b>704</b> and for controlling cursor movement on display <b>712</b>. This input device typically has two degrees of freedom in two axes, a first axis (e.g., x) and a second axis (e.g., y), that allows the device to specify positions in a plane.</p>
<p id="p-0052" num="0051">The invention is related to the use of computer system <b>700</b> for implementing the techniques described herein. According to one embodiment of the invention, those techniques are performed by computer system <b>700</b> in response to processor <b>704</b> executing one or more sequences of one or more instructions contained in main memory <b>706</b>. Such instructions may be read into main memory <b>706</b> from another machine-readable medium, such as storage device <b>710</b>. Execution of the sequences of instructions contained in main memory <b>706</b> causes processor <b>704</b> to perform the process steps described herein. In alternative embodiments, hard-wired circuitry may be used in place of or in combination with software instructions to implement the invention. Thus, embodiments of the invention are not limited to any specific combination of hardware circuitry and software.</p>
<p id="p-0053" num="0052">The term “machine-readable medium” as used herein refers to any medium that participates in providing data that causes a machine to operation in a specific fashion. In an embodiment implemented using computer system <b>700</b>, various machine-readable media are involved, for example, in providing instructions to processor <b>704</b> for execution. Such a medium may take many forms, including but not limited to, non-volatile media, volatile media, and transmission media. Non-volatile media includes, for example, optical or magnetic disks, such as storage device <b>710</b>. Volatile media includes dynamic memory, such as main memory <b>706</b>. Transmission media includes coaxial cables, copper wire and fiber optics, including the wires that comprise bus <b>702</b>. Transmission media can also take the form of acoustic or light waves, such as those generated during radio-wave and infra-red data communications.</p>
<p id="p-0054" num="0053">Common forms of machine-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, or any other magnetic medium, a CD-ROM, any other optical medium, punchcards, papertape, any other physical medium with patterns of holes, a RAM, a PROM, and EPROM, a FLASH-EPROM, any other memory chip or cartridge, a carrier wave as described hereinafter, or any other medium from which a computer can read.</p>
<p id="p-0055" num="0054">Various forms of machine-readable media may be involved in carrying one or more sequences of one or more instructions to processor <b>704</b> for execution. For example, the instructions may initially be carried on a magnetic disk of a remote computer. The remote computer can load the instructions into its dynamic memory and send the instructions over a telephone line using a modem. A modem local to computer system <b>700</b> can receive the data on the telephone line and use an infra-red transmitter to convert the data to an infra-red signal. An infra-red detector can receive the data carried in the infra-red signal and appropriate circuitry can place the data on bus <b>702</b>. Bus <b>702</b> carries the data to main memory <b>706</b>, from which processor <b>704</b> retrieves and executes the instructions. The instructions received by main memory <b>706</b> may optionally be stored on storage device <b>710</b> either before or after execution by processor <b>704</b>.</p>
<p id="p-0056" num="0055">Computer system <b>700</b> also includes a communication interface <b>718</b> coupled to bus <b>702</b>. Communication interface <b>718</b> provides a two-way data communication coupling to a network link <b>720</b> that is connected to a local network <b>722</b>. For example, communication interface <b>718</b> may be an integrated services digital network (ISDN) card or a modem to provide a data communication connection to a corresponding type of telephone line. As another example, communication interface <b>718</b> may be a local area network (LAN) card to provide a data communication connection to a compatible LAN. Wireless links may also be implemented. In any such implementation, communication interface <b>718</b> sends and receives electrical, electromagnetic or optical signals that carry digital data streams representing various types of information.</p>
<p id="p-0057" num="0056">Network link <b>720</b> typically provides data communication through one or more networks to other data devices. For example, network link <b>720</b> may provide a connection through local network <b>722</b> to a host computer <b>724</b> or to data equipment operated by an Internet Service Provider (ISP) <b>726</b>. ISP <b>726</b> in turn provides data communication services through the world wide packet data communication network now commonly referred to as the “Internet” <b>728</b>. Local network <b>722</b> and Internet <b>728</b> both use electrical, electromagnetic or optical signals that carry digital data streams. The signals through the various networks and the signals on network link <b>720</b> and through communication interface <b>718</b>, which carry the digital data to and from computer system <b>700</b>, are exemplary forms of carrier waves transporting the information.</p>
<p id="p-0058" num="0057">Computer system <b>700</b> can send messages and receive data, including program code, through the network(s), network link <b>720</b> and communication interface <b>718</b>. In the Internet example, a server <b>730</b> might transmit a requested code for an application program through Internet <b>728</b>, ISP <b>726</b>, local network <b>722</b> and communication interface <b>718</b>.</p>
<p id="p-0059" num="0058">The received code may be executed by processor <b>704</b> as it is received, and/or stored in storage device <b>710</b>, or other non-volatile storage for later execution. In this manner, computer system <b>700</b> may obtain application code in the form of a carrier wave.</p>
<p id="p-0060" num="0059">In the foregoing specification, embodiments of the invention have been described with reference to numerous specific details that may vary from implementation to implementation. Thus, the sole and exclusive indicator of what is the invention, and is intended by the applicants to be the invention, is the set of claims that issue from this application, in the specific form in which such claims issue, including any subsequent correction. Any definitions expressly set forth herein for terms contained in such claims shall govern the meaning of such terms as used in the claims. Hence, no limitation, element, property, feature, advantage or attribute that is not expressly recited in a claim should limit the scope of such claim in any way. The specification and drawings are, accordingly, to be regarded in an illustrative rather than a restrictive sense.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. For a dynamic circuit comprising a pre-charge circuit, a pull down network (PDN), and a keeper transistor, all of which are coupled to a dynamic node of the dynamic circuit, a machine-implemented method for determining a size for the keeper transistor, comprising:
<claim-text>determining an estimated amount of leakage current that passes through the PDN when the PDN is not actively discharging the dynamic node, wherein determining the estimated amount of leakage current comprises:
<claim-text>performing a computer simulation on a partial circuit that includes the pre-charge circuit and the PDN but not the keeper transistor, wherein the computer simulation simulates behavior of the partial circuit when the PDN is not actively discharging the dynamic node; and</claim-text>
<claim-text>obtaining, from a set of simulation results, the estimated amount of leakage current that passes through the PDN; and</claim-text>
</claim-text>
<claim-text>determining a size for the keeper transistor that enables the keeper transistor, when activated, to produce an amount of keeper current that is substantially equal to the estimated amount of leakage current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>after performing the step of determining the size of the keeper transistor, reducing the size of the keeper transistor based, at least in part, on an acceptable level of voltage loss at the dynamic node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>accessing data that describes what size said keeper transistor would need to be to supply a specified amount of on current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of determining an estimated amount of leakage current comprises:
<claim-text>assigning a logic high voltage to the dynamic node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the step of determining an estimated amount of leakage current comprises:
<claim-text>assigning a voltage that is less than a logic high voltage to the dynamic node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. For a dynamic circuit comprising a pre-charge circuit, a pull down network (PDN), and a keeper transistor, all of which are coupled to a dynamic node of the dynamic circuit, a machine-readable storage medium carrying one or more sequences of instructions for determining a size for the keeper transistor, wherein execution of the one or more sequences of instructions by one or more processors causes the one or more processors to perform the steps of:
<claim-text>determining an estimated amount of leakage current that passes through the PDN when the PDN is not actively discharging the dynamic node, wherein determining the estimated amount of leakage current comprises:
<claim-text>performing a computer simulation on a partial circuit that includes the pre-charge circuit and the PDN but not the keeper transistor, wherein the computer simulation simulates behavior of the partial circuit when the PDN is not actively discharging the dynamic node; and</claim-text>
<claim-text>obtaining, from a set of simulation results, the estimated amount of leakage current that passes through the PDN; and</claim-text>
</claim-text>
<claim-text>determining a size for the keeper transistor that enables the keeper transistor, when activated, to produce an amount of keeper current that is substantially equal to the estimated amount of leakage current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The machine-readable storage medium of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein execution of the one or more sequences of instructions by the one or more processors causes the one or more processors to further perform the step of:
<claim-text>after performing the step of determining the size of the keeper transistor, reducing the size of the keeper transistor based, at least in part, on an acceptable level of voltage loss at the dynamic node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The machine-readable storage medium of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein execution of the one or more sequences of instructions by the one or more processors causes the one or more processors to further perform the step of:
<claim-text>accessing data that describes what size said keeper transistor would need to be to supply a specified amount of on current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The machine-readable storage medium of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the step of determining an estimated amount of leakage current comprises:
<claim-text>assigning a logic high voltage to the dynamic node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The machine-readable storage medium of <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein the step of determining an estimated amount of leakage current comprises:
<claim-text>assigning a voltage that is less than a logic high voltage to the dynamic node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. For a dynamic circuit comprising a pre-charge circuit, a pull down network (PDN), and a keeper transistor, all of which are coupled to a dynamic node of the dynamic circuit, an apparatus for determining a size for the keeper transistor, comprising:
<claim-text>one or more processors; and</claim-text>
<claim-text>a machine-readable medium, coupled to the one or more processors, carrying one or more sequences of instructions for determining a size for the keeper transistor, wherein execution of the one or more sequences of instructions by the one or more processors causes the one or more processors to perform the steps of:</claim-text>
<claim-text>determining an estimated amount of leakage current that passes through the PDN when the PDN is not actively discharging the dynamic node, wherein determining the estimated amount of leakage current comprises:
<claim-text>performing a computer simulation on a partial circuit that includes the pre-charge circuit and the PDN but not the keeper transistor, wherein the computer simulation simulates behavior of the partial circuit when the PDN is not actively discharging the dynamic node; and</claim-text>
<claim-text>obtaining, from a set of simulation results, the estimated amount of leakage current that passes through the PDN; and</claim-text>
</claim-text>
<claim-text>determining a size for the keeper transistor that enables the keeper transistor, when activated, to produce an amount of keeper current that is substantially equal to the estimated amount of leakage current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The apparatus of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein execution of the one or more sequences of instructions by the one or more processors further causes the one or more processors to perform the step of:
<claim-text>after performing the step of determining the size of the keeper transistor, reducing the size of the keeper transistor based, at least in part, on an acceptable level of voltage loss at the dynamic node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The apparatus of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein execution of the one or more sequences of instructions by the one or more processors further causes the one or more processors to perform the step of:
<claim-text>accessing data that describes what size said keeper transistor would need to be to supply a specified amount of on current.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The apparatus of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the step of determining an estimated amount of leakage current comprises:
<claim-text>assigning a logic high voltage to the dynamic node.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The apparatus of <claim-ref idref="CLM-00011">claim 11</claim-ref>, wherein the step of determining an estimated amount of leakage current comprises:
<claim-text>assigning a voltage that is less than a logic high voltage to the dynamic node.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
