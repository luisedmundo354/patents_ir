<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298210-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298210</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11136203</doc-number>
<date>20050524</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<us-term-of-grant>
<us-term-extension>41</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>F</subclass>
<main-group>3</main-group>
<subgroup>45</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>F</subclass>
<main-group>1</main-group>
<subgroup>02</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>03</class>
<subclass>F</subclass>
<main-group>3</main-group>
<subgroup>04</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>330259</main-classification>
<further-classification>330  9</further-classification>
<further-classification>330258</further-classification>
<further-classification>330260</further-classification>
<further-classification>330261</further-classification>
<further-classification>330296</further-classification>
<further-classification>330297</further-classification>
</classification-national>
<invention-title id="d0e53">Fast settling, low noise, low offset operational amplifier and method</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4336502</doc-number>
<kind>A</kind>
<name>Goto</name>
<date>19820600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330253</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5418494</doc-number>
<kind>A</kind>
<name>Betti et al.</name>
<date>19950500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330254</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>6388522</doc-number>
<kind>B1</kind>
<name>Fattaruso et al.</name>
<date>20020500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330258</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>6661288</doc-number>
<kind>B2</kind>
<name>Morgan et al.</name>
<date>20031200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330258</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>7019717</doc-number>
<kind>B2</kind>
<name>Yumoto et al.</name>
<date>20060300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>345 76</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>7205833</doc-number>
<kind>B2</kind>
<name>Burt et al.</name>
<date>20070400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330  9</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>2002/0024384</doc-number>
<kind>A1</kind>
<name>Fattaruso et al.</name>
<date>20020200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330258</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>2003/0001674</doc-number>
<kind>A1</kind>
<name>Nagaraj</name>
<date>20030100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330258</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>2003/0102849</doc-number>
<kind>A1</kind>
<name>Schiff et al.</name>
<date>20030600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>323222</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>2005/0127990</doc-number>
<kind>A1</kind>
<name>Burt et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330  9</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>2005/0140445</doc-number>
<kind>A1</kind>
<name>Kim et al.</name>
<date>20050600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330258</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>2006/0267685</doc-number>
<kind>A1</kind>
<name>Alenin et al.</name>
<date>20061100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>330258</main-classification></classification-national>
</citation>
<citation>
<nplcit num="00013">
<othercit>Definition of “Operational amplifier” as presented in The New Penguin Dictionary of Science as presented by “xereferplus” 1998.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00014">
<othercit>“Design of Analog Integrated Circuits And Systems” by Kenneth R. Laker and Willy M. C. Sansen, McGraw-Hill, Inc, 1994, pp. 1-3.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>6</number-of-claims>
<us-exemplary-claim>6</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>330  9</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330258</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330259</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330260</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330261</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330296</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>330297</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>4</number-of-drawing-sheets>
<number-of-figures>7</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20060267685</doc-number>
<kind>A1</kind>
<date>20061130</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Alenin</last-name>
<first-name>Sergey V.</first-name>
<address>
<city>Tucson</city>
<state>AZ</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Surtihadi</last-name>
<first-name>Henry</first-name>
<address>
<city>Tucson</city>
<state>AZ</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Moore</last-name>
<first-name>J. Dennis</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="02" rep-type="attorney">
<addressbook>
<last-name>Brady, III</last-name>
<first-name>W. James</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
<agent sequence="03" rep-type="attorney">
<addressbook>
<last-name>Telecky, Jr.</last-name>
<first-name>Frederick J.</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Texas Instruments Incorporated</orgname>
<role>02</role>
<address>
<city>Dallas</city>
<state>TX</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Parker</last-name>
<first-name>Kenneth</first-name>
<department>2815</department>
</primary-examiner>
<assistant-examiner>
<last-name>Sayadian</last-name>
<first-name>Hrayr A.</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">An amplifier (<b>10</b>) includes a first stage (<b>4</b>) including differentially coupled first (Q<b>1</b>) and second (Q<b>2</b>) input transistors and a controlled active load circuit (<b>6</b>). A second stage (<b>8</b>) includes differentially coupled third (Q<b>5</b>) and fourth (Q<b>6</b>) input transistors and a load circuit (Q<b>7,8</b>). A first output (<b>2</b>A) of the first stage (<b>4</b>) is coupled to a first input of the second stage (<b>8</b>), a second output (<b>2</b>B) of the first stage (<b>4</b>) being coupled to a second input of the second stage (<b>8</b>). A common mode feedback amplifier (<b>12</b>) has an input coupled to receive a common mode signal (<b>3</b>) from the second stage (<b>8</b>) for producing an amplified common mode signal (<b>9</b>) on a control input of the controlled active load circuit (<b>6</b>) to provide fast settling of an output (Vout) of the second stage without substantially increasing amplifier noise.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="96.18mm" wi="156.89mm" file="US07298210-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="242.99mm" wi="154.09mm" file="US07298210-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="251.38mm" wi="171.28mm" file="US07298210-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="230.80mm" wi="151.21mm" file="US07298210-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="232.83mm" wi="161.29mm" orientation="landscape" file="US07298210-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0002" num="0001">The present invention relates generally to amplifiers, and more particularly to low noise operational amplifiers having fast settling of the output signal and low input offset voltages.</p>
<p id="p-0003" num="0002">To achieve low noise in operational amplifiers, it is necessary to minimize the number of circuit elements that contribute noise in the first stage (i.e., the input stage) of the operational amplifier. Typically, the main noise contributors are the two input transistors which constitute the differential input transistor pair of the input stage. In addition to the input transistors, the input stage of a typical low noise operational amplifier also contains load devices, which typically are large-value resistors. However, the resistive load resistors cannot provide sufficiently high voltage gain and often are replaced by active load devices, typically transistors of a current mirror circuit or other symmetrical current source circuitry. In order to minimize noise in the operational amplifier, the transistors used as the active load devices should have much lower transconductance than the transconductance of the input differential transistor pair. In other words, the active load transistors should be heavily degenerated, for example by using long-channel MOS transistors or by using emitter or source degeneration resistors connected in series with the active load transistors. To achieve low input offset voltages in operational amplifiers, it often is necessary to implement both the first (input) stage and the second stage as differential amplifiers and to make the first stage as symmetrical as possible. With symmetrical active load transistors or other symmetrical active load circuitry, the common mode operating point of the first stage of the operational amplifier is usually set by common mode feedback generated by the second stage and applied to a common mode control input of the active load circuitry. An example of a typical implementation of common mode feedback can be found on page 641 a “Design of Analog Integrated Circuits and Systems” by K. R. Laker and W. Sansen. <figref idref="DRAWINGS">FIG. 1</figref> herein shows a simplified version of such a circuit, a more generalized version of which is shown in <figref idref="DRAWINGS">FIG. 2</figref>.</p>
<p id="p-0004" num="0003">Referring to prior art <figref idref="DRAWINGS">FIG. 1</figref>, operational amplifier <b>1</b> includes an input stage <b>4</b> including a P-channel JFET input transistor Q<b>1</b> having its gate connected to Vin− and its source connected to a tail current source I<b>0</b> and to the source of a P-channel JFET input transistor Q<b>2</b> having its gate connected to Vin+. The drain of input transistor Q<b>1</b> is connected by conductor <b>2</b>A to the collector of an NPN active load transistor Q<b>3</b> and to one terminal of a compensation capacitor C<b>2</b>, the other terminal of which is connected to ground. The drain of input transistor Q<b>2</b> is connected by conductor <b>2</b>B to the collector of an NPN active load transistor Q<b>4</b>. The bases of active load transistors Q<b>3</b> and Q<b>4</b> are connected to a common mode feedback conductor <b>3</b>. The emitters of active load transistors Q<b>3</b> and Q<b>4</b> are coupled to ground by degeneration resistors R<b>0</b> and R<b>1</b>, respectively.</p>
<p id="p-0005" num="0004">A second stage <b>8</b> of operational amplifier <b>1</b> includes emitter-coupled NPN input transistors Q<b>5</b> and Q<b>6</b>, the emitters of which are connected to common mode feedback conductor <b>3</b> and to a tail current source <b>14</b>. The collector of input transistor Q<b>5</b> is connected to the collector and base of a diode-connected PNP active load transistor Q<b>7</b> and to the base of a PNP active load transistor Q<b>8</b>. The emitters of active load transistors Q<b>7</b> and Q<b>8</b> are connected to VDD. The collector of input transistor Q<b>6</b> is connected by output conductor <b>13</b> to Vout and to the collector of active load transistor Q<b>8</b>. One terminal of a compensation capacitor C<b>3</b> is connected to output conductor <b>13</b>, and its other terminal is connected to the base of input transistor Q<b>6</b>. The bases of transistors Q<b>5</b> and Q<b>6</b> are connected to conductors <b>2</b>A and <b>2</b>B, respectively.</p>
<p id="p-0006" num="0005"><figref idref="DRAWINGS">FIG. 2</figref> is a generalized block diagram of the prior art operational amplifier <b>1</b> of <figref idref="DRAWINGS">FIG. 1</figref>, wherein the input stage <b>4</b> in <figref idref="DRAWINGS">FIG. 2</figref> includes input stage differential transistor pair <b>5</b> (which can be input transistors Q<b>1</b> and Q<b>2</b> of <figref idref="DRAWINGS">FIG. 1</figref>). Input stage differential transistor pair <b>5</b> is coupled by conductors <b>2</b>A and <b>2</b>B to control the active load circuit <b>6</b> and to the inputs of a second stage differential transistor pair <b>7</b> (which can be input transistors Q<b>5</b> and Q <b>6</b> of <figref idref="DRAWINGS">FIG. 1</figref>). Second stage differential transistor pair <b>7</b> is coupled to a current mirror <b>8</b> which constitutes an active load circuit. Second stage differential transistor pair <b>7</b> produces a common mode feedback signal to control the active load circuit <b>6</b> by means of conductor <b>3</b>.</p>
<p id="p-0007" num="0006">There is a problem associated with the circuit shown in <figref idref="DRAWINGS">FIG. 2</figref>, in that the combination of common mode feedback between the input stage <b>4</b> and the second stage <b>8</b> with heavy degeneration of the input stage active load circuitry <b>6</b> causes slow settling of Vout in response to an input step signal. In the circuit shown in <figref idref="DRAWINGS">FIG. 2</figref>, the bandwidth of the common mode feedback loop is determined by gm/C<b>2</b>, where gm is the transconductance of the active load circuitry in the input stage and C<b>2</b> is the value of the Miller compensation capacitor. The transconductance of the active load transistors (or other active load circuitry) in the input stage of the operational amplifier <b>1</b> is low when the active loads are heavily degenerated in order to reduce noise and input offset voltage of operational amplifier <b>1</b>. When the bandwidth of the common mode feedback loop is substantially lower than the bandwidth of the operational amplifier due to large degeneration resistances, the result is slow settling. (The base of transistor Q<b>3</b> is the input to the common mode feedback loop, and the transconductance of the active load circuit in the common mode feedback loop is limited by the resistances R<b>0</b> and R<b>1</b>.)</p>
<p id="p-0008" num="0007">It is known that the operational amplifier circuitry shown in <figref idref="DRAWINGS">FIGS. 1 and 2</figref> generally has the above-mentioned slow settling behavior. This is illustrated in <figref idref="DRAWINGS">FIG. 5A</figref>, which shows the small signal step response of the circuit shown in <figref idref="DRAWINGS">FIGS. 1 and 2</figref>. In <figref idref="DRAWINGS">FIG. 5A</figref>, curve A represents Vout when degeneration resistances R<b>0</b> and R<b>1</b> are small, and curve B represents Vout when R<b>0</b> and R<b>1</b> are large. Removing or reducing degeneration resistances R<b>0</b> and R<b>1</b> helps to reduce the settling times by increasing the bandwidth of the common mode feedback loop.</p>
<p id="p-0009" num="0008">A type of input stage known as a “class AB” input stage can provide an output differential current that may be substantially greater than the total DC quiescent output current which a constant tail current source is capable of supplying. This can be accomplished by providing a tail current source circuit which substantially increases the tail current supplied to the differentially-coupled input transistors in response to a higher of the two input voltages which constitute the differential input signal of the class AB input stage. This results in a maximum output current of the class AB input stage which is much larger than could be supplied by a constant tail current source. Since the output current can be very high, class AB input stages typically are used in amplifiers that require very high slew rates. However, class AB input stages have the shortcomings of causing nonlinear circuit operation and generating noise.</p>
<p id="p-0010" num="0009">There is an unmet need for a low noise operational amplifier having faster settling of the output signal than has been previously achieved.</p>
<p id="p-0011" num="0010">It also would be desirable to have a low noise operational amplifier in which the bandwidth of the common mode feedback loop can be adjusted independently of the amount of degeneration of the active loads in the input stage of the operational amplifier.</p>
<p id="p-0012" num="0011">There also is an unmet need for a low noise operational amplifier having faster settling of the output signal and lower input offset voltages than has been previously achieved.</p>
<p id="p-0013" num="0012">It would be desirable to have an operational amplifier in which the common mode feedback bandwidth can be set close to the gain-bandwidth product of the operational amplifier in order to minimize the slow settling of the output voltage of the above described prior art operational amplifier and nevertheless preserve the stability of the common mode loop.</p>
<p id="p-0014" num="0013">There also is an unmet need for a low noise, low THD (total harmonic distortion) operational amplifier having faster settling of the output signal than has been previously achieved.</p>
<p id="p-0015" num="0014">There also is an unmet need for a low noise, low THD (total harmonic distortion) operational amplifier having a class AB input stage.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0016" num="0015">It is an object of the invention to provide a low noise operational amplifier having faster settling of the output signal than has been previously achieved.</p>
<p id="p-0017" num="0016">It is another object of the invention to provide a low noise operational amplifier in which the bandwidth of the common mode feedback loop can be adjusted independently of the amount of degeneration of the active loads in the input stage of the operational amplifier.</p>
<p id="p-0018" num="0017">It is another object of the invention to provide a low noise operational amplifier having faster settling of the output signal and lower input offset voltages than has been previously achieved.</p>
<p id="p-0019" num="0018">It is another object of the invention to provide an operational amplifier in which the common mode feedback bandwidth can be set close to the gain-bandwidth product of the operational amplifier in order to minimize the slow settling of the output voltage of the above described prior art operational amplifier and nevertheless preserve the stability of the common mode loop thereof.</p>
<p id="p-0020" num="0019">It is another object of the invention to provide a low noise, low THD (total harmonic distortion) operational amplifier having faster settling of the output signal than has been previously achieved.</p>
<p id="p-0021" num="0020">Is another object of the invention to provide a low noise, low THD (total harmonic distortion) operational amplifier having a class AB input stage.</p>
<p id="p-0022" num="0021">Briefly described, and in accordance with one embodiment, the present invention provides a method of operating an operational amplifier (<b>10</b>) to decrease output settling time of the operational amplifier without substantially increasing operational amplifier noise by providing a first stage (<b>4</b>) including differentially coupled first (Q<b>1</b>) and (Q<b>2</b>) input transistors and a controlled active load circuit (<b>6</b>), coupling a differential output signal produced by the first stage (<b>4</b>) to a differential input of a second stage (<b>8</b>) including differentially coupled third (Q<b>5</b>) and fourth (Q<b>6</b>) input transistors and a load circuit (Q<b>7</b>,<b>8</b>), and amplifying a common mode signal (<b>3</b>) of the second stage (<b>8</b>) to produce an amplified common mode signal (<b>9</b>) on a control input of the controlled active load circuit (<b>6</b>).</p>
<p id="p-0023" num="0022">In another embodiment, the invention provides an amplifier (<b>10</b>) including a first stage (<b>4</b>) including differentially coupled first (Q<b>1</b>) and second (Q<b>2</b>) input transistors and a controlled active load circuit (<b>6</b>), a second stage (<b>8</b>) including differentially coupled third (Q<b>5</b>) and fourth (Q<b>6</b>) input transistors and a load circuit (Q<b>7</b>,<b>8</b>), a first output (<b>2</b>A) of the first stage (<b>4</b>) being coupled to a first input of the second stage (<b>8</b>), and a second output (<b>2</b>B) of the first stage (<b>4</b>) being coupled to a second input of the second stage (<b>8</b>). A common mode feedback amplifier (<b>12</b>) has an input coupled to receive a common mode signal (<b>3</b>) from the second stage (<b>8</b>) for producing an amplified common mode signal (<b>9</b>) on a control input of the controlled active load circuit (<b>6</b>), so as to provide fast settling of an output (Vout) of the second stage without substantially increasing amplifier noise.</p>
<p id="p-0024" num="0023">In the described embodiments, the amplifier is an operational amplifier. The controlled active load circuit (<b>6</b>) of the first stage (<b>4</b>) includes first (Q<b>3</b>) and second (Q<b>4</b>) active load transistors each having a control electrode coupled to receive the amplified common mode signal (<b>9</b>). The first (Q<b>1</b>) and second (Q<b>2</b>) input transistors are NPN transistors having emitters coupled to a first tail current source (<b>10</b>) and bases coupled to receive first (Vin−) and second (Vin+) input signals, respectively. The first (Q<b>3</b>) and second (Q<b>4</b>) active load transistors are PNP transistors. A collector of the first (Q<b>1</b>) input transistor is coupled to a collector of the first active load transistor (Q<b>3</b>), a collector of the second (Q<b>2</b>) input transistor is coupled to a collector of the second (Q<b>4</b>) active load transistor, an emitter of the first active load transistor (Q<b>3</b>) is coupled to a first degeneration resistor (R<b>0</b>), and an emitter of the second active load transistor Q<b>4</b>) is coupled to a second degeneration resistor (R<b>1</b>). The third (Q<b>5</b>) and fourth (Q<b>6</b>) input transistors are PNP transistors, and the load circuit (Q<b>7</b>,Q<b>8</b>) of the second stage (<b>8</b>) includes third (Q<b>8</b>) and fourth (Q<b>7</b>) active load transistors both of which are NPN transistors. Emitters of the third (Q<b>5</b>) and fourth (Q<b>6</b>) input transistors are coupled to a second tail current source (R<b>2</b>) and produce the common mode signal (<b>3</b>) on the input of the common mode feedback amplifier (<b>12</b>). A base of the third input transistor (Q<b>5</b>) is coupled to the collector (<b>2</b>A) of the first input transistor (Q<b>1</b>), a base of the fourth input transistor (Q<b>6</b>) is coupled to the collector (<b>2</b>B) of the second input transistor (Q<b>2</b>), a collector of the third input transistor (Q<b>5</b>) is coupled to a base and collector of the third active load transistor (Q<b>8</b>) and a base of the fourth active load transistor (Q<b>7</b>), a collector of the fourth active load transistor (Q<b>7</b>) is coupled to a collector of the fourth input transistor (Q<b>6</b>), and the emitters of the third (Q<b>8</b>) and fourth (Q<b>7</b>) active load transistors are coupled to a first supply voltage (VEE).</p>
<p id="p-0025" num="0024">The common mode feedback amplifier (<b>12</b>) includes a first input coupled to receive the common mode signal (<b>3</b>) and a second input coupled to a first terminal of a feedback resistor (R<b>5</b>) which has a second terminal coupled to an output of the common mode feedback amplifier (<b>12</b>). A feedback resistor (R<b>5</b>) has a first terminal coupled to the second input of the common mode feedback amplifier (<b>12</b>). A capacitor (C<b>0</b>) has a first terminal coupled to a second terminal of the feedback resistor (R<b>5</b>) and a second terminal coupled to the control input of the controlled active load circuit (<b>6</b>) for the purpose of boosting low frequency gain of the common mode feedback amplifier (<b>12</b>).</p>
<p id="p-0026" num="0025">In a described embodiment, the common mode feedback amplifier (<b>12</b>) includes first (Q<b>9</b>) and second (Q<b>10</b>) transistors which are PNP transistors, a first resistor (R<b>3</b>) coupled between a second supply voltage (VCC) and an emitter of the first transistor (Q<b>9</b>), a second resistor (R<b>4</b>) coupled between the second supply voltage (VCC) and an emitter of the second transistor (Q<b>10</b>). A collector of the first transistor (Q<b>9</b>) is coupled to a first current source (<b>12</b>) and to bases of the first (Q<b>3</b>) and second (Q<b>4</b>) active load transistors. A collector and a base of the second transistor (Q<b>10</b>) are coupled to a base of the first (Q<b>9</b>) transistor, a second current source (I<b>1</b>), and the emitters of the first (Q<b>3</b>) and second (Q<b>4</b>) active load transistors. In another embodiment, the common mode feedback amplifier (<b>12</b>) includes a first input coupled to receive the common mode signal (<b>3</b>) and a second input coupled to a first terminal of a feedback resistor (R<b>5</b>) having a second terminal coupled to an output of the common mode feedback amplifier (<b>12</b>). A first capacitor (C<b>0</b>) couples the second terminal of the feedback resistor (R<b>5</b>) to the emitter of the first active load transistor (Q<b>3</b>) for the purpose of boosting low frequency gain of the common mode feedback amplifier (<b>12</b>), and a second capacitor (C<b>1</b>) couples the second terminal of the feedback resistor (R<b>5</b>) to the emitter of the second active load transistor (Q<b>4</b>) for the purpose of boosting low frequency gain of the common mode feedback amplifier (<b>12</b>).</p>
<p id="p-0027" num="0026">In one embodiment, the operational amplifier includes PNP first (Q<b>11</b>) and second (Q<b>13</b>) diode-connected transistors coupled between the second supply voltage (VCC) and the emitters of the first (Q<b>3</b>) and second (Q<b>4</b>) active load transistors, respectively, to function as voltage limiting devices, and also includes a first current mirror output transistor (Q<b>12</b>) having an emitter connected to the second supply voltage (VCC), a base connected to a base and a collector of the first diode-connected transistor (Q<b>11</b>), and a collector connected to the bases of the first (Q<b>3</b>) and second (Q<b>4</b>) active load transistors to improve frequency compensation of a common mode feedback loop of the operational amplifier. The operational amplifier also includes a second current mirror output transistor (Q<b>14</b>) having an emitter connected to the second supply voltage (VCC), a base connected to a base and a collector of the second diode-connected transistor (Q<b>13</b>), and a collector connected to the bases of the first (Q<b>3</b>) and second (Q<b>4</b>) active load transistors to improve frequency compensation of the common mode feedback loop. This embodiment of the invention is especially useful if a class AB input stage is used in the operational amplifier (<b>10</b>A).</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0028" num="0027"><figref idref="DRAWINGS">FIG. 1</figref> is a schematic diagram of a prior art operational amplifier.</p>
<p id="p-0029" num="0028"><figref idref="DRAWINGS">FIG. 2</figref> is a generalized block diagram of the operational amplifier of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0030" num="0029"><figref idref="DRAWINGS">FIG. 3</figref> is a generalized block diagram of an operational amplifier having a common mode voltage gain circuit in the common mode feedback loop to improve output settling time, noise performance, and input offset voltage of the operational amplifier.</p>
<p id="p-0031" num="0030"><figref idref="DRAWINGS">FIG. 4</figref> is a detailed block diagram of the operational amplifier of <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0032" num="0031"><figref idref="DRAWINGS">FIG. 5A</figref> is a graph illustrating step responses of the operational amplifier circuitry of prior art <figref idref="DRAWINGS">FIGS. 1 and 2</figref> with low and high degeneration resistances in the active load circuitry of the input stage.</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 5B</figref> is a graph illustrating step responses of the operational amplifier circuitry of <figref idref="DRAWINGS">FIGS. 4 and 6</figref> with low gain and high gain of the common mode voltage amplifier according to the present invention.</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 6</figref> is a schematic diagram of an implementation of the operational amplifier of <figref idref="DRAWINGS">FIG. 4</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 3</figref> shows a block diagram of a general solution to the above-mentioned slow settling problem of prior art low offset, low noise operational amplifiers. In <figref idref="DRAWINGS">FIG. 3</figref>, the illustrated block diagram of an operational amplifier <b>10</b> of the present invention is similar to the block diagram of prior art <figref idref="DRAWINGS">FIG. 2</figref>, except that a common mode feedback gain circuit <b>12</b> having a gain G has an input connected to receive the common mode feedback signal produced on conductor <b>3</b> by second stage differential pair <b>7</b> and produces an amplified common mode feedback signal on conductor <b>9</b>. Conductor <b>9</b> applies the amplified common mode feedback signal to a control input of controlled active load circuit <b>6</b>. As in prior art <figref idref="DRAWINGS">FIG. 2</figref>, controlled active load circuit <b>6</b> is coupled by conductors <b>2</b>A and <b>2</b>B to collectors or drains of input transistors of input stage differential transistor pair <b>5</b>, inputs of which are coupled to Vin− and Vin+. Conductor <b>2</b>A is connected to one terminal of compensation capacitor C<b>2</b> and to one input of second stage differential transistor pair <b>7</b>. Conductor <b>2</b>B is connected to the other input of second stage differential transistor pair <b>7</b> and to one terminal of compensation capacitor C<b>3</b>, the other terminal of which is connected to output conductor <b>13</b> on which Vout is produced. Output conductor <b>13</b> is connected to a collector or drain of an input transistor of second stage differential pair <b>7</b> and to one terminal of current mirror <b>8</b>. Another terminal of current mirror <b>8</b> is connected to a collector or drain of another input transistor in second stage differential pair circuit <b>7</b>.</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 4</figref> shows a more detailed block diagram of operational amplifier <b>10</b> of <figref idref="DRAWINGS">FIG. 3</figref>. In <figref idref="DRAWINGS">FIG. 4</figref>, conductor <b>14</b> is connected to one terminal of a tail current source <b>10</b> and to sources or emitters of a pair of input transistors of input stage differential pair <b>5</b>. A collector or drain of one of the input transistors in input stage <b>5</b> is connected by conductor <b>2</b>A to one terminal of a controlled active load device represented as a controlled current source I<b>13</b>, the other terminal of which is connected to VCC. A collector or drain of another input transistor of input stage differential pair <b>5</b> is connected by conductor <b>2</b>B to one terminal of another controlled active load device represented as controlled current source I<b>14</b>, the other terminal of which is connected to VCC. The control terminals of controlled current sources I<b>13</b> and I<b>14</b> are connected to conductor <b>9</b> to receive the amplified common mode feedback signal produced by common mode feedback amplifier <b>12</b>. Conductors <b>2</b>A and <b>2</b>B are connected to bases or gates of corresponding input transistors in second stage <b>7</b>. Second stage differential pair <b>7</b> of second stage <b>8</b> is connected to a tail current source I<b>4</b>. A common mode feedback signal produced by second stage differential pair <b>7</b> is connected by conductor <b>3</b> to the (+) input of common mode feedback amplifier <b>12</b>. The (−) input of common mode feedback amplifier <b>12</b> is connected by conductor <b>16</b> to one terminal of a resistor R<b>4</b>, the other terminal of which is connected to VCC. Conductor <b>16</b> also is connected to one terminal of a feedback resistor R<b>5</b>. Resistors R<b>4</b> and R<b>5</b> determine the gain of common mode feedback amplifier <b>12</b>.</p>
<p id="p-0037" num="0036">In one implementation, the other terminal of feedback resistor R<b>5</b> is connected directly to conductor <b>9</b> as indicated by dashed line <b>99</b>A in <figref idref="DRAWINGS">FIG. 4</figref>. In another implementation, dashed line <b>99</b>A is omitted, and a capacitor C<b>0</b> is connected between the second terminal of feedback resistor R<b>5</b> and amplified common mode feedback conductor <b>9</b>. Collectors or drains of the input transistors in second stage differential pair <b>7</b> are connected by means of conductors <b>21</b> and <b>13</b> to current mirror <b>8</b>, which is referenced to ground.</p>
<p id="p-0038" num="0037">With capacitor C<b>0</b> inserted in the feedback loop as shown in <figref idref="DRAWINGS">FIG. 4</figref>, the bandwidth of the common mode feedback loop continues to be boosted by the high frequency gain of the common mode feedback amplifier (i.e., 1+R<b>5</b>/R<b>4</b>), since capacitor C<b>0</b> is an AC short-circuit at high frequency. However, at low frequencies capacitor C<b>0</b> interrupts the DC component of the feedback around amplifier <b>12</b> through resistor R<b>4</b> and feedback resistor R<b>5</b> and thereby allows the full DC gain of the common mode feedback amplifier <b>12</b> to be provided. This also allows the operating points of the second stage and the controlled current sources to be set independently.</p>
<p id="p-0039" num="0038">At high frequency, capacitor C<b>0</b> is a short-circuit, so the gain of amplifier <b>12</b> is limited according to the expression R<b>5</b>/R<b>4</b>+1, which is equal to the gain of common mode feedback amplifier <b>12</b>. (Otherwise it would be very difficult to compensate common mode feedback amplifier <b>12</b>.) The main pole of amplifier <b>12</b> is formed by compensation capacitors C<b>2</b> and C<b>3</b>, which are connected to high impedance circuit nodes and effectively “push” the main pole beyond the gain-bandwidth product frequency of the amplifier, thereby causing it to have good common mode feedback loop signal settling performance.</p>
<p id="p-0040" num="0039">At low frequency, capacitor C<b>0</b> blocks feedback through feedback resistor R<b>5</b>, providing the full gain of amplifier <b>12</b> within the common mode feedback loop, thereby helping to suppress variation in the common mode voltage on conductor <b>9</b>B and to reduce nonlinear distortion in amplifier <b>10</b>A. By increasing gain in the common mode loop at low frequency, capacitor C<b>0</b> also helps to suppress any common mode voltage swing on conductors <b>2</b>A and <b>2</b>B.</p>
<p id="p-0041" num="0040">As mentioned above, capacitor C<b>0</b> can be replaced by a short circuit indicated by dashed line <b>99</b>A in <figref idref="DRAWINGS">FIG. 4</figref>. Both the goal of achieving fast settling performance of amplifier <b>10</b> and of the goal of eliminating nonlinear distortion are substantially achieved with capacitor C<b>0</b> replaced by the short circuit because the pole of common mode feedback amplifier <b>12</b> nevertheless is “pushed” to a higher frequency even though the common mode feedback amplifier gain is not boosted at low frequencies without capacitor C<b>0</b>. However, the absence of capacitor C<b>0</b> would make biasing of the circuitry more complex, and the common mode voltage swing on conductor <b>9</b>B would be somewhat larger at low frequencies.</p>
<p id="p-0042" num="0041">Thus, in accordance with the present invention, common mode feedback amplifier <b>12</b> is inserted between the first stage active load circuitry <b>6</b> and the common mode voltage output of the second stage common-emitter point <b>3</b>. Common mode feedback amplifier <b>12</b> causes the common-mode feedback loop to become faster because the effect of the transconductance of the controlled current sources of the active load circuitry I<b>13</b> and I<b>14</b> is gained up by the common mode feedback amplifier <b>12</b>. The bandwidth of the common mode feedback loop is increased by the gain of the common mode feedback amplifier <b>12</b>. The gain of amplifier <b>12</b> can be set by feedback resistors R<b>5</b> and R<b>4</b> as shown in <figref idref="DRAWINGS">FIG. 4</figref>, and is given by the expression Gain=G=1+(R<b>5</b>/R<b>4</b>). This allows the common mode feedback bandwidth to be set close to the gain bandwidth product of the operational amplifier <b>10</b> in order to minimize the slow settling effect (i.e., minimize the Vout settling time) of the prior art operational amplifier of <figref idref="DRAWINGS">FIGS. 1 and 2</figref> and at the same time preserve the stability of the common mode loop.</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 5B</figref> shows faster settling of Vout in a small-signal simulation of operating results for the circuit shown in <figref idref="DRAWINGS">FIG. 4</figref>. Curve C shows the output signal Vout when common mode voltage amplifier <b>12</b> has high gain. Curve D shows somewhat slower settling of Vout when common mode voltage amplifier <b>12</b> has low gain. Both curves C and D in <figref idref="DRAWINGS">FIG. 5B</figref> show much faster settling of Vout than curve B of <figref idref="DRAWINGS">FIG. 5A</figref>, in which high emitter degeneration is used in the prior art operational amplifier of <figref idref="DRAWINGS">FIGS. 1 and 2</figref>.</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 6</figref> shows a more specific implementation of the operational amplifier of <figref idref="DRAWINGS">FIG. 4</figref> in which two capacitors C<b>0</b> and C<b>1</b> are used (instead of only capacitor C<b>0</b>), and the common mode feedback signal applied to common mode feedback amplifier <b>12</b> is taken from the emitters of “voltage follower” active load transistors Q<b>3</b> and Q<b>4</b>. This configuration is much more stable than the general implementation shown in <figref idref="DRAWINGS">FIG. 4</figref>. Where appropriate, the same reference numerals as in <figref idref="DRAWINGS">FIG. 4</figref> and prior art <figref idref="DRAWINGS">FIG. 1</figref> are used to designate the same or similar parts.</p>
<p id="p-0045" num="0044">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, the input stage <b>4</b> of operational amplifier <b>10</b>A includes emitter-coupled NPN input transistors Q<b>1</b> and Q<b>2</b> having their bases coupled to Vin− and Vin+, respectively. Their emitters are connected by conductor <b>14</b> to one terminal of a tail current source <b>10</b>, the other terminal of which is connected to VEE. The input stage <b>4</b> also includes PNP active load transistors Q<b>3</b> and Q<b>4</b> and degeneration resistors R<b>0</b> and R<b>1</b>. The collector of input transistor Q<b>1</b> is connected by conductor <b>2</b>A to the collector of active load transistor Q<b>3</b>, the emitter of which is connected to one terminal of degeneration resistor R<b>0</b>, the other terminal of which is connected to VCC. The collector of input transistor Q<b>2</b> is connected by conductor <b>2</b>B to the collector of active load transistor Q<b>4</b>, the emitter of which is connected to one terminal of degeneration resistor R<b>1</b>, the other terminal of which is connected to VCC. The emitters of active load transistors Q<b>3</b> and Q<b>4</b> are coupled by capacitors C<b>0</b> and C<b>1</b>, respectively, and feedback resistor R<b>5</b> to one output of common mode feedback amplifier <b>12</b>. The bases of active load transistors Q<b>3</b> and Q<b>4</b> are connected by conductor <b>9</b>B to the other output of common mode feedback amplifier <b>12</b>, whereby the active load circuit including transistors Q<b>3</b> and Q<b>4</b> receives a common mode feedback input signal from common mode voltage amplifier <b>12</b>.</p>
<p id="p-0046" num="0045">The second stage <b>8</b> of operational amplifier <b>10</b>A includes PNP input transistors Q<b>5</b> and Q<b>6</b> and NPN active load transistors Q<b>7</b> and Q<b>8</b>. The emitters of input transistors Q<b>5</b> and Q<b>6</b> are connected by conductor <b>3</b> to one terminal of a tail current resistor R<b>2</b> to provide a common mode feedback input to common mode voltage amplifier <b>12</b>. The other terminal of tail current resistor R<b>2</b> is connected to VCC. The collector of input transistor Q<b>5</b> is connected by conductor <b>21</b> to the collector and base of NPN active load transistor Q<b>8</b> and to the base of NPN active load transistor Q<b>7</b>, the emitters of which are connected to VEE. The base of input transistor Q<b>5</b> is connected to an output of input stage <b>4</b> by means of conductor <b>2</b>A. The base of input transistor Q<b>5</b> also is connected to one terminal of compensation capacitor C<b>2</b>, the other terminal of which is connected to VCC. The base of input transistor Q<b>6</b> is connected to another output of input stage <b>4</b> by means of conductor <b>2</b>B and also to one terminal of compensation capacitor C<b>3</b>, the other terminal of which is connected to Vout conductor <b>13</b>.</p>
<p id="p-0047" num="0046">A first implementation of common mode feedback amplifier <b>12</b> includes resistor R<b>3</b>, transistor Q<b>9</b>, and current source I<b>2</b> connected as an amplifier, with the emitter of transistor Q<b>9</b> being the non-inverting (+) input, and the base of transistor Q<b>9</b>, which is connected by conductor <b>9</b>A to feedback resistor R<b>5</b>, being the inverting (−) input. The collector and base of transistor Q<b>10</b> are connected to the base of transistor Q<b>9</b>. The collector of transistor Q<b>9</b> is connected to the output <b>9</b>B of common mode feedback amplifier <b>12</b>. In this implementation, diode-connected Q<b>10</b>, resistor R<b>4</b> and current source I<b>1</b> form a bias circuit for the (−) input, establishing a bias voltage (equal to VCC minus I<b>1</b> times R<b>4</b> minus the VBE of transistor Q<b>10</b>) on the base of input transistor Q<b>9</b>.</p>
<p id="p-0048" num="0047">In a second implementation of common mode feedback amplifier <b>12</b>, as indicated by dashed line <b>99</b>A, the right end of feedback resistor R<b>5</b> can be disconnected from conductor <b>9</b>A and connected directly to the emitter of transistor Q<b>10</b>, which becomes another input transistor. In this case, the emitter of input transistor Q<b>10</b> is the (−) input of common mode gain amplifier <b>12</b>. Performance of the above-mentioned first and second implementations of common mode feedback amplifier <b>12</b> is essentially the same.</p>
<p id="p-0049" num="0048">The emitter of PNP input transistor Q<b>9</b> is the non-inverting (+) input of common mode feedback amplifier <b>12</b>, and is connected to common mode feedback conductor <b>3</b>. The emitter of transistor Q<b>9</b> also is connected to one terminal of emitter follower resistor R<b>3</b>, the other terminal of which is connected to VCC. In the above-mentioned first implementation, the base of transistor Q<b>9</b> is the inverting (−) input of common mode feedback amplifier <b>12</b>. Common mode voltage amplifier <b>12</b> also includes diode-connected PNP transistor Q<b>10</b>. The collector of transistor Q<b>9</b> is connected to conductor <b>9</b>B and to one terminal of a load device represented by current source <b>12</b>, the other terminal of which is connected to VEE. The base of transistor Q<b>9</b> is connected to the base and collector of PNP transistor Q<b>10</b>, the emitter of which is coupled by resistor R<b>4</b> to VCC. The base and collector of transistor Q<b>10</b> are connected by conductor <b>9</b>A to one terminal of feedback resistor R<b>5</b> and to one terminal of a current source I<b>1</b> providing bias conditions for common mode gain amplifier <b>12</b>, the other terminal of which is connected to VEE. The other terminal of feedback resistor R<b>5</b> is connected by conductor <b>9</b>C to one terminal of each of capacitors C<b>0</b> and C<b>1</b>, the other terminal of capacitor C<b>0</b> being connected to the emitter of active load transistor Q<b>3</b>, and the other terminal of capacitor C<b>1</b> being connected to the emitter of active load transistor Q<b>4</b>.</p>
<p id="p-0050" num="0049">In operation, resistors R<b>0</b> and R<b>1</b> provide emitter degeneration to active load transistors Q<b>3</b> and Q<b>4</b>, and tail current source <b>10</b> provides biasing to the first stage <b>4</b>. Current sources I<b>1</b>, I<b>2</b> and resistors R<b>3</b> and R<b>4</b> determine the operating point of the common mode feedback amplifier <b>12</b>, and the tail current of the second stage <b>8</b> is determined by resistor R<b>2</b> or other suitable current source. Capacitors C<b>2</b> and C<b>3</b> provide frequency compensation of the main operational amplifier <b>10</b>A. The ratio of resistances R<b>5</b> and R<b>4</b> determines the gain of common mode feedback amplifier <b>12</b>. Capacitors C<b>0</b> and C<b>1</b> are an equivalent implementation of the single capacitor C<b>0</b> in <figref idref="DRAWINGS">FIG. 4</figref>. With capacitors C<b>0</b> and C<b>1</b> inserted in the feedback loop as shown in FIG. <b>6</b>, the bandwidth of the common mode feedback loop continues to be boosted by the high frequency gain of the common mode feedback amplifier (i.e., 1+R<b>5</b>/R<b>4</b>), but the DC gain of the common mode feedback amplifier <b>12</b> is much higher as capacitors C<b>0</b> and C<b>1</b> are DC open circuits at low frequency. This allows the operating points of the second stage and the controlled current sources to be set independently. Resistors R<b>4</b> and R<b>5</b> together with capacitors C<b>0</b> and C<b>1</b> determine the amount of frequency compensation of the common mode feedback loop. The emitter voltages of controlled active load transistors Q<b>3</b> and Q<b>4</b> track the common mode feedback control voltage on conductor <b>9</b>B at their bases, while providing low output impedance of amplifier <b>12</b> and higher common mode feedback loop gain. Note that with respect to operation of the common mode feedback loop, active load transistors Q<b>3</b> and Q<b>4</b> act like voltage followers.</p>
<p id="p-0051" num="0050">It should be appreciated, however, that there are many ways to close the gain settling feedback loop around the common mode feedback amplifier in a practical implementation of operational amplifier <b>10</b>A.</p>
<p id="p-0052" num="0051">The left terminal of feedback resistor R<b>5</b> should not be directly connected to the high impedance of conductor <b>9</b>B because that would limit the gain of the amplifier circuitry Q<b>9</b>,R<b>3</b>,I<b>2</b>. Instead, the left terminal of feedback resistor Q<b>5</b> can be coupled by means of capacitors C<b>0</b> and C<b>1</b> to the low emitter impedances of transistors Q<b>3</b> and Q<b>4</b>, which function as voltage follower buffer stages. This prevents the gain of common mode feedback amplifier <b>12</b> from being degraded due to loading of its output (i.e., conductor <b>9</b>B) by feedback resistor R<b>5</b>.</p>
<p id="p-0053" num="0052">In one embodiment of operational amplifier <b>10</b>A, an optional current mirror <b>18</b> includes diode-connected PNP voltage limiting transistor Q<b>11</b> having its base and collector connected to the emitter of input transistor Q<b>3</b>. This embodiment is beneficial if large voltage drops occur across degeneration resistors R<b>0</b> and R<b>1</b>, which is the case if a conventional class AB input stage is used instead of the ordinary input stage shown in <figref idref="DRAWINGS">FIG. 6</figref>. The base and collector of voltage limiting transistor Q<b>11</b> are connected to the base of PNP current mirror output transistor Q<b>12</b>, the collector of which is connected to common mode feedback conductor <b>9</b>B. The emitters of transistors Q<b>11</b> and Q<b>12</b> are connected to VCC. Similarly, an optional current mirror <b>19</b> includes diode-connected PNP voltage limiting transistor Q<b>13</b> having its base and collector connected to the emitter of input transistor Q<b>4</b>. The base and collector of voltage limiting transistor Q<b>13</b> are connected to the base of PNP current mirror output transistor <b>14</b>, the collector of which is connected to common mode feedback conductor <b>9</b>B. The emitters of transistors Q<b>13</b> and Q<b>14</b> are connected to VCC.</p>
<p id="p-0054" num="0053">If a class AB input stage is used without diode-connected transistors Q<b>11</b> and Q<b>13</b>, the large voltage swings across the degeneration resistors R<b>0</b> and R<b>1</b> resulting from large peak output currents of the class AB input stage can degrade signal linearity in the second stage and limit its dynamic range. A class AB input stage would cause peak currents through degeneration resistors R<b>0</b> or R<b>1</b> to be much greater (i.e., 10 to 100 times greater) than the peak amount of current through each input transistor of the input stage. (Class AB input stages are conventionally used for a class of amplifiers that need to have very high slew rates.) If a class AB input stage is used without diode-connected transistors Q<b>11</b> and Q<b>12</b>, the voltage on conductor <b>9</b>B will be a substantially distorted signal within the common mode feedback loop if there is a large difference between input signals Vin+ and Vin−. The voltages on conductors <b>2</b>A and <b>2</b>B will track the nonlinear, i.e., distorted, signal on conductor <b>9</b>B and will apply distorted voltage signals to the bases of input transistors Q<b>5</b> and Q<b>6</b>. This will cost distortion in the output signal Vout.</p>
<p id="p-0055" num="0054">However, with common mode feedback amplifier <b>12</b> connected as described above, the voltage on conductor <b>9</b>B is well controlled. Common mode feedback amplifier <b>12</b> suppresses and substantially reduces the common mode voltage swing and the nonlinear signal component applied to the input of the second stage <b>8</b> by means of conductors <b>2</b>A and <b>2</b>B. This results a substantial reduction of THD in the amplifier output signal Vout.</p>
<p id="p-0056" num="0055">To solve this problem, diode-connected transistors Q<b>11</b> and Q<b>13</b> are provided as voltage limiters connected across degeneration resistors R<b>0</b> and R<b>1</b>, respectively, to prevent transistors Q<b>3</b> and Q<b>4</b> from saturating. Also, transistors Q<b>12</b> and Q<b>14</b> together with transistors Q<b>11</b> and Q<b>13</b> are connected to form current mirrors <b>18</b> and <b>19</b>, as shown in <figref idref="DRAWINGS">FIG. 6</figref>, which in effect contribute to the necessary frequency compensation for the common mode feedback loop whenever diode-connected transistors Q<b>11</b> and Q<b>13</b> are turned on by a large transient current flowing into transistors Q<b>3</b> and Q<b>4</b> from a class AB input stage that is being used.</p>
<p id="p-0057" num="0056">Most of the time there is no current through transistors Q<b>12</b> or Q<b>14</b> because diode-connected transistors Q<b>11</b> and Q<b>13</b> are off because there is not enough current through to produce a sufficiently large voltage drop across degeneration resistors R<b>0</b> and R<b>1</b> to turn diode-connected transistors Q<b>11</b> and Q<b>13</b> on. However, when amplifier <b>10</b>A includes a class AB input stage and goes into a slewing mode, this causes peak transient currents through degeneration resistors R<b>0</b> sufficiently large to turn on diode-connected transistors Q<b>11</b> and Q<b>13</b>. Without the benefit of current mirror output transistors Q<b>12</b> and Q<b>13</b>, the common mode loop would become unstable and difficult to compensate. However, the use of current mirrors <b>18</b> and <b>19</b> converts the active load circuitry including transistors Q<b>3</b> and Q<b>4</b> into a kind of current amplifier with low gain, which is more easily compensated. When transistors Q<b>11</b> and Q<b>13</b> are on, transistors Q<b>3</b> and Q<b>4</b> are only weakly degenerated, and the degeneration factor approaches one-half as transistors Q<b>11</b> and Q<b>13</b> become fully turned on. (The degeneration factor is the ratio of gm that is set using degeneration resistors to the gm of the transistor itself (without degeneration resistors). In general, for a bipolar transistor implementation, the degeneration factor can be considered to be given by the expression (V<sub>DEGEN</sub>/V<sub>T</sub>) +1, where V<sub>DEGEN </sub>is the voltage drop across the degeneration and V<sub>T </sub>is equal to kT/q (which is 26 millivolts for silicon).</p>
<p id="p-0058" num="0057">Thus, during a transient common mode feedback voltage on conductor <b>9</b>B, the combination of the transconductance of transistors Q<b>3</b> and Q<b>4</b> (which suddenly becomes high) and the transconductance of common mode feedback amplifier <b>12</b> cause the common mode feedback loop have very wide bandwidth. Additional frequency compensation therefor is needed, and is provided by PNP current mirror output transistors Q<b>12</b> and Q<b>14</b>, which allow the active load circuitry including transistors Q<b>3</b> and Q<b>4</b> to also function as part of a Wilson current mirror with limited current gain when transistors Q<b>11</b> and Q<b>13</b> are turned on, without diminishing their function as an active load circuit for input transistors Q<b>1</b> and Q<b>2</b>. That is, when transistors Q<b>3</b>, Q<b>11</b> and Q<b>12</b> and Q<b>4</b>, Q<b>13</b> and Q<b>14</b> all turn on, they form Wilson current mirrors in the common mode feedback loop, with a common mode feedback loop input current through conductor <b>9</b>B being applied as an input to the bases of transistors Q<b>3</b> and Q<b>4</b>. The gain of the Wilson current mirrors is the ratio of the emitter areas of transistors Q<b>12</b> and Q<b>11</b> and the emitter areas of transistors Q<b>14</b> and Q<b>13</b>. The bandwidth of the common mode feedback loop therefore is determined by common mode feedback amplifier transconductance associated with transistor Q<b>9</b> amplified by the current mirror gain (i.e., the emitter area of transistor Q<b>11</b> divided by the emitter area of transistor Q<b>12</b>) and the capacitance of capacitors C<b>2</b> and C<b>3</b>.</p>
<p id="p-0059" num="0058">The present invention thus allows adjustment of the common mode loop bandwidth to produce faster settling of operational amplifier <b>10</b>A without reducing the amount of degeneration in the active load transistors Q<b>3</b> and Q<b>4</b> by means of first gain stage current mirrors <b>18</b> and <b>19</b>, and at the same time keeping the input stage <b>4</b> balanced using common mode feedback.</p>
<p id="p-0060" num="0059">Unlike the prior art, the bandwidth of the common mode feedback loop can be adjusted independently of the amount of degeneration of the active loads. The result is faster settling of Vout compared to that in typical prior art operational amplifiers, as shown in <figref idref="DRAWINGS">FIGS. 5A and 5B</figref>.</p>
<p id="p-0061" num="0060">Also, the present invention provides improved THD of the described operational amplifiers for the reasons explained above.</p>
<p id="p-0062" num="0061">Although complementary bipolar transistor implementations have been illustrated, the invention is similarly applicable to CMOS implementations.</p>
<p id="p-0063" num="0062">While the invention has been described with reference to several particular embodiments thereof, those skilled in the art will be able to make various modifications to the described embodiments of the invention without departing from its true spirit and scope. It is intended that all elements or steps which are insubstantially different from those recited in the claims but perform substantially the same functions, respectively, in substantially the same way to achieve the same result as what is claimed are within the scope of the invention. For example, although the described embodiments are operational amplifiers, the invention is generally applicable to other kinds of differential amplifiers.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An operational amplifier comprising:
<claim-text>(a) a first stage including differential-pair-coupled first and second input transistors and a controlled active load circuit;</claim-text>
<claim-text>(b) a second stage including differential-pair-coupled third and fourth input transistors and a load circuit, a first output of the first stage being coupled to a first input of the second stage, a second output of the first stage being coupled to a second input of the second stage; and</claim-text>
<claim-text>(c) a common mode feedback amplifier having a first input coupled to receive a common mode signal from the second stage for producing an amplified common mode signal on a control input of the controlled active load circuit, so as to provide fast settling of an output of the second stage without substantially increasing amplifier noise,</claim-text>
</claim-text>
<claim-text>wherein the controlled active load circuit of the first stage includes first and second active load transistors each having a control electrode coupled to receive the amplified common mode signal, and</claim-text>
<claim-text>wherein the first stage includes a first current mirror including a first diode-connected transistor having a control electrode coupled to a first electrode of the first active load transistor and to a control electrode of a first current mirror output transistor, a second electrode of the first current mirror output transistor being coupled to the control electrodes of the first and second active load transistors, and wherein the first stage also includes a second current mirror including a second diode-connected transistor having a control electrode coupled to a first electrode of the second active load transistor and to a control electrode of a second current mirror output transistor, a second electrode of the second current mirror output transistor being coupled to the control electrodes of the first and second active load transistors, to contribute to compensation of a common mode feedback loop of the amplifier.</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. An operational amplifier comprising:
<claim-text>(a) a first stage including differential-pair-coupled first and second input transistors and a controlled active load circuit;</claim-text>
<claim-text>(b) a second stage including differential-pair-coupled third and fourth input transistors and a load circuit, a first output of the first stage being coupled to a first input of the second stage, a second output of the first stage being coupled to a second input of the second stage; and</claim-text>
<claim-text>(c) a common mode feedback amplifier having a first input coupled to receive a common mode signal from the second stage for producing an amplified common mode signal on a control input of the controlled active load circuit, so as to provide fast settling of an output of the second stage without substantially increasing amplifier noise,</claim-text>
</claim-text>
<claim-text>wherein the controlled active load circuit of the first stage includes first and second active load transistors each having a control electrode coupled to receive the amplified common mode signal,</claim-text>
<claim-text>wherein the first and second input transistors are NPN transistors having emitters coupled to a first tail current source and bases coupled to receive first and second input signals, respectively, and wherein the first and second active load transistors are PNP transistors, a collector of the first input transistor being coupled to a collector of the first active load transistor, a collector of the second input transistor being coupled to a collector of the second active load transistor, an emitter of the first active load transistor being coupled to a first degeneration resistor and an emitter of the second active load transistor being coupled to a second degeneration resistor, and wherein the third and fourth input transistors are PNP transistors, and wherein the load circuit of the second stage includes third and fourth active load transistors both of which are NPN transistors, emitters of the third and fourth input transistors being coupled to a second tail current source and producing the common mode signal on the input of the common mode feedback amplifier, a base of the third input transistor being coupled to the collector of the first input transistor, a base of the fourth input transistor being coupled to the collector of the second input transistor, a collector of the third input transistor being coupled to a base and collector of the third active load transistor and a base of the fourth active load transistor, a collector of the fourth active load transistor being coupled to a collector of the fourth input transistor, emitters of the third and fourth active load transistors being coupled to a first supply voltage.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The amplifier of <claim-ref idref="CLM-00002">claim 2</claim-ref> wherein the common mode feedback amplifier includes a second input coupled to a first terminal of a feedback resistor for limiting the high frequency gain of the common mode feedback amplifier, the feedback resistor having a second terminal coupled to an output of the common mode feedback amplifier, a first capacitor coupling the second terminal of the feedback resistor to the emitter of the first active load transistor for boosting low frequency gain of the common mode feedback amplifier, and a second capacitor coupling the second terminal of the feedback resistor to the emitter of the second active load transistor boosting the low frequency gain of the common mode feedback amplifier.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The amplifier of <claim-ref idref="CLM-00002">claim 2</claim-ref> including PNP first and second diode-connected transistors coupled between the second supply voltage and the emitters of the first and second active load transistors, respectively, to function as voltage limiting devices, and also including a first current mirror output transistor having an emitter connected to the second supply voltage, a base connected to a base and a collector of the first diode-connected transistor, and a collector connected to the bases of the first and second active load transistors to improve frequency compensation of a common mode feedback loop of the operational amplifier, the operational amplifier also including a second current mirror output transistor having an emitter connected to the second supply voltage, a base connected to a base and a collector of the second diode-connected transistor, and a collector connected to the bases of the first and second active load transistors to improve frequency compensation of the common mode feedback loop.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. An operational amplifier comprising:
<claim-text>(a) a first stage including differential-pair-coupled first and second input transistors and a controlled active load circuit;</claim-text>
<claim-text>(b) a second stage including differential-pair-coupled third and fourth input transistors and a load circuit, a first output of the first stage being coupled to a first input of the second stage, a second output of the first stage being coupled to a second input of the second stage; and</claim-text>
<claim-text>(c) a common mode feedback amplifier having a first input coupled to receive a common mode signal from the second stage for producing an amplified common mode signal on a control input of the controlled active load circuit, so as to provide fast settling of an output of the second stage without substantially increasing amplifier noise,</claim-text>
</claim-text>
<claim-text>wherein the controlled active load circuit of the first stage includes first and second active load transistors each having a control electrode coupled to receive the amplified common mode signal, and</claim-text>
<claim-text>wherein the common mode feedback amplifier includes first and second transistors which are PNP transistors, a first resistor being coupled between a second supply voltage and an emitter of the first transistor, a second resistor being coupled between the second supply voltage and an emitter of the second transistor, a collector of the first transistor being coupled to a first current source and to bases of the first and second active load transistors, a collector and a base of the second transistor being coupled to a base of the first transistor, a second current source, and the emitters of the first and second active load transistors.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. A method of operating an operational amplifier to decrease output settling time of the operational amplifier without substantially increasing operational amplifier noise, the method comprising:
<claim-text>(a) providing a first stage including differential-pair-coupled first and second input transistors and a controlled active load circuit;</claim-text>
<claim-text>(b) coupling a differential output signal produced by the first stage to a differential input of a second stage including differential-pair-coupled third and fourth input transistors and a load circuit; and</claim-text>
<claim-text>(c) amplifying a common mode signal of the second stage to produce an amplified common mode signal on a control input of the controlled active load circuit, and</claim-text>
<claim-text>(d) operating a first current mirror including a first diode-connected transistor and a first current mirror output transistor to reduce variation in the amplified common mode signal by limiting a voltage drop across a first degeneration resistor coupled to a first electrode of a first active load transistor in the controlled active load circuit by turning on the first diode-connected transistor in response to an overvoltage across the first degeneration resistor, the first active load transistor having a control electrode coupled to the control input of the controlled active load circuit, the method including producing a mirrored current in the first current mirror output transistor in response to a current in the first diode-connected transistor resulting from the overvoltage and conducting the mirrored current into a conductor coupled to the control input of the controlled active load circuit.</claim-text>
</claim-text>
</claim>
</claims>
</us-patent-grant>
