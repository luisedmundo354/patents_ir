<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298895-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298895</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10696115</doc-number>
<date>20031029</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<us-term-of-grant>
<us-term-extension>606</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>62</subgroup>
<symbol-position>L</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>382171</main-classification>
<further-classification>382224</further-classification>
<further-classification>382165</further-classification>
<further-classification>382170</further-classification>
</classification-national>
<invention-title id="d0e53">Method for automatically classifying images into events</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4396903</doc-number>
<kind>A</kind>
<name>Habicht et al.</name>
<date>19830800</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>382  9</main-classification></classification-national>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>4567610</doc-number>
<kind>A</kind>
<name>McConnell</name>
<date>19860100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382170</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5083860</doc-number>
<kind>A</kind>
<name>Miyatake et al.</name>
<date>19920100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>352129</main-classification></classification-national>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5539841</doc-number>
<kind>A</kind>
<name>Huttenlocher et al.</name>
<date>19960700</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>382218</main-classification></classification-national>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5576759</doc-number>
<kind>A</kind>
<name>Kawamura et al.</name>
<date>19961100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>34820799</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5594807</doc-number>
<kind>A</kind>
<name>Liu</name>
<date>19970100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382128</main-classification></classification-national>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5598557</doc-number>
<kind>A</kind>
<name>Doner et al.</name>
<date>19970100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>395605</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>5719643</doc-number>
<kind>A</kind>
<name>Nakajima</name>
<date>19980200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348700</main-classification></classification-national>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>5751378</doc-number>
<kind>A</kind>
<name>Chen et al.</name>
<date>19980500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>348700</main-classification></classification-national>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>5809161</doc-number>
<kind>A</kind>
<name>Auty et al.</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382104</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>5842194</doc-number>
<kind>A</kind>
<name>Arbuckle</name>
<date>19981100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>706 52</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>US</country>
<doc-number>5872859</doc-number>
<kind>A</kind>
<name>Gur et al.</name>
<date>19990200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382128</main-classification></classification-national>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>US</country>
<doc-number>6012091</doc-number>
<kind>A</kind>
<name>Boyce</name>
<date>20000100</date>
</document-id>
</patcit>
<category>cited by other</category>
<classification-national><country>US</country><main-classification>709219</main-classification></classification-national>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>US</country>
<doc-number>6865297</doc-number>
<kind>B2</kind>
<name>Loui et al.</name>
<date>20050300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382224</main-classification></classification-national>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>US</country>
<doc-number>6993180</doc-number>
<kind>B2</kind>
<name>Sun et al.</name>
<date>20060100</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382165</main-classification></classification-national>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>US</country>
<doc-number>2003/0198390</doc-number>
<kind>A1</kind>
<name>Loui et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382224</main-classification></classification-national>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>US</country>
<doc-number>2006/0104520</doc-number>
<kind>A1</kind>
<name>Kraus et al.</name>
<date>20060500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382225</main-classification></classification-national>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>US</country>
<doc-number>2006/0126944</doc-number>
<kind>A1</kind>
<name>Loui et al.</name>
<date>20060600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>382224</main-classification></classification-national>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>US</country>
<doc-number>2007/0115373</doc-number>
<kind>A1</kind>
<name>Gallagher et al.</name>
<date>20070500</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>3482313</main-classification></classification-national>
</citation>
<citation>
<patcit num="00020">
<document-id>
<country>EP</country>
<doc-number>0 472 806</doc-number>
<date>19920300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00021">
<document-id>
<country>EP</country>
<doc-number>0 472 806</doc-number>
<kind>A2</kind>
<date>19920300</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00022">
<document-id>
<country>EP</country>
<doc-number>0990996</doc-number>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00023">
<document-id>
<country>EP</country>
<doc-number>0990996</doc-number>
<kind>A2</kind>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<patcit num="00024">
<document-id>
<country>JP</country>
<doc-number>0472806</doc-number>
<date>19920400</date>
</document-id>
</patcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00025">
<othercit>Hansen et al.(Models for Time Coalescence in Event Logs) ,Jeffery P. Hansen and Daniel P. Siewiorek, Department of Electric and Computer Engineering ,Carnegie Mellon University,Pittsburg,PA15213 USA.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00026">
<othercit>XP-002140074,“Introduction to Statistical Pattern Recognition”,“Clustering”Chapter II ,Fukanage,pp. 509-523.</othercit>
</nplcit>
<category>cited by examiner</category>
</citation>
<citation>
<nplcit num="00027">
<othercit>“Introduction to Statistical Pattern Recognition” by Keinosuki Fukanaga. From Introduction to Statistical Pattern Recognition, Boston, Academic, U.S., pp. 508-518.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00028">
<othercit>“Models for Time Coalescence in Event Logs” by Jeffery P. Hansen and Daniel P. Siewiorek. Fault-Tolerant Parallel and Distributed Systems, 1992. Digest of Papers, 1992 IEEE Workshop on Amherst, MA, USA, Jul. 6-7, 1992, Los Alamitos, CA, USA, IEEE Computer Soc, US, Jul. 6, 1992, pp. 221-227.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00029">
<othercit>“Automatic Video Indexing and Full-Video Search for Object Appearances” by Akio Nagasaka and Yuzur Tanaka. Visual Database Systems, II. Second Working Conference, Sep. 30-Oct. 3, 1991, Budapest, Hungary; Amsterdam, Netherlands, 1991, pp. 113-127.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00030">
<othercit>“Semantic Agents for Content-Based Discovery in Distributed Image Libraries” by Eddie C. Shek, Asha Vellaikal, Son K. Dao, Brad Perry. Content-Based Access of Image and Video Libraries, 1998, Proceedings IEEE Workshop on Santa Barbara, CA, USA, Jun. 21, 1998, Los Alamitos, CA, USA, IEEE Computer Soc., USA, pp. 19-23.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00031">
<othercit>“Image retrieval using efficient local-area matching” by V.V.Vinod, Hiroshi Murase. Machine Vision and Applications, vol. 11, No. 1, Jun. 1998, p. 7-15.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00032">
<othercit>Nagasaka A et al.: “Automatic Video Indexing and Full-Video Search for Object Appearances”, Visual Database Systems, II. Second Working Conference, Sep. 30-Oct. 3, 1991, Budapest, HU, Amsterdam, NL, 1991, pp. 113-127, XP000473004.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00033">
<othercit>Shek E C et al.: “Semantic Agents for Content-Based Directory in Distributed Image Libraries” Proceedings. IEEE Workshop on Santa Barbara, CA, USA, IEEE Comput. Soc., US, Jun. 21, 1998, pp. 19-23 XP010293861, ISBN: 0-8186-8544-1.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00034">
<othercit>Vinod, V. V., Murase H.: “Image Retrieval Using Efficient Local-Area Matching” Machine Vision and Applications, vol. 11, No. 1, Jun. 1998, pp. 7-15, XP002253163, Heidelberg.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
<citation>
<nplcit num="00035">
<othercit>Swain M. J. et al.: “Indexing Via Color Histograms”, Proceedings of the International Conference on Computer Vision. Osaka, Dec. 4-7, 1990, Los Alamitos, IEEE Comp. Soc. Press, US, vol. Conf. 3, Dec. 2, 1990 (Dec. 4, 1990), pp. 390-393, XP000242625 ISBN: 0-8186-2057-9.</othercit>
</nplcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>10</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>382164</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382168</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382163</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382170</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382171</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382224</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382305</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382225</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382173</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382177</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382229</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382260</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382128</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382165</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>709219</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>3752401</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  301</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>13</number-of-drawing-sheets>
<number-of-figures>19</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20040208365</doc-number>
<kind>A1</kind>
<date>20041021</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Loui</last-name>
<first-name>Alexander C.</first-name>
<address>
<city>Penfield</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>omitted</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Pavie</last-name>
<first-name>Eric</first-name>
<address>
<city>Paris</city>
<country>FR</country>
</address>
</addressbook>
<nationality>
<country>FR</country>
</nationality>
<residence>
<country>FR</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<last-name>Walker</last-name>
<first-name>Robert Luke</first-name>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Eastman Kodak Company</orgname>
<role>02</role>
<address>
<city>Rochester</city>
<state>NY</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Ahmed</last-name>
<first-name>Samir</first-name>
<department>2624</department>
</primary-examiner>
<assistant-examiner>
<last-name>Bitar</last-name>
<first-name>Nancy</first-name>
</assistant-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">A method for obtaining and automatically classifying images into events comprising the steps of: (a) obtaining a group of images from a digital source, wherein the images are in chronological order; (b) transferring the group of images to a computer system; said computer system (c) clustering the images into smaller groups based on chronological image similarity of nearby images by computing histograms of the images and comparing histogram intersection values obtained therefrom with one or more thresholds, whereby the clustering based on chronological image similarity is done in at least one stage by comparing each image with its direct neighboring images; and (d) evaluating the clustered images against a final condition related to at least one of a predetermined group maximum for the number of smaller groups and a predetermined maximum number of isolated pictures, whereby the smaller groups are classified as events if the final condition is met.</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="99.23mm" wi="264.58mm" file="US07298895-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="255.69mm" wi="77.55mm" orientation="landscape" file="US07298895-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="266.78mm" wi="120.57mm" orientation="landscape" file="US07298895-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="222.59mm" wi="171.20mm" file="US07298895-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="215.22mm" wi="171.03mm" file="US07298895-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="152.15mm" wi="176.61mm" file="US07298895-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="193.38mm" wi="153.67mm" orientation="landscape" file="US07298895-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="242.65mm" wi="172.72mm" file="US07298895-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="141.05mm" wi="160.44mm" file="US07298895-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="191.69mm" wi="165.02mm" file="US07298895-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="139.28mm" wi="152.48mm" file="US07298895-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="261.70mm" wi="91.44mm" orientation="landscape" file="US07298895-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="207.60mm" wi="114.72mm" orientation="landscape" file="US07298895-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="139.95mm" wi="126.24mm" orientation="landscape" file="US07298895-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<heading id="h-0001" level="1">CROSS-REFERENCE TO RELATED PATENT MATERIALS</heading>
<p id="p-0002" num="0001">Reference is made to commonly assigned U.S. Pat. No. 6,606,411, entitled “Method for Automatically Classifying Images into Events” and issued 12 Aug. 2003 in the names of Alexander C. Loui and Eric S. Pavie, and commonly-assigned copending U.S. Ser. No. 10/413,673, entitled “A Method for Automatically Classifying Images into Events” and filed 15 Apr. 2003 in the names of Alexander C. Loui and Eric S. Pavie, both of which are incorporated herein by reference.</p>
<heading id="h-0002" level="1">FIELD OF THE INVENTION</heading>
<p id="p-0003" num="0002">The invention relates generally to the field of image processing having image understanding that automatically classifies pictures by events and the like and, more particularly, to such automatic classification of pictures by block-based analysis which selectively compares blocks of the images with each other.</p>
<heading id="h-0003" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0004" num="0003">Pictorial images are often classified by the particular event, subject or the like for convenience of retrieving, reviewing, and albuming of the images. Typically, this has been achieved by manually segmenting the images, or by the below-described automated method. The automated method includes grouping by color, shape or texture of the images for partitioning the images into groups of similar image characteristics.</p>
<p id="p-0005" num="0004">Although the presently known and utilized methods for partitioning images are satisfactory, there are drawbacks. The manual classification is obviously time consuming, and the automated process, although theoretically classifying the images into events, is susceptible to miss-classification due to the inherent inaccuracies involved with classification by color, shape or texture.</p>
<p id="p-0006" num="0005">Consequently, a need exists for overcoming the above-described drawbacks. However, in many cases, chronological data such as date and time is not available. The need therefore is to develop an intelligent algorithm to automatically classify and sort images from sets/rolls of pictures into separate events based on image content only. Moreover, such an algorithm should be fully automatic, work on all consumer pictures of different sizes without needing date or time information, and be adaptable to different parameters.</p>
<heading id="h-0004" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0007" num="0006">The present invention is directed to overcoming one or more of the problems set forth above. Briefly summarized, according to one aspect of the present invention, the invention resides in a method for obtaining and automatically classifying images into events comprising the steps of: (a) obtaining a group of images from a digital source, wherein the images are in chronological order; (b) transferring the group of images to a computer system; said computer system (c) clustering the images into smaller groups based on chronological image similarity of nearby images by computing histograms of the images and comparing histogram intersection values obtained therefrom with one or more thresholds, whereby the clustering based on chronological image similarity is done in at least one stage by comparing each image with its direct neighboring images; and (d) evaluating the clustered images against a final condition related to at least one of a predetermined group maximum for the number of smaller groups and a predetermined maximum number of isolated pictures, whereby the smaller groups are classified as events if the final condition is met.</p>
<p id="p-0008" num="0007">These and other aspects, objects, features and advantages of the present invention will be more clearly understood and appreciated from a review of the following detailed description of the preferred embodiments and appended claims, and by reference to the accompanying drawings.</p>
<heading id="h-0005" level="1">ADVANTAGEOUS EFFECT OF THE INVENTION</heading>
<p id="p-0009" num="0008">The present invention has the advantage of improved classification of images, notwithstanding the lack of both date and time information, by utilizing a block-based comparison that checks for similarity of subject and background in the images.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0006" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0010" num="0009"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram illustrating an overview of a method for automatically classifying images into events.</p>
<p id="p-0011" num="0010"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram illustrating a date and time clustering technique for use with the method of <figref idref="DRAWINGS">FIG. 1</figref>.</p>
<p id="p-0012" num="0011"><figref idref="DRAWINGS">FIG. 3</figref> is a graph illustrating a scaling function used to map the result of the 2-means clustering.</p>
<p id="p-0013" num="0012"><figref idref="DRAWINGS">FIG. 4</figref> is a graph illustrating a typical result of the scaling function of <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 5</figref> is a diagram illustrating a block diagram of an event boundary checking after the date and time clustering.</p>
<p id="p-0015" num="0014"><figref idref="DRAWINGS">FIG. 6</figref> is a diagram illustrating grouping of images within each event based on content.</p>
<p id="p-0016" num="0015"><figref idref="DRAWINGS">FIG. 7</figref> is a block diagram of a group-merging step.</p>
<p id="p-0017" num="0016"><figref idref="DRAWINGS">FIG. 8</figref> is a block diagram of image re-arrangement within each group.</p>
<p id="p-0018" num="0017"><figref idref="DRAWINGS">FIGS. 9A and 9B</figref> show a flowchart of a block-based histogram correlation technique.</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 10</figref> is diagram illustrating the comparison between block histograms.</p>
<p id="p-0020" num="0019"><figref idref="DRAWINGS">FIG. 11</figref> is diagram of an example of best intersection mapping for three segment analysis.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 12</figref> is an illustration of shift detection within the block based histogram correlation.</p>
<p id="p-0022" num="0021"><figref idref="DRAWINGS">FIG. 13</figref> is a block diagram illustrating an over view of a method for automatically classifying images into events according to the present invention.</p>
<p id="p-0023" num="0022"><figref idref="DRAWINGS">FIG. 14</figref> is an illustration of a set of images divided into smaller groups according to a group creation step shown in the method of <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0024" num="0023"><figref idref="DRAWINGS">FIG. 15</figref> is a block diagram of the subject grouping step shown in the method of <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<p id="p-0025" num="0024"><figref idref="DRAWINGS">FIG. 16</figref> is a graphical illustration of the memory of 1 step shown in <figref idref="DRAWINGS">FIG. 15</figref>.</p>
<p id="p-0026" num="0025"><figref idref="DRAWINGS">FIG. 17</figref> is a graphical illustration of the memory of 2 step shown in <figref idref="DRAWINGS">FIG. 15</figref>.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0007" level="1">DETAILED DESCRIPTION OF THE INVENTION</heading>
<p id="p-0027" num="0026">In the following description, the present invention will be described in the preferred embodiment as a software program. Those skilled in the art will readily recognize that the equivalent of such software may also be constructed in hardware.</p>
<p id="p-0028" num="0027">Still further, as used herein, computer readable storage medium may comprise, for example; magnetic storage media such as a magnetic disk (such as a floppy disk) or magnetic tape; optical storage media such as an optical disc, optical tape, or machine readable bar code; solid state electronic storage devices such as random access memory (RAM), or read only memory (ROM); or any other physical device or medium employed to store a computer program.</p>
<p id="p-0029" num="0028">In addition, the term “event” is defined herein as a significant occurrence or happening as perceived by the subjective intent of the user of the image capture device.</p>
<p id="p-0030" num="0029">Before describing the present invention, it facilitates understanding to note that the present invention is preferably utilized on any well-known computer system, such a personal computer. Consequently, the computer system will not be discussed in detail herein. It is also instructive to note that the images are either directly input into the computer system (for example by a digital camera) or digitized before input into the computer system (for example by scanning).</p>
<p id="p-0031" num="0030">Referring to now <figref idref="DRAWINGS">FIG. 1</figref>, there is illustrated a flow diagram illustrating an overview of a method for automatically classifying images into events, as shown in the related U.S. Pat. No. 6,606,411 and copending U.S. Ser. No. 10/413,673. Digitized images are input into the computer system where a software program will classify them into distinct categories. The images will first be ranked S<b>10</b> in chronological order by analyzing the time and date of capture of each image. The date and/or time of capture of each picture may be extracted, for example, from the encoded information on the film strip of the Advanced Photo System (APS) images, or from information available from some digital cameras. The representations of the images will then be placed S<b>20</b> into one of a plurality of distinct events by a date and time clustering analysis that is described below. Within each event, the contents of the images are analyzed S<b>20</b> for determining whether images closest in time to an adjacent event should be maintained in the event as defined by the clustering analysis, or the adjacent events merged together. After the images are defined into events, a further sub-classification (grouping) within each event is performed. In this regard, the images within each event will then be analyzed by content S<b>30</b> for grouping images of similar content together, and then the date and time S<b>30</b> for further refining the grouping.</p>
<p id="p-0032" num="0031">The event segmentation S<b>20</b> using the date and time information is by a k-means clustering technique, as will be described in detail below, which groups the images into events or segments. A boundary check is then performed on the segments S<b>20</b> for verifying that the boundary images should actually be grouped into the segment identified by the clustering, as will also be described below.</p>
<p id="p-0033" num="0032">These groups of images are then sent to a block-based histogram correlator S<b>30</b> for analyzing the content. For each event or segment sent to the correlator, a content or subject grouping S<b>30</b> is performed thereon for further sub-classifying the images by subject within the particular event segment. For example, within one event, several different subjects may appear, and these subject groupings define these particular subjects. The subject grouping is based primarily on image content, which is performed by a block-based histogram correlation technique. This correlation compares portions of two images with each other, as will also be described in detail below. The result of the ranking is the classification of images of each segment into distinct subject groupings. The date and time of all the images within each subject grouping are then compared to check whether any two or more subject grouping can be merged into a single subject grouping S<b>30</b>.</p>
<p id="p-0034" num="0033">A refinement and subject re-arrangement analysis S<b>40</b> will further improve the overall classification and the subject grouping by rearranging certain images within a subject group.</p>
<p id="p-0035" num="0034">Referring to <figref idref="DRAWINGS">FIG. 2</figref>, there is shown an exploded block diagram illustrating the date and time clustering technique S<b>20</b>. First, the time interval between adjacent pictures (time difference) is computed S<b>20</b><i>a</i>. A histogram of the time differences is then computed S<b>20</b><i>b</i>, an example of which is shown in block <b>10</b>. The abscissa of the histogram is preferably the time in minutes, and the ordinate of the histogram is the number of pictures having the specified time difference. The histogram is then mapped S<b>20</b><i>c </i>to a scaled histogram using a time difference scaling function, which is shown in <figref idref="DRAWINGS">FIG. 3</figref>. This mapping is to take the pictures with small time difference and substantially maintain its time difference, and to take pictures with a large time difference and compress their time difference.</p>
<p id="p-0036" num="0035">A 2-means clustering is then performed S<b>20</b><i>d </i>on the mapped time-difference histogram for separating the mapped histogram <b>10</b> into two clusters based on the time difference; the dashed line represents the separation point for the two clusters. For further details of 2-means clustering, Introduction to Statistical Pattern Recognition, 2<sup>nd </sup>edition by Keinosuke Fukunaga 1990 may be consulted, and therefore, the process of 2-means clustering will not be discussed in detail herein. Referring briefly to <figref idref="DRAWINGS">FIG. 4</figref>, the result of 2-means clustering is the segmentation of the histogram into two portions <b>10</b><i>a </i>and <b>10</b><i>b</i>. Normally, events are separated by large time differences. The 2-means clustering, therefore, is to define where these large time differences actually exist. In this regard, the right portion <b>10</b><i>b </i>of the 2-means clustering output defines the large time differences that correspond to the event boundaries.</p>
<p id="p-0037" num="0036">Referring to <figref idref="DRAWINGS">FIG. 5</figref>, there is illustrated an example of boundary checking between events. For two consecutive events i and j, a plurality of block-based, histogram comparisons are made to check if the pictures at the border of one event are different from the pictures at the border of the other event. If the comparison of content is similar, the two segments are merged into one segment. Otherwise, the segments are not merged. Preferably, the comparisons are performed on the three border images of each event (i<b>3</b>, i<b>4</b>, i<b>5</b> with j<b>1</b>, j<b>2</b>, j<b>3</b>), as illustrated in the drawing. For example, image i<b>5</b> is compared with image j<b>1</b> and etc. This block-based histogram comparison technique will be described in detail hereinbelow.</p>
<p id="p-0038" num="0037">Referring to <figref idref="DRAWINGS">FIG. 6</figref>, there is illustrated an overview of subject (content) grouping for each segmented event. Within each segmented event i, adjacent pictures are compared (as illustrated by the arrows) with each other using the below-described, block-based histogram technique. For example, the block-based histogram technique may produce five subject groupings (for example groups <b>1</b>-<b>5</b>) from the one event i, as illustrated in the drawing. The arrangement of the subject grouping is stored for future retrieval during the subject arrangement step s<b>40</b>. In particular, the subject grouping having a single image is stored (for example groups <b>2</b>, <b>3</b>, and <b>5</b>).</p>
<p id="p-0039" num="0038">Referring to <figref idref="DRAWINGS">FIG. 7</figref>, after the grouping by content, a time and date ordering is performed on the groupings for merging groups together based on a time and date analysis. A histogram of the time difference between adjacent images in the event is computed, similar to <figref idref="DRAWINGS">FIG. 4</figref>. A predetermined number of the largest time differences (for example boundary a<sub>12</sub>) are compared with the boundaries (for example boundaries b<sub>12</sub>, b<sub>23</sub>, b<sub>34</sub>, b<sub>45</sub>) of the subject grouping determined by the block-based analysis. The predetermined number of largest time differences are determined by dividing the total number of images within an event by the average number of picture per group (four is used in the present embodiment). If the boundary of the subject grouping matches the boundary based on the chosen time differences, the subject groupings will not be merged. If there is not a match between the two boundaries, the subject groupings having a boundary not having a matched time difference in the histogram will be merged into a single subject grouping (for example groups b<sub>1</sub>, b<sub>b</sub>, b<sub>3 </sub>merged into resulting group c<sub>1</sub>).</p>
<p id="p-0040" num="0039">Referring to <figref idref="DRAWINGS">FIG. 8</figref>, there is illustrated a diagram of image re-arrangement within each group. The arrangement of the initial subject groupings is retrieved for identifying subject groupings that contain single images (for example the groups with a single image of FIG. <b>6</b>—groups <b>2</b>, <b>3</b>, and <b>5</b> that are re-illustrated as groups <b>2</b>, <b>3</b>, and <b>5</b> in <figref idref="DRAWINGS">FIG. 8</figref>). Any single images from the same subject grouping that are merged as identified by the merged subject grouping (for example, groups c<sub>1 </sub>and c<sub>2 </sub>of <figref idref="DRAWINGS">FIG. 7</figref>) are compared with all other images in the merged subject grouping, as illustrated by the arrows. This comparison is based on block-based histogram analysis. If the comparisons are similar, these images will be re-arranged so that the similar images are located adjacent each other, for example groups d<sub>1 </sub>and d<sub>2</sub>.</p>
<p id="p-0041" num="0040">Further refinement is done by comparing any group that still contains a single image after the above procedure, with all the images in the event. This is to check if these single image groups can be better arranged within the event grouping. This comparison is similar to the subject re-arrangement step of <figref idref="DRAWINGS">FIG. 8</figref>.</p>
<p id="p-0042" num="0041">Referring to <figref idref="DRAWINGS">FIGS. 9A and 9B</figref>, there is illustrated a flowchart of the block-based histogram correlation used in the above analyses. First, a histogram of the entire image of both images is computed S<b>50</b>, a global histogram. A comparison of the two histograms is performed by histogram intersection value S<b>60</b> illustrated the following equation:</p>
<p id="p-0043" num="0042">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mrow>
  <mrow>
    <mi>Inter</mi>
    <mo>⁡</mo>
    <mrow>
      <mo>(</mo>
      <mrow>
        <mi>R</mi>
        <mo>,</mo>
        <mi>C</mi>
      </mrow>
      <mo>)</mo>
    </mrow>
  </mrow>
  <mo>=</mo>
  <mfrac>
    <mrow>
      <munderover>
        <mo>∑</mo>
        <mrow>
          <mi>i</mi>
          <mo>=</mo>
          <mn>1</mn>
        </mrow>
        <mi>n</mi>
      </munderover>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>⁢</mo>
      <mrow>
        <mi>min</mi>
        <mo>⁡</mo>
        <mrow>
          <mo>(</mo>
          <mrow>
            <msub>
              <mi>R</mi>
              <mi>i</mi>
            </msub>
            <mo>,</mo>
            <msub>
              <mi>C</mi>
              <mi>i</mi>
            </msub>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mrow>
    </mrow>
    <mrow>
      <munderover>
        <mo>∑</mo>
        <mrow>
          <mi>i</mi>
          <mo>=</mo>
          <mn>1</mn>
        </mrow>
        <mi>n</mi>
      </munderover>
      <mo>⁢</mo>
      <mstyle>
        <mspace width="0.3em" height="0.3ex"/>
      </mstyle>
      <mo>⁢</mo>
      <msub>
        <mi>R</mi>
        <mi>i</mi>
      </msub>
    </mrow>
  </mfrac>
</mrow>
</math>
</maths>
<br/>
where R is the histogram of the reference image, C is the histogram of the candidate image, and n is the number of bins in the histogram. If the intersection is under a threshold S<b>65</b>, preferably 0.34, although other thresholds may be used, the images are different. If the threshold is met or exceeded S<b>65</b>, then a block-based histogram correlation will be performed S<b>70</b>. In this regard, each image will be divided into blocks of a given size, preferably 32×32 pixels in the present embodiment. It is instructive to note that those skilled in the art may vary the block size depending on the resolution of the image. For each block, a color histogram is computed. Referring to <figref idref="DRAWINGS">FIG. 10</figref>, if one image is considered a reference image and one image a candidate image, the images are compared in the following way. Each block <b>20</b> of the reference image is compared to the corresponding block <b>30</b> of the candidate image and to the adjacent blocks <b>40</b>, e.g., 8 blocks in the present embodiment.
</p>
<p id="p-0044" num="0043">Referring to <figref idref="DRAWINGS">FIG. 9A</figref>, the block histograms between the reference image and the candidate image are compared using the histogram intersection equation defined above S<b>80</b>. The average intersection value is derived by computing the average of the best intersection values from each of the block comparisons S<b>90</b>. This average intersection value will be compared to a low threshold (preferably 0.355), and a high threshold (preferably 0.557). If the average intersection value is below the low threshold S<b>95</b>, the two images are considered different. If the average intersection value is above the high threshold S<b>96</b>, then the two images are considered similar. If the average intersection value is between these two thresholds, further analysis will be performed as described below (3-segment average intersection map S<b>100</b>).</p>
<p id="p-0045" num="0044">Referring to both <figref idref="DRAWINGS">FIGS. 9B and 11</figref>, a 3-segment analysis will be performed to determine if the two images may contain a similar subject. This is performed by first forming a map <b>60</b> which contains the average of the two highest intersection values of each of the block comparisons; for example, 9 comparisons were performed in the illustration of <figref idref="DRAWINGS">FIG. 10</figref>, the average of the highest two will be used for map <b>60</b>. <figref idref="DRAWINGS">FIG. 11</figref> illustrates, for example, a 9×6 block although it should be understood that the map size depends on the size of the image. This map is divided into three parts: the left portion <b>70</b><i>a</i>, the center portion <b>70</b><i>b</i>, and the right portion <b>70</b><i>c</i>. If the average intersection value of the center portion <b>70</b><i>b </i>is higher than a threshold (preferably 0.38) S<b>105</b>, the two images may contain a very similar subject in the center portion <b>70</b><i>b </i>of the image, and the two images may be considered to be similar by subject. In addition, the comparisons of the histogram will be performed with the reference and candidate images reversed. If the two images are similar both methods should give substantially similar correlation; obviously if they are different, the results will not be similar. The images are then checked S<b>110</b> to determine if there is a high intersection value in one of the directions, right, left, up, and down.</p>
<p id="p-0046" num="0045">Referring to <figref idref="DRAWINGS">FIGS. 9B and 12</figref>, shift detection is used to determine the case when the two images <b>90</b> and <b>100</b> (of two different sizes in the drawing) have very similar subject that appears in different locations of the image. For example, the main subject may be situated in the center of one image and to the left-hand side of the other image. Such a shift can be determined by recording both the best intersection values of the reference blocks, as well as the coordinates of the corresponding candidate blocks. This is achieved by comparing the intersection values of the blocks in four directions (right, left, up, and down). The entire image will be shifted by one block (as illustrated by the arrows) in one of the directions (right in the drawing) where the best intersection value is the highest. The above analysis and the shift can be repeated S<b>120</b> to check for similarity.</p>
<p id="p-0047" num="0046">Turning now to <figref idref="DRAWINGS">FIG. 13</figref>, an alternative method is shown for automatically classifying images into events according to the present invention. The event clustering algorithm used by this alternative method is partly based on the event-clustering algorithm shown in <figref idref="DRAWINGS">FIG. 1</figref>, which uses date and time information. Nevertheless, the two algorithms differ in a number of ways:
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0000">
    <ul id="ul0002" list-style="none">
        <li id="ul0002-0001" num="0047">No date or time information is utilized in the algorithm shown in <figref idref="DRAWINGS">FIG. 13</figref>; thus, the output of the event-clustering algorithm without date and time will be close to a “subject grouping” kind of classification. Typically, when date/time information is present, a classification in two levels is possible, i.e., classification into event and sub-event levels. Without date or time information, only one level of classification is feasible; thus, there will be no distinction between events and sub-events.</li>
        <li id="ul0002-0002" num="0048">Image correlation based on the block-based color histogram technique described in commonly-assigned U.S. Pat. No. 6,351,556 will be used. This is the same image similarity technique as used for the algorithm with date and time shown in <figref idref="DRAWINGS">FIG. 1</figref>.</li>
        <li id="ul0002-0003" num="0049">The overall method of the algorithm shown in <figref idref="DRAWINGS">FIG. 13</figref> retains the same architecture as the method shown in FIG. <b>1</b>—but is simpler. The output of the event-clustering algorithm without date and time will effectively contain one event divided into a number of sub-events, i.e., effectively one level. The date/time clustering and boundary checking functions performed in connection with step S<b>20</b> of <figref idref="DRAWINGS">FIG. 1</figref> have been removed because these functions were using date and time information. The group merging step is merged with the subject grouping step. The refinement step S<b>40</b> has been removed because it is useful only when there is a classification in two levels (events plus sub-events). Finally the subject grouping function is completely changed (the previous function was using date and time information).</li>
    </ul>
    </li>
</ul>
</p>
<p id="p-0048" num="0050"><figref idref="DRAWINGS">FIG. 13</figref> shows an overview of a method employing an event-clustering algorithm for images without date and time information. The images may be input from a variety of digital sources, including such digital sources as a digital camera, a film scanner for scanning a photographic film, a CD ROM (such as Kodak Picture CD), image files in a user hard disk, and the like. A group of images are input S<b>200</b> in chronological order to a groups creation step S<b>210</b>, where the images are divided into smaller groups based on image similarity. Classification of the smaller groups is then carried out in a subject grouping step S<b>220</b>. The groups creation step S<b>210</b> in <figref idref="DRAWINGS">FIG. 13</figref> is similar to the step S<b>30</b> used in <figref idref="DRAWINGS">FIG. 1</figref> for the event-clustering algorithm with date and time information. Chronological comparisons are performed using a block-based histogram algorithm to divide the set of images into smaller groups based on image similarity. (Note that “chronological” as here used merely refers to a consecutive capture sequence, i.e., the “next” image is always later in time than the “previous” image, and not to date and time information.) Consequently, the set will be chronologically segmented into similar image groups. This step could be merged with the next step S<b>220</b> as will be seen later on, but keeping this step separate allows both algorithms (with and without date and time) to be used in the same system.</p>
<p id="p-0049" num="0051"><figref idref="DRAWINGS">FIG. 14</figref> illustrates a group of images divided into smaller groups according to the group creation step S<b>210</b> shown in the method of <figref idref="DRAWINGS">FIG. 13</figref>, based on block-based image histograms obtained from the set of images. There are two main image similarity thresholds used in this step, a low threshold and a high threshold. A comparison of the block-based histogram data is performed by calculating a histogram intersection value, as described hereinbefore in connection with <figref idref="DRAWINGS">FIGS. 9A and 9B</figref>. When the histogram intersection value is less than the low threshold (0.34), the pictures are considered to be different and a group separation will occur. When the histogram intersection value is more than the low threshold, the pictures are considered to be similar enough to be in the same group. The high threshold (0.64) is used within the block-based histogram technique at different stages.</p>
<p id="p-0050" num="0052">The subject grouping step S<b>220</b> forms the core of the algorithm, as this is where the classification is actually carried out. The subject grouping step S<b>220</b> is divided into three parts, as shown in the overall workflow diagram of <figref idref="DRAWINGS">FIG. 15</figref>, namely, a simple direct chronological step S<b>230</b>, a memory of 1 chronological comparison step S<b>240</b>, and a memory of 2 chronological comparison step S<b>250</b>. This workflow diagram shows that at the end of each step S<b>220</b>, S<b>230</b> and S<b>240</b> the current classification will be checked against specific final conditions in order to decide if an acceptable clustering has been reached. Two main final conditions have to be satisfied: the classification cannot have a number of groups above a predetermined group maximum, and the maximum number of isolated pictures allowed, i.e., pictures that do not fall within a group (or are in a “group of 1”) is fixed at a predetermined isolated picture maximum. In the preferred embodiment, the classification cannot have a number of groups above the group maximum ((number of pictures)/3), and the maximum number of isolated pictures allowed is (number of pictures)/8.</p>
<p id="p-0051" num="0053">The simple direct chronological comparisons step S<b>230</b> corresponds exactly to the group creation step S<b>210</b> shown in <figref idref="DRAWINGS">FIG. 13</figref>. This step is nonetheless present in the subject grouping step S<b>220</b> to accommodate the case where the group creation step S<b>210</b> has not been performed previously. If the group creation step S<b>210</b> did not give an acceptable solution, i.e., there were too many of the smaller groups, there are at least two alternatives for improving the classification results. One alternative is to decrease the image similarity threshold values which will result in more similar pictures, i.e., fewer of the smaller groups, but at the cost of the quality of the grouping. A better alternative is to make more comparisons, i.e., not constraining the comparisons to adjacent pictures but including the neighboring pictures as well, since the goal is generally to keep the image similarity thresholds as high as possible.</p>
<p id="p-0052" num="0054">The latter alternative has been adopted in the memory of 1 chronological comparisons step S<b>240</b>, which is shown in the workflow diagram of <figref idref="DRAWINGS">FIG. 15</figref> and graphically illustrated in <figref idref="DRAWINGS">FIG. 16</figref>. In this step S<b>240</b>, each picture is compared to its direct neighbor pictures (right and left) with a low threshold of 0.34 and to its second neighbor pictures, if necessary, with a low threshold of 0.46. The image similarity thresholds are higher when the pictures are not adjacent because there is greater need for extra security since the probabilty of the pictures being in the same group is less than when the pictures are adjacent. When two images are found to be similar they will be grouped together as well as every picture that is between them (i.e., 0 or 1 pictures in this case).</p>
<p id="p-0053" num="0055">The memory of 2 chronological comparisons step S<b>250</b> is similar to the memory of 1 chronological comparisons step S<b>240</b> except that a jump of two images is now allowed when doing the comparisons instead of a jump of one image only. Each picture will be compared, if necessary, to its two direct adjacent neighbors with a low threshold of 0.34, its second neighbors with a low threshold of 0.46 and its third neighbors (three pictures away) with a low threshold of 0.48. A graphical illustration of the approach of the memory of 2 chronological comparisons step S<b>250</b> is illustrated in <figref idref="DRAWINGS">FIG. 17</figref>.</p>
<p id="p-0054" num="0056">If at the end of the first iteration through the memory of 2 chronological comparisons step S<b>250</b> in <figref idref="DRAWINGS">FIG. 15</figref>, the classification does not satisfy the final conditions, we are faced with the same problem that we faced previously, i.e., should there be more comparisons between pictures or is it better to decrease the threshold values? Since the probability of finding two similar pictures that are separated by more than two images is very small, it was determined to decrease the image similarity thresholds. More specifically, once it is determined that the memory of 2 chronological comparisons step S<b>250</b> cannot meet the final conditions, the method loops in a further iteration step S<b>260</b> until convergence is reached by lowering the thresholds. At each iteration of the memory of 2 chronological comparisons step S<b>250</b> the thresholds will be changed according to the following equation, where the current threshold value Ti(N) is computed as:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Ti</i>(<i>N</i>)=<i>Ti</i>−((<i>N*</i>0.015)/(<i>i+</i>1))<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and Ti is the initial threshold with i the number of pictures between the two images, and N is the Nth iteration of the memory of 2 chronological comparisons step S<b>250</b>. Thus, T<sub>0</sub>=0.34, T<sub>1</sub>=0.46 and T<sub>2</sub>=0.48.
</p>
<p id="p-0055" num="0057">The value 0.015 is a decrement factor, and it is chosen in a way that it is not too “small”, which would have increased the number of iterations needed to achieve the desire classification, but not too “large” so as to miss the ideal classification. Our experience during the testing of the algorithm led us to this value for the decrement factor; it should be clearly understood that other values may prove workable. The factor (i+1) represents the fact that different rates for decrements are used depending on “how far” the two pictures are from each other. It is more likely that the closer the pictures are the better chance they will be similar. Thus, the thresholds will decrease faster for the comparisons with adjacent pictures than for pictures separated by one or two images. In the preferred embodiment, the number of iterations is limited to N=9, which gives T<sub>0</sub>(9)=0.205. Usually when the thresholds have to go so low it indicates a problem with the number of isolated pictures. The ideal would be to keep the thresholds as high as possible −0.30 and above, so the classification remains on “good” decisions.</p>
<p id="p-0056" num="0058">The invention has been described with reference to a preferred embodiment. However, it will be appreciated that variations and modifications can be effected by a person of ordinary skill in the art without departing from the scope of the invention.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298895-20071120-M00001.NB">
<img id="EMI-M00001" he="14.82mm" wi="76.20mm" file="US07298895-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. A computer-mediated method for obtaining and automatically classifying images into events, the method comprising the steps of:
<claim-text>(a) providing a group of images from a digital source, wherein said images are in chronological order and lack other date and time information;</claim-text>
<claim-text>(b) clustering the images into smaller groups based on chronological image similarity of nearby images by computing histograms of the images and comparing histogram intersection values obtained therefrom with one or more thresholds, whereby the clustering based on chronological image similarity is done in at least one stage by comparing each image with its direct neighboring images in said chronological order; and</claim-text>
<claim-text>(c) evaluating the clustered images against a final condition related to at least one of a predetermined group maximum for the number of smaller groups and a predetermined maximum number of isolated pictures, whereby the smaller groups are classified as events if the final condition is met.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the clustering based on chronological image similarity in step (b) is done in at least two stages by comparing each image with its direct neighboring images and secondly with its second neighboring images.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein step (b) includes clustering the images into smaller groups based on chronological image similarity of nearby images by using a block-based histogram technique.</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The method as in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein the block-based histogram technique comprises analyzing the events for content by dividing the images into a plurality of blocks and grouping the images into subject grouping based on block-based histogram correlation which includes computing a color histogram of each block and computing a histogram intersection value which determines the similarity between blocks, thereby refining and improving the overall classification and subject grouping of the events.</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, whereby if the final conditions are not initially met, further comprising the step of decrementing one or more of the thresholds and iterating through steps (b) and (c) until the final conditions are met.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The method as in <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein the number of iterations is limited.</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the digital source is a digital camera.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the digital source is a film scanner for scanning a photographic film.</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the digital source is a CD ROM.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. The method as in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein the digital source is one or more image files from a user hard disk.</claim-text>
</claim>
</claims>
</us-patent-grant>
