<us-patent-grant lang="EN" dtd-version="v4.2 2006-08-23" file="US07298893-20071120.XML" status="PRODUCTION" id="us-patent-grant" country="US" date-produced="20071106" date-publ="20071120">
<us-bibliographic-data-grant>
<publication-reference>
<document-id>
<country>US</country>
<doc-number>07298893</doc-number>
<kind>B2</kind>
<date>20071120</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>10437986</doc-number>
<date>20030515</date>
</document-id>
</application-reference>
<us-application-series-code>10</us-application-series-code>
<priority-claims>
<priority-claim sequence="01" kind="national">
<country>JP</country>
<doc-number>2002-162448</doc-number>
<date>20020604</date>
</priority-claim>
</priority-claims>
<us-term-of-grant>
<us-term-extension>994</us-term-extension>
</us-term-of-grant>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>G</section>
<class>06</class>
<subclass>K</subclass>
<main-group>9</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20071120</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>382167</main-classification>
<further-classification>358  313</further-classification>
</classification-national>
<invention-title id="d0e71">Image processing device and image processing method</invention-title>
<references-cited>
<citation>
<patcit num="00001">
<document-id>
<country>US</country>
<doc-number>4631578</doc-number>
<kind>A</kind>
<name>Sasaki et al.</name>
<date>19861200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00002">
<document-id>
<country>US</country>
<doc-number>5473446</doc-number>
<kind>A</kind>
<name>Perumal et al.</name>
<date>19951200</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358523</main-classification></classification-national>
</citation>
<citation>
<patcit num="00003">
<document-id>
<country>US</country>
<doc-number>5552905</doc-number>
<kind>A</kind>
<name>Tanaka</name>
<date>19960900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00004">
<document-id>
<country>US</country>
<doc-number>5588050</doc-number>
<kind>A</kind>
<name>Kagawa et al.</name>
<date>19961200</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00005">
<document-id>
<country>US</country>
<doc-number>5764862</doc-number>
<kind>A</kind>
<name>Metcalfe et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  12</main-classification></classification-national>
</citation>
<citation>
<patcit num="00006">
<document-id>
<country>US</country>
<doc-number>5774577</doc-number>
<kind>A</kind>
<name>Ueda et al.</name>
<date>19980600</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00007">
<document-id>
<country>US</country>
<doc-number>5809366</doc-number>
<kind>A</kind>
<name>Yamakawa et al.</name>
<date>19980900</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>399 39</main-classification></classification-national>
</citation>
<citation>
<patcit num="00008">
<document-id>
<country>US</country>
<doc-number>6125202</doc-number>
<kind>A</kind>
<name>Kagawa et al.</name>
<date>20000900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00009">
<document-id>
<country>US</country>
<doc-number>6434268</doc-number>
<kind>B1</kind>
<name>Asamura et al.</name>
<date>20020800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00010">
<document-id>
<country>US</country>
<doc-number>6633412</doc-number>
<kind>B1</kind>
<name>Lin et al.</name>
<date>20031000</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  313</main-classification></classification-national>
</citation>
<citation>
<patcit num="00011">
<document-id>
<country>US</country>
<doc-number>6714320</doc-number>
<kind>B1</kind>
<name>Nakahara et al.</name>
<date>20040300</date>
</document-id>
</patcit>
<category>cited by examiner</category>
<classification-national><country>US</country><main-classification>358  313</main-classification></classification-national>
</citation>
<citation>
<patcit num="00012">
<document-id>
<country>EP</country>
<doc-number>0 543 511</doc-number>
<kind>A1</kind>
<date>19930500</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00013">
<document-id>
<country>EP</country>
<doc-number>0 994 457</doc-number>
<kind>A2</kind>
<date>20000400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00014">
<document-id>
<country>EP</country>
<doc-number>1 136 974</doc-number>
<kind>A1</kind>
<date>20010900</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00015">
<document-id>
<country>JP</country>
<doc-number>63-013472</doc-number>
<kind>A</kind>
<date>19880100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00016">
<document-id>
<country>JP</country>
<doc-number>63-39188</doc-number>
<kind>B2</kind>
<date>19880800</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00017">
<document-id>
<country>JP</country>
<doc-number>07-093536</doc-number>
<kind>A</kind>
<date>19950400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00018">
<document-id>
<country>JP</country>
<doc-number>2001-111857</doc-number>
<kind>A</kind>
<date>20010400</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
<citation>
<patcit num="00019">
<document-id>
<country>JP</country>
<doc-number>2001-331144</doc-number>
<kind>A</kind>
<date>20011100</date>
</document-id>
</patcit>
<category>cited by other</category>
</citation>
</references-cited>
<number-of-claims>18</number-of-claims>
<us-exemplary-claim>1</us-exemplary-claim>
<us-field-of-classification-search>
<classification-national>
<country>US</country>
<main-classification>382162</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>382167</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358  313</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358518</main-classification>
</classification-national>
<classification-national>
<country>US</country>
<main-classification>358519</main-classification>
</classification-national>
</us-field-of-classification-search>
<figures>
<number-of-drawing-sheets>18</number-of-drawing-sheets>
<number-of-figures>57</number-of-figures>
</figures>
<us-related-documents>
<related-publication>
<document-id>
<country>US</country>
<doc-number>20030223636</doc-number>
<kind>A1</kind>
<date>20031204</date>
</document-id>
</related-publication>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="001" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Kagawa</last-name>
<first-name>Shuichi</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
<applicant sequence="002" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>Sugiura</last-name>
<first-name>Hiroaki</first-name>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
<nationality>
<country>JP</country>
</nationality>
<residence>
<country>JP</country>
</residence>
</applicant>
</applicants>
<agents>
<agent sequence="01" rep-type="attorney">
<addressbook>
<orgname>Birch, Stewart, Kolasch &amp; Birch, LLP</orgname>
<address>
<country>unknown</country>
</address>
</addressbook>
</agent>
</agents>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>Mitsubishi Denki Kabushiki Kaisha</orgname>
<role>03</role>
<address>
<city>Tokyo</city>
<country>JP</country>
</address>
</addressbook>
</assignee>
</assignees>
<examiners>
<primary-examiner>
<last-name>Tran</last-name>
<first-name>Phuoc</first-name>
<department>2624</department>
</primary-examiner>
</examiners>
</us-bibliographic-data-grant>
<abstract id="abstract">
<p id="p-0001" num="0000">In an image processing device and image processing method in which first image data consisting of a plurality of color data and constituting image information for each pixel are input, and second image data consisting of a plurality of color data are calculated and output, after color conversion of the first image data, dither processing is applied to produce the second image data. As a result, information of the fractional part generated as a result of the color conversion is not omitted but preserved. Tone conversion may be performed after the color conversion, and before the dither processing. The image processing device or image processing method can restrain reduction in the number of colors that can be expressed, and restrain the generation of discontinuities (irregularities) in the change of data, while realizing an “exact color reproduction” or “preferred color reproduction.”</p>
</abstract>
<drawings id="DRAWINGS">
<figure id="Fig-EMI-D00000" num="00000">
<img id="EMI-D00000" he="100.33mm" wi="142.32mm" file="US07298893-20071120-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00001" num="00001">
<img id="EMI-D00001" he="231.90mm" wi="147.83mm" file="US07298893-20071120-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00002" num="00002">
<img id="EMI-D00002" he="168.91mm" wi="118.19mm" file="US07298893-20071120-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00003" num="00003">
<img id="EMI-D00003" he="193.21mm" wi="125.56mm" file="US07298893-20071120-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00004" num="00004">
<img id="EMI-D00004" he="204.89mm" wi="169.84mm" file="US07298893-20071120-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00005" num="00005">
<img id="EMI-D00005" he="229.11mm" wi="148.34mm" file="US07298893-20071120-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00006" num="00006">
<img id="EMI-D00006" he="229.95mm" wi="90.00mm" file="US07298893-20071120-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00007" num="00007">
<img id="EMI-D00007" he="244.86mm" wi="141.65mm" file="US07298893-20071120-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00008" num="00008">
<img id="EMI-D00008" he="231.56mm" wi="125.90mm" file="US07298893-20071120-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00009" num="00009">
<img id="EMI-D00009" he="229.87mm" wi="118.11mm" file="US07298893-20071120-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00010" num="00010">
<img id="EMI-D00010" he="245.19mm" wi="158.83mm" file="US07298893-20071120-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00011" num="00011">
<img id="EMI-D00011" he="172.21mm" wi="135.13mm" file="US07298893-20071120-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00012" num="00012">
<img id="EMI-D00012" he="129.12mm" wi="165.69mm" file="US07298893-20071120-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00013" num="00013">
<img id="EMI-D00013" he="186.86mm" wi="143.43mm" file="US07298893-20071120-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00014" num="00014">
<img id="EMI-D00014" he="186.52mm" wi="147.24mm" file="US07298893-20071120-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00015" num="00015">
<img id="EMI-D00015" he="181.95mm" wi="163.91mm" file="US07298893-20071120-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00016" num="00016">
<img id="EMI-D00016" he="181.36mm" wi="163.83mm" file="US07298893-20071120-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00017" num="00017">
<img id="EMI-D00017" he="240.54mm" wi="127.42mm" file="US07298893-20071120-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="Fig-EMI-D00018" num="00018">
<img id="EMI-D00018" he="207.77mm" wi="162.22mm" file="US07298893-20071120-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?BRFSUM description="Brief Summary" end="lead"?>
<p id="p-0002" num="0001">This nonprovisional application claims priority under 35 U.S.C. §119(<i>a</i>) on Patent Application No(s). 2002-162448 filed in JAPAN on Jun. 4, 2002, which is (are) herein incorporated by reference.</p>
<heading id="h-0001" level="1">BACKGROUND OF THE INVENTION</heading>
<p id="p-0003" num="0002">1. Field of Invention</p>
<p id="p-0004" num="0003">The present invention relates to data processing used for example in full-color printing related equipment, such as printers, video printers, scanners, or the like, and image processing equipment such as those for generating computer-graphics images, or display devices such as monitors, and in particular to an image processing device and method for image-processing the image data represented by three colors of red, green and blue, or yellow, cyan and magenta, to be suitable for the equipment used.</p>
<p id="p-0005" num="0004">2. Description of Related Art</p>
<p id="p-0006" num="0005">In the field of printing, color conversion is an essential image technology for compensating for deterioration of printed images, due to color-mixing property caused by the fact that inks are not of pure colors, and due to non-linearity of the image printing, and to output printed images with a good color reproducibility. In display devices such as monitors, color conversion is effected as image processing for outputting (displaying) an image with a desired color reproduction characteristics to be suitable for the conditions in which the device is used, in displaying the input color data. The color conversion can be realized by a table conversion method or a matrix calculation method.</p>
<p id="p-0007" num="0006">A representative example of table conversion method is a three-dimensional look-up table method, in which image data represented by red, green and blue (hereinafter referred to as “R, G, B”) are input, and image data of R, G, B, or complementary color data of yellow, magenta and cyan (hereinafter referred to as “Y, M and C” stored in advance in a memory, such as a ROM are output. This method permits use of any desired conversion characteristics so that color conversion with a good color reproducibility can be achieved.</p>
<p id="p-0008" num="0007">A problem associated with the table conversion method is the size of the memory required. In a simple configuration in which, data to be output is stored for each combination of the input image data, a memory with a capacity of about 400 Mbits is needed. For instance, Japanese Patent Kokai Publication No. S63-227181 discloses a method of compressing the memory capacity, but the required capacity is still about 5 Mbits. Thus, this method requires a memory of a large capacity for each conversion characteristics, and it is difficult to implement the method by means of LSIs. Another problem is that the method cannot be flexibly adopted to changes in the use conditions or the like.</p>
<p id="p-0009" num="0008">In the matrix calculation method, the following equation (1) is a basic calculation equation used for converting certain image data Ri, Gi, Bi to another image data Ro, Go, Bo.</p>
<p id="p-0010" num="0009">
<maths id="MATH-US-00001" num="00001">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mi>Ro</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>Go</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>Bo</mi>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>(</mo>
            <mi>Aij</mi>
            <mo>)</mo>
          </mrow>
          <mo>⁡</mo>
          <mrow>
            <mo>[</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mi>Ri</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>Gi</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>Bi</mi>
                </mtd>
              </mtr>
            </mtable>
            <mo>]</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>1</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0011" num="0010">In the equation (1), i=1 to 3, j=1 to 3.</p>
<p id="p-0012" num="0011">When color conversion is performed by the matrix calculation according to the equation (1), no large memory is required, so that the method can be implemented easily by means of LSIs, and the method can be adopted flexibly to the changes in the use conditions. On the other hand, the conversion characteristics which can be realized are limited by the matrix calculation equation, and the flexibility in the conversion characteristics is inferior to the three-dimensional look-up table method.</p>
<p id="p-0013" num="0012">It will thus be understood that the table conversion method and the matrix calculation method used for color conversion have respective advantages and disadvantages. A problem common to both methods is that the number of expressed colors is reduced by the color conversion, and the discontinuities (irregularities) in the change in the data occur.</p>
<p id="p-0014" num="0013"><figref idref="DRAWINGS">FIG. 27</figref> is a block diagram showing an example of configuration of a conventional image processing device. In <figref idref="DRAWINGS">FIG. 27</figref>, reference numeral <b>1</b> denotes a color converter. The color converter <b>1</b> performs color conversion on input color data R<b>1</b>, G<b>1</b>, B<b>1</b> constituting input image data, to calculate and produce output color data R<b>3</b>, G<b>3</b>, B<b>3</b> constituting output image data. The color data R<b>1</b>, G<b>1</b>, B<b>1</b> represent red, green and blue, respectively. The color data R<b>3</b>, G<b>3</b>, B<b>3</b> also represent red, green and blue, respectively. The color conversion that is performed at the color converter <b>1</b> may be that of the table conversion method, or of the matrix calculation method, as described above. In the following description, it is assumed that in the image processing device shown in <figref idref="DRAWINGS">FIG. 27</figref>, the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> are calculated by a matrix calculation according to the following equation (2).</p>
<p id="p-0015" num="0014">
<maths id="MATH-US-00002" num="00002">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mi>R3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>G3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>B3</mi>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>(</mo>
            <mi>Aij</mi>
            <mo>)</mo>
          </mrow>
          <mo>⁡</mo>
          <mrow>
            <mo>[</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mi>R1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>G1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>B1</mi>
                </mtd>
              </mtr>
            </mtable>
            <mo>]</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0016" num="0015">Here, it is assumed that each of the input color data R<b>1</b>, G<b>1</b>, B<b>1</b>, and the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> is six-bit data, and can express any value of 0 to 63. It is also assumed that each of the input color data R<b>1</b>, G<b>1</b>, B<b>1</b> assumes all the values of 0 to 63, and the combination of the input color data R<b>1</b>, G<b>1</b>, B<b>1</b> have 64*64*64=262,144 values. In other words, the input color data R<b>1</b>, G<b>1</b>, B<b>1</b> can express 262,144 colors.</p>
<p id="p-0017" num="0016">Let us assume that the matrix coefficients Aij used in the matrix calculation according to the equation (2) have values represented by the following equation (3).</p>
<p id="p-0018" num="0017">
<maths id="MATH-US-00003" num="00003">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mi>Aij</mi>
          <mo>)</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mn>1.0</mn>
              </mtd>
              <mtd>
                <mn>0.0</mn>
              </mtd>
              <mtd>
                <mn>0.0</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0.0</mn>
              </mtd>
              <mtd>
                <mn>1.0</mn>
              </mtd>
              <mtd>
                <mn>0.0</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0.2</mn>
              </mtd>
              <mtd>
                <mrow>
                  <mo>-</mo>
                  <mn>0.2</mn>
                </mrow>
              </mtd>
              <mtd>
                <mn>0.8</mn>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0019" num="0018"><figref idref="DRAWINGS">FIG. 28</figref> shows the relationship between the input color data R<b>1</b>, G<b>1</b>, B<b>1</b> input to the color converter <b>1</b>, and the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> calculated by the color converter <b>1</b>, for each of the nine values of the input color data (data No. 1 to No. 9), where-the matrix coefficients of the equation (3) are used. The nine values of input color data are such that the value of R<b>1</b> is fixed at “40,” the value of G<b>1</b>is fixed at “32,” while the value of B<b>1</b> is reduced from 40 to 32, one by one. In <figref idref="DRAWINGS">FIG. 28</figref>, Ra, Ga, Ba denote values of ideal output color data which would result if the output color data are not limited to six bits. Because the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> are in fact limited to six bits, the actual output color data R<b>3</b>, G<b>3</b>, B<b>3</b> are those obtained by rounding Ra, Ga, Ba into six bit data. It is seen from <figref idref="DRAWINGS">FIG. 28</figref> that the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> for the input color data R<b>1</b>=40, G<b>1</b>=32, B<b>1</b>=39, and the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> for the input color data R<b>1</b>=40, G<b>1</b>=32, B<b>1</b>=38 are both R<b>3</b>=40, G<b>3</b>=32, B<b>3</b>=32, i.e., of the same values. Also, the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> for the input color data R<b>1</b>=40, G<b>1</b>=32, B<b>1</b>=34, and the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> for the input color data R<b>1</b>=40, G<b>1</b>=32, B<b>1</b>=33 are both R<b>3</b>=40, G<b>3</b>=32, B<b>3</b>=28, i.e., of the same values.</p>
<p id="p-0020" num="0019">As has been exemplified, a plurality of sets of input color data are converted to the same output color data, while the same input color data will not be converted to different sets of output color data, so that the number of colors that are expressed is reduced. That is, the number of colors expressed by the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> is smaller than 262,144.</p>
<p id="p-0021" num="0020"><figref idref="DRAWINGS">FIG. 29</figref> is a graph showing the relationship between the data numbers shown in <figref idref="DRAWINGS">FIG. 28</figref>, and the blue component B<b>1</b> of the input color data, the value Ba of the blue component of the ideal output color data, and the blue component B<b>3</b> of the output color data. It is seen from <figref idref="DRAWINGS">FIG. 29</figref>, that the blue component B<b>1</b> of the input color data and the value Ba of the blue component of the ideal output color data vary smoothly, while the blue component B<b>3</b> of the color data includes discontinuous (irregular) data change.</p>
<p id="p-0022" num="0021">As has been described, the conventional image processing device and image processing method are associated with the problem that the number of colors that can be expressed is reduced by the color conversion. Moreover, the discontinuous (irregular) data change is generated by the color conversion. The color data output from the image processing device is supplied to an image display unit such as liquid crystal panel, and is displayed as an image. Thus, while the image display unit can express 262,144 colors, for instance, the number of colors expressed by the output color data R<b>3</b>, G<b>3</b>, B<b>3</b> output from the image processing device is smaller than 262,144. This means that the capacity of the image display unit in terms of the number of colors which it can display cannot be fully utilized. Moreover, because of the discontinuity (irregularities) in the change of the data, the image will have parts where there is a larger or more sudden tone change and parts where there is a smaller or more gradual tone change, with the result that the reproduced image on the image display unit is not natural. In particular, if the an irregularity of the tone change occurs in the parts where the data varies gradually, a phenomenon called false edge by which an edge is seen as if it existed at a part where there is actually no edge.</p>
<p id="p-0023" num="0022">The above described problems are more serious when the color data is changed to a larger extent by the color conversion at the color converter. There are different types of color reproduction, i.e., an “exact color reproduction” and a “preferred color reproduction.” The “exact color reproduction” is an exact or faithful color reproduction that is as close as possible to the original image. To realize the exact color reproduction, it is necessary to perform color reproduction which matches with the method of generation of the input image data. Specifically, it can be conceived to perform color reproduction using a standard color space such as those of NTSC or sRGB. On the other hand, a “preferred color reproduction” is a color reproduction that is preferred by a human being, taking account of the characteristics of the human visual perception, and memory colors, and is not necessary identical with the “exact color reproduction.”</p>
<p id="p-0024" num="0023">In a color reproduction used for display of moving pictures, such as those of television pictures, a “preferred color reproduction” is often aimed at. In the memory colors of human beings, there is a tendency that the color of the sky, and the green color of the grass are memorized as colors which are brighter, or of a higher saturation. Accordingly, for realizing a “preferred color reproduction,” color conversion to increase the chroma and lightness of the colors is often applied to the input color data, so that the colors are changed to a greater extent. Moreover, even in the “exact color reproduction,” it is not rare that the colors are changed to a substantial extent. This is because the color gamut of the image display device is narrower than the color gamut of the color space used in the generation of the image data, or the standard color space.</p>
<p id="p-0025" num="0024">The conventional image processing device or image processing method is thus associated with a problem that the number of colors expressed is reduced by the color conversion, and that discontinuities (irregularities) in the change of data are created by the color conversion. Since the color data output from the image processing device are input to an image display unit such as a liquid crystal panel, and an image corresponding to the color data is displayed, the reduction in the number of the colors expressed means that the capacity of the image display unit in terms of the number of colors which it can display is not fully utilized. Moreover, because of the discontinuities (irregularities) in the change of the data, there will be parts where the change in the tone is large or sudden, and the parts where the change in the tone is small or gradual, with the result that the reproduced image displayed on the image display unit may be unnatural.</p>
<heading id="h-0002" level="1">SUMMARY OF THE INVENTION</heading>
<p id="p-0026" num="0025">The invention has been made to solve the problems described above, and its object is to provide an image processing device and image processing method which can realize an “exact color reproduction” or “preferred color reproduction,” and at the same time restrain the reduction in the number of colors that can be expressed, and restrain the generation of the discontinuities (irregularities) in the change of data.</p>
<p id="p-0027" num="0026">According to one aspect of the invention, there is provided image processing device receiving first image data consisting of a plurality of color data and constituting image information for each pixel, and calculating and outputting second image data comprising a plurality of color data, comprising:</p>
<p id="p-0028" num="0027">a color converter for performing color conversion on the first image data; and</p>
<p id="p-0029" num="0028">a dither processor for applying dither processing to the image data obtained by the color conversion at the color converter, to obtain the second image data.</p>
<p id="p-0030" num="0029">Accordingly, by performing dither processing on the image data obtained by performing color conversion at the color converter, it is possible to simulate data representing the fractional part (fraction of a unity, i.e., digits to the right of the decimal point) of the data generated by the color conversion, without increasing the number of bits of the second image data. Accordingly, it is possible to restrain the reduction in the number of colors that are expressed by the second image data, and to restrain the occurrence in the discontinuities (irregularities) of change in the second image data, while realizing an “exact color reproduction” or “preferred color reproduction” by the color conversion at the color converter.</p>
<p id="p-0031" num="0030">If the number of colors is reduced through the image processing, the capacity of the image display unit, such as an LCD, performing image display, in terms of the number of colors that it can express cannot be fully utilized. According to the image processing device of the invention, it is possible to fully utilize the capacity of the image display unit in terms of the number of colors that can be expressed, and it is possible to obtain the desired color reproduction characteristics. Furthermore, the change in the data is more regular, and more natural images can be displayed by the image display unit, and it is possible to avoid occurrence of a phenomenon (false edges) in which edges are seen at places where they actually do not exist. These effects are obtained by performing the dither processing on the data obtained by the color converter and thereby preserving the information of the fractional part generated by the color conversion.</p>
<?BRFSUM description="Brief Summary" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<description-of-drawings>
<heading id="h-0003" level="1">BRIEF DESCRIPTION OF THE DRAWINGS</heading>
<p id="p-0032" num="0031">In the accompanying drawings:</p>
<p id="p-0033" num="0032"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing an example of configuration of the image processing device according to Embodiment 1 of the present invention;</p>
<p id="p-0034" num="0033"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram showing an example of configuration of the dither processor <b>2</b> in the image processing device according to Embodiment 1 of the present invention;</p>
<p id="p-0035" num="0034"><figref idref="DRAWINGS">FIG. 3</figref> shows an example of the dither coefficients used in the image processing device according to Embodiment 1 of the present invention;</p>
<p id="p-0036" num="0035"><figref idref="DRAWINGS">FIG. 4A</figref> and <figref idref="DRAWINGS">FIG. 4B</figref> show an example of conversion from eight-bit color data to six-bit color data without dither processing;</p>
<p id="p-0037" num="0036"><figref idref="DRAWINGS">FIG. 5A</figref> to <figref idref="DRAWINGS">FIG. 5D</figref> show an example of conversion from eight-bit color data to six-bit color data with dither processing;</p>
<p id="p-0038" num="0037"><figref idref="DRAWINGS">FIG. 6</figref> shows the relationship between the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> and the second color data R<b>2</b>, G<b>2</b>, B<b>2</b> in the image processing device according to Embodiment 1 of the present invention;</p>
<p id="p-0039" num="0038"><figref idref="DRAWINGS">FIG. 7</figref> shows the relationship between the data numbers, the blue component B<b>1</b> of the first color data, the value Ba of the ideal second color data, and the blue component B<b>2</b> of the second color data in the image processing device according to Embodiment 1 of the present invention;</p>
<p id="p-0040" num="0039"><figref idref="DRAWINGS">FIG. 8</figref> is a block diagram showing an example of configuration of the image processing device according to Embodiment 2 of the present invention;</p>
<p id="p-0041" num="0040"><figref idref="DRAWINGS">FIG. 9</figref> is a block diagram showing an example of configuration of the dither processor <b>2</b><i>b </i>in the image processing device according to Embodiment 2 of the present invention;</p>
<p id="p-0042" num="0041"><figref idref="DRAWINGS">FIG. 10A</figref> to <figref idref="DRAWINGS">FIG. 10D</figref> show an example of dither coefficients D(X, Y, V) used in the image processing device according to Embodiment 2 of the present invention;</p>
<p id="p-0043" num="0042"><figref idref="DRAWINGS">FIG. 11</figref> is a block diagram showing an example of configuration of the image processing device according to Embodiment 3 of the present invention;</p>
<p id="p-0044" num="0043"><figref idref="DRAWINGS">FIG. 12</figref> is a block diagram showing an example of configuration of the tone converter <b>6</b> in the image processing device according to Embodiment 3 of the present invention;</p>
<p id="p-0045" num="0044"><figref idref="DRAWINGS">FIG. 13</figref> shows an example of tone characteristics of the image display unit used for display of image data having been processed by the image processing device according to Embodiment 3 of the present invention;</p>
<p id="p-0046" num="0045"><figref idref="DRAWINGS">FIG. 14</figref> shows an ideal tone characteristics;</p>
<p id="p-0047" num="0046"><figref idref="DRAWINGS">FIG. 15</figref> shows the contents of a look-up table for realizing the tone characteristics of <figref idref="DRAWINGS">FIG. 14</figref>;</p>
<p id="p-0048" num="0047"><figref idref="DRAWINGS">FIG. 16</figref> shows the tone characteristics obtained when the tone conversion is performed using a look-up table having the contents as shown in <figref idref="DRAWINGS">FIG. 15</figref>, and then display is performed by a display unit having a tone characteristics as shown in <figref idref="DRAWINGS">FIG. 13</figref>;</p>
<p id="p-0049" num="0048"><figref idref="DRAWINGS">FIG. 17</figref> is a block diagram showing an example of configuration of the color converter <b>1</b><i>b </i>in the image processing device according to Embodiment 4 of the present invention;</p>
<p id="p-0050" num="0049"><figref idref="DRAWINGS">FIG. 18</figref> is a block diagram showing an example of configuration of the polynomial calculator <b>10</b> in the image processing device according to Embodiment 4 of the present invention;</p>
<p id="p-0051" num="0050"><figref idref="DRAWINGS">FIG. 19</figref> shows an example of the relationship between the identification code S<b>1</b>, the maximum value β, the minimum value α, and the hue data that are zero in the image processing device according to Embodiment 4 of the present invention;</p>
<p id="p-0052" num="0051"><figref idref="DRAWINGS">FIG. 20</figref> shows the operation of the polynomial calculator <b>10</b> and the zero remover <b>13</b> in the image processing device according to Embodiment 4 of the present invention;</p>
<p id="p-0053" num="0052"><figref idref="DRAWINGS">FIG. 21</figref> is a block diagram showing an example of configuration of part of the matrix calculator <b>11</b> in the image processing device according to Embodiment 4 of the present invention;</p>
<p id="p-0054" num="0053"><figref idref="DRAWINGS">FIG. 22A</figref> to <figref idref="DRAWINGS">FIG. 22F</figref> schematically illustrate the relationship between the six hues and hue data;</p>
<p id="p-0055" num="0054"><figref idref="DRAWINGS">FIG. 23A</figref> to <figref idref="DRAWINGS">FIG. 23F</figref> schematically illustrate the relationship between the first arithmetic terms and the hues in image processing device according to Embodiment 4 of the present invention;</p>
<p id="p-0056" num="0055"><figref idref="DRAWINGS">FIG. 24A</figref> to <figref idref="DRAWINGS">FIG. 24F</figref> schematically illustrate the relationship between the second arithmetic terms and the hues in the image processing device according to Embodiment 4 of the present invention;</p>
<p id="p-0057" num="0056"><figref idref="DRAWINGS">FIG. 25A</figref> to <figref idref="DRAWINGS">FIG. 25F</figref> schematically illustrate the relationship between the second arithmetic terms and the hues in image processing device according to Embodiment 4 of the present invention, with the calculation coefficients being changed by the calculation coefficient generator <b>16</b> in the polynomial calculator <b>10</b>;</p>
<p id="p-0058" num="0057"><figref idref="DRAWINGS">FIG. 26A</figref> and <figref idref="DRAWINGS">FIG. 26B</figref> show the relationship between each of the hues and regions between hues, and the arithmetic term which is effective for the particular hue or region between hues, in the image processing device according to Embodiment 4 of the present invention;</p>
<p id="p-0059" num="0058"><figref idref="DRAWINGS">FIG. 27</figref> is a block diagram showing an example of configuration of a conventional image processing device;</p>
<p id="p-0060" num="0059"><figref idref="DRAWINGS">FIG. 28</figref> shows the relationship between the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> and the calculated third color data R<b>3</b>, G<b>3</b>, B<b>3</b> in the conventional image processing device; and</p>
<p id="p-0061" num="0060"><figref idref="DRAWINGS">FIG. 29</figref> shows the relationship between the data numbers, the blue component B<b>1</b> of the first color data, the value Ba of the ideal second color data, and the blue component B<b>2</b> of the second color data in the conventional image processing device.</p>
</description-of-drawings>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?DETDESC description="Detailed Description" end="lead"?>
<heading id="h-0004" level="1">DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
<p id="p-0062" num="0061">Embodiments of the invention will now be described with reference to the drawings.</p>
<heading id="h-0005" level="1">Embodiment 1</heading>
<p id="p-0063" num="0062"><figref idref="DRAWINGS">FIG. 1</figref> is a block diagram showing an example of configuration of an image processing device according to the invention. The image processing device of this embodiment receives first image data consisting of a plurality of, e.g., three, color data, and constituting image information for each pixel, and calculates and outputs second image data consisting of a plurality of, e.g., three, color data.</p>
<p id="p-0064" num="0063">In the drawing, reference numeral <b>1</b><i>b </i>denotes a color converter, and <b>2</b> denotes a dither processor. The first color data R<b>1</b>, G<b>1</b>, B<b>1</b> constituting the first image data are input to the color converter <b>1</b><i>b</i>. The color converter <b>1</b><i>b </i>calculates, from the first color data R<b>1</b>, G<b>1</b>, B<b>1</b>, third color data R<b>3</b>, G<b>3</b>, B<b>3</b> constituting third image data, which are output to the dither processor <b>2</b>.</p>
<p id="p-0065" num="0064">The color conversion performed at the color converter <b>1</b><i>b </i>may be of a table conversion method, or of a matrix calculation method. It is assumed that the image processing device shown in <figref idref="DRAWINGS">FIG. 1</figref> performs matrix calculation according to the following equation (2) to produce the third color data R<b>3</b>, G<b>3</b>, B<b>3</b>.</p>
<p id="p-0066" num="0065">
<maths id="MATH-US-00004" num="00004">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mi>R3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>G3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>B3</mi>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>(</mo>
            <mi>Aij</mi>
            <mo>)</mo>
          </mrow>
          <mo>⁡</mo>
          <mrow>
            <mo>[</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mi>R1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>G1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>B1</mi>
                </mtd>
              </mtr>
            </mtable>
            <mo>]</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0067" num="0066">It is also assumed that the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> are six bit data, and can express any value of 0 to 63. It is further assumed that each of the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> assumes all the values of 0 to 63, and the combination of the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> can assume 64*64*64=262,144 values. In other words, the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> can express 262,144 colors. It is also assumed that third color data R<b>3</b>, G<b>3</b>, B<b>3</b> are eight-bit data, and can express any value 0 to 255. Among the eight bits of the third color data R<b>3</b>, G<b>3</b>, B<b>3</b>, the lower two bits represent the fractional part (fraction of a unity, i.e., digits to the right of the decimal point), while the upper six bits represent the integer part. Accordingly, the third color data R<b>3</b>, G<b>3</b>, B<b>3</b> represent a value with a resolution (accuracy) of ¼.</p>
<p id="p-0068" num="0067">The dither processor <b>2</b> receives the third color data R<b>3</b>, G<b>3</b>, B<b>3</b> output from the color converter <b>1</b><i>b</i>, and the data X, Y representing the pixel positions of the input third color data R<b>3</b>, G<b>3</b>, B<b>3</b> within the image (screen). Here, data X, Y respectively represent the horizontal and vertical pixel positions of the input third color data within the screen, and supplied from an external image data supply unit, not shown, together with the first color data. If the image data are not associated with the data representing the above pixel positions, but are associated with a horizontal synchronous signal and a vertical synchronous signal, the data representing the pixel positions may be generated within the image processing device based on the horizontal synchronous signal and the vertical synchronous signal. For instance, if X=100, Y=200, the third color data which are concurrently input are those of the pixel which is at a 200th row and 100th column within the screen.</p>
<p id="p-0069" num="0068"><figref idref="DRAWINGS">FIG. 2</figref> is a block diagram showing an example of configuration of the dither processor <b>2</b>. In the drawing, reference numeral <b>3</b> denotes a dither coefficients generator, <b>4</b> denotes a dither coefficient adder, and <b>5</b> denotes a bit selector. The data X, Y representing the pixel positions are input to the dither coefficient generator <b>3</b>. The dither coefficient generator <b>3</b> generates a dither coefficient D(X, Y) corresponding to the pixel position from the input data X, Y. The dither coefficient adder <b>4</b> receives the third color data R<b>3</b>, G<b>3</b>, B<b>3</b>, and the dither coefficients D(X, Y) from the dither coefficient generator <b>3</b>. The dither coefficient adder <b>4</b> performs addition according to the following equation (4), to produce dither coefficient-added color data Rd, Gd, Bd. The dither coefficient-added color data Rd, Gd, Bd are eight-bit data, and its value is limited to 255, i.e., the dither coefficient-added color data Rd, Gd, Bd have a value 255 when the sum of the third color data and the dither coefficient exceeds 255.
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Rd=R</i>3<i>+D</i>(<i>X, Y</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Gd=G</i>3<i>+D</i>(<i>X, Y</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>Bd=B</i>3<i>+D</i>(<i>X, Y</i>)  (4)<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0070" num="0069">The dither coefficient-added color data Rd, Gd, Bd are input to the bit selector <b>5</b>. The bit selector <b>5</b> selects the upper six bits of each of the dither coefficient-added color data Rd, Gd, Bd, and outputs the selected data as the second color data R<b>2</b>, G<b>2</b>, B<b>2</b> constituting the second image data. Accordingly, the second color data R<b>2</b>, G<b>2</b>, B<b>2</b> are six-bit data.</p>
<p id="p-0071" num="0070">Further description will be made in connection with specific numerical examples. Let us assume that the matrix coefficients Aij used for the matrix calculation of the equation (2) performed at the color converter <b>1</b><i>b </i>are as shown by the following equation (3), and the dither coefficient D(X, Y) generated at the dither coefficient generator <b>3</b> are as shown in <figref idref="DRAWINGS">FIG. 3</figref>.</p>
<p id="p-0072" num="0071">
<maths id="MATH-US-00005" num="00005">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>(</mo>
          <mi>Aij</mi>
          <mo>)</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mn>1.0</mn>
              </mtd>
              <mtd>
                <mn>0.0</mn>
              </mtd>
              <mtd>
                <mn>0.0</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0.0</mn>
              </mtd>
              <mtd>
                <mn>1.0</mn>
              </mtd>
              <mtd>
                <mn>0.0</mn>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mn>0.2</mn>
              </mtd>
              <mtd>
                <mrow>
                  <mo>-</mo>
                  <mn>0.2</mn>
                </mrow>
              </mtd>
              <mtd>
                <mn>0.8</mn>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>3</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0073" num="0072">When the dither coefficient D(X, Y) generated at the dither coefficient generator <b>3</b> have a relationship as shown in <figref idref="DRAWINGS">FIG. 3</figref>, with respect to the values of the data X, Y representing the pixel position, the color data obtained by the bit selection after the addition of the dither coefficient (obtained by the dither processing) can simulate information two bits more than the actual number of bits. For instance, the six bit data obtained through dither processing can simulate eight-bit information. The effects of the dither processing will next be described with reference to <figref idref="DRAWINGS">FIG. 4A</figref>, <figref idref="DRAWINGS">FIG. 4B</figref>, <figref idref="DRAWINGS">FIG. 5A</figref> and <figref idref="DRAWINGS">FIG. 5B</figref>.</p>
<p id="p-0074" num="0073"><figref idref="DRAWINGS">FIG. 4A</figref> and <figref idref="DRAWINGS">FIG. 4B</figref> show an example of conversion from eight-bit color data to six-bit color data without dither processing. The values shown in <figref idref="DRAWINGS">FIG. 4A</figref> are those of the eight-bit color data before the conversion. The values shown in <figref idref="DRAWINGS">FIG. 4B</figref> are those of the six-bit color data after the conversion. The squares depicted by partitions in <figref idref="DRAWINGS">FIG. 4A</figref> and <figref idref="DRAWINGS">FIG. 4B</figref> represent pixels for which respective color data exist. For simplicity, <figref idref="DRAWINGS">FIG. 4A</figref> and <figref idref="DRAWINGS">FIG. 4B</figref> show that each pixel has just one color data. In the case shown in <figref idref="DRAWINGS">FIG. 4A</figref> and <figref idref="DRAWINGS">FIG. 4B</figref>, in which no dither processing is performed, the lower two bits of eight-bit data are simply omitted, in producing six-bit color data. As a result, the data represented by the lower two bits are completely lost, and the four values “64,” “65,” “66,” and “67” in eight-bit color data, are all converted to the same value of “16” in the six-bit color data.</p>
<p id="p-0075" num="0074"><figref idref="DRAWINGS">FIG. 5A</figref> and <figref idref="DRAWINGS">FIG. 5B</figref> show an example of conversion from eight-bit color data to six-bit color data with dither processing. The values shown in <figref idref="DRAWINGS">FIG. 5A</figref> are those of eight-bit color data. The squares depicted by the partitions in <figref idref="DRAWINGS">FIG. 5A</figref> to <figref idref="DRAWINGS">FIG. 5D</figref> represent pixels for which the respective color data exist. For simplicity, <figref idref="DRAWINGS">FIG. 5A</figref> to <figref idref="DRAWINGS">FIG. 5D</figref> show that each pixel has just one color data. <figref idref="DRAWINGS">FIG. 5B</figref> shows dither coefficients which are added to the corresponding color data shown in <figref idref="DRAWINGS">FIG. 5A</figref>, and which are generated according to the rule shown in <figref idref="DRAWINGS">FIG. 3</figref>. <figref idref="DRAWINGS">FIG. 5C</figref> shows eight-bit dither coefficient-added color data obtained by addition of the dither coefficients shown in <figref idref="DRAWINGS">FIG. 5B</figref> to the eight-bit data in <figref idref="DRAWINGS">FIG. 5A</figref>. <figref idref="DRAWINGS">FIG. 5D</figref> shows six-bit color data obtained by conversion of the dither coefficient-added color data to six-bit color data, by omitting the lower two bits from the dither coefficient-added color data shown in <figref idref="DRAWINGS">FIG. 5C</figref>. When four pixels (two vertically aligned ones by two horizontal aligned ones) are seen as a unit (i.e., in combination), the six-bit color data shown in <figref idref="DRAWINGS">FIG. 5D</figref> preserves the information of the lower two bits having been omitted.</p>
<p id="p-0076" num="0075">As has been described, by performing dither processing using the dither coefficients shown in <figref idref="DRAWINGS">FIG. 3</figref>, it is possible to express information two bit more than the actual number of bits, when four pixels are seen as a unit (i.e., in combination). That is, by performing dither processing using the dither coefficients shown in <figref idref="DRAWINGS">FIG. 3</figref>, it is possible to simulate information two bit more than the actual number of bits. The present embodiment uses the dither coefficients shown in <figref idref="DRAWINGS">FIG. 3</figref>, as an example, but the dither processing may be performed using various other dither coefficients, to simulate information more than the actual number of bits.</p>
<p id="p-0077" num="0076"><figref idref="DRAWINGS">FIG. 6</figref> shows the relationship between the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> input to the color converter <b>1</b><i>b</i>, and the second color data R<b>2</b>, G<b>2</b>, B<b>2</b> calculated by the color converter <b>1</b><i>b</i>, for nine values (data numbers 1 to 9) of the first color data, under the condition that the matrix coefficients Aij used in the matrix calculation performed at the color converter <b>1</b><i>b </i>according to the equation (2) are as those shown by the equation (3), and the dither coefficients D(X, Y) generated by the dither coefficient generator <b>3</b> are as shown in <figref idref="DRAWINGS">FIG. 3</figref>. The nine values of the first color data shown in <figref idref="DRAWINGS">FIG. 6</figref> are such that the value of R<b>1</b> is fixed at “40,” and the value of G<b>1</b> is fixed at “32,” while the value of B<b>1</b> is reduced one by one, from “40” to “32.” In <figref idref="DRAWINGS">FIG. 6</figref>, Ra, Ga, Ba represent the values of the ideal second color data which would be obtained if each of the color data constituting the image data were not restricted to six bits. R<b>3</b>, G<b>3</b>, B<b>3</b> represent eight-bit third data output from the color, converter <b>1</b><i>b</i>. The eight-bit third color data output from the color converter are converted to the six-bit second color data R<b>2</b>, G<b>2</b>, B<b>2</b> by dither processing at the dither processor <b>2</b>, so that the second color data can simulate information of 8 bits, i.e., with a resolution (accuracy) of ¼ (0.25). As a result, the phenomenon that occurred with the conventional image processing device, in which both of the combination of R<b>1</b>=40, G<b>1</b>=32, B<b>1</b>=39, and the combination of R<b>1</b>=40, G<b>1</b>=32, B<b>1</b>=38 result in the same color data, and both of the combination of R<b>1</b>=40, G<b>1</b>=32, B<b>1</b>=34, and the combination of R<b>1</b>=40, G<b>1</b>=32, B<b>1</b>=33 result in the same color data does not occur.</p>
<p id="p-0078" num="0077"><figref idref="DRAWINGS">FIG. 7</figref> shows the relationship between the data number also shown in <figref idref="DRAWINGS">FIG. 6</figref> and the blue component B<b>1</b> of the first color data, the value Ba of the blue component of the ideal second color data, and the blue component B<b>2</b> of the second color data. It is seen from <figref idref="DRAWINGS">FIG. 7</figref>, that the blue component B<b>2</b> of the second color data is fairly close to the value Ba of the blue component of the ideal second color data, and changes smoothly.</p>
<p id="p-0079" num="0078">As has been described, according to the image processing device of the invention, it is possible to simulate, without increasing the number of bits, the fractional part which are generated by the color conversion at the color converter, by performing dither processing on the color data having been obtained by the color conversion. Accordingly, it is possible to realize an “exact color reproduction” or “preferred color reproduction” by means of the color conversion at the color converter, and at the same time it is also possible to restrain the reduction in the number of colors that are expressed, and it is also possible to restrain generation of discontinuities (irregularities) in the data change.</p>
<p id="p-0080" num="0079">The reduction in the number of colors expressed by the image processing means that the capacity of the image display unit, such as LCD, used for the image display, in terms of the number of colors displayed, cannot be fully utilized. According to the image processing device of the invention, the capacity of the image display unit, in terms of the number of colors that can be displayed, can be fully utilized, and at the same time a desired color reproduction can also be obtained. Moreover, the change in the data will be more regular, and the images displayed by the data display unit will be more natural, and it is also possible to avoid the phenomenon (false edges) in which an edge which actually does not exist is seen as if it were present. This is because the information of the fractional part generated by the color conversion is preserved (rather than omitted), by performing the dither processing on the data obtained by the color conversion.</p>
<p id="p-0081" num="0080">The above embodiment has been described on the assumption that the device is implemented by hardware. But similar functions are obtained even when the device is implemented by software. Moreover, in the embodiment described, the first color data consist of three color data representing red, green and blue. The invention is applicable to situations where the first color data consist of four or more color data.</p>
<p id="p-0082" num="0081">In the embodiment described, the first color data, and the second color data are both of six bits, so that the number of bits of the first color data and the number of bits of the second color data are equal. However, the invention is applicable where the number of bits of the first color data and the number of bits of the second color data are not equal. For instance, it may be that the first color data are of eight bits, and the second color data are of six bits. In this case, the second color data simulate the information of 256*256*256 (=about 16,777 thousand) colors of the first color data.</p>
<heading id="h-0006" level="1">Embodiment 2</heading>
<p id="p-0083" num="0082">The image processing device and image processing method according to the invention may be modified such that the dither coefficients used in the dither processor are altered every frame of the image (i.e., frame by frame). <figref idref="DRAWINGS">FIG. 8</figref> is a block diagram showing an example of configuration of an image processing device of Embodiment 2 of the invention. In <figref idref="DRAWINGS">FIG. 8</figref>, reference numeral <b>1</b><i>b </i>denotes the same element as that shown in <figref idref="DRAWINGS">FIG. 1</figref> relating to Embodiment 1. Reference numeral <b>2</b><i>b </i>denotes a dither processor according to Embodiment 2. <figref idref="DRAWINGS">FIG. 9</figref> is a block diagram showing an example of configuration of the dither processor <b>2</b><i>b</i>. In <figref idref="DRAWINGS">FIG. 9</figref>, reference numerals <b>4</b> and <b>5</b> denote the same elements as those shown in <figref idref="DRAWINGS">FIG. 2</figref> relating to Embodiment 1. Reference numeral <b>3</b><i>b </i>denotes a dither coefficient generator according to the present embodiment.</p>
<p id="p-0084" num="0083">The image processing device according to the present embodiment differs from that of Embodiment 1 in the configuration of the dither coefficient generator <b>3</b><i>b </i>in the dither processor <b>2</b><i>b</i>. The dither coefficient generator <b>3</b> in Embodiment 1 generates the dither coefficients D(X, Y) from the data X, Y representing the horizontal and vertical positions of the pixels. In contrast, the dither coefficient generator <b>3</b><i>b </i>according to the present embodiment generates the dither coefficients D(X, Y, V) using not only the data X, Y representing the horizontal and vertical positions of the pixels, but also the data or signal V (which is formed of a vertical synchronous signal, and is supplied from the image data supply source, not shown, together with the first color data) indicating the switching of the frame in which the color data exist.</p>
<p id="p-0085" num="0084"><figref idref="DRAWINGS">FIG. 10A</figref> to <figref idref="DRAWINGS">FIG. 10D</figref> show an example of the dither coefficients D(X, Y, V) generated at the dither coefficient generator <b>3</b><i>b</i>. In the initial state, the dither coefficient generator <b>3</b><i>b </i>generates the dither coefficients shown in <figref idref="DRAWINGS">FIG. 10A</figref>. After that, the dither coefficients generated are successively switched to those shown in <figref idref="DRAWINGS">FIG. 10B</figref>, <figref idref="DRAWINGS">FIG. 10C</figref>, <figref idref="DRAWINGS">FIG. 10D</figref>, <figref idref="DRAWINGS">FIG. 10A</figref>, <figref idref="DRAWINGS">FIG. 10B</figref>, . . . , in response to the input of the data V representing the switching of the frame.</p>
<p id="p-0086" num="0085">If the dither coefficients used are fixed regardless of the image frame, the configuration is simple, but the dither coefficients added by the dither processing may appear as a fixed noise in the image. In contrast, in the image processing device of the present embodiment, the dither coefficients added at each pixel position is altered every frame, so that the effects of the addition of the dither coefficient is temporally dispersed, and is not recognized as a fixed noise.</p>
<p id="p-0087" num="0086">The above embodiment has been described on the assumption that the device is implemented by hardware. But similar functions are obtained even when the device is implemented by software. Moreover, in the embodiment described, the first color data consist of three color data representing red, green and blue. The invention is applicable to situations where the first color data consist of four or more color data.</p>
<heading id="h-0007" level="1">Embodiment 3</heading>
<p id="p-0088" num="0087"><figref idref="DRAWINGS">FIG. 11</figref> is a block diagram showing an example of configuration of an image processing device according to the invention. In <figref idref="DRAWINGS">FIG. 11</figref>, reference numerals <b>1</b><i>b </i>and <b>2</b><i>b </i>denote the same elements as those shown in <figref idref="DRAWINGS">FIG. 8</figref> relating to Embodiment 2. Reference numeral <b>6</b> denotes a tone converter. The first color data R<b>1</b>, G<b>1</b>, B<b>1</b> constituting the first image data are input to the color converter <b>1</b><i>b</i>. The color converter <b>1</b><i>b </i>calculates the third color data R<b>3</b>, G<b>3</b>, B<b>3</b> constituting the third image data from the first color data R<b>1</b>, G<b>1</b>, B<b>1</b>, and supplies the third color data to the tone converter <b>6</b>.</p>
<p id="p-0089" num="0088">The color conversion performed at the color converter <b>1</b><i>b </i>may be of a table conversion method, or of a matrix calculation method. The image processing device shown in <figref idref="DRAWINGS">FIG. 11</figref> is assumed to calculate the third color data R<b>3</b>, G<b>3</b>, B<b>3</b>, by the matrix calculation of the following equation (2).</p>
<p id="p-0090" num="0089">
<maths id="MATH-US-00006" num="00006">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mi>R3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>G3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>B3</mi>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>(</mo>
            <mi>Aij</mi>
            <mo>)</mo>
          </mrow>
          <mo>⁡</mo>
          <mrow>
            <mo>[</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mi>R1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>G1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>B1</mi>
                </mtd>
              </mtr>
            </mtable>
            <mo>]</mo>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>2</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0091" num="0090">Here, the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> are assumed to be of six bits, and can represent any value from 0 to 63. It is also assumed that each of R<b>1</b>, G<b>1</b>, B<b>1</b> of the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> assumes all of the values of 0 to 63, and the combination of the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> will have 64*64*64=262,144 values. In other words, the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> can express 262,144 colors. On the other hand, the third color data R<b>3</b>, G<b>3</b>, B<b>3</b> are of eight bits, and can express any value of 0 to 255. But lower two bits of the eight bits of the third color data R<b>3</b>, G<b>3</b>, B<b>3</b> represent the fractional part, and the upper six bits represent the integer part. Accordingly, the third color data R<b>3</b>, G<b>3</b>, B<b>3</b> will have a resolution (accuracy) of ¼.</p>
<p id="p-0092" num="0091">The tone converter <b>6</b> performs tone conversion on the input third color data, and produces and outputs fourth color data R<b>4</b>, G<b>4</b>, B<b>4</b> constituting fourth image data. The fourth color data R<b>4</b>, G<b>4</b>, B<b>4</b> are of eight bits, and can express any value of 0 to 255. Like the third color data R<b>3</b>, G<b>3</b>, B<b>3</b>, the lower two bits of the eight bits of the fourth color data R<b>4</b>, G<b>4</b>, B<b>4</b> represent the fractional part, while the upper six bits represent the integer part. The tone conversion performed at the tone converter <b>6</b> is for correcting or compensating for the undesirable tone characteristics of the image display unit that is used, or for realizing the tone characteristics according to the user's preference, or to the environmental conditions. For instance, a liquid crystal module often has an S-shaped tone characteristics, while the image supplied is often generated on the assumption that the image display unit has a tone characteristics expressed by a power function. In this case, if no tone conversion were applied, the tone characteristics of the image display device differs from that assumed at the time when the image was generated, so that the image displayed is different from that intended.</p>
<p id="p-0093" num="0092"><figref idref="DRAWINGS">FIG. 12</figref> is a block diagram showing an example of configuration of the tone converter <b>6</b>. In <figref idref="DRAWINGS">FIG. 12</figref>, reference numerals <b>7</b><i>a</i>, <b>7</b><i>b</i>, and <b>7</b><i>c </i>denote look-up tables. The look-up tables <b>7</b><i>a</i>, <b>7</b><i>b</i>, and <b>7</b><i>c </i>store the values of the fourth color data R<b>4</b>, G<b>4</b>, B<b>4</b>, at the addresses (memory locations) designated by the input data which are input as the read address. The look-up table <b>7</b><i>a </i>receives the red component R<b>3</b> of the third color data as the read address, and the red component R<b>4</b> of the fourth color data stored at the address or the memory location designated by the red component R<b>3</b> of the third color data is read and output. Similarly, the look-up table <b>7</b><i>b </i>receives the green component G<b>3</b> of the third color data as the read address, and the green component G<b>4</b> of the fourth color data stored at the address or the memory location designated by the green component G<b>3</b> of the third color data is read and output. Similarly, the look-up table <b>7</b><i>c </i>receives the blue component B<b>3</b> of the third color data as the read address, and the blue component B<b>4</b> of the fourth color data stored at the address or memory location designated by the blue component B<b>3</b> of the third color data is read and output.</p>
<p id="p-0094" num="0093"><figref idref="DRAWINGS">FIG. 13</figref> to <figref idref="DRAWINGS">FIG. 16</figref> show an example of tone conversion performed by the tone converter <b>6</b>. <figref idref="DRAWINGS">FIG. 13</figref> shows an example of tone characteristics of the image display unit used for the display of the image data having been processed by the image processing device of the present embodiment. In <figref idref="DRAWINGS">FIG. 13</figref>, the horizontal axis represents the magnitude of the input data, while the vertical axis represents the normalized displayed luminance on the screen. It is seen from <figref idref="DRAWINGS">FIG. 13</figref>, that the image display unit of this example has an S-shaped tone characteristics. In describing the tone conversion, it is assumed for convenience of description, that the image display unit can display data of 8 bits. <figref idref="DRAWINGS">FIG. 14</figref> shows the ideal tone characteristics. In <figref idref="DRAWINGS">FIG. 14</figref>, the horizontal axis represents the magnitude of the input data, while the vertical axis represents the normalized displayed luminance on the screen. As the tone characteristics of the image display devices, a tone characteristics expressed by a power function, which is a tone characteristics of a standard CRT, has now become a standard.</p>
<p id="p-0095" num="0094"><figref idref="DRAWINGS">FIG. 15</figref> shows the contents of a look-up table for realizing the tone characteristics shown in <figref idref="DRAWINGS">FIG. 14</figref>. In <figref idref="DRAWINGS">FIG. 14</figref>, the horizontal axis represents the read address, while the vertical axis represents the data stored at the memory location designated by the read address. <figref idref="DRAWINGS">FIG. 16</figref> shows the toner characteristics obtained when the tone conversion is performed using the look-up table of <figref idref="DRAWINGS">FIG. 15</figref>, and display is thereafter performed using an image display unit having a tone characteristics shown in <figref idref="DRAWINGS">FIG. 13</figref>, i.e., the tone characteristics of the combination of the look-up table having a tone characteristics shown in <figref idref="DRAWINGS">FIG. 15</figref>, and the image display unit having a tone characteristics shown in <figref idref="DRAWINGS">FIG. 13</figref>. In <figref idref="DRAWINGS">FIG. 16</figref>, the horizontal axis represents the input data before the toner conversion, while the vertical axis represents the luminance displayed on the screen of the image display unit. It will be understood that a tone characteristics very close to the ideal tone characteristics is obtained.</p>
<p id="p-0096" num="0095">The fourth color data R<b>4</b>, G<b>4</b>, B<b>4</b> obtained by the tone conversion at the tone converter <b>6</b> are supplied to the dither processor <b>2</b><i>b</i>. The dither processor <b>2</b><i>b </i>receives, not only the fourth color data R<b>4</b>, G<b>4</b>, B<b>4</b> from the tone converter <b>6</b>, but also the data X, Y representing the horizontal and vertical pixel positions of the input fourth color data within the image (screen), and the data V representing the switching of the frame in which the color data exist.</p>
<p id="p-0097" num="0096">The dither processor <b>2</b><i>b </i>generates the dither coefficients D(X,Y,V), and adds the generated dither coefficients to the fourth color data R<b>4</b>, G<b>4</b>, B<b>4</b>, and performs the bit selection to produce the second color data R<b>2</b>, G<b>2</b>, B<b>2</b> constituting the second image data. The above operation is the same as that described in connection with Embodiment 2. The second color data R<b>2</b>, G<b>2</b>, B<b>2</b> are six-bit data, but can simulate eight-bit information because of the effects of the dither processing.</p>
<p id="p-0098" num="0097">As has been described, according to the image processing device of the invention, dither processing is applied to the color data obtained by the color conversion at the color converter, and the tone conversion at the tone converter, and it is possible to simulate the data representing the fractional part generated by the tone conversion, without increasing the number of bits. Accordingly, it is possible to restrain the reduction in the number of colors that can be displayed, and restrain the generation of discontinuities (irregularities) in the data change, while realizing an “exact color reproduction” or “preferred color reproduction” by means of the color conversion at the color converter, and realizing a desired tone characteristics by means of the tone conversion at the tone converter.</p>
<p id="p-0099" num="0098">The above embodiment has been described on the assumption that the device is implemented by hardware. But similar functions are obtained even when the device is implemented by software. Moreover, in the embodiment described, the first color data consist of three color data representing red, green and blue. The invention is applicable to situations where the first color data consist of four or more color data.</p>
<heading id="h-0008" level="1">Embodiment 4</heading>
<p id="p-0100" num="0099"><figref idref="DRAWINGS">FIG. 17</figref> is a block diagram showing an example of configuration of a color converter <b>1</b><i>b </i>in an image processing device according to Embodiment 4 of the present invention. In <figref idref="DRAWINGS">FIG. 17</figref>, reference numeral <b>8</b> denotes an α β calculator which calculates and outputs the maximum value β and the minimum value α of the input first color data R<b>1</b>, G<b>1</b>, B<b>1</b>, and also generates and outputs an identification code that indicates which of the hue data are zero. Reference numeral <b>9</b> denotes a hue data calculator calculating hue data r, g, b, y, m, c based on the first color data R<b>1</b>, G<b>1</b>, B<b>1</b>, and the outputs of the α β calculator <b>8</b>. Reference numeral <b>10</b> denotes a polynomial calculator, <b>11</b> denotes a matrix calculator, and <b>12</b> denotes a coefficient generator. The configuration other than the color converter <b>1</b><i>b </i>may be identical to that of Embodiment 1, Embodiment 2, or Embodiment 3.</p>
<p id="p-0101" num="0100"><figref idref="DRAWINGS">FIG. 18</figref> is a block diagram showing an example of configuration of the polynomial calculator <b>10</b>. In <figref idref="DRAWINGS">FIG. 18</figref>, reference numeral <b>13</b> denotes a zero remover removing the hue data (among the input hue data) which are zero. Reference numerals <b>14</b><i>a</i>, <b>14</b><i>b</i>, <b>14</b><i>c </i>denote minimum value selectors which select and output the minimum value of the input data. Reference numeral <b>16</b> denotes a calculation coefficient generator for generating calculation coefficients based on the identification code from the α β calculator <b>1</b>, and outputting the generated coefficients. Reference numerals <b>15</b><i>a</i>, <b>15</b><i>b </i>denote multipliers multiplying the outputs of the minimum value selectors <b>14</b><i>a </i>and <b>14</b><i>b </i>by the calculation coefficients from the calculation coefficient generator <b>16</b>.</p>
<p id="p-0102" num="0101">The operation will next be described. The input first color data R<b>1</b>, G<b>1</b>, B<b>1</b> are supplied to the α β calculator <b>8</b> and the hue data calculator <b>9</b>. The α β calculator <b>8</b> calculates and outputs the maximum value β and the minimum value α of the first color data R<b>1</b>, G<b>1</b>, B<b>1</b>, and generates and outputs the identification code S<b>1</b> which identifies which of the first color data R<b>1</b>, G<b>1</b>, B<b>1</b> are the maximum value and the minimum value.</p>
<p id="p-0103" num="0102">The hue data calculator <b>9</b> receives the first color data R<b>1</b>, G<b>1</b>, B<b>1</b>, and the maximum value β and minimum value α output from the α β calculator <b>8</b>, and performs the subtraction:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>r=R</i>1−α,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>g=G</i>1−α,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>b=B</i>1−α,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>y=β−B</i>1,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>m=β−G</i>1,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>c=β−R</i>1<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
to produce the six hue data r, g, b, y, m, c.
</p>
<p id="p-0104" num="0103">The maximum value β and minimum value a calculated at the α β calculator <b>8</b> are given by:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>β=MAX(<i>R</i>1, <i>G</i>1<i>, B<b>1</b>),</i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?>α=MIN(<i>R</i>1<i>, G</i>1<i>, B<b>1</b>),</i><?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and the six hue data r, g, b, y, m, c calculated at the hue data calculator <b>16</b> are given by the subtraction:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>r=R</i>1−α,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>g=G</i>1−α,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>b=B</i>1−α,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
and
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>y=β−B</i>1,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>m=β−G</i>1,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>c=β−R</i>1,<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
so that the six hue data have such a characteristics that at least two of them are zero. For instance, when R<b>1</b> is the maximum, and G<b>1</b> is the minimum (β=R<b>1</b>, α=G<b>1</b>), the above subtraction will result in g=0, and c=0. When R<b>1</b> is the maximum and B<b>1</b> is the minimum (β=R<b>1</b>, α=B<b>1</b>), b=0, and c=0.
</p>
<p id="p-0105" num="0104">That is, at least one of r, g, b is zero, and at least one of y, m, c is zero, and two in total are zero, and which of them are zero depend on the combination of R<b>1</b>, G<b>1</b> or B<b>1</b> which is the maximum, and R<b>1</b>, G<b>1</b> or B<b>1</b> which is the minimum.</p>
<p id="p-0106" num="0105">The α β calculator <b>8</b> generates and outputs the identification code S<b>1</b> identifying which of the six hue data are zero. The identification code S<b>1</b> assumes one of six-values depending on which of R<b>1</b>, G<b>1</b>, B<b>1</b> is the maximum and which of R<b>1</b>, G<b>1</b>, B<b>1</b> is the minimum. <figref idref="DRAWINGS">FIG. 19</figref> shows the relationship between the identification code S<b>1</b>, the maximum value β and minimum value α, and the hue data that are zero. The value of the identification code S<b>1</b> shown in <figref idref="DRAWINGS">FIG. 19</figref> is just an example, and the identification code may assume other values.</p>
<p id="p-0107" num="0106">The six hue data r, g, b, y, m, c output from the hue data calculator <b>9</b> are supplied to the polynomial calculator <b>10</b>. The polynomial calculator <b>10</b> is also supplied with the identification code S<b>1</b> from the α β calculator <b>8</b>, and performs calculation using two non-zero data Q<b>1</b>, Q<b>2</b> among r, g, b and two non-zero data P<b>1</b>, P<b>2</b> among y, m, c.</p>
<p id="p-0108" num="0107">The hue data from the hue data calculator <b>9</b> and the identification code S<b>1</b> from the α β calculator <b>8</b> are input to the zero remover <b>13</b> in the polynomial calculator <b>10</b>. Based on the identification code S<b>1</b>, the zero remover <b>13</b> outputs two non-zero data of r, g, b as Q<b>1</b>, Q<b>2</b>, and two non-zero data of y, m, c as P<b>1</b>, P<b>2</b>. Q<b>1</b>, Q<b>2</b>, P<b>1</b>, P<b>2</b> are determined as shown in <figref idref="DRAWINGS">FIG. 20</figref>, and output. For instance, when the identification code S<b>1</b>=0, r, b are used as Q<b>1</b>, Q<b>2</b>, and y, m are used as P<b>1</b>, P<b>2</b>, as will be seen from <figref idref="DRAWINGS">FIG. 19</figref> and <figref idref="DRAWINGS">FIG. 20</figref>, and Q<b>1</b>=r, Q<b>2</b>, =b, P<b>1</b>=m, P<b>2</b>=y are output. Like <figref idref="DRAWINGS">FIG. 19</figref>, the values of the identification code S<b>1</b> in <figref idref="DRAWINGS">FIG. 20</figref> are just an example, and the values of the identification code S<b>1</b> are not limited to those shown in <figref idref="DRAWINGS">FIG. 20</figref>.</p>
<p id="p-0109" num="0108">The minimum value selector <b>14</b><i>a </i>selects and outputs the minimum value T<b>4</b>=min (Q<b>1</b>, Q<b>2</b>) of the output data Q<b>1</b>, Q<b>2</b> of the zero remover <b>13</b>, while the minimum value selector <b>14</b><i>b </i>selects and outputs the minimum value T<b>2</b>=min (P<b>1</b>, P<b>2</b>) of the output data P<b>1</b>, P<b>2</b> of the zero remover <b>13</b>. The values T<b>4</b> and T<b>2</b> output from the minimum value selectors <b>14</b><i>a </i>and <b>14</b><i>b </i>constitute the first arithmetic terms.</p>
<p id="p-0110" num="0109">The calculation coefficient generator <b>16</b> is supplied with the identification code S<b>1</b> from the α β calculator <b>8</b>, and generates, based on the identification code S<b>1</b>, signals representing calculation coefficients aq, ap used for multiplication with the first arithmetic terms T<b>4</b> and T<b>2</b> at the multipliers <b>15</b><i>a</i>, <b>15</b><i>b</i>, and supplies the calculation coefficient aq to the multiplier <b>15</b><i>a </i>and the calculation coefficient ap to the multiplier <b>15</b><i>b. </i></p>
<p id="p-0111" num="0110">The values of the calculation coefficients aq, ap vary depending on the identification code S<b>1</b>. That is, as the identification code S<b>1</b> has six values as shown in <figref idref="DRAWINGS">FIG. 20</figref>, each of the calculation coefficients aq, ap has six values corresponding to the six values of the identification code S<b>1</b>. The multiplier <b>15</b><i>a </i>receives the first arithmetic term T<b>4</b> from the minimum value selector <b>14</b><i>a</i>, and performs multiplication (aq×T<b>4</b>) of the first arithmetic term T<b>4</b> with the calculation coefficient aq from the calculation coefficient generator <b>16</b>, and supplies the output (product) to the minimum value selector <b>14</b><i>c</i>. The multiplier <b>15</b><i>b </i>receives the first arithmetic term T<b>2</b> from the minimum value selector <b>14</b><i>b</i>, and performs multiplication (ap×T<b>2</b>) of the first arithmetic term T<b>2</b> with the calculation coefficient ap from the calculation coefficient generator <b>16</b>, and supplies the output (product) to the minimum value selector <b>14</b><i>c. </i></p>
<p id="p-0112" num="0111">The minimum value selector <b>14</b><i>c </i>selects and outputs the minimum value T<b>5</b>=min (ap×T<b>2</b>, aq×T<b>4</b>) of the outputs of the multipliers <b>15</b><i>a </i>and <b>15</b><i>b</i>. The output T<b>5</b> of the minimum value selector <b>14</b><i>c </i>constitutes the second arithmetic term. The polynomial data T<b>2</b>, T<b>4</b>, T<b>5</b> described above are the outputs of the polynomial calculator <b>10</b>. The outputs of the polynomial calculator <b>10</b> are supplied to the matrix calculator <b>11</b>.</p>
<p id="p-0113" num="0112">The coefficient generator <b>12</b> shown in <figref idref="DRAWINGS">FIG. 17</figref> generates calculation coefficients U(Fij) for the polynomial data, based on the identification code S<b>1</b>, and supplies the generated coefficients to the matrix calculator <b>11</b>. The matrix calculator <b>11</b> receives the first color data R<b>1</b>, G<b>1</b>, B<b>1</b>, the polynomial data T<b>2</b>, T<b>4</b>, T<b>5</b> from the polynomial calculator <b>10</b>, the minimum value α from the α β calculator <b>8</b>, and the coefficients U from the coefficient generator <b>12</b>, performs matrix calculation in accordance with the following equation (5), and outputs the results of the calculation as the third color data R<b>3</b>, G<b>3</b>, B<b>3</b>.</p>
<p id="p-0114" num="0113">
<maths id="MATH-US-00007" num="00007">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mi>R3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>G3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>B3</mi>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>[</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mi>R1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>G1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>B1</mi>
                </mtd>
              </mtr>
            </mtable>
            <mo>]</mo>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mi>Fij</mi>
              <mo>)</mo>
            </mrow>
            <mo>⁡</mo>
            <mrow>
              <mo>[</mo>
              <mtable>
                <mtr>
                  <mtd>
                    <mi>T2</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>T4</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>T5</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>α</mi>
                  </mtd>
                </mtr>
              </mtable>
              <mo>]</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>5</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0115" num="0114">In the equation (5), for (Fij), i=1 to 3, j=1 to 4.</p>
<p id="p-0116" num="0115"><figref idref="DRAWINGS">FIG. 21</figref> is a block diagram showing an example of part of the matrix calculator <b>11</b>, which calculates R<b>3</b>. In the drawing, reference numerals <b>17</b><i>a </i>to <b>17</b><i>d </i>denote multipliers, and <b>18</b><i>a </i>to <b>18</b><i>d </i>denote adders.</p>
<p id="p-0117" num="0116">The operation of the circuit shown in <figref idref="DRAWINGS">FIG. 21</figref> will next be described. The multipliers <b>17</b><i>a </i>to <b>17</b><i>d </i>receive the polynomial data T<b>2</b>, T<b>4</b>, T<b>5</b> from the polynomial calculator <b>10</b>, the minimum value α from the α β calculator <b>8</b> and the coefficients U(Fij) from the coefficient generator <b>12</b>, and output the respective products.</p>
<p id="p-0118" num="0117">The adders <b>18</b><i>a</i>, <b>18</b><i>b </i>receive the products output from the multipliers <b>17</b><i>a </i>to <b>17</b><i>d</i>, add the input data, and output the respective sums. The adder <b>18</b><i>c </i>adds the data from the adders <b>18</b><i>a</i>, <b>18</b><i>b</i>, and outputs their sum. The adder <b>18</b><i>d </i>adds the first color data R<b>1</b> and the data from the adder <b>18</b><i>c</i>, and outputs the sum as the third color data R<b>3</b>.</p>
<p id="p-0119" num="0118">The same configuration as that shown in <figref idref="DRAWINGS">FIG. 21</figref> can be used to calculate the green component G<b>3</b> and the blue component B<b>3</b> of the third color data.</p>
<p id="p-0120" num="0119">Incidentally, as the coefficients (Fij), those corresponding to the third color data R<b>3</b>, G<b>3</b>, B<b>3</b> are used. If three configurations each identical to that shown in <figref idref="DRAWINGS">FIG. 21</figref> are used in parallel for R<b>3</b>, G<b>3</b>, B<b>3</b>, the matrix calculation can be achieved at a high speed.</p>
<p id="p-0121" num="0120">Accordingly, the equation for calculating the third color data R<b>3</b>, G<b>3</b>, B<b>3</b> by means of the color converter shown in <figref idref="DRAWINGS">FIG. 17</figref> is the following equation (6).</p>
<p id="p-0122" num="0121">
<maths id="MATH-US-00008" num="00008">
<math overflow="scroll">
<mtable>
  <mtr>
    <mtd>
      <mrow>
        <mrow>
          <mo>[</mo>
          <mtable>
            <mtr>
              <mtd>
                <mi>R3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>G3</mi>
              </mtd>
            </mtr>
            <mtr>
              <mtd>
                <mi>B3</mi>
              </mtd>
            </mtr>
          </mtable>
          <mo>]</mo>
        </mrow>
        <mo>=</mo>
        <mrow>
          <mrow>
            <mo>[</mo>
            <mtable>
              <mtr>
                <mtd>
                  <mi>R1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>G1</mi>
                </mtd>
              </mtr>
              <mtr>
                <mtd>
                  <mi>B1</mi>
                </mtd>
              </mtr>
            </mtable>
            <mo>]</mo>
          </mrow>
          <mo>+</mo>
          <mrow>
            <mrow>
              <mo>(</mo>
              <mi>Fij</mi>
              <mo>)</mo>
            </mrow>
            <mo>⁡</mo>
            <mrow>
              <mo>[</mo>
              <mtable>
                <mtr>
                  <mtd>
                    <mi>h1r</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h1g</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h1b</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h1c</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h1m</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h1y</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h2ry</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h2rm</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h2gy</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h2gc</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h2bm</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>h2bc</mi>
                  </mtd>
                </mtr>
                <mtr>
                  <mtd>
                    <mi>α</mi>
                  </mtd>
                </mtr>
              </mtable>
              <mo>]</mo>
            </mrow>
          </mrow>
        </mrow>
      </mrow>
    </mtd>
    <mtd>
      <mrow>
        <mo>(</mo>
        <mn>6</mn>
        <mo>)</mo>
      </mrow>
    </mtd>
  </mtr>
</mtable>
</math>
</maths>
</p>
<p id="p-0123" num="0122">Here, for (Fij), i=1 to 3, j=1 to 13,
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>r=</i>min(<i>m, y</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>g=</i>min(<i>y, c</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>b=</i>min(<i>c, m</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>c=</i>min(<i>g, b</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>m=</i>min(<i>b, r</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>y=</i>min(<i>r, g</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>2<i>ry=</i>min(<i>aq</i>1<i>×h</i>1<i>y, ap</i>1<i>×h</i>1<i>r</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>2<i>rm=</i>min(<i>aq</i>2×<i>h</i>1<i>m, ap</i>2×<i>h</i>1<i>r</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>2<i>gy=</i>min(<i>aq</i>3×<i>h</i>1<i>y, ap</i>3×<i>h</i>1<i>g</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>2<i>gc=</i>min(<i>aq</i>4×<i>h</i>1<i>c, ap</i>4×<i>h</i>1<i>g</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>2<i>bm=</i>min(<i>aq</i>5×<i>h</i>1<i>m, ap</i>5×<i>h</i>1<i>b</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>2<i>bc=</i>min(<i>aq</i>6×<i>h</i>1<i>c, ap</i>6×<i>h</i>1<i>b</i>)<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
where aq<b>1</b> to aq<b>6</b>, and ap<b>1</b> to ap<b>6</b> are calculation coefficients generated by the calculation coefficient generator <b>16</b> shown in <figref idref="DRAWINGS">FIG. 18</figref>.
</p>
<p id="p-0124" num="0123">The difference in the number of arithmetic terms between the equation (5) and the equation (6) is due to the fact that the equation (5) represents the method of calculation for each pixel, excluding the arithmetic terms having a value zero, while the equation (6) represents a general formula for the entire set of pixels.</p>
<p id="p-0125" num="0124">That is, the number of polynomial data (the first arithmetic terms, and the second arithmetic terms) can be reduced from “thirteen” in the equation (6) to “four,” and this reduction is achieved by utilizing the nature of the hue data.</p>
<p id="p-0126" num="0125">The combination of the effective data is altered depending on the image data of the pixel in question, and for the entire image data containing all the colors, all polynomial data will be effective.</p>
<p id="p-0127" num="0126"><figref idref="DRAWINGS">FIG. 22A</figref> to <figref idref="DRAWINGS">FIG. 22F</figref> schematically illustrate the relationship between the six hues and the hue data y, m, c, r, g, b. Each hue data relates to three hues.</p>
<p id="p-0128" num="0127">The equation (6) contains six first arithmetic terms each of which is effective for just one hue. The first arithmetic terms are:
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>r=</i>min(<i>y, m</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>y=</i>min(<i>r, g</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>g=</i>min(<i>c, y</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>c=</i>min(<i>g, b</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>b=</i>min(<i>m, c</i>),<?in-line-formulae description="In-line Formulae" end="tail"?>
<br/>
<?in-line-formulae description="In-line Formulae" end="lead"?><i>h</i>1<i>m=</i>min(<i>b, r</i>).<?in-line-formulae description="In-line Formulae" end="tail"?>
</p>
<p id="p-0129" num="0128"><figref idref="DRAWINGS">FIG. 23A</figref> to <figref idref="DRAWINGS">FIG. 23F</figref> schematically illustrate the relationship between the six hues and the first arithmetic terms h<b>1</b>r, h<b>1</b>y, h<b>1</b>g, h<b>1</b>c, h<b>1</b>b, h<b>1</b>m. Each of the first arithmetic terms relates to just one specific hue. For instance, assuming that W is a constant, for red, r=W, and g=b=0, so that y=m=W, c=0.</p>
<p id="p-0130" num="0129">Accordingly, h<b>1</b>r=min(y, m)=W, and other five first arithmetic terms are all zero. That is, for red, h<b>1</b>r=min(y, m) is the only effective first arithmetic term. Similarly, for green, h<b>1</b>g=min(c, y) is the only effective first arithmetic term; for blue, h<b>1</b>b=min(m, c) is the only effective first arithmetic term; for cyan, h<b>1</b>c=min(g, b) is the only effective first arithmetic term; for magenta, h<b>1</b>m=min(b, r) is the only effective first arithmetic term; and for yellow, h<b>1</b>y=min(r, g) is the only effective first arithmetic term. This also means that h<b>1</b>r=min(y, m) is effective just for red, and h<b>1</b>g=min(c, y), h<b>1</b>b=min(m, c), h<b>1</b>c=min(g, b), h<b>1</b>m=min(b, r), and h<b>1</b>y=min(r, g) are respectively effective just for green, blue, cyan, magenta, and yellow.</p>
<p id="p-0131" num="0130"><figref idref="DRAWINGS">FIG. 24A</figref> to <figref idref="DRAWINGS">FIG. 24F</figref> schematically illustrate the relationship between the six hues and the second arithmetic terms h<b>2</b>ry=min(h<b>1</b>y, h<b>1</b>r), h<b>2</b>gy=min(h<b>1</b>y, h<b>1</b>g), h<b>2</b>gc=min(h<b>1</b>c, h<b>1</b>g), h<b>2</b>bc=min(h<b>1</b>c, h<b>1</b>b), h<b>2</b>bm=min (h<b>1</b>m, h<b>1</b>b), h<b>2</b>rm=min (h<b>1</b>m, h<b>1</b>r), with the calculation coefficients aq<b>1</b> to aq<b>6</b> and ap<b>1</b> to ap<b>6</b> inh<b>2</b>ry=min(aq<b>1</b>×h<b>1</b>y, ap<b>1</b>×h<b>1</b>r), h<b>2</b>gy=min(aq<b>3</b>×h<b>1</b>y, ap<b>3</b>×h<b>1</b>g) h<b>2</b>gc=min(aq<b>4</b>×h<b>1</b>c, ap<b>4</b>×h<b>1</b>g), h<b>2</b>bc=min(aq<b>6</b>×h<b>1</b>c, ap<b>6</b>×h<b>1</b>b), h<b>2</b>bm=min(aq<b>5</b>×h<b>1</b>m, ap<b>5</b>×h<b>1</b>b), h<b>2</b>rm=min(aq<b>2</b>×h<b>1</b>m, ap<b>2</b>×h<b>1</b>r) in the equation (6) being assumed to be “1.”</p>
<p id="p-0132" num="0131">It is seen from each of <figref idref="DRAWINGS">FIG. 24A</figref> to <figref idref="DRAWINGS">FIG. 24F</figref>, that each of the second arithmetic terms relates to change in an intermediate region in an inter-hue zone between adjacent ones of the six hues red, yellow, green, cyan, blue, and magenta, i.e., in an intermediate region in one of the six inter-hue zones red-yellow, yellow-green, green-cyan, cyan-blue, blue-magenta, and magenta-red. That is, for red-yellow, b=c=0, so that five terms other than h<b>2</b>ry=min(h<b>1</b>y, h<b>1</b>r)=min(min(r, g), min(y, m)) are all zero.</p>
<p id="p-0133" num="0132">Accordingly, h<b>2</b>ry is only the effective second arithmetic term. Similarly, for yellow-green, h<b>2</b>gy is the only effective second arithmetic term; for green-cyan, h<b>2</b>gc is the only effective second arithmetic term; for cyan-blue, h<b>2</b>bc is the only effective second arithmetic term; for blue-magenta, h<b>2</b>bm is the only effective second arithmetic term; and for magenta-red, h<b>2</b>rm is the only effective second arithmetic term. This also means that h<b>2</b>ry is effective just for red-yellow, and h<b>2</b>gy, h<b>2</b>gc, h<b>2</b>bc, h<b>2</b>bm, and h<b>2</b>rm are respectively effective for yellow-green, green-cyan, cyan-blue, blue-magenta, and magenta-red.</p>
<p id="p-0134" num="0133"><figref idref="DRAWINGS">FIG. 25A</figref> to <figref idref="DRAWINGS">FIG. 25F</figref> schematically illustrate the relationship between the six hues and the second arithmetic terms, with the calculation coefficients aq<b>1</b> to aq<b>6</b>, and ap<b>1</b> to ap<b>6</b> in the hry, hrm, hgy, hgc, hbm, and hbc in the equation (6) being varied. The broken lines a<b>1</b> to a<b>6</b> in the drawing show the characteristics for the cases where aq<b>1</b> to aq<b>6</b> are greater than ap<b>1</b> to ap<b>6</b>, while the broken lines b<b>1</b> to b<b>6</b> shows the characteristics for the cases where ap<b>1</b> to ap<b>6</b> are greater than aq<b>1</b> to aq<b>6</b>.</p>
<p id="p-0135" num="0134">For example, for red-yellow, h<b>2</b>ry=min(aq<b>1</b>*h<b>1</b>y, ap<b>1</b>*h<b>1</b>r) is the only effective second arithmetic term as mentioned above, and if the ratio between aq<b>1</b> and ap<b>1</b> is 2:1, the resultant arithmetic term has its peak value closer to red, as shown by the broken lines a<b>1</b> in <figref idref="DRAWINGS">FIG. 25A</figref>, and is therefore effective for a region closer to red, within the inter-hue zone red-yellow. If, on the other hand, the ratio between aq<b>1</b> and ap<b>1</b> is 1:2, the arithmetic term has its peak value closer to yellow as shown by the broken lines b<b>1</b> in <figref idref="DRAWINGS">FIG. 25A</figref>, and is therefore effective for a region closer to yellow, within the inter-hue zone red-yellow. Similarly, the region for which the arithmetic term is effective within each inter-hue zone can be shifted by varying
<ul id="ul0001" list-style="none">
    <li id="ul0001-0001" num="0135">aq<b>3</b>, ap<b>3</b> in h<b>2</b>gy for yellow-green,</li>
    <li id="ul0001-0002" num="0136">aq<b>4</b>, ap<b>4</b> in h<b>2</b>gc for green-cyan;</li>
    <li id="ul0001-0003" num="0137">aq<b>6</b>, ap<b>6</b> in h<b>2</b>bc for cyan-blue;</li>
    <li id="ul0001-0004" num="0138">aq<b>5</b>, ap<b>5</b> in h<b>2</b>bm for blue-magenta; and</li>
    <li id="ul0001-0005" num="0139">aq<b>2</b>, ap<b>2</b> in h<b>2</b>rm for magenta-red.</li>
</ul>
</p>
<p id="p-0136" num="0140"><figref idref="DRAWINGS">FIG. 26A</figref> and <figref idref="DRAWINGS">FIG. 26B</figref> show the relationship between the six hues and inter-hue zones, and effective arithmetic terms. By varying the coefficients for the arithmetic terms effective for the hue or a region in the inter-hue zone which it is desired to adjust by means of the coefficient generator <b>12</b>, only the hue in question can be adjusted, and the degree in the change in the inter-hue zones can be corrected, and the degree in change in the inter-hue zone can be adjusted. Moreover, by varying the coefficients at the calculation coefficient generator <b>16</b> in the polynomial calculator <b>10</b>, it is possible to vary the region within the inter-hue zone, at which the arithmetic term is effective without affecting other hues.</p>
<p id="p-0137" num="0141">As has been described, when the color converter of this embodiment is used, it is possible to independently correct the six hues of red, green, blue, yellow, magenta, cyan, and the degree in change in the six inter-hue zones, by varying the coefficients for the first arithmetic term relating to a specific hue, or for the second arithmetic term relating to a specific inter-hue zone. Accordingly, the conversion characteristics can be varied flexibly.</p>
<p id="p-0138" num="0142">The above described Embodiment 4 has been described for the case where processing is implemented by hardware. But similar functions and effects are obtained by means of software.</p>
<?DETDESC description="Detailed Description" end="tail"?>
</description>
<us-math idrefs="MATH-US-00001" nb-file="US07298893-20071120-M00001.NB">
<img id="EMI-M00001" he="11.26mm" wi="76.20mm" file="US07298893-20071120-M00001.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00002" nb-file="US07298893-20071120-M00002.NB">
<img id="EMI-M00002" he="11.26mm" wi="76.20mm" file="US07298893-20071120-M00002.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00003" nb-file="US07298893-20071120-M00003.NB">
<img id="EMI-M00003" he="11.26mm" wi="76.20mm" file="US07298893-20071120-M00003.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00004" nb-file="US07298893-20071120-M00004.NB">
<img id="EMI-M00004" he="11.26mm" wi="76.20mm" file="US07298893-20071120-M00004.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00005" nb-file="US07298893-20071120-M00005.NB">
<img id="EMI-M00005" he="11.26mm" wi="76.20mm" file="US07298893-20071120-M00005.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00006" nb-file="US07298893-20071120-M00006.NB">
<img id="EMI-M00006" he="11.26mm" wi="76.20mm" file="US07298893-20071120-M00006.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00007" nb-file="US07298893-20071120-M00007.NB">
<img id="EMI-M00007" he="15.16mm" wi="76.20mm" file="US07298893-20071120-M00007.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-math idrefs="MATH-US-00008" nb-file="US07298893-20071120-M00008.NB">
<img id="EMI-M00008" he="50.12mm" wi="76.20mm" file="US07298893-20071120-M00008.TIF" alt="embedded image " img-content="math" img-format="tif"/>
</us-math>
<us-claim-statement>What is claimed is:</us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text>1. An image processing device receiving first image data including a plurality of color data and constituting image information for each pixel, and calculating and outputting second image data comprising a plurality of color data, comprising:
<claim-text>a color converter for performing color conversion on the first image data; and</claim-text>
<claim-text>a dither processor for applying dither processing to the image data obtained by the color conversion at the color converter, to obtain the second image data,</claim-text>
<claim-text>wherein the dither processor includes:
<claim-text>a dither coefficient generator for generating dither coefficients corresponding to the positions of the respective pixels of the first image data; and</claim-text>
<claim-text>a dither coefficient adder for adding said dither coefficients to the image data obtained by the color converter.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00002" num="00002">
<claim-text>2. The image processing device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said dither coefficient generator varies the dither coefficients for every frame of the image.</claim-text>
</claim>
<claim id="CLM-00003" num="00003">
<claim-text>3. The image processing device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising:
<claim-text>a tone converter for performing tone conversion on the image data obtained by the color conversion at the color converter, wherein</claim-text>
<claim-text>said dither processor applies the dither processing to the image data obtained by the tone conversion at the tone converter.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00004" num="00004">
<claim-text>4. The image processing device as set forth in <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein said dither processor comprises:
<claim-text>a dither coefficient generator for generating dither coefficients corresponding to positions of the respective pixels of the first image data; and</claim-text>
<claim-text>a dither coefficient adder for adding said dither coefficients to the image data obtained by the tone conversion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00005" num="00005">
<claim-text>5. The image processing device as set forth in <claim-ref idref="CLM-00004">claim 4</claim-ref>, wherein said dither coefficient generator varies the dither coefficients for every frame of the image.</claim-text>
</claim>
<claim id="CLM-00006" num="00006">
<claim-text>6. The image processing device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said color converter comprises:
<claim-text>a coefficient generator for generating predetermined matrix coefficients;</claim-text>
<claim-text>an arithmetic term calculator for calculating a plurality of arithmetic terms, each of which is effective for only a specific hue among a plurality of hues; and</claim-text>
<claim-text>a matrix calculator for performing matrix calculation using the matrix coefficients and said plurality of arithmetic terms to produce color-converted image data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00007" num="00007">
<claim-text>7. The image processing device as set forth in <claim-ref idref="CLM-00006">claim 6</claim-ref>, wherein said plurality of hues include six hues of red, green, blue, cyan, magenta, and yellow.</claim-text>
</claim>
<claim id="CLM-00008" num="00008">
<claim-text>8. The image processing device as set forth in <claim-ref idref="CLM-00001">claim 1</claim-ref>, wherein said color converter comprises:
<claim-text>a coefficient generator for generating predetermined matrix coefficients;</claim-text>
<claim-text>an arithmetic term calculator for calculating a plurality of arithmetic terms, each of which is effective for only a region between specific hues among a plurality of hues; and</claim-text>
<claim-text>a matrix calculator for performing matrix calculation using the matrix coefficients and said plurality of arithmetic terms to produce color-converted image data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00009" num="00009">
<claim-text>9. The image processing device as set forth in <claim-ref idref="CLM-00008">claim 8</claim-ref>, wherein said plurality of hues include six hues of red, green, blue, cyan, magenta, and yellow.</claim-text>
</claim>
<claim id="CLM-00010" num="00010">
<claim-text>10. An image processing method receiving first image data consisting of a plurality of color data and constituting image information for each pixel, and calculating and outputting second image data comprising a plurality of color data, comprising:
<claim-text>a color conversion step of performing color conversion on the first image data; and</claim-text>
<claim-text>a dither processing step of applying dither processing to the image data obtained by the color conversion at the color conversion step, to obtain the second image data,</claim-text>
<claim-text>wherein the dither processing step includes,</claim-text>
<claim-text>a dither coefficient generating step of generating dither coefficients corresponding to the</claim-text>
<claim-text>positions of the respective pixels of the first image data; and</claim-text>
<claim-text>a dither coefficient adding step of adding said dither coefficients to the image data</claim-text>
<claim-text>obtained by the color conversion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00011" num="00011">
<claim-text>11. The image processing method as set forth in <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising the step of varying the dither coefficients for every frame of the image.</claim-text>
</claim>
<claim id="CLM-00012" num="00012">
<claim-text>12. The image processing method asset forth in <claim-ref idref="CLM-00010">claim 10</claim-ref>, further comprising:
<claim-text>a tone converting step of performing tone conversion on the image data obtained by the color conversion at the color conversion step, wherein
<claim-text>said dither processing step applies the dither processing to the image data obtained by the tone conversion at the tone converting step.</claim-text>
</claim-text>
</claim-text>
</claim>
<claim id="CLM-00013" num="00013">
<claim-text>13. The image processing method asset forth in <claim-ref idref="CLM-00012">claim 12</claim-ref>, wherein said dither processing step comprises:
<claim-text>a dither coefficient generating step of generating dither coefficients corresponding to positions of the respective pixels of the first image data; and</claim-text>
<claim-text>a dither coefficient adding step of adding said dither coefficients to the image data obtained by the tone conversion.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00014" num="00014">
<claim-text>14. The image processing method asset forth in <claim-ref idref="CLM-00013">claim 13</claim-ref>, further comprising the step of varying the dither coefficients for every frame of the image.</claim-text>
</claim>
<claim id="CLM-00015" num="00015">
<claim-text>15. The image processing method asset forth in <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein said color conversion step comprises:
<claim-text>a coefficient generating step of generating predetermined matrix coefficients;</claim-text>
<claim-text>an arithmetic term calculating step of calculating a plurality of arithmetic terms, each of which is effective for only a specific hue among a plurality of hues; and</claim-text>
<claim-text>a matrix calculation step of performing a matrix calculation using the matrix coefficients and the plurality of arithmetic terms each of which is effective for only a specific hue to produce color-converted image data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00016" num="00016">
<claim-text>16. The image processing method as set forth in <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein said plurality of hues include six hues of red, green, blue, cyan, magenta, and yellow.</claim-text>
</claim>
<claim id="CLM-00017" num="00017">
<claim-text>17. The image processing method asset forth in <claim-ref idref="CLM-00010">claim 10</claim-ref>, wherein said color conversion step comprises:
<claim-text>a coefficient generating step of generating predetermined matrix coefficients;</claim-text>
<claim-text>an arithmetic term calculating step of calculating a plurality of arithmetic terms which is effective for only a region between specific hues among a plurality of hues; and</claim-text>
<claim-text>a matrix calculation step of performing matrix calculation using the matrix coefficients and the plurality of arithmetic terms each of which is effective for only the region between said specific hues to produce color-converted image data.</claim-text>
</claim-text>
</claim>
<claim id="CLM-00018" num="00018">
<claim-text>18. The image processing method as set forth in <claim-ref idref="CLM-00017">claim 17</claim-ref>, wherein said plurality of hues include six hues of red, green, blue, cyan, magenta, and yellow.</claim-text>
</claim>
</claims>
</us-patent-grant>
